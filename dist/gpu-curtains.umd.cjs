(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.window = global.window || {}));
})(this, (function (exports) { 'use strict';

  const generateUUID = () => {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) => {
      const r = Math.random() * 16 | 0, v = c === "x" ? r : r & 3 | 8;
      return v.toString(16).toUpperCase();
    });
  };
  const toCamelCase = (string) => {
    return string.replace(/(?:^\w|[A-Z]|\b\w)/g, (ltr, idx) => idx === 0 ? ltr.toLowerCase() : ltr.toUpperCase()).replace(/\s+/g, "");
  };
  const toKebabCase = (string) => {
    const camelCase = toCamelCase(string);
    return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);
  };
  let warningThrown = 0;
  const throwWarning = (warning) => {
    if (warningThrown > 100) {
      return;
    } else if (warningThrown === 100) {
      console.warn("GPUCurtains: too many warnings thrown, stop logging.");
    } else {
      console.warn(warning);
    }
    warningThrown++;
  };
  const throwError = (error) => {
    throw new Error(error);
  };

  const formatRendererError = (renderer, rendererType = "GPURenderer", type) => {
    const error = type ? `Unable to create ${type} because the ${rendererType} is not defined: ${renderer}` : `The ${rendererType} is not defined: ${renderer}`;
    throwError(error);
  };
  const isRenderer = (renderer, type) => {
    const isRenderer2 = renderer && (renderer.type === "GPURenderer" || renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer");
    if (!isRenderer2) {
      formatRendererError(renderer, "GPURenderer", type);
    }
    return isRenderer2;
  };
  const isCameraRenderer = (renderer, type) => {
    const isCameraRenderer2 = renderer && (renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer");
    if (!isCameraRenderer2) {
      formatRendererError(renderer, "GPUCameraRenderer", type);
    }
    return isCameraRenderer2;
  };
  const isCurtainsRenderer = (renderer, type) => {
    const isCurtainsRenderer2 = renderer && renderer.type === "GPUCurtainsRenderer";
    if (!isCurtainsRenderer2) {
      formatRendererError(renderer, "GPUCurtainsRenderer", type);
    }
    return isCurtainsRenderer2;
  };
  const generateMips = /* @__PURE__ */ (() => {
    let sampler;
    let module;
    const pipelineByFormat = {};
    return function generateMips2(device, texture) {
      if (!module) {
        module = device.createShaderModule({
          label: "textured quad shaders for mip level generation",
          code: `
            struct VSOutput {
              @builtin(position) position: vec4f,
              @location(0) texcoord: vec2f,
            };

            @vertex fn vs(
              @builtin(vertex_index) vertexIndex : u32
            ) -> VSOutput {
              var pos = array<vec2f, 6>(

                vec2f( 0.0,  0.0),  // center
                vec2f( 1.0,  0.0),  // right, center
                vec2f( 0.0,  1.0),  // center, top

                // 2st triangle
                vec2f( 0.0,  1.0),  // center, top
                vec2f( 1.0,  0.0),  // right, center
                vec2f( 1.0,  1.0),  // right, top
              );

              var vsOutput: VSOutput;
              let xy = pos[vertexIndex];
              vsOutput.position = vec4f(xy * 2.0 - 1.0, 0.0, 1.0);
              vsOutput.texcoord = vec2f(xy.x, 1.0 - xy.y);
              return vsOutput;
            }

            @group(0) @binding(0) var ourSampler: sampler;
            @group(0) @binding(1) var ourTexture: texture_2d<f32>;

            @fragment fn fs(fsInput: VSOutput) -> @location(0) vec4f {
              return textureSample(ourTexture, ourSampler, fsInput.texcoord);
            }
          `
        });
        sampler = device.createSampler({
          minFilter: "linear"
        });
      }
      if (!pipelineByFormat[texture.format]) {
        pipelineByFormat[texture.format] = device.createRenderPipeline({
          label: "mip level generator pipeline",
          layout: "auto",
          vertex: {
            module,
            entryPoint: "vs"
          },
          fragment: {
            module,
            entryPoint: "fs",
            targets: [{ format: texture.format }]
          }
        });
      }
      const pipeline = pipelineByFormat[texture.format];
      const encoder = device.createCommandEncoder({
        label: "mip gen encoder"
      });
      let width = texture.width;
      let height = texture.height;
      let baseMipLevel = 0;
      while (width > 1 || height > 1) {
        width = Math.max(1, width / 2 | 0);
        height = Math.max(1, height / 2 | 0);
        const bindGroup = device.createBindGroup({
          layout: pipeline.getBindGroupLayout(0),
          entries: [
            { binding: 0, resource: sampler },
            {
              binding: 1,
              resource: texture.createView({
                baseMipLevel,
                mipLevelCount: 1
              })
            }
          ]
        });
        ++baseMipLevel;
        const renderPassDescriptor = {
          label: "our basic canvas renderPass",
          colorAttachments: [
            {
              view: texture.createView({ baseMipLevel, mipLevelCount: 1 }),
              loadOp: "clear",
              storeOp: "store"
            }
          ]
        };
        const pass = encoder.beginRenderPass(renderPassDescriptor);
        pass.setPipeline(pipeline);
        pass.setBindGroup(0, bindGroup);
        pass.draw(6);
        pass.end();
      }
      const commandBuffer = encoder.finish();
      device.queue.submit([commandBuffer]);
    };
  })();

  class Binding {
    /**
     * Binding constructor
     * @param parameters - {@link BindingParams | parameters} used to create our {@link Binding}
     */
    constructor({ label = "Uniform", name = "uniform", bindingType = "uniform", visibility }) {
      this.label = label;
      this.name = toCamelCase(name);
      this.bindingType = bindingType;
      this.visibility = visibility ? (() => {
        switch (visibility) {
          case "vertex":
            return GPUShaderStage.VERTEX;
          case "fragment":
            return GPUShaderStage.FRAGMENT;
          case "compute":
            return GPUShaderStage.COMPUTE;
          default:
            return GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
        }
      })() : GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
      this.options = {
        label,
        name,
        bindingType,
        visibility
      };
      this.shouldResetBindGroup = false;
      this.shouldResetBindGroupLayout = false;
    }
  }

  const getBufferLayout = (bufferType) => {
    const bufferLayouts = {
      i32: { numElements: 1, align: 4, size: 4, type: "i32", View: Int32Array },
      u32: { numElements: 1, align: 4, size: 4, type: "u32", View: Uint32Array },
      f32: { numElements: 1, align: 4, size: 4, type: "f32", View: Float32Array },
      f16: { numElements: 1, align: 2, size: 2, type: "u16", View: Uint16Array },
      vec2f: { numElements: 2, align: 8, size: 8, type: "f32", View: Float32Array },
      vec2i: { numElements: 2, align: 8, size: 8, type: "i32", View: Int32Array },
      vec2u: { numElements: 2, align: 8, size: 8, type: "u32", View: Uint32Array },
      vec2h: { numElements: 2, align: 4, size: 4, type: "u16", View: Uint16Array },
      vec3i: { numElements: 3, align: 16, size: 12, type: "i32", View: Int32Array },
      vec3u: { numElements: 3, align: 16, size: 12, type: "u32", View: Uint32Array },
      vec3f: { numElements: 3, align: 16, size: 12, type: "f32", View: Float32Array },
      vec3h: { numElements: 3, align: 8, size: 6, type: "u16", View: Uint16Array },
      vec4i: { numElements: 4, align: 16, size: 16, type: "i32", View: Int32Array },
      vec4u: { numElements: 4, align: 16, size: 16, type: "u32", View: Uint32Array },
      vec4f: { numElements: 4, align: 16, size: 16, type: "f32", View: Float32Array },
      vec4h: { numElements: 4, align: 8, size: 8, type: "u16", View: Uint16Array },
      // AlignOf(vecR)	SizeOf(array<vecR, C>)
      mat2x2f: { numElements: 4, align: 8, size: 16, type: "f32", View: Float32Array },
      mat2x2h: { numElements: 4, align: 4, size: 8, type: "u16", View: Uint16Array },
      mat3x2f: { numElements: 6, align: 8, size: 24, type: "f32", View: Float32Array },
      mat3x2h: { numElements: 6, align: 4, size: 12, type: "u16", View: Uint16Array },
      mat4x2f: { numElements: 8, align: 8, size: 32, type: "f32", View: Float32Array },
      mat4x2h: { numElements: 8, align: 4, size: 16, type: "u16", View: Uint16Array },
      mat2x3f: { numElements: 8, align: 16, size: 32, pad: [3, 1], type: "f32", View: Float32Array },
      mat2x3h: { numElements: 8, align: 8, size: 16, pad: [3, 1], type: "u16", View: Uint16Array },
      mat3x3f: { numElements: 12, align: 16, size: 48, pad: [3, 1], type: "f32", View: Float32Array },
      mat3x3h: { numElements: 12, align: 8, size: 24, pad: [3, 1], type: "u16", View: Uint16Array },
      mat4x3f: { numElements: 16, align: 16, size: 64, pad: [3, 1], type: "f32", View: Float32Array },
      mat4x3h: { numElements: 16, align: 8, size: 32, pad: [3, 1], type: "u16", View: Uint16Array },
      mat2x4f: { numElements: 8, align: 16, size: 32, type: "f32", View: Float32Array },
      mat2x4h: { numElements: 8, align: 8, size: 16, type: "u16", View: Uint16Array },
      mat3x4f: { numElements: 12, align: 16, size: 48, pad: [3, 1], type: "f32", View: Float32Array },
      mat3x4h: { numElements: 12, align: 8, size: 24, pad: [3, 1], type: "u16", View: Uint16Array },
      mat4x4f: { numElements: 16, align: 16, size: 64, type: "f32", View: Float32Array },
      mat4x4h: { numElements: 16, align: 8, size: 32, type: "u16", View: Uint16Array }
    };
    return bufferLayouts[bufferType];
  };
  const getBindingWGSLVarType = (binding) => {
    return (() => {
      switch (binding.bindingType) {
        case "storage":
          return `var<${binding.bindingType}, ${binding.options.access}>`;
        case "uniform":
        default:
          return "var<uniform>";
      }
    })();
  };
  const getTextureBindingWGSLVarType = (binding) => {
    if (binding.bindingType === "externalTexture") {
      return `var ${binding.name}: texture_external;`;
    }
    return binding.bindingType === "storageTexture" ? `var ${binding.name}: texture_storage_${binding.options.viewDimension}<${binding.options.format}, ${binding.options.access}>;` : binding.bindingType === "depthTexture" ? `var ${binding.name}: texture_depth${binding.options.multisampled ? "_multisampled" : ""}_${binding.options.viewDimension};` : `var ${binding.name}: texture${binding.options.multisampled ? "_multisampled" : ""}_${binding.options.viewDimension}<f32>;`;
  };
  const getBindGroupLayoutBindingType = (binding) => {
    if (binding.bindingType === "storage" && binding.options.access === "read_write") {
      return "storage";
    } else if (binding.bindingType === "storage") {
      return "read-only-storage";
    } else {
      return "uniform";
    }
  };
  const getBindGroupLayoutTextureBindingType = (binding) => {
    return (() => {
      switch (binding.bindingType) {
        case "externalTexture":
          return { externalTexture: {} };
        case "storageTexture":
          return {
            storageTexture: {
              format: binding.options.format,
              viewDimension: binding.options.viewDimension
            }
          };
        case "texture":
          return {
            texture: {
              multisampled: binding.options.multisampled,
              viewDimension: binding.options.viewDimension
            }
          };
        case "depthTexture":
          return {
            texture: {
              multisampled: binding.options.multisampled,
              format: binding.options.format,
              viewDimension: binding.options.viewDimension,
              sampleType: "depth"
            }
          };
        default:
          return null;
      }
    })();
  };

  class Vec2 {
    /**
     * Vec2 constructor
     * @param x - X component of our {@link Vec2}
     * @param y - Y component of our {@link Vec2}
     */
    constructor(x = 0, y = x) {
      this.type = "Vec2";
      this._x = x;
      this._y = y;
    }
    /**
     * Get the X component of the {@link Vec2}
     */
    get x() {
      return this._x;
    }
    /**
     * Set the X component of the {@link Vec2}
     * Can trigger {@link onChange} callback
     * @param value - X component to set
     */
    set x(value) {
      const changed = value !== this._x;
      this._x = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Y component of the {@link Vec2}
     */
    get y() {
      return this._y;
    }
    /**
     * Set the Y component of the {@link Vec2}
     * Can trigger {@link onChange} callback
     * @param value - Y component to set
     */
    set y(value) {
      const changed = value !== this._y;
      this._y = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Called when at least one component of the {@link Vec2} has changed
     * @param callback - callback to run when at least one component of the {@link Vec2} has changed
     * @returns - our {@link Vec2}
     */
    onChange(callback) {
      if (callback) {
        this._onChangeCallback = callback;
      }
      return this;
    }
    /**
     * Set the {@link Vec2} from values
     * @param x - new X component to set
     * @param y - new Y component to set
     * @returns - this {@link Vec2} after being set
     */
    set(x = 0, y = x) {
      this.x = x;
      this.y = y;
      return this;
    }
    /**
     * Add a {@link Vec2} to this {@link Vec2}
     * @param vector - {@link Vec2} to add
     * @returns - this {@link Vec2} after addition
     */
    add(vector = new Vec2()) {
      this.x += vector.x;
      this.y += vector.y;
      return this;
    }
    /**
     * Add a scalar to all the components of this {@link Vec2}
     * @param value - number to add
     * @returns - this {@link Vec2} after addition
     */
    addScalar(value = 0) {
      this.x += value;
      this.y += value;
      return this;
    }
    /**
     * Subtract a {@link Vec2} from this {@link Vec2}
     * @param vector - {@link Vec2} to subtract
     * @returns - this {@link Vec2} after subtraction
     */
    sub(vector = new Vec2()) {
      this.x -= vector.x;
      this.y -= vector.y;
      return this;
    }
    /**
     * Subtract a scalar to all the components of this {@link Vec2}
     * @param value - number to subtract
     * @returns - this {@link Vec2} after subtraction
     */
    subScalar(value = 0) {
      this.x -= value;
      this.y -= value;
      return this;
    }
    /**
     * Multiply a {@link Vec2} with this {@link Vec2}
     * @param vector - {@link Vec2} to multiply with
     * @returns - this {@link Vec2} after multiplication
     */
    multiply(vector = new Vec2(1)) {
      this.x *= vector.x;
      this.y *= vector.y;
      return this;
    }
    /**
     * Multiply all components of this {@link Vec2} with a scalar
     * @param value - number to multiply with
     * @returns - this {@link Vec2} after multiplication
     */
    multiplyScalar(value = 1) {
      this.x *= value;
      this.y *= value;
      return this;
    }
    /**
     * Copy a {@link Vec2} into this {@link Vec2}
     * @param vector - {@link Vec2} to copy
     * @returns - this {@link Vec2} after copy
     */
    copy(vector = new Vec2()) {
      this.x = vector.x;
      this.y = vector.y;
      return this;
    }
    /**
     * Clone this {@link Vec2}
     * @returns - cloned {@link Vec2}
     */
    clone() {
      return new Vec2(this.x, this.y);
    }
    /**
     * Apply max values to this {@link Vec2} components
     * @param vector - {@link Vec2} representing max values
     * @returns - {@link Vec2} with max values applied
     */
    max(vector = new Vec2()) {
      this.x = Math.max(this.x, vector.x);
      this.y = Math.max(this.y, vector.y);
      return this;
    }
    /**
     * Apply min values to this {@link Vec2} components
     * @param vector - {@link Vec2} representing min values
     * @returns - {@link Vec2} with min values applied
     */
    min(vector = new Vec2()) {
      this.x = Math.min(this.x, vector.x);
      this.y = Math.min(this.y, vector.y);
      return this;
    }
    /**
     * Clamp this {@link Vec2} components by min and max {@link Vec2} vectors
     * @param min - minimum {@link Vec2} components to compare with
     * @param max - maximum {@link Vec2} components to compare with
     * @returns - clamped {@link Vec2}
     */
    clamp(min = new Vec2(), max = new Vec2()) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      return this;
    }
    /**
     * Check if 2 {@link Vec2} are equal
     * @param vector - {@link Vec2} to compare
     * @returns - whether the {@link Vec2} are equals or not
     */
    equals(vector = new Vec2()) {
      return this.x === vector.x && this.y === vector.y;
    }
    /**
     * Get the square length of this {@link Vec2}
     * @returns - square length of this {@link Vec2}
     */
    lengthSq() {
      return this.x * this.x + this.y * this.y;
    }
    /**
     * Get the length of this {@link Vec2}
     * @returns - length of this {@link Vec2}
     */
    length() {
      return Math.sqrt(this.lengthSq());
    }
    /**
     * Normalize this {@link Vec2}
     * @returns - normalized {@link Vec2}
     */
    normalize() {
      let len = this.x * this.x + this.y * this.y;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
      }
      this.x *= len;
      this.y *= len;
      return this;
    }
    /**
     * Calculate the dot product of 2 {@link Vec2}
     * @param vector - {@link Vec2} to use for dot product
     * @returns - dot product of the 2 {@link Vec2}
     */
    dot(vector = new Vec2()) {
      return this.x * vector.x + this.y * vector.y;
    }
    /**
     * Calculate the linear interpolation of this {@link Vec2} by given {@link Vec2} and alpha, where alpha is the percent distance along the line
     * @param vector - {@link Vec2} to interpolate towards
     * @param [alpha=1] - interpolation factor in the [0, 1] interval
     * @returns - this {@link Vec2} after linear interpolation
     */
    lerp(vector = new Vec2(), alpha = 1) {
      this.x += (vector.x - this.x) * alpha;
      this.y += (vector.y - this.y) * alpha;
      return this;
    }
  }

  class Quat {
    /**
     * Quat constructor
     * @param [elements] - initial array to use
     * @param [axisOrder='XYZ'] - axis order to use
     */
    constructor(elements = new Float32Array([0, 0, 0, 1]), axisOrder = "XYZ") {
      this.type = "Quat";
      this.elements = elements;
      this.axisOrder = axisOrder;
    }
    /**
     * Sets the {@link Quat} values from an array
     * @param array - an array of at least 4 elements
     * @returns - this {@link Quat} after being set
     */
    setFromArray(array = new Float32Array([0, 0, 0, 1])) {
      this.elements[0] = array[0];
      this.elements[1] = array[1];
      this.elements[2] = array[2];
      this.elements[3] = array[3];
      return this;
    }
    /**
     * Sets the {@link Quat} axis order
     * @param axisOrder - axis order to use
     * @returns - this {@link Quat} after axis order has been set
     */
    setAxisOrder(axisOrder = "XYZ") {
      axisOrder = axisOrder.toUpperCase();
      switch (axisOrder) {
        case "XYZ":
        case "YXZ":
        case "ZXY":
        case "ZYX":
        case "YZX":
        case "XZY":
          this.axisOrder = axisOrder;
          break;
        default:
          this.axisOrder = "XYZ";
      }
      return this;
    }
    /**
     * Copy a {@link Quat} into this {@link Quat}
     * @param quaternion - {@link Quat} to copy
     * @returns - this {@link Quat} after copy
     */
    copy(quaternion = new Quat()) {
      this.elements = quaternion.elements;
      this.axisOrder = quaternion.axisOrder;
      return this;
    }
    /**
     * Clone a {@link Quat}
     * @returns - cloned {@link Quat}
     */
    clone() {
      return new Quat().copy(this);
    }
    /**
     * Check if 2 {@link Quat} are equal
     * @param quaternion - {@link Quat} to check against
     * @returns - whether the {@link Quat} are equal or not
     */
    equals(quaternion = new Quat()) {
      return this.elements[0] === quaternion.elements[0] && this.elements[1] === quaternion.elements[1] && this.elements[2] === quaternion.elements[2] && this.elements[3] === quaternion.elements[3] && this.axisOrder === quaternion.axisOrder;
    }
    /**
     * Sets a rotation {@link Quat} using Euler angles {@link Vec3 | vector} and its axis order
     * @param vector - rotation {@link Vec3 | vector} to set our {@link Quat} from
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromVec3(vector = new Vec3()) {
      const ax = vector.x * 0.5;
      const ay = vector.y * 0.5;
      const az = vector.z * 0.5;
      const cosx = Math.cos(ax);
      const cosy = Math.cos(ay);
      const cosz = Math.cos(az);
      const sinx = Math.sin(ax);
      const siny = Math.sin(ay);
      const sinz = Math.sin(az);
      if (this.axisOrder === "XYZ") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "YXZ") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      } else if (this.axisOrder === "ZXY") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "ZYX") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      } else if (this.axisOrder === "YZX") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "XZY") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      }
      return this;
    }
    /**
     * Set a {@link Quat} from a rotation axis {@link Vec3 | vector} and an angle
     * @param axis - normalized {@link Vec3 | vector} around which to rotate
     * @param angle - angle (in radians) to rotate
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromAxisAngle(axis = new Vec3(), angle = 0) {
      const halfAngle = angle / 2, s = Math.sin(halfAngle);
      this.elements[0] = axis.x * s;
      this.elements[1] = axis.y * s;
      this.elements[2] = axis.z * s;
      this.elements[3] = Math.cos(halfAngle);
      return this;
    }
    /**
     * Set a {@link Quat} from a rotation {@link Mat4 | matrix}
     * @param matrix - rotation {@link Mat4 | matrix} to use
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromRotationMatrix(matrix) {
      const te = matrix.elements, m11 = te[0], m12 = te[4], m13 = te[8], m21 = te[1], m22 = te[5], m23 = te[9], m31 = te[2], m32 = te[6], m33 = te[10], trace = m11 + m22 + m33;
      if (trace > 0) {
        const s = 0.5 / Math.sqrt(trace + 1);
        this.elements[3] = 0.25 / s;
        this.elements[0] = (m32 - m23) * s;
        this.elements[1] = (m13 - m31) * s;
        this.elements[2] = (m21 - m12) * s;
      } else if (m11 > m22 && m11 > m33) {
        const s = 2 * Math.sqrt(1 + m11 - m22 - m33);
        this.elements[3] = (m32 - m23) / s;
        this.elements[0] = 0.25 * s;
        this.elements[1] = (m12 + m21) / s;
        this.elements[2] = (m13 + m31) / s;
      } else if (m22 > m33) {
        const s = 2 * Math.sqrt(1 + m22 - m11 - m33);
        this.elements[3] = (m13 - m31) / s;
        this.elements[0] = (m12 + m21) / s;
        this.elements[1] = 0.25 * s;
        this.elements[2] = (m23 + m32) / s;
      } else {
        const s = 2 * Math.sqrt(1 + m33 - m11 - m22);
        this.elements[3] = (m21 - m12) / s;
        this.elements[0] = (m13 + m31) / s;
        this.elements[1] = (m23 + m32) / s;
        this.elements[2] = 0.25 * s;
      }
      return this;
    }
  }

  class Mat4 {
    // prettier-ignore
    /**
     * Mat4 constructor
     * @param elements - initial array to use, default to identity matrix
     */
    constructor(elements = new Float32Array([
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ])) {
      this.type = "Mat4";
      this.elements = elements;
    }
    /***
     * Sets the matrix from 16 numbers
     *
     * @param n11 number
     * @param n12 number
     * @param n13 number
     * @param n14 number
     * @param n21 number
     * @param n22 number
     * @param n23 number
     * @param n24 number
     * @param n31 number
     * @param n32 number
     * @param n33 number
     * @param n34 number
     * @param n41 number
     * @param n42 number
     * @param n43 number
     * @param n44 number
     *
     * @returns - this {@link Mat4} after being set
     */
    set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {
      const te = this.elements;
      te[0] = n11;
      te[1] = n12;
      te[2] = n13;
      te[3] = n14;
      te[4] = n21;
      te[5] = n22;
      te[6] = n23;
      te[7] = n24;
      te[8] = n31;
      te[9] = n32;
      te[10] = n33;
      te[11] = n34;
      te[12] = n41;
      te[13] = n42;
      te[14] = n43;
      te[15] = n44;
      return this;
    }
    /**
     * Sets the {@link Mat4} to an identity matrix
     * @returns - this {@link Mat4} after being set
     */
    identity() {
      this.set(
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      );
      return this;
    }
    /**
     * Sets the {@link Mat4} values from an array
     * @param array - array to use
     * @returns - this {@link Mat4} after being set
     */
    // prettier-ignore
    setFromArray(array = new Float32Array([
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ])) {
      for (let i = 0; i < this.elements.length; i++) {
        this.elements[i] = array[i];
      }
      return this;
    }
    /**
     * Copy another {@link Mat4}
     * @param matrix
     * @returns - this {@link Mat4} after being set
     */
    copy(matrix = new Mat4()) {
      const array = matrix.elements;
      this.elements[0] = array[0];
      this.elements[1] = array[1];
      this.elements[2] = array[2];
      this.elements[3] = array[3];
      this.elements[4] = array[4];
      this.elements[5] = array[5];
      this.elements[6] = array[6];
      this.elements[7] = array[7];
      this.elements[8] = array[8];
      this.elements[9] = array[9];
      this.elements[10] = array[10];
      this.elements[11] = array[11];
      this.elements[12] = array[12];
      this.elements[13] = array[13];
      this.elements[14] = array[14];
      this.elements[15] = array[15];
      return this;
    }
    /**
     * Clone a {@link Mat4}
     * @returns - cloned {@link Mat4}
     */
    clone() {
      return new Mat4().copy(this);
    }
    /**
     * Multiply this {@link Mat4} with another {@link Mat4}
     * @param matrix - {@link Mat4} to multiply with
     * @returns - this {@link Mat4} after multiplication
     */
    multiply(matrix = new Mat4()) {
      return this.multiplyMatrices(this, matrix);
    }
    /**
     * Multiply another {@link Mat4} with this {@link Mat4}
     * @param matrix - {@link Mat4} to multiply with
     * @returns - this {@link Mat4} after multiplication
     */
    premultiply(matrix = new Mat4()) {
      return this.multiplyMatrices(matrix, this);
    }
    /**
     * Multiply two {@link Mat4}
     * @param a - first {@link Mat4}
     * @param b - second {@link Mat4}
     * @returns - {@link Mat4} resulting from the multiplication
     */
    multiplyMatrices(a = new Mat4(), b = new Mat4()) {
      const ae = a.elements;
      const be = b.elements;
      const te = this.elements;
      const a11 = ae[0], a12 = ae[4], a13 = ae[8], a14 = ae[12];
      const a21 = ae[1], a22 = ae[5], a23 = ae[9], a24 = ae[13];
      const a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];
      const a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;
      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;
      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;
      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;
      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;
      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;
      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;
      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;
      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;
      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;
      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;
      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;
      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;
      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;
      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;
      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;
      return this;
    }
    /**
     * {@link premultiply} this {@link Mat4} by a translate matrix (i.e. translateMatrix = new Mat4().translate(vector))
     * @param vector - translation {@link Vec3 | vector} to use
     * @returns - this {@link Mat4} after the premultiply translate operation
     */
    premultiplyTranslate(vector = new Vec3()) {
      const a11 = 1;
      const a22 = 1;
      const a33 = 1;
      const a44 = 1;
      const a14 = vector.x;
      const a24 = vector.y;
      const a34 = vector.z;
      const be = this.elements;
      const te = this.elements;
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11 + a14 * b41;
      te[4] = a11 * b12 + a14 * b42;
      te[8] = a11 * b13 + a14 * b43;
      te[12] = a11 * b14 + a14 * b44;
      te[1] = a22 * b21 + a24 * b41;
      te[5] = a22 * b22 + a24 * b42;
      te[9] = a22 * b23 + a24 * b43;
      te[13] = a22 * b24 + a24 * b44;
      te[2] = a33 * b31 + a34 * b41;
      te[6] = a33 * b32 + a34 * b42;
      te[10] = a33 * b33 + a34 * b43;
      te[14] = a33 * b34 + a34 * b44;
      te[3] = a44 * b41;
      te[7] = a44 * b42;
      te[11] = a44 * b43;
      te[15] = a44 * b44;
      return this;
    }
    /**
     * {@link premultiply} this {@link Mat4} by a scale matrix (i.e. translateMatrix = new Mat4().scale(vector))
     * @param vector - scale {@link Vec3 | vector} to use
     * @returns - this {@link Mat4} after the premultiply scale operation
     */
    premultiplyScale(vector = new Vec3()) {
      const be = this.elements;
      const te = this.elements;
      const a11 = vector.x;
      const a22 = vector.y;
      const a33 = vector.z;
      const a44 = 1;
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11;
      te[4] = a11 * b12;
      te[8] = a11 * b13;
      te[12] = a11 * b14;
      te[1] = a22 * b21;
      te[5] = a22 * b22;
      te[9] = a22 * b23;
      te[13] = a22 * b24;
      te[2] = a33 * b31;
      te[6] = a33 * b32;
      te[10] = a33 * b33;
      te[14] = a33 * b34;
      te[3] = a44 * b41;
      te[7] = a44 * b42;
      te[11] = a44 * b43;
      te[15] = a44 * b44;
      return this;
    }
    /**
     * Get the {@link Mat4} inverse
     * @returns - the {@link Mat4} inverted
     */
    invert() {
      const te = this.elements, n11 = te[0], n21 = te[1], n31 = te[2], n41 = te[3], n12 = te[4], n22 = te[5], n32 = te[6], n42 = te[7], n13 = te[8], n23 = te[9], n33 = te[10], n43 = te[11], n14 = te[12], n24 = te[13], n34 = te[14], n44 = te[15], t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44, t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44, t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44, t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;
      const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;
      if (det === 0)
        return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
      const detInv = 1 / det;
      te[0] = t11 * detInv;
      te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;
      te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;
      te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;
      te[4] = t12 * detInv;
      te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;
      te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;
      te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;
      te[8] = t13 * detInv;
      te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;
      te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;
      te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;
      te[12] = t14 * detInv;
      te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;
      te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;
      te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;
      return this;
    }
    /**
     * Clone and invert the {@link Mat4}
     * @returns - inverted cloned {@link Mat4}
     */
    getInverse() {
      return this.clone().invert();
    }
    /**
     * Translate a {@link Mat4}
     * @param vector - translation {@link Vec3 | vector} to use
     * @returns - translated {@link Mat4}
     */
    translate(vector = new Vec3()) {
      const a = this.elements;
      a[12] = a[0] * vector.x + a[4] * vector.y + a[8] * vector.z + a[12];
      a[13] = a[1] * vector.x + a[5] * vector.y + a[9] * vector.z + a[13];
      a[14] = a[2] * vector.x + a[6] * vector.y + a[10] * vector.z + a[14];
      a[15] = a[3] * vector.x + a[7] * vector.y + a[11] * vector.z + a[15];
      return this;
    }
    /**
     * Scale a {@link Mat4}
     * @param vector - scale {@link Vec3 | vector} to use
     * @returns - scaled {@link Mat4}
     */
    scale(vector = new Vec3()) {
      const a = this.elements;
      a[0] *= vector.x;
      a[1] *= vector.x;
      a[2] *= vector.x;
      a[3] *= vector.x;
      a[4] *= vector.y;
      a[5] *= vector.y;
      a[6] *= vector.y;
      a[7] *= vector.y;
      a[8] *= vector.z;
      a[9] *= vector.z;
      a[10] *= vector.z;
      a[11] *= vector.z;
      return this;
    }
    /**
     * Rotate a {@link Mat4} from a {@link Quat | quaternion}
     * @param quaternion - {@link Quat | quaternion} to use
     * @returns - rotated {@link Mat4}
     */
    rotateFromQuaternion(quaternion = new Quat()) {
      const te = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x, y2 = y + y, z2 = z + z;
      const xx = x * x2, xy = x * y2, xz = x * z2;
      const yy = y * y2, yz = y * z2, zz = z * z2;
      const wx = w * x2, wy = w * y2, wz = w * z2;
      te[0] = 1 - (yy + zz);
      te[4] = xy - wz;
      te[8] = xz + wy;
      te[1] = xy + wz;
      te[5] = 1 - (xx + zz);
      te[9] = yz - wx;
      te[2] = xz - wy;
      te[6] = yz + wx;
      te[10] = 1 - (xx + yy);
      return this;
    }
    /**
     * Set this {@link Mat4} as a rotation matrix based on an eye, target and up {@link Vec3 | vectors}
     * @param eye - {@link Vec3 | position vector} of the object that should be rotated
     * @param target - {@link Vec3 | target vector} to look at
     * @param up - up {@link Vec3 | vector}
     * @returns - rotated {@link Mat4}
     */
    lookAt(eye = new Vec3(), target = new Vec3(), up = new Vec3(0, 1, 0)) {
      const te = this.elements;
      const _z = eye.clone().sub(target);
      if (_z.lengthSq() === 0) {
        _z.z = 1;
      }
      _z.normalize();
      const _x = new Vec3().crossVectors(up, _z);
      if (_x.lengthSq() === 0) {
        if (Math.abs(up.z) === 1) {
          _z.x += 1e-4;
        } else {
          _z.z += 1e-4;
        }
        _z.normalize();
        _x.crossVectors(up, _z);
      }
      _x.normalize();
      const _y = new Vec3().crossVectors(_z, _x);
      te[0] = _x.x;
      te[4] = _y.x;
      te[8] = _z.x;
      te[1] = _x.y;
      te[5] = _y.y;
      te[9] = _z.y;
      te[2] = _x.z;
      te[6] = _y.z;
      te[10] = _z.z;
      return this;
    }
    /**
     * Creates a {@link Mat4} from a {@link Quat | quaternion} rotation, {@link Vec3 | vector} translation and {@link Vec3 | vector} scale
     * Equivalent for applying translation, rotation and scale matrices but much faster
     * Source code from: http://glmatrix.net/docs/mat4.js.html
     *
     * @param translation - translation {@link Vec3 | vector} to use
     * @param quaternion - {@link Quat | quaternion} to use
     * @param scale - translation {@link Vec3 | vector} to use
     * @returns - transformed {@link Mat4}
     */
    compose(translation = new Vec3(), quaternion = new Quat(), scale = new Vec3(1)) {
      const matrix = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x;
      const y2 = y + y;
      const z2 = z + z;
      const xx = x * x2;
      const xy = x * y2;
      const xz = x * z2;
      const yy = y * y2;
      const yz = y * z2;
      const zz = z * z2;
      const wx = w * x2;
      const wy = w * y2;
      const wz = w * z2;
      const sx = scale.x;
      const sy = scale.y;
      const sz = scale.z;
      matrix[0] = (1 - (yy + zz)) * sx;
      matrix[1] = (xy + wz) * sx;
      matrix[2] = (xz - wy) * sx;
      matrix[3] = 0;
      matrix[4] = (xy - wz) * sy;
      matrix[5] = (1 - (xx + zz)) * sy;
      matrix[6] = (yz + wx) * sy;
      matrix[7] = 0;
      matrix[8] = (xz + wy) * sz;
      matrix[9] = (yz - wx) * sz;
      matrix[10] = (1 - (xx + yy)) * sz;
      matrix[11] = 0;
      matrix[12] = translation.x;
      matrix[13] = translation.y;
      matrix[14] = translation.z;
      matrix[15] = 1;
      return this;
    }
    /**
     * Creates a {@link Mat4} from a {@link Quat | quaternion} rotation, {@link Vec3 | vector} translation and {@link Vec3 | vector} scale, rotating and scaling around the given {@link Vec3 | origin vector}
     * Equivalent for applying translation, rotation and scale matrices but much faster
     * Source code from: http://glmatrix.net/docs/mat4.js.html
     *
     * @param translation - translation {@link Vec3 | vector} to use
     * @param quaternion - {@link Quat | quaternion} to use
     * @param scale - translation {@link Vec3 | vector} to use
     * @param origin - origin {@link Vec3 | vector} around which to scale and rotate
     * @returns - transformed {@link Mat4}
     */
    composeFromOrigin(translation = new Vec3(), quaternion = new Quat(), scale = new Vec3(1), origin = new Vec3()) {
      const matrix = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x;
      const y2 = y + y;
      const z2 = z + z;
      const xx = x * x2;
      const xy = x * y2;
      const xz = x * z2;
      const yy = y * y2;
      const yz = y * z2;
      const zz = z * z2;
      const wx = w * x2;
      const wy = w * y2;
      const wz = w * z2;
      const sx = scale.x;
      const sy = scale.y;
      const sz = scale.z;
      const ox = origin.x;
      const oy = origin.y;
      const oz = origin.z;
      const out0 = (1 - (yy + zz)) * sx;
      const out1 = (xy + wz) * sx;
      const out2 = (xz - wy) * sx;
      const out4 = (xy - wz) * sy;
      const out5 = (1 - (xx + zz)) * sy;
      const out6 = (yz + wx) * sy;
      const out8 = (xz + wy) * sz;
      const out9 = (yz - wx) * sz;
      const out10 = (1 - (xx + yy)) * sz;
      matrix[0] = out0;
      matrix[1] = out1;
      matrix[2] = out2;
      matrix[3] = 0;
      matrix[4] = out4;
      matrix[5] = out5;
      matrix[6] = out6;
      matrix[7] = 0;
      matrix[8] = out8;
      matrix[9] = out9;
      matrix[10] = out10;
      matrix[11] = 0;
      matrix[12] = translation.x + ox - (out0 * ox + out4 * oy + out8 * oz);
      matrix[13] = translation.y + oy - (out1 * ox + out5 * oy + out9 * oz);
      matrix[14] = translation.z + oz - (out2 * ox + out6 * oy + out10 * oz);
      matrix[15] = 1;
      return this;
    }
    /**
     * Get the translation {@link Vec3} component of a {@link Mat4}
     * @param position - {@link Vec3} to set
     * @returns - translation {@link Vec3} component of this {@link Mat4}
     */
    getTranslation(position = new Vec3()) {
      return position.set(this.elements[12], this.elements[13], this.elements[14]);
    }
  }

  class Vec3 {
    /**
     * Vec3 constructor
     * @param x - X component of our {@link Vec3}
     * @param y - Y component of our {@link Vec3}
     * @param z - Z component of our {@link Vec3}
     */
    constructor(x = 0, y = x, z = x) {
      this.type = "Vec3";
      this._x = x;
      this._y = y;
      this._z = z;
    }
    /**
     * Get the X component of the {@link Vec3}
     */
    get x() {
      return this._x;
    }
    /**
     * Set the X component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - X component to set
     */
    set x(value) {
      const changed = value !== this._x;
      this._x = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Y component of the {@link Vec3}
     */
    get y() {
      return this._y;
    }
    /**
     * Set the Y component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - Y component to set
     */
    set y(value) {
      const changed = value !== this._y;
      this._y = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Z component of the {@link Vec3}
     */
    get z() {
      return this._z;
    }
    /**
     * Set the Z component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - Z component to set
     */
    set z(value) {
      const changed = value !== this._z;
      this._z = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Called when at least one component of the {@link Vec3} has changed
     * @param callback - callback to run when at least one component of the {@link Vec3} has changed
     * @returns - our {@link Vec3}
     */
    onChange(callback) {
      if (callback) {
        this._onChangeCallback = callback;
      }
      return this;
    }
    /**
     * Set the {@link Vec3} from values
     * @param x - new X component to set
     * @param y - new Y component to set
     * @param z - new Z component to set
     * @returns - this {@link Vec3} after being set
     */
    set(x = 0, y = x, z = x) {
      this.x = x;
      this.y = y;
      this.z = z;
      return this;
    }
    /**
     * Add a {@link Vec3} to this {@link Vec3}
     * @param vector - {@link Vec3} to add
     * @returns - this {@link Vec3} after addition
     */
    add(vector = new Vec3()) {
      this.x += vector.x;
      this.y += vector.y;
      this.z += vector.z;
      return this;
    }
    /**
     * Add a scalar to all the components of this {@link Vec3}
     * @param value - number to add
     * @returns - this {@link Vec3} after addition
     */
    addScalar(value = 0) {
      this.x += value;
      this.y += value;
      this.z += value;
      return this;
    }
    /**
     * Subtract a {@link Vec3} from this {@link Vec3}
     * @param vector - {@link Vec3} to subtract
     * @returns - this {@link Vec3} after subtraction
     */
    sub(vector = new Vec3()) {
      this.x -= vector.x;
      this.y -= vector.y;
      this.z -= vector.z;
      return this;
    }
    /**
     * Subtract a scalar to all the components of this {@link Vec3}
     * @param value - number to subtract
     * @returns - this {@link Vec3} after subtraction
     */
    subScalar(value = 0) {
      this.x -= value;
      this.y -= value;
      this.z -= value;
      return this;
    }
    /**
     * Multiply a {@link Vec3} with this {@link Vec3}
     * @param vector - {@link Vec3} to multiply with
     * @returns - this {@link Vec3} after multiplication
     */
    multiply(vector = new Vec3(1)) {
      this.x *= vector.x;
      this.y *= vector.y;
      this.z *= vector.z;
      return this;
    }
    /**
     * Multiply all components of this {@link Vec3} with a scalar
     * @param value - number to multiply with
     * @returns - this {@link Vec3} after multiplication
     */
    multiplyScalar(value = 1) {
      this.x *= value;
      this.y *= value;
      this.z *= value;
      return this;
    }
    /**
     * Copy a {@link Vec3} into this {@link Vec3}
     * @param vector - {@link Vec3} to copy
     * @returns - this {@link Vec3} after copy
     */
    copy(vector = new Vec3()) {
      this.x = vector.x;
      this.y = vector.y;
      this.z = vector.z;
      return this;
    }
    /**
     * Clone this {@link Vec3}
     * @returns - cloned {@link Vec3}
     */
    clone() {
      return new Vec3(this.x, this.y, this.z);
    }
    /**
     * Apply max values to this {@link Vec3} components
     * @param vector - {@link Vec3} representing max values
     * @returns - {@link Vec3} with max values applied
     */
    max(vector = new Vec3()) {
      this.x = Math.max(this.x, vector.x);
      this.y = Math.max(this.y, vector.y);
      this.z = Math.max(this.z, vector.z);
      return this;
    }
    /**
     * Apply min values to this {@link Vec3} components
     * @param vector - {@link Vec3} representing min values
     * @returns - {@link Vec3} with min values applied
     */
    min(vector = new Vec3()) {
      this.x = Math.min(this.x, vector.x);
      this.y = Math.min(this.y, vector.y);
      this.z = Math.min(this.z, vector.z);
      return this;
    }
    /**
     * Clamp this {@link Vec3} components by min and max {@link Vec3} vectors
     * @param min - minimum {@link Vec3} components to compare with
     * @param max - maximum {@link Vec3} components to compare with
     * @returns - clamped {@link Vec3}
     */
    clamp(min = new Vec3(), max = new Vec3()) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      this.z = Math.max(min.z, Math.min(max.z, this.z));
      return this;
    }
    /**
     * Check if 2 {@link Vec3} are equal
     * @param vector - {@link Vec3} to compare
     * @returns - whether the {@link Vec3} are equals or not
     */
    equals(vector = new Vec3()) {
      return this.x === vector.x && this.y === vector.y && this.z === vector.z;
    }
    /**
     * Get the square length of this {@link Vec3}
     * @returns - square length of this {@link Vec3}
     */
    lengthSq() {
      return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    /**
     * Get the length of this {@link Vec3}
     * @returns - length of this {@link Vec3}
     */
    length() {
      return Math.sqrt(this.lengthSq());
    }
    /**
     * Normalize this {@link Vec3}
     * @returns - normalized {@link Vec3}
     */
    normalize() {
      let len = this.lengthSq();
      if (len > 0) {
        len = 1 / Math.sqrt(len);
      }
      this.x *= len;
      this.y *= len;
      this.z *= len;
      return this;
    }
    /**
     * Calculate the dot product of 2 {@link Vec3}
     * @param vector - {@link Vec3} to use for dot product
     * @returns - dot product of the 2 {@link Vec3}
     */
    dot(vector = new Vec3()) {
      return this.x * vector.x + this.y * vector.y + this.z * vector.z;
    }
    /**
     * Get the cross product of this {@link Vec3} with another {@link Vec3}
     * @param vector - {@link Vec3} to use for cross product
     * @returns - this {@link Vec3} after cross product
     */
    cross(vector = new Vec3()) {
      return this.crossVectors(this, vector);
    }
    /**
     * Set this {@link Vec3} as the result of the cross product of two {@link Vec3}
     * @param a - first {@link Vec3} to use for cross product
     * @param b - second {@link Vec3} to use for cross product
     * @returns - this {@link Vec3} after cross product
     */
    crossVectors(a = new Vec3(), b = new Vec3()) {
      const ax = a.x, ay = a.y, az = a.z;
      const bx = b.x, by = b.y, bz = b.z;
      this.x = ay * bz - az * by;
      this.y = az * bx - ax * bz;
      this.z = ax * by - ay * bx;
      return this;
    }
    /**
     * Calculate the linear interpolation of this {@link Vec3} by given {@link Vec3} and alpha, where alpha is the percent distance along the line
     * @param vector - {@link Vec3} to interpolate towards
     * @param alpha - interpolation factor in the [0, 1] interval
     * @returns - this {@link Vec3} after linear interpolation
     */
    lerp(vector = new Vec3(), alpha = 1) {
      this.x += (vector.x - this.x) * alpha;
      this.y += (vector.y - this.y) * alpha;
      this.z += (vector.z - this.z) * alpha;
      return this;
    }
    /**
     * Apply a {@link Mat4 | matrix} to a {@link Vec3}
     * Useful to convert a position {@link Vec3} from plane local world to webgl space using projection view matrix for example
     * Source code from: http://glmatrix.net/docs/vec3.js.html
     * @param matrix - {@link Mat4 | matrix} to use
     * @returns - this {@link Vec3} after {@link Mat4 | matrix} application
     */
    applyMat4(matrix = new Mat4()) {
      const x = this._x, y = this._y, z = this._z;
      const mArray = matrix.elements;
      let w = mArray[3] * x + mArray[7] * y + mArray[11] * z + mArray[15];
      w = w || 1;
      this.x = (mArray[0] * x + mArray[4] * y + mArray[8] * z + mArray[12]) / w;
      this.y = (mArray[1] * x + mArray[5] * y + mArray[9] * z + mArray[13]) / w;
      this.z = (mArray[2] * x + mArray[6] * y + mArray[10] * z + mArray[14]) / w;
      return this;
    }
    /**
     * Apply a {@link Quat | quaternion} (rotation in 3D space) to this {@link Vec3}
     * @param quaternion - {@link Quat | quaternion} to use
     * @returns - this {@link Vec3} with the transformation applied
     */
    applyQuat(quaternion = new Quat()) {
      const x = this.x, y = this.y, z = this.z;
      const qx = quaternion.elements[0], qy = quaternion.elements[1], qz = quaternion.elements[2], qw = quaternion.elements[3];
      const ix = qw * x + qy * z - qz * y;
      const iy = qw * y + qz * x - qx * z;
      const iz = qw * z + qx * y - qy * x;
      const iw = -qx * x - qy * y - qz * z;
      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
      return this;
    }
    /**
     * Rotate a {@link Vec3} around and axis by a given angle
     * @param axis - normalized {@link Vec3} around which to rotate
     * @param angle - angle (in radians) to rotate
     * @param quaternion - optional {@link Quat | quaternion} to use for rotation computations
     * @returns - this {@link Vec3} with the rotation applied
     */
    applyAxisAngle(axis = new Vec3(), angle = 0, quaternion = new Quat()) {
      return this.applyQuat(quaternion.setFromAxisAngle(axis, angle));
    }
    /**
     * Project a 3D coordinate {@link Vec3} to a 2D coordinate {@link Vec3}
     * @param camera - {@link Camera} to use for projection
     * @returns - projected {@link Vec3}
     */
    project(camera) {
      this.applyMat4(camera.viewMatrix).applyMat4(camera.projectionMatrix);
      return this;
    }
    /**
     * Unproject a 2D coordinate {@link Vec3} to 3D coordinate {@link Vec3}
     * @param camera - {@link Camera} to use for projection
     * @returns - unprojected {@link Vec3}
     */
    unproject(camera) {
      this.applyMat4(camera.projectionMatrix.getInverse()).applyMat4(camera.modelMatrix);
      return this;
    }
  }

  const slotsPerRow = 4;
  const bytesPerSlot = 4;
  const bytesPerRow = slotsPerRow * bytesPerSlot;
  class BufferElement {
    /**
     * BufferElement constructor
     * @param parameters - {@link BufferElementParams | parameters} used to create our {@link BufferElement}
     */
    constructor({ name, key, type = "f32" }) {
      this.name = name;
      this.key = key;
      this.type = type;
      this.bufferLayout = getBufferLayout(this.type.replace("array", "").replace("<", "").replace(">", ""));
      this.alignment = {
        start: {
          row: 0,
          byte: 0
        },
        end: {
          row: 0,
          byte: 0
        }
      };
    }
    /**
     * Get the total number of rows used by this {@link BufferElement}
     * @readonly
     */
    get rowCount() {
      return this.alignment.end.row - this.alignment.start.row + 1;
    }
    /**
     * Get the total number of bytes used by this {@link BufferElement} based on {@link BufferElementAlignment | alignment} start and end offsets
     * @readonly
     */
    get byteCount() {
      return Math.abs(this.endOffset - this.startOffset) + 1;
    }
    /**
     * Get the total number of bytes used by this {@link BufferElement}, including final padding
     * @readonly
     */
    get paddedByteCount() {
      return (this.alignment.end.row + 1) * bytesPerRow;
    }
    /**
     * Get the offset (i.e. byte index) at which our {@link BufferElement} starts
     * @readonly
     */
    get startOffset() {
      return this.getByteCountAtPosition(this.alignment.start);
    }
    /**
     * Get the array offset (i.e. array index) at which our {@link BufferElement} starts
     * @readonly
     */
    get startOffsetToIndex() {
      return this.startOffset / bytesPerSlot;
    }
    /**
     * Get the offset (i.e. byte index) at which our {@link BufferElement} ends
     * @readonly
     */
    get endOffset() {
      return this.getByteCountAtPosition(this.alignment.end);
    }
    /**
     * Get the array offset (i.e. array index) at which our {@link BufferElement} ends
     * @readonly
     */
    get endOffsetToIndex() {
      return Math.floor(this.endOffset / bytesPerSlot);
    }
    /**
     * Get the position at given offset (i.e. byte index)
     * @param offset - byte index to use
     */
    getPositionAtOffset(offset = 0) {
      return {
        row: Math.floor(offset / bytesPerRow),
        byte: offset % bytesPerRow
      };
    }
    /**
     * Get the number of bytes at a given {@link BufferElementAlignmentPosition | position}
     * @param position - {@link BufferElementAlignmentPosition | position} from which to count
     * @returns - byte count at the given {@link BufferElementAlignmentPosition | position}
     */
    getByteCountAtPosition(position = { row: 0, byte: 0 }) {
      return position.row * bytesPerRow + position.byte;
    }
    /**
     * Check that a {@link BufferElementAlignmentPosition#byte | byte position} does not overflow its max value (16)
     * @param position - {@link BufferElementAlignmentPosition | position}
     * @returns - updated {@link BufferElementAlignmentPosition | position}
     */
    applyOverflowToPosition(position = { row: 0, byte: 0 }) {
      if (position.byte > bytesPerRow - 1) {
        const overflow = position.byte % bytesPerRow;
        position.row += Math.floor(position.byte / bytesPerRow);
        position.byte = overflow;
      }
      return position;
    }
    /**
     * Get the number of bytes between two {@link BufferElementAlignmentPosition | positions}
     * @param p1 - first {@link BufferElementAlignmentPosition | position}
     * @param p2 - second {@link BufferElementAlignmentPosition | position}
     * @returns - number of bytes
     */
    getByteCountBetweenPositions(p1 = { row: 0, byte: 0 }, p2 = { row: 0, byte: 0 }) {
      return Math.abs(this.getByteCountAtPosition(p2) - this.getByteCountAtPosition(p1));
    }
    /**
     * Compute the right alignment (i.e. start and end rows and bytes) given the size and align properties and the next available {@link BufferElementAlignmentPosition | position}
     * @param nextPositionAvailable - next {@link BufferElementAlignmentPosition | position} at which we should insert this element
     * @returns - computed {@link BufferElementAlignment | alignment}
     */
    getElementAlignment(nextPositionAvailable = { row: 0, byte: 0 }) {
      const alignment = {
        start: nextPositionAvailable,
        end: nextPositionAvailable
      };
      const { size, align } = this.bufferLayout;
      if (nextPositionAvailable.byte % align !== 0) {
        nextPositionAvailable.byte += nextPositionAvailable.byte % align;
      }
      if (size <= bytesPerRow && nextPositionAvailable.byte + size > bytesPerRow) {
        nextPositionAvailable.row += 1;
        nextPositionAvailable.byte = 0;
      }
      alignment.end = {
        row: nextPositionAvailable.row + Math.ceil(size / bytesPerRow) - 1,
        byte: nextPositionAvailable.byte + (size % bytesPerRow === 0 ? bytesPerRow - 1 : size % bytesPerRow - 1)
        // end of row ? then it ends on slot (bytesPerRow - 1)
      };
      alignment.end = this.applyOverflowToPosition(alignment.end);
      return alignment;
    }
    /**
     * Set the {@link BufferElementAlignment | alignment} from a {@link BufferElementAlignmentPosition | position}
     * @param position - {@link BufferElementAlignmentPosition | position} at which to start inserting the values in the {@link !core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     */
    setAlignmentFromPosition(position = { row: 0, byte: 0 }) {
      this.alignment = this.getElementAlignment(position);
    }
    /**
     * Set the {@link BufferElementAlignment | alignment} from an offset (byte count)
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     */
    setAlignment(startOffset = 0) {
      this.setAlignmentFromPosition(this.getPositionAtOffset(startOffset));
    }
    /**
     * Set the {@link view}
     * @param arrayBuffer - the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param arrayView - the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view}
     */
    setView(arrayBuffer, arrayView) {
      this.view = new this.bufferLayout.View(
        arrayBuffer,
        this.startOffset,
        this.byteCount / this.bufferLayout.View.BYTES_PER_ELEMENT
      );
    }
    /**
     * Update the {@link view} based on the new value
     * @param value - new value to use
     */
    update(value) {
      if (this.type === "f32" || this.type === "u32" || this.type === "i32") {
        this.view[0] = value;
      } else if (this.type === "vec2f") {
        this.view[0] = value.x ?? value[0] ?? 0;
        this.view[1] = value.y ?? value[1] ?? 0;
      } else if (this.type === "vec3f") {
        this.view[0] = value.x ?? value[0] ?? 0;
        this.view[1] = value.y ?? value[1] ?? 0;
        this.view[2] = value.z ?? value[2] ?? 0;
      } else if (value.elements) {
        this.view.set(value.elements);
      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {
        this.view.set(value);
      }
    }
    /**
     * Extract the data corresponding to this specific {@link BufferElement} from a {@link Float32Array} holding the {@link GPUBuffer} data of the parentMesh {@link core/bindings/BufferBinding.BufferBinding | BufferBinding}
     * @param result - {@link Float32Array} holding {@link GPUBuffer} data
     * @returns - extracted data from the {@link Float32Array}
     */
    extractDataFromBufferResult(result) {
      return result.slice(this.startOffsetToIndex, this.endOffsetToIndex);
    }
  }

  class BufferArrayElement extends BufferElement {
    /**
     * BufferArrayElement constructor
     * @param parameters - {@link BufferArrayElementParams | parameters} used to create our {@link BufferArrayElement}
     */
    constructor({ name, key, type = "f32", arrayLength = 1 }) {
      super({ name, key, type });
      this.arrayLength = arrayLength;
      this.numElements = this.arrayLength / this.bufferLayout.numElements;
    }
    /**
     * Get the array stride between two elements of the array, in indices
     * @readonly
     */
    get arrayStrideToIndex() {
      return this.arrayStride / bytesPerSlot;
    }
    /**
     * Set the {@link core/bindings/bufferElements/BufferElement.BufferElementAlignment | alignment}
     * To compute how arrays are packed, we get the second item alignment as well and use it to calculate the arrayStride between two array elements. Using the arrayStride and the total number of elements, we can easily get the end alignment position.
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array buffer}
     */
    setAlignment(startOffset = 0) {
      super.setAlignment(startOffset);
      const nextAlignment = this.getElementAlignment(this.getPositionAtOffset(this.endOffset + 1));
      this.arrayStride = this.getByteCountBetweenPositions(this.alignment.end, nextAlignment.end);
      this.alignment.end = this.getPositionAtOffset(this.endOffset + this.arrayStride * (this.numElements - 1));
    }
    /**
     * Update the {@link view} based on the new value
     * @param value - new value to use
     */
    update(value) {
      if (ArrayBuffer.isView(value) || Array.isArray(value)) {
        let valueIndex = 0;
        const viewLength = this.byteCount / this.bufferLayout.View.BYTES_PER_ELEMENT;
        const stride = Math.ceil(viewLength / this.numElements);
        for (let i = 0; i < this.numElements; i++) {
          for (let j = 0; j < this.bufferLayout.numElements; j++) {
            this.view[j + i * stride] = value[valueIndex];
            valueIndex++;
          }
        }
      } else {
        throwWarning(`BufferArrayElement: value passed to ${this.name} is not an array: ${value}`);
      }
    }
  }

  class BufferInterleavedArrayElement extends BufferArrayElement {
    /**
     * BufferInterleavedArrayElement constructor
     * @param parameters - {@link BufferArrayElementParams | parameters} used to create our {@link BufferInterleavedArrayElement}
     */
    constructor({ name, key, type = "f32", arrayLength = 1 }) {
      super({ name, key, type, arrayLength });
      this.arrayStride = 1;
      this.arrayLength = arrayLength;
      this.numElements = this.arrayLength / this.bufferLayout.numElements;
    }
    /**
     * Get the total number of slots used by this {@link BufferInterleavedArrayElement} based on buffer layout size and total number of elements
     * @readonly
     */
    get byteCount() {
      return this.bufferLayout.size * this.numElements;
    }
    /**
     * Set the {@link core/bindings/bufferElements/BufferElement.BufferElementAlignment | alignment}
     * To compute how arrays are packed, we need to compute the arrayStride between two elements beforehand and pass it here. Using the arrayStride and the total number of elements, we can easily get the end alignment position.
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param stride - Stride in the {@link ArrayBuffer} between two elements of the array
     */
    setAlignment(startOffset = 0, stride = 0) {
      this.alignment = this.getElementAlignment(this.getPositionAtOffset(startOffset));
      this.arrayStride = stride;
      this.alignment.end = this.getPositionAtOffset(this.endOffset + stride * (this.numElements - 1));
    }
    /**
     * Set the {@link view} and {@link viewSetFunction}
     * @param arrayBuffer - the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param arrayView - the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view}
     */
    setView(arrayBuffer, arrayView) {
      this.view = new this.bufferLayout.View(this.bufferLayout.numElements * this.numElements);
      this.viewSetFunction = ((arrayView2) => {
        switch (this.bufferLayout.View) {
          case Int32Array:
            return arrayView2.setInt32.bind(arrayView2);
          case Uint16Array:
            return arrayView2.setUint16.bind(arrayView2);
          case Uint32Array:
            return arrayView2.setUint32.bind(arrayView2);
          case Float32Array:
          default:
            return arrayView2.setFloat32.bind(arrayView2);
        }
      })(arrayView);
    }
    /**
     * Update the {@link view} based on the new value, and then update the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view} using sub arrays
     * @param value - new value to use
     */
    update(value) {
      super.update(value);
      for (let i = 0; i < this.numElements; i++) {
        const subarray = this.view.subarray(
          i * this.bufferLayout.numElements,
          i * this.bufferLayout.numElements + this.bufferLayout.numElements
        );
        const startByteOffset = this.startOffset + i * this.arrayStride;
        subarray.forEach((value2, index) => {
          this.viewSetFunction(startByteOffset + index * this.bufferLayout.View.BYTES_PER_ELEMENT, value2, true);
        });
      }
    }
    /**
     * Extract the data corresponding to this specific {@link BufferInterleavedArrayElement} from a {@link Float32Array} holding the {@link GPUBuffer} data of the parentMesh {@link core/bindings/BufferBinding.BufferBinding | BufferBinding}
     * @param result - {@link Float32Array} holding {@link GPUBuffer} data
     */
    extractDataFromBufferResult(result) {
      const interleavedResult = new Float32Array(this.arrayLength);
      for (let i = 0; i < this.numElements; i++) {
        const resultOffset = this.startOffsetToIndex + i * this.arrayStrideToIndex;
        for (let j = 0; j < this.bufferLayout.numElements; j++) {
          interleavedResult[i * this.bufferLayout.numElements + j] = result[resultOffset + j];
        }
      }
      return interleavedResult;
    }
  }

  class BufferBinding extends Binding {
    /**
     * BufferBinding constructor
     * @param parameters - {@link BufferBindingParams | parameters} used to create our BufferBindings
     */
    constructor({
      label = "Uniform",
      name = "uniform",
      bindingType,
      visibility,
      useStruct = true,
      access = "read",
      struct = {}
    }) {
      bindingType = bindingType ?? "uniform";
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        useStruct,
        access,
        struct
      };
      this.arrayBufferSize = 0;
      this.shouldUpdate = false;
      this.useStruct = useStruct;
      this.bufferElements = [];
      this.inputs = {};
      this.buffer = null;
      this.setBindings(struct);
      this.setBufferAttributes();
      this.setWGSLFragment();
    }
    /**
     * Get {@link GPUBindGroupLayoutEntry#buffer | bind group layout entry resource}
     * @readonly
     */
    get resourceLayout() {
      return {
        buffer: {
          type: getBindGroupLayoutBindingType(this)
        }
      };
    }
    /**
     * Get {@link GPUBindGroupEntry#resource | bind group resource}
     * @readonly
     */
    get resource() {
      return { buffer: this.buffer };
    }
    /**
     * Format bindings struct and set our {@link inputs}
     * @param bindings - bindings inputs
     */
    setBindings(bindings) {
      Object.keys(bindings).forEach((bindingKey) => {
        const binding = {};
        for (const key in bindings[bindingKey]) {
          if (key !== "value") {
            binding[key] = bindings[bindingKey][key];
          }
        }
        Object.defineProperty(binding, "value", {
          get() {
            return binding._value;
          },
          set(v) {
            binding._value = v;
            binding.shouldUpdate = true;
          }
        });
        binding.value = bindings[bindingKey].value;
        if (binding.value instanceof Vec2 || binding.value instanceof Vec3) {
          binding.value.onChange(() => binding.shouldUpdate = true);
        }
        this.inputs[bindingKey] = binding;
      });
    }
    /**
     * Set our buffer attributes:
     * Takes all the {@link inputs} and adds them to the {@link bufferElements} array with the correct start and end offsets (padded), then fill our {@link arrayBuffer} typed array accordingly.
     */
    setBufferAttributes() {
      const arrayBindings = Object.keys(this.inputs).filter(
        (bindingKey) => this.inputs[bindingKey].type.indexOf("array") !== -1
      );
      let orderedBindings = Object.keys(this.inputs).sort((bindingKeyA, bindingKeyB) => {
        const isBindingAArray = Math.min(0, this.inputs[bindingKeyA].type.indexOf("array"));
        const isBindingBArray = Math.min(0, this.inputs[bindingKeyB].type.indexOf("array"));
        return isBindingAArray - isBindingBArray;
      });
      if (arrayBindings.length > 1) {
        orderedBindings = orderedBindings.filter((bindingKey) => !arrayBindings.includes(bindingKey));
      }
      orderedBindings.forEach((bindingKey) => {
        const binding = this.inputs[bindingKey];
        const bufferElementOptions = {
          name: toCamelCase(binding.name ?? bindingKey),
          key: bindingKey,
          type: binding.type
        };
        const isArray = binding.type.indexOf("array") !== -1 && (Array.isArray(binding.value) || ArrayBuffer.isView(binding.value));
        this.bufferElements.push(
          isArray ? new BufferArrayElement({
            ...bufferElementOptions,
            arrayLength: binding.value.length
          }) : new BufferElement(bufferElementOptions)
        );
      });
      this.bufferElements.forEach((bufferElement, index) => {
        const startOffset = index === 0 ? 0 : this.bufferElements[index - 1].endOffset + 1;
        bufferElement.setAlignment(startOffset);
      });
      if (arrayBindings.length > 1) {
        const arraySizes = arrayBindings.map((bindingKey) => {
          const binding = this.inputs[bindingKey];
          const bufferLayout = getBufferLayout(binding.type.replace("array", "").replace("<", "").replace(">", ""));
          return binding.value.length / bufferLayout.numElements;
        });
        const equalSize = arraySizes.every((size, i, array) => size === array[0]);
        if (equalSize) {
          const interleavedBufferElements = arrayBindings.map((bindingKey) => {
            const binding = this.inputs[bindingKey];
            return new BufferInterleavedArrayElement({
              name: toCamelCase(binding.name ?? bindingKey),
              key: bindingKey,
              type: binding.type,
              arrayLength: binding.value.length
            });
          });
          const tempBufferElements = arrayBindings.map((bindingKey) => {
            const binding = this.inputs[bindingKey];
            return new BufferElement({
              name: toCamelCase(binding.name ?? bindingKey),
              key: bindingKey,
              type: binding.type.replace("array", "").replace("<", "").replace(">", "")
            });
          });
          tempBufferElements.forEach((bufferElement, index) => {
            if (index === 0) {
              if (this.bufferElements.length) {
                bufferElement.setAlignmentFromPosition({
                  row: this.bufferElements[this.bufferElements.length - 1].alignment.end.row + 1,
                  byte: 0
                });
              } else {
                bufferElement.setAlignment(0);
              }
            } else {
              bufferElement.setAlignment(tempBufferElements[index - 1].endOffset + 1);
            }
          });
          const totalStride = tempBufferElements[tempBufferElements.length - 1].endOffset + 1 - tempBufferElements[0].startOffset;
          interleavedBufferElements.forEach((bufferElement, index) => {
            bufferElement.setAlignment(tempBufferElements[index].startOffset, totalStride);
          });
          this.bufferElements = [...this.bufferElements, ...interleavedBufferElements];
        } else {
          throwWarning(
            `BufferBinding: "${this.label}" contains multiple array inputs that should use an interleaved array, but their sizes do not match. These inputs cannot be added to the BufferBinding: "${arrayBindings.join(
            ", "
          )}"`
          );
        }
      }
      this.arrayBufferSize = this.bufferElements.length ? this.bufferElements[this.bufferElements.length - 1].paddedByteCount : 0;
      this.arrayBuffer = new ArrayBuffer(this.arrayBufferSize);
      this.arrayView = new DataView(this.arrayBuffer, 0, this.arrayBuffer.byteLength);
      this.bufferElements.forEach((bufferElement) => {
        bufferElement.setView(this.arrayBuffer, this.arrayView);
      });
      this.shouldUpdate = this.arrayBufferSize > 0;
    }
    /**
     * Set the WGSL code snippet to append to the shaders code. It consists of variable (and Struct structures if needed) declarations.
     */
    setWGSLFragment() {
      const kebabCaseLabel = toKebabCase(this.label);
      if (this.useStruct) {
        const bufferElements = this.bufferElements.filter(
          (bufferElement) => !(bufferElement instanceof BufferInterleavedArrayElement)
        );
        const interleavedBufferElements = this.bufferElements.filter(
          (bufferElement) => bufferElement instanceof BufferInterleavedArrayElement
        );
        if (interleavedBufferElements.length) {
          const arrayLength = this.bindingType === "uniform" ? `, ${interleavedBufferElements[0].numElements}` : "";
          if (bufferElements.length) {
            this.wgslStructFragment = `struct ${kebabCaseLabel}Element {
	${interleavedBufferElements.map((binding) => binding.name + ": " + binding.type.replace("array", "").replace("<", "").replace(">", "")).join(",\n	")}
};

`;
            const interleavedBufferStructDeclaration = `${this.name}Element: array<${kebabCaseLabel}Element${arrayLength}>,`;
            this.wgslStructFragment += `struct ${kebabCaseLabel} {
	${bufferElements.map((bufferElement) => bufferElement.name + ": " + bufferElement.type).join(",\n	")}
	${interleavedBufferStructDeclaration}
};`;
            const varType = getBindingWGSLVarType(this);
            this.wgslGroupFragment = [`${varType} ${this.name}: ${kebabCaseLabel};`];
          } else {
            this.wgslStructFragment = `struct ${kebabCaseLabel} {
	${this.bufferElements.map((binding) => binding.name + ": " + binding.type.replace("array", "").replace("<", "").replace(">", "")).join(",\n	")}
};`;
            const varType = getBindingWGSLVarType(this);
            this.wgslGroupFragment = [`${varType} ${this.name}: array<${kebabCaseLabel}${arrayLength}>;`];
          }
        } else {
          this.wgslStructFragment = `struct ${kebabCaseLabel} {
	${this.bufferElements.map((binding) => {
          const bindingType = this.bindingType === "uniform" && "numElements" in binding ? `array<${binding.type.replace("array", "").replace("<", "").replace(">", "")}, ${binding.numElements}>` : binding.type;
          return binding.name + ": " + bindingType;
        }).join(",\n	")}
};`;
          const varType = getBindingWGSLVarType(this);
          this.wgslGroupFragment = [`${varType} ${this.name}: ${kebabCaseLabel};`];
        }
      } else {
        this.wgslStructFragment = "";
        this.wgslGroupFragment = this.bufferElements.map((binding) => {
          const varType = getBindingWGSLVarType(this);
          return `${varType} ${binding.name}: ${binding.type};`;
        });
      }
    }
    /**
     * Set a binding shouldUpdate flag to true to update our {@link arrayBuffer} array during next render.
     * @param bindingName - the binding name/key to update
     */
    shouldUpdateBinding(bindingName = "") {
      const bindingKey = Object.keys(this.inputs).find((bindingKey2) => this.inputs[bindingKey2].name === bindingName);
      if (bindingKey)
        this.inputs[bindingKey].shouldUpdate = true;
    }
    /**
     * Executed at the beginning of a Material render call.
     * If any of the {@link inputs} has changed, run its onBeforeUpdate callback then updates our {@link arrayBuffer} array.
     * Also sets the {@link shouldUpdate} property to true so the {@link core/bindGroups/BindGroup.BindGroup | BindGroup} knows it will need to update the {@link GPUBuffer}.
     */
    update() {
      Object.keys(this.inputs).forEach((bindingKey) => {
        const binding = this.inputs[bindingKey];
        const bufferElement = this.bufferElements.find((bufferEl) => bufferEl.key === bindingKey);
        if (binding.shouldUpdate && bufferElement) {
          binding.onBeforeUpdate && binding.onBeforeUpdate();
          bufferElement.update(binding.value);
          this.shouldUpdate = true;
          binding.shouldUpdate = false;
        }
      });
    }
    /**
     * Extract the data corresponding to a specific {@link BufferElement} from a {@link Float32Array} holding the {@link BufferBinding#buffer | GPU buffer} data of this {@link BufferBinding}
     * @param parameters - parameters used to extract the data
     * @param parameters.result - {@link Float32Array} holding {@link GPUBuffer} data
     * @param parameters.bufferElementName - name of the {@link BufferElement} to use to extract the data
     * @returns - extracted data from the {@link Float32Array}
     */
    extractBufferElementDataFromBufferResult({
      result,
      bufferElementName
    }) {
      const bufferElement = this.bufferElements.find((bufferElement2) => bufferElement2.name === bufferElementName);
      if (bufferElement) {
        return bufferElement.extractDataFromBufferResult(result);
      } else {
        return result;
      }
    }
  }

  class WritableBufferBinding extends BufferBinding {
    /**
     * WritableBufferBinding constructor
     * @param parameters - {@link WritableBufferBindingParams | parameters} used to create our {@link WritableBufferBinding}
     */
    constructor({
      label = "Work",
      name = "work",
      bindingType,
      useStruct = true,
      struct = {},
      visibility,
      access = "read_write",
      shouldCopyResult = false
    }) {
      bindingType = "storage";
      visibility = "compute";
      super({ label, name, bindingType, useStruct, struct, visibility, access });
      this.options = {
        ...this.options,
        shouldCopyResult
      };
      this.shouldCopyResult = shouldCopyResult;
      this.resultBuffer = null;
    }
  }

  class BindGroup {
    /**
     * BindGroup constructor
     * @param renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link BindGroupParams | parameters} used to create our {@link BindGroup}
     */
    constructor(renderer, { label = "BindGroup", index = 0, bindings = [], uniforms, storages } = {}) {
      this.type = "BindGroup";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, this.type);
      this.renderer = renderer;
      this.options = {
        label,
        index,
        bindings,
        ...uniforms && { uniforms },
        ...storages && { storages }
      };
      this.index = index;
      this.uuid = generateUUID();
      this.bindings = [];
      bindings.length && this.addBindings(bindings);
      if (this.options.uniforms || this.options.storages)
        this.setInputBindings();
      this.resetEntries();
      this.bindGroupLayout = null;
      this.bindGroup = null;
      this.needsPipelineFlush = false;
      this.renderer.addBindGroup(this);
    }
    /**
     * Sets our {@link BindGroup#index | bind group index}
     * @param index - {@link BindGroup#index | bind group index} to set
     */
    setIndex(index) {
      this.index = index;
    }
    /**
     * Adds an array of already created {@link bindings} (buffers, texture, etc.) to the {@link bindings} array
     * @param bindings - {@link bindings} to add
     */
    addBindings(bindings = []) {
      this.bindings = [...this.bindings, ...bindings];
    }
    /**
     * Adds an already created {@link bindings} (buffers, texture, etc.) to the {@link bindings} array
     * @param binding - binding to add
     */
    addBinding(binding) {
      this.bindings.push(binding);
    }
    /**
     * Creates Bindings based on a list of inputs
     * @param bindingType - {@link core/bindings/Binding.Binding#bindingType | binding type}
     * @param inputs - {@link ReadOnlyInputBindings | inputs (uniform or storage)} that will be used to create the binding
     * @returns - a {@link bindings} array
     */
    createInputBindings(bindingType = "uniform", inputs = {}) {
      return [
        ...Object.keys(inputs).map((inputKey) => {
          const binding = inputs[inputKey];
          const bindingParams = {
            label: toKebabCase(binding.label || inputKey),
            name: inputKey,
            bindingType,
            useStruct: true,
            // by default
            visibility: binding.access === "read_write" ? "compute" : binding.visibility,
            access: binding.access ?? "read",
            // read by default
            struct: binding.struct,
            ...binding.shouldCopyResult !== void 0 && { shouldCopyResult: binding.shouldCopyResult }
          };
          const BufferBindingConstructor = bindingParams.access === "read_write" ? WritableBufferBinding : BufferBinding;
          return binding.useStruct !== false ? new BufferBindingConstructor(bindingParams) : Object.keys(binding.struct).map((bindingKey) => {
            bindingParams.label = toKebabCase(binding.label ? binding.label + bindingKey : inputKey + bindingKey);
            bindingParams.name = inputKey + bindingKey;
            bindingParams.useStruct = false;
            bindingParams.struct = { [bindingKey]: binding.struct[bindingKey] };
            return new BufferBindingConstructor(bindingParams);
          });
        })
      ].flat();
    }
    /**
     * Create and adds {@link bindings} based on inputs provided upon creation
     */
    setInputBindings() {
      this.addBindings([
        ...this.createInputBindings("uniform", this.options.uniforms),
        ...this.createInputBindings("storage", this.options.storages)
      ]);
    }
    /**
     * Get whether the GPU bind group is ready to be created
     * It can be created if it has {@link bindings} and has not been created yet
     * @readonly
     */
    get shouldCreateBindGroup() {
      return !this.bindGroup && !!this.bindings.length;
    }
    /**
     * Reset our {@link BindGroup} {@link entries}
     */
    resetEntries() {
      this.entries = {
        bindGroupLayout: [],
        bindGroup: []
      };
    }
    /**
     * Create the GPU buffers, {@link bindings}, {@link entries}, {@link bindGroupLayout} and {@link bindGroup}
     */
    createBindGroup() {
      this.fillEntries();
      this.setBindGroupLayout();
      this.setBindGroup();
    }
    /**
     * Reset the {@link BindGroup#entries.bindGroup | bindGroup entries}, recreates them and then recreate the {@link BindGroup#bindGroup | GPU bind group}
     */
    resetBindGroup() {
      this.entries.bindGroup = [];
      this.bindings.forEach((binding) => {
        this.entries.bindGroup.push({
          binding: this.entries.bindGroup.length,
          resource: binding.resource
        });
      });
      this.setBindGroup();
    }
    /**
     * Reset the {@link BindGroup#entries.bindGroupLayout | bindGroupLayout entries}, recreates them and then recreate the {@link BindGroup#bindGroupLayout | GPU bind group layout}
     */
    resetBindGroupLayout() {
      this.entries.bindGroupLayout = [];
      this.bindings.forEach((binding) => {
        this.entries.bindGroupLayout.push({
          binding: this.entries.bindGroupLayout.length,
          ...binding.resourceLayout,
          visibility: binding.visibility
        });
      });
      this.setBindGroupLayout();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration
     */
    loseContext() {
      this.resetEntries();
      this.bufferBindings.forEach((binding) => {
        binding.buffer = null;
        if ("resultBuffer" in binding) {
          binding.resultBuffer = null;
        }
      });
      this.bindGroup = null;
      this.bindGroupLayout = null;
      this.needsPipelineFlush = true;
    }
    /**
     * Get all {@link BindGroup#bindings | bind group bindings} that handle a {@link GPUBuffer}
     */
    get bufferBindings() {
      return this.bindings.filter(
        (binding) => binding instanceof BufferBinding || binding instanceof WritableBufferBinding
      );
    }
    /**
     * Creates binding GPUBuffer with correct params
     * @param binding - the binding element
     */
    createBindingBuffer(binding) {
      binding.buffer = this.renderer.createBuffer({
        label: this.options.label + ": " + binding.bindingType + " buffer from: " + binding.label,
        size: binding.arrayBuffer.byteLength,
        usage: binding.bindingType === "uniform" ? GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST | GPUBufferUsage.COPY_SRC | GPUBufferUsage.VERTEX : GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST | GPUBufferUsage.COPY_SRC | GPUBufferUsage.VERTEX
      });
      if ("resultBuffer" in binding) {
        binding.resultBuffer = this.renderer.createBuffer({
          label: this.options.label + ": Result buffer from: " + binding.label,
          size: binding.arrayBuffer.byteLength,
          usage: GPUBufferUsage.MAP_READ | GPUBufferUsage.COPY_DST
        });
      }
    }
    /**
     * Fill in our entries bindGroupLayout and bindGroup arrays with the correct binding resources.
     * For buffer struct, create a GPUBuffer first if needed
     */
    fillEntries() {
      this.bindings.forEach((binding) => {
        if (!binding.visibility) {
          binding.visibility = GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
        }
        if ("buffer" in binding && !binding.buffer) {
          this.createBindingBuffer(binding);
        }
        this.entries.bindGroupLayout.push({
          binding: this.entries.bindGroupLayout.length,
          ...binding.resourceLayout,
          visibility: binding.visibility
        });
        this.entries.bindGroup.push({
          binding: this.entries.bindGroup.length,
          resource: binding.resource
        });
      });
    }
    /**
     * Get a bind group binding by name/key
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBindingByName(bindingName = "") {
      return this.bindings.find((binding) => binding.name === bindingName);
    }
    /**
     * Create a GPUBindGroupLayout and set our {@link bindGroupLayout}
     */
    setBindGroupLayout() {
      this.bindGroupLayout = this.renderer.createBindGroupLayout({
        label: this.options.label + " layout",
        entries: this.entries.bindGroupLayout
      });
    }
    /**
     * Create a GPUBindGroup and set our {@link bindGroup}
     */
    setBindGroup() {
      this.bindGroup = this.renderer.createBindGroup({
        label: this.options.label,
        layout: this.bindGroupLayout,
        entries: this.entries.bindGroup
      });
    }
    /**
     * Check whether we should update (write) our {@link GPUBuffer} or not.
     */
    updateBufferBindings() {
      this.bufferBindings.forEach((binding, index) => {
        binding.update();
        if (binding.shouldUpdate) {
          if (!binding.useStruct && binding.bufferElements.length > 1) {
            this.renderer.queueWriteBuffer(binding.buffer, 0, binding.bufferElements[index].view);
          } else {
            this.renderer.queueWriteBuffer(binding.buffer, 0, binding.arrayBuffer);
          }
        }
        binding.shouldUpdate = false;
      });
    }
    /**
     * Update the {@link BindGroup}, which means update its {@link BindGroup#bufferBindings | buffer bindings} and {@link BindGroup#resetBindGroup | reset it} if needed.
     * Called at each render from the parentMesh {@link core/materials/Material.Material | material}
     */
    update() {
      this.updateBufferBindings();
      const needBindGroupReset = this.bindings.some((binding) => binding.shouldResetBindGroup);
      const needBindGroupLayoutReset = this.bindings.some((binding) => binding.shouldResetBindGroupLayout);
      if (needBindGroupReset || needBindGroupLayoutReset) {
        this.renderer.onAfterCommandEncoderSubmission.add(
          () => {
            this.bindings.forEach((binding) => {
              binding.shouldResetBindGroup = false;
              binding.shouldResetBindGroupLayout = false;
            });
          },
          { once: true }
        );
      }
      if (needBindGroupLayoutReset) {
        this.resetBindGroupLayout();
        this.needsPipelineFlush = true;
      }
      if (needBindGroupReset) {
        this.resetBindGroup();
      }
    }
    /**
     * Clones a {@link BindGroup} from a list of {@link bindings}
     * Useful to create a new bind group with already created buffers, but swapped
     * @param parameters - parameters to use for cloning
     * @param parameters.bindings - our input {@link bindings}
     * @param [parameters.keepLayout=false] - whether we should keep original {@link bindGroupLayout} or not
     * @returns - the cloned {@link BindGroup}
     */
    clone({
      bindings = [],
      keepLayout = false
    } = {}) {
      const params = { ...this.options };
      params.label += " (copy)";
      const bindGroupCopy = new this.constructor(this.renderer, {
        label: params.label
      });
      bindGroupCopy.setIndex(this.index);
      bindGroupCopy.options = params;
      const bindingsRef = bindings.length ? bindings : this.bindings;
      bindingsRef.forEach((binding, index) => {
        bindGroupCopy.addBinding(binding);
        if ("buffer" in binding && !binding.buffer) {
          bindGroupCopy.createBindingBuffer(binding);
        }
        if (!keepLayout) {
          bindGroupCopy.entries.bindGroupLayout.push({
            binding: bindGroupCopy.entries.bindGroupLayout.length,
            ...binding.resourceLayout,
            visibility: binding.visibility
          });
        }
        bindGroupCopy.entries.bindGroup.push({
          binding: bindGroupCopy.entries.bindGroup.length,
          resource: binding.resource
        });
      });
      if (keepLayout) {
        bindGroupCopy.entries.bindGroupLayout = [...this.entries.bindGroupLayout];
      }
      bindGroupCopy.setBindGroupLayout();
      bindGroupCopy.setBindGroup();
      return bindGroupCopy;
    }
    /**
     * Destroy our {@link BindGroup}
     * Most important is to destroy the GPUBuffers to free the memory
     */
    destroy() {
      this.renderer.removeBindGroup(this);
      this.bufferBindings.forEach((binding) => {
        if ("buffer" in binding) {
          this.renderer.removeBuffer(binding.buffer);
          binding.buffer?.destroy();
          binding.buffer = null;
        }
        if ("resultBuffer" in binding) {
          this.renderer.removeBuffer(binding.resultBuffer);
          binding.resultBuffer?.destroy();
          binding.resultBuffer = null;
        }
      });
      this.bindings = [];
      this.bindGroupLayout = null;
      this.bindGroup = null;
      this.resetEntries();
    }
  }

  class TextureBinding extends Binding {
    /**
     * TextureBinding constructor
     * @param parameters - {@link TextureBindingParams | parameters} used to create our {@link TextureBinding}
     */
    constructor({
      label = "Texture",
      name = "texture",
      bindingType,
      visibility,
      texture,
      format = "rgba8unorm",
      access = "write",
      viewDimension = "2d",
      multisampled = false
    }) {
      bindingType = bindingType ?? "texture";
      if (bindingType === "storageTexture") {
        visibility = "compute";
      }
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        texture,
        format,
        access,
        viewDimension,
        multisampled
      };
      this.resource = texture;
      this.setWGSLFragment();
    }
    /**
     * Get bind group layout entry resource, either for {@link GPUBindGroupLayoutEntry#texture | texture} or {@link GPUBindGroupLayoutEntry#externalTexture | external texture}
     * @readonly
     */
    get resourceLayout() {
      return getBindGroupLayoutTextureBindingType(this);
    }
    /**
     * Get the {@link GPUBindGroupEntry#resource | bind group resource}
     */
    get resource() {
      return this.texture instanceof GPUTexture ? this.texture.createView({ label: this.options.label + " view" }) : this.texture instanceof GPUExternalTexture ? this.texture : null;
    }
    /**
     * Set the {@link GPUBindGroupEntry#resource | bind group resource}
     * @param value - new bind group resource
     */
    set resource(value) {
      if (value || this.texture)
        this.shouldResetBindGroup = true;
      this.texture = value;
    }
    /**
     * Set or update our {@link Binding#bindingType | bindingType} and our WGSL code snippet
     * @param bindingType - the new {@link Binding#bindingType | binding type}
     */
    setBindingType(bindingType) {
      if (bindingType !== this.bindingType) {
        if (bindingType)
          this.shouldResetBindGroupLayout = true;
        this.bindingType = bindingType;
        this.setWGSLFragment();
      }
    }
    /**
     * Set the correct WGSL code snippet.
     */
    setWGSLFragment() {
      this.wgslGroupFragment = [`${getTextureBindingWGSLVarType(this)}`];
    }
  }

  let objectIndex = 0;
  class Object3D {
    /**
     * Object3D constructor
     */
    constructor() {
      this.parent = null;
      this.children = [];
      Object.defineProperty(this, "object3DIndex", { value: objectIndex++ });
      this.setMatrices();
      this.setTransforms();
    }
    /* PARENT */
    /**
     * Get the parent of this {@link Object3D} if any
     */
    get parent() {
      return this._parent;
    }
    /**
     * Set the parent of this {@link Object3D}
     * @param value - new parent to set, could be an {@link Object3D} or null
     */
    set parent(value) {
      if (this.parent) {
        this.parent.children = this.parent.children.filter((child) => child.object3DIndex !== this.object3DIndex);
      }
      this._parent = value;
      this._parent?.children.push(this);
    }
    /* TRANSFORMS */
    /**
     * Set our transforms properties and {@link Vec3#onChange | vectors onChange} callbacks
     */
    setTransforms() {
      this.transforms = {
        origin: {
          model: new Vec3()
        },
        quaternion: new Quat(),
        rotation: new Vec3(),
        position: {
          world: new Vec3()
        },
        scale: new Vec3(1)
      };
      this.rotation.onChange(() => this.applyRotation());
      this.position.onChange(() => this.applyPosition());
      this.scale.onChange(() => this.applyScale());
      this.transformOrigin.onChange(() => this.applyTransformOrigin());
    }
    /**
     * Get our rotation {@link Vec3 | vector}
     */
    get rotation() {
      return this.transforms.rotation;
    }
    /**
     * Set our rotation {@link Vec3 | vector}
     * @param value - new rotation {@link Vec3 | vector}
     */
    set rotation(value) {
      this.transforms.rotation = value;
      this.applyRotation();
    }
    /**
     * Get our {@link Quat | quaternion}
     */
    get quaternion() {
      return this.transforms.quaternion;
    }
    /**
     * Set our {@link Quat | quaternion}
     * @param value - new {@link Quat | quaternion}
     */
    set quaternion(value) {
      this.transforms.quaternion = value;
    }
    /**
     * Get our position {@link Vec3 | vector}
     */
    get position() {
      return this.transforms.position.world;
    }
    /**
     * Set our position {@link Vec3 | vector}
     * @param value - new position {@link Vec3 | vector}
     */
    set position(value) {
      this.transforms.position.world = value;
    }
    /**
     * Get our scale {@link Vec3 | vector}
     */
    get scale() {
      return this.transforms.scale;
    }
    /**
     * Set our scale {@link Vec3 | vector}
     * @param value - new scale {@link Vec3 | vector}
     */
    set scale(value) {
      this.transforms.scale = value;
      this.applyScale();
    }
    /**
     * Get our transform origin {@link Vec3 | vector}
     */
    get transformOrigin() {
      return this.transforms.origin.model;
    }
    /**
     * Set our transform origin {@link Vec3 | vector}
     * @param value - new transform origin {@link Vec3 | vector}
     */
    set transformOrigin(value) {
      this.transforms.origin.model = value;
    }
    /**
     * Apply our rotation and tell our {@link modelMatrix | model matrix} to update
     */
    applyRotation() {
      this.quaternion.setFromVec3(this.rotation);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyPosition() {
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyScale() {
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyTransformOrigin() {
      this.shouldUpdateModelMatrix();
    }
    /* MATRICES */
    /**
     * Set our {@link modelMatrix | model matrix} and {@link worldMatrix | world matrix}
     */
    setMatrices() {
      this.matrices = {
        model: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateModelMatrix()
        },
        world: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateWorldMatrix()
        }
      };
    }
    /**
     * Get our {@link Mat4 | model matrix}
     */
    get modelMatrix() {
      return this.matrices.model.matrix;
    }
    /**
     * Set our {@link Mat4 | model matrix}
     * @param value - new {@link Mat4 | model matrix}
     */
    set modelMatrix(value) {
      this.matrices.model.matrix = value;
      this.shouldUpdateModelMatrix();
    }
    /**
     * Set our {@link modelMatrix | model matrix} shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateModelMatrix() {
      this.matrices.model.shouldUpdate = true;
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Get our {@link Mat4 | world matrix}
     */
    get worldMatrix() {
      return this.matrices.world.matrix;
    }
    /**
     * Set our {@link Mat4 | world matrix}
     * @param value - new {@link Mat4 | world matrix}
     */
    set worldMatrix(value) {
      this.matrices.world.matrix = value;
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Set our {@link worldMatrix | world matrix} shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateWorldMatrix() {
      this.matrices.world.shouldUpdate = true;
    }
    /**
     * Rotate this {@link Object3D} so it looks at the {@link Vec3 | target}
     * @param target - {@link Vec3 | target} to look at
     */
    lookAt(target = new Vec3()) {
      const rotationMatrix = new Mat4().lookAt(target, this.position);
      this.quaternion.setFromRotationMatrix(rotationMatrix);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Update our {@link modelMatrix | model matrix}
     */
    updateModelMatrix() {
      this.modelMatrix = this.modelMatrix.composeFromOrigin(
        this.position,
        this.quaternion,
        this.scale,
        this.transformOrigin
      );
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Update our {@link worldMatrix | model matrix}
     */
    updateWorldMatrix() {
      if (!this.parent) {
        this.worldMatrix.copy(this.modelMatrix);
      } else {
        this.worldMatrix.multiplyMatrices(this.parent.worldMatrix, this.modelMatrix);
      }
      this.children.forEach((child) => {
        child.shouldUpdateWorldMatrix();
      });
    }
    /**
     * Callback to run if at least one matrix of the stack has been updated
     */
    onAfterMatrixStackUpdate() {
    }
    /**
     * Check at each render whether we should update our matrices, and update them if needed
     */
    updateMatrixStack() {
      if (this.parent && this.parent.constructor.name === "Object3D") {
        this.parent.updateMatrixStack();
      }
      const matrixShouldUpdate = !!Object.keys(this.matrices).find((matrixName) => this.matrices[matrixName].shouldUpdate);
      if (matrixShouldUpdate) {
        for (const matrixName in this.matrices) {
          if (this.matrices[matrixName].shouldUpdate) {
            this.matrices[matrixName].onUpdate();
            this.matrices[matrixName].shouldUpdate = false;
          }
        }
        this.onAfterMatrixStackUpdate();
      }
    }
  }

  var __accessCheck$7 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$6 = (obj, member, getter) => {
    __accessCheck$7(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$7 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var _parentRatio, _sourceRatio, _coverScale, _rotationMatrix;
  const defaultTextureParams = {
    name: "texture",
    generateMips: false,
    flipY: false,
    format: "rgba8unorm",
    premultipliedAlpha: true,
    placeholderColor: [0, 0, 0, 255],
    // default to black
    useExternalTextures: true,
    fromTexture: null,
    viewDimension: "2d",
    cache: true
  };
  class Texture extends Object3D {
    /**
     * Texture constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Texture}
     * @param parameters - {@link TextureParams | parameters} used to create this {@link Texture}
     */
    constructor(renderer, parameters = defaultTextureParams) {
      super();
      /** Private {@link Vec3 | vector} used for {@link#modelMatrix} calculations, based on {@link parentMesh} {@link RectSize | size} */
      __privateAdd$7(this, _parentRatio, new Vec3(1));
      /** Private {@link Vec3 | vector} used for {@link modelMatrix} calculations, based on {@link size | source size} */
      __privateAdd$7(this, _sourceRatio, new Vec3(1));
      /** Private {@link Vec3 | vector} used for {@link modelMatrix} calculations, based on #parentRatio and #sourceRatio */
      __privateAdd$7(this, _coverScale, new Vec3(1));
      /** Private rotation {@link Mat4 | matrix} based on texture {@link quaternion} */
      __privateAdd$7(this, _rotationMatrix, new Mat4());
      // callbacks / events
      /** function assigned to the {@link onSourceLoaded} callback */
      this._onSourceLoadedCallback = () => {
      };
      /** function assigned to the {@link onSourceUploaded} callback */
      this._onSourceUploadedCallback = () => {
      };
      this.type = "Texture";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
      this.renderer = renderer;
      this.uuid = generateUUID();
      const defaultOptions = {
        ...defaultTextureParams,
        source: parameters.fromTexture ? parameters.fromTexture.options.source : null,
        sourceType: parameters.fromTexture ? parameters.fromTexture.options.sourceType : null
      };
      this.options = { ...defaultOptions, ...parameters };
      this.options.label = this.options.label ?? this.options.name;
      this.texture = null;
      this.externalTexture = null;
      this.source = null;
      this.size = {
        width: 1,
        height: 1,
        depth: 1
      };
      this.textureMatrix = new BufferBinding({
        label: this.options.label + ": model matrix",
        name: this.options.name + "Matrix",
        useStruct: false,
        struct: {
          matrix: {
            name: this.options.name + "Matrix",
            type: "mat4x4f",
            value: this.modelMatrix
          }
        }
      });
      this.setBindings();
      this._parentMesh = null;
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.shouldUpdate = false;
      this.renderer.addTexture(this);
      this.createTexture();
    }
    /**
     * Set our {@link bindings}
     */
    setBindings() {
      this.bindings = [
        new TextureBinding({
          label: this.options.label + ": texture",
          name: this.options.name,
          texture: this.options.sourceType === "externalVideo" ? this.externalTexture : this.texture,
          bindingType: this.options.sourceType === "externalVideo" ? "externalTexture" : "texture",
          viewDimension: this.options.viewDimension
        }),
        this.textureMatrix
      ];
    }
    /**
     * Get our {@link TextureBinding | GPU texture binding}
     * @readonly
     */
    get textureBinding() {
      return this.bindings[0];
    }
    /**
     * Get our texture {@link parentMesh}
     */
    get parentMesh() {
      return this._parentMesh;
    }
    /**
     * Set our texture {@link parentMesh}
     * @param value - texture {@link parentMesh} to set (i.e. any kind of {@link core/renderers/GPURenderer.RenderedMesh | Mesh}
     */
    set parentMesh(value) {
      this._parentMesh = value;
      this.resize();
    }
    /**
     * Get whether our {@link source} has been loaded
     */
    get sourceLoaded() {
      return this._sourceLoaded;
    }
    /**
     * Set whether our {@link source} has been loaded
     * @param value - boolean flag indicating if the {@link source} has been loaded
     */
    set sourceLoaded(value) {
      if (value && !this.sourceLoaded) {
        this._onSourceLoadedCallback && this._onSourceLoadedCallback();
      }
      this._sourceLoaded = value;
    }
    /**
     * Get whether our {@link source} has been uploaded
     */
    get sourceUploaded() {
      return this._sourceUploaded;
    }
    /**
     * Set whether our {@link source} has been uploaded
     * @param value - boolean flag indicating if the {@link source} has been uploaded
     */
    set sourceUploaded(value) {
      if (value && !this.sourceUploaded) {
        this._onSourceUploadedCallback && this._onSourceUploadedCallback();
      }
      this._sourceUploaded = value;
    }
    /**
     * Set our texture {@link transforms} object
     */
    setTransforms() {
      super.setTransforms();
      this.transforms.quaternion.setAxisOrder("ZXY");
      this.transforms.origin.model.set(0.5, 0.5, 0);
    }
    /* TEXTURE MATRIX */
    /**
     * Update the {@link modelMatrix}
     */
    updateModelMatrix() {
      if (!this.parentMesh)
        return;
      const parentScale = this.parentMesh.scale ? this.parentMesh.scale : new Vec3(1, 1, 1);
      const parentWidth = this.parentMesh.boundingRect ? this.parentMesh.boundingRect.width * parentScale.x : this.size.width;
      const parentHeight = this.parentMesh.boundingRect ? this.parentMesh.boundingRect.height * parentScale.y : this.size.height;
      const parentRatio = parentWidth / parentHeight;
      const sourceRatio = this.size.width / this.size.height;
      if (parentWidth > parentHeight) {
        __privateGet$6(this, _parentRatio).set(parentRatio, 1, 1);
        __privateGet$6(this, _sourceRatio).set(1 / sourceRatio, 1, 1);
      } else {
        __privateGet$6(this, _parentRatio).set(1, 1 / parentRatio, 1);
        __privateGet$6(this, _sourceRatio).set(1, sourceRatio, 1);
      }
      const coverRatio = parentRatio > sourceRatio !== parentWidth > parentHeight ? 1 : parentWidth > parentHeight ? __privateGet$6(this, _parentRatio).x * __privateGet$6(this, _sourceRatio).x : __privateGet$6(this, _sourceRatio).y * __privateGet$6(this, _parentRatio).y;
      __privateGet$6(this, _coverScale).set(1 / (coverRatio * this.scale.x), 1 / (coverRatio * this.scale.y), 1);
      __privateGet$6(this, _rotationMatrix).rotateFromQuaternion(this.quaternion);
      this.modelMatrix.identity().premultiplyTranslate(this.transformOrigin.clone().multiplyScalar(-1)).premultiplyScale(__privateGet$6(this, _coverScale)).premultiplyScale(__privateGet$6(this, _parentRatio)).premultiply(__privateGet$6(this, _rotationMatrix)).premultiplyScale(__privateGet$6(this, _sourceRatio)).premultiplyTranslate(this.transformOrigin).translate(this.position);
    }
    /**
     * If our {@link modelMatrix} has been updated, tell the {@link textureMatrix | texture matrix binding} to update as well
     */
    onAfterMatrixStackUpdate() {
      this.textureMatrix.shouldUpdateBinding(this.options.name + "Matrix");
    }
    /**
     * Resize our {@link Texture}
     */
    resize() {
      if (this.source && this.source instanceof HTMLCanvasElement && (this.source.width !== this.size.width || this.source.height !== this.size.height)) {
        this.setSourceSize();
        this.createTexture();
      }
      this.shouldUpdateModelMatrix();
    }
    /**
     * Get the number of mip levels create based on {@link size}
     * @param sizes - Array containing our texture width, height and depth
     * @returns - number of mip levels
     */
    getNumMipLevels(...sizes) {
      const maxSize = Math.max(...sizes);
      return 1 + Math.log2(maxSize) | 0;
    }
    /**
     * Tell the {@link Renderer} to upload or texture
     */
    uploadTexture() {
      this.renderer.uploadTexture(this);
      this.shouldUpdate = false;
    }
    /**
     * Import a {@link GPUExternalTexture} from the {@link Renderer}, update the  {@link textureBinding} and its {@link core/bindGroups/TextureBindGroup.TextureBindGroup | bind group}
     */
    uploadVideoTexture() {
      this.externalTexture = this.renderer.importExternalTexture(this.source);
      this.textureBinding.resource = this.externalTexture;
      this.textureBinding.setBindingType("externalTexture");
      this.shouldUpdate = false;
      this.sourceUploaded = true;
    }
    /**
     * Copy a {@link Texture}
     * @param texture - {@link Texture} to copy
     */
    copy(texture) {
      if (this.options.sourceType === "externalVideo" && texture.options.sourceType !== "externalVideo") {
        throwWarning(`${this.options.label}: cannot copy a GPUTexture to a GPUExternalTexture`);
        return;
      } else if (this.options.sourceType !== "externalVideo" && texture.options.sourceType === "externalVideo") {
        throwWarning(`${this.options.label}: cannot copy a GPUExternalTexture to a GPUTexture`);
        return;
      }
      this.options.fromTexture = texture;
      this.options.sourceType = texture.options.sourceType;
      this.options.generateMips = texture.options.generateMips;
      this.options.flipY = texture.options.flipY;
      this.options.format = texture.options.format;
      this.options.premultipliedAlpha = texture.options.premultipliedAlpha;
      this.options.placeholderColor = texture.options.placeholderColor;
      this.options.useExternalTextures = texture.options.useExternalTextures;
      this.sourceLoaded = texture.sourceLoaded;
      this.sourceUploaded = texture.sourceUploaded;
      if (texture.texture) {
        if (texture.sourceLoaded) {
          this.size = texture.size;
          this.source = texture.source;
          this.resize();
        }
        if (texture.sourceUploaded) {
          this.texture = texture.texture;
          this.textureBinding.resource = this.texture;
        } else {
          this.createTexture();
        }
      }
    }
    /**
     * Set the {@link texture | GPU texture}
     */
    createTexture() {
      const options = {
        label: this.options.label,
        format: this.options.format,
        size: [this.size.width, this.size.height, this.size.depth],
        // [1, 1] if no source
        dimensions: this.options.viewDimension === "1d" ? "1d" : this.options.viewDimension === "3d" ? "3d" : "2d",
        //sampleCount: this.source ? this.renderer.sampleCount : 1,
        usage: !!this.source ? GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT : GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
      };
      if (this.options.sourceType !== "externalVideo") {
        options.mipLevelCount = this.options.generateMips ? this.getNumMipLevels(this.size.width, this.size.height) : 1;
        this.texture?.destroy();
        this.texture = this.renderer.createTexture(options);
        this.textureBinding.resource = this.texture;
      }
      this.shouldUpdate = true;
    }
    /* SOURCES */
    /**
     * Set the {@link size} based on the {@link source}
     */
    setSourceSize() {
      this.size = {
        width: this.source.naturalWidth || this.source.width || this.source.videoWidth,
        height: this.source.naturalHeight || this.source.height || this.source.videoHeight,
        depth: 1
      };
    }
    /**
     * Load an {@link HTMLImageElement} from a URL and create an {@link ImageBitmap} to use as a {@link source}
     * @async
     * @param url - URL of the image to load
     * @returns - the newly created {@link ImageBitmap}
     */
    async loadImageBitmap(url) {
      const res = await fetch(url);
      const blob = await res.blob();
      return await createImageBitmap(blob, { colorSpaceConversion: "none" });
    }
    /**
     * Load and create an {@link ImageBitmap} from a URL or {@link HTMLImageElement}, use it as a {@link source} and create the {@link GPUTexture}
     * @async
     * @param source - the image URL or {@link HTMLImageElement} to load
     * @returns - the newly created {@link ImageBitmap}
     */
    async loadImage(source) {
      const url = typeof source === "string" ? source : source.getAttribute("src");
      this.options.source = url;
      this.options.sourceType = "image";
      const cachedTexture = this.renderer.textures.find((t) => t.options.source === url);
      if (cachedTexture && cachedTexture.texture && cachedTexture.sourceUploaded) {
        this.copy(cachedTexture);
        return;
      }
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.source = await this.loadImageBitmap(this.options.source);
      this.setSourceSize();
      this.resize();
      this.sourceLoaded = true;
      this.createTexture();
    }
    // weirldy enough, we don't have to do anything in that callback
    // because the <video> is not visible in the viewport, the video playback is throttled
    // and the rendering is janky
    // using requestVideoFrameCallback helps preventing this but is unsupported in Firefox at the moment
    // WebCodecs may be the way to go when time comes!
    // https://developer.chrome.com/blog/new-in-webgpu-113/#use-webcodecs-videoframe-source-in-importexternaltexture
    /**
     * Set our {@link shouldUpdate} flag to true at each new video frame
     */
    onVideoFrameCallback() {
      if (this.videoFrameCallbackId) {
        this.shouldUpdate = true;
        this.source.requestVideoFrameCallback(this.onVideoFrameCallback.bind(this));
      }
    }
    /**
     * Callback to run when a {@link HTMLVideoElement} has loaded (when it has enough data to play).
     * Set the {@link HTMLVideoElement} as a {@link source} and create the {@link GPUTexture} or {@link GPUExternalTexture}
     * @param video - the newly loaded {@link HTMLVideoElement}
     */
    onVideoLoaded(video) {
      if (!this.sourceLoaded) {
        this.source = video;
        this.setSourceSize();
        this.resize();
        if (this.options.useExternalTextures) {
          this.options.sourceType = "externalVideo";
          this.texture?.destroy();
        } else {
          this.options.sourceType = "video";
          this.createTexture();
        }
        if ("requestVideoFrameCallback" in HTMLVideoElement.prototype) {
          this.videoFrameCallbackId = this.source.requestVideoFrameCallback(
            this.onVideoFrameCallback.bind(this)
          );
        }
        this.sourceLoaded = true;
      }
    }
    /**
     * Get whether the {@link source} is a video
     * @readonly
     */
    get isVideoSource() {
      return this.source && (this.options.sourceType === "video" || this.options.sourceType === "externalVideo");
    }
    /**
     * Load a video from a URL or {@link HTMLVideoElement} and register {@link onVideoLoaded} callback
     * @param source - the video URL or {@link HTMLVideoElement} to load
     */
    loadVideo(source) {
      let video;
      if (typeof source === "string") {
        video = document.createElement("video");
        video.src = source;
      } else {
        video = source;
      }
      video.preload = "auto";
      video.muted = true;
      video.loop = true;
      video.crossOrigin = "anonymous";
      video.setAttribute("playsinline", "");
      this.options.source = video.src;
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      if (video.readyState >= video.HAVE_ENOUGH_DATA) {
        this.onVideoLoaded(video);
      } else {
        video.addEventListener("canplaythrough", this.onVideoLoaded.bind(this, video), {
          once: true
        });
      }
      if (isNaN(video.duration)) {
        video.load();
      }
    }
    /**
     * Load a {@link HTMLCanvasElement}, use it as a {@link source} and create the {@link GPUTexture}
     * @param source - the {@link HTMLCanvasElement} to use
     */
    loadCanvas(source) {
      this.options.source = source;
      this.options.sourceType = "canvas";
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.source = source;
      this.setSourceSize();
      this.resize();
      this.sourceLoaded = true;
      this.createTexture();
    }
    /* EVENTS */
    /**
     * Callback to run when the {@link source} has been loaded
     * @param callback - callback to run when the {@link source} has been loaded
     * @returns - our {@link Texture}
     */
    onSourceLoaded(callback) {
      if (callback) {
        this._onSourceLoadedCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run when the {@link source} has been uploaded
     * @param callback - callback to run when the {@link source} been uploaded
     * @returns - our {@link Texture}
     */
    onSourceUploaded(callback) {
      if (callback) {
        this._onSourceUploadedCallback = callback;
      }
      return this;
    }
    /* RENDER */
    /**
     * Render a {@link Texture}:
     * - Update its {@link modelMatrix} and {@link bindings} if needed
     * - Upload the texture if it needs to be done
     */
    render() {
      this.updateMatrixStack();
      this.textureMatrix.update();
      if (this.options.sourceType === "externalVideo") {
        this.shouldUpdate = true;
      }
      if (this.isVideoSource && !this.videoFrameCallbackId && this.source.readyState >= this.source.HAVE_CURRENT_DATA && !this.source.paused) {
        this.shouldUpdate = true;
      }
      if (this.shouldUpdate && this.options.sourceType && this.options.sourceType !== "externalVideo") {
        this.uploadTexture();
      }
    }
    /* DESTROY */
    /**
     * Destroy the {@link Texture}
     */
    destroy() {
      if (this.videoFrameCallbackId) {
        this.source.cancelVideoFrameCallback(this.videoFrameCallbackId);
      }
      if (this.isVideoSource) {
        this.source.removeEventListener(
          "canplaythrough",
          this.onVideoLoaded.bind(this, this.source),
          {
            once: true
          }
        );
      }
      this.renderer.removeTexture(this);
      this.texture?.destroy();
      this.texture = null;
    }
  }
  _parentRatio = new WeakMap();
  _sourceRatio = new WeakMap();
  _coverScale = new WeakMap();
  _rotationMatrix = new WeakMap();

  class TextureBindGroup extends BindGroup {
    /**
     * TextureBindGroup constructor
     * @param  renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link TextureBindGroupParams | parameters} used to create our {@link TextureBindGroup}
     */
    constructor(renderer, { label, index = 0, bindings = [], uniforms, storages, textures = [], samplers = [] } = {}) {
      const type = "TextureBindGroup";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, type);
      super(renderer, { label, index, bindings, uniforms, storages });
      this.options = {
        ...this.options,
        // will be filled after
        textures: [],
        samplers: []
      };
      if (textures.length) {
        textures.forEach((texture) => this.addTexture(texture));
      }
      if (samplers.length) {
        samplers.forEach((sampler) => this.addSampler(sampler));
      }
      this.type = type;
    }
    /**
     * Adds a texture to the textures array and the struct
     * @param texture - texture to add
     */
    addTexture(texture) {
      this.textures.push(texture);
      this.addBindings([...texture.bindings]);
    }
    /**
     * Get the current textures array
     * @readonly
     */
    get textures() {
      return this.options.textures;
    }
    /**
     * Adds a sampler to the samplers array and the struct
     * @param sampler
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
      this.addBindings([sampler.binding]);
    }
    /**
     * Get the current samplers array
     * @readonly
     */
    get samplers() {
      return this.options.samplers;
    }
    /**
     * Get whether the GPU bind group is ready to be created
     * It can be created if it has {@link BindGroup#bindings} and has not been created yet and all GPU textures and samplers are created
     * @readonly
     */
    get shouldCreateBindGroup() {
      return !this.bindGroup && !!this.bindings.length && !this.textures.find((texture) => !(texture.texture || texture.externalTexture)) && !this.samplers.find((sampler) => !sampler.sampler);
    }
    /**
     * Update the {@link TextureBindGroup#textures | bind group textures}:
     * - Check if they need to copy their source texture
     * - Upload video texture if needed
     */
    updateTextures() {
      this.textures.forEach((texture, textureIndex) => {
        if (texture instanceof Texture) {
          if (texture.options.fromTexture && texture.options.fromTexture.sourceUploaded && !texture.sourceUploaded) {
            texture.copy(texture.options.fromTexture);
          }
          if (texture.shouldUpdate && texture.options.sourceType && texture.options.sourceType === "externalVideo") {
            texture.uploadVideoTexture();
          }
        }
      });
    }
    /**
     * Update the {@link TextureBindGroup}, which means update its {@link TextureBindGroup#textures | textures}, then update its {@link TextureBindGroup#bufferBindings | buffer bindings} and finally {@link TextureBindGroup#resetBindGroup | reset it} if needed
     */
    update() {
      this.updateTextures();
      super.update();
    }
    /**
     * Destroy our {@link TextureBindGroup}
     */
    destroy() {
      super.destroy();
      this.options.textures = [];
      this.options.samplers = [];
    }
  }

  class SamplerBinding extends Binding {
    /**
     * SamplerBinding constructor
     * @param parameters - {@link SamplerBindingParams | parameters} used to create our SamplerBindings
     */
    constructor({
      label = "Sampler",
      name = "sampler",
      bindingType,
      visibility,
      sampler,
      type = "filtering"
    }) {
      bindingType = bindingType ?? "sampler";
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        sampler,
        type
      };
      this.resource = sampler;
      this.setWGSLFragment();
    }
    /**
     * Get {@link GPUBindGroupLayoutEntry#sampler | bind group layout entry resource}
     * @readonly
     */
    get resourceLayout() {
      return {
        sampler: {
          type: this.options.type
          // TODO set shouldResetBindGroupLayout to true if it changes afterwards
        }
      };
    }
    /**
     * Get the {@link GPUBindGroupEntry#resource | bind group resource}
     */
    get resource() {
      return this.sampler;
    }
    /**
     * Set the {@link GPUBindGroupEntry#resource | bind group resource}
     * @param value - new bind group resource
     */
    set resource(value) {
      if (value && this.sampler)
        this.shouldResetBindGroup = true;
      this.sampler = value;
    }
    /**
     * Set the correct WGSL code snippet.
     */
    setWGSLFragment() {
      this.wgslGroupFragment = [`var ${this.name}: ${this.bindingType};`];
    }
  }

  var __accessCheck$6 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$5 = (obj, member, getter) => {
    __accessCheck$6(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$6 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$4 = (obj, member, value, setter) => {
    __accessCheck$6(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _fov, _near, _far, _pixelRatio;
  class Camera extends Object3D {
    /**
     * Camera constructor
     * @param parameters - {@link CameraParams | parameters} used to create our {@link Camera}
     */
    constructor({
      fov = 50,
      near = 0.01,
      far = 150,
      width = 1,
      height = 1,
      pixelRatio = 1,
      onMatricesChanged = () => {
      }
    } = {}) {
      super();
      /** Private {@link Camera} field of view */
      __privateAdd$6(this, _fov, void 0);
      /** Private {@link Camera} near plane */
      __privateAdd$6(this, _near, void 0);
      /** Private {@link Camera} far plane */
      __privateAdd$6(this, _far, void 0);
      /** Private {@link Camera} pixel ratio, used in {@link CSSPerspective} calcs */
      __privateAdd$6(this, _pixelRatio, void 0);
      this.position.set(0, 0, 10);
      this.onMatricesChanged = onMatricesChanged;
      this.size = {
        width: 1,
        height: 1
      };
      this.setPerspective({ fov, near, far, width, height, pixelRatio });
    }
    /**
     * Set our transform and projection matrices
     */
    setMatrices() {
      super.setMatrices();
      this.matrices = {
        ...this.matrices,
        view: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.viewMatrix.copy(this.modelMatrix).invert();
          }
        },
        projection: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateProjectionMatrix()
        }
      };
    }
    /**
     * Get our view matrix
     * @readonly
     */
    get viewMatrix() {
      return this.matrices.view.matrix;
    }
    set viewMatrix(value) {
      this.matrices.view.matrix = value;
      this.matrices.view.shouldUpdate = true;
    }
    /**
     * Get our projection matrix
     * @readonly
     */
    get projectionMatrix() {
      return this.matrices.projection.matrix;
    }
    set projectionMatrix(value) {
      this.matrices.projection.matrix = value;
      this.shouldUpdateProjectionMatrix();
    }
    /**
     * Set our projection matrix shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateProjectionMatrix() {
      this.matrices.projection.shouldUpdate = true;
    }
    /**
     * Update our model matrix and tell our view matrix to update as well
     */
    updateModelMatrix() {
      super.updateModelMatrix();
      this.setScreenRatios();
      this.matrices.view.shouldUpdate = true;
    }
    /**
     * Get the {@link Camera} {@link fov | field of view}
     */
    get fov() {
      return __privateGet$5(this, _fov);
    }
    /**
     * Set the {@link Camera} {@link fov | field of view}. Update the {@link projectionMatrix} only if the field of view actually changed
     * @param fov - new field of view
     */
    set fov(fov) {
      fov = Math.max(1, Math.min(fov ?? this.fov, 179));
      if (fov !== this.fov) {
        __privateSet$4(this, _fov, fov);
        this.shouldUpdateProjectionMatrix();
      }
      this.setScreenRatios();
      this.setCSSPerspective();
    }
    /**
     * Get the {@link Camera} {@link near} plane value.
     */
    get near() {
      return __privateGet$5(this, _near);
    }
    /**
     * Set the {@link Camera} {@link near} plane value. Update the {@link projectionMatrix} only if the near plane actually changed
     * @param near - new near plane value
     */
    set near(near) {
      near = Math.max(near ?? this.near, 0.01);
      if (near !== this.near) {
        __privateSet$4(this, _near, near);
        this.shouldUpdateProjectionMatrix();
      }
    }
    /**
     * Get / set the {@link Camera} {@link far} plane value.
     */
    get far() {
      return __privateGet$5(this, _far);
    }
    /**
     * Set the {@link Camera} {@link far} plane value. Update {@link projectionMatrix} only if the far plane actually changed
     * @param far - new far plane value
     */
    set far(far) {
      far = Math.max(far ?? this.far, this.near + 1);
      if (far !== this.far) {
        __privateSet$4(this, _far, far);
        this.shouldUpdateProjectionMatrix();
      }
    }
    /**
     * Get the {@link Camera} {@link pixelRatio} value.
     */
    get pixelRatio() {
      return __privateGet$5(this, _pixelRatio);
    }
    /**
     * Set the {@link Camera} {@link pixelRatio} value. Update the {@link CSSPerspective} only if the pixel ratio actually changed
     * @param pixelRatio - new pixel ratio value
     */
    set pixelRatio(pixelRatio) {
      __privateSet$4(this, _pixelRatio, pixelRatio ?? this.pixelRatio);
      this.setCSSPerspective();
    }
    /**
     * Set the {@link Camera} {@link width} and {@link height}. Update the {@link projectionMatrix} only if the width or height actually changed
     * @param size - {@link width} and {@link height} values to use
     */
    setSize({ width, height }) {
      if (width !== this.size.width || height !== this.size.height) {
        this.shouldUpdateProjectionMatrix();
      }
      this.size.width = width;
      this.size.height = height;
      this.setScreenRatios();
      this.setCSSPerspective();
    }
    /**
     * Sets the {@link Camera} perspective. Update the {@link projectionMatrix} if needed.
     * @param parameters - {@link CameraPerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({
      fov = this.fov,
      near = this.near,
      far = this.far,
      width = this.size.width,
      height = this.size.height,
      pixelRatio = this.pixelRatio
    } = {}) {
      this.setSize({ width, height });
      this.pixelRatio = pixelRatio;
      this.fov = fov;
      this.near = near;
      this.far = far;
    }
    /**
     * Callback to run when the camera {@link modelMatrix | model matrix} has been updated
     */
    onAfterMatrixStackUpdate() {
      this.onMatricesChanged();
    }
    /**
     * Sets a {@link CSSPerspective} property based on {@link size}, {@link pixelRatio} and {@link fov}.<br>
     * Used to translate planes along the Z axis using pixel units as CSS would do.<br>
     * {@link https://stackoverflow.com/questions/22421439/convert-field-of-view-value-to-css3d-perspective-value | See reference}
     */
    setCSSPerspective() {
      this.CSSPerspective = Math.pow(
        Math.pow(this.size.width / (2 * this.pixelRatio), 2) + Math.pow(this.size.height / (2 * this.pixelRatio), 2),
        0.5
      ) / Math.tan(this.fov * 0.5 * Math.PI / 180);
    }
    /**
     * Sets visible width / height at a given z-depth from our {@link Camera} parameters.<br>
     * {@link https://discourse.threejs.org/t/functions-to-calculate-the-visible-width-height-at-a-given-z-depth-from-a-perspective-camera/269 | See reference}
     * @param depth - depth to use for calculations
     */
    setScreenRatios(depth = 0) {
      const cameraOffset = this.position.z;
      if (depth < cameraOffset) {
        depth -= cameraOffset;
      } else {
        depth += cameraOffset;
      }
      const vFOV = this.fov * Math.PI / 180;
      const height = 2 * Math.tan(vFOV / 2) * Math.abs(depth);
      this.screenRatio = {
        width: height * this.size.width / this.size.height,
        height
      };
    }
    /**
     * Rotate this {@link Camera} so it looks at the {@link Vec3 | target}
     * @param target - {@link Vec3 | target} to look at
     */
    lookAt(target = new Vec3()) {
      const rotationMatrix = new Mat4().lookAt(this.position, target);
      this.quaternion.setFromRotationMatrix(rotationMatrix);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Updates the {@link Camera} {@link projectionMatrix}
     */
    updateProjectionMatrix() {
      const aspect = this.size.width / this.size.height;
      const top = this.near * Math.tan(Math.PI / 180 * 0.5 * this.fov);
      const height = 2 * top;
      const width = aspect * height;
      const left = -0.5 * width;
      const right = left + width;
      const bottom = top - height;
      const x = 2 * this.near / (right - left);
      const y = 2 * this.near / (top - bottom);
      const a = (right + left) / (right - left);
      const b = (top + bottom) / (top - bottom);
      const c = -(this.far + this.near) / (this.far - this.near);
      const d = -2 * this.far * this.near / (this.far - this.near);
      this.projectionMatrix.set(
        x,
        0,
        0,
        0,
        0,
        y,
        0,
        0,
        a,
        b,
        c,
        -1,
        0,
        0,
        d,
        0
      );
    }
  }
  _fov = new WeakMap();
  _near = new WeakMap();
  _far = new WeakMap();
  _pixelRatio = new WeakMap();

  class Sampler {
    /**
     * Sampler constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Sampler}
     * @param parameters - {@link SamplerParams | parameters} used to create this {@link Sampler}
     */
    constructor(renderer, {
      label = "Sampler",
      name,
      addressModeU = "repeat",
      addressModeV = "repeat",
      magFilter = "linear",
      minFilter = "linear",
      mipmapFilter = "linear",
      maxAnisotropy = 1,
      type = "filtering"
    } = {}) {
      this.type = "Sampler";
      this.uuid = generateUUID();
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, label ? label + " " + this.type : this.type);
      this.renderer = renderer;
      this.label = label;
      if (!name && !this.renderer.production) {
        name = "sampler" + this.renderer.samplers.length;
        throwWarning(
          `Sampler: you are trying to create a sampler without the mandatory name parameter. A default name will be used instead: ${name}`
        );
      }
      this.name = name;
      this.options = {
        addressModeU,
        addressModeV,
        magFilter,
        minFilter,
        mipmapFilter,
        maxAnisotropy,
        type
      };
      this.createSampler();
      this.createBinding();
    }
    /**
     * Set the {@link GPUSampler}
     */
    createSampler() {
      this.sampler = this.renderer.createSampler(this);
    }
    /**
     * Set the {@link SamplerBinding | binding}
     */
    createBinding() {
      this.binding = new SamplerBinding({
        label: this.label,
        name: this.name,
        bindingType: "sampler",
        sampler: this.sampler,
        type: this.options.type
      });
    }
  }

  const defaultRenderTextureParams = {
    label: "RenderTexture",
    name: "renderTexture",
    usage: "texture",
    access: "write",
    fromTexture: null,
    viewDimension: "2d",
    sampleCount: 1
  };
  class RenderTexture {
    /**
     * RenderTexture constructor
     * @param renderer - {@link Renderer | renderer} object or {@link GPUCurtains} class object used to create this {@link RenderTexture}
     * @param parameters - {@link RenderTextureParams | parameters} used to create this {@link RenderTexture}
     */
    constructor(renderer, parameters = defaultRenderTextureParams) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " RenderTexture" : "RenderTexture");
      this.type = "RenderTexture";
      this.renderer = renderer;
      this.uuid = generateUUID();
      this.options = { ...defaultRenderTextureParams, ...parameters };
      if (!this.options.format) {
        this.options.format = this.renderer.options.preferredFormat;
      }
      this.size = this.options.size ?? {
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      };
      this.setBindings();
      this.renderer.addRenderTexture(this);
      this.createTexture();
    }
    /**
     * Copy another {@link RenderTexture} into this {@link RenderTexture}
     * @param texture - {@link RenderTexture} to copy
     */
    copy(texture) {
      this.options.fromTexture = texture;
      this.createTexture();
    }
    /**
     * Copy a {@link GPUTexture} directly into this {@link RenderTexture}. Mainly used for depth textures.
     * @param texture - {@link GPUTexture} to copy
     */
    copyGPUTexture(texture) {
      this.size = {
        width: texture.width,
        height: texture.height,
        depth: texture.depthOrArrayLayers
      };
      this.texture = texture;
      this.textureBinding.resource = this.texture;
    }
    /**
     * Create the {@link GPUTexture | texture} (or copy it from source) and update the {@link TextureBinding#resource | binding resource}
     */
    createTexture() {
      if (this.options.fromTexture) {
        this.copyGPUTexture(this.options.fromTexture.texture);
        return;
      }
      this.texture?.destroy();
      this.texture = this.renderer.createTexture({
        label: this.options.label,
        format: this.options.format,
        size: [this.size.width, this.size.height, this.size.depth],
        dimensions: this.options.viewDimension === "1d" ? "1d" : this.options.viewDimension === "3d" ? "3d" : "2d",
        sampleCount: this.options.sampleCount,
        usage: (
          // TODO let user chose?
          // see https://matrix.to/#/!MFogdGJfnZLrDmgkBN:matrix.org/$vESU70SeCkcsrJQdyQGMWBtCgVd3XqnHcBxFDKTKKSQ?via=matrix.org&via=mozilla.org&via=hej.im
          this.options.usage !== "storageTexture" ? GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT : GPUTextureUsage.STORAGE_BINDING | GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
        )
      });
      this.textureBinding.resource = this.texture;
    }
    /**
     * Set our {@link RenderTexture#bindings | bindings}
     */
    setBindings() {
      this.bindings = [
        new TextureBinding({
          label: this.options.label + ": " + this.options.name + " render texture",
          name: this.options.name,
          texture: this.texture,
          bindingType: this.options.usage,
          format: this.options.format,
          viewDimension: this.options.viewDimension,
          multisampled: this.options.sampleCount > 1
        })
      ];
    }
    /**
     * Get our {@link TextureBinding | texture binding}
     * @readonly
     */
    get textureBinding() {
      return this.bindings[0];
    }
    /**
     * Force a {@link RenderTexture} to be recreated with the new size
     * @param size - new {@link TextureSize | size} to set
     */
    forceResize(size) {
      this.size = size;
      this.createTexture();
    }
    /**
     * Resize our {@link RenderTexture}, which means recreate it/copy it again and tell the {@link core/bindGroups/TextureBindGroup.TextureBindGroup | texture bind group} to update
     * @param size - the optional new {@link TextureSize | size} to set
     */
    resize(size = null) {
      if (!size) {
        size = {
          width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
          height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
          depth: 1
        };
      }
      if (size.width === this.size.width && size.height === this.size.height && size.depth === this.size.depth) {
        return;
      }
      this.forceResize(size);
    }
    /**
     * Destroy our {@link RenderTexture}
     */
    destroy() {
      this.renderer.removeRenderTexture(this);
      if (!this.options.fromTexture) {
        this.texture?.destroy();
      }
      this.texture = null;
    }
  }

  class Material {
    /**
     * Material constructor
     * @param renderer - our renderer class object
     * @param parameters - {@link types/Materials.MaterialParams | parameters} used to create our Material
     */
    constructor(renderer, parameters) {
      this.type = "Material";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, this.type);
      this.renderer = renderer;
      this.uuid = generateUUID();
      const { shaders, label, useAsyncPipeline, uniforms, storages, bindGroups, samplers, textures, renderTextures } = parameters;
      this.options = {
        shaders,
        label,
        ...useAsyncPipeline !== void 0 && { useAsyncPipeline },
        ...uniforms !== void 0 && { uniforms },
        ...storages !== void 0 && { storages },
        ...bindGroups !== void 0 && { bindGroups },
        ...samplers !== void 0 && { samplers },
        ...textures !== void 0 && { textures },
        ...renderTextures !== void 0 && { renderTextures }
      };
      this.bindGroups = [];
      this.texturesBindGroups = [];
      this.clonedBindGroups = [];
      this.setBindGroups();
      this.setTextures();
      this.setSamplers();
    }
    /**
     * Check if all bind groups are ready, and create them if needed
     */
    compileMaterial() {
      const texturesBindGroupLength = this.texturesBindGroup.bindings.length ? 1 : 0;
      const bindGroupsReady = this.bindGroups.length >= this.inputsBindGroups.length + texturesBindGroupLength;
      if (!bindGroupsReady) {
        this.createBindGroups();
      }
    }
    /**
     * Get whether the renderer is ready, our pipeline entry and pipeline have been created and successfully compiled
     * @readonly
     */
    get ready() {
      return !!(this.renderer.ready && this.pipelineEntry && this.pipelineEntry.pipeline && this.pipelineEntry.ready);
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
     * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to render
     */
    loseContext() {
      this.textures.forEach((texture) => {
        texture.texture = null;
        texture.sourceUploaded = false;
      });
      this.renderTextures.forEach((texture) => {
        texture.texture = null;
      });
      [...this.bindGroups, ...this.clonedBindGroups, ...this.inputsBindGroups].forEach(
        (bindGroup) => bindGroup.loseContext()
      );
      this.pipelineEntry.pipeline = null;
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored to recreate our bind groups.
     */
    restoreContext() {
      this.samplers.forEach((sampler) => {
        sampler.createSampler();
        sampler.binding.resource = sampler.sampler;
      });
      this.textures.forEach((texture) => {
        texture.createTexture();
        texture.resize();
      });
      this.renderTextures.forEach((texture) => {
        texture.resize(texture.size);
      });
      [...this.bindGroups, ...this.clonedBindGroups, ...this.inputsBindGroups].forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.createBindGroup();
        }
        bindGroup.bufferBindings.forEach((bufferBinding) => bufferBinding.shouldUpdate = true);
      });
    }
    /**
     * Get the complete code of a given shader including all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="full"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getShaderCode(shaderType = "full") {
      if (!this.pipelineEntry)
        return "";
      shaderType = (() => {
        switch (shaderType) {
          case "vertex":
          case "fragment":
          case "compute":
          case "full":
            return shaderType;
          default:
            return "full";
        }
      })();
      return this.pipelineEntry.shaders[shaderType].code;
    }
    /**
     * Get the added code of a given shader, i.e. all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="vertex"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getAddedShaderCode(shaderType = "vertex") {
      if (!this.pipelineEntry)
        return "";
      shaderType = (() => {
        switch (shaderType) {
          case "vertex":
          case "fragment":
          case "compute":
            return shaderType;
          default:
            return "vertex";
        }
      })();
      return this.pipelineEntry.shaders[shaderType].head;
    }
    /* BIND GROUPS */
    /**
     * Prepare and set our bind groups based on inputs and bindGroups Material parameters
     */
    setBindGroups() {
      this.uniforms = {};
      this.storages = {};
      this.inputsBindGroups = [];
      this.inputsBindings = [];
      if (this.options.uniforms || this.options.storages) {
        const inputsBindGroup = new BindGroup(this.renderer, {
          label: this.options.label + ": Bindings bind group",
          uniforms: this.options.uniforms,
          storages: this.options.storages
        });
        this.processBindGroupBindings(inputsBindGroup);
        this.inputsBindGroups.push(inputsBindGroup);
      }
      this.options.bindGroups?.forEach((bindGroup) => {
        this.processBindGroupBindings(bindGroup);
        this.inputsBindGroups.push(bindGroup);
      });
    }
    /**
     * Get the main {@link TextureBindGroup | texture bind group} created by this {@link Material} to manage all textures related struct
     * @readonly
     */
    get texturesBindGroup() {
      return this.texturesBindGroups[0];
    }
    /**
     * Process all {@link BindGroup} struct and add them to the corresponding objects based on their binding types. Also store them in a inputsBindings array to facilitate further access to struct.
     * @param bindGroup - The {@link BindGroup} to process
     */
    processBindGroupBindings(bindGroup) {
      bindGroup.bindings.forEach((inputBinding) => {
        if (inputBinding.bindingType === "uniform")
          this.uniforms = {
            ...this.uniforms,
            [inputBinding.name]: inputBinding.inputs
          };
        if (inputBinding.bindingType === "storage")
          this.storages = {
            ...this.storages,
            [inputBinding.name]: inputBinding.inputs
          };
        this.inputsBindings.push(inputBinding);
      });
    }
    /**
     * Create the bind groups if they need to be created
     */
    createBindGroups() {
      if (this.texturesBindGroup.shouldCreateBindGroup) {
        this.texturesBindGroup.setIndex(this.bindGroups.length);
        this.texturesBindGroup.createBindGroup();
        this.bindGroups.push(this.texturesBindGroup);
      }
      this.inputsBindGroups.forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.setIndex(this.bindGroups.length);
          bindGroup.createBindGroup();
          this.bindGroups.push(bindGroup);
        }
      });
      this.options.bindGroups?.forEach((bindGroup) => {
        if (!bindGroup.shouldCreateBindGroup && !this.bindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
          bindGroup.setIndex(this.bindGroups.length);
          this.bindGroups.push(bindGroup);
        }
        if (bindGroup instanceof TextureBindGroup && !this.texturesBindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
          this.texturesBindGroups.push(bindGroup);
          bindGroup.textures.forEach((texture) => {
            if (texture instanceof Texture && !this.textures.find((t) => t.uuid === texture.uuid)) {
              this.textures.push(texture);
            } else if (texture instanceof RenderTexture && !this.renderTextures.find((t) => t.uuid === texture.uuid)) {
              this.renderTextures.push(texture);
            }
          });
        }
      });
    }
    /**
     * Clones a {@link BindGroup} from a list of buffers
     * Useful to create a new bind group with already created buffers, but swapped
     * @param parameters - parameters used to clone the {@link BindGroup | bind group}
     * @param parameters.bindGroup - the BindGroup to clone
     * @param parameters.bindings - our input binding buffers
     * @param parameters.keepLayout - whether we should keep original bind group layout or not
     * @returns - the cloned BindGroup
     */
    cloneBindGroup({
      bindGroup,
      bindings = [],
      keepLayout = true
    }) {
      if (!bindGroup)
        return null;
      const clone = bindGroup.clone({ bindings, keepLayout });
      this.clonedBindGroups.push(clone);
      return clone;
    }
    /**
     * Get a corresponding {@link BindGroup} or {@link TextureBindGroup} from one of its binding name/key
     * @param bindingName - the binding name/key to look for
     * @returns - bind group found or null if not found
     */
    getBindGroupByBindingName(bindingName = "") {
      return (this.ready ? this.bindGroups : this.inputsBindGroups).find((bindGroup) => {
        return bindGroup.bindings.find((binding) => binding.name === bindingName);
      });
    }
    /**
     * Destroy a bind group, only if it is not used by another object
     * @param bindGroup - bind group to eventually destroy
     */
    destroyBindGroup(bindGroup) {
      const objectsUsingBindGroup = this.renderer.getObjectsByBindGroup(bindGroup);
      const shouldDestroy = !objectsUsingBindGroup || !objectsUsingBindGroup.find((object) => object.material.uuid !== this.uuid);
      if (shouldDestroy) {
        bindGroup.destroy();
      }
    }
    /**
     * Destroy all bind groups
     */
    destroyBindGroups() {
      this.bindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.clonedBindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.texturesBindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.texturesBindGroups = [];
      this.inputsBindGroups = [];
      this.bindGroups = [];
      this.clonedBindGroups = [];
    }
    /**
     * {@link BindGroup#update | Update} all bind groups:
     * - Update all {@link texturesBindGroups | textures bind groups} textures
     * - Update its {@link BindGroup#bufferBindings | buffer bindings}
     * - Check if it eventually needs a {@link BindGroup#resetBindGroup | reset}
     * - Check if we need to flush the pipeline
     */
    updateBindGroups() {
      this.bindGroups.forEach((bindGroup) => {
        bindGroup.update();
        if (bindGroup.needsPipelineFlush && this.pipelineEntry.ready) {
          this.pipelineEntry.flushPipelineEntry(this.bindGroups);
          bindGroup.needsPipelineFlush = false;
        }
      });
    }
    /* INPUTS */
    /**
     * Look for a {@link BindGroupBindingElement | binding} by name in all {@link inputsBindings | input bindings}
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBindingByName(bindingName = "") {
      return this.inputsBindings.find((binding) => binding.name === bindingName);
    }
    /**
     * Look for a {@link BindGroupBufferBindingElement | buffer binding} by name in all {@link inputsBindings | input bindings}
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBufferBindingByName(bindingName = "") {
      return this.inputsBindings.find((binding) => binding.name === bindingName && "buffer" in binding);
    }
    /**
     * Force a given buffer binding update flag to update it at next render
     * @param bufferBindingName - the buffer binding name
     * @param bindingName - the binding name
     */
    shouldUpdateInputsBindings(bufferBindingName, bindingName) {
      if (!bufferBindingName)
        return;
      const bufferBinding = this.getBindingByName(bufferBindingName);
      if (bufferBinding) {
        if (!bindingName) {
          Object.keys(bufferBinding.inputs).forEach(
            (bindingKey) => bufferBinding.shouldUpdateBinding(bindingKey)
          );
        } else {
          bufferBinding.shouldUpdateBinding(bindingName);
        }
      }
    }
    /* SAMPLERS & TEXTURES */
    /**
     * Prepare our textures array and set the {@link TextureBindGroup}
     */
    setTextures() {
      this.textures = [];
      this.renderTextures = [];
      this.texturesBindGroups.push(
        new TextureBindGroup(this.renderer, {
          label: this.options.label + ": Textures bind group"
        })
      );
      this.options.textures?.forEach((texture) => {
        this.addTexture(texture);
      });
      this.options.renderTextures?.forEach((texture) => {
        this.addTexture(texture);
      });
    }
    /**
     * Add a texture to our array, and add it to the textures bind group only if used in the shaders (avoid binding useless data)
     * @param texture - texture to add
     */
    addTexture(texture) {
      if (texture instanceof Texture) {
        this.textures.push(texture);
      } else if (texture instanceof RenderTexture) {
        this.renderTextures.push(texture);
      }
      if (this.options.shaders.vertex && this.options.shaders.vertex.code.indexOf(texture.options.name) !== -1 || this.options.shaders.fragment && this.options.shaders.fragment.code.indexOf(texture.options.name) !== -1 || this.options.shaders.compute && this.options.shaders.compute.code.indexOf(texture.options.name) !== -1) {
        this.texturesBindGroup.addTexture(texture);
      }
    }
    /**
     * Destroy a {@link Texture} or {@link RenderTexture}, only if it is not used by another object or cached.
     * @param texture - {@link Texture} or {@link RenderTexture} to eventually destroy
     */
    destroyTexture(texture) {
      if (texture.options.cache)
        return;
      const objectsUsingTexture = this.renderer.getObjectsByTexture(texture);
      const shouldDestroy = !objectsUsingTexture || !objectsUsingTexture.some((object) => object.material.uuid !== this.uuid);
      if (shouldDestroy) {
        texture.destroy();
      }
    }
    /**
     * Destroy all the Material textures
     */
    destroyTextures() {
      this.textures?.forEach((texture) => this.destroyTexture(texture));
      this.renderTextures?.forEach((texture) => this.destroyTexture(texture));
      this.textures = [];
      this.renderTextures = [];
    }
    /**
     * Prepare our samplers array and always add a default sampler if not already passed as parameter
     */
    setSamplers() {
      this.samplers = [];
      this.options.samplers?.forEach((sampler) => {
        this.addSampler(sampler);
      });
      const hasDefaultSampler = this.samplers.find((sampler) => sampler.name === "defaultSampler");
      if (!hasDefaultSampler) {
        const sampler = new Sampler(this.renderer, { name: "defaultSampler" });
        this.addSampler(sampler);
      }
    }
    /**
     * Add a sampler to our array, and add it to the textures bind group only if used in the shaders (avoid binding useless data)
     * @param sampler - sampler to add
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
      if (this.options.shaders.vertex && this.options.shaders.vertex.code.indexOf(sampler.name) !== -1 || this.options.shaders.fragment && this.options.shaders.fragment.code.indexOf(sampler.name) !== -1 || this.options.shaders.compute && this.options.shaders.compute.code.indexOf(sampler.name) !== -1) {
        this.texturesBindGroup.addSampler(sampler);
      }
    }
    /* BUFFER RESULTS */
    /**
     * Map a {@link GPUBuffer} and put a copy of the data into a {@link Float32Array}
     * @param buffer - {@link GPUBuffer} to map
     * @async
     * @returns - {@link Float32Array} holding the {@link GPUBuffer} data
     */
    async getBufferResult(buffer) {
      await buffer.mapAsync(GPUMapMode.READ);
      const result = new Float32Array(buffer.getMappedRange().slice(0));
      buffer.unmap();
      return result;
    }
    /**
     * Map the content of a {@link BufferBinding#buffer | GPU buffer} and put a copy of the data into a {@link Float32Array}
     * @param bindingName - The name of the {@link inputsBindings | input bindings} from which to map the {@link BufferBinding#buffer | GPU buffer}
     * @async
     * @returns - {@link Float32Array} holding the {@link GPUBuffer} data
     */
    async getBufferBindingResultByBindingName(bindingName = "") {
      const binding = this.getBufferBindingByName(bindingName);
      if (binding && "buffer" in binding) {
        const dstBuffer = this.renderer.copyBufferToBuffer({
          srcBuffer: binding.buffer
        });
        return await this.getBufferResult(dstBuffer);
      } else {
        return new Float32Array(0);
      }
    }
    /**
     * Map the content of a specific {@link BufferElement | buffer element} belonging to a {@link BufferBinding#buffer | GPU buffer} and put a copy of the data into a {@link Float32Array}
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - The name of the {@link inputsBindings | input bindings} from which to map the {@link BufferBinding#buffer | GPU buffer}
     * @param parameters.bufferElementName - The name of the {@link BufferElement | buffer element} from which to extract the data afterwards
     * @returns - {@link Float32Array} holding {@link GPUBuffer} data
     */
    async getBufferElementResultByNames({
      bindingName,
      bufferElementName
    }) {
      const result = await this.getBufferBindingResultByBindingName(bindingName);
      if (!bufferElementName || result.length) {
        return result;
      } else {
        const binding = this.getBufferBindingByName(bindingName);
        if (binding) {
          return binding.extractBufferElementDataFromBufferResult({ result, bufferElementName });
        } else {
          return result;
        }
      }
    }
    /* RENDER */
    /**
     * Called before rendering the Material.
     * First, check if we need to create our bind groups or pipeline
     * Then render the {@link textures}
     * Finally updates all the {@link bindGroups | bind groups}
     */
    onBeforeRender() {
      this.compileMaterial();
      this.textures.forEach((texture) => {
        texture.render();
      });
      this.updateBindGroups();
    }
    /**
     * Set the current pipeline
     * @param pass - current pass encoder
     */
    setPipeline(pass) {
      this.renderer.pipelineManager.setCurrentPipeline(pass, this.pipelineEntry);
    }
    /**
     * Render the material if it is ready:
     * Set the current pipeline and set the bind groups
     * @param pass - current pass encoder
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setPipeline(pass);
      this.bindGroups.forEach((bindGroup) => {
        pass.setBindGroup(bindGroup.index, bindGroup.bindGroup);
      });
    }
    /**
     * Destroy the Material
     */
    destroy() {
      this.destroyBindGroups();
      this.destroyTextures();
    }
  }

  class ComputeMaterial extends Material {
    /**
     * ComputeMaterial constructor
     * @param renderer - our {@link Renderer} class object
     * @param parameters - {@link ComputeMaterialParams | parameters} used to create our {@link ComputeMaterial}
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      const type = "ComputeMaterial";
      isRenderer(renderer, type);
      super(renderer, parameters);
      this.type = type;
      this.renderer = renderer;
      let { shaders, dispatchSize } = parameters;
      if (!shaders || !shaders.compute) {
        shaders = {
          compute: {
            code: "",
            entryPoint: "main"
          }
        };
      }
      if (!shaders.compute.code) {
        shaders.compute.code = "@compute @workgroup_size(1) fn main(){}";
      }
      if (!shaders.compute.entryPoint) {
        shaders.compute.entryPoint = "main";
      }
      this.options = {
        ...this.options,
        shaders,
        ...parameters.dispatchSize !== void 0 && { dispatchSize: parameters.dispatchSize }
      };
      if (!dispatchSize) {
        dispatchSize = 1;
      }
      if (Array.isArray(dispatchSize)) {
        dispatchSize[0] = Math.ceil(dispatchSize[0] ?? 1);
        dispatchSize[1] = Math.ceil(dispatchSize[1] ?? 1);
        dispatchSize[2] = Math.ceil(dispatchSize[2] ?? 1);
      } else if (!isNaN(dispatchSize)) {
        dispatchSize = [Math.ceil(dispatchSize), 1, 1];
      }
      this.dispatchSize = dispatchSize;
      this.pipelineEntry = this.renderer.pipelineManager.createComputePipeline({
        renderer: this.renderer,
        label: this.options.label + " compute pipeline",
        shaders: this.options.shaders,
        useAsync: this.options.useAsyncPipeline
      });
    }
    /**
     * When all bind groups are created, add them to the {@link ComputePipelineEntry}
     */
    setPipelineEntryProperties() {
      this.pipelineEntry.setPipelineEntryProperties({
        bindGroups: this.bindGroups
      });
    }
    /**
     * Compile the {@link ComputePipelineEntry}
     * @async
     */
    async compilePipelineEntry() {
      await this.pipelineEntry.compilePipelineEntry();
    }
    /**
     * Check if all bind groups are ready, create them if needed, set {@link ComputePipelineEntry} bind group buffers and compile the pipeline
     * @async
     */
    async compileMaterial() {
      super.compileMaterial();
      if (this.pipelineEntry && this.pipelineEntry.canCompile) {
        this.setPipelineEntryProperties();
        await this.compilePipelineEntry();
      }
    }
    /**
     * Get the complete code of a given shader including all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="compute"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getShaderCode(shaderType = "compute") {
      return super.getShaderCode(shaderType);
    }
    /**
     * Get the added code of a given shader, i.e. all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="compute"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getAddedShaderCode(shaderType = "compute") {
      return super.getAddedShaderCode(shaderType);
    }
    /* RENDER */
    /**
     * If a custom render function has been defined instead of the default one, register the callback
     * @param callback - callback to run instead of the default render behaviour, which is to set the {@link bindGroups | bind groups} and dispatch the work groups based on the {@link dispatchSize | default dispatch size}. This is where you will have to set all the {@link core/bindGroups/BindGroup.BindGroup | bind groups} and dispatch the workgroups by yourself.
     */
    useCustomRender(callback) {
      if (callback) {
        this._useCustomRenderCallback = callback;
      }
    }
    /**
     * Render the material if it is ready:
     * Set the current pipeline, set the bind groups and dispatch the work groups
     * @param pass - current compute pass encoder
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setPipeline(pass);
      if (this._useCustomRenderCallback !== void 0) {
        this._useCustomRenderCallback(pass);
      } else {
        this.bindGroups.forEach((bindGroup) => {
          pass.setBindGroup(bindGroup.index, bindGroup.bindGroup);
        });
        pass.dispatchWorkgroups(this.dispatchSize[0], this.dispatchSize[1], this.dispatchSize[2]);
      }
    }
    /* RESULT BUFFER */
    /**
     * Copy all writable binding buffers that need it
     * @param commandEncoder - current command encoder
     */
    copyBufferToResult(commandEncoder) {
      this.bindGroups.forEach((bindGroup) => {
        bindGroup.bufferBindings.forEach((binding) => {
          if (binding.shouldCopyResult && binding.resultBuffer.mapState === "unmapped") {
            commandEncoder.copyBufferToBuffer(binding.buffer, 0, binding.resultBuffer, 0, binding.resultBuffer.size);
          }
        });
      });
    }
    /**
     * Get the {@link core/bindings/WritableBufferBinding.WritableBufferBinding#resultBuffer | result GPU buffer} content by {@link core/bindings/WritableBufferBinding.WritableBufferBinding | binding} and {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} names
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - {@link core/bindings/WritableBufferBinding.WritableBufferBinding#name | binding name} from which to get the result
     * @param parameters.bufferElementName - optional {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} (i.e. struct member) name if the result needs to be restrained to only one element
     * @async
     * @returns - the mapped content of the {@link GPUBuffer} as a {@link Float32Array}
     */
    async getComputeResult({
      bindingName = "",
      bufferElementName = ""
    }) {
      const binding = this.getBufferBindingByName(bindingName);
      if (binding && "resultBuffer" in binding && binding.resultBuffer.mapState === "unmapped") {
        const result = await this.getBufferResult(binding.resultBuffer);
        if (bufferElementName) {
          return binding.extractBufferElementDataFromBufferResult({ result, bufferElementName });
        } else {
          return result;
        }
      } else {
        return new Float32Array(0);
      }
    }
  }

  var __accessCheck$5 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$4 = (obj, member, getter) => {
    __accessCheck$5(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$5 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$3 = (obj, member, value, setter) => {
    __accessCheck$5(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _autoRender$1;
  let computePassIndex = 0;
  class ComputePass {
    /**
     * ComputePass constructor
     * @param renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link ComputePassParams | parameters} used to create our {@link ComputePass}
     */
    constructor(renderer, parameters = {}) {
      /**
       * Whether this {@link ComputePass} should be added to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically
       * @private
       */
      __privateAdd$5(this, _autoRender$1, true);
      // callbacks / events
      /** function assigned to the {@link onReady} callback */
      this._onReadyCallback = () => {
      };
      /** function assigned to the {@link onBeforeRender} callback */
      this._onBeforeRenderCallback = () => {
      };
      /** function assigned to the {@link onRender} callback */
      this._onRenderCallback = () => {
      };
      /** function assigned to the {@link onAfterRender} callback */
      this._onAfterRenderCallback = () => {
      };
      /** function assigned to the {@link onAfterResize} callback */
      this._onAfterResizeCallback = () => {
      };
      const type = "ComputePass";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? `${parameters.label} ${type}` : type);
      parameters.label = parameters.label ?? "ComputePass " + renderer.computePasses?.length;
      this.renderer = renderer;
      this.type = type;
      this.uuid = generateUUID();
      Object.defineProperty(this, "index", { value: computePassIndex++ });
      const {
        label,
        shaders,
        renderOrder,
        uniforms,
        storages,
        bindGroups,
        samplers,
        textures,
        renderTextures,
        autoRender,
        useAsyncPipeline,
        texturesOptions,
        dispatchSize
      } = parameters;
      this.options = {
        label,
        shaders,
        ...autoRender !== void 0 && { autoRender },
        ...renderOrder !== void 0 && { renderOrder },
        ...useAsyncPipeline !== void 0 && { useAsyncPipeline },
        ...dispatchSize !== void 0 && { dispatchSize },
        texturesOptions
        // TODO default
      };
      this.renderOrder = renderOrder ?? 0;
      if (autoRender !== void 0) {
        __privateSet$3(this, _autoRender$1, autoRender);
      }
      this.userData = {};
      this.ready = false;
      this.setComputeMaterial({
        label: this.options.label,
        shaders: this.options.shaders,
        uniforms,
        storages,
        bindGroups,
        samplers,
        textures,
        renderTextures,
        useAsyncPipeline,
        dispatchSize
      });
      this.addToScene();
    }
    /**
     * Get or set whether the compute pass is ready to render (the material has been successfully compiled)
     * @readonly
     */
    get ready() {
      return this._ready;
    }
    set ready(value) {
      if (value) {
        this._onReadyCallback && this._onReadyCallback();
      }
      this._ready = value;
    }
    /**
     * Add our compute pass to the scene and the renderer
     */
    addToScene() {
      this.renderer.computePasses.push(this);
      if (__privateGet$4(this, _autoRender$1)) {
        this.renderer.scene.addComputePass(this);
      }
    }
    /**
     * Remove our compute pass from the scene and the renderer
     */
    removeFromScene() {
      if (__privateGet$4(this, _autoRender$1)) {
        this.renderer.scene.removeComputePass(this);
      }
      this.renderer.computePasses = this.renderer.computePasses.filter((computePass) => computePass.uuid !== this.uuid);
    }
    /**
     * Create the compute pass material
     * @param computeParameters - {@link ComputeMaterial} parameters
     */
    setComputeMaterial(computeParameters) {
      this.material = new ComputeMaterial(this.renderer, computeParameters);
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
     * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to render
     */
    loseContext() {
      this.material.loseContext();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored
     */
    restoreContext() {
      this.material.restoreContext();
    }
    /* TEXTURES */
    /**
     * Get our {@link ComputeMaterial#textures | ComputeMaterial textures array}
     * @readonly
     */
    get textures() {
      return this.material?.textures || [];
    }
    /**
     * Get our {@link ComputeMaterial#renderTextures | ComputeMaterial render textures array}
     * @readonly
     */
    get renderTextures() {
      return this.material?.renderTextures || [];
    }
    /**
     * Create a new {@link Texture}
     * @param options - {@link TextureParams | Texture parameters}
     * @returns - newly created {@link Texture}
     */
    createTexture(options) {
      if (!options.name) {
        options.name = "texture" + this.textures.length;
      }
      if (!options.label) {
        options.label = this.options.label + " " + options.name;
      }
      const texture = new Texture(this.renderer, { ...options, ...this.options.texturesOptions });
      this.addTexture(texture);
      return texture;
    }
    /**
     * Add a {@link Texture}
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.material.addTexture(texture);
    }
    /**
     * Create a new {@link RenderTexture}
     * @param  options - {@link RenderTextureParams | RenderTexture parameters}
     * @returns - newly created {@link RenderTexture}
     */
    createRenderTexture(options) {
      if (!options.name) {
        options.name = "renderTexture" + this.renderTextures.length;
      }
      const renderTexture = new RenderTexture(this.renderer, options);
      this.addRenderTexture(renderTexture);
      return renderTexture;
    }
    /**
     * Add a {@link RenderTexture}
     * @param renderTexture - {@link RenderTexture} to add
     */
    addRenderTexture(renderTexture) {
      this.material.addTexture(renderTexture);
    }
    /**
     * Get our {@link ComputeMaterial#uniforms | ComputeMaterial uniforms}
     * @readonly
     */
    get uniforms() {
      return this.material?.uniforms;
    }
    /**
     * Get our {@link ComputeMaterial#storages | ComputeMaterial storages}
     * @readonly
     */
    get storages() {
      return this.material?.storages;
    }
    /**
     * Called from the renderer, useful to trigger an after resize callback.
     */
    resize() {
      this._onAfterResizeCallback && this._onAfterResizeCallback();
    }
    /** EVENTS **/
    /**
     * Callback to run when the {@link ComputePass} is ready
     * @param callback - callback to run when {@link ComputePass} is ready
     */
    onReady(callback) {
      if (callback) {
        this._onReadyCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run before the {@link ComputePass} is rendered
     * @param callback - callback to run just before {@link ComputePass} will be rendered
     */
    onBeforeRender(callback) {
      if (callback) {
        this._onBeforeRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run when the {@link ComputePass} is rendered
     * @param callback - callback to run when {@link ComputePass} is rendered
     */
    onRender(callback) {
      if (callback) {
        this._onRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run after the {@link ComputePass} has been rendered
     * @param callback - callback to run just after {@link ComputePass} has been rendered
     */
    onAfterRender(callback) {
      if (callback) {
        this._onAfterRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback used to run a custom render function instead of the default one.
     * @param callback - Your custom render function where you will have to set all the {@link core/bindGroups/BindGroup.BindGroup | bind groups} and dispatch the workgroups by yourself.
     */
    useCustomRender(callback) {
      this.material.useCustomRender(callback);
      return this;
    }
    /**
     * Callback to run after the {@link core/renderers/GPURenderer.GPURenderer | renderer} has been resized
     * @param callback - callback to run just after {@link core/renderers/GPURenderer.GPURenderer | renderer} has been resized
     */
    onAfterResize(callback) {
      if (callback) {
        this._onAfterResizeCallback = callback;
      }
      return this;
    }
    /**
     * Called before rendering the ComputePass
     * Checks if the material is ready and eventually update its struct
     */
    onBeforeRenderPass() {
      if (!this.renderer.ready)
        return;
      if (this.material && this.material.ready && !this.ready) {
        this.ready = true;
      }
      this._onBeforeRenderCallback && this._onBeforeRenderCallback();
      this.material.onBeforeRender();
    }
    /**
     * Render our {@link ComputeMaterial}
     * @param pass - current compute pass encoder
     */
    onRenderPass(pass) {
      if (!this.material.ready)
        return;
      this._onRenderCallback && this._onRenderCallback();
      this.material.render(pass);
    }
    /**
     * Called after having rendered the ComputePass
     */
    onAfterRenderPass() {
      this._onAfterRenderCallback && this._onAfterRenderCallback();
    }
    /**
     * Render our compute pass
     * Basically just check if our {@link core/renderers/GPURenderer.GPURenderer | renderer} is ready, and then render our {@link ComputeMaterial}
     * @param pass
     */
    render(pass) {
      this.onBeforeRenderPass();
      if (!this.renderer.ready)
        return;
      this.onRenderPass(pass);
      this.onAfterRenderPass();
    }
    /**
     * Copy the result of our read/write GPUBuffer into our result binding array
     * @param commandEncoder - current GPU command encoder
     */
    copyBufferToResult(commandEncoder) {
      this.material?.copyBufferToResult(commandEncoder);
    }
    /**
     * Get the {@link core/bindings/WritableBufferBinding.WritableBufferBinding#resultBuffer | result GPU buffer} content by {@link core/bindings/WritableBufferBinding.WritableBufferBinding | binding} and {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} names
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - {@link core/bindings/WritableBufferBinding.WritableBufferBinding#name | binding name} from which to get the result
     * @param parameters.bufferElementName - optional {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} (i.e. struct member) name if the result needs to be restrained to only one element
     * @async
     * @returns - the mapped content of the {@link GPUBuffer} as a {@link Float32Array}
     */
    async getComputeResult({
      bindingName,
      bufferElementName
    }) {
      return await this.material?.getComputeResult({ bindingName, bufferElementName });
    }
    /**
     * Remove the ComputePass from the scene and destroy it
     */
    remove() {
      this.removeFromScene();
      this.destroy();
    }
    /**
     * Destroy the ComputePass
     */
    destroy() {
      this.material?.destroy();
    }
  }
  _autoRender$1 = new WeakMap();

  const points = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];
  class Box3 {
    /**
     * Box3 constructor
     * @param min - min {@link Vec3 | vector} of the {@link Box3}
     * @param max - max {@link Vec3 | vector} of the {@link Box3}
     */
    constructor(min = new Vec3(Infinity), max = new Vec3(-Infinity)) {
      this.min = min;
      this.max = max;
    }
    /**
     * Set a {@link Box3} from two min and max {@link Vec3 | vectors}
     * @param min - min {@link Vec3 | vector} of the {@link Box3}
     * @param max - max {@link Vec3 | vector} of the {@link Box3}
     */
    set(min = new Vec3(Infinity), max = new Vec3(-Infinity)) {
      this.min.copy(min);
      this.max.copy(max);
      return this;
    }
    /**
     * Clone this {@link Box3}
     * @returns - cloned {@link Box3}
     */
    clone() {
      return new Box3().set(this.min, this.max);
    }
    /**
     * Get the {@link Box3} center
     * @returns - {@link Vec3 | center vector} of the {@link Box3}
     */
    getCenter() {
      return this.max.clone().add(this.min).multiplyScalar(0.5);
    }
    /**
     * Get the {@link Box3} size
     * @returns - {@link Vec3 | size vector} of the {@link Box3}
     */
    getSize() {
      return this.max.clone().sub(this.min);
    }
    /**
     * Apply a {@link Mat4 | matrix} to a {@link Box3}
     * Useful to apply a transformation {@link Mat4 | matrix} to a {@link Box3}
     * @param matrix - {@link Mat4 | matrix} to use
     * @returns - this {@link Box3} after {@link Mat4 | matrix} application
     */
    applyMat4(matrix = new Mat4()) {
      const corners = [];
      if (this.min.z === this.max.z) {
        corners[0] = points[0].set(this.min.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[1] = points[2].set(this.min.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[2] = points[4].set(this.max.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[3] = points[6].set(this.max.x, this.max.y, this.min.z).applyMat4(matrix);
      } else {
        corners[0] = points[0].set(this.min.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[1] = points[1].set(this.min.x, this.min.y, this.max.z).applyMat4(matrix);
        corners[2] = points[2].set(this.min.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[3] = points[3].set(this.min.x, this.max.y, this.max.z).applyMat4(matrix);
        corners[4] = points[4].set(this.max.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[5] = points[5].set(this.max.x, this.min.y, this.max.z).applyMat4(matrix);
        corners[6] = points[6].set(this.max.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[7] = points[7].set(this.max.x, this.max.y, this.max.z).applyMat4(matrix);
      }
      const transFormedBox = new Box3();
      for (let i = 0, cornersCount = corners.length; i < cornersCount; i++) {
        transFormedBox.min.min(corners[i]);
        transFormedBox.max.max(corners[i]);
      }
      return transFormedBox;
    }
  }

  const defaultDOMFrustumMargins = {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
  class DOMFrustum {
    /**
     * DOMFrustum constructor
     * @param {DOMFrustumParams} parameters - {@link DOMFrustumParams | parameters} used to create our {@link DOMFrustum}
     */
    constructor({
      boundingBox = new Box3(),
      modelViewProjectionMatrix = new Mat4(),
      containerBoundingRect = {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        width: 0,
        height: 0,
        x: 0,
        y: 0
      },
      DOMFrustumMargins = defaultDOMFrustumMargins,
      onReEnterView = () => {
      },
      onLeaveView = () => {
      }
    }) {
      this.boundingBox = boundingBox;
      this.modelViewProjectionMatrix = modelViewProjectionMatrix;
      this.containerBoundingRect = containerBoundingRect;
      this.DOMFrustumMargins = { ...defaultDOMFrustumMargins, ...DOMFrustumMargins };
      this.projectedBoundingRect = {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        width: 0,
        height: 0,
        x: 0,
        y: 0
      };
      this.onReEnterView = onReEnterView;
      this.onLeaveView = onLeaveView;
      this.isIntersecting = false;
      this.shouldUpdate = false;
    }
    /**
     * Set our {@link containerBoundingRect} (called on resize)
     * @param boundingRect - new bounding rectangle
     */
    setContainerBoundingRect(boundingRect) {
      this.containerBoundingRect = boundingRect;
    }
    /**
     * Get our DOM frustum bounding rectangle, i.e. our {@link containerBoundingRect} with the {@link DOMFrustumMargins} applied
     * @readonly
     */
    get DOMFrustumBoundingRect() {
      return {
        top: this.projectedBoundingRect.top - this.DOMFrustumMargins.top,
        right: this.projectedBoundingRect.right + this.DOMFrustumMargins.right,
        bottom: this.projectedBoundingRect.bottom + this.DOMFrustumMargins.bottom,
        left: this.projectedBoundingRect.left - this.DOMFrustumMargins.left
      };
    }
    /**
     * Applies all {@link modelViewProjectionMatrix} transformations to our {@link boundingBox} and then check against intersections
     */
    computeProjectedToDocumentCoords() {
      const projectedBox = this.boundingBox.applyMat4(this.modelViewProjectionMatrix);
      projectedBox.min.x = (projectedBox.min.x + 1) * 0.5;
      projectedBox.max.x = (projectedBox.max.x + 1) * 0.5;
      projectedBox.min.y = 1 - (projectedBox.min.y + 1) * 0.5;
      projectedBox.max.y = 1 - (projectedBox.max.y + 1) * 0.5;
      const { width, height, top, left } = this.containerBoundingRect;
      this.projectedBoundingRect = {
        left: projectedBox.min.x * width + left,
        x: projectedBox.min.x * width + left,
        top: projectedBox.max.y * height + top,
        y: projectedBox.max.y * height + top,
        right: projectedBox.max.x * width + left,
        bottom: projectedBox.min.y * height + top,
        width: projectedBox.max.x * width + left - (projectedBox.min.x * width + left),
        height: projectedBox.min.y * height + top - (projectedBox.max.y * height + top)
      };
      this.intersectsContainer();
    }
    /**
     * Check whether our {@link projectedBoundingRect} intersects with our {@link DOMFrustumBoundingRect}
     */
    intersectsContainer() {
      if (Math.round(this.DOMFrustumBoundingRect.right) <= this.containerBoundingRect.left || Math.round(this.DOMFrustumBoundingRect.left) >= this.containerBoundingRect.left + this.containerBoundingRect.width || Math.round(this.DOMFrustumBoundingRect.bottom) <= this.containerBoundingRect.top || Math.round(this.DOMFrustumBoundingRect.top) >= this.containerBoundingRect.top + this.containerBoundingRect.height) {
        if (this.isIntersecting) {
          this.onLeaveView();
        }
        this.isIntersecting = false;
      } else {
        if (!this.isIntersecting) {
          this.onReEnterView();
        }
        this.isIntersecting = true;
      }
    }
  }

  var __accessCheck$4 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateAdd$4 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck$4(obj, member, "access private method");
    return method;
  };
  var _setWGSLFragment, setWGSLFragment_fn;
  class Geometry {
    /**
     * Geometry constructor
     * @param parameters - {@link GeometryParams | parameters} used to create our Geometry
     */
    constructor({
      verticesOrder = "ccw",
      topology = "triangle-list",
      instancesCount = 1,
      vertexBuffers = []
    } = {}) {
      /**
       * Set the WGSL code snippet that will be appended to the vertex shader.
       * @private
       */
      __privateAdd$4(this, _setWGSLFragment);
      this.verticesCount = 0;
      this.verticesOrder = verticesOrder;
      this.topology = topology;
      this.instancesCount = instancesCount;
      this.boundingBox = new Box3();
      this.type = "Geometry";
      this.vertexBuffers = [];
      this.addVertexBuffer({
        name: "attributes"
      });
      this.options = {
        verticesOrder,
        instancesCount,
        vertexBuffers,
        topology
      };
      vertexBuffers.forEach((vertexBuffer) => {
        this.addVertexBuffer({
          stepMode: vertexBuffer.stepMode ?? "vertex",
          name: vertexBuffer.name,
          attributes: vertexBuffer.attributes
        });
      });
    }
    /**
     * Get whether this Geometry is ready to compute, i.e. if its first vertex buffer array has not been created yet
     * @readonly
     */
    get shouldCompute() {
      return this.vertexBuffers.length && !this.vertexBuffers[0].array;
    }
    /**
     * Get whether this geometry is ready to draw, i.e. it has been computed and all its vertex buffers have been created
     * @readonly
     */
    get ready() {
      return !this.shouldCompute && !this.vertexBuffers.find((vertexBuffer) => !vertexBuffer.buffer);
    }
    /**
     * Add a vertex buffer to our Geometry, set its attributes and return it
     * @param parameters - vertex buffer {@link VertexBufferParams | parameters}
     * @returns - newly created {@link VertexBuffer | vertex buffer}
     */
    addVertexBuffer({ stepMode = "vertex", name, attributes = [] } = {}) {
      const vertexBuffer = {
        name: name ?? "attributes" + this.vertexBuffers.length,
        stepMode,
        arrayStride: 0,
        bufferLength: 0,
        attributes: [],
        buffer: null
      };
      attributes?.forEach((attribute) => {
        this.setAttribute({
          vertexBuffer,
          ...attribute
        });
      });
      this.vertexBuffers.push(vertexBuffer);
      return vertexBuffer;
    }
    /**
     * Get a vertex buffer by name
     * @param name - our vertex buffer name
     * @returns - found {@link VertexBuffer | vertex buffer} or null if not found
     */
    getVertexBufferByName(name = "") {
      return this.vertexBuffers.find((vertexBuffer) => vertexBuffer.name === name);
    }
    /**
     * Set a vertex buffer attribute
     * @param parameters - attributes {@link VertexBufferAttributeParams | parameters}
     */
    setAttribute({
      vertexBuffer = this.vertexBuffers[0],
      name,
      type = "vec3f",
      bufferFormat = "float32x3",
      size = 3,
      array = new Float32Array(this.verticesCount * size),
      verticesStride = 1
    }) {
      const attributes = vertexBuffer.attributes;
      const attributesLength = attributes.length;
      if (!name)
        name = "geometryAttribute" + attributesLength;
      if (name === "position" && (type !== "vec3f" || bufferFormat !== "float32x3" || size !== 3)) {
        throwWarning(
          `Geometry 'position' attribute must have this exact properties set:
	type: 'vec3f',
	bufferFormat: 'float32x3',
	size: 3`
        );
        type = "vec3f";
        bufferFormat = "float32x3";
        size = 3;
      }
      const attributeCount = array.length / size;
      if (name === "position") {
        this.verticesCount = attributeCount;
      }
      if (vertexBuffer.stepMode === "vertex" && this.verticesCount && this.verticesCount !== attributeCount * verticesStride) {
        throwError(
          `Geometry vertex attribute error. Attribute array of size ${size} must be of length: ${this.verticesCount * size}, current given: ${array.length}. (${this.verticesCount} vertices).`
        );
      } else if (vertexBuffer.stepMode === "instance" && attributeCount !== this.instancesCount) {
        throwError(
          `Geometry instance attribute error. Attribute array of size ${size} must be of length: ${this.instancesCount * size}, current given: ${array.length}. (${this.instancesCount} instances).`
        );
      }
      const attribute = {
        name,
        type,
        bufferFormat,
        size,
        bufferLength: array.length,
        offset: attributesLength ? attributes.reduce((accumulator, currentValue) => {
          return accumulator + currentValue.bufferLength;
        }, 0) : 0,
        bufferOffset: attributesLength ? attributes[attributesLength - 1].bufferOffset + attributes[attributesLength - 1].size * 4 : 0,
        array,
        verticesStride
      };
      vertexBuffer.bufferLength += attribute.bufferLength * verticesStride;
      vertexBuffer.arrayStride += attribute.size;
      vertexBuffer.attributes.push(attribute);
    }
    /**
     * Get an attribute by name
     * @param name - name of the attribute to find
     * @returns - found {@link VertexBufferAttribute | attribute} or null if not found
     */
    getAttributeByName(name) {
      let attribute;
      this.vertexBuffers.forEach((vertexBuffer) => {
        attribute = vertexBuffer.attributes.find((attribute2) => attribute2.name === name);
      });
      return attribute;
    }
    /**
     * Compute a Geometry, which means iterate through all vertex buffers and create the attributes array that will be sent as buffers.
     * Also compute the Geometry bounding box.
     */
    computeGeometry() {
      if (!this.shouldCompute)
        return;
      this.vertexBuffers.forEach((vertexBuffer, index) => {
        if (index === 0) {
          const hasPositionAttribute = vertexBuffer.attributes.find(
            (attribute) => attribute.name === "position"
          );
          if (!hasPositionAttribute) {
            throwError(`Geometry must have a 'position' attribute`);
          }
          if (hasPositionAttribute.type !== "vec3f" || hasPositionAttribute.bufferFormat !== "float32x3" || hasPositionAttribute.size !== 3) {
            throwWarning(
              `Geometry 'position' attribute must have this exact properties set:
	type: 'vec3f',
	bufferFormat: 'float32x3',
	size: 3`
            );
            hasPositionAttribute.type = "vec3f";
            hasPositionAttribute.bufferFormat = "float32x3";
            hasPositionAttribute.size = 3;
          }
        }
        vertexBuffer.array = new Float32Array(vertexBuffer.bufferLength);
        let currentIndex = 0;
        let attributeIndex = 0;
        for (let i = 0; i < vertexBuffer.bufferLength; i += vertexBuffer.arrayStride) {
          for (let j = 0; j < vertexBuffer.attributes.length; j++) {
            const { name, size, array, verticesStride } = vertexBuffer.attributes[j];
            for (let s = 0; s < size; s++) {
              const attributeValue = array[Math.floor(attributeIndex / verticesStride) * size + s];
              vertexBuffer.array[currentIndex] = attributeValue;
              if (name === "position") {
                if (s % 3 === 0) {
                  if (this.boundingBox.min.x > attributeValue)
                    this.boundingBox.min.x = attributeValue;
                  if (this.boundingBox.max.x < attributeValue)
                    this.boundingBox.max.x = attributeValue;
                } else if (s % 3 === 1) {
                  if (this.boundingBox.min.y > attributeValue)
                    this.boundingBox.min.y = attributeValue;
                  if (this.boundingBox.max.y < attributeValue)
                    this.boundingBox.max.y = attributeValue;
                } else if (s % 3 === 2) {
                  if (this.boundingBox.min.z > attributeValue)
                    this.boundingBox.min.z = attributeValue;
                  if (this.boundingBox.max.z < attributeValue)
                    this.boundingBox.max.z = attributeValue;
                }
              }
              currentIndex++;
            }
          }
          attributeIndex++;
        }
      });
      __privateMethod(this, _setWGSLFragment, setWGSLFragment_fn).call(this);
    }
    /** RENDER **/
    /**
     * Set our render pass geometry vertex buffers
     * @param pass - current render pass
     */
    setGeometryBuffers(pass) {
      this.vertexBuffers.forEach((vertexBuffer, index) => {
        pass.setVertexBuffer(index, vertexBuffer.buffer);
      });
    }
    /**
     * Draw our geometry
     * @param pass - current render pass
     */
    drawGeometry(pass) {
      pass.draw(this.verticesCount, this.instancesCount);
    }
    /**
     * Set our vertex buffers then draw the geometry
     * @param pass - current render pass
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setGeometryBuffers(pass);
      this.drawGeometry(pass);
    }
    /**
     * Destroy our geometry vertex buffers
     */
    destroy() {
      this.vertexBuffers.forEach((vertexBuffer) => {
        vertexBuffer.buffer?.destroy();
        vertexBuffer.buffer = null;
      });
    }
  }
  _setWGSLFragment = new WeakSet();
  setWGSLFragment_fn = function() {
    let locationIndex = -1;
    this.wgslStructFragment = `struct Attributes {
	@builtin(vertex_index) vertexIndex : u32,
	@builtin(instance_index) instanceIndex : u32,${this.vertexBuffers.map((vertexBuffer) => {
    return vertexBuffer.attributes.map((attribute) => {
      locationIndex++;
      return `
	@location(${locationIndex}) ${attribute.name}: ${attribute.type}`;
    });
  }).join(",")}
};`;
  };

  class IndexedGeometry extends Geometry {
    /**
     * IndexedGeometry constructor
     * @param parameters - {@link GeometryParams | parameters} used to create our IndexedGeometry
     */
    constructor({
      verticesOrder = "ccw",
      topology = "triangle-list",
      instancesCount = 1,
      vertexBuffers = []
    } = {}) {
      super({ verticesOrder, topology, instancesCount, vertexBuffers });
      this.type = "IndexedGeometry";
    }
    /**
     * Get whether this geometry is ready to draw, i.e. it has been computed, all its vertex buffers have been created and its index buffer has been created as well
     * @readonly
     */
    get ready() {
      return !this.shouldCompute && !this.vertexBuffers.find((vertexBuffer) => !vertexBuffer.buffer) && this.indexBuffer && !!this.indexBuffer.buffer;
    }
    /**
     * If we have less than 65.536 vertices, we should use a Uin16Array to hold our index buffer values
     * @readonly
     */
    get useUint16IndexArray() {
      return this.verticesCount < 256 * 256;
    }
    /**
     * Set our {@link indexBuffer}
     * @param parameters - {@link IndexedGeometryIndexBufferOptions | parameters} used to create our index buffer
     */
    setIndexBuffer({ bufferFormat = "uint32", array = new Uint32Array(0) }) {
      this.indexBuffer = {
        array,
        bufferFormat,
        bufferLength: array.length,
        buffer: null
      };
    }
    /** RENDER **/
    /**
     * First, set our render pass geometry vertex buffers
     * Then, set our render pass geometry index buffer
     * @param pass - current render pass
     */
    setGeometryBuffers(pass) {
      super.setGeometryBuffers(pass);
      pass.setIndexBuffer(this.indexBuffer.buffer, this.indexBuffer.bufferFormat);
    }
    /**
     * Override the parentMesh draw method to draw indexed geometry
     * @param pass - current render pass
     */
    drawGeometry(pass) {
      pass.drawIndexed(this.indexBuffer.bufferLength, this.instancesCount);
    }
    /**
     * Destroy our indexed geometry vertex buffers and index buffer
     */
    destroy() {
      super.destroy();
      this.indexBuffer?.buffer?.destroy();
      this.indexBuffer.buffer = null;
    }
  }

  class PlaneGeometry extends IndexedGeometry {
    /**
     * PlaneGeometry constructor
     * @param parameters - {@link PlaneGeometryParams | parameters} used to create our PlaneGeometry
     */
    constructor({
      widthSegments = 1,
      heightSegments = 1,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "cw", topology, instancesCount, vertexBuffers });
      this.type = "PlaneGeometry";
      widthSegments = Math.floor(widthSegments);
      heightSegments = Math.floor(heightSegments);
      this.definition = {
        id: widthSegments * heightSegments + widthSegments,
        width: widthSegments,
        height: heightSegments,
        count: widthSegments * heightSegments
      };
      const verticesCount = (this.definition.width + 1) * (this.definition.height + 1);
      const attributes = this.getIndexedVerticesAndUVs(verticesCount);
      Object.keys(attributes).forEach((attributeKey) => {
        this.setAttribute(attributes[attributeKey]);
      });
      this.setIndexArray();
    }
    /**
     * Set our PlaneGeometry index array
     */
    setIndexArray() {
      const indexArray = this.useUint16IndexArray ? new Uint16Array(this.definition.count * 6) : new Uint32Array(this.definition.count * 6);
      let index = 0;
      for (let y = 0; y < this.definition.height; y++) {
        for (let x = 0; x < this.definition.width; x++) {
          indexArray[index++] = x + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 2 + y * (this.definition.width + 1);
        }
      }
      this.setIndexBuffer({
        array: indexArray,
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
    /**
     * Compute the UV and position arrays based on our plane widthSegments and heightSegments values and return the corresponding attributes
     * @param verticesCount - {@link Geometry#verticesCount | number of vertices} of our {@link PlaneGeometry}
     * @returns - our position and uv {@link VertexBufferAttributeParams | attributes}
     */
    getIndexedVerticesAndUVs(verticesCount) {
      const uv = {
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(verticesCount * 2)
      };
      const position = {
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        // nb of triangles * 3 vertices per triangle * 3 coordinates per triangle
        size: 3,
        array: new Float32Array(verticesCount * 3)
      };
      const normal = {
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        // nb of triangles * 3 vertices per triangle * 3 coordinates per triangle
        size: 3,
        array: new Float32Array(verticesCount * 3)
      };
      let positionOffset = 0;
      let normalOffset = 0;
      let uvOffset = 0;
      for (let y = 0; y <= this.definition.height; y++) {
        for (let x = 0; x <= this.definition.width; x++) {
          uv.array[uvOffset++] = x / this.definition.width;
          uv.array[uvOffset++] = 1 - y / this.definition.height;
          position.array[positionOffset++] = x * 2 / this.definition.width - 1;
          position.array[positionOffset++] = y * 2 / this.definition.height - 1;
          position.array[positionOffset++] = 0;
          normal.array[normalOffset++] = 0;
          normal.array[normalOffset++] = 0;
          normal.array[normalOffset++] = 1;
        }
      }
      return { position, uv, normal };
    }
  }

  class RenderMaterial extends Material {
    /**
     * RenderMaterial constructor
     * @param renderer - our renderer class object
     * @param parameters - {@link RenderMaterialParams | parameters} used to create our RenderMaterial
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      const type = "RenderMaterial";
      isRenderer(renderer, type);
      super(renderer, parameters);
      this.type = type;
      this.renderer = renderer;
      const { shaders, label, useAsyncPipeline, uniforms, storages, bindGroups, ...renderingOptions } = parameters;
      if (!shaders.vertex.entryPoint) {
        shaders.vertex.entryPoint = "main";
      }
      if (!shaders.fragment.entryPoint) {
        shaders.fragment.entryPoint = "main";
      }
      this.options = {
        ...this.options,
        shaders,
        rendering: renderingOptions
      };
      this.pipelineEntry = this.renderer.pipelineManager.createRenderPipeline({
        renderer: this.renderer,
        label: this.options.label + " render pipeline",
        shaders: this.options.shaders,
        useAsync: this.options.useAsyncPipeline,
        ...this.options.rendering
      });
      this.attributes = null;
    }
    /**
     * When all bind groups and attributes are created, add them to the {@link RenderPipelineEntry}
     */
    setPipelineEntryProperties() {
      this.pipelineEntry.setPipelineEntryProperties({
        attributes: this.attributes,
        bindGroups: this.bindGroups
      });
    }
    /**
     * Compile the {@link RenderPipelineEntry}
     * @async
     */
    async compilePipelineEntry() {
      await this.pipelineEntry.compilePipelineEntry();
    }
    /**
     * Check if attributes and all bind groups are ready, create them if needed and set {@link RenderPipelineEntry} bind group buffers and compile the pipeline
     * @async
     */
    async compileMaterial() {
      super.compileMaterial();
      if (this.attributes && this.pipelineEntry && this.pipelineEntry.canCompile) {
        this.setPipelineEntryProperties();
        await this.compilePipelineEntry();
      }
    }
    /**
     * Set or reset one of the {@link RenderMaterialRenderingOptions | rendering options}. Should be use with great caution, because if the {@link RenderPipelineEntry#pipeline | render pipeline} has already been compiled, it can cause a pipeline flush.
     * @param renderingOptions - new {@link RenderMaterialRenderingOptions | rendering options} properties to be set
     */
    setRenderingOptions(renderingOptions = {}) {
      const newProperties = Object.keys(renderingOptions).filter(
        (key) => renderingOptions[key] !== this.options.rendering[key]
      );
      this.options.rendering = { ...this.options.rendering, ...renderingOptions };
      if (this.pipelineEntry) {
        this.pipelineEntry.options = { ...this.pipelineEntry.options, ...this.options.rendering };
        if (this.pipelineEntry.ready && newProperties.length) {
          throwWarning(
            `${this.options.label}: the change of rendering options is causing this RenderMaterial pipeline to be flushed and recompiled. This should be avoided. Rendering options that caused this: { ${newProperties.map((key) => `"${key}": ${renderingOptions[key]}`).join(", ")} }`
          );
          this.pipelineEntry.flushPipelineEntry(this.bindGroups);
        }
      }
    }
    /* ATTRIBUTES */
    /**
     * Compute geometry if needed and get all useful geometry properties needed to create attributes buffers
     * @param geometry - the geometry to draw
     */
    setAttributesFromGeometry(geometry) {
      this.attributes = {
        wgslStructFragment: geometry.wgslStructFragment,
        vertexBuffers: geometry.vertexBuffers
      };
    }
    /* BIND GROUPS */
    /**
     * Create the bind groups if they need to be created, but first add Camera bind group if needed
     */
    createBindGroups() {
      const bindGroupStartIndex = this.options.rendering.useProjection ? 1 : 0;
      if (this.texturesBindGroup.shouldCreateBindGroup) {
        this.texturesBindGroup.setIndex(this.bindGroups.length + bindGroupStartIndex);
        this.texturesBindGroup.createBindGroup();
        this.bindGroups.push(this.texturesBindGroup);
      }
      this.inputsBindGroups.forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.setIndex(this.bindGroups.length + bindGroupStartIndex);
          bindGroup.createBindGroup();
          this.bindGroups.push(bindGroup);
        }
      });
    }
  }

  var default_vsWgsl = (
    /* wgsl */
    `
struct VertexOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
};

@vertex fn main(
  attributes: Attributes,
) -> VertexOutput {
  var vsOutput: VertexOutput;

  vsOutput.position = vec4f(attributes.position, 1.0);
  vsOutput.uv = attributes.uv;
  
  return vsOutput;
}`
  );

  var default_fsWgsl = (
    /* wgsl */
    `
@fragment fn main() -> @location(0) vec4f {
  return vec4(0.0, 0.0, 0.0, 1.0);
}`
  );

  var __accessCheck$3 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$3 = (obj, member, getter) => {
    __accessCheck$3(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$3 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$2 = (obj, member, value, setter) => {
    __accessCheck$3(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  let meshIndex = 0;
  const defaultMeshBaseParams = {
    // geometry
    geometry: new Geometry(),
    // material
    shaders: {},
    autoRender: true,
    useProjection: false,
    // rendering
    cullMode: "back",
    depth: true,
    depthWriteEnabled: true,
    depthCompare: "less",
    transparent: false,
    visible: true,
    renderOrder: 0,
    // textures
    texturesOptions: {}
  };
  function MeshBaseMixin(Base) {
    var _autoRender, _a;
    return _a = class extends Base {
      /**
       * MeshBase constructor
       *
       * @typedef MeshBaseArrayParams
       * @type {array}
       * @property {(Renderer|GPUCurtains)} 0 - our {@link Renderer} class object
       * @property {(string|HTMLElement|null)} 1 - a DOM HTML Element that can be bound to a Mesh
       * @property {MeshBaseParams} 2 - {@link MeshBaseParams | Mesh base parameters}
       *
       * @param {MeshBaseArrayParams} params - our MeshBaseMixin parameters
       */
      constructor(...params) {
        super(
          params[0],
          params[1],
          { ...defaultMeshBaseParams, ...params[2] }
        );
        /** Whether we should add this {@link MeshBase} to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically */
        __privateAdd$3(this, _autoRender, true);
        // callbacks / events
        /** function assigned to the {@link onReady} callback */
        this._onReadyCallback = () => {
        };
        /** function assigned to the {@link onBeforeRender} callback */
        this._onBeforeRenderCallback = () => {
        };
        /** function assigned to the {@link onRender} callback */
        this._onRenderCallback = () => {
        };
        /** function assigned to the {@link onAfterRender} callback */
        this._onAfterRenderCallback = () => {
        };
        /** function assigned to the {@link onAfterResize} callback */
        this._onAfterResizeCallback = () => {
        };
        let renderer = params[0];
        const parameters = { ...defaultMeshBaseParams, ...params[2] };
        this.type = "MeshBase";
        this.uuid = generateUUID();
        Object.defineProperty(this, "index", { value: meshIndex++ });
        renderer = renderer && renderer.renderer || renderer;
        isRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
        this.renderer = renderer;
        const {
          label,
          shaders,
          geometry,
          visible,
          renderOrder,
          renderTarget,
          texturesOptions,
          autoRender,
          ...meshParameters
        } = parameters;
        meshParameters.sampleCount = meshParameters.sampleCount ?? (this.renderer && this.renderer.renderPass) ? this.renderer.renderPass.options.sampleCount : 1;
        this.options = {
          ...this.options ?? {},
          // merge possible lower options?
          label: label ?? "Mesh " + this.renderer.meshes.length,
          shaders,
          texturesOptions,
          ...renderTarget !== void 0 && { renderTarget },
          ...autoRender !== void 0 && { autoRender },
          ...meshParameters.useAsyncPipeline !== void 0 && { useAsyncPipeline: meshParameters.useAsyncPipeline }
        };
        this.renderTarget = renderTarget ?? null;
        this.geometry = geometry;
        if (autoRender !== void 0) {
          __privateSet$2(this, _autoRender, autoRender);
        }
        this.visible = visible;
        this.renderOrder = renderOrder;
        this.ready = false;
        this.userData = {};
        this.computeGeometry();
        this.setMaterial({
          label: this.options.label,
          shaders: this.options.shaders,
          ...{ ...meshParameters, verticesOrder: geometry.verticesOrder, topology: geometry.topology }
        });
        this.addToScene();
      }
      /**
       * Get private #autoRender value
       * @readonly
       */
      get autoRender() {
        return __privateGet$3(this, _autoRender);
      }
      /**
       * Get/set whether a Mesh is ready or not
       * @readonly
       */
      get ready() {
        return this._ready;
      }
      set ready(value) {
        if (value) {
          this._onReadyCallback && this._onReadyCallback();
        }
        this._ready = value;
      }
      /* SCENE */
      /**
       * Add a Mesh to the renderer and the {@link core/scenes/Scene.Scene | Scene}
       */
      addToScene() {
        this.renderer.meshes.push(this);
        this.material?.setRenderingOptions({
          sampleCount: this.renderTarget ? this.renderTarget.renderPass.options.sampleCount : this.renderer.renderPass.options.sampleCount
        });
        if (__privateGet$3(this, _autoRender)) {
          this.renderer.scene.addMesh(this);
        }
      }
      /**
       * Remove a Mesh from the renderer and the {@link core/scenes/Scene.Scene | Scene}
       */
      removeFromScene() {
        if (__privateGet$3(this, _autoRender)) {
          this.renderer.scene.removeMesh(this);
        }
        this.renderer.meshes = this.renderer.meshes.filter((m) => m.uuid !== this.uuid);
      }
      /**
       * Set a new {@link Renderer} for this Mesh
       * @param renderer - new {@link Renderer} to set
       */
      setRenderer(renderer) {
        renderer = renderer && renderer.renderer || renderer;
        if (!renderer || !(renderer.type === "GPURenderer" || renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer")) {
          throwWarning(
            `${this.options.label}: Cannot set ${renderer} as a renderer because it is not of a valid Renderer type.`
          );
          return;
        }
        const oldRenderer = this.renderer;
        this.removeFromScene();
        this.renderer = renderer;
        this.addToScene();
        if (!oldRenderer.meshes.length) {
          oldRenderer.onBeforeRenderScene.add(
            (commandEncoder) => {
              oldRenderer.forceClear(commandEncoder);
            },
            { once: true }
          );
        }
      }
      /**
       * Assign or remove a {@link RenderTarget} to this Mesh
       * Since this manipulates the {@link core/scenes/Scene.Scene | Scene} stacks, it can be used to remove a RenderTarget as well.
       * @param renderTarget - the RenderTarget to assign or null if we want to remove the current RenderTarget
       */
      setRenderTarget(renderTarget) {
        if (renderTarget && renderTarget.type !== "RenderTarget") {
          throwWarning(`${this.options.label ?? this.type}: renderTarget is not a RenderTarget: ${renderTarget}`);
          return;
        }
        this.removeFromScene();
        this.renderTarget = renderTarget;
        this.addToScene();
      }
      /**
       * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
       * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to draw the Mesh
       */
      loseContext() {
        this.geometry.vertexBuffers.forEach((vertexBuffer) => {
          vertexBuffer.buffer = null;
        });
        if ("indexBuffer" in this.geometry) {
          this.geometry.indexBuffer.buffer = null;
        }
        this.material.loseContext();
      }
      /**
       * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored
       */
      restoreContext() {
        this.material.restoreContext();
      }
      /* SHADERS */
      /**
       * Set default shaders if one or both of them are missing
       */
      setShaders() {
        let { shaders } = this.options;
        if (!shaders) {
          shaders = {
            vertex: {
              code: default_vsWgsl,
              entryPoint: "main"
            },
            fragment: {
              code: default_fsWgsl,
              entryPoint: "main"
            }
          };
        } else {
          if (!shaders.vertex || !shaders.vertex.code) {
            shaders.vertex = {
              code: default_vsWgsl,
              entryPoint: "main"
            };
          }
          if (!shaders.fragment || !shaders.fragment.code) {
            shaders.fragment = {
              code: default_fsWgsl,
              entryPoint: "main"
            };
          }
        }
      }
      /* GEOMETRY */
      /**
       * Compute the Mesh geometry if needed
       */
      computeGeometry() {
        if (this.geometry.shouldCompute) {
          this.geometry.computeGeometry();
        }
      }
      /**
       * Create the Mesh Geometry vertex and index buffers if needed
       */
      createGeometryBuffers() {
        if (!this.geometry.ready) {
          this.geometry.vertexBuffers.forEach((vertexBuffer) => {
            if (!vertexBuffer.buffer) {
              vertexBuffer.buffer = this.renderer.createBuffer({
                label: this.options.label + " geometry: " + vertexBuffer.name + " buffer",
                size: vertexBuffer.array.byteLength,
                usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST
              });
              this.renderer.queueWriteBuffer(vertexBuffer.buffer, 0, vertexBuffer.array);
            }
          });
          if ("indexBuffer" in this.geometry && this.geometry.indexBuffer && !this.geometry.indexBuffer.buffer) {
            this.geometry.indexBuffer.buffer = this.renderer.createBuffer({
              label: this.options.label + " geometry: index buffer",
              size: this.geometry.indexBuffer.array.byteLength,
              usage: GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST
            });
            this.renderer.queueWriteBuffer(this.geometry.indexBuffer.buffer, 0, this.geometry.indexBuffer.array);
          }
        }
      }
      /**
       * Set our Mesh geometry: create buffers and add attributes to material
       */
      setGeometry() {
        if (this.geometry && this.renderer.ready) {
          this.createGeometryBuffers();
          this.setMaterialGeometryAttributes();
        }
      }
      /* MATERIAL */
      /**
       * Set a Mesh transparent property, then set its material
       * @param meshParameters - {@link RenderMaterialParams | RenderMaterial parameters}
       */
      setMaterial(meshParameters) {
        this.transparent = meshParameters.transparent;
        this.setShaders();
        this.material = new RenderMaterial(this.renderer, meshParameters);
        this.material.options.textures?.filter((texture) => texture instanceof Texture).forEach((texture) => this.onTextureAdded(texture));
      }
      /**
       * Set Mesh material attributes
       */
      setMaterialGeometryAttributes() {
        if (this.material && !this.material.attributes) {
          this.material.setAttributesFromGeometry(this.geometry);
        }
      }
      /* TEXTURES */
      /**
       * Get our {@link RenderMaterial#textures | RenderMaterial textures array}
       * @readonly
       */
      get textures() {
        return this.material?.textures || [];
      }
      /**
       * Get our {@link RenderMaterial#renderTextures | RenderMaterial render textures array}
       * @readonly
       */
      get renderTextures() {
        return this.material?.renderTextures || [];
      }
      /**
       * Create a new {@link Texture}
       * @param options - {@link TextureParams | Texture parameters}
       * @returns - newly created {@link Texture}
       */
      createTexture(options) {
        if (!options.name) {
          options.name = "texture" + this.textures.length;
        }
        if (!options.label) {
          options.label = this.options.label + " " + options.name;
        }
        const texture = new Texture(this.renderer, { ...options, ...this.options.texturesOptions });
        this.addTexture(texture);
        return texture;
      }
      /**
       * Add a {@link Texture}
       * @param texture - {@link Texture} to add
       */
      addTexture(texture) {
        this.material.addTexture(texture);
        this.onTextureAdded(texture);
      }
      /**
       * Callback run when a new {@link Texture} has been added
       * @param texture - newly created Texture
       */
      onTextureAdded(texture) {
        texture.parentMesh = this;
      }
      /**
       * Create a new {@link RenderTexture}
       * @param  options - {@link RenderTextureParams | RenderTexture parameters}
       * @returns - newly created {@link RenderTexture}
       */
      createRenderTexture(options) {
        if (!options.name) {
          options.name = "renderTexture" + this.renderTextures.length;
        }
        const renderTexture = new RenderTexture(this.renderer, options);
        this.addRenderTexture(renderTexture);
        return renderTexture;
      }
      /**
       * Add a {@link RenderTexture}
       * @param renderTexture - {@link RenderTexture} to add
       */
      addRenderTexture(renderTexture) {
        this.material.addTexture(renderTexture);
      }
      /* BINDINGS */
      /**
       * Get the current {@link RenderMaterial} uniforms
       * @readonly
       */
      get uniforms() {
        return this.material?.uniforms;
      }
      /**
       * Get the current {@link RenderMaterial} storages
       * @readonly
       */
      get storages() {
        return this.material?.storages;
      }
      /* RESIZE */
      /**
       * Resize the Mesh's render textures only if they're not storage textures
       */
      resizeRenderTextures() {
        this.renderTextures?.filter((renderTexture) => renderTexture.options.usage !== "storageTexture").forEach((renderTexture) => renderTexture.resize());
      }
      /**
       * Resize the Mesh's textures
       * @param boundingRect
       */
      resize(boundingRect) {
        this.resizeRenderTextures();
        if (super.resize) {
          super.resize(boundingRect);
        }
        this.textures?.forEach((texture) => {
          texture.resize();
        });
        this._onAfterResizeCallback && this._onAfterResizeCallback();
      }
      /* EVENTS */
      /**
       * Assign a callback function to _onReadyCallback
       * @param callback - callback to run when {@link MeshBase} is ready
       * @returns - our Mesh
       */
      onReady(callback) {
        if (callback) {
          this._onReadyCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onBeforeRenderCallback
       * @param callback - callback to run just before {@link MeshBase} will be rendered
       * @returns - our Mesh
       */
      onBeforeRender(callback) {
        if (callback) {
          this._onBeforeRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onRenderCallback
       * @param callback - callback to run when {@link MeshBase} is rendered
       * @returns - our Mesh
       */
      onRender(callback) {
        if (callback) {
          this._onRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onAfterRenderCallback
       * @param callback - callback to run just after {@link MeshBase} has been rendered
       * @returns - our Mesh
       */
      onAfterRender(callback) {
        if (callback) {
          this._onAfterRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onBeforeRenderCallback
       * @param callback - callback to run just after {@link MeshBase} has been resized
       * @returns - our Mesh
       */
      onAfterResize(callback) {
        if (callback) {
          this._onAfterResizeCallback = callback;
        }
        return this;
      }
      /* RENDER */
      /**
       * Called before rendering the Mesh
       * Set the geometry if needed (create buffers and add attributes to the {@link RenderMaterial})
       * Then executes {@link RenderMaterial#onBeforeRender}: create its bind groups and pipeline if needed and eventually update its struct
       */
      onBeforeRenderPass() {
        if (!this.renderer.ready)
          return;
        if (this.material && this.material.ready && this.geometry && this.geometry.ready && !this.ready) {
          this.ready = true;
        }
        this.setGeometry();
        this._onBeforeRenderCallback && this._onBeforeRenderCallback();
        this.material.onBeforeRender();
      }
      /**
       * Render our {@link MeshBase} if the {@link RenderMaterial} is ready
       * @param pass - current render pass encoder
       */
      onRenderPass(pass) {
        if (!this.material.ready)
          return;
        this._onRenderCallback && this._onRenderCallback();
        this.material.render(pass);
        this.geometry.render(pass);
      }
      /**
       * Called after having rendered the Mesh
       */
      onAfterRenderPass() {
        this._onAfterRenderCallback && this._onAfterRenderCallback();
      }
      /**
       * Render our Mesh
       * - Execute {@link onBeforeRenderPass}
       * - Stop here if {@link Renderer} is not ready or Mesh is not {@link visible}
       * - Execute super render call if it exists
       * - {@link onRenderPass | render} our {@link material} and {@link geometry}
       * - Execute {@link onAfterRenderPass}
       * @param pass - current render pass encoder
       */
      render(pass) {
        this.onBeforeRenderPass();
        if (!this.renderer.ready || !this.visible)
          return;
        if (super.render) {
          super.render();
        }
        this.onRenderPass(pass);
        this.onAfterRenderPass();
      }
      /* DESTROY */
      /**
       * Remove the Mesh from the {@link core/scenes/Scene.Scene | Scene} and destroy it
       */
      remove() {
        this.removeFromScene();
        this.destroy();
        if (!this.renderer.meshes.length) {
          this.renderer.onBeforeRenderScene.add(
            (commandEncoder) => {
              this.renderer.forceClear(commandEncoder);
            },
            { once: true }
          );
        }
      }
      /**
       * Destroy the Mesh
       */
      destroy() {
        if (super.destroy) {
          super.destroy();
        }
        this.material?.destroy();
        this.geometry.vertexBuffers.forEach((vertexBuffer) => {
          this.renderer.removeBuffer(
            vertexBuffer.buffer,
            this.options.label + " geometry: " + vertexBuffer.name + " buffer"
          );
        });
        if ("indexBuffer" in this.geometry) {
          this.renderer.removeBuffer(this.geometry.indexBuffer.buffer);
        }
        this.geometry?.destroy();
      }
    }, _autoRender = new WeakMap(), _a;
  }

  class CacheManager {
    /**
     * CacheManager constructor
     */
    constructor() {
      this.planeGeometries = [];
    }
    /**
     * Check if a given {@link PlaneGeometry} is already cached based on its {@link PlaneGeometry#definition.id | definition id}
     * @param planeGeometry - {@link PlaneGeometry} to check
     * @returns - {@link PlaneGeometry} found or null if not found
     */
    getPlaneGeometry(planeGeometry) {
      return this.planeGeometries.find((element) => element.definition.id === planeGeometry.definition.id);
    }
    /**
     * Check if a given {@link PlaneGeometry} is already cached based on its {@link PlaneGeometry#definition | definition id}
     * @param planeGeometryID - {@link PlaneGeometry#definition.id | PlaneGeometry definition id}
     * @returns - {@link PlaneGeometry} found or null if not found
     */
    getPlaneGeometryByID(planeGeometryID) {
      return this.planeGeometries.find((element) => element.definition.id === planeGeometryID);
    }
    /**
     * Add a {@link PlaneGeometry} to our cache {@link planeGeometries} array
     * @param planeGeometry
     */
    addPlaneGeometry(planeGeometry) {
      this.planeGeometries.push(planeGeometry);
    }
    /**
     * Destroy our {@link CacheManager}
     */
    destroy() {
      this.planeGeometries = [];
    }
  }
  const cacheManager = new CacheManager();

  class FullscreenPlane extends MeshBaseMixin(class {
  }) {
    /**
     * FullscreenPlane constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link FullscreenPlane}
     * @param parameters - {@link MeshBaseRenderParams | parameters} use to create this {@link FullscreenPlane}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " FullscreenQuadMesh" : "FullscreenQuadMesh");
      let geometry = cacheManager.getPlaneGeometryByID(2);
      if (!geometry) {
        geometry = new PlaneGeometry({ widthSegments: 1, heightSegments: 1 });
        cacheManager.addPlaneGeometry(geometry);
      }
      super(renderer, null, { geometry, ...parameters });
      this.size = {
        document: {
          width: this.renderer.boundingRect.width,
          height: this.renderer.boundingRect.height,
          top: this.renderer.boundingRect.top,
          left: this.renderer.boundingRect.left
        }
      };
      this.type = "FullscreenQuadMesh";
    }
    /**
     * Resize our {@link FullscreenPlane}
     * @param boundingRect - the new bounding rectangle
     */
    resize(boundingRect = null) {
      this.size.document = boundingRect ?? this.renderer.boundingRect;
      super.resize(boundingRect);
    }
    /**
     * Take the pointer {@link Vec2 | vector} position relative to the document and returns it relative to our {@link FullscreenPlane}
     * It ranges from -1 to 1 on both axis
     * @param mouseCoords - pointer {@link Vec2 | vector} coordinates
     * @returns - the mapped {@link Vec2 | vector} coordinates in the [-1, 1] range
     */
    mouseToPlaneCoords(mouseCoords = new Vec2()) {
      return new Vec2(
        (mouseCoords.x - this.size.document.left) / this.size.document.width * 2 - 1,
        1 - (mouseCoords.y - this.size.document.top) / this.size.document.height * 2
      );
    }
  }

  class ProjectedObject3D extends Object3D {
    /**
     * ProjectedObject3D constructor
     * @param renderer - {@link CameraRenderer} object or {@link GPUCurtains} class object used to create this {@link ProjectedObject3D}
     */
    constructor(renderer) {
      super();
      renderer = renderer && renderer.renderer || renderer;
      isCameraRenderer(renderer, "ProjectedObject3D");
      this.camera = renderer.camera;
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyPosition() {
      super.applyPosition();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyRotation() {
      super.applyRotation();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyScale() {
      super.applyScale();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyTransformOrigin() {
      super.applyTransformOrigin();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Set our transform and projection matrices
     */
    setMatrices() {
      super.setMatrices();
      this.matrices = {
        ...this.matrices,
        modelView: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.modelViewMatrix.multiplyMatrices(this.viewMatrix, this.worldMatrix);
          }
        },
        modelViewProjection: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.modelViewProjectionMatrix.multiplyMatrices(this.projectionMatrix, this.modelViewMatrix);
          }
        }
      };
    }
    /**
     * Get our {@link modelViewMatrix | model view matrix}
     */
    get modelViewMatrix() {
      return this.matrices.modelView.matrix;
    }
    /**
     * Set our {@link modelViewMatrix | model view matrix}
     * @param value - new {@link modelViewMatrix | model view matrix}
     */
    set modelViewMatrix(value) {
      this.matrices.modelView.matrix = value;
      this.matrices.modelView.shouldUpdate = true;
    }
    /**
     * Get our {@link Camera#viewMatrix | camera view matrix}
     * @readonly
     */
    get viewMatrix() {
      return this.camera.viewMatrix;
    }
    /**
     * Get our {@link Camera#projectionMatrix | camera projection matrix}
     * @readonly
     */
    get projectionMatrix() {
      return this.camera.projectionMatrix;
    }
    /**
     * Get our {@link modelViewProjectionMatrix | model view projection matrix}
     */
    get modelViewProjectionMatrix() {
      return this.matrices.modelViewProjection.matrix;
    }
    /**
     * Set our {@link modelViewProjectionMatrix | model view projection matrix}
     * @param value - new {@link modelViewProjectionMatrix | model view projection matrix}s
     */
    set modelViewProjectionMatrix(value) {
      this.matrices.modelViewProjection.matrix = value;
      this.matrices.modelViewProjection.shouldUpdate = true;
    }
    /**
     * Set our projection matrices shouldUpdate flags to true (tell them to update)
     */
    shouldUpdateProjectionMatrixStack() {
      this.matrices.modelView.shouldUpdate = true;
      this.matrices.modelViewProjection.shouldUpdate = true;
    }
    /**
     * When the world matrix update, tell our projection matrix to update as well
     */
    shouldUpdateWorldMatrix() {
      super.shouldUpdateWorldMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell all our matrices to update
     */
    shouldUpdateMatrixStack() {
      this.shouldUpdateModelMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
  }

  var default_projected_vsWgsl = (
    /* wgsl */
    `
struct VertexOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
  @location(1) normal: vec3f,
};

@vertex fn main(
  attributes: Attributes,
) -> VertexOutput {
  var vsOutput: VertexOutput;

  vsOutput.position = getOutputPosition(attributes.position);
  vsOutput.uv = attributes.uv;
  vsOutput.normal = attributes.normal;
  
  return vsOutput;
}`
  );

  var default_normal_fsWgsl = (
    /* wgsl */
    `
struct VSOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
  @location(1) normal: vec3f,
};

@fragment fn main(fsInput: VSOutput) -> @location(0) vec4f {
  // normals
  return vec4(normalize(fsInput.normal) * 0.5 + 0.5, 1.0);
}`
  );

  const defaultProjectedMeshParams = {
    // frustum culling and visibility
    frustumCulled: true,
    DOMFrustumMargins: {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    }
  };
  function ProjectedMeshBaseMixin(Base) {
    return class ProjectedMeshBase extends MeshBaseMixin(Base) {
      /**
       * ProjectedMeshBase constructor
       *
       * @typedef MeshBaseArrayParams
       * @type {array}
       * @property {(CameraRenderer|GPUCurtains)} 0 - our renderer class object
       * @property {(string|HTMLElement|null)} 1 - the DOM HTML Element that can be bound to a Mesh
       * @property {ProjectedMeshParameters} 2 - Projected Mesh parameters
       *
       * @param {MeshBaseArrayParams} params - our MeshBaseMixin parameters
       */
      constructor(...params) {
        super(
          params[0],
          params[1],
          { ...defaultProjectedMeshParams, ...params[2], ...{ useProjection: true } }
        );
        // callbacks / events
        /** function assigned to the {@link onReEnterView} callback */
        this._onReEnterViewCallback = () => {
        };
        /** function assigned to the {@link onLeaveView} callback */
        this._onLeaveViewCallback = () => {
        };
        let renderer = params[0];
        const parameters = {
          ...defaultProjectedMeshParams,
          ...params[2],
          ...{ useProjection: true }
        };
        this.type = "MeshTransformed";
        renderer = renderer && renderer.renderer || renderer;
        isCameraRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
        this.renderer = renderer;
        const { geometry, frustumCulled, DOMFrustumMargins } = parameters;
        this.options = {
          ...this.options ?? {},
          // merge possible lower options?
          frustumCulled,
          DOMFrustumMargins
        };
        this.setDOMFrustum();
        this.geometry = geometry;
        this.shouldUpdateMatrixStack();
      }
      /* SHADERS */
      /**
       * Set default shaders if one or both of them are missing
       */
      setShaders() {
        let { shaders } = this.options;
        if (!shaders) {
          shaders = {
            vertex: {
              code: default_projected_vsWgsl,
              entryPoint: "main"
            },
            fragment: {
              code: default_normal_fsWgsl,
              entryPoint: "main"
            }
          };
        } else {
          if (!shaders.vertex || !shaders.vertex.code) {
            shaders.vertex = {
              code: default_projected_vsWgsl,
              entryPoint: "main"
            };
          }
          if (!shaders.fragment || !shaders.fragment.code) {
            shaders.fragment = {
              code: default_normal_fsWgsl,
              entryPoint: "main"
            };
          }
        }
      }
      /* GEOMETRY */
      /**
       * Set the Mesh frustum culling
       */
      setDOMFrustum() {
        this.domFrustum = new DOMFrustum({
          boundingBox: this.geometry.boundingBox,
          modelViewProjectionMatrix: this.modelViewProjectionMatrix,
          containerBoundingRect: this.renderer.boundingRect,
          DOMFrustumMargins: this.options.DOMFrustumMargins,
          onReEnterView: () => {
            this._onReEnterViewCallback && this._onReEnterViewCallback();
          },
          onLeaveView: () => {
            this._onLeaveViewCallback && this._onLeaveViewCallback();
          }
        });
        this.DOMFrustumMargins = this.domFrustum.DOMFrustumMargins;
        this.frustumCulled = this.options.frustumCulled;
        this.domFrustum.shouldUpdate = this.frustumCulled;
      }
      /* MATERIAL */
      /**
       * Set a Mesh matrices uniforms inputs then call {@link MeshBaseClass} super method
       * @param meshParameters - {@link RenderMaterialParams | RenderMaterial parameters}
       */
      setMaterial(meshParameters) {
        const matricesUniforms = {
          label: "Matrices",
          struct: {
            model: {
              name: "model",
              type: "mat4x4f",
              value: this.modelMatrix
            },
            world: {
              name: "world",
              type: "mat4x4f",
              value: this.worldMatrix
            },
            modelView: {
              // model view matrix (world matrix multiplied by camera view matrix)
              name: "modelView",
              type: "mat4x4f",
              value: this.modelViewMatrix
            },
            modelViewProjection: {
              name: "modelViewProjection",
              type: "mat4x4f",
              value: this.modelViewProjectionMatrix
            }
          }
        };
        if (!meshParameters.uniforms)
          meshParameters.uniforms = {};
        meshParameters.uniforms.matrices = matricesUniforms;
        super.setMaterial(meshParameters);
      }
      /* SIZE & TRANSFORMS */
      /**
       * Resize our {@link ProjectedMeshBaseClass}
       * @param boundingRect - the new bounding rectangle
       */
      resize(boundingRect) {
        if (this.domFrustum)
          this.domFrustum.setContainerBoundingRect(this.renderer.boundingRect);
        super.resize(boundingRect);
      }
      /**
       * Apply scale and resize textures
       */
      applyScale() {
        super.applyScale();
        this.textures.forEach((texture) => texture.resize());
      }
      /**
       * Get our {@link DOMFrustum} projected bounding rectangle
       * @readonly
       */
      get projectedBoundingRect() {
        return this.domFrustum?.projectedBoundingRect;
      }
      /**
       * At least one of the matrix has been updated, update according uniforms and frustum
       */
      onAfterMatrixStackUpdate() {
        if (this.material) {
          this.material.shouldUpdateInputsBindings("matrices");
        }
        if (this.domFrustum)
          this.domFrustum.shouldUpdate = true;
      }
      /* EVENTS */
      /**
       * Assign a callback function to _onReEnterViewCallback
       * @param callback - callback to run when {@link ProjectedMeshBaseClass} is reentering the view frustum
       * @returns - our Mesh
       */
      onReEnterView(callback) {
        if (callback) {
          this._onReEnterViewCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onLeaveViewCallback
       * @param callback - callback to run when {@link ProjectedMeshBaseClass} is leaving the view frustum
       * @returns - our Mesh
       */
      onLeaveView(callback) {
        if (callback) {
          this._onLeaveViewCallback = callback;
        }
        return this;
      }
      /* RENDER */
      /**
       * Called before rendering the Mesh to update matrices and {@link DOMFrustum}.
       * First, we update our matrices to have fresh results. It eventually calls onAfterMatrixStackUpdate() if at least one matrix has been updated.
       * Then we check if we need to update the {@link DOMFrustum} projected bounding rectangle.
       * Finally we call {@link MeshBaseClass#onBeforeRenderPass | Mesh base onBeforeRenderPass} super
       */
      onBeforeRenderPass() {
        this.updateMatrixStack();
        if (this.domFrustum && this.domFrustum.shouldUpdate && this.frustumCulled) {
          this.domFrustum.computeProjectedToDocumentCoords();
          this.domFrustum.shouldUpdate = false;
        }
        super.onBeforeRenderPass();
      }
      /**
       * Only render the Mesh if it is in view frustum.
       * Since render() is actually called before onRenderPass(), we are sure to have fresh frustum bounding rectangle values here.
       * @param pass - current render pass
       */
      onRenderPass(pass) {
        if (!this.material.ready)
          return;
        this._onRenderCallback && this._onRenderCallback();
        if (this.domFrustum && this.domFrustum.isIntersecting || !this.frustumCulled) {
          this.material.render(pass);
          this.geometry.render(pass);
        }
      }
    };
  }

  class Mesh extends ProjectedMeshBaseMixin(ProjectedObject3D) {
    /**
     * Mesh constructor
     * @param renderer - {@link CameraRenderer} object or {@link GPUCurtains} class object used to create this {@link Mesh}
     * @param parameters - {@link MeshBaseParams | parameters} use to create this {@link Mesh}
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      isCameraRenderer(renderer, parameters.label ? parameters.label + " Mesh" : "Mesh");
      super(renderer, null, parameters);
      this.type = "Mesh";
    }
  }

  let pipelineId = 0;
  class PipelineEntry {
    /**
     * PipelineEntry constructor
     * @param parameters - {@link PipelineEntryParams | parameters} used to create this {@link PipelineEntry}
     */
    constructor(parameters) {
      this.type = "PipelineEntry";
      let { renderer } = parameters;
      const { label, shaders, useAsync } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, label ? label + " " + this.type : this.type);
      this.renderer = renderer;
      Object.defineProperty(this, "index", { value: pipelineId++ });
      this.layout = null;
      this.pipeline = null;
      this.status = {
        compiling: false,
        compiled: false,
        error: null
      };
      this.options = {
        label,
        shaders,
        useAsync: useAsync !== void 0 ? useAsync : true
      };
    }
    /**
     * Get whether the {@link pipeline} is ready, i.e. successfully compiled
     * @readonly
     */
    get ready() {
      return !this.status.compiling && this.status.compiled && !this.status.error;
    }
    /**
     * Get whether the {@link pipeline} is ready to be compiled, i.e. we have not already tried to compile it, and it's not currently compiling neither
     * @readonly
     */
    get canCompile() {
      return !this.status.compiling && !this.status.compiled && !this.status.error;
    }
    /**
     * Set our {@link PipelineEntry#bindGroups | pipeline entry bind groups}
     * @param bindGroups - {@link core/materials/Material.Material#bindGroups | bind groups} to use with this {@link PipelineEntry}
     */
    setPipelineEntryBindGroups(bindGroups) {
      this.bindGroups = bindGroups;
    }
    /* SHADERS */
    /**
     * Create a {@link GPUShaderModule}
     * @param parameters - Parameters used
     * @param parameters.code - patched WGSL code string
     * @param parameters.type - {@link MaterialShadersType | shader type}
     * @returns - compiled {@link GPUShaderModule} if successful
     */
    createShaderModule({ code = "", type = "vertex" }) {
      const shaderModule = this.renderer.createShaderModule({
        label: this.options.label + ": " + type + "Shader module",
        code
      });
      if ("getCompilationInfo" in shaderModule && !this.renderer.production) {
        shaderModule.getCompilationInfo().then((compilationInfo) => {
          for (const message of compilationInfo.messages) {
            let formattedMessage = "";
            if (message.lineNum) {
              formattedMessage += `Line ${message.lineNum}:${message.linePos} - ${code.substring(
              message.offset,
              message.offset + message.length
            )}
`;
            }
            formattedMessage += message.message;
            switch (message.type) {
              case "error":
                console.error(`${this.options.label} compilation error:
${formattedMessage}`);
                break;
              case "warning":
                console.warn(`${this.options.label} compilation warning:
${formattedMessage}`);
                break;
              case "info":
                console.log(`${this.options.label} compilation information:
${formattedMessage}`);
                break;
            }
          }
        });
      }
      return shaderModule;
    }
    /* SETUP */
    /**
     * Create the {@link PipelineEntry} shaders
     */
    createShaders() {
    }
    /**
     * Create the pipeline entry {@link layout}
     */
    createPipelineLayout() {
      this.layout = this.renderer.createPipelineLayout({
        label: this.options.label + " layout",
        bindGroupLayouts: this.bindGroups.map((bindGroup) => bindGroup.bindGroupLayout)
      });
    }
    /**
     * Create the {@link PipelineEntry} descriptor
     */
    createPipelineDescriptor() {
    }
    /**
     * Flush a {@link PipelineEntry}, i.e. reset its {@link bindGroups | bind groups}, {@link layout} and descriptor and recompile the {@link pipeline}
     * Used when one of the bind group or rendering property has changed
     * @param newBindGroups - new {@link bindGroups | bind groups} in case they have changed
     */
    flushPipelineEntry(newBindGroups = []) {
      this.status.compiling = false;
      this.status.compiled = false;
      this.status.error = null;
      this.setPipelineEntryBindGroups(newBindGroups);
      this.compilePipelineEntry();
    }
    /**
     * Set up a {@link pipeline} by creating the shaders, the {@link layout} and the descriptor
     */
    compilePipelineEntry() {
      this.status.compiling = true;
      this.createShaders();
      this.createPipelineLayout();
      this.createPipelineDescriptor();
    }
  }

  var get_output_position = (
    /* wgsl */
    `
fn getOutputPosition(position: vec3f) -> vec4f {
  return matrices.modelViewProjection * vec4f(position, 1.0);
}`
  );

  var get_uv_cover = (
    /* wgsl */
    `
fn getUVCover(uv: vec2f, textureMatrix: mat4x4f) -> vec2f {
  return (textureMatrix * vec4f(uv, 0.0, 1.0)).xy;
}`
  );

  var get_vertex_to_uv_coords = (
    /* wgsl */
    `
fn getVertex2DToUVCoords(vertex: vec2f) -> vec2f {
  return vec2(
    vertex.x * 0.5 + 0.5,
    0.5 - vertex.y * 0.5
  );
}

fn getVertex3DToUVCoords(vertex: vec3f) -> vec2f {
  return vec2(
    vertex.x * 0.5 + 0.5,
    0.5 - vertex.y * 0.5
  );
}
`
  );

  const ShaderChunks = {
    /** WGSL code chunks added to the vertex shader */
    vertex: {
      /** Applies given texture matrix to given uv coordinates */
      get_uv_cover
    },
    /** WGSL code chunks added to the fragment shader */
    fragment: {
      /** Applies given texture matrix to given uv coordinates */
      get_uv_cover,
      /** Convert vertex position to uv coordinates */
      get_vertex_to_uv_coords
    }
  };
  const ProjectedShaderChunks = {
    /** WGSL code chunks added to the vertex shader */
    vertex: {
      /** Get output vec4f position vector by applying model view projection matrix to vec3f attribute position vector */
      get_output_position
    },
    /** WGSL code chunks added to the fragment shader */
    fragment: {}
  };

  class RenderPipelineEntry extends PipelineEntry {
    /**
     * RenderPipelineEntry constructor
     * @param parameters - {@link RenderPipelineEntryParams | parameters} used to create this {@link RenderPipelineEntry}
     */
    constructor(parameters) {
      let { renderer } = parameters;
      const { label, ...renderingOptions } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      const type = "RenderPipelineEntry";
      isRenderer(renderer, label ? label + " " + type : type);
      super(parameters);
      this.type = type;
      this.shaders = {
        vertex: {
          head: "",
          code: "",
          module: null
        },
        fragment: {
          head: "",
          code: "",
          module: null
        },
        full: {
          head: "",
          code: "",
          module: null
        }
      };
      this.descriptor = null;
      this.options = {
        ...this.options,
        ...renderingOptions
      };
    }
    // TODO! need to chose whether we should silently add the camera bind group here
    // or explicitly in the RenderMaterial class createBindGroups() method
    /**
     * Merge our {@link bindGroups | pipeline entry bind groups} with the {@link CameraRenderer#cameraBindGroup | camera bind group} if needed and set them
     * @param bindGroups - {@link core/materials/RenderMaterial.RenderMaterial#bindGroups | bind groups} to use with this {@link RenderPipelineEntry}
     */
    setPipelineEntryBindGroups(bindGroups) {
      this.bindGroups = "cameraBindGroup" in this.renderer && this.options.useProjection ? [this.renderer.cameraBindGroup, ...bindGroups] : bindGroups;
    }
    /**
     * Set {@link RenderPipelineEntry} properties (in this case the {@link bindGroups | bind groups} and {@link attributes})
     * @param parameters - the {@link core/materials/RenderMaterial.RenderMaterial#bindGroups | bind groups} and {@link core/materials/RenderMaterial.RenderMaterial#attributes | attributes} to use
     */
    setPipelineEntryProperties(parameters) {
      const { attributes, bindGroups } = parameters;
      this.attributes = attributes;
      this.setPipelineEntryBindGroups(bindGroups);
    }
    /* SHADERS */
    /**
     * Patch the shaders by appending all the necessary shader chunks, {@link bindGroups | bind groups}) and {@link attributes} WGSL code fragments to the given {@link PipelineEntryParams#shaders | parameter shader code}
     */
    patchShaders() {
      this.shaders.vertex.head = "";
      this.shaders.vertex.code = "";
      this.shaders.fragment.head = "";
      this.shaders.fragment.code = "";
      this.shaders.full.head = "";
      this.shaders.full.code = "";
      for (const chunk in ShaderChunks.vertex) {
        this.shaders.vertex.head = `${ShaderChunks.vertex[chunk]}
${this.shaders.vertex.head}`;
        this.shaders.full.head = `${ShaderChunks.vertex[chunk]}
${this.shaders.full.head}`;
      }
      for (const chunk in ShaderChunks.fragment) {
        this.shaders.fragment.head = `${ShaderChunks.fragment[chunk]}
${this.shaders.fragment.head}`;
        if (this.shaders.full.head.indexOf(ShaderChunks.fragment[chunk]) === -1) {
          this.shaders.full.head = `${ShaderChunks.fragment[chunk]}
${this.shaders.full.head}`;
        }
      }
      if (this.options.useProjection) {
        for (const chunk in ProjectedShaderChunks.vertex) {
          this.shaders.vertex.head = `${ProjectedShaderChunks.vertex[chunk]}
${this.shaders.vertex.head}`;
          this.shaders.full.head = `${ProjectedShaderChunks.vertex[chunk]}
${this.shaders.full.head}`;
        }
        for (const chunk in ProjectedShaderChunks.fragment) {
          this.shaders.fragment.head = `${ProjectedShaderChunks.fragment[chunk]}
${this.shaders.fragment.head}`;
          if (this.shaders.full.head.indexOf(ProjectedShaderChunks.fragment[chunk]) === -1) {
            this.shaders.full.head = `${ProjectedShaderChunks.fragment[chunk]}
${this.shaders.full.head}`;
          }
        }
      }
      const groupsBindings = [];
      this.bindGroups.forEach((bindGroup) => {
        let bindIndex = 0;
        bindGroup.bindings.forEach((binding, bindingIndex) => {
          binding.wgslGroupFragment.forEach((groupFragment, groupFragmentIndex) => {
            groupsBindings.push({
              groupIndex: bindGroup.index,
              visibility: binding.visibility,
              bindIndex,
              wgslStructFragment: binding.wgslStructFragment,
              wgslGroupFragment: groupFragment,
              newLine: bindingIndex === bindGroup.bindings.length - 1 && groupFragmentIndex === binding.wgslGroupFragment.length - 1
            });
            bindIndex++;
          });
        });
      });
      groupsBindings.forEach((groupBinding) => {
        if (groupBinding.visibility === GPUShaderStage.VERTEX || groupBinding.visibility === (GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE)) {
          if (groupBinding.wgslStructFragment && this.shaders.vertex.head.indexOf(groupBinding.wgslStructFragment) === -1) {
            this.shaders.vertex.head = `
${groupBinding.wgslStructFragment}
${this.shaders.vertex.head}`;
          }
          if (this.shaders.vertex.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
            this.shaders.vertex.head = `${this.shaders.vertex.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
            if (groupBinding.newLine)
              this.shaders.vertex.head += `
`;
          }
        }
        if (groupBinding.visibility === GPUShaderStage.FRAGMENT || groupBinding.visibility === (GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE)) {
          if (groupBinding.wgslStructFragment && this.shaders.fragment.head.indexOf(groupBinding.wgslStructFragment) === -1) {
            this.shaders.fragment.head = `
${groupBinding.wgslStructFragment}
${this.shaders.fragment.head}`;
          }
          if (this.shaders.fragment.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
            this.shaders.fragment.head = `${this.shaders.fragment.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
            if (groupBinding.newLine)
              this.shaders.fragment.head += `
`;
          }
        }
        if (groupBinding.wgslStructFragment && this.shaders.full.head.indexOf(groupBinding.wgslStructFragment) === -1) {
          this.shaders.full.head = `
${groupBinding.wgslStructFragment}
${this.shaders.full.head}`;
        }
        if (this.shaders.full.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
          this.shaders.full.head = `${this.shaders.full.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
          if (groupBinding.newLine)
            this.shaders.full.head += `
`;
        }
      });
      this.shaders.vertex.head = `${this.attributes.wgslStructFragment}
${this.shaders.vertex.head}`;
      this.shaders.full.head = `${this.attributes.wgslStructFragment}
${this.shaders.full.head}`;
      this.shaders.vertex.code = this.shaders.vertex.head + this.options.shaders.vertex.code;
      this.shaders.fragment.code = this.shaders.fragment.head + this.options.shaders.fragment.code;
      if (this.options.shaders.vertex.entryPoint !== this.options.shaders.fragment.entryPoint && this.options.shaders.vertex.code.localeCompare(this.options.shaders.fragment.code) === 0) {
        this.shaders.full.code = this.shaders.full.head + this.options.shaders.vertex.code;
      } else {
        this.shaders.full.code = this.shaders.full.head + this.options.shaders.vertex.code + this.options.shaders.fragment.code;
      }
    }
    /* SETUP */
    /**
     * Create the {@link shaders}: patch them and create the {@link GPUShaderModule}
     */
    createShaders() {
      this.patchShaders();
      const isSameShader = this.options.shaders.vertex.entryPoint !== this.options.shaders.fragment.entryPoint && this.options.shaders.vertex.code.localeCompare(this.options.shaders.fragment.code) === 0;
      this.shaders.vertex.module = this.createShaderModule({
        code: this.shaders[isSameShader ? "full" : "vertex"].code,
        type: "vertex"
      });
      this.shaders.fragment.module = this.createShaderModule({
        code: this.shaders[isSameShader ? "full" : "fragment"].code,
        type: "fragment"
      });
    }
    /**
     * Create the render pipeline {@link descriptor}
     */
    createPipelineDescriptor() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      let vertexLocationIndex = -1;
      const blend = this.options.blend ?? (this.options.transparent && {
        color: {
          srcFactor: "src-alpha",
          dstFactor: "one-minus-src-alpha"
        },
        alpha: {
          srcFactor: "one",
          dstFactor: "one-minus-src-alpha"
        }
      });
      this.descriptor = {
        label: this.options.label,
        layout: this.layout,
        vertex: {
          module: this.shaders.vertex.module,
          entryPoint: this.options.shaders.vertex.entryPoint,
          buffers: this.attributes.vertexBuffers.map((vertexBuffer) => {
            return {
              stepMode: vertexBuffer.stepMode,
              arrayStride: vertexBuffer.arrayStride * 4,
              // 4 bytes each
              attributes: vertexBuffer.attributes.map((attribute) => {
                vertexLocationIndex++;
                return {
                  shaderLocation: vertexLocationIndex,
                  offset: attribute.bufferOffset,
                  // previous attribute size * 4
                  format: attribute.bufferFormat
                };
              })
            };
          })
        },
        fragment: {
          module: this.shaders.fragment.module,
          entryPoint: this.options.shaders.fragment.entryPoint,
          targets: [
            {
              format: this.options.targetFormat ?? this.renderer.options.preferredFormat,
              ...blend && {
                blend
              }
            }
          ]
        },
        primitive: {
          topology: this.options.topology,
          frontFace: this.options.verticesOrder,
          cullMode: this.options.cullMode
        },
        ...this.options.depth && {
          depthStencil: {
            depthWriteEnabled: this.options.depthWriteEnabled,
            depthCompare: this.options.depthCompare,
            format: "depth24plus"
          }
        },
        ...this.options.sampleCount > 1 && {
          multisample: {
            count: this.options.sampleCount
          }
        }
      };
    }
    /**
     * Create the render {@link pipeline}
     */
    createRenderPipeline() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      try {
        this.pipeline = this.renderer.createRenderPipeline(this.descriptor);
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Asynchronously create the render {@link pipeline}
     * @async
     * @returns - void promise result
     */
    async createRenderPipelineAsync() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      try {
        this.pipeline = await this.renderer.createRenderPipelineAsync(this.descriptor);
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Call {@link PipelineEntry#compilePipelineEntry | PipelineEntry compilePipelineEntry} method, then create our render {@link pipeline}
     * @async
     */
    async compilePipelineEntry() {
      super.compilePipelineEntry();
      if (this.options.useAsync) {
        await this.createRenderPipelineAsync();
      } else {
        this.createRenderPipeline();
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      }
    }
  }

  class ComputePipelineEntry extends PipelineEntry {
    /**
     * ComputePipelineEntry constructor
     * @param parameters - {@link PipelineEntryParams | parameters} used to create this {@link ComputePipelineEntry}
     */
    constructor(parameters) {
      let { renderer } = parameters;
      const { label } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      const type = "ComputePipelineEntry";
      isRenderer(renderer, label ? label + " " + type : type);
      super(parameters);
      this.type = type;
      this.shaders = {
        compute: {
          head: "",
          code: "",
          module: null
        }
      };
      this.descriptor = null;
    }
    /**
     * Set {@link ComputePipelineEntry} properties (in this case the {@link bindGroups | bind groups})
     * @param parameters - the {@link core/materials/ComputeMaterial.ComputeMaterial#bindGroups | bind groups} to use
     */
    setPipelineEntryProperties(parameters) {
      const { bindGroups } = parameters;
      this.setPipelineEntryBindGroups(bindGroups);
    }
    /* SHADERS */
    /**
     * Patch the shaders by appending all the {@link bindGroups | bind groups}) WGSL code fragments to the given {@link PipelineEntryParams#shaders | parameter shader code}
     */
    patchShaders() {
      this.shaders.compute.head = "";
      this.shaders.compute.code = "";
      const groupsBindings = [];
      this.bindGroups.forEach((bindGroup) => {
        let bindIndex = 0;
        bindGroup.bindings.forEach((binding, bindingIndex) => {
          binding.wgslGroupFragment.forEach((groupFragment, groupFragmentIndex) => {
            groupsBindings.push({
              groupIndex: bindGroup.index,
              visibility: binding.visibility,
              bindIndex,
              wgslStructFragment: binding.wgslStructFragment,
              wgslGroupFragment: groupFragment,
              newLine: bindingIndex === bindGroup.bindings.length - 1 && groupFragmentIndex === binding.wgslGroupFragment.length - 1
            });
            bindIndex++;
          });
        });
      });
      groupsBindings.forEach((groupBinding) => {
        if (groupBinding.wgslStructFragment && this.shaders.compute.head.indexOf(groupBinding.wgslStructFragment) === -1) {
          this.shaders.compute.head = `
${groupBinding.wgslStructFragment}
${this.shaders.compute.head}`;
        }
        if (this.shaders.compute.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
          this.shaders.compute.head = `${this.shaders.compute.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
        }
        if (groupBinding.newLine)
          this.shaders.compute.head += `
`;
      });
      this.shaders.compute.code = this.shaders.compute.head + this.options.shaders.compute.code;
    }
    /* SETUP */
    /**
     * Create the {@link shaders}: patch them and create the {@link GPUShaderModule}
     */
    createShaders() {
      this.patchShaders();
      this.shaders.compute.module = this.createShaderModule({
        code: this.shaders.compute.code,
        type: "compute"
      });
    }
    /**
     * Create the compute pipeline {@link descriptor}
     */
    createPipelineDescriptor() {
      if (!this.shaders.compute.module)
        return;
      this.descriptor = {
        label: this.options.label,
        layout: this.layout,
        compute: {
          module: this.shaders.compute.module,
          entryPoint: this.options.shaders.compute.entryPoint
        }
      };
    }
    /**
     * Create the compute {@link pipeline}
     */
    createComputePipeline() {
      if (!this.shaders.compute.module)
        return;
      try {
        this.pipeline = this.renderer.createComputePipeline(this.descriptor);
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Asynchronously create the compute {@link pipeline}
     * @async
     * @returns - void promise result
     */
    async createComputePipelineAsync() {
      if (!this.shaders.compute.module)
        return;
      try {
        this.pipeline = await this.renderer.createComputePipelineAsync(this.descriptor);
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Call {@link PipelineEntry#compilePipelineEntry | PipelineEntry compilePipelineEntry} method, then create our compute {@link pipeline}
     * @async
     */
    async compilePipelineEntry() {
      super.compilePipelineEntry();
      if (this.options.useAsync) {
        await this.createComputePipelineAsync();
      } else {
        this.createComputePipeline();
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      }
    }
  }

  class PipelineManager {
    constructor() {
      this.type = "PipelineManager";
      this.currentPipelineIndex = null;
      this.pipelineEntries = [];
    }
    /**
     * Checks if the provided {@link RenderPipelineEntryBaseParams | RenderPipelineEntry parameters} belongs to an already created {@link RenderPipelineEntry}.
     * @param parameters - {@link RenderPipelineEntryBaseParams | RenderPipelineEntry parameters}
     * @returns - the found {@link RenderPipelineEntry}, or null if not found
     */
    isSameRenderPipeline(parameters) {
      const {
        shaders,
        cullMode,
        depth,
        depthWriteEnabled,
        depthCompare,
        transparent,
        verticesOrder,
        topology,
        sampleCount
      } = parameters;
      return this.pipelineEntries.filter((pipelineEntry) => pipelineEntry instanceof RenderPipelineEntry).find((pipelineEntry) => {
        const { options } = pipelineEntry;
        return shaders.vertex.code.localeCompare(options.shaders.vertex.code) === 0 && shaders.vertex.entryPoint === options.shaders.vertex.entryPoint && shaders.fragment.code.localeCompare(options.shaders.fragment.code) === 0 && shaders.fragment.entryPoint === options.shaders.fragment.entryPoint && cullMode === options.cullMode && depth === options.depth && depthWriteEnabled === options.depthWriteEnabled && depthCompare === options.depthCompare && transparent === options.transparent && sampleCount === options.sampleCount && verticesOrder === options.verticesOrder && topology === options.topology;
      });
    }
    /**
     * Check if a {@link RenderPipelineEntry} has already been created with the given {@link RenderPipelineEntryParams | parameters}.
     * Use it if found, else create a new one and add it to the {@link pipelineEntries} array.
     * @param parameters - {@link RenderPipelineEntryParams | RenderPipelineEntry parameters}
     * @returns - {@link RenderPipelineEntry}, either from cache or newly created
     */
    createRenderPipeline(parameters) {
      const existingPipelineEntry = this.isSameRenderPipeline(parameters);
      if (existingPipelineEntry) {
        return existingPipelineEntry;
      } else {
        const pipelineEntry = new RenderPipelineEntry(parameters);
        this.pipelineEntries.push(pipelineEntry);
        return pipelineEntry;
      }
    }
    /**
     * Checks if the provided {@link PipelineEntryParams | parameters} belongs to an already created {@link ComputePipelineEntry}.
     * @param parameters - {@link PipelineEntryParams | PipelineEntry parameters}
     * @returns - the found {@link ComputePipelineEntry}, or null if not found
     */
    isSameComputePipeline(parameters) {
      const { shaders } = parameters;
      return this.pipelineEntries.filter((pipelineEntry) => pipelineEntry instanceof ComputePipelineEntry).find((pipelineEntry) => {
        const { options } = pipelineEntry;
        return shaders.compute.code.localeCompare(options.shaders.compute.code) === 0 && shaders.compute.entryPoint === options.shaders.compute.entryPoint;
      });
    }
    /**
     * Check if a {@link ComputePipelineEntry} has already been created with the given {@link PipelineEntryParams | parameters}.
     * Use it if found, else create a new one and add it to the {@link pipelineEntries} array.
     * @param parameters - {@link PipelineEntryParams | PipelineEntry parameters}
     * @returns - newly created {@link ComputePipelineEntry}
     */
    createComputePipeline(parameters) {
      const existingPipelineEntry = this.isSameComputePipeline(parameters);
      if (existingPipelineEntry) {
        return existingPipelineEntry;
      } else {
        const pipelineEntry = new ComputePipelineEntry(parameters);
        this.pipelineEntries.push(pipelineEntry);
        return pipelineEntry;
      }
    }
    /**
     * Check if the given {@link AllowedPipelineEntries | PipelineEntry} is already set, if not set it
     * @param pass - current pass encoder
     * @param pipelineEntry - the {@link AllowedPipelineEntries | PipelineEntry} to set
     */
    setCurrentPipeline(pass, pipelineEntry) {
      if (pipelineEntry.index !== this.currentPipelineIndex) {
        pass.setPipeline(pipelineEntry.pipeline);
        this.currentPipelineIndex = pipelineEntry.index;
      }
    }
    /**
     * Reset the {@link PipelineManager#currentPipelineIndex | current pipeline index} so the next {@link AllowedPipelineEntries | PipelineEntry} will be set for sure
     */
    resetCurrentPipeline() {
      this.currentPipelineIndex = null;
    }
  }

  class ResizeManager {
    /**
     * ResizeManager constructor
     */
    constructor() {
      this.shouldWatch = true;
      this.entries = [];
      this.resizeObserver = new ResizeObserver((observedEntries) => {
        const allEntries = observedEntries.map((observedEntry) => {
          return this.entries.filter((e) => e.element.isSameNode(observedEntry.target));
        }).flat().sort((a, b) => b.priority - a.priority);
        allEntries?.forEach((entry) => {
          if (entry && entry.callback) {
            entry.callback();
          }
        });
      });
    }
    /**
     * Set {@link shouldWatch}
     * @param shouldWatch - whether to watch or not
     */
    useObserver(shouldWatch = true) {
      this.shouldWatch = shouldWatch;
    }
    /**
     * Track an {@link HTMLElement} size change and execute a callback function when it happens
     * @param entry - {@link ResizeManagerEntry | entry} to watch
     */
    observe({ element, priority, callback }) {
      if (!element || !this.shouldWatch)
        return;
      this.resizeObserver.observe(element);
      const entry = {
        element,
        priority,
        callback
      };
      this.entries.push(entry);
    }
    /**
     * Unobserve an {@link HTMLElement} and remove it from our {@link entries} array
     * @param element - {@link HTMLElement} to unobserve
     */
    unobserve(element) {
      this.resizeObserver.unobserve(element);
      this.entries = this.entries.filter((e) => !e.element.isSameNode(element));
    }
    /**
     * Destroy our {@link ResizeManager}
     */
    destroy() {
      this.resizeObserver.disconnect();
    }
  }
  const resizeManager = new ResizeManager();

  class DOMElement {
    /**
     * DOMElement constructor
     * @param parameters - {@link DOMElementParams | parameters} used to create our DOMElement
     */
    constructor({
      element = document.body,
      priority = 1,
      onSizeChanged = (boundingRect = null) => {
      },
      onPositionChanged = (boundingRect = null) => {
      }
    } = {}) {
      if (typeof element === "string") {
        this.element = document.querySelector(element);
        if (!this.element) {
          const notFoundEl = typeof element === "string" ? `'${element}' selector` : `${element} HTMLElement`;
          throwError(`DOMElement: corresponding ${notFoundEl} not found.`);
        }
      } else {
        this.element = element;
      }
      this.priority = priority;
      this.isResizing = false;
      this.onSizeChanged = onSizeChanged;
      this.onPositionChanged = onPositionChanged;
      this.resizeManager = resizeManager;
      this.resizeManager.observe({
        element: this.element,
        priority: this.priority,
        callback: () => {
          this.setSize();
        }
      });
      this.setSize();
    }
    /**
     * Check whether 2 bounding rectangles are equals
     * @param rect1 - first bounding rectangle
     * @param rect2 - second bounding rectangle
     * @returns - whether the rectangles are equals or not
     */
    compareBoundingRect(rect1, rect2) {
      return !["x", "y", "left", "top", "right", "bottom", "width", "height"].some((k) => rect1[k] !== rect2[k]);
    }
    /**
     * Get our element bounding rectangle
     */
    get boundingRect() {
      return this._boundingRect;
    }
    /**
     * Set our element bounding rectangle
     * @param boundingRect - new bounding rectangle
     */
    set boundingRect(boundingRect) {
      const isSameRect = !!this.boundingRect && this.compareBoundingRect(boundingRect, this.boundingRect);
      this._boundingRect = {
        top: boundingRect.top,
        right: boundingRect.right,
        bottom: boundingRect.bottom,
        left: boundingRect.left,
        width: boundingRect.width,
        height: boundingRect.height,
        x: boundingRect.x,
        y: boundingRect.y
      };
      if (!isSameRect) {
        this.onSizeChanged(this.boundingRect);
      }
    }
    /**
     * Update our element bounding rectangle because the scroll position has changed
     * @param delta - scroll delta values along X and Y axis
     */
    updateScrollPosition(delta = { x: 0, y: 0 }) {
      if (this.isResizing)
        return;
      this._boundingRect.top += delta.y;
      this._boundingRect.left += delta.x;
      if (delta.x || delta.y) {
        this.onPositionChanged(this.boundingRect);
      }
    }
    /**
     * Set our element bounding rectangle, either by a value or a getBoundingClientRect call
     * @param boundingRect - new bounding rectangle
     */
    setSize(boundingRect = null) {
      if (!this.element)
        return;
      this.boundingRect = boundingRect ?? this.element.getBoundingClientRect();
      this.isResizing = false;
    }
    /**
     * Destroy our DOMElement - remove from resize observer and clear throttle timeout
     */
    destroy() {
      this.resizeManager.unobserve(this.element);
    }
  }

  var default_pass_fsWGSl = (
    /* wgsl */
    `
struct VSOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
};

@fragment fn main(fsInput: VSOutput) -> @location(0) vec4f {
  return textureSample(renderTexture, defaultSampler, fsInput.uv);
}`
  );

  class ShaderPass extends FullscreenPlane {
    /**
     * ShaderPass constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link ShaderPass}
     * @param parameters - {@link ShaderPassParams | parameters} use to create this {@link ShaderPass}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " ShaderPass" : "ShaderPass");
      parameters.transparent = true;
      parameters.label = parameters.label ?? "ShaderPass " + renderer.shaderPasses?.length;
      if (!parameters.shaders) {
        parameters.shaders = {};
      }
      if (!parameters.shaders.fragment) {
        parameters.shaders.fragment = {
          code: default_pass_fsWGSl,
          entryPoint: "main"
        };
      }
      parameters.depth = false;
      super(renderer, parameters);
      this.type = "ShaderPass";
      this.createRenderTexture({
        label: parameters.label ? `${parameters.label} render texture` : "Shader pass render texture",
        name: "renderTexture",
        fromTexture: this.renderTarget ? this.renderTarget.renderTexture : null
      });
    }
    /**
     * Get our main {@link RenderTexture}, the one that contains our post processed content
     * @readonly
     */
    get renderTexture() {
      return this.renderTextures.find((texture) => texture.options.name === "renderTexture");
    }
    /**
     * Assign or remove a {@link RenderTarget} to this {@link ShaderPass}
     * Since this manipulates the {@link core/scenes/Scene.Scene | Scene} stacks, it can be used to remove a RenderTarget as well.
     * Also copy or remove the {@link RenderTarget#renderTexture | render target render texture} into the {@link ShaderPass} {@link renderTexture}
     * @param renderTarget - the {@link RenderTarget} to assign or null if we want to remove the current {@link RenderTarget}
     */
    setRenderTarget(renderTarget) {
      super.setRenderTarget(renderTarget);
      if (renderTarget) {
        this.renderTexture.copy(this.renderTarget.renderTexture);
      } else {
        this.renderTexture.options.fromTexture = null;
        this.renderTexture.createTexture();
      }
    }
    /**
     * Add the {@link ShaderPass} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.shaderPasses.push(this);
      if (this.autoRender) {
        this.renderer.scene.addShaderPass(this);
      }
    }
    /**
     * Remove the {@link ShaderPass} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (this.renderTarget) {
        this.renderTarget.destroy();
      }
      if (this.autoRender) {
        this.renderer.scene.removeShaderPass(this);
      }
      this.renderer.shaderPasses = this.renderer.shaderPasses.filter((sP) => sP.uuid !== this.uuid);
    }
  }

  class RenderPass {
    /**
     * RenderPass constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link RenderPass}
     * @param parameters - {@link RenderPassParams | parameters} used to create this {@link RenderPass}
     */
    constructor(renderer, {
      label = "Render Pass",
      sampleCount = 4,
      loadOp = "clear",
      clearValue = [0, 0, 0, 0],
      targetFormat,
      depth = true,
      depthTexture,
      depthLoadOp = "clear",
      depthClearValue = 1
    } = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "RenderPass");
      this.type = "RenderPass";
      this.uuid = generateUUID();
      this.renderer = renderer;
      this.options = {
        label,
        sampleCount,
        // color
        loadOp,
        clearValue,
        targetFormat: targetFormat ?? this.renderer.options.preferredFormat,
        // depth
        depth,
        ...depthTexture !== void 0 && { depthTexture },
        depthLoadOp,
        depthClearValue
      };
      this.setClearValue(clearValue);
      if (this.options.depth) {
        this.createDepthTexture();
      }
      this.viewTexture = new RenderTexture(this.renderer, {
        label: this.options.label + " view texture",
        name: "viewTexture",
        format: this.options.targetFormat,
        sampleCount: this.options.sampleCount
      });
      this.setRenderPassDescriptor();
    }
    /**
     * Set our {@link depthTexture | depth texture}
     */
    createDepthTexture() {
      this.depthTexture = new RenderTexture(this.renderer, {
        label: this.options.label + " depth texture",
        name: "depthTexture",
        usage: "depthTexture",
        format: "depth24plus",
        sampleCount: this.options.sampleCount,
        ...this.options.depthTexture && { fromTexture: this.options.depthTexture }
      });
    }
    /**
     * Reset our {@link depthTexture | depth texture}
     */
    resetRenderPassDepth() {
      this.depthTexture.forceResize({
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      });
      this.descriptor.depthStencilAttachment.view = this.depthTexture.texture.createView({
        label: this.depthTexture.options.label + " view"
      });
    }
    /**
     * Reset our {@link viewTexture | view texture}
     */
    resetRenderPassView() {
      this.viewTexture.forceResize({
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      });
      this.descriptor.colorAttachments[0].view = this.viewTexture.texture.createView({
        label: this.viewTexture.options.label + " view"
      });
    }
    /**
     * Set our render pass {@link descriptor}
     */
    setRenderPassDescriptor() {
      this.descriptor = {
        label: this.options.label + " descriptor",
        colorAttachments: [
          {
            // view: <- to be filled out when we set our render pass view
            view: this.viewTexture.texture.createView({
              label: this.viewTexture.options.label + " view"
            }),
            // ...(this.options.sampleCount > 1 && {
            //   resolveTarget: this.resolveTexture.texture.createView({
            //     label: this.resolveTexture.options.label + ' view',
            //   }),
            // }),
            // clear values
            clearValue: this.options.clearValue,
            // loadOp: 'clear' specifies to clear the texture to the clear value before drawing
            // The other option is 'load' which means load the existing contents of the texture into the GPU so we can draw over what's already there.
            loadOp: this.options.loadOp,
            // storeOp: 'store' means store the result of what we draw.
            // We could also pass 'discard' which would throw away what we draw.
            // see https://webgpufundamentals.org/webgpu/lessons/webgpu-multisampling.html
            storeOp: "store"
          }
        ],
        ...this.options.depth && {
          depthStencilAttachment: {
            view: this.depthTexture.texture.createView({
              label: this.depthTexture.options.label + " view"
            }),
            depthClearValue: this.options.depthClearValue,
            // the same way loadOp is working, we can specify if we want to clear or load the previous depth buffer result
            depthLoadOp: this.options.depthLoadOp,
            depthStoreOp: "store"
          }
        }
      };
    }
    /**
     * Resize our {@link RenderPass}: reset its {@link RenderTexture}
     */
    resize() {
      if (this.options.depth)
        this.resetRenderPassDepth();
      this.resetRenderPassView();
    }
    /**
     * Set the {@link descriptor} {@link GPULoadOp | load operation}
     * @param loadOp - new {@link GPULoadOp | load operation} to use
     */
    setLoadOp(loadOp = "clear") {
      this.options.loadOp = loadOp;
      if (this.descriptor) {
        if (this.descriptor.colorAttachments) {
          this.descriptor.colorAttachments[0].loadOp = loadOp;
        }
      }
    }
    /**
     * Set the {@link descriptor} {@link GPULoadOp | depth load operation}
     * @param depthLoadOp - new {@link GPULoadOp | depth load operation} to use
     */
    setDepthLoadOp(depthLoadOp = "clear") {
      this.options.depthLoadOp = depthLoadOp;
      if (this.options.depth && this.descriptor.depthStencilAttachment) {
        this.descriptor.depthStencilAttachment.depthLoadOp = depthLoadOp;
      }
    }
    /**
     * Set our {@link GPUColor | clear colors value}.<br>
     * Beware that if the {@link renderer} is using {@link core/renderers/GPURenderer.GPURenderer#alphaMode | premultiplied alpha mode}, your R, G and B channels should be premultiplied by your alpha channel.
     * @param clearValue - new {@link GPUColor | clear colors value} to use
     */
    setClearValue(clearValue = [0, 0, 0, 0]) {
      if (this.renderer.alphaMode === "premultiplied") {
        const alpha = clearValue[3];
        clearValue[0] = Math.min(clearValue[0], alpha);
        clearValue[1] = Math.min(clearValue[1], alpha);
        clearValue[2] = Math.min(clearValue[2], alpha);
      } else {
        this.options.clearValue = clearValue;
      }
      if (this.descriptor && this.descriptor.colorAttachments) {
        this.descriptor.colorAttachments[0].clearValue = clearValue;
      }
    }
    /**
     * Destroy our {@link RenderPass}
     */
    destroy() {
      this.viewTexture?.destroy();
      if (!this.options.depthTexture && this.depthTexture) {
        this.depthTexture.destroy();
      }
    }
  }

  var __accessCheck$2 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$2 = (obj, member, getter) => {
    __accessCheck$2(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$2 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$1 = (obj, member, value, setter) => {
    __accessCheck$2(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _autoRender;
  class RenderTarget {
    /**
     * RenderTarget constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link RenderTarget}
     * @param parameters - {@link RenderTargetParams | parameters} use to create this {@link RenderTarget}
     */
    constructor(renderer, parameters) {
      /** Whether we should add this {@link RenderTarget} to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically */
      __privateAdd$2(this, _autoRender, true);
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "RenderTarget");
      this.type = "RenderTarget";
      this.renderer = renderer;
      this.uuid = generateUUID();
      const { label, targetFormat, autoRender, ...renderPassParams } = parameters;
      this.options = {
        label,
        ...renderPassParams,
        targetFormat: targetFormat ?? this.renderer.options.preferredFormat,
        autoRender
      };
      if (autoRender !== void 0) {
        __privateSet$1(this, _autoRender, autoRender);
      }
      this.renderPass = new RenderPass(this.renderer, {
        label: this.options.label ? `${this.options.label} Render Pass` : "Render Target Render Pass",
        targetFormat: this.options.targetFormat,
        depthTexture: this.renderer.renderPass.depthTexture,
        // reuse renderer depth texture for every pass
        ...renderPassParams
      });
      this.renderTexture = new RenderTexture(this.renderer, {
        label: this.options.label ? `${this.options.label} Render Texture` : "Render Target Render Texture",
        name: "renderTexture",
        format: this.options.targetFormat
      });
      this.addToScene();
    }
    /**
     * Add the {@link RenderTarget} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.renderTargets.push(this);
      if (__privateGet$2(this, _autoRender)) {
        this.renderer.scene.addRenderTarget(this);
      }
    }
    /**
     * Remove the {@link RenderTarget} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (__privateGet$2(this, _autoRender)) {
        this.renderer.scene.removeRenderTarget(this);
      }
      this.renderer.renderTargets = this.renderer.renderTargets.filter((renderTarget) => renderTarget.uuid !== this.uuid);
    }
    /**
     * Resize our {@link renderPass} and {@link renderTexture}
     * @param boundingRect - new {@link DOMElementBoundingRect | bounding rectangle}
     */
    resize(boundingRect) {
      this.renderPass.options.depthTexture.texture = this.renderer.renderPass.depthTexture.texture;
      this.renderPass?.resize();
      this.renderTexture?.resize();
    }
    /**
     * Remove our {@link RenderTarget}. Alias of {@link RenderTarget#destroy}
     */
    remove() {
      this.destroy();
    }
    /**
     * Destroy our {@link RenderTarget}
     */
    destroy() {
      this.renderer.meshes.forEach((mesh) => {
        if (mesh.renderTarget && mesh.renderTarget.uuid === this.uuid) {
          mesh.setRenderTarget(null);
        }
      });
      this.renderer.shaderPasses.forEach((shaderPass) => {
        if (shaderPass.renderTarget && shaderPass.renderTarget.uuid === this.uuid) {
          shaderPass.renderTarget = null;
          shaderPass.setRenderTarget(null);
        }
      });
      this.removeFromScene();
      this.renderPass?.destroy();
      this.renderTexture?.destroy();
    }
  }
  _autoRender = new WeakMap();

  class PingPongPlane extends FullscreenPlane {
    /**
     * PingPongPlane constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link PingPongPlane}
     * @param parameters - {@link MeshBaseRenderParams | parameters} use to create this {@link PingPongPlane}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " PingPongPlane" : "PingPongPlane");
      parameters.renderTarget = new RenderTarget(renderer, {
        label: parameters.label ? parameters.label + " render target" : "Ping Pong render target",
        depth: false,
        ...parameters.targetFormat && { targetFormat: parameters.targetFormat }
      });
      parameters.transparent = false;
      parameters.depth = false;
      parameters.label = parameters.label ?? "PingPongPlane " + renderer.pingPongPlanes?.length;
      super(renderer, parameters);
      this.type = "PingPongPlane";
      this.createRenderTexture({
        label: parameters.label ? `${parameters.label} render texture` : "PingPongPlane render texture",
        name: "renderTexture",
        ...parameters.targetFormat && { format: parameters.targetFormat }
      });
    }
    /**
     * Get our main {@link RenderTexture}, the one that contains our ping pong content
     * @readonly
     */
    get renderTexture() {
      return this.renderTextures.find((texture) => texture.options.name === "renderTexture");
    }
    /**
     * Add the {@link PingPongPlane} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.pingPongPlanes.push(this);
      if (this.autoRender) {
        this.renderer.scene.addPingPongPlane(this);
      }
    }
    /**
     * Remove the {@link PingPongPlane} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (this.renderTarget) {
        this.renderTarget.destroy();
      }
      if (this.autoRender) {
        this.renderer.scene.removePingPongPlane(this);
      }
      this.renderer.pingPongPlanes = this.renderer.pingPongPlanes.filter((pPP) => pPP.uuid !== this.uuid);
    }
  }

  var __accessCheck$1 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$1 = (obj, member, getter) => {
    __accessCheck$1(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$1 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var _DOMObjectWorldPosition, _DOMObjectWorldScale;
  class DOMObject3D extends ProjectedObject3D {
    /**
     * DOMObject3D constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link DOMObject3D}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link DOMObject3D}
     * @param parameters - {@link DOMObject3DParams | parameters} used to create this {@link DOMObject3D}
     */
    constructor(renderer, element, parameters) {
      super(renderer);
      /** Private {@link Vec3 | vector} used to keep track of the actual {@link DOMObject3DTransforms#position.world | world position} accounting the {@link DOMObject3DTransforms#position.document | additional document translation} converted into world space */
      __privateAdd$1(this, _DOMObjectWorldPosition, new Vec3());
      /** Private {@link Vec3 | vector} used to keep track of the actual {@link DOMObject3D} world scale accounting the {@link DOMObject3D#size.world | DOMObject3D world size} */
      __privateAdd$1(this, _DOMObjectWorldScale, new Vec3());
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, "DOM3DObject");
      this.renderer = renderer;
      this.size = {
        world: {
          width: 0,
          height: 0,
          top: 0,
          left: 0
        },
        document: {
          width: 0,
          height: 0,
          top: 0,
          left: 0
        }
      };
      this.watchScroll = parameters.watchScroll;
      this.camera = this.renderer.camera;
      this.setDOMElement(element);
    }
    /**
     * Set the {@link domElement | DOM Element}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    setDOMElement(element) {
      this.domElement = new DOMElement({
        element,
        onSizeChanged: (boundingRect) => this.resize(boundingRect),
        onPositionChanged: (boundingRect) => this.onPositionChanged(boundingRect)
      });
    }
    /**
     * Update size and position when the {@link domElement | DOM Element} position changed
     * @param boundingRect - the new bounding rectangle
     */
    onPositionChanged(boundingRect) {
      if (this.watchScroll) {
        this.size.document = boundingRect ?? this.domElement.element.getBoundingClientRect();
        this.updateSizeAndPosition();
      }
    }
    /**
     * Reset the {@link domElement | DOMElement}
     * @param element - the new {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    resetDOMElement(element) {
      if (this.domElement) {
        this.domElement.destroy();
      }
      this.setDOMElement(element);
    }
    /**
     * Update the {@link DOMObject3D} sizes and position
     */
    updateSizeAndPosition() {
      this.setWorldSizes();
      this.applyPosition();
      this.shouldUpdateModelMatrix();
    }
    /**
     * Update the {@link DOMObject3D} sizes, position and projection
     */
    shouldUpdateMatrixStack() {
      this.updateSizeAndPosition();
      super.shouldUpdateMatrixStack();
    }
    /**
     * Resize the {@link DOMObject3D}
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    resize(boundingRect) {
      if (!boundingRect && (!this.domElement || this.domElement?.isResizing))
        return;
      this.size.document = boundingRect ?? this.domElement.element.getBoundingClientRect();
      this.shouldUpdateMatrixStack();
    }
    /* BOUNDING BOXES GETTERS */
    /**
     * Get the {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     * @readonly
     */
    get boundingRect() {
      return this.domElement.boundingRect;
    }
    /* TRANSFOMS */
    /**
     * Set our transforms properties and {@link Vec3#onChange | onChange vector} callbacks
     */
    setTransforms() {
      super.setTransforms();
      this.transforms.origin.model.set(0.5, 0.5, 0);
      this.transforms.origin.world = new Vec3();
      this.transforms.position.document = new Vec3();
      this.documentPosition.onChange(() => this.applyPosition());
      this.transformOrigin.onChange(() => this.setWorldTransformOrigin());
    }
    /**
     * Get the {@link DOMObject3DTransforms#position.document | additional translation relative to the document}
     */
    get documentPosition() {
      return this.transforms.position.document;
    }
    /**
     * Set the {@link DOMObject3DTransforms#position.document | additional translation relative to the document}
     * @param value - additional translation relative to the document to apply
     */
    set documentPosition(value) {
      this.transforms.position.document = value;
      this.applyPosition();
    }
    /**
     * Get the {@link domElement | DOM element} scale in world space
     * @readonly
     */
    get DOMObjectWorldScale() {
      return __privateGet$1(this, _DOMObjectWorldScale).clone();
    }
    /**
     * Get the {@link DOMObject3D} scale in world space (accounting for {@link scale})
     * @readonly
     */
    get worldScale() {
      return this.DOMObjectWorldScale.multiply(this.scale);
    }
    /**
     * Get the {@link DOMObject3D} position in world space
     * @readonly
     */
    get worldPosition() {
      return __privateGet$1(this, _DOMObjectWorldPosition).clone();
    }
    /**
     * Get the {@link DOMObject3D} transform origin relative to the {@link DOMObject3D}
     */
    get transformOrigin() {
      return this.transforms.origin.model;
    }
    /**
     * Set the {@link DOMObject3D} transform origin relative to the {@link DOMObject3D}
     * @param value - new transform origin
     */
    set transformOrigin(value) {
      this.transforms.origin.model = value;
      this.setWorldTransformOrigin();
    }
    /**
     * Get the {@link DOMObject3D} transform origin in world space
     */
    get worldTransformOrigin() {
      return this.transforms.origin.world;
    }
    /**
     * Set the {@link DOMObject3D} transform origin in world space
     * @param value - new world space transform origin
     */
    set worldTransformOrigin(value) {
      this.transforms.origin.world = value;
    }
    /**
     * Set the {@link DOMObject3D} world position using its world position and document translation converted to world space
     */
    applyPosition() {
      this.applyDocumentPosition();
      super.applyPosition();
    }
    /**
     * Compute the {@link DOMObject3D} world position using its world position and document translation converted to world space
     */
    applyDocumentPosition() {
      let worldPosition = new Vec3(0, 0, 0);
      if (!this.documentPosition.equals(worldPosition)) {
        worldPosition = this.documentToWorldSpace(this.documentPosition);
      }
      __privateGet$1(this, _DOMObjectWorldPosition).set(
        this.position.x + this.size.world.left + worldPosition.x,
        this.position.y + this.size.world.top + worldPosition.y,
        this.position.z + this.documentPosition.z / this.camera.CSSPerspective
      );
    }
    /**
     * Apply the transform origin and set the {@link DOMObject3D} world transform origin
     */
    applyTransformOrigin() {
      if (!this.size)
        return;
      this.setWorldTransformOrigin();
      super.applyTransformOrigin();
    }
    /* MATRICES */
    /**
     * Update the {@link modelMatrix | model matrix} accounting the {@link DOMObject3D} world position and {@link DOMObject3D} world scale
     */
    updateModelMatrix() {
      this.modelMatrix.composeFromOrigin(
        __privateGet$1(this, _DOMObjectWorldPosition),
        this.quaternion,
        this.scale,
        this.worldTransformOrigin
      );
      this.modelMatrix.scale(__privateGet$1(this, _DOMObjectWorldScale));
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Convert a document position {@link Vec3 | vector} to a world position {@link Vec3 | vector}
     * @param vector - document position {@link Vec3 | vector} converted to world space
     */
    documentToWorldSpace(vector = new Vec3()) {
      return new Vec3(
        vector.x * this.renderer.pixelRatio / this.renderer.boundingRect.width * this.camera.screenRatio.width,
        -(vector.y * this.renderer.pixelRatio / this.renderer.boundingRect.height) * this.camera.screenRatio.height,
        vector.z
      );
    }
    /**
     * Set the {@link DOMObject3D#size.world | world size} and set the {@link DOMObject3D} world transform origin
     */
    setWorldSizes() {
      const containerBoundingRect = this.renderer.boundingRect;
      const planeCenter = {
        x: this.size.document.width / 2 + this.size.document.left,
        y: this.size.document.height / 2 + this.size.document.top
      };
      const containerCenter = {
        x: containerBoundingRect.width / 2 + containerBoundingRect.left,
        y: containerBoundingRect.height / 2 + containerBoundingRect.top
      };
      this.size.world = {
        width: this.size.document.width / containerBoundingRect.width * this.camera.screenRatio.width / 2,
        height: this.size.document.height / containerBoundingRect.height * this.camera.screenRatio.height / 2,
        top: (containerCenter.y - planeCenter.y) / containerBoundingRect.height * this.camera.screenRatio.height,
        left: (planeCenter.x - containerCenter.x) / containerBoundingRect.width * this.camera.screenRatio.width
      };
      __privateGet$1(this, _DOMObjectWorldScale).set(this.size.world.width, this.size.world.height, 1);
      this.setWorldTransformOrigin();
    }
    /**
     * Set the {@link DOMObject3D} world transform origin and tell the matrices to update
     */
    setWorldTransformOrigin() {
      this.transforms.origin.world = new Vec3(
        (this.transformOrigin.x * 2 - 1) * // between -1 and 1
        this.size.world.width,
        -(this.transformOrigin.y * 2 - 1) * // between -1 and 1
        this.size.world.height,
        this.transformOrigin.z
      );
      this.shouldUpdateModelMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Update the {@link domElement | DOM Element} scroll position
     * @param delta - last {@link utils/ScrollManager.ScrollManager.delta | scroll delta values}
     */
    updateScrollPosition(delta = { x: 0, y: 0 }) {
      if (delta.x || delta.y) {
        this.domElement.updateScrollPosition(delta);
      }
    }
    /**
     * Destroy our {@link DOMObject3D}
     */
    destroy() {
      this.domElement?.destroy();
    }
  }
  _DOMObjectWorldPosition = new WeakMap();
  _DOMObjectWorldScale = new WeakMap();

  const defaultDOMMeshParams = {
    autoloadSources: true,
    watchScroll: true
  };
  class DOMMesh extends ProjectedMeshBaseMixin(DOMObject3D) {
    /**
     * DOMMesh constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link DOMMesh}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link DOMMesh}
     * @param parameters - {@link DOMMeshParams | parameters} used to create this {@link DOMMesh}
     */
    constructor(renderer, element, parameters) {
      super(renderer, element, { ...defaultDOMMeshParams, ...parameters });
      // callbacks / events
      /** function assigned to the {@link onLoading} callback */
      this._onLoadingCallback = (texture) => {
      };
      parameters = { ...defaultDOMMeshParams, ...parameters };
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, parameters.label ? parameters.label + " DOMMesh" : "DOMMesh");
      this.type = "DOMMesh";
      const { autoloadSources } = parameters;
      this.autoloadSources = autoloadSources;
      this.sourcesReady = false;
      this.setInitSources();
    }
    /**
     * Get/set whether our {@link material} and {@link geometry} are ready
     * @readonly
     */
    get ready() {
      return this._ready;
    }
    set ready(value) {
      this._ready = value;
      if (this.DOMMeshReady) {
        this._onReadyCallback && this._onReadyCallback();
      }
    }
    /**
     * Get/set whether all the initial {@link DOMMesh} sources have been successfully loaded
     * @readonly
     */
    get sourcesReady() {
      return this._sourcesReady;
    }
    set sourcesReady(value) {
      this._sourcesReady = value;
      if (this.DOMMeshReady) {
        this._onReadyCallback && this._onReadyCallback();
      }
    }
    /**
     * Get whether our {@link DOMMesh} is ready. A {@link DOMMesh} is ready when its {@link sourcesReady | sources are ready} and its {@link material} and {@link geometry} are ready.
     * @readonly
     */
    get DOMMeshReady() {
      return this.ready && this.sourcesReady;
    }
    /**
     * Add a {@link DOMMesh} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      super.addToScene();
      this.renderer.domMeshes.push(this);
    }
    /**
     * Remove a {@link DOMMesh} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      super.removeFromScene();
      this.renderer.domMeshes = this.renderer.domMeshes.filter(
        (m) => m.uuid !== this.uuid
      );
    }
    /**
     * Load initial {@link DOMMesh} sources if needed and create associated {@link Texture}
     */
    setInitSources() {
      let loaderSize = 0;
      let sourcesLoaded = 0;
      if (this.autoloadSources) {
        const images = this.domElement.element.querySelectorAll("img");
        const videos = this.domElement.element.querySelectorAll("video");
        const canvases = this.domElement.element.querySelectorAll("canvas");
        loaderSize = images.length + videos.length + canvases.length;
        const onSourceUploaded = (texture) => {
          sourcesLoaded++;
          this._onLoadingCallback && this._onLoadingCallback(texture);
          if (sourcesLoaded === loaderSize) {
            this.sourcesReady = true;
          }
        };
        if (!loaderSize) {
          this.sourcesReady = true;
        }
        if (images.length) {
          images.forEach((image) => {
            const texture = this.createTexture({
              name: image.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadImage(image.src);
          });
        }
        if (videos.length) {
          videos.forEach((video) => {
            const texture = this.createTexture({
              name: video.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadVideo(video);
          });
        }
        if (canvases.length) {
          canvases.forEach((canvas) => {
            const texture = this.createTexture({
              name: canvas.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadCanvas(canvas);
          });
        }
      } else {
        this.sourcesReady = true;
      }
    }
    /**
     * Reset/change the {@link domElement | DOM Element}
     * @param element - new {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    resetDOMElement(element) {
      if (!!element) {
        super.resetDOMElement(element);
      } else if (!element && !this.renderer.production) {
        throwWarning(
          `${this.options.label}: You are trying to reset a ${this.type} with a HTML element that does not exist. The old HTML element will be kept instead.`
        );
      }
    }
    /**
     * Get our {@link DOMMesh#domElement | DOM Element} {@link core/DOM/DOMElement.DOMElement#boundingRect | bounding rectangle} accounting for current {@link core/renderers/GPURenderer.GPURenderer#pixelRatio | renderer pixel ratio}
     */
    get pixelRatioBoundingRect() {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.renderer.pixelRatio / devicePixelRatio;
      return Object.keys(this.domElement.boundingRect).reduce(
        (a, key) => ({ ...a, [key]: this.domElement.boundingRect[key] * scaleBoundingRect }),
        {
          x: 0,
          y: 0,
          width: 0,
          height: 0,
          top: 0,
          right: 0,
          bottom: 0,
          left: 0
        }
      );
    }
    /**
     * Create a new {@link RenderTexture}
     * @param  options - {@link RenderTextureParams | RenderTexture parameters}
     * @returns - newly created {@link RenderTexture}
     */
    createRenderTexture(options) {
      options = {
        ...options,
        size: { width: this.pixelRatioBoundingRect.width, height: this.pixelRatioBoundingRect.height }
      };
      return super.createRenderTexture(options);
    }
    /**
     * Resize the Mesh's render textures only if they're not storage textures
     */
    resizeRenderTextures() {
      this.renderTextures?.filter((renderTexture) => renderTexture.options.usage === "texture").forEach(
        (renderTexture) => renderTexture.resize({ width: this.pixelRatioBoundingRect.width, height: this.pixelRatioBoundingRect.height })
      );
    }
    /* EVENTS */
    /**
     * Called each time one of the initial sources associated {@link Texture#texture | GPU texture} has been uploaded to the GPU
     * @param callback - callback to call each time a {@link Texture#texture | GPU texture} has been uploaded to the GPU
     * @returns - our {@link DOMMesh}
     */
    onLoading(callback) {
      if (callback) {
        this._onLoadingCallback = callback;
      }
      return this;
    }
  }

  const defaultPlaneParams = {
    label: "Plane",
    // geometry
    instancesCount: 1,
    vertexBuffers: []
  };
  class Plane extends DOMMesh {
    /**
     * Plane constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link Plane}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link Plane}
     * @param parameters - {@link PlaneParams | parameters} used to create this {@link Plane}
     */
    constructor(renderer, element, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, parameters.label ? parameters.label + " Plane" : "Plane");
      const params = { ...defaultPlaneParams, ...parameters };
      let { geometry, widthSegments, heightSegments, ...DOMMeshParams2 } = params;
      const { instancesCount, vertexBuffers, ...materialParams } = DOMMeshParams2;
      if (!geometry || geometry.type !== "PlaneGeometry") {
        widthSegments = widthSegments ?? 1;
        heightSegments = heightSegments ?? 1;
        const geometryID = widthSegments * heightSegments + widthSegments;
        if (!vertexBuffers.length) {
          geometry = cacheManager.getPlaneGeometryByID(geometryID);
        }
        if (!geometry) {
          geometry = new PlaneGeometry({ widthSegments, heightSegments, instancesCount, vertexBuffers });
          cacheManager.addPlaneGeometry(geometry);
        } else {
          geometry.instancesCount = instancesCount;
        }
      }
      super(renderer, element, { geometry, ...materialParams });
      this.type = "Plane";
    }
    /**
     * Take the pointer {@link Vec2 | vector} position relative to the document and returns it relative to our {@link Plane}
     * It ranges from -1 to 1 on both axis
     * @param mouseCoords - pointer {@link Vec2 | vector} coordinates
     * @returns - raycasted {@link Vec2 | vector} coordinates relative to the {@link Plane}
     */
    mouseToPlaneCoords(mouseCoords = new Vec2()) {
      const worldMouse = {
        x: 2 * (mouseCoords.x / this.renderer.pixelRatioBoundingRect.width) - 1,
        y: 2 * (1 - mouseCoords.y / this.renderer.pixelRatioBoundingRect.height) - 1
      };
      const rayOrigin = this.camera.position.clone();
      const rayDirection = new Vec3(worldMouse.x, worldMouse.y, -0.5);
      rayDirection.unproject(this.camera);
      rayDirection.sub(rayOrigin).normalize();
      const planeNormals = new Vec3(0, 0, 1);
      planeNormals.applyQuat(this.quaternion).normalize();
      const result = new Vec3(0, 0, 0);
      const denominator = planeNormals.dot(rayDirection);
      if (Math.abs(denominator) >= 1e-4) {
        const inverseViewMatrix = this.modelMatrix.getInverse().premultiply(this.camera.viewMatrix);
        const planeOrigin = this.worldTransformOrigin.clone().add(this.worldPosition);
        const rotatedOrigin = new Vec3(
          this.worldPosition.x - planeOrigin.x,
          this.worldPosition.y - planeOrigin.y,
          this.worldPosition.z - planeOrigin.z
        );
        rotatedOrigin.applyQuat(this.quaternion);
        planeOrigin.add(rotatedOrigin);
        const distance = planeNormals.dot(planeOrigin.clone().sub(rayOrigin)) / denominator;
        result.copy(rayOrigin.add(rayDirection.multiplyScalar(distance)));
        result.applyMat4(inverseViewMatrix);
      } else {
        result.set(Infinity, Infinity, Infinity);
      }
      return new Vec2(result.x, result.y);
    }
  }

  class Scene {
    /**
     * Scene constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Scene}
     */
    constructor({ renderer }) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "Scene");
      this.renderer = renderer;
      this.computePassEntries = [];
      this.renderPassEntries = {
        /** Array of {@link RenderPassEntry} that will handle {@link PingPongPlane}. Each {@link PingPongPlane} will be added as a distinct {@link RenderPassEntry} here */
        pingPong: [],
        /** Array of {@link RenderPassEntry} that will render to a specific {@link RenderTarget}. Each {@link RenderTarget} will be added as a distinct {@link RenderPassEntry} here */
        renderTarget: [],
        /** Array of {@link RenderPassEntry} that will render directly to the screen. Our first entry will contain all the Meshes that do not have any {@link RenderTarget} assigned. Following entries will be created for every global {@link ShaderPass} */
        screen: [
          // add our basic scene entry
          {
            renderPass: this.renderer.renderPass,
            renderTexture: null,
            onBeforeRenderPass: null,
            onAfterRenderPass: null,
            element: null,
            // explicitly set to null
            stack: {
              unProjected: {
                opaque: [],
                transparent: []
              },
              projected: {
                opaque: [],
                transparent: []
              }
            }
          }
        ]
      };
    }
    /**
     * Get the number of meshes a {@link RenderPassEntry | render pass entry} should draw.
     * @param renderPassEntry - The {@link RenderPassEntry | render pass entry} to test
     */
    getRenderPassEntryLength(renderPassEntry) {
      if (!renderPassEntry) {
        return 0;
      } else {
        return renderPassEntry.element ? 1 : renderPassEntry.stack.unProjected.opaque.length + renderPassEntry.stack.unProjected.transparent.length + renderPassEntry.stack.projected.opaque.length + renderPassEntry.stack.projected.transparent.length;
      }
    }
    /**
     * Add a {@link ComputePass} to our scene {@link computePassEntries} array
     * @param computePass - {@link ComputePass} to add
     */
    addComputePass(computePass) {
      this.computePassEntries.push(computePass);
      this.computePassEntries.sort((a, b) => {
        if (a.renderOrder !== b.renderOrder) {
          return a.renderOrder - b.renderOrder;
        } else {
          return a.index - b.index;
        }
      });
    }
    /**
     * Remove a {@link ComputePass} from our scene {@link computePassEntries} array
     * @param computePass - {@link ComputePass} to remove
     */
    removeComputePass(computePass) {
      this.computePassEntries = this.computePassEntries.filter((cP) => cP.uuid !== computePass.uuid);
    }
    /**
     * Add a {@link RenderTarget} to our scene {@link renderPassEntries} renderTarget array.
     * Every Meshes later added to this {@link RenderTarget} will be rendered to the {@link RenderTarget#renderTexture | RenderTarget RenderTexture} using the {@link RenderTarget#renderPass.descriptor | RenderTarget RenderPass descriptor}
     * @param renderTarget - {@link RenderTarget} to add
     */
    addRenderTarget(renderTarget) {
      if (!this.renderPassEntries.renderTarget.find((entry) => entry.renderPass.uuid === renderTarget.renderPass.uuid))
        this.renderPassEntries.renderTarget.push({
          renderPass: renderTarget.renderPass,
          renderTexture: renderTarget.renderTexture,
          onBeforeRenderPass: null,
          onAfterRenderPass: null,
          element: null,
          // explicitly set to null
          stack: {
            unProjected: {
              opaque: [],
              transparent: []
            },
            projected: {
              opaque: [],
              transparent: []
            }
          }
        });
    }
    /**
     * Remove a {@link RenderTarget} from our scene {@link renderPassEntries} renderTarget array.
     * @param renderTarget - {@link RenderTarget} to add
     */
    removeRenderTarget(renderTarget) {
      this.renderPassEntries.renderTarget = this.renderPassEntries.renderTarget.filter(
        (entry) => entry.renderPass.uuid !== renderTarget.renderPass.uuid
      );
    }
    /**
     * Get the correct {@link renderPassEntries | render pass entry} (either {@link renderPassEntries} renderTarget or {@link renderPassEntries} screen) {@link Stack} onto which this Mesh should be added, depending on whether it's projected or not
     * @param mesh - Mesh to check
     * @returns - the corresponding render pass entry {@link Stack}
     */
    getMeshProjectionStack(mesh) {
      const renderPassEntry = mesh.renderTarget ? this.renderPassEntries.renderTarget.find(
        (passEntry) => passEntry.renderPass.uuid === mesh.renderTarget.renderPass.uuid
      ) : this.renderPassEntries.screen[0];
      const { stack } = renderPassEntry;
      return mesh.material.options.rendering.useProjection ? stack.projected : stack.unProjected;
    }
    /**
     * Add a Mesh to the correct {@link renderPassEntries | render pass entry} {@link Stack} array.
     * Meshes are then ordered by their {@link core/meshes/mixins/MeshBaseMixin.MeshBaseClass#index | indexes (order of creation]}, position along the Z axis in case they are transparent and then {@link core/meshes/mixins/MeshBaseMixin.MeshBaseClass#renderOrder | renderOrder}
     * @param mesh - Mesh to add
     */
    addMesh(mesh) {
      const projectionStack = this.getMeshProjectionStack(mesh);
      const similarMeshes = mesh.transparent ? [...projectionStack.transparent] : [...projectionStack.opaque];
      let siblingMeshIndex = -1;
      for (let i = similarMeshes.length - 1; i >= 0; i--) {
        if (similarMeshes[i].material.pipelineEntry.index === mesh.material.pipelineEntry.index) {
          siblingMeshIndex = i + 1;
          break;
        }
      }
      siblingMeshIndex = Math.max(0, siblingMeshIndex);
      similarMeshes.splice(siblingMeshIndex, 0, mesh);
      similarMeshes.sort((a, b) => a.index - b.index);
      if ((mesh instanceof DOMMesh || mesh instanceof Plane) && mesh.transparent) {
        similarMeshes.sort(
          (a, b) => b.documentPosition.z - a.documentPosition.z
        );
      }
      similarMeshes.sort((a, b) => a.renderOrder - b.renderOrder);
      mesh.transparent ? projectionStack.transparent = similarMeshes : projectionStack.opaque = similarMeshes;
    }
    /**
     * Remove a Mesh from our {@link Scene}
     * @param mesh - Mesh to remove
     */
    removeMesh(mesh) {
      const projectionStack = this.getMeshProjectionStack(mesh);
      if (mesh.transparent) {
        projectionStack.transparent = projectionStack.transparent.filter((m) => m.uuid !== mesh.uuid);
      } else {
        projectionStack.opaque = projectionStack.opaque.filter((m) => m.uuid !== mesh.uuid);
      }
    }
    /**
     * Add a {@link ShaderPass} to our scene {@link renderPassEntries} screen array.
     * Before rendering the {@link ShaderPass}, we will copy the correct input texture into its {@link ShaderPass#renderTexture | renderTexture}
     * This also handles the {@link renderPassEntries} screen array entries order: We will first draw selective passes, then our main screen pass and finally global post processing passes.
     * @see {@link https://codesandbox.io/p/sandbox/webgpu-render-to-2-textures-without-texture-copy-c4sx4s?file=%2Fsrc%2Findex.js%3A10%2C4 | minimal code example}
     * @param shaderPass - {@link ShaderPass} to add
     */
    addShaderPass(shaderPass) {
      const onBeforeRenderPass = shaderPass.renderTarget ? null : (commandEncoder, swapChainTexture) => {
        if (shaderPass.renderTexture) {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: shaderPass.renderTexture.texture
            },
            [shaderPass.renderTexture.size.width, shaderPass.renderTexture.size.height]
          );
        }
        this.renderer.postProcessingPass.setLoadOp("clear");
      };
      const onAfterRenderPass = shaderPass.renderTarget ? (commandEncoder, swapChainTexture) => {
        if (shaderPass.renderTarget && shaderPass.renderTarget.renderTexture) {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: shaderPass.renderTarget.renderTexture.texture
            },
            [shaderPass.renderTarget.renderTexture.size.width, shaderPass.renderTarget.renderTexture.size.height]
          );
        }
      } : null;
      const shaderPassEntry = {
        renderPass: this.renderer.postProcessingPass,
        // render directly to screen
        renderTexture: null,
        onBeforeRenderPass,
        onAfterRenderPass,
        element: shaderPass,
        stack: null
        // explicitly set to null
      };
      this.renderPassEntries.screen.push(shaderPassEntry);
      this.renderPassEntries.screen.sort((a, b) => {
        const isPostProA = a.element && !a.element.renderTarget;
        const renderOrderA = a.element ? a.element.renderOrder : 0;
        const indexA = a.element ? a.element.index : 0;
        const isPostProB = b.element && !b.element.renderTarget;
        const renderOrderB = b.element ? b.element.renderOrder : 0;
        const indexB = b.element ? b.element.index : 0;
        if (isPostProA && !isPostProB) {
          return 1;
        } else if (!isPostProA && isPostProB) {
          return -1;
        } else if (renderOrderA !== renderOrderB) {
          return renderOrderA - renderOrderB;
        } else {
          return indexA - indexB;
        }
      });
    }
    /**
     * Remove a {@link ShaderPass} from our scene {@link renderPassEntries} screen array
     * @param shaderPass - {@link ShaderPass} to remove
     */
    removeShaderPass(shaderPass) {
      this.renderPassEntries.screen = this.renderPassEntries.screen.filter(
        (entry) => !entry.element || entry.element.uuid !== shaderPass.uuid
      );
    }
    /**
     * Add a {@link PingPongPlane} to our scene {@link renderPassEntries} pingPong array.
     * After rendering the {@link PingPongPlane}, we will copy the context current texture into its {@link PingPongPlane#renderTexture | renderTexture} so we'll be able to use it as an input for the next pass
     * @see {@link https://codesandbox.io/p/sandbox/webgpu-render-ping-pong-to-texture-use-in-quad-gwjx9p | minimal code example}
     * @param pingPongPlane
     */
    addPingPongPlane(pingPongPlane) {
      this.renderPassEntries.pingPong.push({
        renderPass: pingPongPlane.renderTarget.renderPass,
        renderTexture: pingPongPlane.renderTarget.renderTexture,
        onBeforeRenderPass: null,
        onAfterRenderPass: (commandEncoder, swapChainTexture) => {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: pingPongPlane.renderTexture.texture
            },
            [pingPongPlane.renderTexture.size.width, pingPongPlane.renderTexture.size.height]
          );
        },
        element: pingPongPlane,
        stack: null
        // explicitly set to null
      });
      this.renderPassEntries.pingPong.sort((a, b) => a.element.renderOrder - b.element.renderOrder);
    }
    /**
     * Remove a {@link PingPongPlane} from our scene {@link renderPassEntries} pingPong array.
     * @param pingPongPlane - {@link PingPongPlane} to remove
     */
    removePingPongPlane(pingPongPlane) {
      this.renderPassEntries.pingPong = this.renderPassEntries.pingPong.filter(
        (entry) => entry.element.uuid !== pingPongPlane.uuid
      );
    }
    /**
     * Get any rendered object or {@link RenderTarget} {@link RenderPassEntry}. Useful to override a {@link RenderPassEntry#onBeforeRenderPass | RenderPassEntry onBeforeRenderPass} or {@link RenderPassEntry#onAfterRenderPass | RenderPassEntry onAfterRenderPass} default behavior.
     * @param object - The object from which we want to get the parentMesh {@link RenderPassEntry}
     * @returns - the {@link RenderPassEntry} if found
     */
    getObjectRenderPassEntry(object) {
      if (object instanceof RenderTarget) {
        return this.renderPassEntries.renderTarget.find((entry) => entry.renderPass.uuid === object.renderPass.uuid);
      } else if (object instanceof PingPongPlane) {
        return this.renderPassEntries.pingPong.find((entry) => entry.element.uuid === object.uuid);
      } else if (object instanceof ShaderPass) {
        return this.renderPassEntries.screen.find((entry) => entry.element?.uuid === object.uuid);
      } else {
        const entryType = object.renderTarget ? "renderTarget" : "screen";
        return this.renderPassEntries[entryType].find((entry) => {
          return [
            ...entry.stack.unProjected.opaque,
            ...entry.stack.unProjected.transparent,
            ...entry.stack.projected.opaque,
            ...entry.stack.projected.transparent
          ].some((mesh) => mesh.uuid === object.uuid);
        });
      }
    }
    /**
     * Here we render a {@link RenderPassEntry}:
     * - Set its {@link RenderPass#descriptor | renderPass descriptor} view or resolveTarget and get it at as swap chain texture
     * - Execute {@link RenderPassEntry#onBeforeRenderPass | onBeforeRenderPass} callback if specified
     * - Begin the {@link GPURenderPassEncoder | GPU render pass encoder} using our {@link RenderPass#descriptor | renderPass descriptor}
     * - Render the single element if specified or the render pass entry {@link Stack}: draw unprojected opaque / transparent meshes first, then set the {@link CameraRenderer#cameraBindGroup | camera bind group} and draw projected opaque / transparent meshes
     * - End the {@link GPURenderPassEncoder | GPU render pass encoder}
     * - Execute {@link RenderPassEntry#onAfterRenderPass | onAfterRenderPass} callback if specified
     * - Reset {@link core/pipelines/PipelineManager.PipelineManager#currentPipelineIndex | pipeline manager current pipeline}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param renderPassEntry - {@link RenderPassEntry} to render
     */
    renderSinglePassEntry(commandEncoder, renderPassEntry) {
      const swapChainTexture = this.renderer.setRenderPassCurrentTexture(
        renderPassEntry.renderPass,
        renderPassEntry.renderTexture?.texture
      );
      renderPassEntry.onBeforeRenderPass && renderPassEntry.onBeforeRenderPass(commandEncoder, swapChainTexture);
      const pass = commandEncoder.beginRenderPass(renderPassEntry.renderPass.descriptor);
      if (renderPassEntry.element) {
        renderPassEntry.element.render(pass);
      } else if (renderPassEntry.stack) {
        renderPassEntry.stack.unProjected.opaque.forEach((mesh) => mesh.render(pass));
        renderPassEntry.stack.unProjected.transparent.forEach((mesh) => mesh.render(pass));
        if (renderPassEntry.stack.projected.opaque.length || renderPassEntry.stack.projected.transparent.length) {
          if (this.renderer.cameraBindGroup) {
            pass.setBindGroup(
              this.renderer.cameraBindGroup.index,
              this.renderer.cameraBindGroup.bindGroup
            );
          }
          renderPassEntry.stack.projected.opaque.forEach((mesh) => mesh.render(pass));
          renderPassEntry.stack.projected.transparent.forEach((mesh) => mesh.render(pass));
        }
      }
      pass.end();
      renderPassEntry.onAfterRenderPass && renderPassEntry.onAfterRenderPass(commandEncoder, swapChainTexture);
      this.renderer.pipelineManager.resetCurrentPipeline();
    }
    /**
     * Render our {@link Scene}
     * - Render {@link computePassEntries} first
     * - Then our {@link renderPassEntries}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      this.computePassEntries.forEach((computePass) => {
        const pass = commandEncoder.beginComputePass();
        computePass.render(pass);
        pass.end();
        computePass.copyBufferToResult(commandEncoder);
        this.renderer.pipelineManager.resetCurrentPipeline();
      });
      for (const renderPassEntryType in this.renderPassEntries) {
        let passDrawnCount = 0;
        this.renderPassEntries[renderPassEntryType].forEach((renderPassEntry, index) => {
          if (!this.getRenderPassEntryLength(renderPassEntry))
            return;
          renderPassEntry.renderPass.setLoadOp(
            renderPassEntryType === "screen" && passDrawnCount !== 0 ? "load" : "clear"
          );
          passDrawnCount++;
          this.renderSinglePassEntry(commandEncoder, renderPassEntry);
        });
      }
    }
  }

  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet = (obj, member, value, setter) => {
    __accessCheck(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var __privateWrapper = (obj, member, setter, getter) => ({
    set _(value) {
      __privateSet(obj, member, value, setter);
    },
    get _() {
      return __privateGet(obj, member, getter);
    }
  });
  var _taskCount;
  class TasksQueueManager {
    /**
     * TaskQueueManager constructor
     */
    constructor() {
      /** Private number to assign a unique id to each {@link TaskQueueItem | task queue item} */
      __privateAdd(this, _taskCount, 0);
      this.queue = [];
    }
    /**
     * Add a {@link TaskQueueItem | task queue item} to the queue
     * @param callback - callback to add to the {@link TaskQueueItem | task queue item}
     * @param parameters - {@link TaskQueueItemParams | parameters} of the {@link TaskQueueItem | task queue item} to add
     * @returns - {@link TaskQueueItem#id | id} of the new {@link TaskQueueItem | task queue item}, useful to later remove the task if needed
     */
    add(callback = (args) => {
    }, { order = this.queue.length, once = false } = {}) {
      const task = {
        callback,
        order,
        once,
        id: __privateGet(this, _taskCount)
      };
      __privateWrapper(this, _taskCount)._++;
      this.queue.push(task);
      this.queue.sort((a, b) => {
        return a.order - b.order;
      });
      return task.id;
    }
    /**
     * Remove a {@link TaskQueueItem | task queue item} from the queue
     * @param taskId - {@link TaskQueueItem#id | id} of the new {@link TaskQueueItem | task queue item} to remove
     */
    remove(taskId = 0) {
      this.queue = this.queue.filter((task) => task.id !== taskId);
    }
    /**
     * Execute the {@link TasksQueueManager#queue | tasks queue array}
     */
    execute(args) {
      this.queue.forEach((task) => {
        task.callback(args);
        if (task.once) {
          this.remove(task.id);
        }
      });
    }
  }
  _taskCount = new WeakMap();

  class GPURenderer {
    /**
     * GPURenderer constructor
     * @param parameters - {@link GPURendererParams | parameters} used to create this {@link GPURenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass
    }) {
      // callbacks / events
      /** function assigned to the {@link onBeforeRender} callback */
      this._onBeforeRenderCallback = (commandEncoder) => {
      };
      /** function assigned to the {@link onAfterRender} callback */
      this._onAfterRenderCallback = (commandEncoder) => {
      };
      /** function assigned to the {@link onAfterResize} callback */
      this._onAfterResizeCallback = () => {
      };
      this.type = "GPURenderer";
      this.uuid = generateUUID();
      this.deviceManager = deviceManager;
      this.deviceManager.addRenderer(this);
      renderPass = { ...{ depth: true, sampleCount: 4, clearValue: [0, 0, 0, 0] }, ...renderPass };
      preferredFormat = preferredFormat ?? this.deviceManager.gpu?.getPreferredCanvasFormat();
      this.options = {
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass
      };
      this.pixelRatio = pixelRatio ?? window.devicePixelRatio ?? 1;
      this.alphaMode = alphaMode;
      this.setTasksQueues();
      this.setRendererObjects();
      const isContainerCanvas = container instanceof HTMLCanvasElement;
      this.canvas = isContainerCanvas ? container : document.createElement("canvas");
      this.domElement = new DOMElement({
        element: container,
        priority: 5,
        // renderer callback need to be called first
        onSizeChanged: (boundingRect) => this.resize(boundingRect)
      });
      if (!isContainerCanvas) {
        this.domElement.element.appendChild(this.canvas);
      }
      if (this.deviceManager.device) {
        this.setContext();
      }
    }
    /**
     * Set {@link canvas} size
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    setSize(boundingRect) {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.pixelRatio / devicePixelRatio;
      this.canvas.style.width = Math.floor(boundingRect.width) + "px";
      this.canvas.style.height = Math.floor(boundingRect.height) + "px";
      const renderingSize = {
        width: Math.floor(boundingRect.width * scaleBoundingRect),
        height: Math.floor(boundingRect.height * scaleBoundingRect)
      };
      this.canvas.width = this.device ? Math.min(renderingSize.width, this.device.limits.maxTextureDimension2D) : renderingSize.width;
      this.canvas.height = this.device ? Math.min(renderingSize.height, this.device.limits.maxTextureDimension2D) : renderingSize.height;
    }
    /**
     * Resize our {@link GPURenderer}
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    resize(boundingRect = null) {
      if (!this.domElement && !boundingRect)
        return;
      if (!boundingRect)
        boundingRect = this.domElement.element.getBoundingClientRect();
      this.setSize(boundingRect);
      this.onResize();
      this._onAfterResizeCallback && this._onAfterResizeCallback();
    }
    /**
     * Resize all tracked objects
     */
    onResize() {
      this.renderPass?.resize();
      this.postProcessingPass?.resize();
      this.renderTargets.forEach((renderTarget) => renderTarget.resize(this.pixelRatioBoundingRect));
      this.renderTextures.forEach((renderTexture) => renderTexture.resize());
      this.computePasses.forEach((computePass) => computePass.resize());
      this.pingPongPlanes.forEach((pingPongPlane) => pingPongPlane.resize(this.boundingRect));
      this.shaderPasses.forEach((shaderPass) => shaderPass.resize(this.boundingRect));
      this.meshes.forEach((mesh) => {
        if (!("domElement" in mesh)) {
          mesh.resize(this.boundingRect);
        } else {
          this.onBeforeCommandEncoderCreation.add(
            () => {
              if (!mesh.domElement.isResizing) {
                mesh.domElement.setSize();
              }
            },
            { once: true }
          );
        }
      });
    }
    /**
     * Get our {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    get boundingRect() {
      if (!!this.domElement.boundingRect) {
        return this.domElement.boundingRect;
      } else {
        const boundingRect = this.domElement.element?.getBoundingClientRect();
        return {
          top: boundingRect.top,
          right: boundingRect.right,
          bottom: boundingRect.bottom,
          left: boundingRect.left,
          width: boundingRect.width,
          height: boundingRect.height,
          x: boundingRect.x,
          y: boundingRect.y
        };
      }
    }
    /**
     * Get our {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle} accounting for current {@link pixelRatio | pixel ratio}
     */
    get pixelRatioBoundingRect() {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.pixelRatio / devicePixelRatio;
      return Object.keys(this.boundingRect).reduce(
        (a, key) => ({ ...a, [key]: this.boundingRect[key] * scaleBoundingRect }),
        {
          x: 0,
          y: 0,
          width: 0,
          height: 0,
          top: 0,
          right: 0,
          bottom: 0,
          left: 0
        }
      );
    }
    /* USEFUL DEVICE MANAGER OBJECTS */
    /**
     * Get our {@link GPUDeviceManager#device | device}
     * @readonly
     */
    get device() {
      return this.deviceManager.device;
    }
    /**
     * Get whether our {@link GPUDeviceManager} is ready (i.e. its {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device} are set) its {@link context} is set and its size is set
     * @readonly
     */
    get ready() {
      return this.deviceManager.ready && !!this.context && !!this.canvas.style.width;
    }
    /**
     * Get our {@link GPUDeviceManager#production | GPUDeviceManager production flag}
     * @readonly
     */
    get production() {
      return this.deviceManager.production;
    }
    /**
     * Get all the created {@link GPUDeviceManager#samplers | samplers}
     * @readonly
     */
    get samplers() {
      return this.deviceManager.samplers;
    }
    /**
     * Get all the created {@link GPUDeviceManager#buffers | GPU buffers}
     * @readonly
     */
    get buffers() {
      return this.deviceManager.buffers;
    }
    /**
     * Get the {@link GPUDeviceManager#pipelineManager | pipeline manager}
     * @readonly
     */
    get pipelineManager() {
      return this.deviceManager.pipelineManager;
    }
    /**
     * Get all the rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes) created by the {@link GPUDeviceManager}
     * @readonly
     */
    get deviceRenderedObjects() {
      return this.deviceManager.deviceRenderedObjects;
    }
    /**
     * Configure our {@link context} with the given options
     */
    configureContext() {
      this.context.configure({
        device: this.device,
        format: this.options.preferredFormat,
        alphaMode: this.alphaMode,
        // needed so we can copy textures for post processing usage
        usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC | GPUTextureUsage.COPY_DST
        //viewFormats: []
      });
    }
    /**
     * Set our {@link context} if possible and set {@link renderPass | main render pass} and {@link scene}
     */
    setContext() {
      this.context = this.canvas.getContext("webgpu");
      if (this.device) {
        this.configureContext();
        this.setMainRenderPasses();
        this.setScene();
      }
    }
    /**
     * Called when the {@link GPUDeviceManager#device | device} is lost.
     * Force all our scene objects to lose context.
     */
    loseContext() {
      this.renderedObjects.forEach((sceneObject) => sceneObject.loseContext());
    }
    /**
     * Called when the {@link GPUDeviceManager#device | device} should be restored.
     * Configure the context again, resize the {@link RenderTarget | render targets} and {@link RenderTexture | render textures}, restore our {@link renderedObjects | rendered objects} context.
     * @async
     */
    restoreContext() {
      this.configureContext();
      this.renderTextures.forEach((renderTexture) => {
        renderTexture.forceResize({
          width: Math.floor(this.pixelRatioBoundingRect.width),
          height: Math.floor(this.pixelRatioBoundingRect.height),
          depth: 1
        });
      });
      this.renderPass?.resize();
      this.postProcessingPass?.resize();
      this.renderTargets.forEach((renderTarget) => renderTarget.resize(this.pixelRatioBoundingRect));
      this.renderedObjects.forEach((sceneObject) => sceneObject.restoreContext());
    }
    /* PIPELINES, SCENE & MAIN RENDER PASS */
    /**
     * Set our {@link renderPass | main render pass} that will be used to render the result of our draw commands back to the screen
     */
    setMainRenderPasses() {
      this.renderPass = new RenderPass(this, {
        label: "Main render pass",
        targetFormat: this.options.preferredFormat,
        ...this.options.renderPass
      });
      this.postProcessingPass = new RenderPass(this, {
        label: "Post processing render pass",
        targetFormat: this.options.preferredFormat,
        depth: false,
        sampleCount: this.options.renderPass.sampleCount
        // TODO?
      });
    }
    /**
     * Set our {@link scene}
     */
    setScene() {
      this.scene = new Scene({ renderer: this });
    }
    /* BUFFERS & BINDINGS */
    /**
     * Create a {@link GPUBuffer}
     * @param bufferDescriptor - {@link GPUBufferDescriptor | GPU buffer descriptor}
     * @returns - newly created {@link GPUBuffer}
     */
    createBuffer(bufferDescriptor) {
      const buffer = this.device?.createBuffer(bufferDescriptor);
      this.deviceManager.addBuffer(buffer);
      return buffer;
    }
    /**
     * Remove a {@link GPUBuffer} from our {@link GPUDeviceManager#buffers | GPU buffers array}
     * @param buffer - {@link GPUBuffer} to remove
     * @param [originalLabel] - original {@link GPUBuffer} label in case the buffer has been swapped and its label has changed
     */
    removeBuffer(buffer, originalLabel) {
      this.deviceManager.removeBuffer(buffer, originalLabel);
    }
    /**
     * Write to a {@link GPUBuffer}
     * @param buffer - {@link GPUBuffer} to write to
     * @param bufferOffset - {@link GPUSize64 | buffer offset}
     * @param data - {@link BufferSource | data} to write
     */
    queueWriteBuffer(buffer, bufferOffset, data) {
      this.device?.queue.writeBuffer(buffer, bufferOffset, data);
    }
    /**
     * Copy a source {@link GPUBuffer} into a destination {@link GPUBuffer}
     * @param parameters - parameters used to realize the copy
     * @param parameters.srcBuffer - source {@link GPUBuffer}
     * @param [parameters.dstBuffer] - destination {@link GPUBuffer}. Will create a new one if none provided.
     * @param [parameters.commandEncoder] - {@link GPUCommandEncoder} to use for the copy. Will create a new one and submit the command buffer if none provided.
     * @returns - destination {@link GPUBuffer} after copy
     */
    copyBufferToBuffer({
      srcBuffer,
      dstBuffer,
      commandEncoder
    }) {
      if (!srcBuffer) {
        throwWarning(`${this.type}: cannot copy to buffer because the source buffer has not been provided`);
        return null;
      }
      if (!dstBuffer) {
        dstBuffer = this.createBuffer({
          label: this.type + ": destination copy buffer from: " + srcBuffer.label,
          size: srcBuffer.size,
          usage: GPUBufferUsage.MAP_READ | GPUBufferUsage.COPY_DST
        });
      }
      if (srcBuffer.mapState !== "unmapped") {
        throwWarning(`${this.type}: Cannot copy from ${srcBuffer} because it is currently mapped`);
        return;
      }
      if (dstBuffer.mapState !== "unmapped") {
        throwWarning(`${this.type}: Cannot copy from ${dstBuffer} because it is currently mapped`);
        return;
      }
      const hasCommandEncoder = !!commandEncoder;
      if (!hasCommandEncoder) {
        commandEncoder = this.device?.createCommandEncoder({ label: "Copy buffer command encoder" });
      }
      commandEncoder.copyBufferToBuffer(srcBuffer, 0, dstBuffer, 0, dstBuffer.size);
      if (!hasCommandEncoder) {
        const commandBuffer = commandEncoder.finish();
        this.device?.queue.submit([commandBuffer]);
      }
      return dstBuffer;
    }
    /* BIND GROUPS & LAYOUTS */
    /**
     * Get all created {@link AllowedBindGroups | bind group} tracked by our {@link GPUDeviceManager}
     * @readonly
     */
    get bindGroups() {
      return this.deviceManager.bindGroups;
    }
    /**
     * Add a {@link AllowedBindGroups | bind group} to our {@link GPUDeviceManager#bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to add
     */
    addBindGroup(bindGroup) {
      this.deviceManager.addBindGroup(bindGroup);
    }
    /**
     * Remove a {@link AllowedBindGroups | bind group} from our {@link GPUDeviceManager#bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to remove
     */
    removeBindGroup(bindGroup) {
      this.deviceManager.removeBindGroup(bindGroup);
    }
    /**
     * Create a {@link GPUBindGroupLayout}
     * @param bindGroupLayoutDescriptor - {@link GPUBindGroupLayoutDescriptor | GPU bind group layout descriptor}
     * @returns - newly created {@link GPUBindGroupLayout}
     */
    createBindGroupLayout(bindGroupLayoutDescriptor) {
      return this.device?.createBindGroupLayout(bindGroupLayoutDescriptor);
    }
    /**
     * Create a {@link GPUBindGroup}
     * @param bindGroupDescriptor - {@link GPUBindGroupDescriptor | GPU bind group descriptor}
     * @returns - newly created {@link GPUBindGroup}
     */
    createBindGroup(bindGroupDescriptor) {
      return this.device?.createBindGroup(bindGroupDescriptor);
    }
    /* SHADERS & PIPELINES */
    /**
     * Create a {@link GPUShaderModule}
     * @param shaderModuleDescriptor - {@link shaderModuleDescriptor | shader module descriptor}
     * @returns - newly created {@link GPUShaderModule}
     */
    createShaderModule(shaderModuleDescriptor) {
      return this.device?.createShaderModule(shaderModuleDescriptor);
    }
    /**
     * Create a {@link GPUPipelineLayout}
     * @param pipelineLayoutDescriptor - {@link GPUPipelineLayoutDescriptor | GPU pipeline layout descriptor}
     * @returns - newly created {@link GPUPipelineLayout}
     */
    createPipelineLayout(pipelineLayoutDescriptor) {
      return this.device?.createPipelineLayout(pipelineLayoutDescriptor);
    }
    /**
     * Create a {@link GPURenderPipeline}
     * @param pipelineDescriptor - {@link GPURenderPipelineDescriptor | GPU render pipeline descriptor}
     * @returns - newly created {@link GPURenderPipeline}
     */
    createRenderPipeline(pipelineDescriptor) {
      return this.device?.createRenderPipeline(pipelineDescriptor);
    }
    /**
     * Asynchronously create a {@link GPURenderPipeline}
     * @async
     * @param pipelineDescriptor - {@link GPURenderPipelineDescriptor | GPU render pipeline descriptor}
     * @returns - newly created {@link GPURenderPipeline}
     */
    async createRenderPipelineAsync(pipelineDescriptor) {
      return await this.device?.createRenderPipelineAsync(pipelineDescriptor);
    }
    /**
     * Create a {@link GPUComputePipeline}
     * @param pipelineDescriptor - {@link GPUComputePipelineDescriptor | GPU compute pipeline descriptor}
     * @returns - newly created {@link GPUComputePipeline}
     */
    createComputePipeline(pipelineDescriptor) {
      return this.device?.createComputePipeline(pipelineDescriptor);
    }
    /**
     * Asynchronously create a {@link GPUComputePipeline}
     * @async
     * @param pipelineDescriptor - {@link GPUComputePipelineDescriptor | GPU compute pipeline descriptor}
     * @returns - newly created {@link GPUComputePipeline}
     */
    async createComputePipelineAsync(pipelineDescriptor) {
      return await this.device?.createComputePipelineAsync(pipelineDescriptor);
    }
    /* TEXTURES */
    /**
     * Get all created {@link Texture} tracked by our {@link GPUDeviceManager}
     * @readonly
     */
    get textures() {
      return this.deviceManager.textures;
    }
    /**
     * Add a {@link Texture} to our {@link GPUDeviceManager#textures | textures array}
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.deviceManager.addTexture(texture);
    }
    /**
     * Remove a {@link Texture} from our {@link GPUDeviceManager#textures | textures array}
     * @param texture - {@link Texture} to remove
     */
    removeTexture(texture) {
      this.deviceManager.removeTexture(texture);
    }
    /**
     * Add a {@link RenderTexture} to our {@link renderTextures} array
     * @param texture - {@link RenderTexture} to add
     */
    addRenderTexture(texture) {
      this.renderTextures.push(texture);
    }
    /**
     * Remove a {@link RenderTexture} from our {@link renderTextures} array
     * @param texture - {@link RenderTexture} to remove
     */
    removeRenderTexture(texture) {
      this.renderTextures = this.renderTextures.filter((t) => t.uuid !== texture.uuid);
    }
    /**
     * Create a {@link GPUTexture}
     * @param textureDescriptor - {@link GPUTextureDescriptor | GPU texture descriptor}
     * @returns - newly created {@link GPUTexture}
     */
    createTexture(textureDescriptor) {
      return this.device?.createTexture(textureDescriptor);
    }
    /**
     * Upload a {@link Texture#texture | texture} to the GPU
     * @param texture - {@link Texture} class object with the {@link Texture#texture | texture} to upload
     */
    uploadTexture(texture) {
      this.deviceManager.uploadTexture(texture);
    }
    /**
     * Import a {@link GPUExternalTexture}
     * @param video - {@link HTMLVideoElement} source
     * @returns - {@link GPUExternalTexture}
     */
    importExternalTexture(video) {
      return this.device?.importExternalTexture({ source: video });
    }
    /**
     * Check if a {@link Sampler} has already been created with the same {@link Sampler#options | parameters}.
     * Use it if found, else create a new one and add it to the {@link GPUDeviceManager#samplers | samplers array}.
     * @param sampler - {@link Sampler} to create
     * @returns - the {@link GPUSampler}
     */
    createSampler(sampler) {
      const existingSampler = this.samplers.find((existingSampler2) => {
        return JSON.stringify(existingSampler2.options) === JSON.stringify(sampler.options) && existingSampler2.sampler;
      });
      if (existingSampler) {
        return existingSampler.sampler;
      } else {
        const { type, ...samplerOptions } = sampler.options;
        const gpuSampler = this.device?.createSampler({
          label: sampler.label,
          ...samplerOptions
        });
        this.deviceManager.addSampler(sampler);
        return gpuSampler;
      }
    }
    /**
     * Remove a {@link Sampler} from our {@link GPUDeviceManager#samplers | samplers array}
     * @param sampler - {@link Sampler} to remove
     */
    removeSampler(sampler) {
      this.deviceManager.removeSampler(sampler);
    }
    /* OBJECTS & TASKS */
    /**
     * Set different tasks queue managers to execute callbacks at different phases of our render call:
     * - {@link onBeforeCommandEncoderCreation}: callbacks executed before the creation of the command encoder
     * - {@link onBeforeRenderScene}: callbacks executed after the creation of the command encoder and before rendering the {@link Scene}
     * - {@link onAfterRenderScene}: callbacks executed after the creation of the command encoder and after rendering the {@link Scene}
     * - {@link onAfterCommandEncoderSubmission}: callbacks executed after the submission of the command encoder
     */
    setTasksQueues() {
      this.onBeforeCommandEncoderCreation = new TasksQueueManager();
      this.onBeforeRenderScene = new TasksQueueManager();
      this.onAfterRenderScene = new TasksQueueManager();
      this.onAfterCommandEncoderSubmission = new TasksQueueManager();
    }
    /**
     * Set all objects arrays that we'll keep track of
     */
    setRendererObjects() {
      this.computePasses = [];
      this.pingPongPlanes = [];
      this.shaderPasses = [];
      this.renderTargets = [];
      this.meshes = [];
      this.renderTextures = [];
    }
    /**
     * Get all this {@link GPURenderer} rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes)
     * @readonly
     */
    get renderedObjects() {
      return [...this.computePasses, ...this.meshes, ...this.shaderPasses, ...this.pingPongPlanes];
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link ComputePass | compute passes}) using a given {@link AllowedBindGroups | bind group}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param bindGroup - {@link AllowedBindGroups | bind group} to check
     */
    getObjectsByBindGroup(bindGroup) {
      return this.deviceRenderedObjects.filter((object) => {
        return [
          ...object.material.bindGroups,
          ...object.material.inputsBindGroups,
          ...object.material.clonedBindGroups
        ].some((bG) => bG.uuid === bindGroup.uuid);
      });
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link ComputePass | compute passes}) using a given {@link Texture} or {@link RenderTexture}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param texture - {@link Texture} or {@link RenderTexture} to check
     */
    getObjectsByTexture(texture) {
      return this.deviceRenderedObjects.filter((object) => {
        return [...object.material.textures, ...object.material.renderTextures].some((t) => t.uuid === texture.uuid);
      });
    }
    /* EVENTS */
    /**
     * Assign a callback function to _onBeforeRenderCallback
     * @param callback - callback to run just before the {@link render} method will be executed
     * @returns - our {@link GPURenderer}
     */
    onBeforeRender(callback) {
      if (callback) {
        this._onBeforeRenderCallback = callback;
      }
      return this;
    }
    /**
     * Assign a callback function to _onAfterRenderCallback
     * @param callback - callback to run just after the {@link render} method has been executed
     * @returns - our {@link GPURenderer}
     */
    onAfterRender(callback) {
      if (callback) {
        this._onAfterRenderCallback = callback;
      }
      return this;
    }
    /**
     * Assign a callback function to _onAfterResizeCallback
     * @param callback - callback to run just after the {@link GPURenderer} has been resized
     * @returns - our {@link GPURenderer}
     */
    onAfterResize(callback) {
      if (callback) {
        this._onAfterResizeCallback = callback;
      }
      return this;
    }
    /* RENDER */
    /**
     * Set the current {@link RenderPass#descriptor | render pass descriptor} texture {@link GPURenderPassColorAttachment#view | view} and {@link GPURenderPassColorAttachment#resolveTarget | resolveTarget} (depending on whether we're using multisampling)
     * @param renderPass - current {@link RenderPass}
     * @param renderTexture - {@link GPUTexture} to use, or the {@link context} {@link GPUTexture | current texture} if null
     * @returns - the {@link GPUTexture | current render texture}
     */
    setRenderPassCurrentTexture(renderPass, renderTexture = null) {
      if (!renderTexture) {
        renderTexture = this.context.getCurrentTexture();
        renderTexture.label = `${this.type} context current texture`;
      }
      if (renderPass.options.sampleCount > 1) {
        renderPass.descriptor.colorAttachments[0].view = renderPass.viewTexture.texture.createView({
          label: renderPass.viewTexture.options.label + " view"
        });
        renderPass.descriptor.colorAttachments[0].resolveTarget = renderTexture.createView({
          label: renderTexture.label + " resolve target view"
        });
      } else {
        renderPass.descriptor.colorAttachments[0].view = renderTexture.createView({
          label: renderTexture.label + " view"
        });
      }
      return renderTexture;
    }
    /**
     * Render a single {@link ComputePass}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param computePass - {@link ComputePass}
     */
    renderSingleComputePass(commandEncoder, computePass) {
      const pass = commandEncoder.beginComputePass();
      computePass.render(pass);
      pass.end();
      computePass.copyBufferToResult(commandEncoder);
    }
    /**
     * Render a single {@link RenderedMesh | Mesh}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param mesh - {@link RenderedMesh | Mesh} to render
     */
    renderSingleMesh(commandEncoder, mesh) {
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      mesh.render(pass);
      pass.end();
    }
    /**
     * Render an array of objects (either {@link RenderedMesh | Meshes} or {@link ComputePass}) once. This method won't call any of the renderer render hooks like {@link onBeforeRender}, {@link onAfterRender}
     * @param objects - Array of {@link RenderedMesh | Meshes} or {@link ComputePass} to render
     */
    renderOnce(objects) {
      const commandEncoder = this.device?.createCommandEncoder({
        label: "Renderer once command encoder"
      });
      this.pipelineManager.resetCurrentPipeline();
      objects.forEach((object) => {
        if (object instanceof ComputePass) {
          this.renderSingleComputePass(commandEncoder, object);
        } else {
          this.renderSingleMesh(commandEncoder, object);
        }
      });
      const commandBuffer = commandEncoder.finish();
      this.device?.queue.submit([commandBuffer]);
      this.pipelineManager.resetCurrentPipeline();
    }
    /**
     * Force to clear a {@link GPURenderer} content to its {@link RenderPass#options.clearValue | clear value} by rendering and empty pass.
     * @param commandEncoder
     */
    forceClear(commandEncoder) {
      const hasCommandEncoder = !!commandEncoder;
      if (!hasCommandEncoder) {
        commandEncoder = this.device?.createCommandEncoder({ label: "Force clear command encoder" });
      }
      this.setRenderPassCurrentTexture(this.renderPass);
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      pass.end();
      if (!hasCommandEncoder) {
        const commandBuffer = commandEncoder.finish();
        this.device?.queue.submit([commandBuffer]);
      }
    }
    /**
     * Called by the {@link GPUDeviceManager#render | GPUDeviceManager render method} before the {@link GPUCommandEncoder} has been created
     */
    onBeforeCommandEncoder() {
      if (!this.ready)
        return;
      this.onBeforeCommandEncoderCreation.execute();
    }
    /**
     * Called by the {@link GPUDeviceManager#render | GPUDeviceManager render method} after the {@link GPUCommandEncoder} has been created.
     */
    onAfterCommandEncoder() {
      if (!this.ready)
        return;
      this.onAfterCommandEncoderSubmission.execute();
    }
    /**
     * Called at each draw call to render our scene and its content
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      if (!this.ready)
        return;
      this._onBeforeRenderCallback && this._onBeforeRenderCallback(commandEncoder);
      this.onBeforeRenderScene.execute(commandEncoder);
      this.scene?.render(commandEncoder);
      this._onAfterRenderCallback && this._onAfterRenderCallback(commandEncoder);
      this.onAfterRenderScene.execute(commandEncoder);
    }
    /**
     * Destroy our {@link GPURenderer} and everything that needs to be destroyed as well
     */
    destroy() {
      this.domElement?.destroy();
      this.renderPass?.destroy();
      this.postProcessingPass?.destroy();
      this.renderTargets.forEach((renderTarget) => renderTarget.destroy());
      this.renderedObjects.forEach((sceneObject) => sceneObject.remove());
      this.renderTextures.forEach((texture) => texture.destroy());
      this.context?.unconfigure();
    }
  }

  class GPUCameraRenderer extends GPURenderer {
    /**
     * GPUCameraRenderer constructor
     * @param parameters - {@link GPUCameraRendererParams | parameters} used to create this {@link GPUCameraRenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass,
      camera = {}
    }) {
      super({
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass
      });
      this.type = "GPUCameraRenderer";
      camera = { ...{ fov: 50, near: 0.01, far: 50 }, ...camera };
      this.options = {
        ...this.options,
        camera
      };
      this.setCamera(camera);
      this.setCameraBindGroupAndBinding();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} is lost.
     * Reset all our samplers, force all our scene objects and camera bind group to lose context.
     */
    loseContext() {
      super.loseContext();
      this.cameraBindGroup.loseContext();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} should be restored.
     * Configure the context again, resize the {@link core/renderPasses/RenderTarget.RenderTarget | render targets} and {@link core/textures/RenderTexture.RenderTexture | render textures}, restore our {@link renderedObjects | rendered objects} context, re-write our {@link cameraBufferBinding | camera buffer binding}.
     * @async
     */
    async restoreContext() {
      this.cameraBufferBinding.shouldUpdate = true;
      return super.restoreContext();
    }
    /**
     * Set the {@link camera}
     * @param cameraParameters - {@link CameraBasePerspectiveOptions | parameters} used to create the {@link camera}
     */
    setCamera(cameraParameters) {
      const width = this.boundingRect ? this.boundingRect.width : 1;
      const height = this.boundingRect ? this.boundingRect.height : 1;
      this.camera = new Camera({
        fov: cameraParameters.fov,
        near: cameraParameters.near,
        far: cameraParameters.far,
        width,
        height,
        pixelRatio: this.pixelRatio,
        onMatricesChanged: () => {
          this.onCameraMatricesChanged();
        }
      });
    }
    /**
     * Update the {@link ProjectedMesh | projected meshes} sizes and positions when the {@link camera} {@link Camera#position | position} changes
     */
    onCameraMatricesChanged() {
      this.updateCameraBindings();
      this.meshes.forEach((mesh) => {
        if ("modelViewMatrix" in mesh) {
          mesh.shouldUpdateMatrixStack();
        }
      });
    }
    /**
     * Set the {@link cameraBufferBinding | camera buffer binding} and {@link cameraBindGroup | camera bind group}
     */
    setCameraBindGroupAndBinding() {
      this.cameraBufferBinding = new BufferBinding({
        label: "Camera",
        name: "camera",
        visibility: "vertex",
        struct: {
          model: {
            // camera model matrix
            name: "model",
            type: "mat4x4f",
            value: this.camera.modelMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.model.value = this.camera.modelMatrix;
            }
          },
          view: {
            // camera view matrix
            name: "view",
            type: "mat4x4f",
            value: this.camera.viewMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.view.value = this.camera.viewMatrix;
            }
          },
          projection: {
            // camera projection matrix
            name: "projection",
            type: "mat4x4f",
            value: this.camera.projectionMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.projection.value = this.camera.projectionMatrix;
            }
          }
        }
      });
      this.cameraBindGroup = new BindGroup(this, {
        label: "Camera Uniform bind group",
        bindings: [this.cameraBufferBinding]
      });
    }
    /**
     * Create the {@link cameraBindGroup | camera bind group} buffers
     */
    setCameraBindGroup() {
      if (this.cameraBindGroup && this.cameraBindGroup.shouldCreateBindGroup) {
        this.cameraBindGroup.setIndex(0);
        this.cameraBindGroup.createBindGroup();
      }
    }
    /**
     * Tell our {@link cameraBufferBinding | camera buffer binding} that we should update its struct
     */
    updateCameraBindings() {
      this.cameraBufferBinding?.shouldUpdateBinding("model");
      this.cameraBufferBinding?.shouldUpdateBinding("view");
      this.cameraBufferBinding?.shouldUpdateBinding("projection");
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link core/computePasses/ComputePass.ComputePass | compute passes}) using a given {@link AllowedBindGroups | bind group}, including {@link cameraBindGroup | camera bind group}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param bindGroup - {@link AllowedBindGroups | bind group} to check
     */
    getObjectsByBindGroup(bindGroup) {
      return this.deviceRenderedObjects.filter((object) => {
        return [
          ...object.material.bindGroups,
          ...object.material.inputsBindGroups,
          ...object.material.clonedBindGroups,
          this.cameraBindGroup
        ].some((bG) => bG.uuid === bindGroup.uuid);
      });
    }
    /**
     * Set our {@link camera} perspective matrix new parameters (fov, near plane and far plane)
     * @param parameters - {@link CameraBasePerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({ fov, near, far } = {}) {
      this.camera?.setPerspective({
        fov,
        near,
        far,
        width: this.boundingRect.width,
        height: this.boundingRect.height,
        pixelRatio: this.pixelRatio
      });
    }
    /**
     * Set our {@link camera} {@link Camera#position | position}
     * @param position - new {@link Camera#position | position}
     */
    setCameraPosition(position = new Vec3(0, 0, 1)) {
      this.camera.position.copy(position);
    }
    /**
     * Call our {@link GPURenderer#onResize | GPURenderer onResize method} and resize our {@link camera} as well
     */
    onResize() {
      super.onResize();
      this.setPerspective();
      this.updateCameraBindings();
    }
    /* RENDER */
    /**
     * Update the camera model matrix, check if the {@link cameraBindGroup | camera bind group} should be created, create it if needed and then update it
     */
    updateCamera() {
      this.camera?.updateMatrixStack();
      this.setCameraBindGroup();
      this.cameraBindGroup?.update();
    }
    /**
     * Render a single {@link RenderedMesh | mesh} (binds the {@link cameraBindGroup | camera bind group} if needed)
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param mesh - {@link RenderedMesh | mesh} to render
     */
    renderSingleMesh(commandEncoder, mesh) {
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      if (mesh.material.options.rendering.useProjection) {
        pass.setBindGroup(this.cameraBindGroup.index, this.cameraBindGroup.bindGroup);
      }
      mesh.render(pass);
      pass.end();
    }
    /**
     * {@link updateCamera | Update the camera} and then call our {@link GPURenderer#render | GPURenderer render method}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      if (!this.ready)
        return;
      this.updateCamera();
      super.render(commandEncoder);
    }
    /**
     * Destroy our {@link GPUCameraRenderer}
     */
    destroy() {
      this.cameraBindGroup?.destroy();
      super.destroy();
    }
  }

  class GPUDeviceManager {
    /**
     * GPUDeviceManager constructor
     * @param parameters - {@link GPUDeviceManagerParams | parameters} used to create this {@link GPUDeviceManager}
     */
    constructor({
      label,
      production = false,
      onError = () => {
      },
      onDeviceLost = (info) => {
      }
    }) {
      this.index = 0;
      this.label = label ?? "GPUDeviceManager instance";
      this.production = production;
      this.ready = false;
      this.onError = onError;
      this.onDeviceLost = onDeviceLost;
      this.gpu = navigator.gpu;
      this.setPipelineManager();
      this.setDeviceObjects();
    }
    /**
     * Set our {@link adapter} and {@link device} if possible
     */
    async setAdapterAndDevice() {
      await this.setAdapter();
      await this.setDevice();
    }
    /**
     * Set up our {@link adapter} and {@link device} and all the already created {@link renderers} contexts
     */
    async init() {
      await this.setAdapterAndDevice();
      if (this.device) {
        this.renderers.forEach((renderer) => {
          if (!renderer.context) {
            renderer.setContext();
          }
        });
      }
    }
    /**
     * Set our {@link adapter} if possible.
     * The adapter represents a specific GPU. Some devices have multiple GPUs.
     * @async
     */
    async setAdapter() {
      if (!this.gpu) {
        this.onError();
        throwError("GPURenderer: WebGPU is not supported on your browser/OS. No 'gpu' object in 'navigator'.");
      }
      try {
        this.adapter = await this.gpu?.requestAdapter();
        this.adapter?.requestAdapterInfo().then((infos) => {
          this.adapterInfos = infos;
        });
      } catch (error) {
        this.onError();
        throwError("GPUDeviceManager: WebGPU is not supported on your browser/OS. 'requestAdapter' failed.");
      }
    }
    /**
     * Set our {@link device}
     * @async
     */
    async setDevice() {
      try {
        this.device = await this.adapter?.requestDevice({
          label: this.label + " " + this.index
        });
        if (this.device) {
          this.ready = true;
          this.index++;
        }
      } catch (error) {
        this.onError();
        throwError(`${this.label}: WebGPU is not supported on your browser/OS. 'requestDevice' failed: ${error}`);
      }
      this.device?.lost.then((info) => {
        throwWarning(`${this.label}: WebGPU device was lost: ${info.message}`);
        this.loseDevice();
        if (info.reason !== "destroyed") {
          this.onDeviceLost(info);
        }
      });
    }
    /**
     * Set our {@link pipelineManager | pipeline manager}
     */
    setPipelineManager() {
      this.pipelineManager = new PipelineManager();
    }
    /**
     * Called when the {@link device} is lost.
     * Reset all our renderers
     */
    loseDevice() {
      this.ready = false;
      this.samplers.forEach((sampler) => sampler.sampler = null);
      this.renderers.forEach((renderer) => renderer.loseContext());
      this.buffers = [];
    }
    /**
     * Called when the {@link device} should be restored.
     * Restore all our renderers
     */
    async restoreDevice() {
      await this.setAdapterAndDevice();
      if (this.device) {
        this.samplers.forEach((sampler) => {
          const { type, ...samplerOptions } = sampler.options;
          sampler.sampler = this.device.createSampler({
            label: sampler.label,
            ...samplerOptions
          });
        });
        this.renderers.forEach((renderer) => renderer.restoreContext());
      }
    }
    /**
     * Set all objects arrays that we'll keep track of
     */
    setDeviceObjects() {
      this.renderers = [];
      this.bindGroups = [];
      this.buffers = [];
      this.samplers = [];
      this.textures = [];
      this.texturesQueue = [];
    }
    /**
     * Add a {@link Renderer} to our {@link renderers} array
     * @param renderer - {@link Renderer} to add
     */
    addRenderer(renderer) {
      this.renderers.push(renderer);
    }
    /**
     * Remove a {@link Renderer} from our {@link renderers} array
     * @param renderer - {@link Renderer} to remove
     */
    removeRenderer(renderer) {
      this.renderers = this.renderers.filter((r) => r.uuid !== renderer.uuid);
    }
    /**
     * Get all the rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes) created by this {@link GPUDeviceManager}
     * @readonly
     */
    get deviceRenderedObjects() {
      return this.renderers.map((renderer) => renderer.renderedObjects).flat();
    }
    /**
     * Add a {@link AllowedBindGroups | bind group} to our {@link bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to add
     */
    addBindGroup(bindGroup) {
      if (!this.bindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
        this.bindGroups.push(bindGroup);
      }
    }
    /**
     * Remove a {@link AllowedBindGroups | bind group} from our {@link bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to remove
     */
    removeBindGroup(bindGroup) {
      this.bindGroups = this.bindGroups.filter((bG) => bG.uuid !== bindGroup.uuid);
    }
    /**
     * Add a {@link GPUBuffer} to our our {@link buffers} array
     * @param buffer - {@link GPUBuffer} to add
     */
    addBuffer(buffer) {
      this.buffers.push(buffer);
    }
    /**
     * Remove a {@link GPUBuffer} from our {@link buffers} array
     * @param buffer - {@link GPUBuffer} to remove
     * @param [originalLabel] - original {@link GPUBuffer} label in case the buffer has been swapped and its label has changed
     */
    removeBuffer(buffer, originalLabel) {
      if (buffer) {
        this.buffers = this.buffers.filter((b) => {
          return !(b.label === (originalLabel ?? buffer.label) && b.size === buffer.size);
        });
      }
    }
    /**
     * Add a {@link Sampler} to our {@link samplers} array
     * @param sampler - {@link Sampler} to add
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
    }
    /**
     * Remove a {@link Sampler} from our {@link samplers} array
     * @param sampler - {@link Sampler} to remove
     */
    removeSampler(sampler) {
      this.samplers = this.samplers.filter((s) => s.uuid !== sampler.uuid);
    }
    /**
     * Add a {@link Texture} to our {@link textures} array
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.textures.push(texture);
    }
    /**
     * Upload a {@link Texture#texture | texture} to the GPU
     * @param texture - {@link Texture} class object with the {@link Texture#texture | texture} to upload
     */
    uploadTexture(texture) {
      if (texture.source) {
        try {
          this.device?.queue.copyExternalImageToTexture(
            {
              source: texture.source,
              flipY: texture.options.flipY
            },
            { texture: texture.texture, premultipliedAlpha: texture.options.premultipliedAlpha },
            { width: texture.size.width, height: texture.size.height }
          );
          if (texture.texture.mipLevelCount > 1) {
            generateMips(this.device, texture.texture);
          }
          this.texturesQueue.push(texture);
        } catch ({ message }) {
          throwError(`GPUDeviceManager: could not upload texture: ${texture.options.name} because: ${message}`);
        }
      } else {
        this.device?.queue.writeTexture(
          { texture: texture.texture },
          new Uint8Array(texture.options.placeholderColor),
          { bytesPerRow: texture.size.width * 4 },
          { width: texture.size.width, height: texture.size.height }
        );
      }
    }
    /**
     * Remove a {@link Texture} from our {@link textures} array
     * @param texture - {@link Texture} to remove
     */
    removeTexture(texture) {
      this.textures = this.textures.filter((t) => t.uuid !== texture.uuid);
    }
    /**
     * Render everything:
     * - call all our {@link renderers} {@link core/renderers/GPURenderer.GPURenderer#onBeforeCommandEncoder | onBeforeCommandEncoder} callbacks
     * - create a {@link GPUCommandEncoder}
     * - render all our {@link renderers}
     * - submit our {@link GPUCommandBuffer}
     * - upload {@link Texture#texture | textures} that do not have a parentMesh
     * - empty our {@link texturesQueue} array
     * - call all our {@link renderers} {@link core/renderers/GPURenderer.GPURenderer#onAfterCommandEncoder | onAfterCommandEncoder} callbacks
     */
    render() {
      if (!this.ready)
        return;
      this.renderers.forEach((renderer) => renderer.onBeforeCommandEncoder());
      const commandEncoder = this.device?.createCommandEncoder({ label: this.label + " command encoder" });
      this.renderers.forEach((renderer) => renderer.render(commandEncoder));
      const commandBuffer = commandEncoder.finish();
      this.device?.queue.submit([commandBuffer]);
      this.textures.filter((texture) => !texture.parentMesh && texture.sourceLoaded && !texture.sourceUploaded).forEach((texture) => this.uploadTexture(texture));
      this.texturesQueue.forEach((texture) => {
        texture.sourceUploaded = true;
      });
      this.texturesQueue = [];
      this.renderers.forEach((renderer) => renderer.onAfterCommandEncoder());
    }
    /**
     * Destroy the {@link GPUDeviceManager} and its {@link renderers}
     */
    destroy() {
      this.device?.destroy();
      this.device = null;
      this.renderers.forEach((renderer) => renderer.destroy());
      this.bindGroups.forEach((bindGroup) => bindGroup.destroy());
      this.buffers.forEach((buffer) => buffer?.destroy());
      this.textures.forEach((texture) => texture.destroy());
      this.setDeviceObjects();
    }
  }

  class GPUCurtainsRenderer extends GPUCameraRenderer {
    /**
     * GPUCurtainsRenderer constructor
     * @param parameters - {@link GPUCameraRendererParams | parameters} used to create this {@link GPUCurtainsRenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass,
      camera
    }) {
      super({
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        renderPass,
        multisampled,
        camera
      });
      this.type = "GPUCurtainsRenderer";
    }
    /**
     * Add the {@link GPUCurtainsRenderer#domMeshes | domMeshes} to our tracked elements
     */
    setRendererObjects() {
      super.setRendererObjects();
      this.domMeshes = [];
    }
  }

  class ScrollManager {
    /**
     * ScrollManager constructor
     * @param parameters - {@link ScrollManagerParams | parameters} used to create this {@link ScrollManager}
     */
    constructor({
      scroll = { x: 0, y: 0 },
      delta = { x: 0, y: 0 },
      shouldWatch = true,
      onScroll = (delta2 = { x: 0, y: 0 }) => {
      }
    } = {}) {
      this.scroll = scroll;
      this.delta = delta;
      this.shouldWatch = shouldWatch;
      this.onScroll = onScroll;
      if (this.shouldWatch) {
        window.addEventListener("scroll", this.setScroll.bind(this), { passive: true });
      }
    }
    /**
     * Called by the scroll event listener
     */
    setScroll() {
      this.updateScrollValues({ x: window.pageXOffset, y: window.pageYOffset });
    }
    /**
     * Updates the scroll manager X and Y scroll values as well as last X and Y deltas
     * Internally called by the scroll event listener
     * Could be called externally as well if the user wants to handle the scroll by himself
     * @param parameters - {@link core/DOM/DOMElement.DOMPosition | scroll values}
     */
    updateScrollValues({ x, y }) {
      const lastScroll = this.scroll;
      this.scroll = { x, y };
      this.delta = {
        x: lastScroll.x - this.scroll.x,
        y: lastScroll.y - this.scroll.y
      };
      if (this.onScroll) {
        this.onScroll(this.delta);
      }
    }
    /**
     * Destroy our scroll manager (just remove our event listner if it had been added previously)
     */
    destroy() {
      if (this.shouldWatch) {
        window.removeEventListener("scroll", this.setScroll.bind(this), { passive: true });
      }
    }
  }

  class GPUCurtains {
    /**
     * GPUCurtains constructor
     * @param parameters - {@link GPUCurtainsParams | parameters} used to create this {@link GPUCurtains}
     */
    constructor({
      container,
      pixelRatio = window.devicePixelRatio ?? 1,
      preferredFormat,
      alphaMode = "premultiplied",
      production = false,
      multisampled = true,
      renderPass,
      camera,
      autoRender = true,
      autoResize = true,
      watchScroll = true
    } = {}) {
      // callbacks / events
      /** function assigned to the {@link onRender} callback */
      this._onRenderCallback = () => {
      };
      /** function assigned to the {@link onScroll} callback */
      this._onScrollCallback = () => {
      };
      /** function assigned to the {@link onError} callback */
      this._onErrorCallback = () => {
      };
      /** function assigned to the {@link onContextLost} callback */
      this._onContextLostCallback = () => {
      };
      this.type = "CurtainsGPU";
      this.options = {
        container,
        pixelRatio,
        camera,
        production,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass,
        autoRender,
        autoResize,
        watchScroll
      };
      this.setDeviceManager();
      if (container) {
        this.setContainer(container);
      }
    }
    /**
     * Set the {@link container}
     * @param container - {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    setContainer(container) {
      if (!container) {
        const container2 = document.createElement("div");
        container2.setAttribute("id", "curtains-gpu-canvas");
        document.body.appendChild(container2);
        this.options.container = container2;
      } else {
        if (typeof container === "string") {
          container = document.querySelector(container);
          if (!container) {
            const container2 = document.createElement("div");
            container2.setAttribute("id", "curtains-gpu-canvas");
            document.body.appendChild(container2);
            this.options.container = container2;
          } else {
            this.options.container = container;
          }
        } else if (container instanceof Element) {
          this.options.container = container;
        }
      }
      this.container = this.options.container;
      this.setCurtains();
    }
    /**
     * Set the default {@link GPUCurtainsRenderer | renderer}
     */
    setMainRenderer() {
      this.createCurtainsRenderer({
        deviceManager: this.deviceManager,
        // TODO ...this.options?
        container: this.options.container,
        pixelRatio: this.options.pixelRatio,
        preferredFormat: this.options.preferredFormat,
        alphaMode: this.options.alphaMode,
        multisampled: this.options.multisampled,
        renderPass: this.options.renderPass,
        camera: this.options.camera
      });
    }
    /**
     * Patch the options with default values before creating a {@link Renderer}
     * @param parameters - parameters to patch
     */
    patchRendererOptions(parameters) {
      if (parameters.pixelRatio === void 0)
        parameters.pixelRatio = this.options.pixelRatio;
      return parameters;
    }
    /**
     * Create a new {@link GPURenderer} instance
     * @param parameters - {@link GPURendererParams | parameters} to use
     */
    createRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPURenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Create a new {@link GPUCameraRenderer} instance
     * @param parameters - {@link GPUCameraRendererParams | parameters} to use
     */
    createCameraRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPUCameraRenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Create a new {@link GPUCurtainsRenderer} instance
     * @param parameters - {@link GPUCameraRendererParams | parameters} to use
     */
    createCurtainsRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPUCurtainsRenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Set our {@link GPUDeviceManager}
     */
    setDeviceManager() {
      this.deviceManager = new GPUDeviceManager({
        label: "GPUCurtains default device",
        production: this.options.production,
        onError: () => setTimeout(() => {
          this._onErrorCallback && this._onErrorCallback();
        }, 0),
        onDeviceLost: (info) => this._onContextLostCallback && this._onContextLostCallback(info)
      });
    }
    /**
     * Get all created {@link Renderer}
     * @readonly
     */
    get renderers() {
      return this.deviceManager.renderers;
    }
    /**
     * Get the default {@link GPUCurtainsRenderer} created
     * @readonly
     */
    get renderer() {
      return this.renderers[0];
    }
    /**
     * Set the {@link GPUDeviceManager} {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device} if possible, then set all created {@link Renderer} contexts
     */
    async setDevice() {
      await this.deviceManager.init();
    }
    /**
     * Restore the {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device}
     * @async
     */
    async restoreContext() {
      await this.deviceManager.restoreDevice();
    }
    /**
     * Set the various event listeners, set the {@link GPUCurtainsRenderer} and start rendering if needed
     */
    setCurtains() {
      this.initEvents();
      this.setMainRenderer();
      if (this.options.autoRender) {
        this.animate();
      }
    }
    /* RENDERER TRACKED OBJECTS */
    /**
     * Get all the created {@link PingPongPlane}
     * @readonly
     */
    get pingPongPlanes() {
      return this.renderers?.map((renderer) => renderer.pingPongPlanes).flat();
    }
    /**
     * Get all the created {@link ShaderPass}
     * @readonly
     */
    get shaderPasses() {
      return this.renderers?.map((renderer) => renderer.shaderPasses).flat();
    }
    /**
     * Get all the created {@link ProjectedMesh | projected meshes}
     * @readonly
     */
    get meshes() {
      return this.renderers?.map((renderer) => renderer.meshes).flat();
    }
    /**
     * Get all the created {@link DOMMesh | DOM Meshes} (including {@link Plane | planes})
     * @readonly
     */
    get domMeshes() {
      return this.renderers?.filter((renderer) => renderer instanceof GPUCurtainsRenderer).map((renderer) => renderer.domMeshes).flat();
    }
    /**
     * Get all the created {@link Plane | planes}
     * @readonly
     */
    get planes() {
      return this.domMeshes.filter((domMesh) => domMesh instanceof Plane);
    }
    /**
     * Get all the created {@link ComputePass | compute passes}
     * @readonly
     */
    get computePasses() {
      return this.renderers?.map((renderer) => renderer.computePasses).flat();
    }
    /**
     * Get the {@link GPUCurtainsRenderer#camera | default GPUCurtainsRenderer camera}
     * @readonly
     */
    get camera() {
      return this.renderer?.camera;
    }
    /**
     * Set the {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer camera} perspective
     * @param parameters - {@link CameraBasePerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({ fov = 50, near = 0.01, far = 50 } = {}) {
      this.renderer?.setPerspective({ fov, near, far });
    }
    /**
     * Set the default {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer camera} {@link Camera#position | position}
     * @param position - new {@link Camera#position | position}
     */
    setCameraPosition(position = new Vec3(0, 0, 1)) {
      this.renderer?.setCameraPosition(position);
    }
    /**
     * Get our {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer bounding rectangle}
     */
    get boundingRect() {
      return this.renderer?.boundingRect;
    }
    /* SCROLL */
    /**
     * Set the {@link scrollManager}
     */
    initScroll() {
      this.scrollManager = new ScrollManager({
        // init values
        scroll: {
          x: window.pageXOffset,
          y: window.pageYOffset
        },
        delta: {
          x: 0,
          y: 0
        },
        shouldWatch: this.options.watchScroll,
        onScroll: (delta) => this.updateScroll(delta)
      });
    }
    /**
     * Update all {@link DOMMesh#updateScrollPosition | DOMMesh scroll positions}
     * @param delta - last {@link ScrollManager#delta | scroll delta values}
     */
    updateScroll(delta = { x: 0, y: 0 }) {
      this.domMeshes.forEach((mesh) => {
        if (mesh.domElement) {
          mesh.updateScrollPosition(delta);
        }
      });
      this._onScrollCallback && this._onScrollCallback();
    }
    /**
     * Update our {@link ScrollManager#scroll | scrollManager scroll values}. Called each time the scroll has changed if {@link GPUCurtains#options.watchScroll | watchScroll option} is set to true. Could be called externally as well.
     * @param scroll - new {@link DOMPosition | scroll values}
     */
    updateScrollValues(scroll = { x: 0, y: 0 }) {
      this.scrollManager.updateScrollValues(scroll);
    }
    /**
     * Get our {@link ScrollManager#delta | scrollManager delta values}
     * @readonly
     */
    get scrollDelta() {
      return this.scrollManager.delta;
    }
    /**
     * Get our {@link ScrollManager#scroll | scrollManager scroll values}
     * @readonly
     */
    get scrollValues() {
      return this.scrollManager.scroll;
    }
    /* EVENT LISTENERS */
    /**
     * Set the resize and scroll event listeners
     */
    initEvents() {
      resizeManager.useObserver(this.options.autoResize);
      this.initScroll();
    }
    /* EVENTS */
    /**
     * Called at each render frame
     * @param callback - callback to run at each render
     * @returns - our {@link GPUCurtains}
     */
    onRender(callback) {
      if (callback) {
        this._onRenderCallback = callback;
      }
      return this;
    }
    /**
     * Called each time the {@link ScrollManager#scroll | scrollManager scroll values} changed
     * @param callback - callback to run each time the {@link ScrollManager#scroll | scrollManager scroll values} changed
     * @returns - our {@link GPUCurtains}
     */
    onScroll(callback) {
      if (callback) {
        this._onScrollCallback = callback;
      }
      return this;
    }
    /**
     * Called if there's been an error while trying to create the {@link GPUDeviceManager#device | device}
     * @param callback - callback to run if there's been an error while trying to create the {@link GPUDeviceManager#device | device}
     * @returns - our {@link GPUCurtains}
     */
    onError(callback) {
      if (callback) {
        this._onErrorCallback = callback;
      }
      return this;
    }
    /**
     * Called whenever the {@link GPUDeviceManager#device | device} is lost
     * @param callback - callback to run whenever the {@link GPUDeviceManager#device | device} is lost
     * @returns - our {@link GPUCurtains}
     */
    onContextLost(callback) {
      if (callback) {
        this._onContextLostCallback = callback;
      }
      return this;
    }
    /**
     * Create a requestAnimationFrame loop and run it
     */
    animate() {
      this.render();
      this.animationFrameID = window.requestAnimationFrame(this.animate.bind(this));
    }
    /**
     * Render our {@link GPUDeviceManager}
     */
    render() {
      this._onRenderCallback && this._onRenderCallback();
      this.deviceManager.render();
    }
    /**
     * Destroy our {@link GPUCurtains} and {@link GPUDeviceManager}
     */
    destroy() {
      if (this.animationFrameID) {
        window.cancelAnimationFrame(this.animationFrameID);
      }
      this.deviceManager.destroy();
      this.scrollManager?.destroy();
      resizeManager.destroy();
    }
  }

  class BoxGeometry extends IndexedGeometry {
    constructor({
      widthSegments = 1,
      heightSegments = 1,
      depthSegments = 1,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "ccw", topology, instancesCount, vertexBuffers });
      this.type = "BoxGeometry";
      widthSegments = Math.floor(widthSegments);
      heightSegments = Math.floor(heightSegments);
      depthSegments = Math.floor(depthSegments);
      const vertices = [];
      const uvs = [];
      const normals = [];
      const indices = [];
      let numberOfVertices = 0;
      const buildPlane = (u, v, w, udir, vdir, width, height, depth, gridX, gridY) => {
        const segmentWidth = width / gridX;
        const segmentHeight = height / gridY;
        const widthHalf = width / 2;
        const heightHalf = height / 2;
        const depthHalf = depth / 2;
        const gridX1 = gridX + 1;
        const gridY1 = gridY + 1;
        let vertexCounter = 0;
        const vector = new Vec3();
        for (let iy = 0; iy < gridY1; iy++) {
          const y = iy * segmentHeight - heightHalf;
          for (let ix = 0; ix < gridX1; ix++) {
            const x = ix * segmentWidth - widthHalf;
            vector[u] = x * udir;
            vector[v] = y * vdir;
            vector[w] = depthHalf;
            vertices.push(vector.x, vector.y, vector.z);
            vector[u] = 0;
            vector[v] = 0;
            vector[w] = depth > 0 ? 1 : -1;
            normals.push(vector.x, vector.y, vector.z);
            uvs.push(ix / gridX);
            uvs.push(iy / gridY);
            vertexCounter += 1;
          }
        }
        for (let iy = 0; iy < gridY; iy++) {
          for (let ix = 0; ix < gridX; ix++) {
            const a = numberOfVertices + ix + gridX1 * iy;
            const b = numberOfVertices + ix + gridX1 * (iy + 1);
            const c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);
            const d = numberOfVertices + (ix + 1) + gridX1 * iy;
            indices.push(a, b, d);
            indices.push(b, c, d);
            numberOfVertices += vertexCounter;
          }
        }
      };
      buildPlane("z", "y", "x", -1, -1, 2, 2, 2, depthSegments, heightSegments);
      buildPlane("z", "y", "x", 1, -1, 2, 2, -2, depthSegments, heightSegments);
      buildPlane("x", "z", "y", 1, 1, 2, 2, 2, widthSegments, depthSegments);
      buildPlane("x", "z", "y", 1, -1, 2, 2, -2, widthSegments, depthSegments);
      buildPlane("x", "y", "z", 1, -1, 2, 2, 2, widthSegments, heightSegments);
      buildPlane("x", "y", "z", -1, -1, 2, 2, -2, widthSegments, heightSegments);
      this.setAttribute({
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(vertices)
      });
      this.setAttribute({
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(uvs)
      });
      this.setAttribute({
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(normals)
      });
      this.setIndexBuffer({
        array: this.useUint16IndexArray ? new Uint16Array(indices) : new Uint32Array(indices),
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
  }

  class SphereGeometry extends IndexedGeometry {
    constructor({
      widthSegments = 32,
      heightSegments = 16,
      phiStart = 0,
      phiLength = Math.PI * 2,
      thetaStart = 0,
      thetaLength = Math.PI,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "ccw", topology, instancesCount, vertexBuffers });
      this.type = "SphereGeometry";
      widthSegments = Math.max(3, Math.floor(widthSegments));
      heightSegments = Math.max(2, Math.floor(heightSegments));
      const radius = 1;
      const thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);
      let index = 0;
      const grid = [];
      const vertex = new Vec3();
      const normal = new Vec3();
      const indices = [];
      const vertices = [];
      const normals = [];
      const uvs = [];
      for (let iy = 0; iy <= heightSegments; iy++) {
        const verticesRow = [];
        const v = iy / heightSegments;
        let uOffset = 0;
        if (iy === 0 && thetaStart === 0) {
          uOffset = 0.5 / widthSegments;
        } else if (iy === heightSegments && thetaEnd === Math.PI) {
          uOffset = -0.5 / widthSegments;
        }
        for (let ix = 0; ix <= widthSegments; ix++) {
          const u = ix / widthSegments;
          vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
          vertex.y = radius * Math.cos(thetaStart + v * thetaLength);
          vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
          vertices.push(vertex.x, vertex.y, vertex.z);
          normal.copy(vertex).normalize();
          normals.push(normal.x, normal.y, normal.z);
          uvs.push(u + uOffset, v);
          verticesRow.push(index++);
        }
        grid.push(verticesRow);
      }
      for (let iy = 0; iy < heightSegments; iy++) {
        for (let ix = 0; ix < widthSegments; ix++) {
          const a = grid[iy][ix + 1];
          const b = grid[iy][ix];
          const c = grid[iy + 1][ix];
          const d = grid[iy + 1][ix + 1];
          if (iy !== 0 || thetaStart > 0)
            indices.push(a, b, d);
          if (iy !== heightSegments - 1 || thetaEnd < Math.PI)
            indices.push(b, c, d);
        }
      }
      this.setAttribute({
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(vertices)
      });
      this.setAttribute({
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(uvs)
      });
      this.setAttribute({
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(normals)
      });
      this.setIndexBuffer({
        array: this.useUint16IndexArray ? new Uint16Array(indices) : new Uint32Array(indices),
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
  }

  exports.BindGroup = BindGroup;
  exports.Binding = Binding;
  exports.Box3 = Box3;
  exports.BoxGeometry = BoxGeometry;
  exports.BufferBinding = BufferBinding;
  exports.Camera = Camera;
  exports.ComputeMaterial = ComputeMaterial;
  exports.ComputePass = ComputePass;
  exports.ComputePipelineEntry = ComputePipelineEntry;
  exports.DOMElement = DOMElement;
  exports.DOMFrustum = DOMFrustum;
  exports.DOMMesh = DOMMesh;
  exports.DOMObject3D = DOMObject3D;
  exports.FullscreenPlane = FullscreenPlane;
  exports.GPUCameraRenderer = GPUCameraRenderer;
  exports.GPUCurtains = GPUCurtains;
  exports.GPUCurtainsRenderer = GPUCurtainsRenderer;
  exports.GPUDeviceManager = GPUDeviceManager;
  exports.GPURenderer = GPURenderer;
  exports.Geometry = Geometry;
  exports.IndexedGeometry = IndexedGeometry;
  exports.Mat4 = Mat4;
  exports.Material = Material;
  exports.Mesh = Mesh;
  exports.Object3D = Object3D;
  exports.PingPongPlane = PingPongPlane;
  exports.PipelineEntry = PipelineEntry;
  exports.PipelineManager = PipelineManager;
  exports.Plane = Plane;
  exports.PlaneGeometry = PlaneGeometry;
  exports.ProjectedObject3D = ProjectedObject3D;
  exports.Quat = Quat;
  exports.RenderMaterial = RenderMaterial;
  exports.RenderPass = RenderPass;
  exports.RenderPipelineEntry = RenderPipelineEntry;
  exports.RenderTarget = RenderTarget;
  exports.RenderTexture = RenderTexture;
  exports.Sampler = Sampler;
  exports.SamplerBinding = SamplerBinding;
  exports.Scene = Scene;
  exports.ShaderPass = ShaderPass;
  exports.SphereGeometry = SphereGeometry;
  exports.Texture = Texture;
  exports.TextureBindGroup = TextureBindGroup;
  exports.TextureBinding = TextureBinding;
  exports.Vec2 = Vec2;
  exports.Vec3 = Vec3;
  exports.WritableBufferBinding = WritableBufferBinding;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3B1LWN1cnRhaW5zLnVtZC5janMiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy91dGlscy50cyIsIi4uL3NyYy9jb3JlL3JlbmRlcmVycy91dGlscy50cyIsIi4uL3NyYy9jb3JlL2JpbmRpbmdzL0JpbmRpbmcudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy91dGlscy50cyIsIi4uL3NyYy9tYXRoL1ZlYzIudHMiLCIuLi9zcmMvbWF0aC9RdWF0LnRzIiwiLi4vc3JjL21hdGgvTWF0NC50cyIsIi4uL3NyYy9tYXRoL1ZlYzMudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVyQXJyYXlFbGVtZW50LnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLnRzIiwiLi4vc3JjL2NvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9UZXh0dXJlQmluZGluZy50cyIsIi4uL3NyYy9jb3JlL29iamVjdHMzRC9PYmplY3QzRC50cyIsIi4uL3NyYy9jb3JlL3RleHR1cmVzL1RleHR1cmUudHMiLCIuLi9zcmMvY29yZS9iaW5kR3JvdXBzL1RleHR1cmVCaW5kR3JvdXAudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9TYW1wbGVyQmluZGluZy50cyIsIi4uL3NyYy9jb3JlL2NhbWVyYS9DYW1lcmEudHMiLCIuLi9zcmMvY29yZS9zYW1wbGVycy9TYW1wbGVyLnRzIiwiLi4vc3JjL2NvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZS50cyIsIi4uL3NyYy9jb3JlL21hdGVyaWFscy9NYXRlcmlhbC50cyIsIi4uL3NyYy9jb3JlL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwudHMiLCIuLi9zcmMvY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzLnRzIiwiLi4vc3JjL21hdGgvQm94My50cyIsIi4uL3NyYy9jb3JlL0RPTS9ET01GcnVzdHVtLnRzIiwiLi4vc3JjL2NvcmUvZ2VvbWV0cmllcy9HZW9tZXRyeS50cyIsIi4uL3NyYy9jb3JlL2dlb21ldHJpZXMvSW5kZXhlZEdlb21ldHJ5LnRzIiwiLi4vc3JjL2NvcmUvZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5LnRzIiwiLi4vc3JjL2NvcmUvbWF0ZXJpYWxzL1JlbmRlck1hdGVyaWFsLnRzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF92cy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF9mcy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluLnRzIiwiLi4vc3JjL3V0aWxzL0NhY2hlTWFuYWdlci50cyIsIi4uL3NyYy9jb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUudHMiLCIuLi9zcmMvY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Byb2plY3RlZF92cy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF9ub3JtYWxfZnMud2dzbC5qcyIsIi4uL3NyYy9jb3JlL21lc2hlcy9taXhpbnMvUHJvamVjdGVkTWVzaEJhc2VNaXhpbi50cyIsIi4uL3NyYy9jb3JlL21lc2hlcy9NZXNoLnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL1BpcGVsaW5lRW50cnkudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9nZXRfb3V0cHV0X3Bvc2l0aW9uLndnc2wuanMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9nZXRfdXZfY292ZXIud2dzbC5qcyIsIi4uL3NyYy9jb3JlL3NoYWRlcnMvY2h1bmtzL2dldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLndnc2wuanMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL1NoYWRlckNodW5rcy50cyIsIi4uL3NyYy9jb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL0NvbXB1dGVQaXBlbGluZUVudHJ5LnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL1BpcGVsaW5lTWFuYWdlci50cyIsIi4uL3NyYy91dGlscy9SZXNpemVNYW5hZ2VyLnRzIiwiLi4vc3JjL2NvcmUvRE9NL0RPTUVsZW1lbnQudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Bhc3NfZnMud2dzbC5qcyIsIi4uL3NyYy9jb3JlL3JlbmRlclBhc3Nlcy9TaGFkZXJQYXNzLnRzIiwiLi4vc3JjL2NvcmUvcmVuZGVyUGFzc2VzL1JlbmRlclBhc3MudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LnRzIiwiLi4vc3JjL2N1cnRhaW5zL21lc2hlcy9QaW5nUG9uZ1BsYW5lLnRzIiwiLi4vc3JjL2N1cnRhaW5zL29iamVjdHMzRC9ET01PYmplY3QzRC50cyIsIi4uL3NyYy9jdXJ0YWlucy9tZXNoZXMvRE9NTWVzaC50cyIsIi4uL3NyYy9jdXJ0YWlucy9tZXNoZXMvUGxhbmUudHMiLCIuLi9zcmMvY29yZS9zY2VuZXMvU2NlbmUudHMiLCIuLi9zcmMvdXRpbHMvVGFza3NRdWV1ZU1hbmFnZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci50cyIsIi4uL3NyYy9jdXJ0YWlucy9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlci50cyIsIi4uL3NyYy91dGlscy9TY3JvbGxNYW5hZ2VyLnRzIiwiLi4vc3JjL2N1cnRhaW5zL0dQVUN1cnRhaW5zLnRzIiwiLi4vc3JjL2V4dHJhcy9nZW9tZXRyaWVzL0JveEdlb21ldHJ5LnRzIiwiLi4vc3JjL2V4dHJhcy9nZW9tZXRyaWVzL1NwaGVyZUdlb21ldHJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGUgYSB1bmlxdWUgdW5pdmVyc2FsIGlkXG4gKiBAcmV0dXJucyAtIHVuaXF1ZSB1bml2ZXJzYWwgaWQgZ2VuZXJhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVVVSUQgPSAoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDhcbiAgICByZXR1cm4gdi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIFR1cm5zIGEgc3RyaW5nIGludG8gYSBjYW1lbCBjYXNlIHN0cmluZ1xuICogQHBhcmFtIHN0cmluZyAtIHN0cmluZyB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm5zIC0gY2FtZWwgY2FzZSBzdHJpbmcgY3JlYXRlZFxuICovXG5leHBvcnQgY29uc3QgdG9DYW1lbENhc2UgPSAoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gc3RyaW5nXG4gICAgLnJlcGxhY2UoLyg/Ol5cXHd8W0EtWl18XFxiXFx3KS9nLCAobHRyLCBpZHgpID0+IChpZHggPT09IDAgPyBsdHIudG9Mb3dlckNhc2UoKSA6IGx0ci50b1VwcGVyQ2FzZSgpKSlcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnJylcbn1cblxuLyoqXG4gKiBUdXJucyBhIHN0cmluZyBpbnRvIGEga2ViYWIgY2FzZSBzdHJpbmdcbiAqIEBwYXJhbSBzdHJpbmcgLSBzdHJpbmcgdG8gdHJhbnNmb3JtXG4gKiBAcmV0dXJucyAtIGtlYmFiIGNhc2Ugc3RyaW5nIGNyZWF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IHRvS2ViYWJDYXNlID0gKHN0cmluZzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyaW5nKVxuICByZXR1cm4gY2FtZWxDYXNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2FtZWxDYXNlLnNsaWNlKDEpXG59XG5cbmxldCB3YXJuaW5nVGhyb3duID0gMFxuXG4vKipcbiAqIFRocm93IGEgY29uc29sZSB3YXJuaW5nIHdpdGggdGhlIHBhc3NlZCBhcmd1bWVudHNcbiAqIEBwYXJhbSB3YXJuaW5nIC0gd2FybmluZyB0byBiZSB0aHJvd25cbiAqL1xuZXhwb3J0IGNvbnN0IHRocm93V2FybmluZyA9ICh3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgaWYgKHdhcm5pbmdUaHJvd24gPiAxMDApIHtcbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmICh3YXJuaW5nVGhyb3duID09PSAxMDApIHtcbiAgICBjb25zb2xlLndhcm4oJ0dQVUN1cnRhaW5zOiB0b28gbWFueSB3YXJuaW5ncyB0aHJvd24sIHN0b3AgbG9nZ2luZy4nKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKVxuICB9XG5cbiAgd2FybmluZ1Rocm93bisrXG59XG5cbi8qKlxuICogVGhyb3cgYSBqYXZhc2NyaXB0IGVycm9yIHdpdGggdGhlIHBhc3NlZCBhcmd1bWVudHNcbiAqIEBwYXJhbSBlcnJvciAtIGVycm9yIHRvIGJlIHRocm93blxuICovXG5leHBvcnQgY29uc3QgdGhyb3dFcnJvciA9IChlcnJvcjogc3RyaW5nKSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcihlcnJvcilcbn1cbiIsImltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVVJlbmRlcmVyIH0gZnJvbSAnLi9HUFVSZW5kZXJlcidcbmltcG9ydCB7IEdQVUNhbWVyYVJlbmRlcmVyIH0gZnJvbSAnLi9HUFVDYW1lcmFSZW5kZXJlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcblxuLyoqXG4gKiBBIFJlbmRlcmVyIGNvdWxkIGJlIGVpdGhlciBhIHtAbGluayBHUFVSZW5kZXJlcn0sIGEge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSBvciBhIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfVxuICogQHR5cGUge1JlbmRlcmVyfVxuICovXG5leHBvcnQgdHlwZSBSZW5kZXJlciA9IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlciB8IEdQVVJlbmRlcmVyXG4vKipcbiAqIEEgQ2FtZXJhUmVuZGVyZXIgY291bGQgYmUgZWl0aGVyIGEge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSBvciBhIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfVxuICogQHR5cGUge0NhbWVyYVJlbmRlcmVyfVxuICovXG5leHBvcnQgdHlwZSBDYW1lcmFSZW5kZXJlciA9IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlclxuXG4vKipcbiAqIEZvcm1hdCBhIHJlbmRlcmVyIGVycm9yIGJhc2VkIG9uIGdpdmVuIHJlbmRlcmVyLCByZW5kZXJlciB0eXBlIGFuZCBvYmplY3QgdHlwZVxuICogQHBhcmFtIHJlbmRlcmVyIC0gcmVuZGVyZXIgdGhhdCBmYWlsZWQgdGhlIHRlc3RcbiAqIEBwYXJhbSByZW5kZXJlclR5cGUgLSBleHBlY3RlZCByZW5kZXJlciB0eXBlXG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlXG4gKi9cbmNvbnN0IGZvcm1hdFJlbmRlcmVyRXJyb3IgPSAocmVuZGVyZXI6IFJlbmRlcmVyLCByZW5kZXJlclR5cGUgPSAnR1BVUmVuZGVyZXInLCB0eXBlOiBzdHJpbmcgfCBudWxsKTogdm9pZCA9PiB7XG4gIGNvbnN0IGVycm9yID0gdHlwZVxuICAgID8gYFVuYWJsZSB0byBjcmVhdGUgJHt0eXBlfSBiZWNhdXNlIHRoZSAke3JlbmRlcmVyVHlwZX0gaXMgbm90IGRlZmluZWQ6ICR7cmVuZGVyZXJ9YFxuICAgIDogYFRoZSAke3JlbmRlcmVyVHlwZX0gaXMgbm90IGRlZmluZWQ6ICR7cmVuZGVyZXJ9YFxuICB0aHJvd0Vycm9yKGVycm9yKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiByZW5kZXJlciBpcyBhIHtAbGluayBSZW5kZXJlcn1cbiAqIEBwYXJhbSByZW5kZXJlciAtIHJlbmRlcmVyIHRvIHRlc3RcbiAqIEBwYXJhbSB0eXBlIC0gb2JqZWN0IHR5cGUgdXNlZCB0byBmb3JtYXQgdGhlIGVycm9yIGlmIG5lZWRlZFxuICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSBnaXZlbiByZW5kZXJlciBpcyBhIHtAbGluayBSZW5kZXJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVuZGVyZXIgPSAocmVuZGVyZXI6IFJlbmRlcmVyIHwgdW5kZWZpbmVkLCB0eXBlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGlzUmVuZGVyZXIgPVxuICAgIHJlbmRlcmVyICYmXG4gICAgKHJlbmRlcmVyLnR5cGUgPT09ICdHUFVSZW5kZXJlcicgfHxcbiAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVDYW1lcmFSZW5kZXJlcicgfHxcbiAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVDdXJ0YWluc1JlbmRlcmVyJylcblxuICBpZiAoIWlzUmVuZGVyZXIpIHtcbiAgICBmb3JtYXRSZW5kZXJlckVycm9yKHJlbmRlcmVyLCAnR1BVUmVuZGVyZXInLCB0eXBlKVxuICB9XG5cbiAgcmV0dXJuIGlzUmVuZGVyZXJcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9XG4gKiBAcGFyYW0gcmVuZGVyZXIgLSByZW5kZXJlciB0byB0ZXN0XG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlIHVzZWQgdG8gZm9ybWF0IHRoZSBlcnJvciBpZiBuZWVkZWRcbiAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBpc0NhbWVyYVJlbmRlcmVyID0gKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciB8IHVuZGVmaW5lZCwgdHlwZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpc0NhbWVyYVJlbmRlcmVyID1cbiAgICByZW5kZXJlciAmJiAocmVuZGVyZXIudHlwZSA9PT0gJ0dQVUNhbWVyYVJlbmRlcmVyJyB8fCByZW5kZXJlci50eXBlID09PSAnR1BVQ3VydGFpbnNSZW5kZXJlcicpXG5cbiAgaWYgKCFpc0NhbWVyYVJlbmRlcmVyKSB7XG4gICAgZm9ybWF0UmVuZGVyZXJFcnJvcihyZW5kZXJlciwgJ0dQVUNhbWVyYVJlbmRlcmVyJywgdHlwZSlcbiAgfVxuXG4gIHJldHVybiBpc0NhbWVyYVJlbmRlcmVyXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHJlbmRlcmVyIGlzIGEge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9XG4gKiBAcGFyYW0gcmVuZGVyZXIgLSByZW5kZXJlciB0byB0ZXN0XG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlIHVzZWQgdG8gZm9ybWF0IHRoZSBlcnJvciBpZiBuZWVkZWRcbiAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ3VydGFpbnNSZW5kZXJlciA9IChyZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IHVuZGVmaW5lZCwgdHlwZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpc0N1cnRhaW5zUmVuZGVyZXIgPSByZW5kZXJlciAmJiByZW5kZXJlci50eXBlID09PSAnR1BVQ3VydGFpbnNSZW5kZXJlcidcblxuICBpZiAoIWlzQ3VydGFpbnNSZW5kZXJlcikge1xuICAgIGZvcm1hdFJlbmRlcmVyRXJyb3IocmVuZGVyZXIsICdHUFVDdXJ0YWluc1JlbmRlcmVyJywgdHlwZSlcbiAgfVxuXG4gIHJldHVybiBpc0N1cnRhaW5zUmVuZGVyZXJcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2VuZXJhdGUgbWlwcyBvbiB0aGUgR1BVXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vd2ViZ3B1ZnVuZGFtZW50YWxzLm9yZy93ZWJncHUvbGVzc29ucy93ZWJncHUtaW1wb3J0aW5nLXRleHR1cmVzLmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTWlwcyA9ICgoKSA9PiB7XG4gIGxldCBzYW1wbGVyXG4gIGxldCBtb2R1bGVcbiAgY29uc3QgcGlwZWxpbmVCeUZvcm1hdCA9IHt9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlTWlwcyhkZXZpY2U6IEdQVURldmljZSwgdGV4dHVyZTogR1BVVGV4dHVyZSkge1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICBtb2R1bGUgPSBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgICAgbGFiZWw6ICd0ZXh0dXJlZCBxdWFkIHNoYWRlcnMgZm9yIG1pcCBsZXZlbCBnZW5lcmF0aW9uJyxcbiAgICAgICAgY29kZTogYFxuICAgICAgICAgICAgc3RydWN0IFZTT3V0cHV0IHtcbiAgICAgICAgICAgICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0ZixcbiAgICAgICAgICAgICAgQGxvY2F0aW9uKDApIHRleGNvb3JkOiB2ZWMyZixcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIEB2ZXJ0ZXggZm4gdnMoXG4gICAgICAgICAgICAgIEBidWlsdGluKHZlcnRleF9pbmRleCkgdmVydGV4SW5kZXggOiB1MzJcbiAgICAgICAgICAgICkgLT4gVlNPdXRwdXQge1xuICAgICAgICAgICAgICB2YXIgcG9zID0gYXJyYXk8dmVjMmYsIDY+KFxuXG4gICAgICAgICAgICAgICAgdmVjMmYoIDAuMCwgIDAuMCksICAvLyBjZW50ZXJcbiAgICAgICAgICAgICAgICB2ZWMyZiggMS4wLCAgMC4wKSwgIC8vIHJpZ2h0LCBjZW50ZXJcbiAgICAgICAgICAgICAgICB2ZWMyZiggMC4wLCAgMS4wKSwgIC8vIGNlbnRlciwgdG9wXG5cbiAgICAgICAgICAgICAgICAvLyAyc3QgdHJpYW5nbGVcbiAgICAgICAgICAgICAgICB2ZWMyZiggMC4wLCAgMS4wKSwgIC8vIGNlbnRlciwgdG9wXG4gICAgICAgICAgICAgICAgdmVjMmYoIDEuMCwgIDAuMCksICAvLyByaWdodCwgY2VudGVyXG4gICAgICAgICAgICAgICAgdmVjMmYoIDEuMCwgIDEuMCksICAvLyByaWdodCwgdG9wXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgdmFyIHZzT3V0cHV0OiBWU091dHB1dDtcbiAgICAgICAgICAgICAgbGV0IHh5ID0gcG9zW3ZlcnRleEluZGV4XTtcbiAgICAgICAgICAgICAgdnNPdXRwdXQucG9zaXRpb24gPSB2ZWM0Zih4eSAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICB2c091dHB1dC50ZXhjb29yZCA9IHZlYzJmKHh5LngsIDEuMCAtIHh5LnkpO1xuICAgICAgICAgICAgICByZXR1cm4gdnNPdXRwdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgwKSBAYmluZGluZygwKSB2YXIgb3VyU2FtcGxlcjogc2FtcGxlcjtcbiAgICAgICAgICAgIEBncm91cCgwKSBAYmluZGluZygxKSB2YXIgb3VyVGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuXG4gICAgICAgICAgICBAZnJhZ21lbnQgZm4gZnMoZnNJbnB1dDogVlNPdXRwdXQpIC0+IEBsb2NhdGlvbigwKSB2ZWM0ZiB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlU2FtcGxlKG91clRleHR1cmUsIG91clNhbXBsZXIsIGZzSW5wdXQudGV4Y29vcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGAsXG4gICAgICB9KVxuXG4gICAgICBzYW1wbGVyID0gZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICBtaW5GaWx0ZXI6ICdsaW5lYXInLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoIXBpcGVsaW5lQnlGb3JtYXRbdGV4dHVyZS5mb3JtYXRdKSB7XG4gICAgICBwaXBlbGluZUJ5Rm9ybWF0W3RleHR1cmUuZm9ybWF0XSA9IGRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XG4gICAgICAgIGxhYmVsOiAnbWlwIGxldmVsIGdlbmVyYXRvciBwaXBlbGluZScsXG4gICAgICAgIGxheW91dDogJ2F1dG8nLFxuICAgICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgZW50cnlQb2ludDogJ3ZzJyxcbiAgICAgICAgfSxcbiAgICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgZW50cnlQb2ludDogJ2ZzJyxcbiAgICAgICAgICB0YXJnZXRzOiBbeyBmb3JtYXQ6IHRleHR1cmUuZm9ybWF0IH1dLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgcGlwZWxpbmUgPSBwaXBlbGluZUJ5Rm9ybWF0W3RleHR1cmUuZm9ybWF0XVxuXG4gICAgY29uc3QgZW5jb2RlciA9IGRldmljZS5jcmVhdGVDb21tYW5kRW5jb2Rlcih7XG4gICAgICBsYWJlbDogJ21pcCBnZW4gZW5jb2RlcicsXG4gICAgfSlcblxuICAgIGxldCB3aWR0aCA9IHRleHR1cmUud2lkdGhcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZS5oZWlnaHRcbiAgICBsZXQgYmFzZU1pcExldmVsID0gMFxuICAgIHdoaWxlICh3aWR0aCA+IDEgfHwgaGVpZ2h0ID4gMSkge1xuICAgICAgd2lkdGggPSBNYXRoLm1heCgxLCAod2lkdGggLyAyKSB8IDApXG4gICAgICBoZWlnaHQgPSBNYXRoLm1heCgxLCAoaGVpZ2h0IC8gMikgfCAwKVxuXG4gICAgICBjb25zdCBiaW5kR3JvdXAgPSBkZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcbiAgICAgICAgbGF5b3V0OiBwaXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksXG4gICAgICAgIGVudHJpZXM6IFtcbiAgICAgICAgICB7IGJpbmRpbmc6IDAsIHJlc291cmNlOiBzYW1wbGVyIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYmluZGluZzogMSxcbiAgICAgICAgICAgIHJlc291cmNlOiB0ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICAgICAgICBiYXNlTWlwTGV2ZWwsXG4gICAgICAgICAgICAgIG1pcExldmVsQ291bnQ6IDEsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSlcblxuICAgICAgKytiYXNlTWlwTGV2ZWxcblxuICAgICAgY29uc3QgcmVuZGVyUGFzc0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgIGxhYmVsOiAnb3VyIGJhc2ljIGNhbnZhcyByZW5kZXJQYXNzJyxcbiAgICAgICAgY29sb3JBdHRhY2htZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZpZXc6IHRleHR1cmUuY3JlYXRlVmlldyh7IGJhc2VNaXBMZXZlbCwgbWlwTGV2ZWxDb3VudDogMSB9KSxcbiAgICAgICAgICAgIGxvYWRPcDogJ2NsZWFyJyxcbiAgICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFzcyA9IGVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHJlbmRlclBhc3NEZXNjcmlwdG9yIGFzIEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yKVxuICAgICAgcGFzcy5zZXRQaXBlbGluZShwaXBlbGluZSlcbiAgICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIGJpbmRHcm91cClcbiAgICAgIHBhc3MuZHJhdyg2KSAvLyBjYWxsIG91ciB2ZXJ0ZXggc2hhZGVyIDYgdGltZXNcbiAgICAgIHBhc3MuZW5kKClcbiAgICB9XG5cbiAgICBjb25zdCBjb21tYW5kQnVmZmVyID0gZW5jb2Rlci5maW5pc2goKVxuICAgIGRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuICB9XG59KSgpXG4iLCJpbXBvcnQgeyB0b0NhbWVsQ2FzZSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xyXG5pbXBvcnQgeyBNYXRlcmlhbFNoYWRlcnNUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMvTWF0ZXJpYWxzJ1xyXG5pbXBvcnQgeyBUZXh0dXJlQmluZGluZyB9IGZyb20gJy4vVGV4dHVyZUJpbmRpbmcnXHJcbmltcG9ydCB7IFNhbXBsZXJCaW5kaW5nIH0gZnJvbSAnLi9TYW1wbGVyQmluZGluZydcclxuXHJcbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHRleHR1cmUgYmluZGluZyB0eXBlcyAqL1xyXG5leHBvcnQgdHlwZSBUZXh0dXJlQmluZGluZ1R5cGUgPSAndGV4dHVyZScgfCAnZXh0ZXJuYWxUZXh0dXJlJyB8ICdzdG9yYWdlVGV4dHVyZScgfCAnZGVwdGhUZXh0dXJlJ1xyXG4vKiogRGVmaW5lcyBhbGwga2luZCBvZiBiaW5kaW5nIHR5cGVzICAqL1xyXG5leHBvcnQgdHlwZSBCaW5kaW5nVHlwZSA9ICd1bmlmb3JtJyB8ICdzdG9yYWdlJyB8IFRleHR1cmVCaW5kaW5nVHlwZSB8ICdzYW1wbGVyJ1xyXG5cclxuLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XR1NMLyNtZW1vcnktYWNjZXNzLW1vZGVcclxuLyoqIERlZmluZXMgYnVmZmVyIGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlcyAocmVhZCBvbmx5IG9yIHJlYWQvd3JpdGUpICovXHJcbmV4cG9ydCB0eXBlIEJ1ZmZlckJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlID0gJ3JlYWQnIHwgJ3JlYWRfd3JpdGUnXHJcbi8qKiBEZWZpbmVzIHRleHR1cmUgYmluZGluZyBtZW1vcnkgYWNjZXNzIHR5cGVzIChyZWFkIG9ubHksIHdyaXRlIG9ubHkgb3IgcmVhZC93cml0ZSkgKi9cclxuZXhwb3J0IHR5cGUgQmluZGluZ01lbW9yeUFjY2Vzc1R5cGUgPSBCdWZmZXJCaW5kaW5nTWVtb3J5QWNjZXNzVHlwZSB8ICd3cml0ZSdcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGFsbCBraW5kIG9mIHtAbGluayBCaW5kaW5nfSB0aGF0IGFyZSByZWxhdGVkIHRvIHRleHR1cmVzIG9yIHNhbXBsZXJzXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBUZXh0dXJlU2FtcGxlckJpbmRpbmdzID0gVGV4dHVyZUJpbmRpbmcgfCBTYW1wbGVyQmluZGluZ1xyXG5cclxuLyoqXHJcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIEJpbmRpbmd9IGNsYXNzIGluc3RhbmNpbmcgcGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBCaW5kaW5nUGFyYW1zIHtcclxuICAvKioge0BsaW5rIEJpbmRpbmd9IGxhYmVsICovXHJcbiAgbGFiZWw/OiBzdHJpbmdcclxuICAvKioge0BsaW5rIEJpbmRpbmd9IG5hbWUva2V5ICovXHJcbiAgbmFtZT86IHN0cmluZ1xyXG4gIC8qKiB7QGxpbmsgQmluZGluZ1R5cGUgfCBiaW5kaW5nIHR5cGV9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIEJpbmRpbmd9ICovXHJcbiAgYmluZGluZ1R5cGU/OiBCaW5kaW5nVHlwZVxyXG4gIC8qKiB7QGxpbmsgQmluZGluZ30gdmFyaWFibGVzIHNoYWRlcnMgdmlzaWJpbGl0eSAqL1xyXG4gIHZpc2liaWxpdHk/OiBNYXRlcmlhbFNoYWRlcnNUeXBlIHwgbnVsbFxyXG59XHJcblxyXG4vKipcclxuICogVXNlZCBhcyBhIHNoZWxsIHRvIGJ1aWxkIGFjdHVhbCBiaW5kaW5ncyB1cG9uLCBsaWtlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9LCB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nIHwgV3JpdGFibGVCdWZmZXJCaW5kaW5nfSwge0BsaW5rIFRleHR1cmVCaW5kaW5nfSBhbmQge0BsaW5rIFNhbXBsZXJCaW5kaW5nfS5cclxuICpcclxuICogVWx0aW1hdGVseSB0aGUgZ29hbCBvZiBhIHtAbGluayBCaW5kaW5nfSBlbGVtZW50IGlzIHRvIHByb3ZpZGUgY29ycmVjdCByZXNvdXJjZXMgZm9yIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXRFbnRyeX0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeX1cclxuICpcclxuICogIyMgV0dTTFxyXG4gKlxyXG4gKiBFYWNoIHtAbGluayBCaW5kaW5nfSBjcmVhdGVzIGl0cyBvd24gV0dTTCBjb2RlIHNuaXBwZXQgdmFyaWFibGUgZGVjbGFyYXRpb24sIHVzaW5nIHN0cnVjdHVyZWQgdHlwZXMgb3Igbm90LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJpbmRpbmcge1xyXG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBCaW5kaW5nfSAqL1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICAvKiogVGhlIG5hbWUva2V5IG9mIHRoZSB7QGxpbmsgQmluZGluZ30gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIGJpbmRpbmcgdHlwZSBvZiB0aGUge0BsaW5rIEJpbmRpbmd9ICovXHJcbiAgYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlXHJcbiAgLyoqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSB7QGxpbmsgQmluZGluZ30gaW4gdGhlIHNoYWRlcnMgKi9cclxuICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZUZsYWdzXHJcbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQmluZGluZ30gKi9cclxuICBvcHRpb25zOiBCaW5kaW5nUGFyYW1zXHJcblxyXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB3ZSBzaG91bGQgcmVjcmVhdGUgdGhlIHBhcmVudE1lc2gge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwI2JpbmRHcm91cCB8IGJpbmQgZ3JvdXB9LCB1c3VhbGx5IHdoZW4gYSByZXNvdXJjZSBoYXMgY2hhbmdlZCAqL1xyXG4gIHNob3VsZFJlc2V0QmluZEdyb3VwOiBib29sZWFuXHJcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdlIHNob3VsZCByZWNyZWF0ZSB0aGUgcGFyZW50TWVzaCB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAjYmluZEdyb3VwTGF5b3V0IHwgR1BVIGJpbmQgZ3JvdXAgbGF5b3V0fSwgdXN1YWxseSB3aGVuIGEgcmVzb3VyY2UgbGF5b3V0IGhhcyBjaGFuZ2VkICovXHJcbiAgc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQ6IGJvb2xlYW5cclxuXHJcbiAgLyoqXHJcbiAgICogQmluZGluZyBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJpbmRpbmdQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIEJpbmRpbmd9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyBsYWJlbCA9ICdVbmlmb3JtJywgbmFtZSA9ICd1bmlmb3JtJywgYmluZGluZ1R5cGUgPSAndW5pZm9ybScsIHZpc2liaWxpdHkgfTogQmluZGluZ1BhcmFtcykge1xyXG4gICAgdGhpcy5sYWJlbCA9IGxhYmVsXHJcbiAgICB0aGlzLm5hbWUgPSB0b0NhbWVsQ2FzZShuYW1lKVxyXG4gICAgdGhpcy5iaW5kaW5nVHlwZSA9IGJpbmRpbmdUeXBlXHJcblxyXG4gICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eVxyXG4gICAgICA/ICgoKSA9PiB7XHJcbiAgICAgICAgICBzd2l0Y2ggKHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVydGV4JzpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuVkVSVEVYXHJcbiAgICAgICAgICAgIGNhc2UgJ2ZyYWdtZW50JzpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlRcclxuICAgICAgICAgICAgY2FzZSAnY29tcHV0ZSc6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIEdQVVNoYWRlclN0YWdlLkNPTVBVVEVcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuVkVSVEVYIHwgR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQgfCBHUFVTaGFkZXJTdGFnZS5DT01QVVRFXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKVxyXG4gICAgICA6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHwgR1BVU2hhZGVyU3RhZ2UuQ09NUFVURVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgbGFiZWwsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGJpbmRpbmdUeXBlLFxyXG4gICAgICB2aXNpYmlsaXR5LFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSBmYWxzZVxyXG4gICAgdGhpcy5zaG91bGRSZXNldEJpbmRHcm91cExheW91dCA9IGZhbHNlXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmdUeXBlIH0gZnJvbSAnLi9CaW5kaW5nJ1xuaW1wb3J0IHsgQnVmZmVyQmluZGluZyB9IGZyb20gJy4vQnVmZmVyQmluZGluZydcbmltcG9ydCB7IFRleHR1cmVCaW5kaW5nIH0gZnJvbSAnLi9UZXh0dXJlQmluZGluZydcblxuLyoqIERlZmluZXMgYSB0eXBlZCBhcnJheSAqL1xuZXhwb3J0IHR5cGUgVHlwZWRBcnJheSA9XG4gIHwgSW50OEFycmF5XG4gIHwgVWludDhBcnJheVxuICB8IFVpbnQ4Q2xhbXBlZEFycmF5XG4gIHwgSW50MTZBcnJheVxuICB8IFVpbnQxNkFycmF5XG4gIHwgSW50MzJBcnJheVxuICB8IFVpbnQzMkFycmF5XG4gIHwgRmxvYXQzMkFycmF5XG4gIHwgRmxvYXQ2NEFycmF5XG5cbi8qKiBEZWZpbmVzIGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IgKi9cbmV4cG9ydCB0eXBlIFR5cGVkQXJyYXlDb25zdHJ1Y3RvciA9XG4gIHwgSW50OEFycmF5Q29uc3RydWN0b3JcbiAgfCBVaW50OEFycmF5Q29uc3RydWN0b3JcbiAgfCBJbnQxNkFycmF5Q29uc3RydWN0b3JcbiAgfCBVaW50MTZBcnJheUNvbnN0cnVjdG9yXG4gIHwgSW50MzJBcnJheUNvbnN0cnVjdG9yXG4gIHwgVWludDMyQXJyYXlDb25zdHJ1Y3RvclxuICB8IEZsb2F0MzJBcnJheUNvbnN0cnVjdG9yXG4gIHwgRmxvYXQ2NEFycmF5Q29uc3RydWN0b3JcblxuLyoqIERlZmluZXMgdGhlIHBvc3NpYmxlIFdHU0wgdmFyaWFibGUgdHlwZXMgKi9cbmV4cG9ydCB0eXBlIFdHU0xWYXJpYWJsZVR5cGUgPSBzdHJpbmcgLy8gVE9ETyAnbWF0NHg0ZicsICdtYXQzeDNmJywgJ3ZlYzNmJywgJ3ZlYzJmJywgJ2YzMicgZXRjXG5cbi8qKlxuICogRGVmaW5lcyBhIHtAbGluayBCdWZmZXJMYXlvdXR9IG9iamVjdCB1c2VkIHRvIHBhZCBvdXIge0BsaW5rIEdQVUJ1ZmZlcn0gYXJyYXlzXG4gKi9cbmV4cG9ydCB0eXBlIEJ1ZmZlckxheW91dCA9IHtcbiAgLyoqIE51bWJlciBvZiBlbGVtZW50cyBob2xkIGJ5IHRoaXMgdmFyaWFibGUgdHlwZSAqL1xuICBudW1FbGVtZW50czogbnVtYmVyXG4gIC8qKiBSZXF1aXJlZCBhbGlnbm1lbnQgYnkgdGhpcyB2YXJpYWJsZSB0eXBlICovXG4gIGFsaWduOiBudW1iZXJcbiAgLyoqIFNpemUgaW4gYnl0ZXMgb2YgdGhpcyB2YXJpYWJsZSB0eXBlICovXG4gIHNpemU6IG51bWJlclxuICAvKiogVmFyaWFibGUgdHlwZSAqL1xuICB0eXBlOiBXR1NMVmFyaWFibGVUeXBlXG4gIC8qKiBUeXBlZCBhcnJheSBjb25zdHJ1Y3RvciByZXF1aXJlZCBieSB0aGlzIHZhcmlhYmxlIHR5cGUgKi9cbiAgVmlldzogVHlwZWRBcnJheUNvbnN0cnVjdG9yXG4gIC8qKiBQYWQgdmFsdWVzIHJlcXVpcmVkIGJ5IHRoaXMgdmFyaWFibGUgdHlwZSAqL1xuICBwYWQ/OiBudW1iZXJbXVxufVxuXG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi93ZWJncHUtdXRpbHMvYmxvYi9tYWluL3NyYy9idWZmZXItdmlld3MudHNcbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFtidWZmZXIgbGF5b3V0XXtAbGluayBCdWZmZXJMYXlvdXR9IGZvciBnaXZlbiBbdmFyaWFibGUgdHlwZV17QGxpbmsgV0dTTFZhcmlhYmxlVHlwZX1cbiAqIEBwYXJhbSBidWZmZXJUeXBlIC0gW3ZhcmlhYmxlIHR5cGVde0BsaW5rIFdHU0xWYXJpYWJsZVR5cGV9IHRvIHVzZVxuICogQHJldHVybnMgLSB0aGUgW2J1ZmZlciBsYXlvdXRde0BsaW5rIEJ1ZmZlckxheW91dH1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEJ1ZmZlckxheW91dCA9IChidWZmZXJUeXBlOiBXR1NMVmFyaWFibGVUeXBlKTogQnVmZmVyTGF5b3V0ID0+IHtcbiAgY29uc3QgYnVmZmVyTGF5b3V0cyA9IHtcbiAgICBpMzI6IHsgbnVtRWxlbWVudHM6IDEsIGFsaWduOiA0LCBzaXplOiA0LCB0eXBlOiAnaTMyJywgVmlldzogSW50MzJBcnJheSB9LFxuICAgIHUzMjogeyBudW1FbGVtZW50czogMSwgYWxpZ246IDQsIHNpemU6IDQsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIGYzMjogeyBudW1FbGVtZW50czogMSwgYWxpZ246IDQsIHNpemU6IDQsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBmMTY6IHsgbnVtRWxlbWVudHM6IDEsIGFsaWduOiAyLCBzaXplOiAyLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcblxuICAgIHZlYzJmOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogOCwgc2l6ZTogOCwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIHZlYzJpOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogOCwgc2l6ZTogOCwgdHlwZTogJ2kzMicsIFZpZXc6IEludDMyQXJyYXkgfSxcbiAgICB2ZWMydTogeyBudW1FbGVtZW50czogMiwgYWxpZ246IDgsIHNpemU6IDgsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIHZlYzJoOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogNCwgc2l6ZTogNCwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgdmVjM2k6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiAxNiwgc2l6ZTogMTIsIHR5cGU6ICdpMzInLCBWaWV3OiBJbnQzMkFycmF5IH0sXG4gICAgdmVjM3U6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiAxNiwgc2l6ZTogMTIsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIHZlYzNmOiB7IG51bUVsZW1lbnRzOiAzLCBhbGlnbjogMTYsIHNpemU6IDEyLCB0eXBlOiAnZjMyJywgVmlldzogRmxvYXQzMkFycmF5IH0sXG4gICAgdmVjM2g6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiA4LCBzaXplOiA2LCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICB2ZWM0aTogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDE2LCBzaXplOiAxNiwgdHlwZTogJ2kzMicsIFZpZXc6IEludDMyQXJyYXkgfSxcbiAgICB2ZWM0dTogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDE2LCBzaXplOiAxNiwgdHlwZTogJ3UzMicsIFZpZXc6IFVpbnQzMkFycmF5IH0sXG4gICAgdmVjNGY6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiAxNiwgc2l6ZTogMTYsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICB2ZWM0aDogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDgsIHNpemU6IDgsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuXG4gICAgLy8gQWxpZ25PZih2ZWNSKVx0U2l6ZU9mKGFycmF5PHZlY1IsIEM+KVxuICAgIG1hdDJ4MmY6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiA4LCBzaXplOiAxNiwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDJ4Mmg6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiA0LCBzaXplOiA4LCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQzeDJmOiB7IG51bUVsZW1lbnRzOiA2LCBhbGlnbjogOCwgc2l6ZTogMjQsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQzeDJoOiB7IG51bUVsZW1lbnRzOiA2LCBhbGlnbjogNCwgc2l6ZTogMTIsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDR4MmY6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiA4LCBzaXplOiAzMiwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDR4Mmg6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiA0LCBzaXplOiAxNiwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgbWF0MngzZjogeyBudW1FbGVtZW50czogOCwgYWxpZ246IDE2LCBzaXplOiAzMiwgcGFkOiBbMywgMV0sIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQyeDNoOiB7IG51bUVsZW1lbnRzOiA4LCBhbGlnbjogOCwgc2l6ZTogMTYsIHBhZDogWzMsIDFdLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQzeDNmOiB7IG51bUVsZW1lbnRzOiAxMiwgYWxpZ246IDE2LCBzaXplOiA0OCwgcGFkOiBbMywgMV0sIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQzeDNoOiB7IG51bUVsZW1lbnRzOiAxMiwgYWxpZ246IDgsIHNpemU6IDI0LCBwYWQ6IFszLCAxXSwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgbWF0NHgzZjogeyBudW1FbGVtZW50czogMTYsIGFsaWduOiAxNiwgc2l6ZTogNjQsIHBhZDogWzMsIDFdLCB0eXBlOiAnZjMyJywgVmlldzogRmxvYXQzMkFycmF5IH0sXG4gICAgbWF0NHgzaDogeyBudW1FbGVtZW50czogMTYsIGFsaWduOiA4LCBzaXplOiAzMiwgcGFkOiBbMywgMV0sIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDJ4NGY6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiAxNiwgc2l6ZTogMzIsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQyeDRoOiB7IG51bUVsZW1lbnRzOiA4LCBhbGlnbjogOCwgc2l6ZTogMTYsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDN4NGY6IHsgbnVtRWxlbWVudHM6IDEyLCBhbGlnbjogMTYsIHNpemU6IDQ4LCBwYWQ6IFszLCAxXSwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDN4NGg6IHsgbnVtRWxlbWVudHM6IDEyLCBhbGlnbjogOCwgc2l6ZTogMjQsIHBhZDogWzMsIDFdLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQ0eDRmOiB7IG51bUVsZW1lbnRzOiAxNiwgYWxpZ246IDE2LCBzaXplOiA2NCwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDR4NGg6IHsgbnVtRWxlbWVudHM6IDE2LCBhbGlnbjogOCwgc2l6ZTogMzIsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlckxheW91dHNbYnVmZmVyVHlwZV1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNvcnJlY3QgV0dTTCB2YXJpYWJsZSBkZWNsYXJhdGlvbiBjb2RlIGZyYWdtZW50IGJhc2VkIG9uIHRoZSBnaXZlbiBbYnVmZmVyIGJpbmRpbmdde0BsaW5rIEJ1ZmZlckJpbmRpbmd9XG4gKiBAcGFyYW0gYmluZGluZyAtIFtidWZmZXIgYmluZGluZ117QGxpbmsgQnVmZmVyQmluZGluZ30gdG8gdXNlXG4gKiBAcmV0dXJucyAtIFdHU0wgdmFyaWFibGUgZGVjbGFyYXRpb24gY29kZSBmcmFnbWVudFxuICovXG5leHBvcnQgY29uc3QgZ2V0QmluZGluZ1dHU0xWYXJUeXBlID0gKGJpbmRpbmc6IEJ1ZmZlckJpbmRpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gKCgpID0+IHtcbiAgICBzd2l0Y2ggKGJpbmRpbmcuYmluZGluZ1R5cGUpIHtcbiAgICAgIGNhc2UgJ3N0b3JhZ2UnOlxuICAgICAgICByZXR1cm4gYHZhcjwke2JpbmRpbmcuYmluZGluZ1R5cGV9LCAke2JpbmRpbmcub3B0aW9ucy5hY2Nlc3N9PmBcbiAgICAgIGNhc2UgJ3VuaWZvcm0nOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd2YXI8dW5pZm9ybT4nXG4gICAgfVxuICB9KSgpXG59XG5cbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFdHU0wgdmFyaWFibGUgZGVjbGFyYXRpb24gY29kZSBmcmFnbWVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gW3RleHR1cmUgYmluZGluZ117QGxpbmsgVGV4dHVyZUJpbmRpbmd9XG4gKiBAcGFyYW0gYmluZGluZyAtIFt0ZXh0dXJlIGJpbmRpbmdde0BsaW5rIFRleHR1cmVCaW5kaW5nfSB0byB1c2VcbiAqIEByZXR1cm5zIC0gV0dTTCB2YXJpYWJsZSBkZWNsYXJhdGlvbiBjb2RlIGZyYWdtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUZXh0dXJlQmluZGluZ1dHU0xWYXJUeXBlID0gKGJpbmRpbmc6IFRleHR1cmVCaW5kaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdleHRlcm5hbFRleHR1cmUnKSB7XG4gICAgcmV0dXJuIGB2YXIgJHtiaW5kaW5nLm5hbWV9OiB0ZXh0dXJlX2V4dGVybmFsO2BcbiAgfVxuXG4gIHJldHVybiBiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAnc3RvcmFnZVRleHR1cmUnXG4gICAgPyBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZV9zdG9yYWdlXyR7YmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb259PCR7YmluZGluZy5vcHRpb25zLmZvcm1hdH0sICR7YmluZGluZy5vcHRpb25zLmFjY2Vzc30+O2BcbiAgICA6IGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdkZXB0aFRleHR1cmUnXG4gICAgPyBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZV9kZXB0aCR7YmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCA/ICdfbXVsdGlzYW1wbGVkJyA6ICcnfV8ke1xuICAgICAgICBiaW5kaW5nLm9wdGlvbnMudmlld0RpbWVuc2lvblxuICAgICAgfTtgXG4gICAgOiBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZSR7YmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCA/ICdfbXVsdGlzYW1wbGVkJyA6ICcnfV8ke1xuICAgICAgICBiaW5kaW5nLm9wdGlvbnMudmlld0RpbWVuc2lvblxuICAgICAgfTxmMzI+O2Bcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNvcnJlY3QgW2JpbmQgZ3JvdXAgbGF5b3V0XXtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IHJlc291cmNlIHR5cGUgYmFzZWQgb24gdGhlIGdpdmVuIFtiaW5kaW5nIHR5cGVde0BsaW5rIEJpbmRpbmdUeXBlfVxuICogQHBhcmFtIGJpbmRpbmcgLSBbYnVmZmVyIGJpbmRpbmdde0BsaW5rIEJ1ZmZlckJpbmRpbmd9IHRvIHVzZVxuICogQHJldHVybnMgLSB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0IHwgYmluZCBncm91cCBsYXlvdXR9IHJlc291cmNlIHR5cGVcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEJpbmRHcm91cExheW91dEJpbmRpbmdUeXBlID0gKGJpbmRpbmc6IEJ1ZmZlckJpbmRpbmcpOiBHUFVCdWZmZXJCaW5kaW5nVHlwZSA9PiB7XG4gIGlmIChiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAnc3RvcmFnZScgJiYgYmluZGluZy5vcHRpb25zLmFjY2VzcyA9PT0gJ3JlYWRfd3JpdGUnKSB7XG4gICAgcmV0dXJuICdzdG9yYWdlJ1xuICB9IGVsc2UgaWYgKGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdzdG9yYWdlJykge1xuICAgIHJldHVybiAncmVhZC1vbmx5LXN0b3JhZ2UnXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICd1bmlmb3JtJ1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFtiaW5kIGdyb3VwIGxheW91dF17QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fSByZXNvdXJjZSB0eXBlIGJhc2VkIG9uIHRoZSBnaXZlbiBbdGV4dHVyZSBiaW5kaW5nIHR5cGVde0BsaW5rIEJpbmRpbmdUeXBlfVxuICogQHBhcmFtIGJpbmRpbmcgLSBbdGV4dHVyZSBiaW5kaW5nXXtAbGluayBUZXh0dXJlQmluZGluZ30gdG8gdXNlXG4gKiBAcmV0dXJucyAtIFtiaW5kIGdyb3VwIGxheW91dF17QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fSByZXNvdXJjZSB0eXBlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRCaW5kR3JvdXBMYXlvdXRUZXh0dXJlQmluZGluZ1R5cGUgPSAoXG4gIGJpbmRpbmc6IFRleHR1cmVCaW5kaW5nXG4pOiBHUFVUZXh0dXJlQmluZGluZ0xheW91dCB8IEdQVUV4dGVybmFsVGV4dHVyZUJpbmRpbmdMYXlvdXQgfCBHUFVTdG9yYWdlVGV4dHVyZUJpbmRpbmdMYXlvdXQgfCBudWxsID0+IHtcbiAgcmV0dXJuICgoKSA9PiB7XG4gICAgc3dpdGNoIChiaW5kaW5nLmJpbmRpbmdUeXBlKSB7XG4gICAgICBjYXNlICdleHRlcm5hbFRleHR1cmUnOlxuICAgICAgICByZXR1cm4geyBleHRlcm5hbFRleHR1cmU6IHt9IH1cbiAgICAgIGNhc2UgJ3N0b3JhZ2VUZXh0dXJlJzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdG9yYWdlVGV4dHVyZToge1xuICAgICAgICAgICAgZm9ybWF0OiBiaW5kaW5nLm9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgdmlld0RpbWVuc2lvbjogYmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb24sXG4gICAgICAgICAgfSBhcyBHUFVTdG9yYWdlVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3RleHR1cmUnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRleHR1cmU6IHtcbiAgICAgICAgICAgIG11bHRpc2FtcGxlZDogYmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCxcbiAgICAgICAgICAgIHZpZXdEaW1lbnNpb246IGJpbmRpbmcub3B0aW9ucy52aWV3RGltZW5zaW9uLFxuICAgICAgICAgIH0gYXMgR1BVVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2RlcHRoVGV4dHVyZSc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgICAgbXVsdGlzYW1wbGVkOiBiaW5kaW5nLm9wdGlvbnMubXVsdGlzYW1wbGVkLFxuICAgICAgICAgICAgZm9ybWF0OiBiaW5kaW5nLm9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgdmlld0RpbWVuc2lvbjogYmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb24sXG4gICAgICAgICAgICBzYW1wbGVUeXBlOiAnZGVwdGgnLFxuICAgICAgICAgIH0gYXMgR1BVVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9KSgpXG59XG4iLCIvKipcbiAqIFJlYWxseSBiYXNpYyAyRCB2ZWN0b3IgY2xhc3MgdXNlZCBmb3IgdmVjdG9yIGNhbGN1bGF0aW9uc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1ZlY3RvcjIuanNcbiAqIEBzZWUgaHR0cDovL2dsbWF0cml4Lm5ldC9kb2NzL3ZlYzIuanMuaHRtbFxuICovXG5leHBvcnQgY2xhc3MgVmVjMiB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFZlYzJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMyfSAqL1xuICBwcml2YXRlIF94OiBudW1iZXJcbiAgLyoqIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjMn0gKi9cbiAgcHJpdmF0ZSBfeTogbnVtYmVyXG5cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrICovXG4gIF9vbkNoYW5nZUNhbGxiYWNrPygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFZlYzIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHggLSBYIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB5IC0gWSBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSB4KSB7XG4gICAgdGhpcy50eXBlID0gJ1ZlYzInXG5cbiAgICB0aGlzLl94ID0geFxuICAgIHRoaXMuX3kgPSB5XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBYIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBnZXQgeCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl94XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBYIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9XG4gICAqIENhbiB0cmlnZ2VyIHtAbGluayBvbkNoYW5nZX0gY2FsbGJhY2tcbiAgICogQHBhcmFtIHZhbHVlIC0gWCBjb21wb25lbnQgdG8gc2V0XG4gICAqL1xuICBzZXQgeCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHZhbHVlICE9PSB0aGlzLl94XG4gICAgdGhpcy5feCA9IHZhbHVlXG4gICAgY2hhbmdlZCAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWSBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMyfVxuICAgKi9cbiAgZ2V0IHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5feVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgWSBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMyfVxuICAgKiBDYW4gdHJpZ2dlciB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFkgY29tcG9uZW50IHRvIHNldFxuICAgKi9cbiAgc2V0IHkodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IGNoYW5nZWQgPSB2YWx1ZSAhPT0gdGhpcy5feVxuICAgIHRoaXMuX3kgPSB2YWx1ZVxuICAgIGNoYW5nZWQgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjayAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhdCBsZWFzdCBvbmUgY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjMn0gaGFzIGNoYW5nZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gYXQgbGVhc3Qgb25lIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9IGhhcyBjaGFuZ2VkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBWZWMyfVxuICAgKi9cbiAgb25DaGFuZ2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBWZWMyIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgVmVjMn0gZnJvbSB2YWx1ZXNcbiAgICogQHBhcmFtIHggLSBuZXcgWCBjb21wb25lbnQgdG8gc2V0XG4gICAqIEBwYXJhbSB5IC0gbmV3IFkgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGJlaW5nIHNldFxuICAgKi9cbiAgc2V0KHggPSAwLCB5ID0geCk6IFZlYzIge1xuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBWZWMyfSB0byB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGFkZFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGFkZGl0aW9uXG4gICAqL1xuICBhZGQodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCArPSB2ZWN0b3IueFxuICAgIHRoaXMueSArPSB2ZWN0b3IueVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBhZGRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBhZGRpdGlvblxuICAgKi9cbiAgYWRkU2NhbGFyKHZhbHVlID0gMCk6IFZlYzIge1xuICAgIHRoaXMueCArPSB2YWx1ZVxuICAgIHRoaXMueSArPSB2YWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHtAbGluayBWZWMyfSBmcm9tIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gdG8gc3VidHJhY3RcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBzdWJ0cmFjdGlvblxuICAgKi9cbiAgc3ViKHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICB0aGlzLnggLT0gdmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gdmVjdG9yLnlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU3VidHJhY3QgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBzdWJ0cmFjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIHN1YnRyYWN0aW9uXG4gICAqL1xuICBzdWJTY2FsYXIodmFsdWUgPSAwKTogVmVjMiB7XG4gICAgdGhpcy54IC09IHZhbHVlXG4gICAgdGhpcy55IC09IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGEge0BsaW5rIFZlYzJ9IHdpdGggdGhpcyB7QGxpbmsgVmVjMn1cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMyfSB0byBtdWx0aXBseSB3aXRoXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjMn0gYWZ0ZXIgbXVsdGlwbGljYXRpb25cbiAgICovXG4gIG11bHRpcGx5KHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKDEpKTogVmVjMiB7XG4gICAgdGhpcy54ICo9IHZlY3Rvci54XG4gICAgdGhpcy55ICo9IHZlY3Rvci55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGFsbCBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9IHdpdGggYSBzY2FsYXJcbiAgICogQHBhcmFtIHZhbHVlIC0gbnVtYmVyIHRvIG11bHRpcGx5IHdpdGhcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBtdWx0aXBsaWNhdGlvblxuICAgKi9cbiAgbXVsdGlwbHlTY2FsYXIodmFsdWUgPSAxKTogVmVjMiB7XG4gICAgdGhpcy54ICo9IHZhbHVlXG4gICAgdGhpcy55ICo9IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgVmVjMn0gaW50byB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGNvcHlcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBjb3B5XG4gICAqL1xuICBjb3B5KHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICB0aGlzLnggPSB2ZWN0b3IueFxuICAgIHRoaXMueSA9IHZlY3Rvci55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEByZXR1cm5zIC0gY2xvbmVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY2xvbmUoKTogVmVjMiB7XG4gICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCwgdGhpcy55KVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IG1heCB2YWx1ZXMgdG8gdGhpcyB7QGxpbmsgVmVjMn0gY29tcG9uZW50c1xuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHJlcHJlc2VudGluZyBtYXggdmFsdWVzXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFZlYzJ9IHdpdGggbWF4IHZhbHVlcyBhcHBsaWVkXG4gICAqL1xuICBtYXgodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCA9IE1hdGgubWF4KHRoaXMueCwgdmVjdG9yLngpXG4gICAgdGhpcy55ID0gTWF0aC5tYXgodGhpcy55LCB2ZWN0b3IueSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgbWluIHZhbHVlcyB0byB0aGlzIHtAbGluayBWZWMyfSBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gcmVwcmVzZW50aW5nIG1pbiB2YWx1ZXNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVmVjMn0gd2l0aCBtaW4gdmFsdWVzIGFwcGxpZWRcbiAgICovXG4gIG1pbih2ZWN0b3I6IFZlYzIgPSBuZXcgVmVjMigpKTogVmVjMiB7XG4gICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2ZWN0b3IueClcbiAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHZlY3Rvci55KVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFtcCB0aGlzIHtAbGluayBWZWMyfSBjb21wb25lbnRzIGJ5IG1pbiBhbmQgbWF4IHtAbGluayBWZWMyfSB2ZWN0b3JzXG4gICAqIEBwYXJhbSBtaW4gLSBtaW5pbXVtIHtAbGluayBWZWMyfSBjb21wb25lbnRzIHRvIGNvbXBhcmUgd2l0aFxuICAgKiBAcGFyYW0gbWF4IC0gbWF4aW11bSB7QGxpbmsgVmVjMn0gY29tcG9uZW50cyB0byBjb21wYXJlIHdpdGhcbiAgICogQHJldHVybnMgLSBjbGFtcGVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY2xhbXAobWluOiBWZWMyID0gbmV3IFZlYzIoKSwgbWF4OiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSlcbiAgICB0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIDIge0BsaW5rIFZlYzJ9IGFyZSBlcXVhbFxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGNvbXBhcmVcbiAgICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSB7QGxpbmsgVmVjMn0gYXJlIGVxdWFscyBvciBub3RcbiAgICovXG4gIGVxdWFscyh2ZWN0b3I6IFZlYzIgPSBuZXcgVmVjMigpKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMueCA9PT0gdmVjdG9yLnggJiYgdGhpcy55ID09PSB2ZWN0b3IueVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3F1YXJlIGxlbmd0aCBvZiB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcmV0dXJucyAtIHNxdWFyZSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjMn1cbiAgICovXG4gIGxlbmd0aFNxKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEByZXR1cm5zIC0gbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3EoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhpcyB7QGxpbmsgVmVjMn1cbiAgICogQHJldHVybnMgLSBub3JtYWxpemVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgbm9ybWFsaXplKCk6IFZlYzIge1xuICAgIC8vIG5vcm1hbGl6ZVxuICAgIGxldCBsZW4gPSB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnlcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pXG4gICAgfVxuICAgIHRoaXMueCAqPSBsZW5cbiAgICB0aGlzLnkgKj0gbGVuXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgMiB7QGxpbmsgVmVjMn1cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMyfSB0byB1c2UgZm9yIGRvdCBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gZG90IHByb2R1Y3Qgb2YgdGhlIDIge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBkb3QodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9mIHRoaXMge0BsaW5rIFZlYzJ9IGJ5IGdpdmVuIHtAbGluayBWZWMyfSBhbmQgYWxwaGEsIHdoZXJlIGFscGhhIGlzIHRoZSBwZXJjZW50IGRpc3RhbmNlIGFsb25nIHRoZSBsaW5lXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gdG8gaW50ZXJwb2xhdGUgdG93YXJkc1xuICAgKiBAcGFyYW0gW2FscGhhPTFdIC0gaW50ZXJwb2xhdGlvbiBmYWN0b3IgaW4gdGhlIFswLCAxXSBpbnRlcnZhbFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAqL1xuICBsZXJwKHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCksIGFscGhhID0gMSk6IFZlYzIge1xuICAgIHRoaXMueCArPSAodmVjdG9yLnggLSB0aGlzLngpICogYWxwaGFcbiAgICB0aGlzLnkgKz0gKHZlY3Rvci55IC0gdGhpcy55KSAqIGFscGhhXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJpbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi9WZWMzJ1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4vTWF0NCdcblxuLyoqIERlZmluZXMgYWxsIHBvc3NpYmxlIHJvdGF0aW9ucyBheGlzIG9yZGVycyAqL1xuZXhwb3J0IHR5cGUgQXhpc09yZGVyID0gJ1hZWicgfCAnWFpZJyB8ICdZWFonIHwgJ1laWCcgfCAnWlhZJyB8ICdaWVgnXG5cbi8qKlxuICogUmVhbGx5IGJhc2ljIHF1YXRlcm5pb24gY2xhc3MgdXNlZCBmb3IgM0Qgcm90YXRpb24gY2FsY3VsYXRpb25zXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb3NiL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1F1YXRlcm5pb24uanNcbiAqL1xuZXhwb3J0IGNsYXNzIFF1YXQge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBRdWF0fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIE91ciBxdWF0ZXJuaW9uIGFycmF5ICovXG4gIGVsZW1lbnRzOiBGbG9hdDMyQXJyYXlcbiAgLyoqIFJvdGF0aW9uIGF4aXMgb3JkZXIgKi9cbiAgYXhpc09yZGVyOiBBeGlzT3JkZXJcblxuICAvKipcbiAgICogUXVhdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gW2VsZW1lbnRzXSAtIGluaXRpYWwgYXJyYXkgdG8gdXNlXG4gICAqIEBwYXJhbSBbYXhpc09yZGVyPSdYWVonXSAtIGF4aXMgb3JkZXIgdG8gdXNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50czogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMV0pLCBheGlzT3JkZXI6IEF4aXNPcmRlciA9ICdYWVonKSB7XG4gICAgdGhpcy50eXBlID0gJ1F1YXQnXG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzXG4gICAgLy8gcm90YXRpb24gYXhpcyBvcmRlclxuICAgIHRoaXMuYXhpc09yZGVyID0gYXhpc09yZGVyXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUge0BsaW5rIFF1YXR9IHZhbHVlcyBmcm9tIGFuIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIGFuIGFycmF5IG9mIGF0IGxlYXN0IDQgZWxlbWVudHNcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBRdWF0fSBhZnRlciBiZWluZyBzZXRcbiAgICovXG4gIHNldEZyb21BcnJheShhcnJheTogRmxvYXQzMkFycmF5IHwgbnVtYmVyW10gPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxXSkpOiBRdWF0IHtcbiAgICB0aGlzLmVsZW1lbnRzWzBdID0gYXJyYXlbMF1cbiAgICB0aGlzLmVsZW1lbnRzWzFdID0gYXJyYXlbMV1cbiAgICB0aGlzLmVsZW1lbnRzWzJdID0gYXJyYXlbMl1cbiAgICB0aGlzLmVsZW1lbnRzWzNdID0gYXJyYXlbM11cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUge0BsaW5rIFF1YXR9IGF4aXMgb3JkZXJcbiAgICogQHBhcmFtIGF4aXNPcmRlciAtIGF4aXMgb3JkZXIgdG8gdXNlXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgUXVhdH0gYWZ0ZXIgYXhpcyBvcmRlciBoYXMgYmVlbiBzZXRcbiAgICovXG4gIHNldEF4aXNPcmRlcihheGlzT3JkZXI6IEF4aXNPcmRlciB8IHN0cmluZyA9ICdYWVonKTogUXVhdCB7XG4gICAgLy8gZm9yY2UgdXBwZXJjYXNlIGZvciBzdHJpY3QgZXF1YWxpdHkgdGVzdHNcbiAgICBheGlzT3JkZXIgPSBheGlzT3JkZXIudG9VcHBlckNhc2UoKVxuXG4gICAgc3dpdGNoIChheGlzT3JkZXIpIHtcbiAgICAgIGNhc2UgJ1hZWic6XG4gICAgICBjYXNlICdZWFonOlxuICAgICAgY2FzZSAnWlhZJzpcbiAgICAgIGNhc2UgJ1pZWCc6XG4gICAgICBjYXNlICdZWlgnOlxuICAgICAgY2FzZSAnWFpZJzpcbiAgICAgICAgdGhpcy5heGlzT3JkZXIgPSBheGlzT3JkZXJcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGFwcGx5IGEgZGVmYXVsdCBheGlzIG9yZGVyXG4gICAgICAgIHRoaXMuYXhpc09yZGVyID0gJ1hZWidcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgUXVhdH0gaW50byB0aGlzIHtAbGluayBRdWF0fVxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0fSB0byBjb3B5XG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgUXVhdH0gYWZ0ZXIgY29weVxuICAgKi9cbiAgY29weShxdWF0ZXJuaW9uOiBRdWF0ID0gbmV3IFF1YXQoKSk6IFF1YXQge1xuICAgIHRoaXMuZWxlbWVudHMgPSBxdWF0ZXJuaW9uLmVsZW1lbnRzXG4gICAgdGhpcy5heGlzT3JkZXIgPSBxdWF0ZXJuaW9uLmF4aXNPcmRlclxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSBhIHtAbGluayBRdWF0fVxuICAgKiBAcmV0dXJucyAtIGNsb25lZCB7QGxpbmsgUXVhdH1cbiAgICovXG4gIGNsb25lKCk6IFF1YXQge1xuICAgIHJldHVybiBuZXcgUXVhdCgpLmNvcHkodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiAyIHtAbGluayBRdWF0fSBhcmUgZXF1YWxcbiAgICogQHBhcmFtIHF1YXRlcm5pb24gLSB7QGxpbmsgUXVhdH0gdG8gY2hlY2sgYWdhaW5zdFxuICAgKiBAcmV0dXJucyAtIHdoZXRoZXIgdGhlIHtAbGluayBRdWF0fSBhcmUgZXF1YWwgb3Igbm90XG4gICAqL1xuICBlcXVhbHMocXVhdGVybmlvbjogUXVhdCA9IG5ldyBRdWF0KCkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5lbGVtZW50c1swXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1swXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1syXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1szXSAmJlxuICAgICAgdGhpcy5heGlzT3JkZXIgPT09IHF1YXRlcm5pb24uYXhpc09yZGVyXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSByb3RhdGlvbiB7QGxpbmsgUXVhdH0gdXNpbmcgRXVsZXIgYW5nbGVzIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhbmQgaXRzIGF4aXMgb3JkZXJcbiAgICogQHBhcmFtIHZlY3RvciAtIHJvdGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byBzZXQgb3VyIHtAbGluayBRdWF0fSBmcm9tXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFF1YXR9IGFmdGVyIGhhdmluZyBhcHBsaWVkIHRoZSByb3RhdGlvblxuICAgKi9cbiAgc2V0RnJvbVZlYzModmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFF1YXQge1xuICAgIGNvbnN0IGF4ID0gdmVjdG9yLnggKiAwLjVcbiAgICBjb25zdCBheSA9IHZlY3Rvci55ICogMC41XG4gICAgY29uc3QgYXogPSB2ZWN0b3IueiAqIDAuNVxuXG4gICAgY29uc3QgY29zeCA9IE1hdGguY29zKGF4KVxuICAgIGNvbnN0IGNvc3kgPSBNYXRoLmNvcyhheSlcbiAgICBjb25zdCBjb3N6ID0gTWF0aC5jb3MoYXopXG4gICAgY29uc3Qgc2lueCA9IE1hdGguc2luKGF4KVxuICAgIGNvbnN0IHNpbnkgPSBNYXRoLnNpbihheSlcbiAgICBjb25zdCBzaW56ID0gTWF0aC5zaW4oYXopXG5cbiAgICAvLyBYWVogb3JkZXJcbiAgICBpZiAodGhpcy5heGlzT3JkZXIgPT09ICdYWVonKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gc2lueCAqIGNvc3kgKiBjb3N6ICsgY29zeCAqIHNpbnkgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzFdID0gY29zeCAqIHNpbnkgKiBjb3N6IC0gc2lueCAqIGNvc3kgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzJdID0gY29zeCAqIGNvc3kgKiBzaW56ICsgc2lueCAqIHNpbnkgKiBjb3N6XG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gY29zeCAqIGNvc3kgKiBjb3N6IC0gc2lueCAqIHNpbnkgKiBzaW56XG4gICAgfSBlbHNlIGlmICh0aGlzLmF4aXNPcmRlciA9PT0gJ1lYWicpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSBzaW54ICogY29zeSAqIGNvc3ogKyBjb3N4ICogc2lueSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSBjb3N4ICogc2lueSAqIGNvc3ogLSBzaW54ICogY29zeSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSBjb3N4ICogY29zeSAqIHNpbnogLSBzaW54ICogc2lueSAqIGNvc3pcbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSBjb3N4ICogY29zeSAqIGNvc3ogKyBzaW54ICogc2lueSAqIHNpbnpcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXhpc09yZGVyID09PSAnWlhZJykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IHNpbnggKiBjb3N5ICogY29zeiAtIGNvc3ggKiBzaW55ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IGNvc3ggKiBzaW55ICogY29zeiArIHNpbnggKiBjb3N5ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IGNvc3ggKiBjb3N5ICogc2lueiArIHNpbnggKiBzaW55ICogY29zelxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IGNvc3ggKiBjb3N5ICogY29zeiAtIHNpbnggKiBzaW55ICogc2luelxuICAgIH0gZWxzZSBpZiAodGhpcy5heGlzT3JkZXIgPT09ICdaWVgnKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gc2lueCAqIGNvc3kgKiBjb3N6IC0gY29zeCAqIHNpbnkgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzFdID0gY29zeCAqIHNpbnkgKiBjb3N6ICsgc2lueCAqIGNvc3kgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzJdID0gY29zeCAqIGNvc3kgKiBzaW56IC0gc2lueCAqIHNpbnkgKiBjb3N6XG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gY29zeCAqIGNvc3kgKiBjb3N6ICsgc2lueCAqIHNpbnkgKiBzaW56XG4gICAgfSBlbHNlIGlmICh0aGlzLmF4aXNPcmRlciA9PT0gJ1laWCcpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSBzaW54ICogY29zeSAqIGNvc3ogKyBjb3N4ICogc2lueSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSBjb3N4ICogc2lueSAqIGNvc3ogKyBzaW54ICogY29zeSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSBjb3N4ICogY29zeSAqIHNpbnogLSBzaW54ICogc2lueSAqIGNvc3pcbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSBjb3N4ICogY29zeSAqIGNvc3ogLSBzaW54ICogc2lueSAqIHNpbnpcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXhpc09yZGVyID09PSAnWFpZJykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IHNpbnggKiBjb3N5ICogY29zeiAtIGNvc3ggKiBzaW55ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IGNvc3ggKiBzaW55ICogY29zeiAtIHNpbnggKiBjb3N5ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IGNvc3ggKiBjb3N5ICogc2lueiArIHNpbnggKiBzaW55ICogY29zelxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IGNvc3ggKiBjb3N5ICogY29zeiArIHNpbnggKiBzaW55ICogc2luelxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEge0BsaW5rIFF1YXR9IGZyb20gYSByb3RhdGlvbiBheGlzIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhbmQgYW4gYW5nbGVcbiAgICogQHBhcmFtIGF4aXMgLSBub3JtYWxpemVkIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhcm91bmQgd2hpY2ggdG8gcm90YXRlXG4gICAqIEBwYXJhbSBhbmdsZSAtIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUXVhdH0gYWZ0ZXIgaGF2aW5nIGFwcGxpZWQgdGhlIHJvdGF0aW9uXG4gICAqL1xuICBzZXRGcm9tQXhpc0FuZ2xlKGF4aXM6IFZlYzMgPSBuZXcgVmVjMygpLCBhbmdsZSA9IDApOiBRdWF0IHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1F1YXRlcm5pb24uanMjTDI3NVxuICAgIC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuICAgIC8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkXG5cbiAgICBjb25zdCBoYWxmQW5nbGUgPSBhbmdsZSAvIDIsXG4gICAgICBzID0gTWF0aC5zaW4oaGFsZkFuZ2xlKVxuXG4gICAgdGhpcy5lbGVtZW50c1swXSA9IGF4aXMueCAqIHNcbiAgICB0aGlzLmVsZW1lbnRzWzFdID0gYXhpcy55ICogc1xuICAgIHRoaXMuZWxlbWVudHNbMl0gPSBheGlzLnogKiBzXG4gICAgdGhpcy5lbGVtZW50c1szXSA9IE1hdGguY29zKGhhbGZBbmdsZSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEge0BsaW5rIFF1YXR9IGZyb20gYSByb3RhdGlvbiB7QGxpbmsgTWF0NCB8IG1hdHJpeH1cbiAgICogQHBhcmFtIG1hdHJpeCAtIHJvdGF0aW9uIHtAbGluayBNYXQ0IHwgbWF0cml4fSB0byB1c2VcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUXVhdH0gYWZ0ZXIgaGF2aW5nIGFwcGxpZWQgdGhlIHJvdGF0aW9uXG4gICAqL1xuICBzZXRGcm9tUm90YXRpb25NYXRyaXgobWF0cml4OiBNYXQ0KTogUXVhdCB7XG4gICAgLy8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG1cbiAgICAvLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKVxuICAgIGNvbnN0IHRlID0gbWF0cml4LmVsZW1lbnRzLFxuICAgICAgbTExID0gdGVbMF0sXG4gICAgICBtMTIgPSB0ZVs0XSxcbiAgICAgIG0xMyA9IHRlWzhdLFxuICAgICAgbTIxID0gdGVbMV0sXG4gICAgICBtMjIgPSB0ZVs1XSxcbiAgICAgIG0yMyA9IHRlWzldLFxuICAgICAgbTMxID0gdGVbMl0sXG4gICAgICBtMzIgPSB0ZVs2XSxcbiAgICAgIG0zMyA9IHRlWzEwXSxcbiAgICAgIHRyYWNlID0gbTExICsgbTIyICsgbTMzXG5cbiAgICBpZiAodHJhY2UgPiAwKSB7XG4gICAgICBjb25zdCBzID0gMC41IC8gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKVxuXG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gMC4yNSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSAobTMyIC0gbTIzKSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAobTEzIC0gbTMxKSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSAobTIxIC0gbTEyKSAqIHNcbiAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMpIHtcbiAgICAgIGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTExIC0gbTIyIC0gbTMzKVxuXG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gKG0zMiAtIG0yMykgLyBzXG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gMC4yNSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAobTEyICsgbTIxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSAobTEzICsgbTMxKSAvIHNcbiAgICB9IGVsc2UgaWYgKG0yMiA+IG0zMykge1xuICAgICAgY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMTEgLSBtMzMpXG5cbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSAobTEzIC0gbTMxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSAobTEyICsgbTIxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAwLjI1ICogc1xuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IChtMjMgKyBtMzIpIC8gc1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0zMyAtIG0xMSAtIG0yMilcblxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IChtMjEgLSBtMTIpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IChtMTMgKyBtMzEpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IChtMjMgKyBtMzIpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IDAuMjUgKiBzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4vVmVjMydcclxuaW1wb3J0IHsgUXVhdCB9IGZyb20gJy4vUXVhdCdcclxuXHJcbi8qKlxyXG4gKiBSZWFsbHkgYmFzaWMgNHg0IG1hdHJpeCBjbGFzcyB1c2VkIGZvciBtYXRyaXggY2FsY3VsYXRpb25zLlxyXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9kZXYvc3JjL21hdGgvTWF0cml4NC5qc1xyXG4gKiBAc2VlIGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXQ0IHtcclxuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNYXQ0fSAqL1xyXG4gIHR5cGU6IHN0cmluZ1xyXG4gIC8qKiBPdXIgbWF0cml4IGFycmF5ICovXHJcbiAgZWxlbWVudHM6IEZsb2F0MzJBcnJheVxyXG5cclxuICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAvKipcclxuICAgKiBNYXQ0IGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIGVsZW1lbnRzIC0gaW5pdGlhbCBhcnJheSB0byB1c2UsIGRlZmF1bHQgdG8gaWRlbnRpdHkgbWF0cml4XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZWxlbWVudHM6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgMSwgMCwgMCwgMCxcclxuICAgIDAsIDEsIDAsIDAsXHJcbiAgICAwLCAwLCAxLCAwLFxyXG4gICAgMCwgMCwgMCwgMVxyXG4gIF0pKSB7XHJcbiAgICB0aGlzLnR5cGUgPSAnTWF0NCdcclxuICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50c1xyXG4gIH1cclxuXHJcbiAgLyoqKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCBmcm9tIDE2IG51bWJlcnNcclxuICAgKlxyXG4gICAqIEBwYXJhbSBuMTEgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4xMiBudW1iZXJcclxuICAgKiBAcGFyYW0gbjEzIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMTQgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4yMSBudW1iZXJcclxuICAgKiBAcGFyYW0gbjIyIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMjMgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4yNCBudW1iZXJcclxuICAgKiBAcGFyYW0gbjMxIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMzIgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4zMyBudW1iZXJcclxuICAgKiBAcGFyYW0gbjM0IG51bWJlclxyXG4gICAqIEBwYXJhbSBuNDEgbnVtYmVyXHJcbiAgICogQHBhcmFtIG40MiBudW1iZXJcclxuICAgKiBAcGFyYW0gbjQzIG51bWJlclxyXG4gICAqIEBwYXJhbSBuNDQgbnVtYmVyXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIGJlaW5nIHNldFxyXG4gICAqL1xyXG4gIHNldChcclxuICAgIG4xMTogbnVtYmVyLFxyXG4gICAgbjEyOiBudW1iZXIsXHJcbiAgICBuMTM6IG51bWJlcixcclxuICAgIG4xNDogbnVtYmVyLFxyXG4gICAgbjIxOiBudW1iZXIsXHJcbiAgICBuMjI6IG51bWJlcixcclxuICAgIG4yMzogbnVtYmVyLFxyXG4gICAgbjI0OiBudW1iZXIsXHJcbiAgICBuMzE6IG51bWJlcixcclxuICAgIG4zMjogbnVtYmVyLFxyXG4gICAgbjMzOiBudW1iZXIsXHJcbiAgICBuMzQ6IG51bWJlcixcclxuICAgIG40MTogbnVtYmVyLFxyXG4gICAgbjQyOiBudW1iZXIsXHJcbiAgICBuNDM6IG51bWJlcixcclxuICAgIG40NDogbnVtYmVyXHJcbiAgKTogTWF0NCB7XHJcbiAgICBjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICB0ZVswXSA9IG4xMVxyXG4gICAgdGVbMV0gPSBuMTJcclxuICAgIHRlWzJdID0gbjEzXHJcbiAgICB0ZVszXSA9IG4xNFxyXG4gICAgdGVbNF0gPSBuMjFcclxuICAgIHRlWzVdID0gbjIyXHJcbiAgICB0ZVs2XSA9IG4yM1xyXG4gICAgdGVbN10gPSBuMjRcclxuICAgIHRlWzhdID0gbjMxXHJcbiAgICB0ZVs5XSA9IG4zMlxyXG4gICAgdGVbMTBdID0gbjMzXHJcbiAgICB0ZVsxMV0gPSBuMzRcclxuICAgIHRlWzEyXSA9IG40MVxyXG4gICAgdGVbMTNdID0gbjQyXHJcbiAgICB0ZVsxNF0gPSBuNDNcclxuICAgIHRlWzE1XSA9IG40NFxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB7QGxpbmsgTWF0NH0gdG8gYW4gaWRlbnRpdHkgbWF0cml4XHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciBiZWluZyBzZXRcclxuICAgKi9cclxuICBpZGVudGl0eSgpOiBNYXQ0IHtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgdGhpcy5zZXQoXHJcbiAgICAgIDEsIDAsIDAsIDAsXHJcbiAgICAgIDAsIDEsIDAsIDAsXHJcbiAgICAgIDAsIDAsIDEsIDAsXHJcbiAgICAgIDAsIDAsIDAsIDFcclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUge0BsaW5rIE1hdDR9IHZhbHVlcyBmcm9tIGFuIGFycmF5XHJcbiAgICogQHBhcmFtIGFycmF5IC0gYXJyYXkgdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciBiZWluZyBzZXRcclxuICAgKi9cclxuICAvLyBwcmV0dGllci1pZ25vcmVcclxuICBzZXRGcm9tQXJyYXkoYXJyYXk6IEZsb2F0MzJBcnJheSB8IG51bWJlcltdID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAxLCAwLCAwLCAwLFxyXG4gICAgMCwgMSwgMCwgMCxcclxuICAgIDAsIDAsIDEsIDAsXHJcbiAgICAwLCAwLCAwLCAxXHJcbiAgXSkpOiBNYXQ0IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gYXJyYXlbaV1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29weSBhbm90aGVyIHtAbGluayBNYXQ0fVxyXG4gICAqIEBwYXJhbSBtYXRyaXhcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIGJlaW5nIHNldFxyXG4gICAqL1xyXG4gIGNvcHkobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgY29uc3QgYXJyYXkgPSBtYXRyaXguZWxlbWVudHNcclxuICAgIHRoaXMuZWxlbWVudHNbMF0gPSBhcnJheVswXVxyXG4gICAgdGhpcy5lbGVtZW50c1sxXSA9IGFycmF5WzFdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzJdID0gYXJyYXlbMl1cclxuICAgIHRoaXMuZWxlbWVudHNbM10gPSBhcnJheVszXVxyXG4gICAgdGhpcy5lbGVtZW50c1s0XSA9IGFycmF5WzRdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzVdID0gYXJyYXlbNV1cclxuICAgIHRoaXMuZWxlbWVudHNbNl0gPSBhcnJheVs2XVxyXG4gICAgdGhpcy5lbGVtZW50c1s3XSA9IGFycmF5WzddXHJcbiAgICB0aGlzLmVsZW1lbnRzWzhdID0gYXJyYXlbOF1cclxuICAgIHRoaXMuZWxlbWVudHNbOV0gPSBhcnJheVs5XVxyXG4gICAgdGhpcy5lbGVtZW50c1sxMF0gPSBhcnJheVsxMF1cclxuICAgIHRoaXMuZWxlbWVudHNbMTFdID0gYXJyYXlbMTFdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzEyXSA9IGFycmF5WzEyXVxyXG4gICAgdGhpcy5lbGVtZW50c1sxM10gPSBhcnJheVsxM11cclxuICAgIHRoaXMuZWxlbWVudHNbMTRdID0gYXJyYXlbMTRdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzE1XSA9IGFycmF5WzE1XVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZSBhIHtAbGluayBNYXQ0fVxyXG4gICAqIEByZXR1cm5zIC0gY2xvbmVkIHtAbGluayBNYXQ0fVxyXG4gICAqL1xyXG4gIGNsb25lKCk6IE1hdDQge1xyXG4gICAgcmV0dXJuIG5ldyBNYXQ0KCkuY29weSh0aGlzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhpcyB7QGxpbmsgTWF0NH0gd2l0aCBhbm90aGVyIHtAbGluayBNYXQ0fVxyXG4gICAqIEBwYXJhbSBtYXRyaXggLSB7QGxpbmsgTWF0NH0gdG8gbXVsdGlwbHkgd2l0aFxyXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgTWF0NH0gYWZ0ZXIgbXVsdGlwbGljYXRpb25cclxuICAgKi9cclxuICBtdWx0aXBseShtYXRyaXg6IE1hdDQgPSBuZXcgTWF0NCgpKTogTWF0NCB7XHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsIG1hdHJpeClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IGFub3RoZXIge0BsaW5rIE1hdDR9IHdpdGggdGhpcyB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gbWF0cml4IC0ge0BsaW5rIE1hdDR9IHRvIG11bHRpcGx5IHdpdGhcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIG11bHRpcGxpY2F0aW9uXHJcbiAgICovXHJcbiAgcHJlbXVsdGlwbHkobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXgsIHRoaXMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNdWx0aXBseSB0d28ge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgTWF0NH1cclxuICAgKiBAcmV0dXJucyAtIHtAbGluayBNYXQ0fSByZXN1bHRpbmcgZnJvbSB0aGUgbXVsdGlwbGljYXRpb25cclxuICAgKi9cclxuICBtdWx0aXBseU1hdHJpY2VzKGE6IE1hdDQgPSBuZXcgTWF0NCgpLCBiOiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgY29uc3QgYWUgPSBhLmVsZW1lbnRzXHJcbiAgICBjb25zdCBiZSA9IGIuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGExMSA9IGFlWzBdLFxyXG4gICAgICBhMTIgPSBhZVs0XSxcclxuICAgICAgYTEzID0gYWVbOF0sXHJcbiAgICAgIGExNCA9IGFlWzEyXVxyXG4gICAgY29uc3QgYTIxID0gYWVbMV0sXHJcbiAgICAgIGEyMiA9IGFlWzVdLFxyXG4gICAgICBhMjMgPSBhZVs5XSxcclxuICAgICAgYTI0ID0gYWVbMTNdXHJcbiAgICBjb25zdCBhMzEgPSBhZVsyXSxcclxuICAgICAgYTMyID0gYWVbNl0sXHJcbiAgICAgIGEzMyA9IGFlWzEwXSxcclxuICAgICAgYTM0ID0gYWVbMTRdXHJcbiAgICBjb25zdCBhNDEgPSBhZVszXSxcclxuICAgICAgYTQyID0gYWVbN10sXHJcbiAgICAgIGE0MyA9IGFlWzExXSxcclxuICAgICAgYTQ0ID0gYWVbMTVdXHJcblxyXG4gICAgY29uc3QgYjExID0gYmVbMF0sXHJcbiAgICAgIGIxMiA9IGJlWzRdLFxyXG4gICAgICBiMTMgPSBiZVs4XSxcclxuICAgICAgYjE0ID0gYmVbMTJdXHJcbiAgICBjb25zdCBiMjEgPSBiZVsxXSxcclxuICAgICAgYjIyID0gYmVbNV0sXHJcbiAgICAgIGIyMyA9IGJlWzldLFxyXG4gICAgICBiMjQgPSBiZVsxM11cclxuICAgIGNvbnN0IGIzMSA9IGJlWzJdLFxyXG4gICAgICBiMzIgPSBiZVs2XSxcclxuICAgICAgYjMzID0gYmVbMTBdLFxyXG4gICAgICBiMzQgPSBiZVsxNF1cclxuICAgIGNvbnN0IGI0MSA9IGJlWzNdLFxyXG4gICAgICBiNDIgPSBiZVs3XSxcclxuICAgICAgYjQzID0gYmVbMTFdLFxyXG4gICAgICBiNDQgPSBiZVsxNV1cclxuXHJcbiAgICB0ZVswXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMSArIGExNCAqIGI0MVxyXG4gICAgdGVbNF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDJcclxuICAgIHRlWzhdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzXHJcbiAgICB0ZVsxMl0gPSBhMTEgKiBiMTQgKyBhMTIgKiBiMjQgKyBhMTMgKiBiMzQgKyBhMTQgKiBiNDRcclxuXHJcbiAgICB0ZVsxXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MVxyXG4gICAgdGVbNV0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzIgKyBhMjQgKiBiNDJcclxuICAgIHRlWzldID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzXHJcbiAgICB0ZVsxM10gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDRcclxuXHJcbiAgICB0ZVsyXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MVxyXG4gICAgdGVbNl0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDJcclxuICAgIHRlWzEwXSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMyArIGEzNCAqIGI0M1xyXG4gICAgdGVbMTRdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0XHJcblxyXG4gICAgdGVbM10gPSBhNDEgKiBiMTEgKyBhNDIgKiBiMjEgKyBhNDMgKiBiMzEgKyBhNDQgKiBiNDFcclxuICAgIHRlWzddID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyXHJcbiAgICB0ZVsxMV0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDNcclxuICAgIHRlWzE1XSA9IGE0MSAqIGIxNCArIGE0MiAqIGIyNCArIGE0MyAqIGIzNCArIGE0NCAqIGI0NFxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB7QGxpbmsgcHJlbXVsdGlwbHl9IHRoaXMge0BsaW5rIE1hdDR9IGJ5IGEgdHJhbnNsYXRlIG1hdHJpeCAoaS5lLiB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnRyYW5zbGF0ZSh2ZWN0b3IpKVxyXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB0cmFuc2xhdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciB0aGUgcHJlbXVsdGlwbHkgdHJhbnNsYXRlIG9wZXJhdGlvblxyXG4gICAqL1xyXG4gIHByZW11bHRpcGx5VHJhbnNsYXRlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIC8vIHByZW11bHRpcGx5IGJ5IGEgdHJhbnNsYXRlTWF0cml4LCBpZSB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnRyYW5zbGF0ZSh2ZWN0b3IpXHJcbiAgICAvLyB3aGVyZSB0cmFuc2xhdGVNYXRyaXhbMF0gPSAxLCB0cmFuc2xhdGVNYXRyaXhbNV0gPSAxLCBzY2FsZU1hdHJpeFsxMF0gPSAxLCB0cmFuc2xhdGVNYXRyaXhbMTVdID0gMSBmcm9tIGlkZW50aXR5XHJcbiAgICAvLyBhbmQgdHJhbnNsYXRlTWF0cml4WzEyXSA9IHZlY3Rvci54LCB0cmFuc2xhdGVNYXRyaXhbMTNdID0gdmVjdG9yLnksIHRyYW5zbGF0ZU1hdHJpeFsxNF0gPSB2ZWN0b3IueiBmcm9tIHRyYW5zbGF0aW9uXHJcbiAgICAvLyBlcXVpdmFsZW50IChidXQgZmFzdGVyKSB0byB0aGlzLm11bHRpcGx5KHRyYW5zbGF0ZU1hdHJpeCwgdGhpcylcclxuXHJcbiAgICAvLyBmcm9tIGlkZW50aXR5IG1hdHJpeFxyXG4gICAgY29uc3QgYTExID0gMVxyXG4gICAgY29uc3QgYTIyID0gMVxyXG4gICAgY29uc3QgYTMzID0gMVxyXG4gICAgY29uc3QgYTQ0ID0gMVxyXG5cclxuICAgIC8vIGZyb20gdHJhbnNsYXRpb25cclxuICAgIGNvbnN0IGExNCA9IHZlY3Rvci54XHJcbiAgICBjb25zdCBhMjQgPSB2ZWN0b3IueVxyXG4gICAgY29uc3QgYTM0ID0gdmVjdG9yLnpcclxuXHJcbiAgICBjb25zdCBiZSA9IHRoaXMuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGIxMSA9IGJlWzBdLFxyXG4gICAgICBiMTIgPSBiZVs0XSxcclxuICAgICAgYjEzID0gYmVbOF0sXHJcbiAgICAgIGIxNCA9IGJlWzEyXVxyXG4gICAgY29uc3QgYjIxID0gYmVbMV0sXHJcbiAgICAgIGIyMiA9IGJlWzVdLFxyXG4gICAgICBiMjMgPSBiZVs5XSxcclxuICAgICAgYjI0ID0gYmVbMTNdXHJcbiAgICBjb25zdCBiMzEgPSBiZVsyXSxcclxuICAgICAgYjMyID0gYmVbNl0sXHJcbiAgICAgIGIzMyA9IGJlWzEwXSxcclxuICAgICAgYjM0ID0gYmVbMTRdXHJcbiAgICBjb25zdCBiNDEgPSBiZVszXSxcclxuICAgICAgYjQyID0gYmVbN10sXHJcbiAgICAgIGI0MyA9IGJlWzExXSxcclxuICAgICAgYjQ0ID0gYmVbMTVdXHJcblxyXG4gICAgdGVbMF0gPSBhMTEgKiBiMTEgKyBhMTQgKiBiNDFcclxuICAgIHRlWzRdID0gYTExICogYjEyICsgYTE0ICogYjQyXHJcbiAgICB0ZVs4XSA9IGExMSAqIGIxMyArIGExNCAqIGI0M1xyXG4gICAgdGVbMTJdID0gYTExICogYjE0ICsgYTE0ICogYjQ0XHJcblxyXG4gICAgdGVbMV0gPSBhMjIgKiBiMjEgKyBhMjQgKiBiNDFcclxuICAgIHRlWzVdID0gYTIyICogYjIyICsgYTI0ICogYjQyXHJcbiAgICB0ZVs5XSA9IGEyMiAqIGIyMyArIGEyNCAqIGI0M1xyXG4gICAgdGVbMTNdID0gYTIyICogYjI0ICsgYTI0ICogYjQ0XHJcblxyXG4gICAgdGVbMl0gPSBhMzMgKiBiMzEgKyBhMzQgKiBiNDFcclxuICAgIHRlWzZdID0gYTMzICogYjMyICsgYTM0ICogYjQyXHJcbiAgICB0ZVsxMF0gPSBhMzMgKiBiMzMgKyBhMzQgKiBiNDNcclxuICAgIHRlWzE0XSA9IGEzMyAqIGIzNCArIGEzNCAqIGI0NFxyXG5cclxuICAgIHRlWzNdID0gYTQ0ICogYjQxXHJcbiAgICB0ZVs3XSA9IGE0NCAqIGI0MlxyXG4gICAgdGVbMTFdID0gYTQ0ICogYjQzXHJcbiAgICB0ZVsxNV0gPSBhNDQgKiBiNDRcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICoge0BsaW5rIHByZW11bHRpcGx5fSB0aGlzIHtAbGluayBNYXQ0fSBieSBhIHNjYWxlIG1hdHJpeCAoaS5lLiB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnNjYWxlKHZlY3RvcikpXHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIHRoZSBwcmVtdWx0aXBseSBzY2FsZSBvcGVyYXRpb25cclxuICAgKi9cclxuICBwcmVtdWx0aXBseVNjYWxlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIC8vIHByZW11bHRpcGx5IGJ5IGEgc2NhbGVNYXRyaXgsIGllIHNjYWxlTWF0cml4ID0gbmV3IE1hdDQoKS5zY2FsZSh2ZWN0b3IpXHJcbiAgICAvLyB3aGVyZSBzY2FsZU1hdHJpeFswXSA9IHZlY3Rvci54LCBzY2FsZU1hdHJpeFs1XSA9IHZlY3Rvci55LCBzY2FsZU1hdHJpeFsxMF0gPSB2ZWN0b3Iueiwgc2NhbGVNYXRyaXhbMTVdID0gMVxyXG4gICAgLy8gZXF1aXZhbGVudCAoYnV0IGZhc3RlcikgdG8gdGhpcy5tdWx0aXBseShzY2FsZU1hdHJpeCwgdGhpcylcclxuXHJcbiAgICBjb25zdCBiZSA9IHRoaXMuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGExMSA9IHZlY3Rvci54XHJcbiAgICBjb25zdCBhMjIgPSB2ZWN0b3IueVxyXG4gICAgY29uc3QgYTMzID0gdmVjdG9yLnpcclxuICAgIGNvbnN0IGE0NCA9IDFcclxuXHJcbiAgICBjb25zdCBiMTEgPSBiZVswXSxcclxuICAgICAgYjEyID0gYmVbNF0sXHJcbiAgICAgIGIxMyA9IGJlWzhdLFxyXG4gICAgICBiMTQgPSBiZVsxMl1cclxuICAgIGNvbnN0IGIyMSA9IGJlWzFdLFxyXG4gICAgICBiMjIgPSBiZVs1XSxcclxuICAgICAgYjIzID0gYmVbOV0sXHJcbiAgICAgIGIyNCA9IGJlWzEzXVxyXG4gICAgY29uc3QgYjMxID0gYmVbMl0sXHJcbiAgICAgIGIzMiA9IGJlWzZdLFxyXG4gICAgICBiMzMgPSBiZVsxMF0sXHJcbiAgICAgIGIzNCA9IGJlWzE0XVxyXG4gICAgY29uc3QgYjQxID0gYmVbM10sXHJcbiAgICAgIGI0MiA9IGJlWzddLFxyXG4gICAgICBiNDMgPSBiZVsxMV0sXHJcbiAgICAgIGI0NCA9IGJlWzE1XVxyXG5cclxuICAgIHRlWzBdID0gYTExICogYjExXHJcbiAgICB0ZVs0XSA9IGExMSAqIGIxMlxyXG4gICAgdGVbOF0gPSBhMTEgKiBiMTNcclxuICAgIHRlWzEyXSA9IGExMSAqIGIxNFxyXG5cclxuICAgIHRlWzFdID0gYTIyICogYjIxXHJcbiAgICB0ZVs1XSA9IGEyMiAqIGIyMlxyXG4gICAgdGVbOV0gPSBhMjIgKiBiMjNcclxuICAgIHRlWzEzXSA9IGEyMiAqIGIyNFxyXG5cclxuICAgIHRlWzJdID0gYTMzICogYjMxXHJcbiAgICB0ZVs2XSA9IGEzMyAqIGIzMlxyXG4gICAgdGVbMTBdID0gYTMzICogYjMzXHJcbiAgICB0ZVsxNF0gPSBhMzMgKiBiMzRcclxuXHJcbiAgICB0ZVszXSA9IGE0NCAqIGI0MVxyXG4gICAgdGVbN10gPSBhNDQgKiBiNDJcclxuICAgIHRlWzExXSA9IGE0NCAqIGI0M1xyXG4gICAgdGVbMTVdID0gYTQ0ICogYjQ0XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIE1hdDR9IGludmVyc2VcclxuICAgKiBAcmV0dXJucyAtIHRoZSB7QGxpbmsgTWF0NH0gaW52ZXJ0ZWRcclxuICAgKi9cclxuICBpbnZlcnQoKSB7XHJcbiAgICAvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG1cclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cyxcclxuICAgICAgbjExID0gdGVbMF0sXHJcbiAgICAgIG4yMSA9IHRlWzFdLFxyXG4gICAgICBuMzEgPSB0ZVsyXSxcclxuICAgICAgbjQxID0gdGVbM10sXHJcbiAgICAgIG4xMiA9IHRlWzRdLFxyXG4gICAgICBuMjIgPSB0ZVs1XSxcclxuICAgICAgbjMyID0gdGVbNl0sXHJcbiAgICAgIG40MiA9IHRlWzddLFxyXG4gICAgICBuMTMgPSB0ZVs4XSxcclxuICAgICAgbjIzID0gdGVbOV0sXHJcbiAgICAgIG4zMyA9IHRlWzEwXSxcclxuICAgICAgbjQzID0gdGVbMTFdLFxyXG4gICAgICBuMTQgPSB0ZVsxMl0sXHJcbiAgICAgIG4yNCA9IHRlWzEzXSxcclxuICAgICAgbjM0ID0gdGVbMTRdLFxyXG4gICAgICBuNDQgPSB0ZVsxNV0sXHJcbiAgICAgIHQxMSA9IG4yMyAqIG4zNCAqIG40MiAtIG4yNCAqIG4zMyAqIG40MiArIG4yNCAqIG4zMiAqIG40MyAtIG4yMiAqIG4zNCAqIG40MyAtIG4yMyAqIG4zMiAqIG40NCArIG4yMiAqIG4zMyAqIG40NCxcclxuICAgICAgdDEyID0gbjE0ICogbjMzICogbjQyIC0gbjEzICogbjM0ICogbjQyIC0gbjE0ICogbjMyICogbjQzICsgbjEyICogbjM0ICogbjQzICsgbjEzICogbjMyICogbjQ0IC0gbjEyICogbjMzICogbjQ0LFxyXG4gICAgICB0MTMgPSBuMTMgKiBuMjQgKiBuNDIgLSBuMTQgKiBuMjMgKiBuNDIgKyBuMTQgKiBuMjIgKiBuNDMgLSBuMTIgKiBuMjQgKiBuNDMgLSBuMTMgKiBuMjIgKiBuNDQgKyBuMTIgKiBuMjMgKiBuNDQsXHJcbiAgICAgIHQxNCA9IG4xNCAqIG4yMyAqIG4zMiAtIG4xMyAqIG4yNCAqIG4zMiAtIG4xNCAqIG4yMiAqIG4zMyArIG4xMiAqIG4yNCAqIG4zMyArIG4xMyAqIG4yMiAqIG4zNCAtIG4xMiAqIG4yMyAqIG4zNFxyXG5cclxuICAgIGNvbnN0IGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMyArIG40MSAqIHQxNFxyXG5cclxuICAgIGlmIChkZXQgPT09IDApIHJldHVybiB0aGlzLnNldCgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwKVxyXG5cclxuICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXRcclxuXHJcbiAgICB0ZVswXSA9IHQxMSAqIGRldEludlxyXG4gICAgdGVbMV0gPVxyXG4gICAgICAobjI0ICogbjMzICogbjQxIC0gbjIzICogbjM0ICogbjQxIC0gbjI0ICogbjMxICogbjQzICsgbjIxICogbjM0ICogbjQzICsgbjIzICogbjMxICogbjQ0IC0gbjIxICogbjMzICogbjQ0KSAqXHJcbiAgICAgIGRldEludlxyXG4gICAgdGVbMl0gPVxyXG4gICAgICAobjIyICogbjM0ICogbjQxIC0gbjI0ICogbjMyICogbjQxICsgbjI0ICogbjMxICogbjQyIC0gbjIxICogbjM0ICogbjQyIC0gbjIyICogbjMxICogbjQ0ICsgbjIxICogbjMyICogbjQ0KSAqXHJcbiAgICAgIGRldEludlxyXG4gICAgdGVbM10gPVxyXG4gICAgICAobjIzICogbjMyICogbjQxIC0gbjIyICogbjMzICogbjQxIC0gbjIzICogbjMxICogbjQyICsgbjIxICogbjMzICogbjQyICsgbjIyICogbjMxICogbjQzIC0gbjIxICogbjMyICogbjQzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHRlWzRdID0gdDEyICogZGV0SW52XHJcbiAgICB0ZVs1XSA9XHJcbiAgICAgIChuMTMgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzMgKiBuNDEgKyBuMTQgKiBuMzEgKiBuNDMgLSBuMTEgKiBuMzQgKiBuNDMgLSBuMTMgKiBuMzEgKiBuNDQgKyBuMTEgKiBuMzMgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVs2XSA9XHJcbiAgICAgIChuMTQgKiBuMzIgKiBuNDEgLSBuMTIgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzEgKiBuNDIgKyBuMTEgKiBuMzQgKiBuNDIgKyBuMTIgKiBuMzEgKiBuNDQgLSBuMTEgKiBuMzIgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVs3XSA9XHJcbiAgICAgIChuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMpICpcclxuICAgICAgZGV0SW52XHJcblxyXG4gICAgdGVbOF0gPSB0MTMgKiBkZXRJbnZcclxuICAgIHRlWzldID1cclxuICAgICAgKG4xNCAqIG4yMyAqIG40MSAtIG4xMyAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMSAqIG40MyArIG4xMSAqIG4yNCAqIG40MyArIG4xMyAqIG4yMSAqIG40NCAtIG4xMSAqIG4yMyAqIG40NCkgKlxyXG4gICAgICBkZXRJbnZcclxuICAgIHRlWzEwXSA9XHJcbiAgICAgIChuMTIgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjIgKiBuNDEgKyBuMTQgKiBuMjEgKiBuNDIgLSBuMTEgKiBuMjQgKiBuNDIgLSBuMTIgKiBuMjEgKiBuNDQgKyBuMTEgKiBuMjIgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVsxMV0gPVxyXG4gICAgICAobjEzICogbjIyICogbjQxIC0gbjEyICogbjIzICogbjQxIC0gbjEzICogbjIxICogbjQyICsgbjExICogbjIzICogbjQyICsgbjEyICogbjIxICogbjQzIC0gbjExICogbjIyICogbjQzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHRlWzEyXSA9IHQxNCAqIGRldEludlxyXG4gICAgdGVbMTNdID1cclxuICAgICAgKG4xMyAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMyAqIG4zMSArIG4xNCAqIG4yMSAqIG4zMyAtIG4xMSAqIG4yNCAqIG4zMyAtIG4xMyAqIG4yMSAqIG4zNCArIG4xMSAqIG4yMyAqIG4zNCkgKlxyXG4gICAgICBkZXRJbnZcclxuICAgIHRlWzE0XSA9XHJcbiAgICAgIChuMTQgKiBuMjIgKiBuMzEgLSBuMTIgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjEgKiBuMzIgKyBuMTEgKiBuMjQgKiBuMzIgKyBuMTIgKiBuMjEgKiBuMzQgLSBuMTEgKiBuMjIgKiBuMzQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVsxNV0gPVxyXG4gICAgICAobjEyICogbjIzICogbjMxIC0gbjEzICogbjIyICogbjMxICsgbjEzICogbjIxICogbjMyIC0gbjExICogbjIzICogbjMyIC0gbjEyICogbjIxICogbjMzICsgbjExICogbjIyICogbjMzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZSBhbmQgaW52ZXJ0IHRoZSB7QGxpbmsgTWF0NH1cclxuICAgKiBAcmV0dXJucyAtIGludmVydGVkIGNsb25lZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBnZXRJbnZlcnNlKCk6IE1hdDQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pbnZlcnQoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJhbnNsYXRlIGEge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHRyYW5zbGF0ZWQge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgdHJhbnNsYXRlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIGNvbnN0IGEgPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgYVsxMl0gPSBhWzBdICogdmVjdG9yLnggKyBhWzRdICogdmVjdG9yLnkgKyBhWzhdICogdmVjdG9yLnogKyBhWzEyXVxyXG4gICAgYVsxM10gPSBhWzFdICogdmVjdG9yLnggKyBhWzVdICogdmVjdG9yLnkgKyBhWzldICogdmVjdG9yLnogKyBhWzEzXVxyXG4gICAgYVsxNF0gPSBhWzJdICogdmVjdG9yLnggKyBhWzZdICogdmVjdG9yLnkgKyBhWzEwXSAqIHZlY3Rvci56ICsgYVsxNF1cclxuICAgIGFbMTVdID0gYVszXSAqIHZlY3Rvci54ICsgYVs3XSAqIHZlY3Rvci55ICsgYVsxMV0gKiB2ZWN0b3IueiArIGFbMTVdXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNjYWxlIGEge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHNjYWxlZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBzY2FsZSh2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogTWF0NCB7XHJcbiAgICBjb25zdCBhID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGFbMF0gKj0gdmVjdG9yLnhcclxuICAgIGFbMV0gKj0gdmVjdG9yLnhcclxuICAgIGFbMl0gKj0gdmVjdG9yLnhcclxuICAgIGFbM10gKj0gdmVjdG9yLnhcclxuICAgIGFbNF0gKj0gdmVjdG9yLnlcclxuICAgIGFbNV0gKj0gdmVjdG9yLnlcclxuICAgIGFbNl0gKj0gdmVjdG9yLnlcclxuICAgIGFbN10gKj0gdmVjdG9yLnlcclxuICAgIGFbOF0gKj0gdmVjdG9yLnpcclxuICAgIGFbOV0gKj0gdmVjdG9yLnpcclxuICAgIGFbMTBdICo9IHZlY3Rvci56XHJcbiAgICBhWzExXSAqPSB2ZWN0b3IuelxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3RhdGUgYSB7QGxpbmsgTWF0NH0gZnJvbSBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn1cclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSByb3RhdGVkIHtAbGluayBNYXQ0fVxyXG4gICAqL1xyXG4gIHJvdGF0ZUZyb21RdWF0ZXJuaW9uKHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpKTogTWF0NCB7XHJcbiAgICBjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICBjb25zdCB4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcclxuICAgICAgeSA9IHF1YXRlcm5pb24uZWxlbWVudHNbMV0sXHJcbiAgICAgIHogPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzJdLFxyXG4gICAgICB3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxyXG5cclxuICAgIGNvbnN0IHgyID0geCArIHgsXHJcbiAgICAgIHkyID0geSArIHksXHJcbiAgICAgIHoyID0geiArIHpcclxuICAgIGNvbnN0IHh4ID0geCAqIHgyLFxyXG4gICAgICB4eSA9IHggKiB5MixcclxuICAgICAgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyLFxyXG4gICAgICB5eiA9IHkgKiB6MixcclxuICAgICAgenogPSB6ICogejJcclxuICAgIGNvbnN0IHd4ID0gdyAqIHgyLFxyXG4gICAgICB3eSA9IHcgKiB5MixcclxuICAgICAgd3ogPSB3ICogejJcclxuXHJcbiAgICB0ZVswXSA9IDEgLSAoeXkgKyB6eilcclxuICAgIHRlWzRdID0geHkgLSB3elxyXG4gICAgdGVbOF0gPSB4eiArIHd5XHJcblxyXG4gICAgdGVbMV0gPSB4eSArIHd6XHJcbiAgICB0ZVs1XSA9IDEgLSAoeHggKyB6eilcclxuICAgIHRlWzldID0geXogLSB3eFxyXG5cclxuICAgIHRlWzJdID0geHogLSB3eVxyXG4gICAgdGVbNl0gPSB5eiArIHd4XHJcbiAgICB0ZVsxMF0gPSAxIC0gKHh4ICsgeXkpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGlzIHtAbGluayBNYXQ0fSBhcyBhIHJvdGF0aW9uIG1hdHJpeCBiYXNlZCBvbiBhbiBleWUsIHRhcmdldCBhbmQgdXAge0BsaW5rIFZlYzMgfCB2ZWN0b3JzfVxyXG4gICAqIEBwYXJhbSBleWUgLSB7QGxpbmsgVmVjMyB8IHBvc2l0aW9uIHZlY3Rvcn0gb2YgdGhlIG9iamVjdCB0aGF0IHNob3VsZCBiZSByb3RhdGVkXHJcbiAgICogQHBhcmFtIHRhcmdldCAtIHtAbGluayBWZWMzIHwgdGFyZ2V0IHZlY3Rvcn0gdG8gbG9vayBhdFxyXG4gICAqIEBwYXJhbSB1cCAtIHVwIHtAbGluayBWZWMzIHwgdmVjdG9yfVxyXG4gICAqIEByZXR1cm5zIC0gcm90YXRlZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBsb29rQXQoZXllOiBWZWMzID0gbmV3IFZlYzMoKSwgdGFyZ2V0OiBWZWMzID0gbmV3IFZlYzMoKSwgdXA6IFZlYzMgPSBuZXcgVmVjMygwLCAxLCAwKSk6IE1hdDQge1xyXG4gICAgY29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgLy8gVE9ETyBvcHRpbWl6ZSBhbGwgdGhvc2UgdmVjdG9ycyBjcmVhdGVkIGVhY2ggdGltZVxyXG5cclxuICAgIGNvbnN0IF96ID0gZXllLmNsb25lKCkuc3ViKHRhcmdldClcclxuXHJcbiAgICBpZiAoX3oubGVuZ3RoU3EoKSA9PT0gMCkge1xyXG4gICAgICAvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb25cclxuICAgICAgX3oueiA9IDFcclxuICAgIH1cclxuXHJcbiAgICBfei5ub3JtYWxpemUoKVxyXG4gICAgY29uc3QgX3ggPSBuZXcgVmVjMygpLmNyb3NzVmVjdG9ycyh1cCwgX3opXHJcblxyXG4gICAgaWYgKF94Lmxlbmd0aFNxKCkgPT09IDApIHtcclxuICAgICAgLy8gdXAgYW5kIHogYXJlIHBhcmFsbGVsXHJcbiAgICAgIGlmIChNYXRoLmFicyh1cC56KSA9PT0gMSkge1xyXG4gICAgICAgIF96LnggKz0gMC4wMDAxXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgX3oueiArPSAwLjAwMDFcclxuICAgICAgfVxyXG5cclxuICAgICAgX3oubm9ybWFsaXplKClcclxuICAgICAgX3guY3Jvc3NWZWN0b3JzKHVwLCBfeilcclxuICAgIH1cclxuXHJcbiAgICBfeC5ub3JtYWxpemUoKVxyXG4gICAgY29uc3QgX3kgPSBuZXcgVmVjMygpLmNyb3NzVmVjdG9ycyhfeiwgX3gpXHJcblxyXG4gICAgdGVbMF0gPSBfeC54XHJcbiAgICB0ZVs0XSA9IF95LnhcclxuICAgIHRlWzhdID0gX3oueFxyXG4gICAgdGVbMV0gPSBfeC55XHJcbiAgICB0ZVs1XSA9IF95LnlcclxuICAgIHRlWzldID0gX3oueVxyXG4gICAgdGVbMl0gPSBfeC56XHJcbiAgICB0ZVs2XSA9IF95LnpcclxuICAgIHRlWzEwXSA9IF96LnpcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIHtAbGluayBNYXQ0fSBmcm9tIGEge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSByb3RhdGlvbiwge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRyYW5zbGF0aW9uIGFuZCB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gc2NhbGVcclxuICAgKiBFcXVpdmFsZW50IGZvciBhcHBseWluZyB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxlIG1hdHJpY2VzIGJ1dCBtdWNoIGZhc3RlclxyXG4gICAqIFNvdXJjZSBjb2RlIGZyb206IGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICAgKlxyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHBhcmFtIHNjYWxlIC0gdHJhbnNsYXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRvIHVzZVxyXG4gICAqIEByZXR1cm5zIC0gdHJhbnNmb3JtZWQge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgY29tcG9zZSh0cmFuc2xhdGlvbjogVmVjMyA9IG5ldyBWZWMzKCksIHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpLCBzY2FsZTogVmVjMyA9IG5ldyBWZWMzKDEpKTogTWF0NCB7XHJcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgLy8gUXVhdGVybmlvbiBtYXRoXHJcbiAgICBjb25zdCB4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcclxuICAgICAgeSA9IHF1YXRlcm5pb24uZWxlbWVudHNbMV0sXHJcbiAgICAgIHogPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzJdLFxyXG4gICAgICB3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxyXG5cclxuICAgIGNvbnN0IHgyID0geCArIHhcclxuICAgIGNvbnN0IHkyID0geSArIHlcclxuICAgIGNvbnN0IHoyID0geiArIHpcclxuICAgIGNvbnN0IHh4ID0geCAqIHgyXHJcbiAgICBjb25zdCB4eSA9IHggKiB5MlxyXG4gICAgY29uc3QgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyXHJcbiAgICBjb25zdCB5eiA9IHkgKiB6MlxyXG4gICAgY29uc3QgenogPSB6ICogejJcclxuICAgIGNvbnN0IHd4ID0gdyAqIHgyXHJcbiAgICBjb25zdCB3eSA9IHcgKiB5MlxyXG4gICAgY29uc3Qgd3ogPSB3ICogejJcclxuICAgIGNvbnN0IHN4ID0gc2NhbGUueFxyXG4gICAgY29uc3Qgc3kgPSBzY2FsZS55XHJcbiAgICBjb25zdCBzeiA9IHNjYWxlLnpcclxuXHJcbiAgICBtYXRyaXhbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeFxyXG4gICAgbWF0cml4WzFdID0gKHh5ICsgd3opICogc3hcclxuICAgIG1hdHJpeFsyXSA9ICh4eiAtIHd5KSAqIHN4XHJcbiAgICBtYXRyaXhbM10gPSAwXHJcbiAgICBtYXRyaXhbNF0gPSAoeHkgLSB3eikgKiBzeVxyXG4gICAgbWF0cml4WzVdID0gKDEgLSAoeHggKyB6eikpICogc3lcclxuICAgIG1hdHJpeFs2XSA9ICh5eiArIHd4KSAqIHN5XHJcbiAgICBtYXRyaXhbN10gPSAwXHJcbiAgICBtYXRyaXhbOF0gPSAoeHogKyB3eSkgKiBzelxyXG4gICAgbWF0cml4WzldID0gKHl6IC0gd3gpICogc3pcclxuICAgIG1hdHJpeFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzelxyXG4gICAgbWF0cml4WzExXSA9IDBcclxuICAgIG1hdHJpeFsxMl0gPSB0cmFuc2xhdGlvbi54XHJcbiAgICBtYXRyaXhbMTNdID0gdHJhbnNsYXRpb24ueVxyXG4gICAgbWF0cml4WzE0XSA9IHRyYW5zbGF0aW9uLnpcclxuICAgIG1hdHJpeFsxNV0gPSAxXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgTWF0NH0gZnJvbSBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gcm90YXRpb24sIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0cmFuc2xhdGlvbiBhbmQge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIHtAbGluayBWZWMzIHwgb3JpZ2luIHZlY3Rvcn1cclxuICAgKiBFcXVpdmFsZW50IGZvciBhcHBseWluZyB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxlIG1hdHJpY2VzIGJ1dCBtdWNoIGZhc3RlclxyXG4gICAqIFNvdXJjZSBjb2RlIGZyb206IGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICAgKlxyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHBhcmFtIHNjYWxlIC0gdHJhbnNsYXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRvIHVzZVxyXG4gICAqIEBwYXJhbSBvcmlnaW4gLSBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXHJcbiAgICogQHJldHVybnMgLSB0cmFuc2Zvcm1lZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBjb21wb3NlRnJvbU9yaWdpbihcclxuICAgIHRyYW5zbGF0aW9uOiBWZWMzID0gbmV3IFZlYzMoKSxcclxuICAgIHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpLFxyXG4gICAgc2NhbGU6IFZlYzMgPSBuZXcgVmVjMygxKSxcclxuICAgIG9yaWdpbjogVmVjMyA9IG5ldyBWZWMzKClcclxuICApOiBNYXQ0IHtcclxuICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICAvLyBRdWF0ZXJuaW9uIG1hdGhcclxuICAgIGNvbnN0IHggPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzBdLFxyXG4gICAgICB5ID0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSxcclxuICAgICAgeiA9IHF1YXRlcm5pb24uZWxlbWVudHNbMl0sXHJcbiAgICAgIHcgPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzNdXHJcblxyXG4gICAgY29uc3QgeDIgPSB4ICsgeFxyXG4gICAgY29uc3QgeTIgPSB5ICsgeVxyXG4gICAgY29uc3QgejIgPSB6ICsgelxyXG5cclxuICAgIGNvbnN0IHh4ID0geCAqIHgyXHJcbiAgICBjb25zdCB4eSA9IHggKiB5MlxyXG4gICAgY29uc3QgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyXHJcbiAgICBjb25zdCB5eiA9IHkgKiB6MlxyXG4gICAgY29uc3QgenogPSB6ICogejJcclxuXHJcbiAgICBjb25zdCB3eCA9IHcgKiB4MlxyXG4gICAgY29uc3Qgd3kgPSB3ICogeTJcclxuICAgIGNvbnN0IHd6ID0gdyAqIHoyXHJcblxyXG4gICAgY29uc3Qgc3ggPSBzY2FsZS54XHJcbiAgICBjb25zdCBzeSA9IHNjYWxlLnlcclxuICAgIGNvbnN0IHN6ID0gc2NhbGUuelxyXG5cclxuICAgIGNvbnN0IG94ID0gb3JpZ2luLnhcclxuICAgIGNvbnN0IG95ID0gb3JpZ2luLnlcclxuICAgIGNvbnN0IG96ID0gb3JpZ2luLnpcclxuXHJcbiAgICBjb25zdCBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3hcclxuICAgIGNvbnN0IG91dDEgPSAoeHkgKyB3eikgKiBzeFxyXG4gICAgY29uc3Qgb3V0MiA9ICh4eiAtIHd5KSAqIHN4XHJcbiAgICBjb25zdCBvdXQ0ID0gKHh5IC0gd3opICogc3lcclxuICAgIGNvbnN0IG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeVxyXG4gICAgY29uc3Qgb3V0NiA9ICh5eiArIHd4KSAqIHN5XHJcbiAgICBjb25zdCBvdXQ4ID0gKHh6ICsgd3kpICogc3pcclxuICAgIGNvbnN0IG91dDkgPSAoeXogLSB3eCkgKiBzelxyXG4gICAgY29uc3Qgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzelxyXG5cclxuICAgIG1hdHJpeFswXSA9IG91dDBcclxuICAgIG1hdHJpeFsxXSA9IG91dDFcclxuICAgIG1hdHJpeFsyXSA9IG91dDJcclxuICAgIG1hdHJpeFszXSA9IDBcclxuICAgIG1hdHJpeFs0XSA9IG91dDRcclxuICAgIG1hdHJpeFs1XSA9IG91dDVcclxuICAgIG1hdHJpeFs2XSA9IG91dDZcclxuICAgIG1hdHJpeFs3XSA9IDBcclxuICAgIG1hdHJpeFs4XSA9IG91dDhcclxuICAgIG1hdHJpeFs5XSA9IG91dDlcclxuICAgIG1hdHJpeFsxMF0gPSBvdXQxMFxyXG4gICAgbWF0cml4WzExXSA9IDBcclxuICAgIG1hdHJpeFsxMl0gPSB0cmFuc2xhdGlvbi54ICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KVxyXG4gICAgbWF0cml4WzEzXSA9IHRyYW5zbGF0aW9uLnkgKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opXHJcbiAgICBtYXRyaXhbMTRdID0gdHJhbnNsYXRpb24ueiArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opXHJcbiAgICBtYXRyaXhbMTVdID0gMVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzfSBjb21wb25lbnQgb2YgYSB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSB7QGxpbmsgVmVjM30gdG8gc2V0XHJcbiAgICogQHJldHVybnMgLSB0cmFuc2xhdGlvbiB7QGxpbmsgVmVjM30gY29tcG9uZW50IG9mIHRoaXMge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgZ2V0VHJhbnNsYXRpb24ocG9zaXRpb24gPSBuZXcgVmVjMygpKTogVmVjMyB7XHJcbiAgICByZXR1cm4gcG9zaXRpb24uc2V0KHRoaXMuZWxlbWVudHNbMTJdLCB0aGlzLmVsZW1lbnRzWzEzXSwgdGhpcy5lbGVtZW50c1sxNF0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE1hdDQgfSBmcm9tICcuL01hdDQnXG5pbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi9RdWF0J1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi4vY29yZS9jYW1lcmEvQ2FtZXJhJ1xuXG4vKipcbiAqIFJlYWxseSBiYXNpYyAzRCB2ZWN0b3IgY2xhc3MgdXNlZCBmb3IgdmVjdG9yIGNhbGN1bGF0aW9uc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1ZlY3RvcjMuanNcbiAqIEBzZWUgaHR0cDovL2dsbWF0cml4Lm5ldC9kb2NzL3ZlYzMuanMuaHRtbFxuICovXG5leHBvcnQgY2xhc3MgVmVjMyB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFZlYzN9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMzfSAqL1xuICBwcml2YXRlIF94OiBudW1iZXJcbiAgLyoqIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjM30gKi9cbiAgcHJpdmF0ZSBfeTogbnVtYmVyXG4gIC8qKiBaIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzN9ICovXG4gIHByaXZhdGUgX3o6IG51bWJlclxuXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQ2hhbmdlfSBjYWxsYmFjayAqL1xuICBfb25DaGFuZ2VDYWxsYmFjaz8oKTogdm9pZFxuXG4gIC8qKlxuICAgKiBWZWMzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB4IC0gWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0geSAtIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHogLSBaIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IHgsIHogPSB4KSB7XG4gICAgdGhpcy50eXBlID0gJ1ZlYzMnXG5cbiAgICB0aGlzLl94ID0geFxuICAgIHRoaXMuX3kgPSB5XG4gICAgdGhpcy5feiA9IHpcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFggY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM31cbiAgICovXG4gIGdldCB4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3hcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFggY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM31cbiAgICogQ2FuIHRyaWdnZXIge0BsaW5rIG9uQ2hhbmdlfSBjYWxsYmFja1xuICAgKiBAcGFyYW0gdmFsdWUgLSBYIGNvbXBvbmVudCB0byBzZXRcbiAgICovXG4gIHNldCB4KHZhbHVlOiBudW1iZXIpIHtcbiAgICBjb25zdCBjaGFuZ2VkID0gdmFsdWUgIT09IHRoaXMuX3hcbiAgICB0aGlzLl94ID0gdmFsdWVcbiAgICBjaGFuZ2VkICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBZIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9XG4gICAqL1xuICBnZXQgeSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl95XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBZIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9XG4gICAqIENhbiB0cmlnZ2VyIHtAbGluayBvbkNoYW5nZX0gY2FsbGJhY2tcbiAgICogQHBhcmFtIHZhbHVlIC0gWSBjb21wb25lbnQgdG8gc2V0XG4gICAqL1xuICBzZXQgeSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHZhbHVlICE9PSB0aGlzLl95XG4gICAgdGhpcy5feSA9IHZhbHVlXG4gICAgY2hhbmdlZCAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWiBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMzfVxuICAgKi9cbiAgZ2V0IHooKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5felxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgWiBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMzfVxuICAgKiBDYW4gdHJpZ2dlciB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFogY29tcG9uZW50IHRvIHNldFxuICAgKi9cbiAgc2V0IHoodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IGNoYW5nZWQgPSB2YWx1ZSAhPT0gdGhpcy5felxuICAgIHRoaXMuX3ogPSB2YWx1ZVxuICAgIGNoYW5nZWQgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjayAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhdCBsZWFzdCBvbmUgY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM30gaGFzIGNoYW5nZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gYXQgbGVhc3Qgb25lIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9IGhhcyBjaGFuZ2VkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBWZWMzfVxuICAgKi9cbiAgb25DaGFuZ2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBWZWMzIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgVmVjM30gZnJvbSB2YWx1ZXNcbiAgICogQHBhcmFtIHggLSBuZXcgWCBjb21wb25lbnQgdG8gc2V0XG4gICAqIEBwYXJhbSB5IC0gbmV3IFkgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcGFyYW0geiAtIG5ldyBaIGNvbXBvbmVudCB0byBzZXRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBiZWluZyBzZXRcbiAgICovXG4gIHNldCh4ID0gMCwgeSA9IHgsIHogPSB4KTogVmVjMyB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgICB0aGlzLnogPSB6XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBWZWMzfSB0byB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGFkZFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIGFkZGl0aW9uXG4gICAqL1xuICBhZGQodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xuICAgIHRoaXMueCArPSB2ZWN0b3IueFxuICAgIHRoaXMueSArPSB2ZWN0b3IueVxuICAgIHRoaXMueiArPSB2ZWN0b3IuelxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBhZGRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBhZGRpdGlvblxuICAgKi9cbiAgYWRkU2NhbGFyKHZhbHVlID0gMCk6IFZlYzMge1xuICAgIHRoaXMueCArPSB2YWx1ZVxuICAgIHRoaXMueSArPSB2YWx1ZVxuICAgIHRoaXMueiArPSB2YWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHtAbGluayBWZWMzfSBmcm9tIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gc3VidHJhY3RcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBzdWJ0cmFjdGlvblxuICAgKi9cbiAgc3ViKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggLT0gdmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gdmVjdG9yLnlcbiAgICB0aGlzLnogLT0gdmVjdG9yLnpcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU3VidHJhY3QgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBzdWJ0cmFjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIHN1YnRyYWN0aW9uXG4gICAqL1xuICBzdWJTY2FsYXIodmFsdWUgPSAwKTogVmVjMyB7XG4gICAgdGhpcy54IC09IHZhbHVlXG4gICAgdGhpcy55IC09IHZhbHVlXG4gICAgdGhpcy56IC09IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGEge0BsaW5rIFZlYzN9IHdpdGggdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSB0byBtdWx0aXBseSB3aXRoXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgbXVsdGlwbGljYXRpb25cbiAgICovXG4gIG11bHRpcGx5KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKDEpKTogVmVjMyB7XG4gICAgdGhpcy54ICo9IHZlY3Rvci54XG4gICAgdGhpcy55ICo9IHZlY3Rvci55XG4gICAgdGhpcy56ICo9IHZlY3Rvci56XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGFsbCBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9IHdpdGggYSBzY2FsYXJcbiAgICogQHBhcmFtIHZhbHVlIC0gbnVtYmVyIHRvIG11bHRpcGx5IHdpdGhcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBtdWx0aXBsaWNhdGlvblxuICAgKi9cbiAgbXVsdGlwbHlTY2FsYXIodmFsdWUgPSAxKTogVmVjMyB7XG4gICAgdGhpcy54ICo9IHZhbHVlXG4gICAgdGhpcy55ICo9IHZhbHVlXG4gICAgdGhpcy56ICo9IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgVmVjM30gaW50byB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGNvcHlcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBjb3B5XG4gICAqL1xuICBjb3B5KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggPSB2ZWN0b3IueFxuICAgIHRoaXMueSA9IHZlY3Rvci55XG4gICAgdGhpcy56ID0gdmVjdG9yLnpcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHJldHVybnMgLSBjbG9uZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjbG9uZSgpOiBWZWMzIHtcbiAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LCB0aGlzLnksIHRoaXMueilcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBtYXggdmFsdWVzIHRvIHRoaXMge0BsaW5rIFZlYzN9IGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSByZXByZXNlbnRpbmcgbWF4IHZhbHVlc1xuICAgKiBAcmV0dXJucyAtIHtAbGluayBWZWMzfSB3aXRoIG1heCB2YWx1ZXMgYXBwbGllZFxuICAgKi9cbiAgbWF4KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggPSBNYXRoLm1heCh0aGlzLngsIHZlY3Rvci54KVxuICAgIHRoaXMueSA9IE1hdGgubWF4KHRoaXMueSwgdmVjdG9yLnkpXG4gICAgdGhpcy56ID0gTWF0aC5tYXgodGhpcy56LCB2ZWN0b3IueilcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgbWluIHZhbHVlcyB0byB0aGlzIHtAbGluayBWZWMzfSBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gcmVwcmVzZW50aW5nIG1pbiB2YWx1ZXNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVmVjM30gd2l0aCBtaW4gdmFsdWVzIGFwcGxpZWRcbiAgICovXG4gIG1pbih2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogVmVjMyB7XG4gICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2ZWN0b3IueClcbiAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHZlY3Rvci55KVxuICAgIHRoaXMueiA9IE1hdGgubWluKHRoaXMueiwgdmVjdG9yLnopXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wIHRoaXMge0BsaW5rIFZlYzN9IGNvbXBvbmVudHMgYnkgbWluIGFuZCBtYXgge0BsaW5rIFZlYzN9IHZlY3RvcnNcbiAgICogQHBhcmFtIG1pbiAtIG1pbmltdW0ge0BsaW5rIFZlYzN9IGNvbXBvbmVudHMgdG8gY29tcGFyZSB3aXRoXG4gICAqIEBwYXJhbSBtYXggLSBtYXhpbXVtIHtAbGluayBWZWMzfSBjb21wb25lbnRzIHRvIGNvbXBhcmUgd2l0aFxuICAgKiBAcmV0dXJucyAtIGNsYW1wZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjbGFtcChtaW46IFZlYzMgPSBuZXcgVmVjMygpLCBtYXg6IFZlYzMgPSBuZXcgVmVjMygpKTogVmVjMyB7XG4gICAgdGhpcy54ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKVxuICAgIHRoaXMueSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdGhpcy55KSlcbiAgICB0aGlzLnogPSBNYXRoLm1heChtaW4ueiwgTWF0aC5taW4obWF4LnosIHRoaXMueikpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIDIge0BsaW5rIFZlYzN9IGFyZSBlcXVhbFxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGNvbXBhcmVcbiAgICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSB7QGxpbmsgVmVjM30gYXJlIGVxdWFscyBvciBub3RcbiAgICovXG4gIGVxdWFscyh2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMueCA9PT0gdmVjdG9yLnggJiYgdGhpcy55ID09PSB2ZWN0b3IueSAmJiB0aGlzLnogPT09IHZlY3Rvci56XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzcXVhcmUgbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEByZXR1cm5zIC0gc3F1YXJlIGxlbmd0aCBvZiB0aGlzIHtAbGluayBWZWMzfVxuICAgKi9cbiAgbGVuZ3RoU3EoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHJldHVybnMgLSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjM31cbiAgICovXG4gIGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcmV0dXJucyAtIG5vcm1hbGl6ZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBub3JtYWxpemUoKTogVmVjMyB7XG4gICAgLy8gbm9ybWFsaXplXG4gICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoU3EoKVxuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbilcbiAgICB9XG4gICAgdGhpcy54ICo9IGxlblxuICAgIHRoaXMueSAqPSBsZW5cbiAgICB0aGlzLnogKj0gbGVuXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgMiB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSB0byB1c2UgZm9yIGRvdCBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gZG90IHByb2R1Y3Qgb2YgdGhlIDIge0BsaW5rIFZlYzN9XG4gICAqL1xuICBkb3QodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuelxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGlzIHtAbGluayBWZWMzfSB3aXRoIGFub3RoZXIge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gdXNlIGZvciBjcm9zcyBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgY3Jvc3MgcHJvZHVjdFxuICAgKi9cbiAgY3Jvc3ModmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLCB2ZWN0b3IpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoaXMge0BsaW5rIFZlYzN9IGFzIHRoZSByZXN1bHQgb2YgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gYSAtIGZpcnN0IHtAbGluayBWZWMzfSB0byB1c2UgZm9yIGNyb3NzIHByb2R1Y3RcbiAgICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFZlYzN9IHRvIHVzZSBmb3IgY3Jvc3MgcHJvZHVjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIGNyb3NzIHByb2R1Y3RcbiAgICovXG4gIGNyb3NzVmVjdG9ycyhhOiBWZWMzID0gbmV3IFZlYzMoKSwgYjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICBjb25zdCBheCA9IGEueCxcbiAgICAgIGF5ID0gYS55LFxuICAgICAgYXogPSBhLnpcbiAgICBjb25zdCBieCA9IGIueCxcbiAgICAgIGJ5ID0gYi55LFxuICAgICAgYnogPSBiLnpcblxuICAgIHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5XG4gICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYnpcbiAgICB0aGlzLnogPSBheCAqIGJ5IC0gYXkgKiBieFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9mIHRoaXMge0BsaW5rIFZlYzN9IGJ5IGdpdmVuIHtAbGluayBWZWMzfSBhbmQgYWxwaGEsIHdoZXJlIGFscGhhIGlzIHRoZSBwZXJjZW50IGRpc3RhbmNlIGFsb25nIHRoZSBsaW5lXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gaW50ZXJwb2xhdGUgdG93YXJkc1xuICAgKiBAcGFyYW0gYWxwaGEgLSBpbnRlcnBvbGF0aW9uIGZhY3RvciBpbiB0aGUgWzAsIDFdIGludGVydmFsXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgbGluZWFyIGludGVycG9sYXRpb25cbiAgICovXG4gIGxlcnAodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSwgYWxwaGEgPSAxKTogVmVjMyB7XG4gICAgdGhpcy54ICs9ICh2ZWN0b3IueCAtIHRoaXMueCkgKiBhbHBoYVxuICAgIHRoaXMueSArPSAodmVjdG9yLnkgLSB0aGlzLnkpICogYWxwaGFcbiAgICB0aGlzLnogKz0gKHZlY3Rvci56IC0gdGhpcy56KSAqIGFscGhhXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEge0BsaW5rIE1hdDQgfCBtYXRyaXh9IHRvIGEge0BsaW5rIFZlYzN9XG4gICAqIFVzZWZ1bCB0byBjb252ZXJ0IGEgcG9zaXRpb24ge0BsaW5rIFZlYzN9IGZyb20gcGxhbmUgbG9jYWwgd29ybGQgdG8gd2ViZ2wgc3BhY2UgdXNpbmcgcHJvamVjdGlvbiB2aWV3IG1hdHJpeCBmb3IgZXhhbXBsZVxuICAgKiBTb3VyY2UgY29kZSBmcm9tOiBodHRwOi8vZ2xtYXRyaXgubmV0L2RvY3MvdmVjMy5qcy5odG1sXG4gICAqIEBwYXJhbSBtYXRyaXggLSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gdG8gdXNlXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIge0BsaW5rIE1hdDQgfCBtYXRyaXh9IGFwcGxpY2F0aW9uXG4gICAqL1xuICBhcHBseU1hdDQobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IFZlYzMge1xuICAgIGNvbnN0IHggPSB0aGlzLl94LFxuICAgICAgeSA9IHRoaXMuX3ksXG4gICAgICB6ID0gdGhpcy5felxuICAgIGNvbnN0IG1BcnJheSA9IG1hdHJpeC5lbGVtZW50c1xuXG4gICAgbGV0IHcgPSBtQXJyYXlbM10gKiB4ICsgbUFycmF5WzddICogeSArIG1BcnJheVsxMV0gKiB6ICsgbUFycmF5WzE1XVxuICAgIHcgPSB3IHx8IDFcblxuICAgIHRoaXMueCA9IChtQXJyYXlbMF0gKiB4ICsgbUFycmF5WzRdICogeSArIG1BcnJheVs4XSAqIHogKyBtQXJyYXlbMTJdKSAvIHdcbiAgICB0aGlzLnkgPSAobUFycmF5WzFdICogeCArIG1BcnJheVs1XSAqIHkgKyBtQXJyYXlbOV0gKiB6ICsgbUFycmF5WzEzXSkgLyB3XG4gICAgdGhpcy56ID0gKG1BcnJheVsyXSAqIHggKyBtQXJyYXlbNl0gKiB5ICsgbUFycmF5WzEwXSAqIHogKyBtQXJyYXlbMTRdKSAvIHdcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB7QGxpbmsgUXVhdCB8IHF1YXRlcm5pb259IChyb3RhdGlvbiBpbiAzRCBzcGFjZSkgdG8gdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHF1YXRlcm5pb24gLSB7QGxpbmsgUXVhdCB8IHF1YXRlcm5pb259IHRvIHVzZVxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IHdpdGggdGhlIHRyYW5zZm9ybWF0aW9uIGFwcGxpZWRcbiAgICovXG4gIGFwcGx5UXVhdChxdWF0ZXJuaW9uOiBRdWF0ID0gbmV3IFF1YXQoKSk6IFZlYzMge1xuICAgIGNvbnN0IHggPSB0aGlzLngsXG4gICAgICB5ID0gdGhpcy55LFxuICAgICAgeiA9IHRoaXMuelxuICAgIGNvbnN0IHF4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcbiAgICAgIHF5ID0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSxcbiAgICAgIHF6ID0gcXVhdGVybmlvbi5lbGVtZW50c1syXSxcbiAgICAgIHF3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxuXG4gICAgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcblxuICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5XG4gICAgY29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHpcbiAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeFxuICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogelxuXG4gICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gICAgdGhpcy54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeVxuICAgIHRoaXMueSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXpcbiAgICB0aGlzLnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSBhIHtAbGluayBWZWMzfSBhcm91bmQgYW5kIGF4aXMgYnkgYSBnaXZlbiBhbmdsZVxuICAgKiBAcGFyYW0gYXhpcyAtIG5vcm1hbGl6ZWQge0BsaW5rIFZlYzN9IGFyb3VuZCB3aGljaCB0byByb3RhdGVcbiAgICogQHBhcmFtIGFuZ2xlIC0gYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIG9wdGlvbmFsIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlIGZvciByb3RhdGlvbiBjb21wdXRhdGlvbnNcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSB3aXRoIHRoZSByb3RhdGlvbiBhcHBsaWVkXG4gICAqL1xuICBhcHBseUF4aXNBbmdsZShheGlzID0gbmV3IFZlYzMoKSwgYW5nbGUgPSAwLCBxdWF0ZXJuaW9uID0gbmV3IFF1YXQoKSkge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL21hdGgvVmVjdG9yMy5qcyNMMjEyXG4gICAgcmV0dXJuIHRoaXMuYXBwbHlRdWF0KHF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShheGlzLCBhbmdsZSkpXG4gIH1cblxuICAvKipcbiAgICogUHJvamVjdCBhIDNEIGNvb3JkaW5hdGUge0BsaW5rIFZlYzN9IHRvIGEgMkQgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIGNhbWVyYSAtIHtAbGluayBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvblxuICAgKiBAcmV0dXJucyAtIHByb2plY3RlZCB7QGxpbmsgVmVjM31cbiAgICovXG4gIHByb2plY3QoY2FtZXJhOiBDYW1lcmEpOiBWZWMzIHtcbiAgICB0aGlzLmFwcGx5TWF0NChjYW1lcmEudmlld01hdHJpeCkuYXBwbHlNYXQ0KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVW5wcm9qZWN0IGEgMkQgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM30gdG8gM0QgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIGNhbWVyYSAtIHtAbGluayBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvblxuICAgKiBAcmV0dXJucyAtIHVucHJvamVjdGVkIHtAbGluayBWZWMzfVxuICAgKi9cbiAgdW5wcm9qZWN0KGNhbWVyYTogQ2FtZXJhKTogVmVjMyB7XG4gICAgdGhpcy5hcHBseU1hdDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXguZ2V0SW52ZXJzZSgpKS5hcHBseU1hdDQoY2FtZXJhLm1vZGVsTWF0cml4KVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IEJ1ZmZlckxheW91dCwgZ2V0QnVmZmVyTGF5b3V0LCBUeXBlZEFycmF5LCBXR1NMVmFyaWFibGVUeXBlIH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1ZlYzInXHJcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1ZlYzMnXHJcbmltcG9ydCB7IFF1YXQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1F1YXQnXHJcbmltcG9ydCB7IE1hdDQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL01hdDQnXHJcblxyXG4vKiogTnVtYmVyIG9mIHNsb3RzIHBlciByb3cgKi9cclxuZXhwb3J0IGNvbnN0IHNsb3RzUGVyUm93ID0gNFxyXG4vKiogTnVtYmVyIG9mIGJ5dGVzIHBlciBzbG90ICovXHJcbmV4cG9ydCBjb25zdCBieXRlc1BlclNsb3QgPSA0XHJcbi8qKiBOdW1iZXIgb2YgYnl0ZXMgcGVyIHJvdyAqL1xyXG5leHBvcnQgY29uc3QgYnl0ZXNQZXJSb3cgPSBzbG90c1BlclJvdyAqIGJ5dGVzUGVyU2xvdFxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYSBwb3NpdGlvbiBpbiBvdXIgYXJyYXkgYnVmZmVyIHdpdGggYSByb3cgaW5kZXggYW5kIGEgYnl0ZSBpbmRleFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24ge1xyXG4gIC8qKiByb3cgaW5kZXggb2YgdGhhdCBwb3NpdGlvbiAqL1xyXG4gIHJvdzogbnVtYmVyXHJcbiAgLyoqIGJ5dGUgaW5kZXggb2YgdGhhdCBwb3NpdGlvbiAqL1xyXG4gIGJ5dGU6IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGFsaWdubWVudDpcclxuICogS2VlcCB0cmFjayBvZiBhbiBlbnRyeSBzdGFydCBhbmQgZW5kIHJvdyBhbmQgYnl0ZXMgaW5kZXhlcyAoMTYgYnl0ZXMgcGVyIHJvdylcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyRWxlbWVudEFsaWdubWVudCB7XHJcbiAgLyoqIFRoZSByb3cgYW5kIGJ5dGUgaW5kZXhlcyBhdCB3aGljaCB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSBzdGFydHMgKi9cclxuICBzdGFydDogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uXHJcbiAgLyoqIFRoZSByb3cgYW5kIGJ5dGUgaW5kZXhlcyBhdCB3aGljaCB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSBlbmRzICovXHJcbiAgZW5kOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb25cclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQnVmZmVyRWxlbWVudH1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyRWxlbWVudFBhcmFtcyB7XHJcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIGtleSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAga2V5OiBzdHJpbmdcclxuICAvKiogVGhlIFdHU0wgdmFyaWFibGUgdHlwZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAgdHlwZTogV0dTTFZhcmlhYmxlVHlwZVxyXG59XHJcblxyXG4vKipcclxuICogVXNlZCB0byBoYW5kbGUgZWFjaCB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX0gdmlldyBhbmQgZGF0YSBsYXlvdXQgYWxpZ25tZW50LlxyXG4gKiBDb21wdXRlIHRoZSBleGFjdCBhbGlnbm1lbnQgb2Zmc2V0cyBuZWVkZWQgdG8gZmlsbCBhbiB7QGxpbmsgQXJyYXlCdWZmZXJ9IHRoYXQgd2lsbCBiZSBzZW50IHRvIGEge0BsaW5rIEdQVUJ1ZmZlcn0sIGJhc2VkIG9uIGFuIGlucHV0IHR5cGUgYW5kIHZhbHVlLlxyXG4gKiBBbHNvIHVwZGF0ZSB0aGUgdmlldyBhcnJheSBhdCB0aGUgY29ycmVjdCBvZmZzZXQuXHJcbiAqXHJcbiAqIFNvIGFsbCBvdXIgc3RydWN0IG5lZWQgdG8gYmUgcGFja2VkIGludG8gb3VyIGFycmF5QnVmZmVyIHVzaW5nIGEgcHJlY2lzZSBsYXlvdXQuXHJcbiAqIFRoZXkgd2lsbCBiZSBzdG9yZWQgaW4gcm93cywgZWFjaCByb3cgbWFkZSBvZiA0IHNsb3RzIGFuZCBlYWNoIHNsb3RzIG1hZGUgb2YgNCBieXRlcy4gRGVwZW5kaW5nIG9uIHRoZSBiaW5kaW5nIGVsZW1lbnQgdHlwZSwgaXRzIHJvdyBhbmQgc2xvdCBtYXkgdmFyeSBhbmQgd2UgbWF5IGhhdmUgdG8gaW5zZXJ0IGVtcHR5IHBhZGRlZCB2YWx1ZXMuXHJcbiAqIEFsbCBpbiBhbGwgaXQgbG9va3MgbGlrZSB0aGF0Ojxicj5cclxuICogPHByZT5cclxuICogICAgICAgICAgc2xvdCAwICAgIHNsb3QgMSAgICBzbG90IDIgICAgc2xvdCAzXHJcbiAqIHJvdyAwIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIHJvdyAxIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIHJvdyAyIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIDwvcHJlPlxyXG4gKiBzZWUgaHR0cHM6Ly93ZWJncHVmdW5kYW1lbnRhbHMub3JnL3dlYmdwdS9sZXNzb25zL3Jlc291cmNlcy93Z3NsLW9mZnNldC1jb21wdXRlci5odG1sXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnVmZmVyRWxlbWVudCB7XHJcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIFdHU0wgdmFyaWFibGUgdHlwZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAgdHlwZTogV0dTTFZhcmlhYmxlVHlwZVxyXG4gIC8qKiBUaGUga2V5IG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBrZXk6IHN0cmluZ1xyXG5cclxuICAvKioge0BsaW5rIEJ1ZmZlckxheW91dH0gdXNlZCB0byBmaWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX0gYXQgdGhlIHJpZ2h0IG9mZnNldHMgKi9cclxuICBidWZmZXJMYXlvdXQ6IEJ1ZmZlckxheW91dFxyXG5cclxuICAvKipcclxuICAgKiBPYmplY3QgZGVmaW5pbmcgZXhhY3RseSBhdCB3aGljaCBwbGFjZSBhIGJpbmRpbmcgc2hvdWxkIGJlIGluc2VydGVkIGludG8gdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyNhcnJheUJ1ZmZlciB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5fVxyXG4gICAqL1xyXG4gIGFsaWdubWVudDogQnVmZmVyRWxlbWVudEFsaWdubWVudFxyXG5cclxuICAvKiogQXJyYXkgY29udGFpbmluZyB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHZhbHVlcyAqL1xyXG4gIHZpZXc/OiBUeXBlZEFycmF5XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ1ZmZlckVsZW1lbnQgY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBCdWZmZXJFbGVtZW50UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBCdWZmZXJFbGVtZW50fVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwga2V5LCB0eXBlID0gJ2YzMicgfTogQnVmZmVyRWxlbWVudFBhcmFtcykge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZVxyXG4gICAgdGhpcy5rZXkgPSBrZXlcclxuICAgIHRoaXMudHlwZSA9IHR5cGVcclxuXHJcbiAgICB0aGlzLmJ1ZmZlckxheW91dCA9IGdldEJ1ZmZlckxheW91dCh0aGlzLnR5cGUucmVwbGFjZSgnYXJyYXknLCAnJykucmVwbGFjZSgnPCcsICcnKS5yZXBsYWNlKCc+JywgJycpKVxyXG5cclxuICAgIC8vIHNldCBpbml0IGFsaWdubWVudFxyXG4gICAgdGhpcy5hbGlnbm1lbnQgPSB7XHJcbiAgICAgIHN0YXJ0OiB7XHJcbiAgICAgICAgcm93OiAwLFxyXG4gICAgICAgIGJ5dGU6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZDoge1xyXG4gICAgICAgIHJvdzogMCxcclxuICAgICAgICBieXRlOiAwLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2Ygcm93cyB1c2VkIGJ5IHRoaXMge0BsaW5rIEJ1ZmZlckVsZW1lbnR9XHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IHJvd0NvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5hbGlnbm1lbnQuZW5kLnJvdyAtIHRoaXMuYWxpZ25tZW50LnN0YXJ0LnJvdyArIDFcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQnVmZmVyRWxlbWVudH0gYmFzZWQgb24ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9IHN0YXJ0IGFuZCBlbmQgb2Zmc2V0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBieXRlQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLmVuZE9mZnNldCAtIHRoaXMuc3RhcnRPZmZzZXQpICsgMVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgdXNlZCBieSB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSwgaW5jbHVkaW5nIGZpbmFsIHBhZGRpbmdcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgcGFkZGVkQnl0ZUNvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKHRoaXMuYWxpZ25tZW50LmVuZC5yb3cgKyAxKSAqIGJ5dGVzUGVyUm93XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHN0YXJ0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzdGFydE9mZnNldCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Qnl0ZUNvdW50QXRQb3NpdGlvbih0aGlzLmFsaWdubWVudC5zdGFydClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXJyYXkgb2Zmc2V0IChpLmUuIGFycmF5IGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHN0YXJ0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzdGFydE9mZnNldFRvSW5kZXgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2Zmc2V0IC8gYnl0ZXNQZXJTbG90XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGVuZHNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgZW5kT2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRCeXRlQ291bnRBdFBvc2l0aW9uKHRoaXMuYWxpZ25tZW50LmVuZClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXJyYXkgb2Zmc2V0IChpLmUuIGFycmF5IGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGVuZHNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgZW5kT2Zmc2V0VG9JbmRleCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5lbmRPZmZzZXQgLyBieXRlc1BlclNsb3QpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHBvc2l0aW9uIGF0IGdpdmVuIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KVxyXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBieXRlIGluZGV4IHRvIHVzZVxyXG4gICAqL1xyXG4gIGdldFBvc2l0aW9uQXRPZmZzZXQob2Zmc2V0ID0gMCk6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3c6IE1hdGguZmxvb3Iob2Zmc2V0IC8gYnl0ZXNQZXJSb3cpLFxyXG4gICAgICBieXRlOiBvZmZzZXQgJSBieXRlc1BlclJvdyxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIGF0IGEgZ2l2ZW4ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn0gZnJvbSB3aGljaCB0byBjb3VudFxyXG4gICAqIEByZXR1cm5zIC0gYnl0ZSBjb3VudCBhdCB0aGUgZ2l2ZW4ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqL1xyXG4gIGdldEJ5dGVDb3VudEF0UG9zaXRpb24ocG9zaXRpb246IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH0pOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAqIGJ5dGVzUGVyUm93ICsgcG9zaXRpb24uYnl0ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgdGhhdCBhIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24jYnl0ZSB8IGJ5dGUgcG9zaXRpb259IGRvZXMgbm90IG92ZXJmbG93IGl0cyBtYXggdmFsdWUgKDE2KVxyXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn1cclxuICAgKiBAcmV0dXJucyAtIHVwZGF0ZWQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqL1xyXG4gIGFwcGx5T3ZlcmZsb3dUb1Bvc2l0aW9uKFxyXG4gICAgcG9zaXRpb246IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH1cclxuICApOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24ge1xyXG4gICAgaWYgKHBvc2l0aW9uLmJ5dGUgPiBieXRlc1BlclJvdyAtIDEpIHtcclxuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBwb3NpdGlvbi5ieXRlICUgYnl0ZXNQZXJSb3dcclxuICAgICAgcG9zaXRpb24ucm93ICs9IE1hdGguZmxvb3IocG9zaXRpb24uYnl0ZSAvIGJ5dGVzUGVyUm93KVxyXG4gICAgICBwb3NpdGlvbi5ieXRlID0gb3ZlcmZsb3dcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcG9zaXRpb25cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdvIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbnN9XHJcbiAgICogQHBhcmFtIHAxIC0gZmlyc3Qge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqIEBwYXJhbSBwMiAtIHNlY29uZCB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259XHJcbiAgICogQHJldHVybnMgLSBudW1iZXIgb2YgYnl0ZXNcclxuICAgKi9cclxuICBnZXRCeXRlQ291bnRCZXR3ZWVuUG9zaXRpb25zKFxyXG4gICAgcDE6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH0sXHJcbiAgICBwMjogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uID0geyByb3c6IDAsIGJ5dGU6IDAgfVxyXG4gICk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCeXRlQ291bnRBdFBvc2l0aW9uKHAyKSAtIHRoaXMuZ2V0Qnl0ZUNvdW50QXRQb3NpdGlvbihwMSkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSByaWdodCBhbGlnbm1lbnQgKGkuZS4gc3RhcnQgYW5kIGVuZCByb3dzIGFuZCBieXRlcykgZ2l2ZW4gdGhlIHNpemUgYW5kIGFsaWduIHByb3BlcnRpZXMgYW5kIHRoZSBuZXh0IGF2YWlsYWJsZSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259XHJcbiAgICogQHBhcmFtIG5leHRQb3NpdGlvbkF2YWlsYWJsZSAtIG5leHQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufSBhdCB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoaXMgZWxlbWVudFxyXG4gICAqIEByZXR1cm5zIC0gY29tcHV0ZWQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9XHJcbiAgICovXHJcbiAgZ2V0RWxlbWVudEFsaWdubWVudChcclxuICAgIG5leHRQb3NpdGlvbkF2YWlsYWJsZTogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uID0geyByb3c6IDAsIGJ5dGU6IDAgfVxyXG4gICk6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQge1xyXG4gICAgY29uc3QgYWxpZ25tZW50ID0ge1xyXG4gICAgICBzdGFydDogbmV4dFBvc2l0aW9uQXZhaWxhYmxlLFxyXG4gICAgICBlbmQ6IG5leHRQb3NpdGlvbkF2YWlsYWJsZSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHNpemUsIGFsaWduIH0gPSB0aGlzLmJ1ZmZlckxheW91dFxyXG5cclxuICAgIC8vIGNoZWNrIHRoZSBhbGlnbm1lbnQsIGkuZS4gZXZlbiBpZiB0aGVyZSdzIGVub3VnaCBzcGFjZSBmb3Igb3VyIGJpbmRpbmdcclxuICAgIC8vIHdlIG1pZ2h0IGhhdmUgdG8gcGFkIHRoZSBzbG90IGJlY2F1c2Ugc29tZSB0eXBlcyBuZWVkIGEgc3BlY2lmaWMgYWxpZ25tZW50XHJcbiAgICBpZiAobmV4dFBvc2l0aW9uQXZhaWxhYmxlLmJ5dGUgJSBhbGlnbiAhPT0gMCkge1xyXG4gICAgICBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArPSBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSAlIGFsaWduXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaW4gdGhlIGNhc2Ugb2YgYSBiaW5kaW5nIHRoYXQgY291bGQgZml0IG9uIG9uZSByb3dcclxuICAgIC8vIGJ1dCB3ZSBkb24ndCBoYXZlIHNwYWNlIG9uIHRoZSBjdXJyZW50IHJvdyBmb3IgdGhpcyBiaW5kaW5nIGVsZW1lbnRcclxuICAgIC8vIGdvIHRvIG5leHQgcm93XHJcbiAgICBpZiAoc2l6ZSA8PSBieXRlc1BlclJvdyAmJiBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArIHNpemUgPiBieXRlc1BlclJvdykge1xyXG4gICAgICBuZXh0UG9zaXRpb25BdmFpbGFibGUucm93ICs9IDFcclxuICAgICAgbmV4dFBvc2l0aW9uQXZhaWxhYmxlLmJ5dGUgPSAwXHJcbiAgICB9XHJcblxyXG4gICAgYWxpZ25tZW50LmVuZCA9IHtcclxuICAgICAgcm93OiBuZXh0UG9zaXRpb25BdmFpbGFibGUucm93ICsgTWF0aC5jZWlsKHNpemUgLyBieXRlc1BlclJvdykgLSAxLFxyXG4gICAgICBieXRlOiBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArIChzaXplICUgYnl0ZXNQZXJSb3cgPT09IDAgPyBieXRlc1BlclJvdyAtIDEgOiAoc2l6ZSAlIGJ5dGVzUGVyUm93KSAtIDEpLCAvLyBlbmQgb2Ygcm93ID8gdGhlbiBpdCBlbmRzIG9uIHNsb3QgKGJ5dGVzUGVyUm93IC0gMSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBub3cgZmluYWwgY2hlY2ssIGlmIGVuZCBzbG90IGhhcyBvdmVyZmxvd25cclxuICAgIGFsaWdubWVudC5lbmQgPSB0aGlzLmFwcGx5T3ZlcmZsb3dUb1Bvc2l0aW9uKGFsaWdubWVudC5lbmQpXHJcblxyXG4gICAgcmV0dXJuIGFsaWdubWVudFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudCB8IGFsaWdubWVudH0gZnJvbSBhIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn1cclxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgIWNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICovXHJcbiAgc2V0QWxpZ25tZW50RnJvbVBvc2l0aW9uKHBvc2l0aW9uOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gPSB7IHJvdzogMCwgYnl0ZTogMCB9KSB7XHJcbiAgICB0aGlzLmFsaWdubWVudCA9IHRoaXMuZ2V0RWxlbWVudEFsaWdubWVudChwb3NpdGlvbilcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9IGZyb20gYW4gb2Zmc2V0IChieXRlIGNvdW50KVxyXG4gICAqIEBwYXJhbSBzdGFydE9mZnNldCAtIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBpbnNlcnRpbmcgdGhlIHZhbHVlcyBpbiB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICovXHJcbiAgc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0ID0gMCkge1xyXG4gICAgdGhpcy5zZXRBbGlnbm1lbnRGcm9tUG9zaXRpb24odGhpcy5nZXRQb3NpdGlvbkF0T2Zmc2V0KHN0YXJ0T2Zmc2V0KSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIHZpZXd9XHJcbiAgICogQHBhcmFtIGFycmF5QnVmZmVyIC0gdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyNhcnJheUJ1ZmZlciB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5fVxyXG4gICAqIEBwYXJhbSBhcnJheVZpZXcgLSB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5VmlldyB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5IHZpZXd9XHJcbiAgICovXHJcbiAgc2V0VmlldyhhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIsIGFycmF5VmlldzogRGF0YVZpZXcpIHtcclxuICAgIHRoaXMudmlldyA9IG5ldyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3KFxyXG4gICAgICBhcnJheUJ1ZmZlcixcclxuICAgICAgdGhpcy5zdGFydE9mZnNldCxcclxuICAgICAgdGhpcy5ieXRlQ291bnQgLyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3LkJZVEVTX1BFUl9FTEVNRU5UXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayB2aWV3fSBiYXNlZCBvbiB0aGUgbmV3IHZhbHVlXHJcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHZhbHVlIHRvIHVzZVxyXG4gICAqL1xyXG4gIHVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ2YzMicgfHwgdGhpcy50eXBlID09PSAndTMyJyB8fCB0aGlzLnR5cGUgPT09ICdpMzInKSB7XHJcbiAgICAgIHRoaXMudmlld1swXSA9IHZhbHVlIGFzIG51bWJlclxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd2ZWMyZicpIHtcclxuICAgICAgdGhpcy52aWV3WzBdID0gKHZhbHVlIGFzIFZlYzIpLnggPz8gdmFsdWVbMF0gPz8gMFxyXG4gICAgICB0aGlzLnZpZXdbMV0gPSAodmFsdWUgYXMgVmVjMikueSA/PyB2YWx1ZVsxXSA/PyAwXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3ZlYzNmJykge1xyXG4gICAgICB0aGlzLnZpZXdbMF0gPSAodmFsdWUgYXMgVmVjMykueCA/PyB2YWx1ZVswXSA/PyAwXHJcbiAgICAgIHRoaXMudmlld1sxXSA9ICh2YWx1ZSBhcyBWZWMzKS55ID8/IHZhbHVlWzFdID8/IDBcclxuICAgICAgdGhpcy52aWV3WzJdID0gKHZhbHVlIGFzIFZlYzMpLnogPz8gdmFsdWVbMl0gPz8gMFxyXG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgUXVhdCB8IE1hdDQpLmVsZW1lbnRzKSB7XHJcbiAgICAgIHRoaXMudmlldy5zZXQoKHZhbHVlIGFzIFF1YXQgfCBNYXQ0KS5lbGVtZW50cylcclxuICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICB0aGlzLnZpZXcuc2V0KHZhbHVlIGFzIG51bWJlcltdKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXh0cmFjdCB0aGUgZGF0YSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgc3BlY2lmaWMge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGZyb20gYSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhIG9mIHRoZSBwYXJlbnRNZXNoIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9XHJcbiAgICogQHBhcmFtIHJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxyXG4gICAqIEByZXR1cm5zIC0gZXh0cmFjdGVkIGRhdGEgZnJvbSB0aGUge0BsaW5rIEZsb2F0MzJBcnJheX1cclxuICAgKi9cclxuICBleHRyYWN0RGF0YUZyb21CdWZmZXJSZXN1bHQocmVzdWx0OiBGbG9hdDMyQXJyYXkpIHtcclxuICAgIHJldHVybiByZXN1bHQuc2xpY2UodGhpcy5zdGFydE9mZnNldFRvSW5kZXgsIHRoaXMuZW5kT2Zmc2V0VG9JbmRleClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnVmZmVyRWxlbWVudCwgQnVmZmVyRWxlbWVudFBhcmFtcywgYnl0ZXNQZXJTbG90IH0gZnJvbSAnLi9CdWZmZXJFbGVtZW50J1xuaW1wb3J0IHsgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBCdWZmZXJBcnJheUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyQXJyYXlFbGVtZW50UGFyYW1zIGV4dGVuZHMgQnVmZmVyRWxlbWVudFBhcmFtcyB7XG4gIC8qKiBJbml0aWFsIGxlbmd0aCBvZiB0aGUgaW5wdXQge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIGFycmF5TGVuZ3RoOiBudW1iZXJcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGhhbmRsZSBzcGVjaWZpYyBhcnJheSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcgfCBCdWZmZXJCaW5kaW5nfSB0eXBlc1xuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyQXJyYXlFbGVtZW50IGV4dGVuZHMgQnVmZmVyRWxlbWVudCB7XG4gIC8qKiBJbml0aWFsIGxlbmd0aCBvZiB0aGUgaW5wdXQge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIGFycmF5TGVuZ3RoOiBudW1iZXJcbiAgLyoqIFRvdGFsIG51bWJlciBvZiBlbGVtZW50cyAoaS5lLiB7QGxpbmsgYXJyYXlMZW5ndGh9IGRpdmlkZWQgYnkge0BsaW5rIGNvcmUvYmluZGluZ3MvdXRpbHMuQnVmZmVyTGF5b3V0IHwgYnVmZmVyIGxheW91dH0gbnVtYmVyIG9mIGVsZW1lbnRzICovXG4gIG51bUVsZW1lbnRzOiBudW1iZXJcbiAgLyoqIE51bWJlciBvZiBieXRlcyBpbiB0aGUge0BsaW5rIEFycmF5QnVmZmVyfSBiZXR3ZWVuIHR3byBlbGVtZW50cyB7QGxpbmsgc3RhcnRPZmZzZXR9ICovXG4gIGFycmF5U3RyaWRlOiBudW1iZXJcblxuICAvKipcbiAgICogQnVmZmVyQXJyYXlFbGVtZW50IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQnVmZmVyQXJyYXlFbGVtZW50fVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBuYW1lLCBrZXksIHR5cGUgPSAnZjMyJywgYXJyYXlMZW5ndGggPSAxIH06IEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcykge1xuICAgIHN1cGVyKHsgbmFtZSwga2V5LCB0eXBlIH0pXG5cbiAgICB0aGlzLmFycmF5TGVuZ3RoID0gYXJyYXlMZW5ndGhcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gdGhpcy5hcnJheUxlbmd0aCAvIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhcnJheSBzdHJpZGUgYmV0d2VlbiB0d28gZWxlbWVudHMgb2YgdGhlIGFycmF5LCBpbiBpbmRpY2VzXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGFycmF5U3RyaWRlVG9JbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFycmF5U3RyaWRlIC8gYnl0ZXNQZXJTbG90XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LkJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9XG4gICAqIFRvIGNvbXB1dGUgaG93IGFycmF5cyBhcmUgcGFja2VkLCB3ZSBnZXQgdGhlIHNlY29uZCBpdGVtIGFsaWdubWVudCBhcyB3ZWxsIGFuZCB1c2UgaXQgdG8gY2FsY3VsYXRlIHRoZSBhcnJheVN0cmlkZSBiZXR3ZWVuIHR3byBhcnJheSBlbGVtZW50cy4gVXNpbmcgdGhlIGFycmF5U3RyaWRlIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzLCB3ZSBjYW4gZWFzaWx5IGdldCB0aGUgZW5kIGFsaWdubWVudCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IC0gb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheSBidWZmZXJ9XG4gICAqL1xuICBzZXRBbGlnbm1lbnQoc3RhcnRPZmZzZXQgPSAwKSB7XG4gICAgc3VwZXIuc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0KVxuXG4gICAgLy8gcmVwZWF0IGZvciBhIHNlY29uZCBlbGVtZW50IHRvIGtub3cgaG93IHRoaW5ncyBhcmUgbGFpZCBvdXRcbiAgICBjb25zdCBuZXh0QWxpZ25tZW50ID0gdGhpcy5nZXRFbGVtZW50QWxpZ25tZW50KHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIDEpKVxuICAgIHRoaXMuYXJyYXlTdHJpZGUgPSB0aGlzLmdldEJ5dGVDb3VudEJldHdlZW5Qb3NpdGlvbnModGhpcy5hbGlnbm1lbnQuZW5kLCBuZXh0QWxpZ25tZW50LmVuZClcblxuICAgIHRoaXMuYWxpZ25tZW50LmVuZCA9IHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIHRoaXMuYXJyYXlTdHJpZGUgKiAodGhpcy5udW1FbGVtZW50cyAtIDEpKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIHZpZXd9IGJhc2VkIG9uIHRoZSBuZXcgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHZhbHVlIHRvIHVzZVxuICAgKi9cbiAgdXBkYXRlKHZhbHVlKSB7XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGxldCB2YWx1ZUluZGV4ID0gMFxuXG4gICAgICBjb25zdCB2aWV3TGVuZ3RoID0gdGhpcy5ieXRlQ291bnQgLyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3LkJZVEVTX1BFUl9FTEVNRU5UXG4gICAgICAvLyBhcnJheVN0cmlkZSBpcyBvdXIgdmlldyBsZW5ndGggZGl2aWRlZCBieSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIG91ciBhcnJheVxuICAgICAgY29uc3Qgc3RyaWRlID0gTWF0aC5jZWlsKHZpZXdMZW5ndGggLyB0aGlzLm51bUVsZW1lbnRzKVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRWxlbWVudHM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzOyBqKyspIHtcbiAgICAgICAgICB0aGlzLnZpZXdbaiArIGkgKiBzdHJpZGVdID0gdmFsdWVbdmFsdWVJbmRleF1cblxuICAgICAgICAgIHZhbHVlSW5kZXgrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93V2FybmluZyhgQnVmZmVyQXJyYXlFbGVtZW50OiB2YWx1ZSBwYXNzZWQgdG8gJHt0aGlzLm5hbWV9IGlzIG5vdCBhbiBhcnJheTogJHt2YWx1ZX1gKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVmZmVyQXJyYXlFbGVtZW50LCBCdWZmZXJBcnJheUVsZW1lbnRQYXJhbXMgfSBmcm9tICcuL0J1ZmZlckFycmF5RWxlbWVudCdcclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGNvbXB1dGUgYWxpZ25tZW50IHdoZW4gZGVhbGluZyB3aXRoIGFycmF5cyBvZiBTdHJ1Y3RcclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdWZmZXJJbnRlcmxlYXZlZEFycmF5RWxlbWVudCBleHRlbmRzIEJ1ZmZlckFycmF5RWxlbWVudCB7XHJcbiAgLyoqIENvcnJlc3BvbmRpbmcge0BsaW5rIERhdGFWaWV3fSBzZXQgZnVuY3Rpb24gYmFzZWQgb24ge0BsaW5rIHZpZXd9IHR5cGUgKi9cclxuICB2aWV3U2V0RnVuY3Rpb246IERhdGFWaWV3WydzZXRJbnQzMiddIHwgRGF0YVZpZXdbJ3NldFVpbnQxNiddIHwgRGF0YVZpZXdbJ3NldFVpbnQzMiddIHwgRGF0YVZpZXdbJ3NldEZsb2F0MzInXVxyXG5cclxuICAvKipcclxuICAgKiBCdWZmZXJJbnRlcmxlYXZlZEFycmF5RWxlbWVudCBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBrZXksIHR5cGUgPSAnZjMyJywgYXJyYXlMZW5ndGggPSAxIH06IEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcykge1xyXG4gICAgc3VwZXIoeyBuYW1lLCBrZXksIHR5cGUsIGFycmF5TGVuZ3RoIH0pXHJcblxyXG4gICAgdGhpcy5hcnJheVN0cmlkZSA9IDFcclxuXHJcbiAgICB0aGlzLmFycmF5TGVuZ3RoID0gYXJyYXlMZW5ndGhcclxuICAgIHRoaXMubnVtRWxlbWVudHMgPSB0aGlzLmFycmF5TGVuZ3RoIC8gdGhpcy5idWZmZXJMYXlvdXQubnVtRWxlbWVudHNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIHNsb3RzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9IGJhc2VkIG9uIGJ1ZmZlciBsYXlvdXQgc2l6ZSBhbmQgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IGJ5dGVDb3VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyTGF5b3V0LnNpemUgKiB0aGlzLm51bUVsZW1lbnRzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudEFsaWdubWVudCB8IGFsaWdubWVudH1cclxuICAgKiBUbyBjb21wdXRlIGhvdyBhcnJheXMgYXJlIHBhY2tlZCwgd2UgbmVlZCB0byBjb21wdXRlIHRoZSBhcnJheVN0cmlkZSBiZXR3ZWVuIHR3byBlbGVtZW50cyBiZWZvcmVoYW5kIGFuZCBwYXNzIGl0IGhlcmUuIFVzaW5nIHRoZSBhcnJheVN0cmlkZSBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBlbGVtZW50cywgd2UgY2FuIGVhc2lseSBnZXQgdGhlIGVuZCBhbGlnbm1lbnQgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IC0gb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX1cclxuICAgKiBAcGFyYW0gc3RyaWRlIC0gU3RyaWRlIGluIHRoZSB7QGxpbmsgQXJyYXlCdWZmZXJ9IGJldHdlZW4gdHdvIGVsZW1lbnRzIG9mIHRoZSBhcnJheVxyXG4gICAqL1xyXG4gIHNldEFsaWdubWVudChzdGFydE9mZnNldCA9IDAsIHN0cmlkZSA9IDApIHtcclxuICAgIHRoaXMuYWxpZ25tZW50ID0gdGhpcy5nZXRFbGVtZW50QWxpZ25tZW50KHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldChzdGFydE9mZnNldCkpXHJcblxyXG4gICAgdGhpcy5hcnJheVN0cmlkZSA9IHN0cmlkZVxyXG5cclxuICAgIHRoaXMuYWxpZ25tZW50LmVuZCA9IHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIHN0cmlkZSAqICh0aGlzLm51bUVsZW1lbnRzIC0gMSkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayB2aWV3fSBhbmQge0BsaW5rIHZpZXdTZXRGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gYXJyYXlCdWZmZXIgLSB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICogQHBhcmFtIGFycmF5VmlldyAtIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlWaWV3IHwgYnVmZmVyIGJpbmRpbmcgYXJyYXkgdmlld31cclxuICAgKi9cclxuICBzZXRWaWV3KGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlciwgYXJyYXlWaWV3OiBEYXRhVmlldykge1xyXG4gICAgLy8gb3VyIHZpZXcgd2lsbCBiZSBhIHNpbXBsZSB0eXBlZCBhcnJheSwgbm90IGxpbmtlZCB0byB0aGUgYXJyYXkgYnVmZmVyXHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgdGhpcy5idWZmZXJMYXlvdXQuVmlldyh0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50cyAqIHRoaXMubnVtRWxlbWVudHMpXHJcblxyXG4gICAgLy8gYnV0IG91ciB2aWV3U2V0RnVuY3Rpb24gaXMgbGlua2VkIHRvIHRoZSBhcnJheSB2aWV3XHJcbiAgICB0aGlzLnZpZXdTZXRGdW5jdGlvbiA9ICgoYXJyYXlWaWV3KSA9PiB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy5idWZmZXJMYXlvdXQuVmlldykge1xyXG4gICAgICAgIGNhc2UgSW50MzJBcnJheTpcclxuICAgICAgICAgIHJldHVybiBhcnJheVZpZXcuc2V0SW50MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRJbnQzMiddXHJcbiAgICAgICAgY2FzZSBVaW50MTZBcnJheTpcclxuICAgICAgICAgIHJldHVybiBhcnJheVZpZXcuc2V0VWludDE2LmJpbmQoYXJyYXlWaWV3KSBhcyBEYXRhVmlld1snc2V0VWludDE2J11cclxuICAgICAgICBjYXNlIFVpbnQzMkFycmF5OlxyXG4gICAgICAgICAgcmV0dXJuIGFycmF5Vmlldy5zZXRVaW50MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRVaW50MzInXVxyXG4gICAgICAgIGNhc2UgRmxvYXQzMkFycmF5OlxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXlWaWV3LnNldEZsb2F0MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRGbG9hdDMyJ11cclxuICAgICAgfVxyXG4gICAgfSkoYXJyYXlWaWV3KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSB7QGxpbmsgdmlld30gYmFzZWQgb24gdGhlIG5ldyB2YWx1ZSwgYW5kIHRoZW4gdXBkYXRlIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlWaWV3IHwgYnVmZmVyIGJpbmRpbmcgYXJyYXkgdmlld30gdXNpbmcgc3ViIGFycmF5c1xyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyB2YWx1ZSB0byB1c2VcclxuICAgKi9cclxuICB1cGRhdGUodmFsdWUpIHtcclxuICAgIHN1cGVyLnVwZGF0ZSh2YWx1ZSlcclxuXHJcbiAgICAvLyBub3cgdXNlIG91ciB2aWV3U2V0RnVuY3Rpb24gdG8gZmlsbCB0aGUgYXJyYXkgdmlldyB3aXRoIGludGVybGVhdmVkIGFsaWdubWVudFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bUVsZW1lbnRzOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3ViYXJyYXkgPSB0aGlzLnZpZXcuc3ViYXJyYXkoXHJcbiAgICAgICAgaSAqIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzLFxyXG4gICAgICAgIGkgKiB0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50cyArIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0Qnl0ZU9mZnNldCA9IHRoaXMuc3RhcnRPZmZzZXQgKyBpICogdGhpcy5hcnJheVN0cmlkZVxyXG5cclxuICAgICAgLy8gdmlldyBzZXQgZnVuY3Rpb24gbmVlZCB0byBiZSBjYWxsZWQgZm9yIGVhY2ggc3ViYXJyYXkgZW50cnksIHNvIGxvb3Agb3ZlciBzdWJhcnJheSBlbnRyaWVzXHJcbiAgICAgIHN1YmFycmF5LmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHRoaXMudmlld1NldEZ1bmN0aW9uKHN0YXJ0Qnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5idWZmZXJMYXlvdXQuVmlldy5CWVRFU19QRVJfRUxFTUVOVCwgdmFsdWUsIHRydWUpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHRyYWN0IHRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBzcGVjaWZpYyB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9IGZyb20gYSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhIG9mIHRoZSBwYXJlbnRNZXNoIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9XHJcbiAgICogQHBhcmFtIHJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxyXG4gICAqL1xyXG4gIGV4dHJhY3REYXRhRnJvbUJ1ZmZlclJlc3VsdChyZXN1bHQ6IEZsb2F0MzJBcnJheSkge1xyXG4gICAgY29uc3QgaW50ZXJsZWF2ZWRSZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlMZW5ndGgpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRWxlbWVudHM7IGkrKykge1xyXG4gICAgICBjb25zdCByZXN1bHRPZmZzZXQgPSB0aGlzLnN0YXJ0T2Zmc2V0VG9JbmRleCArIGkgKiB0aGlzLmFycmF5U3RyaWRlVG9JbmRleFxyXG5cclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50czsgaisrKSB7XHJcbiAgICAgICAgaW50ZXJsZWF2ZWRSZXN1bHRbaSAqIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzICsgal0gPSByZXN1bHRbcmVzdWx0T2Zmc2V0ICsgal1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGludGVybGVhdmVkUmVzdWx0XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdQYXJhbXMsIEJ1ZmZlckJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlIH0gZnJvbSAnLi9CaW5kaW5nJ1xuaW1wb3J0IHsgZ2V0QmluZEdyb3VwTGF5b3V0QmluZGluZ1R5cGUsIGdldEJpbmRpbmdXR1NMVmFyVHlwZSwgZ2V0QnVmZmVyTGF5b3V0LCBUeXBlZEFycmF5IH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IHRocm93V2FybmluZywgdG9DYW1lbENhc2UsIHRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBWZWMyIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMyJ1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uL21hdGgvVmVjMydcbmltcG9ydCB7IElucHV0LCBJbnB1dEJhc2UsIElucHV0VmFsdWUgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgQnVmZmVyRWxlbWVudCB9IGZyb20gJy4vYnVmZmVyRWxlbWVudHMvQnVmZmVyRWxlbWVudCdcbmltcG9ydCB7IEJ1ZmZlckFycmF5RWxlbWVudCB9IGZyb20gJy4vYnVmZmVyRWxlbWVudHMvQnVmZmVyQXJyYXlFbGVtZW50J1xuaW1wb3J0IHsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQgfSBmcm9tICcuL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50J1xuXG4vKipcbiAqIERlZmluZXMgYSB7QGxpbmsgQnVmZmVyQmluZGluZ30gaW5wdXQgb2JqZWN0IHRoYXQgY2FuIHNldCBhIHZhbHVlIGFuZCBydW4gYSBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIHRoaXMgaGFwcGVuc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZlckJpbmRpbmdJbnB1dCBleHRlbmRzIElucHV0QmFzZSB7XG4gIC8qKiBPcmlnaW5hbCB7QGxpbmsgSW5wdXRWYWx1ZSB8IGlucHV0IHZhbHVlfSAqL1xuICBfdmFsdWU6IElucHV0VmFsdWVcblxuICAvKiogR2V0IHRoZSB7QGxpbmsgSW5wdXRWYWx1ZSB8IGlucHV0IHZhbHVlfSAqL1xuICBnZXQgdmFsdWUoKTogSW5wdXRWYWx1ZVxuXG4gIC8qKiBTZXQgdGhlIHtAbGluayBJbnB1dFZhbHVlIHwgaW5wdXQgdmFsdWV9ICovXG4gIHNldCB2YWx1ZSh2YWx1ZTogSW5wdXRWYWx1ZSlcblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIElucHV0VmFsdWUgfCBpbnB1dCB2YWx1ZX0gaGFzIGNoYW5nZWQgYW5kIHdlIHNob3VsZCB1cGRhdGUgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIHNob3VsZFVwZGF0ZTogYm9vbGVhblxufVxuXG4vKipcbiAqIEJhc2UgcGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBCdWZmZXJCaW5kaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZlckJpbmRpbmdCYXNlUGFyYW1zIHtcbiAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30gc2hvdWxkIHVzZSBzdHJ1Y3R1cmVkIFdHU0wgdmFyaWFibGVzICovXG4gIHVzZVN0cnVjdD86IGJvb2xlYW5cbiAgLyoqIHtAbGluayBCdWZmZXJCaW5kaW5nfSBtZW1vcnkgYWNjZXNzIHR5cGVzIChyZWFkIG9ubHkgb3IgcmVhZC93cml0ZSkgKi9cbiAgYWNjZXNzPzogQnVmZmVyQmluZGluZ01lbW9yeUFjY2Vzc1R5cGVcbiAgLyoqIE9iamVjdCBjb250YWluaW5nIG9uZSBvciBtdWx0aXBsZSB7QGxpbmsgSW5wdXQgfCBpbnB1dHN9IGRlc2NyaWJpbmcgdGhlIHN0cnVjdHVyZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckJpbmRpbmd9ICovXG4gIHN0cnVjdD86IFJlY29yZDxzdHJpbmcsIElucHV0PlxufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQnVmZmVyQmluZGluZ31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCdWZmZXJCaW5kaW5nUGFyYW1zIGV4dGVuZHMgQmluZGluZ1BhcmFtcywgQnVmZmVyQmluZGluZ0Jhc2VQYXJhbXMge31cblxuLyoqIEFsbCBhbGxvd2VkIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnRzfSAqL1xuZXhwb3J0IHR5cGUgQWxsb3dlZEJ1ZmZlckVsZW1lbnQgPSBCdWZmZXJFbGVtZW50IHwgQnVmZmVyQXJyYXlFbGVtZW50IHwgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnRcblxuLyoqXG4gKiBVc2VkIHRvIGZvcm1hdCB7QGxpbmsgQnVmZmVyQmluZGluZ1BhcmFtcyNzdHJ1Y3QgfCB1bmlmb3JtcyBvciBzdG9yYWdlcyBzdHJ1Y3QgaW5wdXRzfSBhbmQgY3JlYXRlIGEgc2luZ2xlIHR5cGVkIGFycmF5IHRoYXQgd2lsbCBob2xkIGFsbCB0aG9zZSBpbnB1dHMgdmFsdWVzLiBUaGUgYXJyYXkgbmVlZHMgdG8gYmUgY29ycmVjdGx5IHBhZGRlZCBkZXBlbmRpbmcgb24gZXZlcnkgdmFsdWUgdHlwZSwgc28gaXQgY2FuIGJlIHNhZmVseSB1c2VkIGFzIGEgR1BVQnVmZmVyIGlucHV0Ljxicj5cbiAqIEl0IHdpbGwgYWxzbyBjcmVhdGUgV0dTTCBTdHJ1Y3RzIGFuZCB2YXJpYWJsZXMgYWNjb3JkaW5nIHRvIHRoZSBCdWZmZXJCaW5kaW5ncyBpbnB1dHMgcGFyYW1ldGVycy48YnI+XG4gKiBUaGUgV0dTTCBzdHJ1Y3RzIGFuZCB2YXJpYWJsZXMgZGVjbGFyYXRpb24gbWF5IHZhcnkgYmFzZWQgb24gdGhlIGlucHV0IHR5cGVzLCBlc3BlY2lhbGx5IGlmIHRoZXJlJ3Mgb25lIG9yIG1vcmUgYXJyYXlzIGludm9sdmVkIChpLmUuIGBhcnJheTxmMzI+YCwgYGFycmF5PHZlYzNmPmAgZXRjLikuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIGNyZWF0ZSBhIEdQVSBidWZmZXIgYmluZGluZ1xuICogY29uc3QgYnVmZmVyQmluZGluZyA9IG5ldyBCdWZmZXJCaW5kaW5nKHtcbiAqICAgbmFtZTogJ3BhcmFtcycsIC8vIG5hbWUgb2YgdGhlIFdHU0wgb2JqZWN0XG4gKiAgIGJpbmRpbmdUeXBlOiAndW5pZm9ybScsIC8vIHNob3VsZCBiZSAnc3RvcmFnZScgZm9yIGxhcmdlIGFycmF5c1xuICogICBzdHJ1Y3Q6IHtcbiAqICAgICBvcGFjaXR5OiB7XG4gKiAgICAgICB0eXBlOiAnZjMyJyxcbiAqICAgICAgIHZhbHVlOiAxLFxuICogICAgIH0sXG4gKiAgICAgbW91c2VQb3NpdGlvbjoge1xuICogICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAqICAgICAgIHZhbHVlOiBuZXcgVmVjMigpLFxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBCdWZmZXJCaW5kaW5nIGV4dGVuZHMgQmluZGluZyB7XG4gIC8qKiBGbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30ge0BsaW5rIGJ1ZmZlckVsZW1lbnRzIHwgYnVmZmVyIGVsZW1lbnRzfSBzaG91bGQgYmUgcGFja2VkIGluIGEgc2luZ2xlIHN0cnVjdHVyZWQgb2JqZWN0IG9yIGlmIGVhY2ggb25lIG9mIHRoZW0gc2hvdWxkIGJlIGEgc2VwYXJhdGUgYmluZGluZy4gKi9cbiAgdXNlU3RydWN0OiBib29sZWFuXG4gIC8qKiBBbGwgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nfSBkYXRhIGlucHV0cyAqL1xuICBpbnB1dHM6IFJlY29yZDxzdHJpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dD5cblxuICAvKiogRmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9uZSBvZiB0aGUge0BsaW5rIGlucHV0c30gdmFsdWUgaGFzIGNoYW5nZWQgYW5kIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBHUFVCdWZmZXIgbGlua2VkIHRvIHRoZSB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5ICovXG4gIHNob3VsZFVwZGF0ZTogYm9vbGVhblxuXG4gIC8qKiBBbiBhcnJheSBkZXNjcmliaW5nIGhvdyBlYWNoIGNvcnJlc3BvbmRpbmcge0BsaW5rIGlucHV0c30gc2hvdWxkIGJlIGluc2VydGVkIGludG8gb3VyIHtAbGluayBhcnJheVZpZXd9IGFycmF5ICovXG4gIGJ1ZmZlckVsZW1lbnRzOiBBbGxvd2VkQnVmZmVyRWxlbWVudFtdXG5cbiAgLyoqIFRvdGFsIHNpemUgb2Ygb3VyIHtAbGluayBhcnJheUJ1ZmZlcn0gYXJyYXkgaW4gYnl0ZXMgKi9cbiAgYXJyYXlCdWZmZXJTaXplOiBudW1iZXJcbiAgLyoqIEFycmF5IGJ1ZmZlciB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gKi9cbiAgYXJyYXlCdWZmZXI6IEFycmF5QnVmZmVyXG4gIC8qKiBEYXRhIHZpZXcgb2Ygb3VyIHtAbGluayBhcnJheUJ1ZmZlciB8IGFycmF5IGJ1ZmZlcn0gKi9cbiAgYXJyYXlWaWV3OiBEYXRhVmlld1xuXG4gIC8qKiBUaGUgR1BVQnVmZmVyICovXG4gIGJ1ZmZlcjogR1BVQnVmZmVyIHwgbnVsbFxuXG4gIC8qKiBBIHN0cmluZyB0byBhcHBlbmQgdG8gb3VyIHNoYWRlcnMgY29kZSBkZXNjcmliaW5nIHRoZSBXR1NMIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30gKi9cbiAgd2dzbFN0cnVjdEZyYWdtZW50OiBzdHJpbmdcbiAgLyoqIEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gYXBwZW5kIHRvIG91ciBzaGFkZXJzIGNvZGUgZGVjbGFyaW5nIGFsbCB0aGUgV0dTTCB2YXJpYWJsZXMgcmVwcmVzZW50aW5nIHRoaXMge0BsaW5rIEJ1ZmZlckJpbmRpbmd9ICovXG4gIHdnc2xHcm91cEZyYWdtZW50OiBzdHJpbmdbXVxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBCdWZmZXJCaW5kaW5nfSAqL1xuICBvcHRpb25zOiBCdWZmZXJCaW5kaW5nUGFyYW1zXG5cbiAgLyoqXG4gICAqIEJ1ZmZlckJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgQnVmZmVyQmluZGluZ1BhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBCdWZmZXJCaW5kaW5nc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1VuaWZvcm0nLFxuICAgIG5hbWUgPSAndW5pZm9ybScsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICB1c2VTdHJ1Y3QgPSB0cnVlLFxuICAgIGFjY2VzcyA9ICdyZWFkJyxcbiAgICBzdHJ1Y3QgPSB7fSxcbiAgfTogQnVmZmVyQmluZGluZ1BhcmFtcykge1xuICAgIGJpbmRpbmdUeXBlID0gYmluZGluZ1R5cGUgPz8gJ3VuaWZvcm0nXG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdmlzaWJpbGl0eSB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgdXNlU3RydWN0LFxuICAgICAgYWNjZXNzLFxuICAgICAgc3RydWN0OiBzdHJ1Y3QsXG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlclNpemUgPSAwXG5cbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXG4gICAgdGhpcy51c2VTdHJ1Y3QgPSB1c2VTdHJ1Y3RcblxuICAgIHRoaXMuYnVmZmVyRWxlbWVudHMgPSBbXVxuICAgIHRoaXMuaW5wdXRzID0ge31cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGxcblxuICAgIHRoaXMuc2V0QmluZGluZ3Moc3RydWN0KVxuICAgIHRoaXMuc2V0QnVmZmVyQXR0cmlidXRlcygpXG4gICAgdGhpcy5zZXRXR1NMRnJhZ21lbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0RW50cnkjYnVmZmVyIHwgYmluZCBncm91cCBsYXlvdXQgZW50cnkgcmVzb3VyY2V9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlTGF5b3V0KCk6IHtcbiAgICAvKioge0BsaW5rIEdQVUJpbmRHcm91cExheW91dCB8IGJpbmQgZ3JvdXAgbGF5b3V0fSByZXNvdXJjZSAqL1xuICAgIGJ1ZmZlcjogR1BVQnVmZmVyQmluZGluZ0xheW91dFxuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgYnVmZmVyOiB7XG4gICAgICAgIHR5cGU6IGdldEJpbmRHcm91cExheW91dEJpbmRpbmdUeXBlKHRoaXMpLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlKCk6IHtcbiAgICAvKioge0BsaW5rIEdQVUJpbmRHcm91cCB8IGJpbmQgZ3JvdXB9IHJlc291cmNlICovXG4gICAgYnVmZmVyOiBHUFVCdWZmZXIgfCBudWxsXG4gIH0ge1xuICAgIHJldHVybiB7IGJ1ZmZlcjogdGhpcy5idWZmZXIgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBiaW5kaW5ncyBzdHJ1Y3QgYW5kIHNldCBvdXIge0BsaW5rIGlucHV0c31cbiAgICogQHBhcmFtIGJpbmRpbmdzIC0gYmluZGluZ3MgaW5wdXRzXG4gICAqL1xuICBzZXRCaW5kaW5ncyhiaW5kaW5nczogUmVjb3JkPHN0cmluZywgSW5wdXQ+KSB7XG4gICAgT2JqZWN0LmtleXMoYmluZGluZ3MpLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB7fSBhcyBCdWZmZXJCaW5kaW5nSW5wdXRcblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYmluZGluZ3NbYmluZGluZ0tleV0pIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICAgIGJpbmRpbmdba2V5XSA9IGJpbmRpbmdzW2JpbmRpbmdLZXldW2tleV1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkZWZpbmUgYSBcInZhbHVlXCIgZ2V0dGVyL3NldHRlciBzbyB3ZSBjYW4gbm93IHdoZW4gdG8gdXBkYXRlIHRoZSBidWZmZXIgYmluZGluZ1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJpbmRpbmcsICd2YWx1ZScsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBiaW5kaW5nLl92YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgIGJpbmRpbmcuX3ZhbHVlID0gdlxuICAgICAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgYmluZGluZy52YWx1ZSA9IGJpbmRpbmdzW2JpbmRpbmdLZXldLnZhbHVlXG5cbiAgICAgIGlmIChiaW5kaW5nLnZhbHVlIGluc3RhbmNlb2YgVmVjMiB8fCBiaW5kaW5nLnZhbHVlIGluc3RhbmNlb2YgVmVjMykge1xuICAgICAgICBiaW5kaW5nLnZhbHVlLm9uQ2hhbmdlKCgpID0+IChiaW5kaW5nLnNob3VsZFVwZGF0ZSA9IHRydWUpKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XSA9IGJpbmRpbmdcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgYnVmZmVyIGF0dHJpYnV0ZXM6XG4gICAqIFRha2VzIGFsbCB0aGUge0BsaW5rIGlucHV0c30gYW5kIGFkZHMgdGhlbSB0byB0aGUge0BsaW5rIGJ1ZmZlckVsZW1lbnRzfSBhcnJheSB3aXRoIHRoZSBjb3JyZWN0IHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyAocGFkZGVkKSwgdGhlbiBmaWxsIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IHR5cGVkIGFycmF5IGFjY29yZGluZ2x5LlxuICAgKi9cbiAgc2V0QnVmZmVyQXR0cmlidXRlcygpIHtcbiAgICAvLyBlYXJseSBvbiwgY2hlY2sgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgYXJyYXkgYmluZGluZ1xuICAgIC8vIElmIHRoZXJlJ3Mgb25lIGFuZCBvbmx5IG9uZSwgcHV0IGl0IGF0IHRoZSBlbmQgb2YgdGhlIGJpbmRpbmcgZWxlbWVudHMgYXJyYXksIHRyZWF0IGl0IGFzIGEgc2luZ2xlIGVudHJ5IG9mIHRoZSB0eXBlLCBidXQgbG9vcCBvbiBpdCBieSBhcnJheS5sZW5ndGggLyBzaXplIHRvIGZpbGwgdGhlIGFsaWdubWVudFxuICAgIC8vIElmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSwgY3JlYXRlIGJ1ZmZlciBpbnRlcmxlYXZlZCBlbGVtZW50cy5cblxuICAgIC8vIGlmIGxlbmd0aCA9PT0gMCwgT0tcbiAgICAvLyBpZiBsZW5ndGggPT09IDEsIHB1dCBpdCBhdCB0aGUgZW5kIG9mIG91ciBzdHJ1Y3RcbiAgICAvLyBpZiBsZW5ndGggPiAxLCBjcmVhdGUgYSBidWZmZXIgaW50ZXJsZWF2ZWQgZWxlbWVudHNcbiAgICBjb25zdCBhcnJheUJpbmRpbmdzID0gT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZpbHRlcihcbiAgICAgIChiaW5kaW5nS2V5KSA9PiB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XS50eXBlLmluZGV4T2YoJ2FycmF5JykgIT09IC0xXG4gICAgKVxuXG4gICAgLy8gcHV0IHRoZSBhcnJheSBzdHJ1Y3QgYXQgdGhlIGVuZFxuICAgIGxldCBvcmRlcmVkQmluZGluZ3MgPSBPYmplY3Qua2V5cyh0aGlzLmlucHV0cykuc29ydCgoYmluZGluZ0tleUEsIGJpbmRpbmdLZXlCKSA9PiB7XG4gICAgICAvLyAwIGlmIGl0J3MgYW4gYXJyYXksIC0xIGVsc2VcbiAgICAgIGNvbnN0IGlzQmluZGluZ0FBcnJheSA9IE1hdGgubWluKDAsIHRoaXMuaW5wdXRzW2JpbmRpbmdLZXlBXS50eXBlLmluZGV4T2YoJ2FycmF5JykpXG4gICAgICBjb25zdCBpc0JpbmRpbmdCQXJyYXkgPSBNYXRoLm1pbigwLCB0aGlzLmlucHV0c1tiaW5kaW5nS2V5Ql0udHlwZS5pbmRleE9mKCdhcnJheScpKVxuXG4gICAgICByZXR1cm4gaXNCaW5kaW5nQUFycmF5IC0gaXNCaW5kaW5nQkFycmF5XG4gICAgfSlcblxuICAgIGlmIChhcnJheUJpbmRpbmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIHJlbW92ZSBpbnRlcmxlYXZlZCBhcnJheXMgZnJvbSB0aGUgb3JkZXJlZCBzdHJ1Y3Qga2V5IGFycmF5XG4gICAgICBvcmRlcmVkQmluZGluZ3MgPSBvcmRlcmVkQmluZGluZ3MuZmlsdGVyKChiaW5kaW5nS2V5KSA9PiAhYXJyYXlCaW5kaW5ncy5pbmNsdWRlcyhiaW5kaW5nS2V5KSlcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgYnVmZmVyIChub24gaW50ZXJsZWF2ZWQpIGVsZW1lbnRzXG4gICAgb3JkZXJlZEJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuXG4gICAgICBjb25zdCBidWZmZXJFbGVtZW50T3B0aW9ucyA9IHtcbiAgICAgICAgbmFtZTogdG9DYW1lbENhc2UoYmluZGluZy5uYW1lID8/IGJpbmRpbmdLZXkpLFxuICAgICAgICBrZXk6IGJpbmRpbmdLZXksXG4gICAgICAgIHR5cGU6IGJpbmRpbmcudHlwZSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNBcnJheSA9XG4gICAgICAgIGJpbmRpbmcudHlwZS5pbmRleE9mKCdhcnJheScpICE9PSAtMSAmJiAoQXJyYXkuaXNBcnJheShiaW5kaW5nLnZhbHVlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcoYmluZGluZy52YWx1ZSkpXG5cbiAgICAgIHRoaXMuYnVmZmVyRWxlbWVudHMucHVzaChcbiAgICAgICAgaXNBcnJheVxuICAgICAgICAgID8gbmV3IEJ1ZmZlckFycmF5RWxlbWVudCh7XG4gICAgICAgICAgICAgIC4uLmJ1ZmZlckVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICBhcnJheUxlbmd0aDogKGJpbmRpbmcudmFsdWUgYXMgbnVtYmVyW10pLmxlbmd0aCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBuZXcgQnVmZmVyRWxlbWVudChidWZmZXJFbGVtZW50T3B0aW9ucylcbiAgICAgIClcbiAgICB9KVxuXG4gICAgLy8gc2V0IHRoZWlyIGFsaWdubWVudHNcbiAgICB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzdGFydE9mZnNldCA9IGluZGV4ID09PSAwID8gMCA6IHRoaXMuYnVmZmVyRWxlbWVudHNbaW5kZXggLSAxXS5lbmRPZmZzZXQgKyAxXG5cbiAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0KVxuICAgIH0pXG5cbiAgICAvLyBub3cgY3JlYXRlIG91ciBpbnRlcmxlYXZlZCBidWZmZXIgZWxlbWVudHNcbiAgICBpZiAoYXJyYXlCaW5kaW5ncy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBmaXJzdCBnZXQgdGhlIHNpemVzIG9mIHRoZSBhcnJheXNcbiAgICAgIGNvbnN0IGFycmF5U2l6ZXMgPSBhcnJheUJpbmRpbmdzLm1hcCgoYmluZGluZ0tleSkgPT4ge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gdGhpcy5pbnB1dHNbYmluZGluZ0tleV1cbiAgICAgICAgY29uc3QgYnVmZmVyTGF5b3V0ID0gZ2V0QnVmZmVyTGF5b3V0KGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJykpXG5cbiAgICAgICAgcmV0dXJuIChiaW5kaW5nLnZhbHVlIGFzIG51bWJlcltdIHwgVHlwZWRBcnJheSkubGVuZ3RoIC8gYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXG4gICAgICB9KVxuXG4gICAgICAvLyBhcmUgdGhleSBhbGwgb2YgdGhlIHNhbWUgc2l6ZT9cbiAgICAgIGNvbnN0IGVxdWFsU2l6ZSA9IGFycmF5U2l6ZXMuZXZlcnkoKHNpemUsIGksIGFycmF5KSA9PiBzaXplID09PSBhcnJheVswXSlcblxuICAgICAgaWYgKGVxdWFsU2l6ZSkge1xuICAgICAgICAvLyB0aGlzIHdpbGwgaG9sZCBvdXIgaW50ZXJsZWF2ZWQgYnVmZmVyIGVsZW1lbnRzXG4gICAgICAgIGNvbnN0IGludGVybGVhdmVkQnVmZmVyRWxlbWVudHMgPSBhcnJheUJpbmRpbmdzLm1hcCgoYmluZGluZ0tleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQoe1xuICAgICAgICAgICAgbmFtZTogdG9DYW1lbENhc2UoYmluZGluZy5uYW1lID8/IGJpbmRpbmdLZXkpLFxuICAgICAgICAgICAga2V5OiBiaW5kaW5nS2V5LFxuICAgICAgICAgICAgdHlwZTogYmluZGluZy50eXBlLFxuICAgICAgICAgICAgYXJyYXlMZW5ndGg6IChiaW5kaW5nLnZhbHVlIGFzIG51bWJlcltdKS5sZW5ndGgsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBub3cgY3JlYXRlIHRlbXAgYnVmZmVyIGVsZW1lbnRzIHRoYXQgd2UnbGwgdXNlIHRvIGZpbGwgdGhlIGludGVybGVhdmVkIGJ1ZmZlciBlbGVtZW50cyBhbGlnbm1lbnRzXG4gICAgICAgIGNvbnN0IHRlbXBCdWZmZXJFbGVtZW50cyA9IGFycmF5QmluZGluZ3MubWFwKChiaW5kaW5nS2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldXG4gICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJFbGVtZW50KHtcbiAgICAgICAgICAgIG5hbWU6IHRvQ2FtZWxDYXNlKGJpbmRpbmcubmFtZSA/PyBiaW5kaW5nS2V5KSxcbiAgICAgICAgICAgIGtleTogYmluZGluZ0tleSxcbiAgICAgICAgICAgIHR5cGU6IGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJyksXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzZXQgdGVtcCBidWZmZXIgYWxpZ25tZW50cyBhcyBpZiBpdCB3YXMgcmVndWxhciBidWZmZXIgZWxlbWVudHNcbiAgICAgICAgdGVtcEJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFscmVhZHkgYnVmZmVyIGVsZW1lbnRzXG4gICAgICAgICAgICAgIC8vIGdldCBsYXN0IG9uZSBlbmQgcm93LCBhbmQgc3RhcnQgYXQgdGhlIG5leHQgcm93XG4gICAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50RnJvbVBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICByb3c6IHRoaXMuYnVmZmVyRWxlbWVudHNbdGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5hbGlnbm1lbnQuZW5kLnJvdyArIDEsXG4gICAgICAgICAgICAgICAgYnl0ZTogMCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHRlbXBCdWZmZXJFbGVtZW50c1tpbmRleCAtIDFdLmVuZE9mZnNldCArIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIG5vdyB1c2UgbGFzdCB0ZW1wIGJ1ZmZlciBlbmQgb2Zmc2V0IGFzIG91ciBpbnRlcmxlYXZlZCBhcnJheVN0cmlkZVxuICAgICAgICBjb25zdCB0b3RhbFN0cmlkZSA9XG4gICAgICAgICAgdGVtcEJ1ZmZlckVsZW1lbnRzW3RlbXBCdWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5lbmRPZmZzZXQgKyAxIC0gdGVtcEJ1ZmZlckVsZW1lbnRzWzBdLnN0YXJ0T2Zmc2V0XG5cbiAgICAgICAgLy8gZmluYWxseSwgc2V0IGludGVybGVhdmVkIGJ1ZmZlciBlbGVtZW50cyBhbGlnbm1lbnRcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50cy5mb3JFYWNoKChidWZmZXJFbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHRlbXBCdWZmZXJFbGVtZW50c1tpbmRleF0uc3RhcnRPZmZzZXQsIHRvdGFsU3RyaWRlKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGFkZCB0byBvdXIgYnVmZmVyIGVsZW1lbnRzIGFycmF5XG4gICAgICAgIHRoaXMuYnVmZmVyRWxlbWVudHMgPSBbLi4udGhpcy5idWZmZXJFbGVtZW50cywgLi4uaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50c11cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93V2FybmluZyhcbiAgICAgICAgICBgQnVmZmVyQmluZGluZzogXCIke1xuICAgICAgICAgICAgdGhpcy5sYWJlbFxuICAgICAgICAgIH1cIiBjb250YWlucyBtdWx0aXBsZSBhcnJheSBpbnB1dHMgdGhhdCBzaG91bGQgdXNlIGFuIGludGVybGVhdmVkIGFycmF5LCBidXQgdGhlaXIgc2l6ZXMgZG8gbm90IG1hdGNoLiBUaGVzZSBpbnB1dHMgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBCdWZmZXJCaW5kaW5nOiBcIiR7YXJyYXlCaW5kaW5ncy5qb2luKFxuICAgICAgICAgICAgJywgJ1xuICAgICAgICAgICl9XCJgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyU2l6ZSA9IHRoaXMuYnVmZmVyRWxlbWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuYnVmZmVyRWxlbWVudHNbdGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5wYWRkZWRCeXRlQ291bnRcbiAgICAgIDogMFxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmFycmF5QnVmZmVyU2l6ZSlcbiAgICB0aGlzLmFycmF5VmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLmFycmF5QnVmZmVyLCAwLCB0aGlzLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpXG5cbiAgICB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQpID0+IHtcbiAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0Vmlldyh0aGlzLmFycmF5QnVmZmVyLCB0aGlzLmFycmF5VmlldylcbiAgICB9KVxuXG4gICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0aGlzLmFycmF5QnVmZmVyU2l6ZSA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFdHU0wgY29kZSBzbmlwcGV0IHRvIGFwcGVuZCB0byB0aGUgc2hhZGVycyBjb2RlLiBJdCBjb25zaXN0cyBvZiB2YXJpYWJsZSAoYW5kIFN0cnVjdCBzdHJ1Y3R1cmVzIGlmIG5lZWRlZCkgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgc2V0V0dTTEZyYWdtZW50KCkge1xuICAgIGNvbnN0IGtlYmFiQ2FzZUxhYmVsID0gdG9LZWJhYkNhc2UodGhpcy5sYWJlbClcblxuICAgIGlmICh0aGlzLnVzZVN0cnVjdCkge1xuICAgICAgY29uc3QgYnVmZmVyRWxlbWVudHMgPSB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZpbHRlcihcbiAgICAgICAgKGJ1ZmZlckVsZW1lbnQpID0+ICEoYnVmZmVyRWxlbWVudCBpbnN0YW5jZW9mIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50KVxuICAgICAgKVxuICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50cyA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmlsdGVyKFxuICAgICAgICAoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudCBpbnN0YW5jZW9mIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50XG4gICAgICApIGFzIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50W11cblxuICAgICAgaWYgKGludGVybGVhdmVkQnVmZmVyRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGFycmF5TGVuZ3RoID0gdGhpcy5iaW5kaW5nVHlwZSA9PT0gJ3VuaWZvcm0nID8gYCwgJHtpbnRlcmxlYXZlZEJ1ZmZlckVsZW1lbnRzWzBdLm51bUVsZW1lbnRzfWAgOiAnJ1xuXG4gICAgICAgIGlmIChidWZmZXJFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLndnc2xTdHJ1Y3RGcmFnbWVudCA9IGBzdHJ1Y3QgJHtrZWJhYkNhc2VMYWJlbH1FbGVtZW50IHtcXG5cXHQke2ludGVybGVhdmVkQnVmZmVyRWxlbWVudHNcbiAgICAgICAgICAgIC5tYXAoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSArICc6ICcgKyBiaW5kaW5nLnR5cGUucmVwbGFjZSgnYXJyYXknLCAnJykucmVwbGFjZSgnPCcsICcnKS5yZXBsYWNlKCc+JywgJycpKVxuICAgICAgICAgICAgLmpvaW4oJyxcXG5cXHQnKX1cbn07XFxuXFxuYFxuXG4gICAgICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXJTdHJ1Y3REZWNsYXJhdGlvbiA9IGAke3RoaXMubmFtZX1FbGVtZW50OiBhcnJheTwke2tlYmFiQ2FzZUxhYmVsfUVsZW1lbnQke2FycmF5TGVuZ3RofT4sYFxuXG4gICAgICAgICAgdGhpcy53Z3NsU3RydWN0RnJhZ21lbnQgKz0gYHN0cnVjdCAke2tlYmFiQ2FzZUxhYmVsfSB7XFxuXFx0JHtidWZmZXJFbGVtZW50c1xuICAgICAgICAgICAgLm1hcCgoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudC5uYW1lICsgJzogJyArIGJ1ZmZlckVsZW1lbnQudHlwZSlcbiAgICAgICAgICAgIC5qb2luKCcsXFxuXFx0Jyl9XG5cXHQke2ludGVybGVhdmVkQnVmZmVyU3RydWN0RGVjbGFyYXRpb259XG59O2BcblxuICAgICAgICAgIGNvbnN0IHZhclR5cGUgPSBnZXRCaW5kaW5nV0dTTFZhclR5cGUodGhpcylcbiAgICAgICAgICB0aGlzLndnc2xHcm91cEZyYWdtZW50ID0gW2Ake3ZhclR5cGV9ICR7dGhpcy5uYW1lfTogJHtrZWJhYkNhc2VMYWJlbH07YF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLndnc2xTdHJ1Y3RGcmFnbWVudCA9IGBzdHJ1Y3QgJHtrZWJhYkNhc2VMYWJlbH0ge1xcblxcdCR7dGhpcy5idWZmZXJFbGVtZW50c1xuICAgICAgICAgICAgLm1hcCgoYmluZGluZykgPT4gYmluZGluZy5uYW1lICsgJzogJyArIGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJykpXG4gICAgICAgICAgICAuam9pbignLFxcblxcdCcpfVxufTtgXG5cbiAgICAgICAgICBjb25zdCB2YXJUeXBlID0gZ2V0QmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpXG4gICAgICAgICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHt2YXJUeXBlfSAke3RoaXMubmFtZX06IGFycmF5PCR7a2ViYWJDYXNlTGFiZWx9JHthcnJheUxlbmd0aH0+O2BdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMud2dzbFN0cnVjdEZyYWdtZW50ID0gYHN0cnVjdCAke2tlYmFiQ2FzZUxhYmVsfSB7XFxuXFx0JHt0aGlzLmJ1ZmZlckVsZW1lbnRzXG4gICAgICAgICAgLm1hcCgoYmluZGluZykgPT4ge1xuICAgICAgICAgICAgLy8gbm93IGFkZCBhcnJheSBsZW5ndGggaWYgbmVlZGVkXG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nVHlwZSA9XG4gICAgICAgICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPT09ICd1bmlmb3JtJyAmJiAnbnVtRWxlbWVudHMnIGluIGJpbmRpbmdcbiAgICAgICAgICAgICAgICA/IGBhcnJheTwke2JpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJyl9LCAke1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nLm51bUVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICB9PmBcbiAgICAgICAgICAgICAgICA6IGJpbmRpbmcudHlwZVxuICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmcubmFtZSArICc6ICcgKyBiaW5kaW5nVHlwZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJyxcXG5cXHQnKX1cbn07YFxuXG4gICAgICAgIGNvbnN0IHZhclR5cGUgPSBnZXRCaW5kaW5nV0dTTFZhclR5cGUodGhpcylcbiAgICAgICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHt2YXJUeXBlfSAke3RoaXMubmFtZX06ICR7a2ViYWJDYXNlTGFiZWx9O2BdXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2dzbFN0cnVjdEZyYWdtZW50ID0gJydcbiAgICAgIHRoaXMud2dzbEdyb3VwRnJhZ21lbnQgPSB0aGlzLmJ1ZmZlckVsZW1lbnRzLm1hcCgoYmluZGluZykgPT4ge1xuICAgICAgICBjb25zdCB2YXJUeXBlID0gZ2V0QmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpXG4gICAgICAgIHJldHVybiBgJHt2YXJUeXBlfSAke2JpbmRpbmcubmFtZX06ICR7YmluZGluZy50eXBlfTtgXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBiaW5kaW5nIHNob3VsZFVwZGF0ZSBmbGFnIHRvIHRydWUgdG8gdXBkYXRlIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5IGR1cmluZyBuZXh0IHJlbmRlci5cbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZS9rZXkgdG8gdXBkYXRlXG4gICAqL1xuICBzaG91bGRVcGRhdGVCaW5kaW5nKGJpbmRpbmdOYW1lID0gJycpIHtcbiAgICBjb25zdCBiaW5kaW5nS2V5ID0gT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZpbmQoKGJpbmRpbmdLZXkpID0+IHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldLm5hbWUgPT09IGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKGJpbmRpbmdLZXkpIHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldLnNob3VsZFVwZGF0ZSA9IHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgTWF0ZXJpYWwgcmVuZGVyIGNhbGwuXG4gICAqIElmIGFueSBvZiB0aGUge0BsaW5rIGlucHV0c30gaGFzIGNoYW5nZWQsIHJ1biBpdHMgb25CZWZvcmVVcGRhdGUgY2FsbGJhY2sgdGhlbiB1cGRhdGVzIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5LlxuICAgKiBBbHNvIHNldHMgdGhlIHtAbGluayBzaG91bGRVcGRhdGV9IHByb3BlcnR5IHRvIHRydWUgc28gdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IEJpbmRHcm91cH0ga25vd3MgaXQgd2lsbCBuZWVkIHRvIHVwZGF0ZSB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0uXG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuICAgICAgY29uc3QgYnVmZmVyRWxlbWVudCA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmluZCgoYnVmZmVyRWwpID0+IGJ1ZmZlckVsLmtleSA9PT0gYmluZGluZ0tleSlcblxuICAgICAgaWYgKGJpbmRpbmcuc2hvdWxkVXBkYXRlICYmIGJ1ZmZlckVsZW1lbnQpIHtcbiAgICAgICAgYmluZGluZy5vbkJlZm9yZVVwZGF0ZSAmJiBiaW5kaW5nLm9uQmVmb3JlVXBkYXRlKClcbiAgICAgICAgLy8gd2UncmUgZ29pbmcgdG8gZGlyZWN0bHkgdXBkYXRlIHRoZSBhcnJheUJ1ZmZlciBmcm9tIHRoZSBidWZmZXIgZWxlbWVudCB1cGRhdGUgbWV0aG9kXG4gICAgICAgIGJ1ZmZlckVsZW1lbnQudXBkYXRlKGJpbmRpbmcudmFsdWUpXG5cbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXG4gICAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgdGhlIGRhdGEgY29ycmVzcG9uZGluZyB0byBhIHNwZWNpZmljIHtAbGluayBCdWZmZXJFbGVtZW50fSBmcm9tIGEge0BsaW5rIEZsb2F0MzJBcnJheX0gaG9sZGluZyB0aGUge0BsaW5rIEJ1ZmZlckJpbmRpbmcjYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gZGF0YSBvZiB0aGlzIHtAbGluayBCdWZmZXJCaW5kaW5nfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBleHRyYWN0IHRoZSBkYXRhXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLnJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5idWZmZXJFbGVtZW50TmFtZSAtIG5hbWUgb2YgdGhlIHtAbGluayBCdWZmZXJFbGVtZW50fSB0byB1c2UgdG8gZXh0cmFjdCB0aGUgZGF0YVxuICAgKiBAcmV0dXJucyAtIGV4dHJhY3RlZCBkYXRhIGZyb20gdGhlIHtAbGluayBGbG9hdDMyQXJyYXl9XG4gICAqL1xuICBleHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHtcbiAgICByZXN1bHQsXG4gICAgYnVmZmVyRWxlbWVudE5hbWUsXG4gIH06IHtcbiAgICByZXN1bHQ6IEZsb2F0MzJBcnJheVxuICAgIGJ1ZmZlckVsZW1lbnROYW1lOiBCdWZmZXJFbGVtZW50WyduYW1lJ11cbiAgfSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgYnVmZmVyRWxlbWVudCA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmluZCgoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudC5uYW1lID09PSBidWZmZXJFbGVtZW50TmFtZSlcbiAgICBpZiAoYnVmZmVyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGJ1ZmZlckVsZW1lbnQuZXh0cmFjdERhdGFGcm9tQnVmZmVyUmVzdWx0KHJlc3VsdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVmZmVyQmluZGluZywgQnVmZmVyQmluZGluZ1BhcmFtcyB9IGZyb20gJy4vQnVmZmVyQmluZGluZydcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFdyaXRhYmxlQnVmZmVyQmluZGluZ31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXcml0YWJsZUJ1ZmZlckJpbmRpbmdQYXJhbXMgZXh0ZW5kcyBCdWZmZXJCaW5kaW5nUGFyYW1zIHtcbiAgLyoqIFdoZXRoZXIgd2hlIHNob3VsZCBhdXRvbWF0aWNhbGx5IGNvcHkgdGhlIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmcjYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gY29udGVudCBpbnRvIG91ciB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nI3Jlc3VsdEJ1ZmZlciB8IHJlc3VsdCBHUFUgYnVmZmVyfSAqL1xuICBzaG91bGRDb3B5UmVzdWx0PzogYm9vbGVhblxufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEJ1ZmZlckJpbmRpbmd9IHRoYXQgY2FuIGhvbGQgcmVhZC93cml0ZSBzdG9yYWdlIGJpbmRpbmdzIGFsb25nIHdpdGggYSB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nI3Jlc3VsdEJ1ZmZlciB8IHJlc3VsdCBHUFUgYnVmZmVyfSB0aGF0IGNhbiBiZSB1c2VkIHRvIGdldCBkYXRhIGJhY2sgZnJvbSB0aGUgR1BVLlxuICpcbiAqIE5vdGUgdGhhdCBpdCBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IEJpbmRHcm91cH0gd2hlbiBhIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyNzdG9yYWdlcyB8IHN0b3JhZ2VzIGlucHV0fSBoYXMgaXRzIHtAbGluayBCdWZmZXJCaW5kaW5nUGFyYW1zI2FjY2VzcyB8IGFjY2Vzc30gcHJvcGVydHkgc2V0IHRvIGBcInJlYWRfd3JpdGVcImAuXG4gKi9cbmV4cG9ydCBjbGFzcyBXcml0YWJsZUJ1ZmZlckJpbmRpbmcgZXh0ZW5kcyBCdWZmZXJCaW5kaW5nIHtcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdoZSBzaG91bGQgYXV0b21hdGljYWxseSBjb3B5IHRoZSB7QGxpbmsgYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gY29udGVudCBpbnRvIG91ciB7QGxpbmsgcmVzdWx0QnVmZmVyIHwgcmVzdWx0IEdQVSBidWZmZXJ9ICovXG4gIHNob3VsZENvcHlSZXN1bHQ6IGJvb2xlYW5cbiAgLyoqIFRoZSByZXN1bHQgR1BVQnVmZmVyICovXG4gIHJlc3VsdEJ1ZmZlcjogR1BVQnVmZmVyIHwgbnVsbFxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmd9ICovXG4gIG9wdGlvbnM6IFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtc1xuXG4gIC8qKlxuICAgKiBXcml0YWJsZUJ1ZmZlckJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmd9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbGFiZWwgPSAnV29yaycsXG4gICAgbmFtZSA9ICd3b3JrJyxcbiAgICBiaW5kaW5nVHlwZSxcbiAgICB1c2VTdHJ1Y3QgPSB0cnVlLFxuICAgIHN0cnVjdCA9IHt9LFxuICAgIHZpc2liaWxpdHksXG4gICAgYWNjZXNzID0gJ3JlYWRfd3JpdGUnLFxuICAgIHNob3VsZENvcHlSZXN1bHQgPSBmYWxzZSxcbiAgfTogV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zKSB7XG4gICAgYmluZGluZ1R5cGUgPSAnc3RvcmFnZSdcbiAgICB2aXNpYmlsaXR5ID0gJ2NvbXB1dGUnXG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdXNlU3RydWN0LCBzdHJ1Y3Q6IHN0cnVjdCwgdmlzaWJpbGl0eSwgYWNjZXNzIH0pXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBzaG91bGRDb3B5UmVzdWx0LFxuICAgIH1cblxuICAgIHRoaXMuc2hvdWxkQ29weVJlc3VsdCA9IHNob3VsZENvcHlSZXN1bHRcblxuICAgIC8vIGNhbiBiZSB1c2VkIGFzIG91ciBidWZmZXIgY29weSBkZXN0aW5hdGlvblxuICAgIHRoaXMucmVzdWx0QnVmZmVyID0gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgZ2VuZXJhdGVVVUlELCB0b0tlYmFiQ2FzZSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xyXG5pbXBvcnQgeyBXcml0YWJsZUJ1ZmZlckJpbmRpbmcsIFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtcyB9IGZyb20gJy4uL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZydcclxuaW1wb3J0IHsgQnVmZmVyQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcnXHJcbmltcG9ydCB7XHJcbiAgQWxsb3dlZEJpbmRHcm91cHMsXHJcbiAgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQsXHJcbiAgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQsXHJcbiAgQmluZEdyb3VwRW50cmllcyxcclxuICBCaW5kR3JvdXBQYXJhbXMsXHJcbiAgUmVhZE9ubHlJbnB1dEJpbmRpbmdzLFxyXG59IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXHJcbmltcG9ydCB7IFRleHR1cmVCaW5kR3JvdXBQYXJhbXMgfSBmcm9tICcuL1RleHR1cmVCaW5kR3JvdXAnXHJcbmltcG9ydCB7IEJpbmRpbmdUeXBlIH0gZnJvbSAnLi4vYmluZGluZ3MvQmluZGluZydcclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGhhbmRsZSBhbGwgaW5wdXRzIGRhdGEgc2VudCB0byB0aGUgR1BVLjxicj5cclxuICogSW4gV2ViR1BVLCBkYXRhIChidWZmZXJzLCB0ZXh0dXJlcyBvciBzYW1wbGVycywgY2FsbGVkIGJpbmRpbmdzKSBhcmUgb3JnYW5pc2VkIGJ5IGJpbmQgZ3JvdXBzLCBjb250YWluaW5nIHRob3NlIGJpbmRpbmdzLlxyXG4gKlxyXG4gKiAjIyBCaW5kaW5nc1xyXG4gKlxyXG4gKiBBIHtAbGluayBCaW5kR3JvdXB9IGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBlYWNoIHtAbGluayBCdWZmZXJCaW5kaW5nfSB7QGxpbmsgR1BVQnVmZmVyfSBhbmQgdGhlbiB0aGUge0BsaW5rIEdQVUJpbmRHcm91cH0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IHRoYXQgYXJlIHVzZWQgdG8gY3JlYXRlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IG9yIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0uPGJyPlxyXG4gKiBUaG9zZSBhcmUgZ2VuZXJhbGx5IGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSB0aGUge0BsaW5rIGNvcmUvbWF0ZXJpYWxzL01hdGVyaWFsLk1hdGVyaWFsIHwgTWF0ZXJpYWx9IHVzaW5nIHRoaXMge0BsaW5rIEJpbmRHcm91cH0uIElmIHlvdSBuZWVkIHRvIG1hbnVhbGx5IGNyZWF0ZSB0aGVtLCB5b3Ugd2lsbCBoYXZlIHRvIGNhbGwgaXRzIHtAbGluayBCaW5kR3JvdXAjY3JlYXRlQmluZEdyb3VwIHwgYGNyZWF0ZUJpbmRHcm91cCgpYCBtZXRob2R9XHJcbiAqXHJcbiAqICMjIyBTYW1wbGVycyBhbmQgdGV4dHVyZXNcclxuICpcclxuICogQSB7QGxpbmsgQmluZEdyb3VwfSBpcyBiZXN0IHN1aXRlZCB0byBoYW5kbGUge0BsaW5rIEdQVUJ1ZmZlcn0gb25seSBiaW5kaW5ncy4gSWYgeW91IG5lZWQgdG8gaGFuZGxlIHtAbGluayBHUFVTYW1wbGVyfSwgYSB7QGxpbmsgR1BVVGV4dHVyZX0gb3IgYSB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfSwgeW91IHNob3VsZCB1c2UgYSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL1RleHR1cmVCaW5kR3JvdXAuVGV4dHVyZUJpbmRHcm91cCB8IFRleHR1cmVCaW5kR3JvdXB9IGluc3RlYWQuXHJcbiAqXHJcbiAqICMjIyBVcGRhdGluZyBhIEdQVUJpbmRHcm91cCBvciBHUFVCaW5kR3JvdXBMYXlvdXRcclxuICpcclxuICogRWFjaCB0aW1lIG9uZSBvZiB0aGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HUFVEZXZpY2UvY3JlYXRlQmluZEdyb3VwI3Jlc291cmNlIHwgYmluZGluZyByZXNvdXJjZX0gY2hhbmdlcywgaXRzIHtAbGluayBCaW5kR3JvdXAjYmluZEdyb3VwIHwgYmluZEdyb3VwfSB3aWxsIGJlIHJlY3JlYXRlZCAodXN1YWxseSwgd2hlbiBhIHtAbGluayBHUFVUZXh0dXJlfSBpcyB1cGxvYWRlZCkuPGJyPlxyXG4gKiBFYWNoIHRpbWUgb25lIG9mIHRoZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dQVURldmljZS9jcmVhdGVCaW5kR3JvdXBMYXlvdXQjcmVzb3VyY2VfbGF5b3V0X29iamVjdHMgfCBiaW5kaW5nIHJlc291cmNlIGxheW91dH0gY2hhbmdlcywgaXRzIHtAbGluayBCaW5kR3JvdXAjYmluZEdyb3VwTGF5b3V0IHwgYmluZEdyb3VwTGF5b3V0fSBhbmQge0BsaW5rIEJpbmRHcm91cCNiaW5kR3JvdXAgfCBiaW5kR3JvdXB9IHdpbGwgYmUgcmVjcmVhdGVkLCBhbmQgdGhlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IG9yIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0gd2lsbCBiZSByZWNyZWF0ZWQgYXMgd2VsbC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcclxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xyXG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcclxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xyXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxyXG4gKlxyXG4gKiBjb25zdCBiaW5kR3JvdXAgPSBuZXcgQmluZEdyb3VwKGdwdUN1cnRhaW5zLCB7XHJcbiAqICAgbGFiZWw6ICdNeSBiaW5kIGdyb3VwJyxcclxuICogICB1bmlmb3Jtczoge1xyXG4gKiAgICAgcGFyYW1zOiB7XHJcbiAqICAgICAgIHN0cnVjdDoge1xyXG4gKiAgICAgICAgIG9wYWNpdHk6IHtcclxuICogICAgICAgICAgIHR5cGU6ICdmMzInLFxyXG4gKiAgICAgICAgICAgdmFsdWU6IDEsXHJcbiAqICAgICAgICAgfSxcclxuICogICAgICAgICBtb3VzZVBvc2l0aW9uOiB7XHJcbiAqICAgICAgICAgICB0eXBlOiAndmVjMmYnLFxyXG4gKiAgICAgICAgICAgdmFsdWU6IG5ldyBWZWMyKCksXHJcbiAqICAgICAgICAgfSxcclxuICogICAgICAgfSxcclxuICogICAgIH0sXHJcbiAqICAgfSxcclxuICogfSlcclxuICpcclxuICogLy8gY3JlYXRlIHRoZSBHUFUgYnVmZmVyLCBiaW5kR3JvdXBMYXlvdXQgYW5kIGJpbmRHcm91cFxyXG4gKiBiaW5kR3JvdXAuY3JlYXRlQmluZEdyb3VwKClcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQmluZEdyb3VwIHtcclxuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBCaW5kR3JvdXB9ICovXHJcbiAgdHlwZTogc3RyaW5nXHJcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoZSB7QGxpbmsgQmluZEdyb3VwfSAqL1xyXG4gIHV1aWQ6IHN0cmluZ1xyXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXHJcbiAgcmVuZGVyZXI6IFJlbmRlcmVyXHJcbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQmluZEdyb3VwfSAqL1xyXG4gIG9wdGlvbnM6IFRleHR1cmVCaW5kR3JvdXBQYXJhbXNcclxuICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgQmluZEdyb3VwfSwgdXNlZCB0byBsaW5rIHN0cnVjdCBpbiB0aGUgc2hhZGVycyAqL1xyXG4gIGluZGV4OiBudW1iZXJcclxuXHJcbiAgLyoqIExpc3Qgb2Yge0BsaW5rIEJpbmRHcm91cEJpbmRpbmdFbGVtZW50IHwgYmluZGluZ3N9IChidWZmZXJzLCB0ZXh0dXJlLCBldGMuKSBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIEJpbmRHcm91cH0gKi9cclxuICBiaW5kaW5nczogQmluZEdyb3VwQmluZGluZ0VsZW1lbnRbXVxyXG5cclxuICAvKiogT3VyIHtAbGluayBCaW5kR3JvdXB9IHtAbGluayBCaW5kR3JvdXBFbnRyaWVzIHwgZW50cmllc30gb2JqZWN0cyAqL1xyXG4gIGVudHJpZXM6IEJpbmRHcm91cEVudHJpZXNcclxuXHJcbiAgLyoqIE91ciB7QGxpbmsgQmluZEdyb3VwfXtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9ICovXHJcbiAgYmluZEdyb3VwTGF5b3V0OiBudWxsIHwgR1BVQmluZEdyb3VwTGF5b3V0XHJcbiAgLyoqIE91ciB7QGxpbmsgQmluZEdyb3VwfSB7QGxpbmsgR1BVQmluZEdyb3VwfSAqL1xyXG4gIGJpbmRHcm91cDogbnVsbCB8IEdQVUJpbmRHcm91cFxyXG5cclxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgd2UgbmVlZCB0byBmbHVzaCBhbmQgcmVjcmVhdGUgdGhlIHBpcGVsaW5lIHVzaW5nIHRoaXMge0BsaW5rIEJpbmRHcm91cH0gcyovXHJcbiAgbmVlZHNQaXBlbGluZUZsdXNoOiBib29sZWFuXHJcblxyXG4gIC8qKlxyXG4gICAqIEJpbmRHcm91cCBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIGEge0BsaW5rIFJlbmRlcmVyfSBjbGFzcyBvYmplY3Qgb3IgYSB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdFxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJpbmRHcm91cFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXHJcbiAgICB7IGxhYmVsID0gJ0JpbmRHcm91cCcsIGluZGV4ID0gMCwgYmluZGluZ3MgPSBbXSwgdW5pZm9ybXMsIHN0b3JhZ2VzIH06IEJpbmRHcm91cFBhcmFtcyA9IHt9XHJcbiAgKSB7XHJcbiAgICB0aGlzLnR5cGUgPSAnQmluZEdyb3VwJ1xyXG5cclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXHJcblxyXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdGhpcy50eXBlKVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICBsYWJlbCxcclxuICAgICAgaW5kZXgsXHJcbiAgICAgIGJpbmRpbmdzLFxyXG4gICAgICAuLi4odW5pZm9ybXMgJiYgeyB1bmlmb3JtcyB9KSxcclxuICAgICAgLi4uKHN0b3JhZ2VzICYmIHsgc3RvcmFnZXMgfSksXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4XHJcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxyXG5cclxuICAgIHRoaXMuYmluZGluZ3MgPSBbXVxyXG4gICAgYmluZGluZ3MubGVuZ3RoICYmIHRoaXMuYWRkQmluZGluZ3MoYmluZGluZ3MpXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnVuaWZvcm1zIHx8IHRoaXMub3B0aW9ucy5zdG9yYWdlcykgdGhpcy5zZXRJbnB1dEJpbmRpbmdzKClcclxuXHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcblxyXG4gICAgdGhpcy5iaW5kR3JvdXBMYXlvdXQgPSBudWxsXHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IG51bGxcclxuXHJcbiAgICAvLyBpZiB3ZSBldmVyIHVwZGF0ZSBvdXIgYmluZCBncm91cCBsYXlvdXRcclxuICAgIC8vIHdlIHdpbGwgaGF2ZSB0byByZWNyZWF0ZSB0aGUgd2hvbGUgcGlwZWxpbmUgYWdhaW5cclxuICAgIHRoaXMubmVlZHNQaXBlbGluZUZsdXNoID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLmFkZEJpbmRHcm91cCh0aGlzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBvdXIge0BsaW5rIEJpbmRHcm91cCNpbmRleCB8IGJpbmQgZ3JvdXAgaW5kZXh9XHJcbiAgICogQHBhcmFtIGluZGV4IC0ge0BsaW5rIEJpbmRHcm91cCNpbmRleCB8IGJpbmQgZ3JvdXAgaW5kZXh9IHRvIHNldFxyXG4gICAqL1xyXG4gIHNldEluZGV4KGluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBhcnJheSBvZiBhbHJlYWR5IGNyZWF0ZWQge0BsaW5rIGJpbmRpbmdzfSAoYnVmZmVycywgdGV4dHVyZSwgZXRjLikgdG8gdGhlIHtAbGluayBiaW5kaW5nc30gYXJyYXlcclxuICAgKiBAcGFyYW0gYmluZGluZ3MgLSB7QGxpbmsgYmluZGluZ3N9IHRvIGFkZFxyXG4gICAqL1xyXG4gIGFkZEJpbmRpbmdzKGJpbmRpbmdzOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdID0gW10pIHtcclxuICAgIHRoaXMuYmluZGluZ3MgPSBbLi4udGhpcy5iaW5kaW5ncywgLi4uYmluZGluZ3NdXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFuIGFscmVhZHkgY3JlYXRlZCB7QGxpbmsgYmluZGluZ3N9IChidWZmZXJzLCB0ZXh0dXJlLCBldGMuKSB0byB0aGUge0BsaW5rIGJpbmRpbmdzfSBhcnJheVxyXG4gICAqIEBwYXJhbSBiaW5kaW5nIC0gYmluZGluZyB0byBhZGRcclxuICAgKi9cclxuICBhZGRCaW5kaW5nKGJpbmRpbmc6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50KSB7XHJcbiAgICB0aGlzLmJpbmRpbmdzLnB1c2goYmluZGluZylcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgQmluZGluZ3MgYmFzZWQgb24gYSBsaXN0IG9mIGlucHV0c1xyXG4gICAqIEBwYXJhbSBiaW5kaW5nVHlwZSAtIHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyNiaW5kaW5nVHlwZSB8IGJpbmRpbmcgdHlwZX1cclxuICAgKiBAcGFyYW0gaW5wdXRzIC0ge0BsaW5rIFJlYWRPbmx5SW5wdXRCaW5kaW5ncyB8IGlucHV0cyAodW5pZm9ybSBvciBzdG9yYWdlKX0gdGhhdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIHRoZSBiaW5kaW5nXHJcbiAgICogQHJldHVybnMgLSBhIHtAbGluayBiaW5kaW5nc30gYXJyYXlcclxuICAgKi9cclxuICBjcmVhdGVJbnB1dEJpbmRpbmdzKFxyXG4gICAgYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlID0gJ3VuaWZvcm0nLFxyXG4gICAgaW5wdXRzOiBSZWFkT25seUlucHV0QmluZGluZ3MgPSB7fVxyXG4gICk6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50W10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgLi4uT2JqZWN0LmtleXMoaW5wdXRzKS5tYXAoKGlucHV0S2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGlucHV0c1tpbnB1dEtleV0gYXMgV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zXHJcblxyXG4gICAgICAgIGNvbnN0IGJpbmRpbmdQYXJhbXM6IFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtcyA9IHtcclxuICAgICAgICAgIGxhYmVsOiB0b0tlYmFiQ2FzZShiaW5kaW5nLmxhYmVsIHx8IGlucHV0S2V5KSxcclxuICAgICAgICAgIG5hbWU6IGlucHV0S2V5LFxyXG4gICAgICAgICAgYmluZGluZ1R5cGUsXHJcbiAgICAgICAgICB1c2VTdHJ1Y3Q6IHRydWUsIC8vIGJ5IGRlZmF1bHRcclxuICAgICAgICAgIHZpc2liaWxpdHk6IGJpbmRpbmcuYWNjZXNzID09PSAncmVhZF93cml0ZScgPyAnY29tcHV0ZScgOiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgICAgICBhY2Nlc3M6IGJpbmRpbmcuYWNjZXNzID8/ICdyZWFkJywgLy8gcmVhZCBieSBkZWZhdWx0XHJcbiAgICAgICAgICBzdHJ1Y3Q6IGJpbmRpbmcuc3RydWN0LFxyXG4gICAgICAgICAgLi4uKGJpbmRpbmcuc2hvdWxkQ29weVJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHsgc2hvdWxkQ29weVJlc3VsdDogYmluZGluZy5zaG91bGRDb3B5UmVzdWx0IH0pLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yID0gYmluZGluZ1BhcmFtcy5hY2Nlc3MgPT09ICdyZWFkX3dyaXRlJyA/IFdyaXRhYmxlQnVmZmVyQmluZGluZyA6IEJ1ZmZlckJpbmRpbmdcclxuXHJcbiAgICAgICAgcmV0dXJuIGJpbmRpbmcudXNlU3RydWN0ICE9PSBmYWxzZVxyXG4gICAgICAgICAgPyBuZXcgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yKGJpbmRpbmdQYXJhbXMpXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKGJpbmRpbmcuc3RydWN0KS5tYXAoKGJpbmRpbmdLZXkpID0+IHtcclxuICAgICAgICAgICAgICBiaW5kaW5nUGFyYW1zLmxhYmVsID0gdG9LZWJhYkNhc2UoYmluZGluZy5sYWJlbCA/IGJpbmRpbmcubGFiZWwgKyBiaW5kaW5nS2V5IDogaW5wdXRLZXkgKyBiaW5kaW5nS2V5KVxyXG4gICAgICAgICAgICAgIGJpbmRpbmdQYXJhbXMubmFtZSA9IGlucHV0S2V5ICsgYmluZGluZ0tleVxyXG4gICAgICAgICAgICAgIGJpbmRpbmdQYXJhbXMudXNlU3RydWN0ID0gZmFsc2VcclxuICAgICAgICAgICAgICBiaW5kaW5nUGFyYW1zLnN0cnVjdCA9IHsgW2JpbmRpbmdLZXldOiBiaW5kaW5nLnN0cnVjdFtiaW5kaW5nS2V5XSB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yKGJpbmRpbmdQYXJhbXMpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgXS5mbGF0KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbmQgYWRkcyB7QGxpbmsgYmluZGluZ3N9IGJhc2VkIG9uIGlucHV0cyBwcm92aWRlZCB1cG9uIGNyZWF0aW9uXHJcbiAgICovXHJcbiAgc2V0SW5wdXRCaW5kaW5ncygpIHtcclxuICAgIHRoaXMuYWRkQmluZGluZ3MoW1xyXG4gICAgICAuLi50aGlzLmNyZWF0ZUlucHV0QmluZGluZ3MoJ3VuaWZvcm0nLCB0aGlzLm9wdGlvbnMudW5pZm9ybXMpLFxyXG4gICAgICAuLi50aGlzLmNyZWF0ZUlucHV0QmluZGluZ3MoJ3N0b3JhZ2UnLCB0aGlzLm9wdGlvbnMuc3RvcmFnZXMpLFxyXG4gICAgXSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIHRoZSBHUFUgYmluZCBncm91cCBpcyByZWFkeSB0byBiZSBjcmVhdGVkXHJcbiAgICogSXQgY2FuIGJlIGNyZWF0ZWQgaWYgaXQgaGFzIHtAbGluayBiaW5kaW5nc30gYW5kIGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldFxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzaG91bGRDcmVhdGVCaW5kR3JvdXAoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gIXRoaXMuYmluZEdyb3VwICYmICEhdGhpcy5iaW5kaW5ncy5sZW5ndGhcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IG91ciB7QGxpbmsgQmluZEdyb3VwfSB7QGxpbmsgZW50cmllc31cclxuICAgKi9cclxuICByZXNldEVudHJpZXMoKSB7XHJcbiAgICB0aGlzLmVudHJpZXMgPSB7XHJcbiAgICAgIGJpbmRHcm91cExheW91dDogW10sXHJcbiAgICAgIGJpbmRHcm91cDogW10sXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgdGhlIEdQVSBidWZmZXJzLCB7QGxpbmsgYmluZGluZ3N9LCB7QGxpbmsgZW50cmllc30sIHtAbGluayBiaW5kR3JvdXBMYXlvdXR9IGFuZCB7QGxpbmsgYmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNyZWF0ZUJpbmRHcm91cCgpIHtcclxuICAgIHRoaXMuZmlsbEVudHJpZXMoKVxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXBMYXlvdXQoKVxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXAoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBCaW5kR3JvdXAjZW50cmllcy5iaW5kR3JvdXAgfCBiaW5kR3JvdXAgZW50cmllc30sIHJlY3JlYXRlcyB0aGVtIGFuZCB0aGVuIHJlY3JlYXRlIHRoZSB7QGxpbmsgQmluZEdyb3VwI2JpbmRHcm91cCB8IEdQVSBiaW5kIGdyb3VwfVxyXG4gICAqL1xyXG4gIHJlc2V0QmluZEdyb3VwKCkge1xyXG4gICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cCA9IFtdXHJcbiAgICB0aGlzLmJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+IHtcclxuICAgICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiB0aGlzLmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXAoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBCaW5kR3JvdXAjZW50cmllcy5iaW5kR3JvdXBMYXlvdXQgfCBiaW5kR3JvdXBMYXlvdXQgZW50cmllc30sIHJlY3JlYXRlcyB0aGVtIGFuZCB0aGVuIHJlY3JlYXRlIHRoZSB7QGxpbmsgQmluZEdyb3VwI2JpbmRHcm91cExheW91dCB8IEdQVSBiaW5kIGdyb3VwIGxheW91dH1cclxuICAgKi9cclxuICByZXNldEJpbmRHcm91cExheW91dCgpIHtcclxuICAgIHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQgPSBbXVxyXG4gICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQucHVzaCh7XHJcbiAgICAgICAgYmluZGluZzogdGhpcy5lbnRyaWVzLmJpbmRHcm91cExheW91dC5sZW5ndGgsXHJcbiAgICAgICAgLi4uYmluZGluZy5yZXNvdXJjZUxheW91dCxcclxuICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuc2V0QmluZEdyb3VwTGF5b3V0KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uXHJcbiAgICovXHJcbiAgbG9zZUNvbnRleHQoKSB7XHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcblxyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIGJpbmRpbmcuYnVmZmVyID0gbnVsbFxyXG5cclxuICAgICAgaWYgKCdyZXN1bHRCdWZmZXInIGluIGJpbmRpbmcpIHtcclxuICAgICAgICBiaW5kaW5nLnJlc3VsdEJ1ZmZlciA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IG51bGxcclxuICAgIHRoaXMuYmluZEdyb3VwTGF5b3V0ID0gbnVsbFxyXG4gICAgdGhpcy5uZWVkc1BpcGVsaW5lRmx1c2ggPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIHtAbGluayBCaW5kR3JvdXAjYmluZGluZ3MgfCBiaW5kIGdyb3VwIGJpbmRpbmdzfSB0aGF0IGhhbmRsZSBhIHtAbGluayBHUFVCdWZmZXJ9XHJcbiAgICovXHJcbiAgZ2V0IGJ1ZmZlckJpbmRpbmdzKCk6IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuYmluZGluZ3MuZmlsdGVyKFxyXG4gICAgICAoYmluZGluZykgPT4gYmluZGluZyBpbnN0YW5jZW9mIEJ1ZmZlckJpbmRpbmcgfHwgYmluZGluZyBpbnN0YW5jZW9mIFdyaXRhYmxlQnVmZmVyQmluZGluZ1xyXG4gICAgKSBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudFtdXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGJpbmRpbmcgR1BVQnVmZmVyIHdpdGggY29ycmVjdCBwYXJhbXNcclxuICAgKiBAcGFyYW0gYmluZGluZyAtIHRoZSBiaW5kaW5nIGVsZW1lbnRcclxuICAgKi9cclxuICBjcmVhdGVCaW5kaW5nQnVmZmVyKGJpbmRpbmc6IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50KSB7XHJcbiAgICAvLyBUT0RPIHVzZXIgZGVmaW5lZCB1c2FnZT9cclxuICAgIC8vIFtLYW5nel0oaHR0cHM6Ly9naXRodWIuY29tL0thbmd6KSBzYWlkOlxyXG4gICAgLy8gXCJJbiBnZW5lcmFsIHRob3VnaCBDT1BZX1NSQy9EU1QgaXMgZnJlZSAoYXQgbGVhc3QgaW4gRGF3biAvIENocm9tZSBiZWNhdXNlIHdlIGFkZCBpdCBhbGwgdGhlIHRpbWUgZm9yIG91ciBvd24gcHVycG9zZSkuXCJcclxuICAgIGJpbmRpbmcuYnVmZmVyID0gdGhpcy5yZW5kZXJlci5jcmVhdGVCdWZmZXIoe1xyXG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJzogJyArIGJpbmRpbmcuYmluZGluZ1R5cGUgKyAnIGJ1ZmZlciBmcm9tOiAnICsgYmluZGluZy5sYWJlbCxcclxuICAgICAgc2l6ZTogYmluZGluZy5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoLFxyXG4gICAgICB1c2FnZTpcclxuICAgICAgICBiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAndW5pZm9ybSdcclxuICAgICAgICAgID8gR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkMgfCBHUFVCdWZmZXJVc2FnZS5WRVJURVhcclxuICAgICAgICAgIDogR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkMgfCBHUFVCdWZmZXJVc2FnZS5WRVJURVgsXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICgncmVzdWx0QnVmZmVyJyBpbiBiaW5kaW5nKSB7XHJcbiAgICAgIGJpbmRpbmcucmVzdWx0QnVmZmVyID0gdGhpcy5yZW5kZXJlci5jcmVhdGVCdWZmZXIoe1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBSZXN1bHQgYnVmZmVyIGZyb206ICcgKyBiaW5kaW5nLmxhYmVsLFxyXG4gICAgICAgIHNpemU6IGJpbmRpbmcuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcclxuICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuTUFQX1JFQUQgfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbGwgaW4gb3VyIGVudHJpZXMgYmluZEdyb3VwTGF5b3V0IGFuZCBiaW5kR3JvdXAgYXJyYXlzIHdpdGggdGhlIGNvcnJlY3QgYmluZGluZyByZXNvdXJjZXMuXHJcbiAgICogRm9yIGJ1ZmZlciBzdHJ1Y3QsIGNyZWF0ZSBhIEdQVUJ1ZmZlciBmaXJzdCBpZiBuZWVkZWRcclxuICAgKi9cclxuICBmaWxsRW50cmllcygpIHtcclxuICAgIHRoaXMuYmluZGluZ3MuZm9yRWFjaCgoYmluZGluZykgPT4ge1xyXG4gICAgICAvLyBpZiBubyB2aXNpYmlsaXR5IHNwZWNpZmllZCwganVzdCBzZXQgaXQgdG8gdGhlIG1heGltdW0gZGVmYXVsdCBjYXBhYmlsaXRpZXNcclxuICAgICAgaWYgKCFiaW5kaW5nLnZpc2liaWxpdHkpIHtcclxuICAgICAgICBiaW5kaW5nLnZpc2liaWxpdHkgPSBHUFVTaGFkZXJTdGFnZS5WRVJURVggfCBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCB8IEdQVVNoYWRlclN0YWdlLkNPTVBVVEVcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaWYgaXQncyBhIGJ1ZmZlciBiaW5kaW5nLCBjcmVhdGUgdGhlIEdQVUJ1ZmZlclxyXG4gICAgICBpZiAoJ2J1ZmZlcicgaW4gYmluZGluZyAmJiAhYmluZGluZy5idWZmZXIpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJpbmRpbmdCdWZmZXIoYmluZGluZylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gbm93IHRoYXQgZXZlcnl0aGluZyBpcyByZWFkeSwgZmlsbCBvdXIgZW50cmllc1xyXG4gICAgICB0aGlzLmVudHJpZXMuYmluZEdyb3VwTGF5b3V0LnB1c2goe1xyXG4gICAgICAgIGJpbmRpbmc6IHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQubGVuZ3RoLFxyXG4gICAgICAgIC4uLmJpbmRpbmcucmVzb3VyY2VMYXlvdXQsXHJcbiAgICAgICAgdmlzaWJpbGl0eTogYmluZGluZy52aXNpYmlsaXR5LFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiB0aGlzLmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYSBiaW5kIGdyb3VwIGJpbmRpbmcgYnkgbmFtZS9rZXlcclxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lIG9yIGtleVxyXG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIGJpbmRpbmcsIG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAgICovXHJcbiAgZ2V0QmluZGluZ0J5TmFtZShiaW5kaW5nTmFtZSA9ICcnKTogQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLmJpbmRpbmdzLmZpbmQoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSA9PT0gYmluZGluZ05hbWUpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBHUFVCaW5kR3JvdXBMYXlvdXQgYW5kIHNldCBvdXIge0BsaW5rIGJpbmRHcm91cExheW91dH1cclxuICAgKi9cclxuICBzZXRCaW5kR3JvdXBMYXlvdXQoKSB7XHJcbiAgICB0aGlzLmJpbmRHcm91cExheW91dCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQmluZEdyb3VwTGF5b3V0KHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgbGF5b3V0JyxcclxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzLmJpbmRHcm91cExheW91dCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBHUFVCaW5kR3JvdXAgYW5kIHNldCBvdXIge0BsaW5rIGJpbmRHcm91cH1cclxuICAgKi9cclxuICBzZXRCaW5kR3JvdXAoKSB7XHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQmluZEdyb3VwKHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcclxuICAgICAgbGF5b3V0OiB0aGlzLmJpbmRHcm91cExheW91dCxcclxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzLmJpbmRHcm91cCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayB3aGV0aGVyIHdlIHNob3VsZCB1cGRhdGUgKHdyaXRlKSBvdXIge0BsaW5rIEdQVUJ1ZmZlcn0gb3Igbm90LlxyXG4gICAqL1xyXG4gIHVwZGF0ZUJ1ZmZlckJpbmRpbmdzKCkge1xyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICAvLyB1cGRhdGUgYmluZGluZyBlbGVtZW50c1xyXG4gICAgICBiaW5kaW5nLnVwZGF0ZSgpXHJcblxyXG4gICAgICAvLyBub3cgd3JpdGUgdG8gdGhlIEdQVUJ1ZmZlciBpZiBuZWVkZWRcclxuICAgICAgaWYgKGJpbmRpbmcuc2hvdWxkVXBkYXRlKSB7XHJcbiAgICAgICAgLy8gYnVmZmVyT2Zmc2V0IGlzIGFsd2F5cyBlcXVhbHMgdG8gMCBpbiBvdXIgY2FzZVxyXG4gICAgICAgIGlmICghYmluZGluZy51c2VTdHJ1Y3QgJiYgYmluZGluZy5idWZmZXJFbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAvLyB3ZSdyZSBpbiBhIG5vbiBzdHJ1Y3QgYnVmZmVyIGJpbmRpbmcgd2l0aCBtdWx0aXBsZSBlbnRyaWVzXHJcbiAgICAgICAgICAvLyB0aGF0IHNob3VsZCBub3QgaGFwcGVuIGJ1dCB0aGF0IHdheSB3ZSdyZSBjb3ZlcmVkXHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnF1ZXVlV3JpdGVCdWZmZXIoYmluZGluZy5idWZmZXIsIDAsIGJpbmRpbmcuYnVmZmVyRWxlbWVudHNbaW5kZXhdLnZpZXcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucmVuZGVyZXIucXVldWVXcml0ZUJ1ZmZlcihiaW5kaW5nLmJ1ZmZlciwgMCwgYmluZGluZy5hcnJheUJ1ZmZlcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHJlc2V0IHVwZGF0ZSBmbGFnXHJcbiAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gZmFsc2VcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBCaW5kR3JvdXB9LCB3aGljaCBtZWFucyB1cGRhdGUgaXRzIHtAbGluayBCaW5kR3JvdXAjYnVmZmVyQmluZGluZ3MgfCBidWZmZXIgYmluZGluZ3N9IGFuZCB7QGxpbmsgQmluZEdyb3VwI3Jlc2V0QmluZEdyb3VwIHwgcmVzZXQgaXR9IGlmIG5lZWRlZC5cclxuICAgKiBDYWxsZWQgYXQgZWFjaCByZW5kZXIgZnJvbSB0aGUgcGFyZW50TWVzaCB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwgfCBtYXRlcmlhbH1cclxuICAgKi9cclxuICB1cGRhdGUoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUJ1ZmZlckJpbmRpbmdzKClcclxuXHJcbiAgICBjb25zdCBuZWVkQmluZEdyb3VwUmVzZXQgPSB0aGlzLmJpbmRpbmdzLnNvbWUoKGJpbmRpbmcpID0+IGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXApXHJcbiAgICBjb25zdCBuZWVkQmluZEdyb3VwTGF5b3V0UmVzZXQgPSB0aGlzLmJpbmRpbmdzLnNvbWUoKGJpbmRpbmcpID0+IGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQpXHJcblxyXG4gICAgLy8gc2luY2Ugb3RoZXIgYmluZCBncm91cHMgbWlnaHQgYmUgdXNpbmcgdGhhdCBiaW5kaW5nXHJcbiAgICAvLyB3YWl0IGZvciB0aGUgZW5kIG9mIHRoZSByZW5kZXIgbG9vcCB0byByZXNldCB0aGUgYmluZGluZ3MgZmxhZ3NcclxuICAgIGlmIChuZWVkQmluZEdyb3VwUmVzZXQgfHwgbmVlZEJpbmRHcm91cExheW91dFJlc2V0KSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIub25BZnRlckNvbW1hbmRFbmNvZGVyU3VibWlzc2lvbi5hZGQoXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSBmYWxzZVxyXG4gICAgICAgICAgICBiaW5kaW5nLnNob3VsZFJlc2V0QmluZEdyb3VwTGF5b3V0ID0gZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IG9uY2U6IHRydWUgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5lZWRCaW5kR3JvdXBMYXlvdXRSZXNldCkge1xyXG4gICAgICB0aGlzLnJlc2V0QmluZEdyb3VwTGF5b3V0KClcclxuICAgICAgLy8gYmluZCBncm91cCBsYXlvdXQgaGFzIGNoYW5nZWQsIHdlIGhhdmUgdG8gcmVjcmVhdGUgdGhlIHBpcGVsaW5lXHJcbiAgICAgIHRoaXMubmVlZHNQaXBlbGluZUZsdXNoID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZWVkQmluZEdyb3VwUmVzZXQpIHtcclxuICAgICAgdGhpcy5yZXNldEJpbmRHcm91cCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZXMgYSB7QGxpbmsgQmluZEdyb3VwfSBmcm9tIGEgbGlzdCBvZiB7QGxpbmsgYmluZGluZ3N9XHJcbiAgICogVXNlZnVsIHRvIGNyZWF0ZSBhIG5ldyBiaW5kIGdyb3VwIHdpdGggYWxyZWFkeSBjcmVhdGVkIGJ1ZmZlcnMsIGJ1dCBzd2FwcGVkXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBwYXJhbWV0ZXJzIHRvIHVzZSBmb3IgY2xvbmluZ1xyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJpbmRpbmdzIC0gb3VyIGlucHV0IHtAbGluayBiaW5kaW5nc31cclxuICAgKiBAcGFyYW0gW3BhcmFtZXRlcnMua2VlcExheW91dD1mYWxzZV0gLSB3aGV0aGVyIHdlIHNob3VsZCBrZWVwIG9yaWdpbmFsIHtAbGluayBiaW5kR3JvdXBMYXlvdXR9IG9yIG5vdFxyXG4gICAqIEByZXR1cm5zIC0gdGhlIGNsb25lZCB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNsb25lKHtcclxuICAgIGJpbmRpbmdzID0gW10sXHJcbiAgICBrZWVwTGF5b3V0ID0gZmFsc2UsXHJcbiAgfToge1xyXG4gICAgYmluZGluZ3M/OiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXHJcbiAgICBrZWVwTGF5b3V0PzogYm9vbGVhblxyXG4gIH0gPSB7fSk6IEFsbG93ZWRCaW5kR3JvdXBzIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHsgLi4udGhpcy5vcHRpb25zIH1cclxuICAgIHBhcmFtcy5sYWJlbCArPSAnIChjb3B5KSdcclxuXHJcbiAgICBjb25zdCBiaW5kR3JvdXBDb3B5ID0gbmV3ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBCaW5kR3JvdXApKHRoaXMucmVuZGVyZXIsIHtcclxuICAgICAgbGFiZWw6IHBhcmFtcy5sYWJlbCxcclxuICAgIH0pXHJcblxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRJbmRleCh0aGlzLmluZGV4KVxyXG4gICAgYmluZEdyb3VwQ29weS5vcHRpb25zID0gcGFyYW1zXHJcblxyXG4gICAgY29uc3QgYmluZGluZ3NSZWYgPSBiaW5kaW5ncy5sZW5ndGggPyBiaW5kaW5ncyA6IHRoaXMuYmluZGluZ3NcclxuXHJcbiAgICBiaW5kaW5nc1JlZi5mb3JFYWNoKChiaW5kaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICBiaW5kR3JvdXBDb3B5LmFkZEJpbmRpbmcoYmluZGluZylcclxuXHJcbiAgICAgIC8vIGlmIGl0J3MgYSBidWZmZXIgYmluZGluZyB3aXRob3V0IGEgR1BVQnVmZmVyLCBjcmVhdGUgaXQgbm93XHJcbiAgICAgIGlmICgnYnVmZmVyJyBpbiBiaW5kaW5nICYmICFiaW5kaW5nLmJ1ZmZlcikge1xyXG4gICAgICAgIGJpbmRHcm91cENvcHkuY3JlYXRlQmluZGluZ0J1ZmZlcihiaW5kaW5nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBpZiB3ZSBzaG91bGQgY3JlYXRlIGEgbmV3IGJpbmQgZ3JvdXAgbGF5b3V0LCBmaWxsIGl0XHJcbiAgICAgIGlmICgha2VlcExheW91dCkge1xyXG4gICAgICAgIGJpbmRHcm91cENvcHkuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQucHVzaCh7XHJcbiAgICAgICAgICBiaW5kaW5nOiBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwTGF5b3V0Lmxlbmd0aCxcclxuICAgICAgICAgIC4uLmJpbmRpbmcucmVzb3VyY2VMYXlvdXQsXHJcbiAgICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgYmluZEdyb3VwQ29weS5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSBhcyBHUFVCaW5kR3JvdXBFbnRyeSlcclxuICAgIH0pXHJcblxyXG4gICAgLy8gaWYgd2Ugc2hvdWxkIGNvcHkgdGhlIGdpdmVuIGJpbmQgZ3JvdXAgbGF5b3V0XHJcbiAgICBpZiAoa2VlcExheW91dCkge1xyXG4gICAgICBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwTGF5b3V0ID0gWy4uLnRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXRdXHJcbiAgICB9XHJcblxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRCaW5kR3JvdXBMYXlvdXQoKVxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRCaW5kR3JvdXAoKVxyXG5cclxuICAgIHJldHVybiBiaW5kR3JvdXBDb3B5XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqIE1vc3QgaW1wb3J0YW50IGlzIHRvIGRlc3Ryb3kgdGhlIEdQVUJ1ZmZlcnMgdG8gZnJlZSB0aGUgbWVtb3J5XHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQmluZEdyb3VwKHRoaXMpXHJcblxyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIGlmICgnYnVmZmVyJyBpbiBiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVCdWZmZXIoYmluZGluZy5idWZmZXIpXHJcbiAgICAgICAgYmluZGluZy5idWZmZXI/LmRlc3Ryb3koKVxyXG4gICAgICAgIGJpbmRpbmcuYnVmZmVyID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoJ3Jlc3VsdEJ1ZmZlcicgaW4gYmluZGluZykge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQnVmZmVyKGJpbmRpbmcucmVzdWx0QnVmZmVyKVxyXG4gICAgICAgIGJpbmRpbmcucmVzdWx0QnVmZmVyPy5kZXN0cm95KClcclxuICAgICAgICBiaW5kaW5nLnJlc3VsdEJ1ZmZlciA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmJpbmRpbmdzID0gW11cclxuICAgIHRoaXMuYmluZEdyb3VwTGF5b3V0ID0gbnVsbFxyXG4gICAgdGhpcy5iaW5kR3JvdXAgPSBudWxsXHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlLCBCaW5kaW5nUGFyYW1zLCBCaW5kaW5nVHlwZSB9IGZyb20gJy4vQmluZGluZydcbmltcG9ydCB7IGdldEJpbmRHcm91cExheW91dFRleHR1cmVCaW5kaW5nVHlwZSwgZ2V0VGV4dHVyZUJpbmRpbmdXR1NMVmFyVHlwZSB9IGZyb20gJy4vdXRpbHMnXG5cbi8qKiBEZWZpbmVzIGEge0BsaW5rIFRleHR1cmVCaW5kaW5nfSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbmV4cG9ydCB0eXBlIFRleHR1cmVCaW5kaW5nUmVzb3VyY2UgPSBHUFVUZXh0dXJlIHwgR1BVRXh0ZXJuYWxUZXh0dXJlIHwgbnVsbFxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIFRleHR1cmVCaW5kaW5nfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0dXJlQmluZGluZ1BhcmFtcyBleHRlbmRzIEJpbmRpbmdQYXJhbXMge1xuICAvKioge0BsaW5rIFRleHR1cmVCaW5kaW5nfSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbiAgdGV4dHVyZTogVGV4dHVyZUJpbmRpbmdSZXNvdXJjZVxuICAvKiogVGhlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gZm9ybWF0IHRvIHVzZSAqL1xuICBmb3JtYXQ/OiBHUFVUZXh0dXJlRm9ybWF0XG4gIC8qKiBUaGUgc3RvcmFnZSB7QGxpbmsgR1BVVGV4dHVyZSB8IHRleHR1cmV9IGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlcyAocmVhZCBvbmx5LCB3cml0ZSBvbmx5IG9yIHJlYWQvd3JpdGUpICovXG4gIGFjY2Vzcz86IEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlXG4gIC8qKiBUaGUge0BsaW5rIEdQVVRleHR1cmUgfCB0ZXh0dXJlfSB2aWV3IGRpbWVuc2lvbiB0byB1c2UgKi9cbiAgdmlld0RpbWVuc2lvbj86IEdQVVRleHR1cmVWaWV3RGltZW5zaW9uXG4gIC8qKiBXaGV0aGUgdGhlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gaXMgYSBtdWx0aXNhbXBsZWQgdGV4dHVyZS4gTWFpbmx5IHVzZWQgaW50ZXJuYWxseSBieSBkZXB0aCB0ZXh0dXJlcyBpZiBuZWVkZWQuICovXG4gIG11bHRpc2FtcGxlZD86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBVc2VkIHRvIGhhbmRsZSB7QGxpbmsgR1BVVGV4dHVyZX0gYW5kIHtAbGluayBHUFVFeHRlcm5hbFRleHR1cmV9IGJpbmRpbmdzLlxuICpcbiAqIFByb3ZpZGUgYm90aCB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2VMYXlvdXQgfCByZXNvdXJjZUxheW91dH0gYW5kIHtAbGluayBUZXh0dXJlQmluZGluZyNyZXNvdXJjZSB8IHJlc291cmNlfSB0byB0aGUge0BsaW5rIEdQVUJpbmRHcm91cExheW91dH0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXB9Ljxicj5cbiAqIEFsc28gY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBXR1NMIGNvZGUgc25pcHBldCB0byBhZGQgdG8gdGhlIHNoYWRlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlQmluZGluZyBleHRlbmRzIEJpbmRpbmcge1xuICAvKiogT3VyIHtAbGluayBUZXh0dXJlQmluZGluZ30gcmVzb3VyY2UsIGkuZS4gYSB7QGxpbmsgR1BVVGV4dHVyZX0gb3Ige0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gKi9cbiAgdGV4dHVyZTogVGV4dHVyZUJpbmRpbmdSZXNvdXJjZVxuICAvKiogQW4gYXJyYXkgb2Ygc3RyaW5ncyB0byBhcHBlbmQgdG8gb3VyIHNoYWRlcnMgY29kZSBkZWNsYXJpbmcgYWxsIHRoZSBXR1NMIHZhcmlhYmxlcyByZXByZXNlbnRpbmcgdGhpcyB7QGxpbmsgVGV4dHVyZUJpbmRpbmd9ICovXG4gIHdnc2xHcm91cEZyYWdtZW50OiBzdHJpbmdbXVxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBUZXh0dXJlQmluZGluZ30gKi9cbiAgb3B0aW9uczogVGV4dHVyZUJpbmRpbmdQYXJhbXNcblxuICAvKipcbiAgICogVGV4dHVyZUJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgVGV4dHVyZUJpbmRpbmdQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIFRleHR1cmVCaW5kaW5nfVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1RleHR1cmUnLFxuICAgIG5hbWUgPSAndGV4dHVyZScsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICB0ZXh0dXJlLFxuICAgIGZvcm1hdCA9ICdyZ2JhOHVub3JtJyxcbiAgICBhY2Nlc3MgPSAnd3JpdGUnLFxuICAgIHZpZXdEaW1lbnNpb24gPSAnMmQnLFxuICAgIG11bHRpc2FtcGxlZCA9IGZhbHNlLFxuICB9OiBUZXh0dXJlQmluZGluZ1BhcmFtcykge1xuICAgIGJpbmRpbmdUeXBlID0gYmluZGluZ1R5cGUgPz8gJ3RleHR1cmUnXG5cbiAgICBpZiAoYmluZGluZ1R5cGUgPT09ICdzdG9yYWdlVGV4dHVyZScpIHtcbiAgICAgIHZpc2liaWxpdHkgPSAnY29tcHV0ZSdcbiAgICB9XG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdmlzaWJpbGl0eSB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgdGV4dHVyZSxcbiAgICAgIGZvcm1hdCxcbiAgICAgIGFjY2VzcyxcbiAgICAgIHZpZXdEaW1lbnNpb24sXG4gICAgICBtdWx0aXNhbXBsZWQsXG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZSA9IHRleHR1cmUgLy8gc2hvdWxkIGJlIGEgdGV4dHVyZSBvciBhbiBleHRlcm5hbCB0ZXh0dXJlXG5cbiAgICB0aGlzLnNldFdHU0xGcmFnbWVudCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGJpbmQgZ3JvdXAgbGF5b3V0IGVudHJ5IHJlc291cmNlLCBlaXRoZXIgZm9yIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXRFbnRyeSN0ZXh0dXJlIHwgdGV4dHVyZX0gb3Ige0BsaW5rIEdQVUJpbmRHcm91cExheW91dEVudHJ5I2V4dGVybmFsVGV4dHVyZSB8IGV4dGVybmFsIHRleHR1cmV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlTGF5b3V0KCk6XG4gICAgfCBHUFVUZXh0dXJlQmluZGluZ0xheW91dFxuICAgIHwgR1BVRXh0ZXJuYWxUZXh0dXJlQmluZGluZ0xheW91dFxuICAgIHwgR1BVU3RvcmFnZVRleHR1cmVCaW5kaW5nTGF5b3V0XG4gICAgfCBudWxsIHtcbiAgICByZXR1cm4gZ2V0QmluZEdyb3VwTGF5b3V0VGV4dHVyZUJpbmRpbmdUeXBlKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgR1BVQmluZEdyb3VwRW50cnkjcmVzb3VyY2UgfCBiaW5kIGdyb3VwIHJlc291cmNlfVxuICAgKi9cbiAgZ2V0IHJlc291cmNlKCk6IEdQVUV4dGVybmFsVGV4dHVyZSB8IEdQVVRleHR1cmVWaWV3IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIEdQVVRleHR1cmVcbiAgICAgID8gdGhpcy50ZXh0dXJlLmNyZWF0ZVZpZXcoeyBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyB9KVxuICAgICAgOiB0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBHUFVFeHRlcm5hbFRleHR1cmVcbiAgICAgID8gdGhpcy50ZXh0dXJlXG4gICAgICA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyBiaW5kIGdyb3VwIHJlc291cmNlXG4gICAqL1xuICBzZXQgcmVzb3VyY2UodmFsdWU6IFRleHR1cmVCaW5kaW5nUmVzb3VyY2UpIHtcbiAgICAvLyByZXNvdXJjZSBjaGFuZ2VkLCB1cGRhdGUgYmluZCBncm91cCFcbiAgICBpZiAodmFsdWUgfHwgdGhpcy50ZXh0dXJlKSB0aGlzLnNob3VsZFJlc2V0QmluZEdyb3VwID0gdHJ1ZVxuICAgIHRoaXMudGV4dHVyZSA9IHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogU2V0IG9yIHVwZGF0ZSBvdXIge0BsaW5rIEJpbmRpbmcjYmluZGluZ1R5cGUgfCBiaW5kaW5nVHlwZX0gYW5kIG91ciBXR1NMIGNvZGUgc25pcHBldFxuICAgKiBAcGFyYW0gYmluZGluZ1R5cGUgLSB0aGUgbmV3IHtAbGluayBCaW5kaW5nI2JpbmRpbmdUeXBlIHwgYmluZGluZyB0eXBlfVxuICAgKi9cbiAgc2V0QmluZGluZ1R5cGUoYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlKSB7XG4gICAgaWYgKGJpbmRpbmdUeXBlICE9PSB0aGlzLmJpbmRpbmdUeXBlKSB7XG4gICAgICAvLyBiaW5kaW5nIHR5cGUgaGFzIGNoYW5nZWQhXG4gICAgICBpZiAoYmluZGluZ1R5cGUpIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQgPSB0cnVlXG5cbiAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSBiaW5kaW5nVHlwZVxuICAgICAgdGhpcy5zZXRXR1NMRnJhZ21lbnQoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvcnJlY3QgV0dTTCBjb2RlIHNuaXBwZXQuXG4gICAqL1xuICBzZXRXR1NMRnJhZ21lbnQoKSB7XG4gICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHtnZXRUZXh0dXJlQmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpfWBdXG4gIH1cbn1cbiIsImltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vbWF0aC9RdWF0J1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcblxubGV0IG9iamVjdEluZGV4ID0gMFxuXG4vKiogRGVmaW5lcyBhbGwga2luZCBvZiBwb3NzaWJsZSB7QGxpbmsgT2JqZWN0M0R9IG1hdHJpeCB0eXBlcyAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0M0RNYXRyaWNlc1R5cGUgPSAnbW9kZWwnIHwgJ3dvcmxkJ1xuXG4vKipcbiAqIERlZmluZXMgYW4ge0BsaW5rIE9iamVjdDNEfSBtYXRyaXggb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXgge1xuICAvKiogVGhlIHtAbGluayBNYXQ0IHwgbWF0cml4fSB1c2VkICovXG4gIG1hdHJpeDogTWF0NFxuICAvKiogV2hldGhlciB3ZSBzaG91bGQgdXBkYXRlIHRoZSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gKi9cbiAgc2hvdWxkVXBkYXRlOiBib29sZWFuXG4gIC8qKiBGdW5jdGlvbiB0byB1cGRhdGUgb3VyIHtAbGluayBNYXQ0IHwgbWF0cml4fSAqL1xuICBvblVwZGF0ZTogKCkgPT4gdm9pZFxufVxuXG4vKiogRGVmaW5lcyBhbGwgcG9zc2libGUge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4IHwgbWF0cml4IG9iamVjdH0gdXNlZCBieSBvdXIge0BsaW5rIE9iamVjdDNEfSAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0M0RNYXRyaWNlcyA9IFJlY29yZDxPYmplY3QzRE1hdHJpY2VzVHlwZSwgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXg+XG5cbi8qKlxuICogRGVmaW5lcyBhbGwgbmVjZXNzYXJ5IHtAbGluayBWZWMzIHwgdmVjdG9yc30ve0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9uc30gdG8gY29tcHV0ZSBhIDNEIHtAbGluayBNYXQ0IHwgbW9kZWwgbWF0cml4fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdDNEVHJhbnNmb3JtcyB7XG4gIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4gb2JqZWN0ICovXG4gIG9yaWdpbjoge1xuICAgIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSB7QGxpbmsgT2JqZWN0M0R9ICovXG4gICAgbW9kZWw6IFZlYzNcbiAgfVxuICAvKiogTW9kZWwge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSBkZWZpbmluZyBpdHMgcm90YXRpb24gaW4gM0Qgc3BhY2UgKi9cbiAgcXVhdGVybmlvbjogUXVhdFxuICAvKiogTW9kZWwgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHVzZWQgdG8gY29tcHV0ZSBpdHMge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSAqL1xuICByb3RhdGlvbjogVmVjM1xuICAvKiogUG9zaXRpb24gb2JqZWN0ICovXG4gIHBvc2l0aW9uOiB7XG4gICAgLyoqIFBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUgM0Qgd29ybGQgKi9cbiAgICB3b3JsZDogVmVjM1xuICB9XG4gIC8qKiBNb2RlbCAzRCBzY2FsZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gKi9cbiAgc2NhbGU6IFZlYzNcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhbiBvYmplY3Qgd2l0aCB0cmFuc2Zvcm1hdGlvbiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbiBhbmQgdHJhbnNmb3JtIG9yaWdpbiB7QGxpbmsgVmVjMyB8IHZlY3RvcnN9IGFuZCBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gaW4gb3JkZXIgdG8gY29tcHV0ZSB0aGUge0BsaW5rIE9iamVjdDNEI21vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBhbmQge0BsaW5rIE9iamVjdDNEI3dvcmxkTWF0cml4IHwgd29ybGQgbWF0cml4fS5cbiAqXG4gKiBJZiBhbiB7QGxpbmsgT2JqZWN0M0R9IGRvZXMgbm90IGhhdmUgYW55IHtAbGluayBPYmplY3QzRCNwYXJlbnQgfCBwYXJlbnR9LCB0aGVuIGl0cyB7QGxpbmsgT2JqZWN0M0QjbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgT2JqZWN0M0Qjd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9IGFyZSB0aGUgc2FtZS5cbiAqXG4gKiBUaGUgdHJhbnNmb3JtYXRpb25zIHtAbGluayBWZWMzIHwgdmVjdG9yc30gYXJlIHJlYWN0aXZlIHRvIGNoYW5nZXMsIHdoaWNoIG1lYW4gdGhhdCB1cGRhdGluZyBvbmUgb2YgdGhlaXIgY29tcG9uZW50cyB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgT2JqZWN0M0QjbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgT2JqZWN0M0Qjd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9LlxuICovXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xuICAvKioge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtcyB8IFRyYW5zZm9ybWF0aW9uIG9iamVjdH0gb2YgdGhlIHtAbGluayBPYmplY3QzRH0gKi9cbiAgdHJhbnNmb3JtczogT2JqZWN0M0RUcmFuc2Zvcm1zXG4gIC8qKiB7QGxpbmsgT2JqZWN0M0RNYXRyaWNlcyB8IE1hdHJpY2VzIG9iamVjdH0gb2YgdGhlIHtAbGluayBPYmplY3QzRH0gKi9cbiAgbWF0cmljZXM6IE9iamVjdDNETWF0cmljZXNcblxuICAvKiogUGFyZW50IHtAbGluayBPYmplY3QzRH0gaW4gdGhlIHNjZW5lIGdyYXBoLCB1c2VkIHRvIGNvbXB1dGUgdGhlIHtAbGluayB3b3JsZE1hdHJpeCB8IHdvcmxkIG1hdHJpeH0gKi9cbiAgcHJpdmF0ZSBfcGFyZW50OiBudWxsIHwgT2JqZWN0M0RcbiAgLyoqIENoaWxkcmVuIHtAbGluayBPYmplY3QzRH0gaW4gdGhlIHNjZW5lIGdyYXBoLCB1c2VkIHRvIGNvbXB1dGUgdGhlaXIgb3duIHtAbGluayB3b3JsZE1hdHJpeCB8IHdvcmxkIG1hdHJpeH0gKi9cbiAgY2hpbGRyZW46IE9iamVjdDNEW11cblxuICAvKiogSW5kZXggKG9yZGVyIG9mIGNyZWF0aW9uKSBvZiB0aGlzIHtAbGluayBPYmplY3QzRH0uIFVzZWQgaW4gdGhlIHtAbGluayBwYXJlbnR9IC8ge0BsaW5rIGNoaWxkcmVufSByZWxhdGlvbi4gKi9cbiAgb2JqZWN0M0RJbmRleDogbnVtYmVyXG5cbiAgLyoqXG4gICAqIE9iamVjdDNEIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhcmVudCA9IG51bGxcbiAgICB0aGlzLmNoaWxkcmVuID0gW11cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzIGFzIE9iamVjdDNELCAnb2JqZWN0M0RJbmRleCcsIHsgdmFsdWU6IG9iamVjdEluZGV4KysgfSlcblxuICAgIHRoaXMuc2V0TWF0cmljZXMoKVxuICAgIHRoaXMuc2V0VHJhbnNmb3JtcygpXG4gIH1cblxuICAvKiBQQVJFTlQgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSBwYXJlbnQgb2YgdGhpcyB7QGxpbmsgT2JqZWN0M0R9IGlmIGFueVxuICAgKi9cbiAgZ2V0IHBhcmVudCgpOiBPYmplY3QzRCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBhcmVudCBvZiB0aGlzIHtAbGluayBPYmplY3QzRH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHBhcmVudCB0byBzZXQsIGNvdWxkIGJlIGFuIHtAbGluayBPYmplY3QzRH0gb3IgbnVsbFxuICAgKi9cbiAgc2V0IHBhcmVudCh2YWx1ZTogT2JqZWN0M0QgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbiA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkLm9iamVjdDNESW5kZXggIT09IHRoaXMub2JqZWN0M0RJbmRleClcbiAgICB9XG4gICAgdGhpcy5fcGFyZW50ID0gdmFsdWVcbiAgICB0aGlzLl9wYXJlbnQ/LmNoaWxkcmVuLnB1c2godGhpcylcbiAgfVxuXG4gIC8qIFRSQU5TRk9STVMgKi9cblxuICAvKipcbiAgICogU2V0IG91ciB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYW5kIHtAbGluayBWZWMzI29uQ2hhbmdlIHwgdmVjdG9ycyBvbkNoYW5nZX0gY2FsbGJhY2tzXG4gICAqL1xuICBzZXRUcmFuc2Zvcm1zKCkge1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHtcbiAgICAgIG9yaWdpbjoge1xuICAgICAgICBtb2RlbDogbmV3IFZlYzMoKSxcbiAgICAgIH0sXG4gICAgICBxdWF0ZXJuaW9uOiBuZXcgUXVhdCgpLFxuICAgICAgcm90YXRpb246IG5ldyBWZWMzKCksXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB3b3JsZDogbmV3IFZlYzMoKSxcbiAgICAgIH0sXG4gICAgICBzY2FsZTogbmV3IFZlYzMoMSksXG4gICAgfVxuXG4gICAgdGhpcy5yb3RhdGlvbi5vbkNoYW5nZSgoKSA9PiB0aGlzLmFwcGx5Um90YXRpb24oKSlcbiAgICB0aGlzLnBvc2l0aW9uLm9uQ2hhbmdlKCgpID0+IHRoaXMuYXBwbHlQb3NpdGlvbigpKVxuICAgIHRoaXMuc2NhbGUub25DaGFuZ2UoKCkgPT4gdGhpcy5hcHBseVNjYWxlKCkpXG4gICAgdGhpcy50cmFuc2Zvcm1PcmlnaW4ub25DaGFuZ2UoKCkgPT4gdGhpcy5hcHBseVRyYW5zZm9ybU9yaWdpbigpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBnZXQgcm90YXRpb24oKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5yb3RhdGlvblxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyByb3RhdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIHNldCByb3RhdGlvbih2YWx1ZTogVmVjMykge1xuICAgIHRoaXMudHJhbnNmb3Jtcy5yb3RhdGlvbiA9IHZhbHVlXG4gICAgdGhpcy5hcHBseVJvdGF0aW9uKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn1cbiAgICovXG4gIGdldCBxdWF0ZXJuaW9uKCk6IFF1YXQge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMucXVhdGVybmlvblxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufVxuICAgKi9cbiAgc2V0IHF1YXRlcm5pb24odmFsdWU6IFF1YXQpIHtcbiAgICB0aGlzLnRyYW5zZm9ybXMucXVhdGVybmlvbiA9IHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIGdldCBwb3NpdGlvbigpOiBWZWMzIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLndvcmxkXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlOiBWZWMzKSB7XG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLndvcmxkID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKi9cbiAgZ2V0IHNjYWxlKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMuc2NhbGVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcgc2NhbGUge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBzZXQgc2NhbGUodmFsdWU6IFZlYzMpIHtcbiAgICAvLyBmb3JjZSBzY2FsZSB0byAxIG9uIFogYXhpc1xuICAgIHRoaXMudHJhbnNmb3Jtcy5zY2FsZSA9IHZhbHVlXG4gICAgdGhpcy5hcHBseVNjYWxlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHRyYW5zZm9ybSBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBnZXQgdHJhbnNmb3JtT3JpZ2luKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB0cmFuc2Zvcm0gb3JpZ2luIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcgdHJhbnNmb3JtIG9yaWdpbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIHNldCB0cmFuc2Zvcm1PcmlnaW4odmFsdWU6IFZlYzMpIHtcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBvdXIgcm90YXRpb24gYW5kIHRlbGwgb3VyIHtAbGluayBtb2RlbE1hdHJpeCB8IG1vZGVsIG1hdHJpeH0gdG8gdXBkYXRlXG4gICAqL1xuICBhcHBseVJvdGF0aW9uKCkge1xuICAgIHRoaXMucXVhdGVybmlvbi5zZXRGcm9tVmVjMyh0aGlzLnJvdGF0aW9uKVxuXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5UG9zaXRpb24oKSB7XG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5U2NhbGUoKSB7XG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5VHJhbnNmb3JtT3JpZ2luKCkge1xuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxuICB9XG5cbiAgLyogTUFUUklDRVMgKi9cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9XG4gICAqL1xuICBzZXRNYXRyaWNlcygpIHtcbiAgICB0aGlzLm1hdHJpY2VzID0ge1xuICAgICAgbW9kZWw6IHtcbiAgICAgICAgbWF0cml4OiBuZXcgTWF0NCgpLFxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxuICAgICAgICBvblVwZGF0ZTogKCkgPT4gdGhpcy51cGRhdGVNb2RlbE1hdHJpeCgpLFxuICAgICAgfSxcbiAgICAgIHdvcmxkOiB7XG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcbiAgICAgICAgc2hvdWxkVXBkYXRlOiBmYWxzZSxcbiAgICAgICAgb25VcGRhdGU6ICgpID0+IHRoaXMudXBkYXRlV29ybGRNYXRyaXgoKSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIE1hdDQgfCBtb2RlbCBtYXRyaXh9XG4gICAqL1xuICBnZXQgbW9kZWxNYXRyaXgoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubWF0cmljZXMubW9kZWwubWF0cml4XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgTWF0NCB8IG1vZGVsIG1hdHJpeH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHtAbGluayBNYXQ0IHwgbW9kZWwgbWF0cml4fVxuICAgKi9cbiAgc2V0IG1vZGVsTWF0cml4KHZhbHVlOiBNYXQ0KSB7XG4gICAgdGhpcy5tYXRyaWNlcy5tb2RlbC5tYXRyaXggPSB2YWx1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBzaG91bGRVcGRhdGUgZmxhZyB0byB0cnVlICh0ZWxsIGl0IHRvIHVwZGF0ZSlcbiAgICovXG4gIHNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMubW9kZWwuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIE1hdDQgfCB3b3JsZCBtYXRyaXh9XG4gICAqL1xuICBnZXQgd29ybGRNYXRyaXgoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubWF0cmljZXMud29ybGQubWF0cml4XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgTWF0NCB8IHdvcmxkIG1hdHJpeH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHtAbGluayBNYXQ0IHwgd29ybGQgbWF0cml4fVxuICAgKi9cbiAgc2V0IHdvcmxkTWF0cml4KHZhbHVlOiBNYXQ0KSB7XG4gICAgdGhpcy5tYXRyaWNlcy53b3JsZC5tYXRyaXggPSB2YWx1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIHdvcmxkTWF0cml4IHwgd29ybGQgbWF0cml4fSBzaG91bGRVcGRhdGUgZmxhZyB0byB0cnVlICh0ZWxsIGl0IHRvIHVwZGF0ZSlcbiAgICovXG4gIHNob3VsZFVwZGF0ZVdvcmxkTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMud29ybGQuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGlzIHtAbGluayBPYmplY3QzRH0gc28gaXQgbG9va3MgYXQgdGhlIHtAbGluayBWZWMzIHwgdGFyZ2V0fVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0ge0BsaW5rIFZlYzMgfCB0YXJnZXR9IHRvIGxvb2sgYXRcbiAgICovXG4gIGxvb2tBdCh0YXJnZXQ6IFZlYzMgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBuZXcgTWF0NCgpLmxvb2tBdCh0YXJnZXQsIHRoaXMucG9zaXRpb24pXG4gICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyb3RhdGlvbk1hdHJpeClcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgb3VyIHtAbGluayBtb2RlbE1hdHJpeCB8IG1vZGVsIG1hdHJpeH1cbiAgICovXG4gIHVwZGF0ZU1vZGVsTWF0cml4KCkge1xuICAgIC8vIGNvbXBvc2Ugb3VyIG1vZGVsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBmcm9tIGN1c3RvbSBvcmlnaW5cbiAgICB0aGlzLm1vZGVsTWF0cml4ID0gdGhpcy5tb2RlbE1hdHJpeC5jb21wb3NlRnJvbU9yaWdpbihcbiAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICB0aGlzLnF1YXRlcm5pb24sXG4gICAgICB0aGlzLnNjYWxlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1PcmlnaW5cbiAgICApXG5cbiAgICAvLyB0ZWxsIG91ciB3b3JsZCBtYXRyaXggdG8gdXBkYXRlXG4gICAgdGhpcy5zaG91bGRVcGRhdGVXb3JsZE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG91ciB7QGxpbmsgd29ybGRNYXRyaXggfCBtb2RlbCBtYXRyaXh9XG4gICAqL1xuICB1cGRhdGVXb3JsZE1hdHJpeCgpIHtcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICB0aGlzLndvcmxkTWF0cml4LmNvcHkodGhpcy5tb2RlbE1hdHJpeClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53b3JsZE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50LndvcmxkTWF0cml4LCB0aGlzLm1vZGVsTWF0cml4KVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgY2hpbGRyZW4gd29ybGQgbWF0cml4IGFzIHdlbGxcbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICBjaGlsZC5zaG91bGRVcGRhdGVXb3JsZE1hdHJpeCgpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBydW4gaWYgYXQgbGVhc3Qgb25lIG1hdHJpeCBvZiB0aGUgc3RhY2sgaGFzIGJlZW4gdXBkYXRlZFxuICAgKi9cbiAgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCkge1xuICAgIC8qIHdpbGwgYmUgdXNlZCBieSB0aGUgY2xhc3NlcyBleHRlbmRpbmcgT2JqZWN0M0QgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBhdCBlYWNoIHJlbmRlciB3aGV0aGVyIHdlIHNob3VsZCB1cGRhdGUgb3VyIG1hdHJpY2VzLCBhbmQgdXBkYXRlIHRoZW0gaWYgbmVlZGVkXG4gICAqL1xuICB1cGRhdGVNYXRyaXhTdGFjaygpIHtcbiAgICAvLyBpZiBpdCBoYXMgYSBwYXJlbnQgYW5kIGl0IGlzIGFuIE9iamVjdDNEXG4gICAgLy8gaXQgbWVhbnMgbm90aGluZyB1cGRhdGVzIGl0IGluIHRoZSByZW5kZXIgbG9vcCwgc28gZG8gaXQgZnJvbSBoZXJlXG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdPYmplY3QzRCcpIHtcbiAgICAgIHRoaXMucGFyZW50LnVwZGF0ZU1hdHJpeFN0YWNrKClcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBhdCBsZWFzdCBvbmUgbWF0cml4IHNob3VsZCB1cGRhdGVcbiAgICBjb25zdCBtYXRyaXhTaG91bGRVcGRhdGUgPSAhIU9iamVjdC5rZXlzKHRoaXMubWF0cmljZXMpLmZpbmQoKG1hdHJpeE5hbWUpID0+IHRoaXMubWF0cmljZXNbbWF0cml4TmFtZV0uc2hvdWxkVXBkYXRlKVxuXG4gICAgaWYgKG1hdHJpeFNob3VsZFVwZGF0ZSkge1xuICAgICAgZm9yIChjb25zdCBtYXRyaXhOYW1lIGluIHRoaXMubWF0cmljZXMpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0cmljZXNbbWF0cml4TmFtZV0uc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy5tYXRyaWNlc1ttYXRyaXhOYW1lXS5vblVwZGF0ZSgpXG4gICAgICAgICAgdGhpcy5tYXRyaWNlc1ttYXRyaXhOYW1lXS5zaG91bGRVcGRhdGUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGxiYWNrIHRvIHJ1biBpZiBhdCBsZWFzdCBvbmUgbWF0cml4IG9mIHRoZSBzdGFjayBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB0aGlzLm9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xyXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgVGV4dHVyZUJpbmRpbmcsIFRleHR1cmVCaW5kaW5nUGFyYW1zIH0gZnJvbSAnLi4vYmluZGluZ3MvVGV4dHVyZUJpbmRpbmcnXHJcbmltcG9ydCB7IEJ1ZmZlckJpbmRpbmcgfSBmcm9tICcuLi9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nJ1xyXG5pbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gJy4uL29iamVjdHMzRC9PYmplY3QzRCdcclxuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcclxuaW1wb3J0IHsgZ2VuZXJhdGVVVUlELCB0aHJvd1dhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcclxuaW1wb3J0IHsgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xyXG5pbXBvcnQgeyBUZXh0dXJlT3B0aW9ucywgVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmVudCwgVGV4dHVyZVNpemUsIFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi8uLi90eXBlcy9UZXh0dXJlcydcclxuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcclxuaW1wb3J0IHsgRE9NUHJvamVjdGVkTWVzaCB9IGZyb20gJy4uL3JlbmRlcmVycy9HUFVSZW5kZXJlcidcclxuaW1wb3J0IHsgUmVjdFNpemUgfSBmcm9tICcuLi9ET00vRE9NRWxlbWVudCdcclxuXHJcbi8qKiBAY29uc3QgLSBkZWZhdWx0IHtAbGluayBUZXh0dXJlfSBwYXJhbWV0ZXJzICovXHJcbmNvbnN0IGRlZmF1bHRUZXh0dXJlUGFyYW1zOiBUZXh0dXJlUGFyYW1zID0ge1xyXG4gIG5hbWU6ICd0ZXh0dXJlJyxcclxuICBnZW5lcmF0ZU1pcHM6IGZhbHNlLFxyXG4gIGZsaXBZOiBmYWxzZSxcclxuICBmb3JtYXQ6ICdyZ2JhOHVub3JtJyxcclxuICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRydWUsXHJcbiAgcGxhY2Vob2xkZXJDb2xvcjogWzAsIDAsIDAsIDI1NV0sIC8vIGRlZmF1bHQgdG8gYmxhY2tcclxuICB1c2VFeHRlcm5hbFRleHR1cmVzOiB0cnVlLFxyXG4gIGZyb21UZXh0dXJlOiBudWxsLFxyXG4gIHZpZXdEaW1lbnNpb246ICcyZCcsXHJcbiAgY2FjaGU6IHRydWUsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGNyZWF0ZSB7QGxpbmsgR1BVVGV4dHVyZX0gb3Ige0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gZnJvbSBkaWZmZXJlbnQga2luZHMgb2Yge0BsaW5rIFRleHR1cmVTb3VyY2UgfCBzb3VyY2VzfSwgbGlrZSB7QGxpbmsgSFRNTEltYWdlRWxlbWVudH0sIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBvciB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9LlxyXG4gKlxyXG4gKiBIYW5kbGVzIHRoZSB2YXJpb3VzIHNvdXJjZXMgbG9hZGluZyBhbmQgdXBsb2FkaW5nLCBHUFUgdGV4dHVyZXMgY3JlYXRpb24se0BsaW5rIEJ1ZmZlckJpbmRpbmcgfCB0ZXh0dXJlIG1vZGVsIG1hdHJpeCBiaW5kaW5nfSBhbmQge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgR1BVIHRleHR1cmUgYmluZGluZ30uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXHJcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcclxuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcclxuICogfSlcclxuICpcclxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXHJcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcclxuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcclxuICpcclxuICogLy8gY3JlYXRlIGEgcmVuZGVyIHRleHR1cmVcclxuICogY29uc3QgaW1hZ2VUZXh0dXJlID0gbmV3IFRleHR1cmUoZ3B1Q3VydGFpbnMsIHtcclxuICogICBsYWJlbDogJ015IGltYWdlIHRleHR1cmUnLFxyXG4gKiAgIG5hbWU6ICdpbWFnZVRleHR1cmUnLFxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBsb2FkIGFuIGltYWdlXHJcbiAqIGF3YWl0IGltYWdlVGV4dHVyZS5sb2FkSW1hZ2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW1nJykpXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRleHR1cmUgZXh0ZW5kcyBPYmplY3QzRCB7XHJcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgVGV4dHVyZX0gKi9cclxuICB0eXBlOiBzdHJpbmdcclxuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgVGV4dHVyZX0gKi9cclxuICByZWFkb25seSB1dWlkOiBzdHJpbmdcclxuICAvKioge0BsaW5rIFJlbmRlcmVyfSB1c2VkIGJ5IHRoaXMge0BsaW5rIFRleHR1cmV9ICovXHJcbiAgcmVuZGVyZXI6IFJlbmRlcmVyXHJcblxyXG4gIC8qKiBUaGUge0BsaW5rIEdQVVRleHR1cmV9IHVzZWQgaWYgYW55ICovXHJcbiAgdGV4dHVyZTogbnVsbCB8IEdQVVRleHR1cmVcclxuICAvKiogVGhlIHtAbGluayBHUFVFeHRlcm5hbFRleHR1cmV9IHVzZWQgaWYgYW55ICovXHJcbiAgZXh0ZXJuYWxUZXh0dXJlOiBudWxsIHwgR1BVRXh0ZXJuYWxUZXh0dXJlXHJcblxyXG4gIC8qKiBUaGUge0BsaW5rIFRleHR1cmV9IHtAbGluayBUZXh0dXJlU291cmNlIHwgc291cmNlfSB0byB1c2UgKi9cclxuICBzb3VyY2U6IFRleHR1cmVTb3VyY2VcclxuICAvKiogVGhlIHtAbGluayBHUFVUZXh0dXJlfSwgbWF0Y2hpbmcgdGhlIHtAbGluayBUZXh0dXJlU291cmNlIHwgc291cmNlfSB7QGxpbmsgUmVjdFNpemUgfCBzaXplfSAod2l0aCAxIGZvciBkZXB0aCkgKi9cclxuICBzaXplOiBUZXh0dXJlU2l6ZVxyXG5cclxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBUZXh0dXJlfSAqL1xyXG4gIG9wdGlvbnM6IFRleHR1cmVPcHRpb25zXHJcblxyXG4gIC8qKiBBIHtAbGluayBCdWZmZXJCaW5kaW5nIHwgYnVmZmVyIGJpbmRpbmd9IHRoYXQgd2lsbCBob2xkIHRoZSB0ZXh0dXJlIG1vZGVsIG1hdHJpeCAqL1xyXG4gIHRleHR1cmVNYXRyaXg6IEJ1ZmZlckJpbmRpbmdcclxuICAvKiogVGhlIGJpbmRpbmdzIHVzZWQgYnkgdGhpcyB7QGxpbmsgVGV4dHVyZX0sIGkuZS4gaXRzIHtAbGluayB0ZXh0dXJlTWF0cml4fSBhbmQgaXRzIHtAbGluayBUZXh0dXJlQmluZGluZyB8IEdQVSB0ZXh0dXJlIGJpbmRpbmd9ICovXHJcbiAgYmluZGluZ3M6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50W11cclxuXHJcbiAgLyoqIHtAbGluayBUZXh0dXJlfSBwYXJlbnRNZXNoIGlmIGFueSAqL1xyXG4gIHByaXZhdGUgX3BhcmVudE1lc2g6IFRleHR1cmVQYXJlbnRcclxuXHJcbiAgLyoqIFdoZXRoZXIgdGhlIHNvdXJjZSBoYXMgYmVlbiBsb2FkZWQgKi9cclxuICBwcml2YXRlIF9zb3VyY2VMb2FkZWQ6IGJvb2xlYW5cclxuICAvKiogV2hldGhlciB0aGUgc291cmNlIGhhcyBiZWVuIHVwbG9hZGVkIHRvIHRoZSBHUFUsIGhhbmRsZWQgYnkgdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjdGV4dHVyZXNRdWV1ZSB8IEdQVURldmljZU1hbmFnZXIgdGV4dHVyZXNRdWV1ZSBhcnJheX0gKi9cclxuICBwcml2YXRlIF9zb3VyY2VVcGxvYWRlZDogYm9vbGVhblxyXG4gIC8qKiBXaGV0aGVyIHRoZSB0ZXh0dXJlIHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgR1BVICovXHJcbiAgc2hvdWxkVXBkYXRlOiBib29sZWFuXHJcblxyXG4gIC8qKiB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrIHwgcmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFja30gcmV0dXJuZWQgaWQgaWYgdXNlZCAqL1xyXG4gIHZpZGVvRnJhbWVDYWxsYmFja0lkOiBudWxsIHwgbnVtYmVyXHJcblxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIGZvciB7QGxpbmsjbW9kZWxNYXRyaXh9IGNhbGN1bGF0aW9ucywgYmFzZWQgb24ge0BsaW5rIHBhcmVudE1lc2h9IHtAbGluayBSZWN0U2l6ZSB8IHNpemV9ICovXHJcbiAgI3BhcmVudFJhdGlvOiBWZWMzID0gbmV3IFZlYzMoMSlcclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdXNlZCBmb3Ige0BsaW5rIG1vZGVsTWF0cml4fSBjYWxjdWxhdGlvbnMsIGJhc2VkIG9uIHtAbGluayBzaXplIHwgc291cmNlIHNpemV9ICovXHJcbiAgI3NvdXJjZVJhdGlvOiBWZWMzID0gbmV3IFZlYzMoMSlcclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdXNlZCBmb3Ige0BsaW5rIG1vZGVsTWF0cml4fSBjYWxjdWxhdGlvbnMsIGJhc2VkIG9uICNwYXJlbnRSYXRpbyBhbmQgI3NvdXJjZVJhdGlvICovXHJcbiAgI2NvdmVyU2NhbGU6IFZlYzMgPSBuZXcgVmVjMygxKVxyXG4gIC8qKiBQcml2YXRlIHJvdGF0aW9uIHtAbGluayBNYXQ0IHwgbWF0cml4fSBiYXNlZCBvbiB0ZXh0dXJlIHtAbGluayBxdWF0ZXJuaW9ufSAqL1xyXG4gICNyb3RhdGlvbk1hdHJpeDogTWF0NCA9IG5ldyBNYXQ0KClcclxuXHJcbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXHJcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25Tb3VyY2VMb2FkZWR9IGNhbGxiYWNrICovXHJcbiAgX29uU291cmNlTG9hZGVkQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xyXG4gIH1cclxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblNvdXJjZVVwbG9hZGVkfSBjYWxsYmFjayAqL1xyXG4gIF9vblNvdXJjZVVwbG9hZGVkQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGV4dHVyZSBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFRleHR1cmV9XHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgVGV4dHVyZVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnMgPSBkZWZhdWx0VGV4dHVyZVBhcmFtcykge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMudHlwZSA9ICdUZXh0dXJlJ1xyXG5cclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXHJcblxyXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnICcgKyB0aGlzLnR5cGUgOiB0aGlzLnR5cGUpXHJcblxyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXHJcblxyXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgLi4uZGVmYXVsdFRleHR1cmVQYXJhbXMsXHJcbiAgICAgIHNvdXJjZTogcGFyYW1ldGVycy5mcm9tVGV4dHVyZSA/IHBhcmFtZXRlcnMuZnJvbVRleHR1cmUub3B0aW9ucy5zb3VyY2UgOiBudWxsLFxyXG4gICAgICBzb3VyY2VUeXBlOiBwYXJhbWV0ZXJzLmZyb21UZXh0dXJlID8gcGFyYW1ldGVycy5mcm9tVGV4dHVyZS5vcHRpb25zLnNvdXJjZVR5cGUgOiBudWxsLFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLnBhcmFtZXRlcnMgfVxyXG4gICAgLy8gZm9yY2UgbWVyZ2Ugb2YgdGV4dHVyZSBvYmplY3RcclxuICAgIC8vdGhpcy5vcHRpb25zLnRleHR1cmUgPSB7IC4uLmRlZmF1bHRPcHRpb25zLnRleHR1cmUsIC4uLnBhcmFtZXRlcnMudGV4dHVyZSB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmxhYmVsID0gdGhpcy5vcHRpb25zLmxhYmVsID8/IHRoaXMub3B0aW9ucy5uYW1lXHJcblxyXG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbFxyXG4gICAgdGhpcy5leHRlcm5hbFRleHR1cmUgPSBudWxsXHJcbiAgICB0aGlzLnNvdXJjZSA9IG51bGxcclxuXHJcbiAgICAvLyBzaXplc1xyXG4gICAgdGhpcy5zaXplID0ge1xyXG4gICAgICB3aWR0aDogMSxcclxuICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICBkZXB0aDogMSxcclxuICAgIH1cclxuXHJcbiAgICAvLyB3ZSB3aWxsIGFsd2F5cyBkZWNsYXJlIGEgdGV4dHVyZSBtYXRyaXhcclxuICAgIHRoaXMudGV4dHVyZU1hdHJpeCA9IG5ldyBCdWZmZXJCaW5kaW5nKHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICc6IG1vZGVsIG1hdHJpeCcsXHJcbiAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5uYW1lICsgJ01hdHJpeCcsXHJcbiAgICAgIHVzZVN0cnVjdDogZmFsc2UsXHJcbiAgICAgIHN0cnVjdDoge1xyXG4gICAgICAgIG1hdHJpeDoge1xyXG4gICAgICAgICAgbmFtZTogdGhpcy5vcHRpb25zLm5hbWUgKyAnTWF0cml4JyxcclxuICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcclxuICAgICAgICAgIHZhbHVlOiB0aGlzLm1vZGVsTWF0cml4LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuc2V0QmluZGluZ3MoKVxyXG5cclxuICAgIHRoaXMuX3BhcmVudE1lc2ggPSBudWxsXHJcblxyXG4gICAgdGhpcy5zb3VyY2VMb2FkZWQgPSBmYWxzZVxyXG4gICAgdGhpcy5zb3VyY2VVcGxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXHJcblxyXG4gICAgdGhpcy5yZW5kZXJlci5hZGRUZXh0dXJlKHRoaXMpXHJcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IG91ciB7QGxpbmsgYmluZGluZ3N9XHJcbiAgICovXHJcbiAgc2V0QmluZGluZ3MoKSB7XHJcbiAgICB0aGlzLmJpbmRpbmdzID0gW1xyXG4gICAgICBuZXcgVGV4dHVyZUJpbmRpbmcoe1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiB0ZXh0dXJlJyxcclxuICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMubmFtZSxcclxuICAgICAgICB0ZXh0dXJlOiB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nID8gdGhpcy5leHRlcm5hbFRleHR1cmUgOiB0aGlzLnRleHR1cmUsXHJcbiAgICAgICAgYmluZGluZ1R5cGU6IHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycgPyAnZXh0ZXJuYWxUZXh0dXJlJyA6ICd0ZXh0dXJlJyxcclxuICAgICAgICB2aWV3RGltZW5zaW9uOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbixcclxuICAgICAgfSBhcyBUZXh0dXJlQmluZGluZ1BhcmFtcyksXHJcbiAgICAgIHRoaXMudGV4dHVyZU1hdHJpeCxcclxuICAgIF1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgR1BVIHRleHR1cmUgYmluZGluZ31cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgdGV4dHVyZUJpbmRpbmcoKTogVGV4dHVyZUJpbmRpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuYmluZGluZ3NbMF0gYXMgVGV4dHVyZUJpbmRpbmdcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIgdGV4dHVyZSB7QGxpbmsgcGFyZW50TWVzaH1cclxuICAgKi9cclxuICBnZXQgcGFyZW50TWVzaCgpOiBUZXh0dXJlUGFyZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9wYXJlbnRNZXNoXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHRleHR1cmUge0BsaW5rIHBhcmVudE1lc2h9XHJcbiAgICogQHBhcmFtIHZhbHVlIC0gdGV4dHVyZSB7QGxpbmsgcGFyZW50TWVzaH0gdG8gc2V0IChpLmUuIGFueSBraW5kIG9mIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5SZW5kZXJlZE1lc2ggfCBNZXNofVxyXG4gICAqL1xyXG4gIHNldCBwYXJlbnRNZXNoKHZhbHVlOiBUZXh0dXJlUGFyZW50KSB7XHJcbiAgICB0aGlzLl9wYXJlbnRNZXNoID0gdmFsdWVcclxuICAgIHRoaXMucmVzaXplKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIG91ciB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKi9cclxuICBnZXQgc291cmNlTG9hZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZUxvYWRlZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHdoZXRoZXIgb3VyIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIGxvYWRlZFxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIGJvb2xlYW4gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKi9cclxuICBzZXQgc291cmNlTG9hZGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgIXRoaXMuc291cmNlTG9hZGVkKSB7XHJcbiAgICAgIHRoaXMuX29uU291cmNlTG9hZGVkQ2FsbGJhY2sgJiYgdGhpcy5fb25Tb3VyY2VMb2FkZWRDYWxsYmFjaygpXHJcbiAgICB9XHJcbiAgICB0aGlzLl9zb3VyY2VMb2FkZWQgPSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHdoZXRoZXIgb3VyIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIHVwbG9hZGVkXHJcbiAgICovXHJcbiAgZ2V0IHNvdXJjZVVwbG9hZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZVVwbG9hZGVkXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgd2hldGhlciBvdXIge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gdXBsb2FkZWRcclxuICAgKiBAcGFyYW0gdmFsdWUgLSBib29sZWFuIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gdXBsb2FkZWRcclxuICAgKi9cclxuICBzZXQgc291cmNlVXBsb2FkZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5zb3VyY2VVcGxvYWRlZCkge1xyXG4gICAgICB0aGlzLl9vblNvdXJjZVVwbG9hZGVkQ2FsbGJhY2sgJiYgdGhpcy5fb25Tb3VyY2VVcGxvYWRlZENhbGxiYWNrKClcclxuICAgIH1cclxuICAgIHRoaXMuX3NvdXJjZVVwbG9hZGVkID0gdmFsdWVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvdXIgdGV4dHVyZSB7QGxpbmsgdHJhbnNmb3Jtc30gb2JqZWN0XHJcbiAgICovXHJcbiAgc2V0VHJhbnNmb3JtcygpIHtcclxuICAgIHN1cGVyLnNldFRyYW5zZm9ybXMoKVxyXG5cclxuICAgIHRoaXMudHJhbnNmb3Jtcy5xdWF0ZXJuaW9uLnNldEF4aXNPcmRlcignWlhZJylcclxuXHJcbiAgICAvLyByZXNldCBvdXIgbW9kZWwgdHJhbnNmb3JtIG9yaWdpbiB0byByZWZsZWN0IENTUyB0cmFuc2Zvcm0gb3JpZ2luc1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLm9yaWdpbi5tb2RlbC5zZXQoMC41LCAwLjUsIDApXHJcbiAgfVxyXG5cclxuICAvKiBURVhUVVJFIE1BVFJJWCAqL1xyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBtb2RlbE1hdHJpeH1cclxuICAgKi9cclxuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcclxuICAgIGlmICghdGhpcy5wYXJlbnRNZXNoKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBwYXJlbnRTY2FsZSA9ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuc2NhbGVcclxuICAgICAgPyAodGhpcy5wYXJlbnRNZXNoIGFzIERPTVByb2plY3RlZE1lc2gpLnNjYWxlXHJcbiAgICAgIDogbmV3IFZlYzMoMSwgMSwgMSlcclxuXHJcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuYm91bmRpbmdSZWN0XHJcbiAgICAgID8gKHRoaXMucGFyZW50TWVzaCBhcyBET01Qcm9qZWN0ZWRNZXNoKS5ib3VuZGluZ1JlY3Qud2lkdGggKiBwYXJlbnRTY2FsZS54XHJcbiAgICAgIDogdGhpcy5zaXplLndpZHRoXHJcbiAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSAodGhpcy5wYXJlbnRNZXNoIGFzIERPTVByb2plY3RlZE1lc2gpLmJvdW5kaW5nUmVjdFxyXG4gICAgICA/ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuYm91bmRpbmdSZWN0LmhlaWdodCAqIHBhcmVudFNjYWxlLnlcclxuICAgICAgOiB0aGlzLnNpemUuaGVpZ2h0XHJcblxyXG4gICAgY29uc3QgcGFyZW50UmF0aW8gPSBwYXJlbnRXaWR0aCAvIHBhcmVudEhlaWdodFxyXG4gICAgY29uc3Qgc291cmNlUmF0aW8gPSB0aGlzLnNpemUud2lkdGggLyB0aGlzLnNpemUuaGVpZ2h0XHJcblxyXG4gICAgLy8gaGFuZGxlIHRoZSB0ZXh0dXJlIHJvdGF0aW9uXHJcbiAgICAvLyBodWdlIHByb3BzIHRvIFtAZ3JncmR2cnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9ncmdyZHZydCkgZm9yIHRoaXMgc29sdXRpb24hXHJcbiAgICBpZiAocGFyZW50V2lkdGggPiBwYXJlbnRIZWlnaHQpIHtcclxuICAgICAgdGhpcy4jcGFyZW50UmF0aW8uc2V0KHBhcmVudFJhdGlvLCAxLCAxKVxyXG4gICAgICB0aGlzLiNzb3VyY2VSYXRpby5zZXQoMSAvIHNvdXJjZVJhdGlvLCAxLCAxKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy4jcGFyZW50UmF0aW8uc2V0KDEsIDEgLyBwYXJlbnRSYXRpbywgMSlcclxuICAgICAgdGhpcy4jc291cmNlUmF0aW8uc2V0KDEsIHNvdXJjZVJhdGlvLCAxKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvdmVyIHJhdGlvIGlzIGEgYml0IHRyaWNreSFcclxuICAgIGNvbnN0IGNvdmVyUmF0aW8gPVxyXG4gICAgICBwYXJlbnRSYXRpbyA+IHNvdXJjZVJhdGlvICE9PSBwYXJlbnRXaWR0aCA+IHBhcmVudEhlaWdodFxyXG4gICAgICAgID8gMVxyXG4gICAgICAgIDogcGFyZW50V2lkdGggPiBwYXJlbnRIZWlnaHRcclxuICAgICAgICA/IHRoaXMuI3BhcmVudFJhdGlvLnggKiB0aGlzLiNzb3VyY2VSYXRpby54XHJcbiAgICAgICAgOiB0aGlzLiNzb3VyY2VSYXRpby55ICogdGhpcy4jcGFyZW50UmF0aW8ueVxyXG5cclxuICAgIHRoaXMuI2NvdmVyU2NhbGUuc2V0KDEgLyAoY292ZXJSYXRpbyAqIHRoaXMuc2NhbGUueCksIDEgLyAoY292ZXJSYXRpbyAqIHRoaXMuc2NhbGUueSksIDEpXHJcblxyXG4gICAgdGhpcy4jcm90YXRpb25NYXRyaXgucm90YXRlRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKVxyXG5cclxuICAgIC8vIGhlcmUgd2UgY291bGQgY3JlYXRlIGEgbWF0cml4IGZvciBlYWNoIHRyYW5zbGF0aW9ucyAvIHNjYWxlcyBhbmQgZG86XHJcbiAgICAvLyB0aGlzLm1vZGVsTWF0cml4XHJcbiAgICAvLyAgIC5pZGVudGl0eSgpXHJcbiAgICAvLyAgIC5wcmVtdWx0aXBseShuZWdhdGl2ZU9yaWdpbk1hdHJpeClcclxuICAgIC8vICAgLnByZW11bHRpcGx5KGNvdmVyU2NhbGVNYXRyaXgpXHJcbiAgICAvLyAgIC5wcmVtdWx0aXBseShwYXJlbnRSYXRpb01hdHJpeClcclxuICAgIC8vICAgLnByZW11bHRpcGx5KHJvdGF0aW9uTWF0cml4KVxyXG4gICAgLy8gICAucHJlbXVsdGlwbHkodGV4dHVyZVJhdGlvTWF0cml4KVxyXG4gICAgLy8gICAucHJlbXVsdGlwbHkob3JpZ2luTWF0cml4KVxyXG4gICAgLy8gICAudHJhbnNsYXRlKHRoaXMucG9zaXRpb24pXHJcblxyXG4gICAgLy8gYnV0IHRoaXMgaXMgZmFzdGVyIVxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeFxyXG4gICAgICAuaWRlbnRpdHkoKVxyXG4gICAgICAucHJlbXVsdGlwbHlUcmFuc2xhdGUodGhpcy50cmFuc2Zvcm1PcmlnaW4uY2xvbmUoKS5tdWx0aXBseVNjYWxhcigtMSkpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI2NvdmVyU2NhbGUpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI3BhcmVudFJhdGlvKVxyXG4gICAgICAucHJlbXVsdGlwbHkodGhpcy4jcm90YXRpb25NYXRyaXgpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI3NvdXJjZVJhdGlvKVxyXG4gICAgICAucHJlbXVsdGlwbHlUcmFuc2xhdGUodGhpcy50cmFuc2Zvcm1PcmlnaW4pXHJcbiAgICAgIC50cmFuc2xhdGUodGhpcy5wb3NpdGlvbilcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIG91ciB7QGxpbmsgbW9kZWxNYXRyaXh9IGhhcyBiZWVuIHVwZGF0ZWQsIHRlbGwgdGhlIHtAbGluayB0ZXh0dXJlTWF0cml4IHwgdGV4dHVyZSBtYXRyaXggYmluZGluZ30gdG8gdXBkYXRlIGFzIHdlbGxcclxuICAgKi9cclxuICBvbkFmdGVyTWF0cml4U3RhY2tVcGRhdGUoKSB7XHJcbiAgICB0aGlzLnRleHR1cmVNYXRyaXguc2hvdWxkVXBkYXRlQmluZGluZyh0aGlzLm9wdGlvbnMubmFtZSArICdNYXRyaXgnKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzaXplIG91ciB7QGxpbmsgVGV4dHVyZX1cclxuICAgKi9cclxuICByZXNpemUoKSB7XHJcbiAgICAvLyB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiB3aXRoIGNhbnZhcyB0ZXh0dXJlc1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnNvdXJjZSAmJlxyXG4gICAgICB0aGlzLnNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmXHJcbiAgICAgICh0aGlzLnNvdXJjZS53aWR0aCAhPT0gdGhpcy5zaXplLndpZHRoIHx8IHRoaXMuc291cmNlLmhlaWdodCAhPT0gdGhpcy5zaXplLmhlaWdodClcclxuICAgICkge1xyXG4gICAgICAvLyBzaW5jZSB0aGUgc291cmNlIHNpemUgaGFzIGNoYW5nZWQsIHdlIGhhdmUgdG8gcmVjcmVhdGUgYSBuZXcgdGV4dHVyZVxyXG4gICAgICB0aGlzLnNldFNvdXJjZVNpemUoKVxyXG4gICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRlbGwgb3VyIG1vZGVsIG1hdHJpeCB0byB1cGRhdGVcclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBudW1iZXIgb2YgbWlwIGxldmVscyBjcmVhdGUgYmFzZWQgb24ge0BsaW5rIHNpemV9XHJcbiAgICogQHBhcmFtIHNpemVzIC0gQXJyYXkgY29udGFpbmluZyBvdXIgdGV4dHVyZSB3aWR0aCwgaGVpZ2h0IGFuZCBkZXB0aFxyXG4gICAqIEByZXR1cm5zIC0gbnVtYmVyIG9mIG1pcCBsZXZlbHNcclxuICAgKi9cclxuICBnZXROdW1NaXBMZXZlbHMoLi4uc2l6ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IG1heFNpemUgPSBNYXRoLm1heCguLi5zaXplcylcclxuICAgIHJldHVybiAoMSArIE1hdGgubG9nMihtYXhTaXplKSkgfCAwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZWxsIHRoZSB7QGxpbmsgUmVuZGVyZXJ9IHRvIHVwbG9hZCBvciB0ZXh0dXJlXHJcbiAgICovXHJcbiAgdXBsb2FkVGV4dHVyZSgpIHtcclxuICAgIHRoaXMucmVuZGVyZXIudXBsb2FkVGV4dHVyZSh0aGlzKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGUgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW1wb3J0IGEge0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gZnJvbSB0aGUge0BsaW5rIFJlbmRlcmVyfSwgdXBkYXRlIHRoZSAge0BsaW5rIHRleHR1cmVCaW5kaW5nfSBhbmQgaXRzIHtAbGluayBjb3JlL2JpbmRHcm91cHMvVGV4dHVyZUJpbmRHcm91cC5UZXh0dXJlQmluZEdyb3VwIHwgYmluZCBncm91cH1cclxuICAgKi9cclxuICB1cGxvYWRWaWRlb1RleHR1cmUoKSB7XHJcbiAgICB0aGlzLmV4dGVybmFsVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuaW1wb3J0RXh0ZXJuYWxUZXh0dXJlKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpXHJcbiAgICB0aGlzLnRleHR1cmVCaW5kaW5nLnJlc291cmNlID0gdGhpcy5leHRlcm5hbFRleHR1cmVcclxuICAgIHRoaXMudGV4dHVyZUJpbmRpbmcuc2V0QmluZGluZ1R5cGUoJ2V4dGVybmFsVGV4dHVyZScpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29weSBhIHtAbGluayBUZXh0dXJlfVxyXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGNvcHlcclxuICAgKi9cclxuICBjb3B5KHRleHR1cmU6IFRleHR1cmUpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nICYmIHRleHR1cmUub3B0aW9ucy5zb3VyY2VUeXBlICE9PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMub3B0aW9ucy5sYWJlbH06IGNhbm5vdCBjb3B5IGEgR1BVVGV4dHVyZSB0byBhIEdQVUV4dGVybmFsVGV4dHVyZWApXHJcbiAgICAgIHJldHVyblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc291cmNlVHlwZSAhPT0gJ2V4dGVybmFsVmlkZW8nICYmIHRleHR1cmUub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMub3B0aW9ucy5sYWJlbH06IGNhbm5vdCBjb3B5IGEgR1BVRXh0ZXJuYWxUZXh0dXJlIHRvIGEgR1BVVGV4dHVyZWApXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSA9IHRleHR1cmVcclxuXHJcbiAgICAvLyBub3cgY29weSBhbGwgZGVzaXJlZCB0ZXh0dXJlIG9wdGlvbnMgZXhjZXB0IHNvdXJjZVxyXG4gICAgLy8gY29uc3QgeyBzb3VyY2UsIC4uLm9wdGlvbnNUb0NvcHkgfSA9IHRleHR1cmUub3B0aW9uc1xyXG4gICAgLy8gdGhpcy5vcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMsIC4uLm9wdGlvbnNUb0NvcHkgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID0gdGV4dHVyZS5vcHRpb25zLnNvdXJjZVR5cGVcclxuXHJcbiAgICAvLyBUT0RPIGJldHRlciB3YXkgdG8gZG8gdGhhdD9cclxuICAgIHRoaXMub3B0aW9ucy5nZW5lcmF0ZU1pcHMgPSB0ZXh0dXJlLm9wdGlvbnMuZ2VuZXJhdGVNaXBzXHJcbiAgICB0aGlzLm9wdGlvbnMuZmxpcFkgPSB0ZXh0dXJlLm9wdGlvbnMuZmxpcFlcclxuICAgIHRoaXMub3B0aW9ucy5mb3JtYXQgPSB0ZXh0dXJlLm9wdGlvbnMuZm9ybWF0XHJcbiAgICB0aGlzLm9wdGlvbnMucHJlbXVsdGlwbGllZEFscGhhID0gdGV4dHVyZS5vcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYVxyXG4gICAgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IgPSB0ZXh0dXJlLm9wdGlvbnMucGxhY2Vob2xkZXJDb2xvclxyXG4gICAgdGhpcy5vcHRpb25zLnVzZUV4dGVybmFsVGV4dHVyZXMgPSB0ZXh0dXJlLm9wdGlvbnMudXNlRXh0ZXJuYWxUZXh0dXJlc1xyXG5cclxuICAgIHRoaXMuc291cmNlTG9hZGVkID0gdGV4dHVyZS5zb3VyY2VMb2FkZWRcclxuICAgIHRoaXMuc291cmNlVXBsb2FkZWQgPSB0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkXHJcblxyXG4gICAgLy8gVE9ETyBleHRlcm5hbCB0ZXh0dXJlP1xyXG4gICAgaWYgKHRleHR1cmUudGV4dHVyZSkge1xyXG4gICAgICBpZiAodGV4dHVyZS5zb3VyY2VMb2FkZWQpIHtcclxuICAgICAgICB0aGlzLnNpemUgPSB0ZXh0dXJlLnNpemVcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRleHR1cmUuc291cmNlXHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplKClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRleHR1cmUuc291cmNlVXBsb2FkZWQpIHtcclxuICAgICAgICAvLyB0ZXh0dXJlIHRvIGNvcHkgaXMgcmVhZHksIHVwZGF0ZSBvdXIgdGV4dHVyZSBhbmQgYmluZGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUudGV4dHVyZVxyXG4gICAgICAgIHRoaXMudGV4dHVyZUJpbmRpbmcucmVzb3VyY2UgPSB0aGlzLnRleHR1cmVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayB0ZXh0dXJlIHwgR1BVIHRleHR1cmV9XHJcbiAgICovXHJcbiAgY3JlYXRlVGV4dHVyZSgpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwsXHJcbiAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLmZvcm1hdCxcclxuICAgICAgc2l6ZTogW3RoaXMuc2l6ZS53aWR0aCwgdGhpcy5zaXplLmhlaWdodCwgdGhpcy5zaXplLmRlcHRoXSwgLy8gWzEsIDFdIGlmIG5vIHNvdXJjZVxyXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzFkJyA/ICcxZCcgOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzNkJyA/ICczZCcgOiAnMmQnLFxyXG4gICAgICAvL3NhbXBsZUNvdW50OiB0aGlzLnNvdXJjZSA/IHRoaXMucmVuZGVyZXIuc2FtcGxlQ291bnQgOiAxLFxyXG4gICAgICB1c2FnZTogISF0aGlzLnNvdXJjZVxyXG4gICAgICAgID8gR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCB8IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVFxyXG4gICAgICAgIDogR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcclxuICAgIH0gYXMgR1BVVGV4dHVyZURlc2NyaXB0b3JcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnNvdXJjZVR5cGUgIT09ICdleHRlcm5hbFZpZGVvJykge1xyXG4gICAgICBvcHRpb25zLm1pcExldmVsQ291bnQgPSB0aGlzLm9wdGlvbnMuZ2VuZXJhdGVNaXBzID8gdGhpcy5nZXROdW1NaXBMZXZlbHModGhpcy5zaXplLndpZHRoLCB0aGlzLnNpemUuaGVpZ2h0KSA6IDFcclxuXHJcbiAgICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXHJcblxyXG4gICAgICB0aGlzLnRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHR1cmUob3B0aW9ucylcclxuXHJcbiAgICAgIC8vIHVwZGF0ZSB0ZXh0dXJlIGJpbmRpbmdcclxuICAgICAgdGhpcy50ZXh0dXJlQmluZGluZy5yZXNvdXJjZSA9IHRoaXMudGV4dHVyZVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyogU09VUkNFUyAqL1xyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBzaXplfSBiYXNlZCBvbiB0aGUge0BsaW5rIHNvdXJjZX1cclxuICAgKi9cclxuICBzZXRTb3VyY2VTaXplKCkge1xyXG4gICAgdGhpcy5zaXplID0ge1xyXG4gICAgICB3aWR0aDpcclxuICAgICAgICAodGhpcy5zb3VyY2UgYXMgSFRNTEltYWdlRWxlbWVudCkubmF0dXJhbFdpZHRoIHx8XHJcbiAgICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxDYW52YXNFbGVtZW50KS53aWR0aCB8fFxyXG4gICAgICAgICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS52aWRlb1dpZHRoLFxyXG4gICAgICBoZWlnaHQ6XHJcbiAgICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxJbWFnZUVsZW1lbnQpLm5hdHVyYWxIZWlnaHQgfHxcclxuICAgICAgICAodGhpcy5zb3VyY2UgYXMgSFRNTENhbnZhc0VsZW1lbnQpLmhlaWdodCB8fFxyXG4gICAgICAgICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS52aWRlb0hlaWdodCxcclxuICAgICAgZGVwdGg6IDEsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGFuIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSBmcm9tIGEgVVJMIGFuZCBjcmVhdGUgYW4ge0BsaW5rIEltYWdlQml0bWFwfSB0byB1c2UgYXMgYSB7QGxpbmsgc291cmNlfVxyXG4gICAqIEBhc3luY1xyXG4gICAqIEBwYXJhbSB1cmwgLSBVUkwgb2YgdGhlIGltYWdlIHRvIGxvYWRcclxuICAgKiBAcmV0dXJucyAtIHRoZSBuZXdseSBjcmVhdGVkIHtAbGluayBJbWFnZUJpdG1hcH1cclxuICAgKi9cclxuICBhc3luYyBsb2FkSW1hZ2VCaXRtYXAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEltYWdlQml0bWFwPiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpXHJcbiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKVxyXG4gICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIHsgY29sb3JTcGFjZUNvbnZlcnNpb246ICdub25lJyB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZCBhbmQgY3JlYXRlIGFuIHtAbGluayBJbWFnZUJpdG1hcH0gZnJvbSBhIFVSTCBvciB7QGxpbmsgSFRNTEltYWdlRWxlbWVudH0sIHVzZSBpdCBhcyBhIHtAbGluayBzb3VyY2V9IGFuZCBjcmVhdGUgdGhlIHtAbGluayBHUFVUZXh0dXJlfVxyXG4gICAqIEBhc3luY1xyXG4gICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgaW1hZ2UgVVJMIG9yIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSB0byBsb2FkXHJcbiAgICogQHJldHVybnMgLSB0aGUgbmV3bHkgY3JlYXRlZCB7QGxpbmsgSW1hZ2VCaXRtYXB9XHJcbiAgICovXHJcbiAgYXN5bmMgbG9hZEltYWdlKHNvdXJjZTogc3RyaW5nIHwgSFRNTEltYWdlRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgdXJsID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgPyBzb3VyY2UgOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCdzcmMnKVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2UgPSB1cmxcclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID0gJ2ltYWdlJ1xyXG5cclxuICAgIGNvbnN0IGNhY2hlZFRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVzLmZpbmQoKHQpID0+IHQub3B0aW9ucy5zb3VyY2UgPT09IHVybClcclxuICAgIGlmIChjYWNoZWRUZXh0dXJlICYmIGNhY2hlZFRleHR1cmUudGV4dHVyZSAmJiBjYWNoZWRUZXh0dXJlLnNvdXJjZVVwbG9hZGVkKSB7XHJcbiAgICAgIHRoaXMuY29weShjYWNoZWRUZXh0dXJlKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IGF3YWl0IHRoaXMubG9hZEltYWdlQml0bWFwKHRoaXMub3B0aW9ucy5zb3VyY2UpXHJcblxyXG4gICAgdGhpcy5zZXRTb3VyY2VTaXplKClcclxuICAgIHRoaXMucmVzaXplKClcclxuXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IHRydWVcclxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXHJcbiAgfVxyXG5cclxuICAvLyB3ZWlybGR5IGVub3VnaCwgd2UgZG9uJ3QgaGF2ZSB0byBkbyBhbnl0aGluZyBpbiB0aGF0IGNhbGxiYWNrXHJcbiAgLy8gYmVjYXVzZSB0aGUgPHZpZGVvPiBpcyBub3QgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQsIHRoZSB2aWRlbyBwbGF5YmFjayBpcyB0aHJvdHRsZWRcclxuICAvLyBhbmQgdGhlIHJlbmRlcmluZyBpcyBqYW5reVxyXG4gIC8vIHVzaW5nIHJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sgaGVscHMgcHJldmVudGluZyB0aGlzIGJ1dCBpcyB1bnN1cHBvcnRlZCBpbiBGaXJlZm94IGF0IHRoZSBtb21lbnRcclxuICAvLyBXZWJDb2RlY3MgbWF5IGJlIHRoZSB3YXkgdG8gZ28gd2hlbiB0aW1lIGNvbWVzIVxyXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy9uZXctaW4td2ViZ3B1LTExMy8jdXNlLXdlYmNvZGVjcy12aWRlb2ZyYW1lLXNvdXJjZS1pbi1pbXBvcnRleHRlcm5hbHRleHR1cmVcclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBzaG91bGRVcGRhdGV9IGZsYWcgdG8gdHJ1ZSBhdCBlYWNoIG5ldyB2aWRlbyBmcmFtZVxyXG4gICAqL1xyXG4gIG9uVmlkZW9GcmFtZUNhbGxiYWNrKCkge1xyXG4gICAgaWYgKHRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQpIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICAgIDsodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLm9uVmlkZW9GcmFtZUNhbGxiYWNrLmJpbmQodGhpcykpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxsYmFjayB0byBydW4gd2hlbiBhIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBoYXMgbG9hZGVkICh3aGVuIGl0IGhhcyBlbm91Z2ggZGF0YSB0byBwbGF5KS5cclxuICAgKiBTZXQgdGhlIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBhcyBhIHtAbGluayBzb3VyY2V9IGFuZCBjcmVhdGUgdGhlIHtAbGluayBHUFVUZXh0dXJlfSBvciB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfVxyXG4gICAqIEBwYXJhbSB2aWRlbyAtIHRoZSBuZXdseSBsb2FkZWQge0BsaW5rIEhUTUxWaWRlb0VsZW1lbnR9XHJcbiAgICovXHJcbiAgb25WaWRlb0xvYWRlZCh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCkge1xyXG4gICAgaWYgKCF0aGlzLnNvdXJjZUxvYWRlZCkge1xyXG4gICAgICB0aGlzLnNvdXJjZSA9IHZpZGVvXHJcblxyXG4gICAgICB0aGlzLnNldFNvdXJjZVNpemUoKVxyXG4gICAgICB0aGlzLnJlc2l6ZSgpXHJcblxyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnVzZUV4dGVybmFsVGV4dHVyZXMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICdleHRlcm5hbFZpZGVvJ1xyXG5cclxuICAgICAgICAvLyB0ZXh0dXJlIGJpbmRpbmcgd2lsbCBiZSBzZXQgd2hlbiB1cGxvYWRpbmcgZXh0ZXJuYWwgdGV4dHVyZVxyXG4gICAgICAgIC8vIG1lYW53aGlsZSwgZGVzdHJveSBwcmV2aW91cyB0ZXh0dXJlXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlPy5kZXN0cm95KClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICd2aWRlbydcclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoJ3JlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2snIGluIEhUTUxWaWRlb0VsZW1lbnQucHJvdG90eXBlKSB7XHJcbiAgICAgICAgdGhpcy52aWRlb0ZyYW1lQ2FsbGJhY2tJZCA9ICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKFxyXG4gICAgICAgICAgdGhpcy5vblZpZGVvRnJhbWVDYWxsYmFjay5iaW5kKHRoaXMpXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIHRoZSB7QGxpbmsgc291cmNlfSBpcyBhIHZpZGVvXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IGlzVmlkZW9Tb3VyY2UoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UgJiYgKHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAndmlkZW8nIHx8IHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGEgdmlkZW8gZnJvbSBhIFVSTCBvciB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudH0gYW5kIHJlZ2lzdGVyIHtAbGluayBvblZpZGVvTG9hZGVkfSBjYWxsYmFja1xyXG4gICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgdmlkZW8gVVJMIG9yIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSB0byBsb2FkXHJcbiAgICovXHJcbiAgbG9hZFZpZGVvKHNvdXJjZTogc3RyaW5nIHwgSFRNTFZpZGVvRWxlbWVudCkge1xyXG4gICAgbGV0IHZpZGVvXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKVxyXG4gICAgICB2aWRlby5zcmMgPSBzb3VyY2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZpZGVvID0gc291cmNlXHJcbiAgICB9XHJcblxyXG4gICAgdmlkZW8ucHJlbG9hZCA9ICdhdXRvJ1xyXG4gICAgdmlkZW8ubXV0ZWQgPSB0cnVlXHJcbiAgICB2aWRlby5sb29wID0gdHJ1ZVxyXG4gICAgdmlkZW8uY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJ1xyXG4gICAgdmlkZW8uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2UgPSB2aWRlby5zcmNcclxuICAgIHRoaXMuc291cmNlTG9hZGVkID0gZmFsc2VcclxuICAgIHRoaXMuc291cmNlVXBsb2FkZWQgPSBmYWxzZVxyXG5cclxuICAgIC8vIElmIHRoZSB2aWRlbyBpcyBpbiB0aGUgY2FjaGUgb2YgdGhlIGJyb3dzZXIsXHJcbiAgICAvLyB0aGUgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCBtaWdodCBoYXZlIGJlZW4gdHJpZ2dlcmVkXHJcbiAgICAvLyBiZWZvcmUgd2UgcmVnaXN0ZXJlZCB0aGUgZXZlbnQgaGFuZGxlci5cclxuICAgIGlmICh2aWRlby5yZWFkeVN0YXRlID49IHZpZGVvLkhBVkVfRU5PVUdIX0RBVEEpIHtcclxuICAgICAgdGhpcy5vblZpZGVvTG9hZGVkKHZpZGVvKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLm9uVmlkZW9Mb2FkZWQuYmluZCh0aGlzLCB2aWRlbyksIHtcclxuICAgICAgICBvbmNlOiB0cnVlLFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIGR1cmF0aW9uIGlzIG5vdCBhdmFpbGFibGUsIHNob3VsZCBtZWFuIG91ciB2aWRlbyBoYXMgbm90IHN0YXJ0ZWQgbG9hZGluZ1xyXG4gICAgaWYgKGlzTmFOKHZpZGVvLmR1cmF0aW9uKSkge1xyXG4gICAgICB2aWRlby5sb2FkKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgYSB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9LCB1c2UgaXQgYXMgYSB7QGxpbmsgc291cmNlfSBhbmQgY3JlYXRlIHRoZSB7QGxpbmsgR1BVVGV4dHVyZX1cclxuICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gdG8gdXNlXHJcbiAgICovXHJcbiAgbG9hZENhbnZhcyhzb3VyY2U6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICB0aGlzLm9wdGlvbnMuc291cmNlID0gc291cmNlXHJcbiAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICdjYW52YXMnXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZVxyXG5cclxuICAgIHRoaXMuc2V0U291cmNlU2l6ZSgpXHJcbiAgICB0aGlzLnJlc2l6ZSgpXHJcblxyXG4gICAgdGhpcy5zb3VyY2VMb2FkZWQgPSB0cnVlXHJcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gIH1cclxuXHJcbiAgLyogRVZFTlRTICovXHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB0aGUge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gbG9hZGVkXHJcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgb25Tb3VyY2VMb2FkZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBUZXh0dXJlIHtcclxuICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICB0aGlzLl9vblNvdXJjZUxvYWRlZENhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIHVwbG9hZGVkXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBzb3VyY2V9IGJlZW4gdXBsb2FkZWRcclxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgVGV4dHVyZX1cclxuICAgKi9cclxuICBvblNvdXJjZVVwbG9hZGVkKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVGV4dHVyZSB7XHJcbiAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgdGhpcy5fb25Tb3VyY2VVcGxvYWRlZENhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyogUkVOREVSICovXHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlciBhIHtAbGluayBUZXh0dXJlfTpcclxuICAgKiAtIFVwZGF0ZSBpdHMge0BsaW5rIG1vZGVsTWF0cml4fSBhbmQge0BsaW5rIGJpbmRpbmdzfSBpZiBuZWVkZWRcclxuICAgKiAtIFVwbG9hZCB0aGUgdGV4dHVyZSBpZiBpdCBuZWVkcyB0byBiZSBkb25lXHJcbiAgICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgLy8gdXBkYXRlIG91ciBtb2RlbCBtYXRyaXggaWYgbmVlZGVkXHJcbiAgICB0aGlzLnVwZGF0ZU1hdHJpeFN0YWNrKClcclxuXHJcbiAgICAvLyB1cGRhdGUgdW5pZm9ybXMgdmFsdWVzXHJcbiAgICB0aGlzLnRleHR1cmVNYXRyaXgudXBkYXRlKClcclxuXHJcbiAgICAvLyBzaW5jZSBleHRlcm5hbCB0ZXh0dXJlIGFyZSBkZXN0cm95ZWQgYXMgc29vbiBhcyBKYXZhU2NyaXB0IHJldHVybnMgdG8gdGhlIGJyb3dzZXJcclxuICAgIC8vIHdlIG5lZWQgdG8gdXBkYXRlIGl0IGF0IGV2ZXJ5IHRpY2ssIGV2ZW4gaWYgaXQgaGFzbid0IGNoYW5nZWRcclxuICAgIC8vIHRvIGVuc3VyZSB3ZSdyZSBub3Qgc2VuZGluZyBhIHN0YWxlIC8gZGVzdHJveWVkIHRleHR1cmVcclxuICAgIC8vIGFueXdheSwgZXh0ZXJuYWwgdGV4dHVyZSBhcmUgY2FjaGVkIHNvIGl0IGlzIGZpbmVkIHRvIGNhbGwgaW1wb3J0RXh0ZXJuYWxUZXh0dXJlIGF0IGVhY2ggdGlja1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgbm8gdmlkZW9GcmFtZUNhbGxiYWNrIGNoZWNrIGlmIHRoZSB2aWRlbyBpcyBhY3R1YWxseSByZWFsbHkgcGxheWluZ1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLmlzVmlkZW9Tb3VyY2UgJiZcclxuICAgICAgIXRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQgJiZcclxuICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnJlYWR5U3RhdGUgPj0gKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLkhBVkVfQ1VSUkVOVF9EQVRBICYmXHJcbiAgICAgICEodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkucGF1c2VkXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlICYmIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlICYmIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlICE9PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhpcy51cGxvYWRUZXh0dXJlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qIERFU1RST1kgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSB0aGUge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLnZpZGVvRnJhbWVDYWxsYmFja0lkKSB7XHJcbiAgICAgIDsodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkuY2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWaWRlb1NvdXJjZSkge1xyXG4gICAgICA7KHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgJ2NhbnBsYXl0aHJvdWdoJyxcclxuICAgICAgICB0aGlzLm9uVmlkZW9Mb2FkZWQuYmluZCh0aGlzLCB0aGlzLnNvdXJjZSksXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgb25jZTogdHJ1ZSxcclxuICAgICAgICB9IGFzIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zICYgRXZlbnRMaXN0ZW5lck9wdGlvbnNcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlVGV4dHVyZSh0aGlzKVxyXG5cclxuICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXHJcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4vQmluZEdyb3VwJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBTYW1wbGVyIH0gZnJvbSAnLi4vc2FtcGxlcnMvU2FtcGxlcidcbmltcG9ydCB7IEJpbmRHcm91cFBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXG5pbXBvcnQgeyBNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5cbi8qKlxuICogQW4gb2JqZWN0IGRlZmluaW5nIGFsbCBwb3NzaWJsZSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cH0gY2xhc3MgaW5zdGFuY2luZyBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dHVyZUJpbmRHcm91cFBhcmFtcyBleHRlbmRzIEJpbmRHcm91cFBhcmFtcyB7XG4gIC8qKiBhcnJheSBvZiB7QGxpbmsgTWF0ZXJpYWxUZXh0dXJlIHwgdGV4dHVyZXN9IHRvIGFkZCB0byBhIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSAqL1xuICB0ZXh0dXJlcz86IE1hdGVyaWFsVGV4dHVyZVtdXG4gIC8qKiBhcnJheSBvZiB7QGxpbmsgU2FtcGxlcn0gdG8gYWRkIHRvIGEge0BsaW5rIFRleHR1cmVCaW5kR3JvdXB9ICovXG4gIHNhbXBsZXJzPzogU2FtcGxlcltdXG59XG5cbi8qKlxuICogVXNlZCB0byByZWdyb3VwIGFsbCB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IGJpbmRpbmdzfSByZWxhdGVkIHRvIHRleHR1cmVzICh0ZXh0dXJlLCB0ZXh0dXJlIG1hdHJpY2VzIGJ1ZmZlcnMgYW5kIHNhbXBsZXJzKSBpbnRvIG9uZSBzaW5nbGUgc3BlY2lmaWMge0BsaW5rIEJpbmRHcm91cH0uXG4gKlxuICogQWxzbyByZXNwb25zaWJsZSBmb3IgdXBsb2FkaW5nIHZpZGVvIHRleHR1cmVzIGlmIG5lZWRlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXG4gKiBjb25zdCBncHVDdXJ0YWlucyA9IG5ldyBHUFVDdXJ0YWlucyh7XG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxuICogfSlcbiAqXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcbiAqIGF3YWl0IGdwdUN1cnRhaW5zLnNldERldmljZSgpXG4gKlxuICogLy8gY3JlYXRlIGEgcmVuZGVyIHRleHR1cmVcbiAqIGNvbnN0IHJlbmRlclRleHR1cmUgPSBuZXcgUmVuZGVyVGV4dHVyZShncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ0lucHV0IHRleHR1cmUnLFxuICogICBuYW1lOiAnaW5wdXRUZXh0dXJlJyxcbiAqIH0pXG4gKlxuICogLy8gY3JlYXRlIGEgdGV4dHVyZSBiaW5kIGdyb3VwIHVzaW5nIHRoYXQgcmVuZGVyIHRleHR1cmVcbiAqIGNvbnN0IHRleHR1cmVCaW5kR3JvdXAgPSBuZXcgVGV4dHVyZUJpbmRHcm91cChncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ015IHRleHR1cmUgYmluZCBncm91cCcsXG4gKiAgIHRleHR1cmVzOiBbcmVuZGVyVGV4dHVyZV0sXG4gKiAgIHVuaWZvcm1zOiB7XG4gKiAgICAgcGFyYW1zOiB7XG4gKiAgICAgICBzdHJ1Y3Q6IHtcbiAqICAgICAgICAgb3BhY2l0eToge1xuICogICAgICAgICAgIHR5cGU6ICdmMzInLFxuICogICAgICAgICAgIHZhbHVlOiAxLFxuICogICAgICAgICB9LFxuICogICAgICAgICBtb3VzZVBvc2l0aW9uOiB7XG4gKiAgICAgICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAqICAgICAgICAgICB2YWx1ZTogbmV3IFZlYzIoKSxcbiAqICAgICAgICAgfSxcbiAqICAgICAgIH0sXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqIH0pXG4gKlxuICogLy8gY3JlYXRlIHRoZSBHUFUgYnVmZmVyLCBiaW5kR3JvdXBMYXlvdXQgYW5kIGJpbmRHcm91cFxuICogdGV4dHVyZUJpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlQmluZEdyb3VwIGV4dGVuZHMgQmluZEdyb3VwIHtcbiAgLyoqXG4gICAqIFRleHR1cmVCaW5kR3JvdXAgY29uc3RydWN0b3JcbiAgICogQHBhcmFtICByZW5kZXJlciAtIGEge0BsaW5rIFJlbmRlcmVyfSBjbGFzcyBvYmplY3Qgb3IgYSB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBUZXh0dXJlQmluZEdyb3VwUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXG4gICAgeyBsYWJlbCwgaW5kZXggPSAwLCBiaW5kaW5ncyA9IFtdLCB1bmlmb3Jtcywgc3RvcmFnZXMsIHRleHR1cmVzID0gW10sIHNhbXBsZXJzID0gW10gfTogVGV4dHVyZUJpbmRHcm91cFBhcmFtcyA9IHt9XG4gICkge1xuICAgIGNvbnN0IHR5cGUgPSAnVGV4dHVyZUJpbmRHcm91cCdcblxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdHlwZSlcblxuICAgIHN1cGVyKHJlbmRlcmVyLCB7IGxhYmVsLCBpbmRleCwgYmluZGluZ3MsIHVuaWZvcm1zLCBzdG9yYWdlcyB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgYWZ0ZXJcbiAgICAgIHRleHR1cmVzOiBbXSxcbiAgICAgIHNhbXBsZXJzOiBbXSxcbiAgICB9XG5cbiAgICAvLyBhZGQgaW5pdGlhbCB0ZXh0dXJlcyBpZiBhbnlcbiAgICBpZiAodGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICB0ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSkpXG4gICAgfVxuXG4gICAgLy8gYWRkIGluaXRpYWwgc2FtcGxlcnMgaWYgYW55XG4gICAgaWYgKHNhbXBsZXJzLmxlbmd0aCkge1xuICAgICAgc2FtcGxlcnMuZm9yRWFjaCgoc2FtcGxlcikgPT4gdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpKVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgdGV4dHVyZSB0byB0aGUgdGV4dHVyZXMgYXJyYXkgYW5kIHRoZSBzdHJ1Y3RcbiAgICogQHBhcmFtIHRleHR1cmUgLSB0ZXh0dXJlIHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBNYXRlcmlhbFRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmVzLnB1c2godGV4dHVyZSlcbiAgICB0aGlzLmFkZEJpbmRpbmdzKFsuLi50ZXh0dXJlLmJpbmRpbmdzXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgdGV4dHVyZXMgYXJyYXlcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXMoKTogTWF0ZXJpYWxUZXh0dXJlW10ge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGV4dHVyZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2FtcGxlciB0byB0aGUgc2FtcGxlcnMgYXJyYXkgYW5kIHRoZSBzdHJ1Y3RcbiAgICogQHBhcmFtIHNhbXBsZXJcbiAgICovXG4gIGFkZFNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuc2FtcGxlcnMucHVzaChzYW1wbGVyKVxuICAgIHRoaXMuYWRkQmluZGluZ3MoW3NhbXBsZXIuYmluZGluZ10pXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHNhbXBsZXJzIGFycmF5XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNhbXBsZXJzKCk6IFNhbXBsZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zYW1wbGVyc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBHUFUgYmluZCBncm91cCBpcyByZWFkeSB0byBiZSBjcmVhdGVkXG4gICAqIEl0IGNhbiBiZSBjcmVhdGVkIGlmIGl0IGhhcyB7QGxpbmsgQmluZEdyb3VwI2JpbmRpbmdzfSBhbmQgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0IGFuZCBhbGwgR1BVIHRleHR1cmVzIGFuZCBzYW1wbGVycyBhcmUgY3JlYXRlZFxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzaG91bGRDcmVhdGVCaW5kR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmJpbmRHcm91cCAmJlxuICAgICAgISF0aGlzLmJpbmRpbmdzLmxlbmd0aCAmJlxuICAgICAgIXRoaXMudGV4dHVyZXMuZmluZCgodGV4dHVyZSkgPT4gISh0ZXh0dXJlLnRleHR1cmUgfHwgKHRleHR1cmUgYXMgVGV4dHVyZSkuZXh0ZXJuYWxUZXh0dXJlKSkgJiZcbiAgICAgICF0aGlzLnNhbXBsZXJzLmZpbmQoKHNhbXBsZXIpID0+ICFzYW1wbGVyLnNhbXBsZXIpXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAjdGV4dHVyZXMgfCBiaW5kIGdyb3VwIHRleHR1cmVzfTpcbiAgICogLSBDaGVjayBpZiB0aGV5IG5lZWQgdG8gY29weSB0aGVpciBzb3VyY2UgdGV4dHVyZVxuICAgKiAtIFVwbG9hZCB2aWRlbyB0ZXh0dXJlIGlmIG5lZWRlZFxuICAgKi9cbiAgdXBkYXRlVGV4dHVyZXMoKSB7XG4gICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlLCB0ZXh0dXJlSW5kZXgpID0+IHtcbiAgICAgIC8vIGNvcHkgdGV4dHVyZXMgdGhhdCBuZWVkIGl0IG9uIGZpcnN0IGluaXQsIGJ1dCBvbmx5IHdoZW4gb3JpZ2luYWwgdGV4dHVyZSBpcyByZWFkeVxuICAgICAgaWYgKHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlLm9wdGlvbnMuZnJvbVRleHR1cmUgJiYgdGV4dHVyZS5vcHRpb25zLmZyb21UZXh0dXJlLnNvdXJjZVVwbG9hZGVkICYmICF0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkKSB7XG4gICAgICAgICAgdGV4dHVyZS5jb3B5KHRleHR1cmUub3B0aW9ucy5mcm9tVGV4dHVyZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnNob3VsZFVwZGF0ZSAmJiB0ZXh0dXJlLm9wdGlvbnMuc291cmNlVHlwZSAmJiB0ZXh0dXJlLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nKSB7XG4gICAgICAgICAgdGV4dHVyZS51cGxvYWRWaWRlb1RleHR1cmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSwgd2hpY2ggbWVhbnMgdXBkYXRlIGl0cyB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cCN0ZXh0dXJlcyB8IHRleHR1cmVzfSwgdGhlbiB1cGRhdGUgaXRzIHtAbGluayBUZXh0dXJlQmluZEdyb3VwI2J1ZmZlckJpbmRpbmdzIHwgYnVmZmVyIGJpbmRpbmdzfSBhbmQgZmluYWxseSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cCNyZXNldEJpbmRHcm91cCB8IHJlc2V0IGl0fSBpZiBuZWVkZWRcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHR1cmVzKClcbiAgICBzdXBlci51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KClcbiAgICB0aGlzLm9wdGlvbnMudGV4dHVyZXMgPSBbXVxuICAgIHRoaXMub3B0aW9ucy5zYW1wbGVycyA9IFtdXG4gIH1cbn1cbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdQYXJhbXMgfSBmcm9tICcuL0JpbmRpbmcnXG5pbXBvcnQgeyBTYW1wbGVyT3B0aW9ucyB9IGZyb20gJy4uL3NhbXBsZXJzL1NhbXBsZXInXG5cbi8qKiBEZWZpbmVzIGEge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSB7QGxpbmsgU2FtcGxlckJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbmV4cG9ydCB0eXBlIFNhbXBsZXJCaW5kaW5nUmVzb3VyY2UgPSBHUFVTYW1wbGVyIHwgbnVsbFxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTYW1wbGVyQmluZGluZ1BhcmFtcyBleHRlbmRzIEJpbmRpbmdQYXJhbXMge1xuICAvKioge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSB7QGxpbmsgR1BVQmluZEdyb3VwIHwgR1BVIGJpbmQgZ3JvdXB9IHJlc291cmNlICovXG4gIHNhbXBsZXI6IFNhbXBsZXJCaW5kaW5nUmVzb3VyY2VcbiAgLyoqIFRoZSBiaW5kIGdyb3VwIGxheW91dCBiaW5kaW5nIHtAbGluayBHUFVTYW1wbGVyQmluZGluZ0xheW91dCN0eXBlIHwgdHlwZX0gb2YgdGhpcyB7QGxpbmsgR1BVU2FtcGxlciB8IEdQVSBzYW1wbGVyfSAqL1xuICB0eXBlOiBTYW1wbGVyT3B0aW9uc1sndHlwZSddXG59XG5cbi8qKlxuICogVXNlZCB0byBoYW5kbGUgR1BVU2FtcGxlciBiaW5kaW5ncy5cbiAqXG4gKiBQcm92aWRlIGJvdGgge0BsaW5rIFNhbXBsZXJCaW5kaW5nI3Jlc291cmNlTGF5b3V0IHwgcmVzb3VyY2VMYXlvdXR9IGFuZCB7QGxpbmsgU2FtcGxlckJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gdG8gdGhlIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IGFuZCB7QGxpbmsgR1BVQmluZEdyb3VwfS48YnI+XG4gKiBBbHNvIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgV0dTTCBjb2RlIHNuaXBwZXQgdG8gYWRkIHRvIHRoZSBzaGFkZXJzLlxuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlckJpbmRpbmcgZXh0ZW5kcyBCaW5kaW5nIHtcbiAgLyoqIE91ciB7QGxpbmsgU2FtcGxlckJpbmRpbmd9IHJlc291cmNlLCBpLmUuIGEge0BsaW5rIEdQVVNhbXBsZXJ9ICovXG4gIHNhbXBsZXI6IFNhbXBsZXJCaW5kaW5nUmVzb3VyY2VcbiAgLyoqIEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gYXBwZW5kIHRvIG91ciBzaGFkZXJzIGNvZGUgZGVjbGFyaW5nIGFsbCB0aGUgV0dTTCB2YXJpYWJsZXMgcmVwcmVzZW50aW5nIHRoaXMge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSAqL1xuICB3Z3NsR3JvdXBGcmFnbWVudDogc3RyaW5nW11cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgU2FtcGxlckJpbmRpbmd9ICovXG4gIG9wdGlvbnM6IFNhbXBsZXJCaW5kaW5nUGFyYW1zXG5cbiAgLyoqXG4gICAqIFNhbXBsZXJCaW5kaW5nIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFNhbXBsZXJCaW5kaW5nUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIFNhbXBsZXJCaW5kaW5nc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1NhbXBsZXInLFxuICAgIG5hbWUgPSAnc2FtcGxlcicsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICBzYW1wbGVyLFxuICAgIHR5cGUgPSAnZmlsdGVyaW5nJyxcbiAgfTogU2FtcGxlckJpbmRpbmdQYXJhbXMpIHtcbiAgICBiaW5kaW5nVHlwZSA9IGJpbmRpbmdUeXBlID8/ICdzYW1wbGVyJ1xuXG4gICAgc3VwZXIoeyBsYWJlbCwgbmFtZSwgYmluZGluZ1R5cGUsIHZpc2liaWxpdHkgfSlcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIHNhbXBsZXIsXG4gICAgICB0eXBlLFxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2UgPSBzYW1wbGVyIC8vIHNob3VsZCBiZSBhIHNhbXBsZXJcblxuICAgIHRoaXMuc2V0V0dTTEZyYWdtZW50KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQge0BsaW5rIEdQVUJpbmRHcm91cExheW91dEVudHJ5I3NhbXBsZXIgfCBiaW5kIGdyb3VwIGxheW91dCBlbnRyeSByZXNvdXJjZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVzb3VyY2VMYXlvdXQoKToge1xuICAgIC8qKiB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0IHwgYmluZCBncm91cCBsYXlvdXR9IHJlc291cmNlICovXG4gICAgc2FtcGxlcjogR1BVU2FtcGxlckJpbmRpbmdMYXlvdXRcbiAgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhbXBsZXI6IHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnR5cGUsIC8vIFRPRE8gc2V0IHNob3VsZFJlc2V0QmluZEdyb3VwTGF5b3V0IHRvIHRydWUgaWYgaXQgY2hhbmdlcyBhZnRlcndhcmRzXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqL1xuICBnZXQgcmVzb3VyY2UoKTogU2FtcGxlckJpbmRpbmdSZXNvdXJjZSB7XG4gICAgcmV0dXJuIHRoaXMuc2FtcGxlclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIEdQVUJpbmRHcm91cEVudHJ5I3Jlc291cmNlIHwgYmluZCBncm91cCByZXNvdXJjZX1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IGJpbmQgZ3JvdXAgcmVzb3VyY2VcbiAgICovXG4gIHNldCByZXNvdXJjZSh2YWx1ZTogU2FtcGxlckJpbmRpbmdSZXNvdXJjZSkge1xuICAgIC8vIHJlc291cmNlIGNoYW5nZWQsIHVwZGF0ZSBiaW5kIGdyb3VwIVxuICAgIGlmICh2YWx1ZSAmJiB0aGlzLnNhbXBsZXIpIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSB0cnVlXG4gICAgdGhpcy5zYW1wbGVyID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvcnJlY3QgV0dTTCBjb2RlIHNuaXBwZXQuXG4gICAqL1xuICBzZXRXR1NMRnJhZ21lbnQoKSB7XG4gICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgdmFyICR7dGhpcy5uYW1lfTogJHt0aGlzLmJpbmRpbmdUeXBlfTtgXVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXQ0IH0gZnJvbSAnLi4vLi4vbWF0aC9NYXQ0J1xuaW1wb3J0IHsgT2JqZWN0M0QsIE9iamVjdDNETWF0cmljZXNUeXBlLCBPYmplY3QzRFRyYW5zZm9ybU1hdHJpeCB9IGZyb20gJy4uL29iamVjdHMzRC9PYmplY3QzRCdcbmltcG9ydCB7IFJlY3RTaXplIH0gZnJvbSAnLi4vRE9NL0RPTUVsZW1lbnQnXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xuXG4vKipcbiAqIERlZmluZXMgQ2FtZXJhIGJhc2ljIHBlcnNwZWN0aXZlIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIHtAbGluayBDYW1lcmF9IHBlcnNwZWN0aXZlIGZpZWxkIG9mIHZpZXcuIFNob3VsZCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbG93ZXIgdGhhbiAxODAgKi9cbiAgZm92PzogbnVtYmVyXG4gIC8qKiB7QGxpbmsgQ2FtZXJhfSBuZWFyIHBsYW5lLCB0aGUgY2xvc2VzdCBwb2ludCB3aGVyZSBhIG1lc2ggdmVydGV4IGlzIGRyYXduICovXG4gIG5lYXI/OiBudW1iZXJcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZhciBwbGFuZSwgdGhlIGZhcnRoZXN0IHBvaW50IHdoZXJlIGEgbWVzaCB2ZXJ0ZXggaXMgZHJhd24gKi9cbiAgZmFyPzogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhbGwgQ2FtZXJhIHBlcnNwZWN0aXZlIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFQZXJzcGVjdGl2ZU9wdGlvbnMgZXh0ZW5kcyBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZydXN0dW0gd2lkdGggKi9cbiAgd2lkdGg/OiBudW1iZXJcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZydXN0dW0gaGVpZ2h0ICovXG4gIGhlaWdodD86IG51bWJlclxuICAvKioge0BsaW5rIENhbWVyYX0gcGl4ZWwgcmF0aW8gKi9cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIENhbWVyYX0gY2xhc3MgaW5zdGFuY2luZyBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhUGFyYW1zIGV4dGVuZHMgQ2FtZXJhUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBvbmUgb2YgdGhlIHtAbGluayBDYW1lcmEjbWF0cmljZXMgfCBjYW1lcmEgbWF0cmljZXN9IGNoYW5nZWQgKi9cbiAgb25NYXRyaWNlc0NoYW5nZWQ/OiAoKSA9PiB2b2lkXG59XG5cbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHBvc3NpYmxlIHtAbGluayBjb3JlL29iamVjdHMzRC9Qcm9qZWN0ZWRPYmplY3QzRC5Qcm9qZWN0ZWRPYmplY3QzRCB8IFByb2plY3RlZE9iamVjdDNEfSBtYXRyaXggdHlwZXMgKi9cbmV4cG9ydCB0eXBlIENhbWVyYU9iamVjdDNETWF0cmljZXNUeXBlID0gT2JqZWN0M0RNYXRyaWNlc1R5cGUgfCAncHJvamVjdGlvbicgfCAndmlldydcbi8qKiBEZWZpbmVzIGFsbCBwb3NzaWJsZSB7QGxpbmsgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXggfCBtYXRyaXggb2JqZWN0fSB1c2VkIGJ5IG91ciB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QgfCBQcm9qZWN0ZWRPYmplY3QzRH0gKi9cbmV4cG9ydCB0eXBlIENhbWVyYU9iamVjdDNETWF0cmljZXMgPSBSZWNvcmQ8Q2FtZXJhT2JqZWN0M0RNYXRyaWNlc1R5cGUsIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4PlxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEgcGVyc3BlY3RpdmUge0BsaW5rIENhbWVyYX0gYW5kIGl0cyBwcm9qZWN0aW9uLCBtb2RlbCBhbmQgdmlldyBtYXRyaWNlcy5cbiAqXG4gKiB7QGxpbmsgY3VydGFpbnMvcmVuZGVyZXJzL0dQVUN1cnRhaW5zUmVuZGVyZXIuR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zUmVuZGVyZXJ9IGFuZCB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXIuR1BVQ2FtZXJhUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlcn0gYXV0b21hdGljYWxseSBjcmVhdGUgdGhlaXIgb3duIHtAbGluayBDYW1lcmF9IHVuZGVyIHRoZSBob29kLCBzbyBpdCBpcyB1bmxpa2VseSB5b3UnZCBoYXZlIHRvIGNyZWF0ZSBvbmUgYnkgeW91cnNlbGYuXG4gKlxuICoge0BsaW5rIENhbWVyYX0gZGVmYXVsdCBwZXJzcGVjdGl2ZSBzZXR0aW5ncyBhcmU6XG4gKiAtIHtAbGluayBDYW1lcmEjZm92IHwgZmllbGQgb2Ygdmlld306IDUwXG4gKiAtIHtAbGluayBDYW1lcmEjbmVhciB8IG5lYXIgcGxhbmV9OiAwLjAxXG4gKiAtIHtAbGluayBDYW1lcmEjZmFyIHwgZmFyIHBsYW5lfTogMTUwXG4gKlxuICogQWxzbyBub3RlIHRoYXQgdGhlIHtAbGluayBDYW1lcmF9IGRlZmF1bHQge0BsaW5rIENhbWVyYSNwb3NpdGlvbiB8IHBvc2l0aW9ufSBpcyBzZXQgYXQgYCgwLCAwLCAxMClgIHNvIHRoZSBvYmplY3QgY3JlYXRlZCB3aXRoIGEgZGVmYXVsdCBzaXplIGRvIG5vdCBhcHBlYXIgdG9vIGJpZyBub3IgdG9vIHNtYWxsLlxuICovXG5leHBvcnQgY2xhc3MgQ2FtZXJhIGV4dGVuZHMgT2JqZWN0M0Qge1xuICAvKioge0BsaW5rIENhbWVyYU9iamVjdDNETWF0cmljZXMgfCBNYXRyaWNlcyBvYmplY3R9IG9mIHRoZSB7QGxpbmsgQ2FtZXJhfSAqL1xuICBtYXRyaWNlczogQ2FtZXJhT2JqZWN0M0RNYXRyaWNlc1xuXG4gIC8qKiBQcml2YXRlIHtAbGluayBDYW1lcmF9IGZpZWxkIG9mIHZpZXcgKi9cbiAgI2ZvdjogbnVtYmVyXG4gIC8qKiBQcml2YXRlIHtAbGluayBDYW1lcmF9IG5lYXIgcGxhbmUgKi9cbiAgI25lYXI6IG51bWJlclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgQ2FtZXJhfSBmYXIgcGxhbmUgKi9cbiAgI2ZhcjogbnVtYmVyXG5cbiAgLyoqIFRoZSB7QGxpbmsgQ2FtZXJhfSBmcnVzdHVtIHdpZHRoIGFuZCBoZWlnaHQgKi9cbiAgc2l6ZTogUmVjdFNpemVcbiAgLyoqIFByaXZhdGUge0BsaW5rIENhbWVyYX0gcGl4ZWwgcmF0aW8sIHVzZWQgaW4ge0BsaW5rIENTU1BlcnNwZWN0aXZlfSBjYWxjcyAqL1xuICAjcGl4ZWxSYXRpbzogbnVtYmVyXG5cbiAgLyoqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBvbmUgb2YgdGhlIGNhbWVyYSB7QGxpbmsgbWF0cmljZXN9IGNoYW5nZWQgKi9cbiAgb25NYXRyaWNlc0NoYW5nZWQ/OiAoKSA9PiB2b2lkXG5cbiAgLyoqIEEgbnVtYmVyIHJlcHJlc2VudGluZyB3aGF0IENTUyBwZXJzcGVjdGl2ZSB2YWx1ZSAoaW4gcGl4ZWwpIHNob3VsZCBiZSB1c2VkIHRvIG9idGFpbiB0aGUgc2FtZSBwZXJzcGVjdGl2ZSBlZmZlY3QgYXMgdGhpcyB7QGxpbmsgQ2FtZXJhfSAqL1xuICBDU1NQZXJzcGVjdGl2ZTogbnVtYmVyXG4gIC8qKiBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdmlzaWJsZSB3aWR0aCAvIGhlaWdodCBhdCBhIGdpdmVuIHotZGVwdGggZnJvbSBvdXIgY2FtZXJhIHBhcmFtZXRlcnMgKi9cbiAgc2NyZWVuUmF0aW86IFJlY3RTaXplXG5cbiAgLyoqXG4gICAqIENhbWVyYSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBDYW1lcmFQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENhbWVyYX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIGZvdiA9IDUwLFxuICAgICAgbmVhciA9IDAuMDEsXG4gICAgICBmYXIgPSAxNTAsXG4gICAgICB3aWR0aCA9IDEsXG4gICAgICBoZWlnaHQgPSAxLFxuICAgICAgcGl4ZWxSYXRpbyA9IDEsXG4gICAgICBvbk1hdHJpY2VzQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICAgIH0sXG4gICAgfSA9IHt9IGFzIENhbWVyYVBhcmFtc1xuICApIHtcbiAgICAvLyBPYmplY3QzRFxuICAgIHN1cGVyKClcblxuICAgIC8vIGNhbWVyYSBjYW4ndCBiZSBhdCBwb3NpdGlvbiAoMCwgMCwgMCksIGl0IG5lZWRzIHNvbWUgcmVjb2lsXG4gICAgLy8gYXJiaXRyYXJpbHkgc2V0IHRvIDEwIHNvIG9iamVjdHMgb2YgZGVmYXVsdCBzaXplICgxLCAxLCAxKSBkb24ndCBhcHBlYXIgdG9vIGJpZ1xuICAgIHRoaXMucG9zaXRpb24uc2V0KDAsIDAsIDEwKVxuXG4gICAgLy8gY2FsbGJhY2sgdG8gcnVuIGlmIGFueSBvZiB0aGUgbWF0cmljZXMgY2hhbmdlZFxuICAgIHRoaXMub25NYXRyaWNlc0NoYW5nZWQgPSBvbk1hdHJpY2VzQ2hhbmdlZFxuXG4gICAgLy8gY3JlYXRlIHNpemUgb2JqZWN0LCB3aWxsIGJlIHNldCByaWdodCBhZnRlclxuICAgIHRoaXMuc2l6ZSA9IHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgaGVpZ2h0OiAxLFxuICAgIH1cblxuICAgIHRoaXMuc2V0UGVyc3BlY3RpdmUoeyBmb3YsIG5lYXIsIGZhciwgd2lkdGgsIGhlaWdodCwgcGl4ZWxSYXRpbyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgdHJhbnNmb3JtIGFuZCBwcm9qZWN0aW9uIG1hdHJpY2VzXG4gICAqL1xuICBzZXRNYXRyaWNlcygpIHtcbiAgICBzdXBlci5zZXRNYXRyaWNlcygpXG5cbiAgICB0aGlzLm1hdHJpY2VzID0ge1xuICAgICAgLi4udGhpcy5tYXRyaWNlcyxcbiAgICAgIHZpZXc6IHtcbiAgICAgICAgbWF0cml4OiBuZXcgTWF0NCgpLFxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxuICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMudmlld01hdHJpeC5jb3B5KHRoaXMubW9kZWxNYXRyaXgpLmludmVydCgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvamVjdGlvbjoge1xuICAgICAgICBtYXRyaXg6IG5ldyBNYXQ0KCksXG4gICAgICAgIHNob3VsZFVwZGF0ZTogZmFsc2UsXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgdmlldyBtYXRyaXhcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdmlld01hdHJpeCgpOiBNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy52aWV3Lm1hdHJpeFxuICB9XG5cbiAgc2V0IHZpZXdNYXRyaXgodmFsdWU6IE1hdDQpIHtcbiAgICB0aGlzLm1hdHJpY2VzLnZpZXcubWF0cml4ID0gdmFsdWVcbiAgICB0aGlzLm1hdHJpY2VzLnZpZXcuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgcHJvamVjdGlvbiBtYXRyaXhcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy5wcm9qZWN0aW9uLm1hdHJpeFxuICB9XG5cbiAgc2V0IHByb2plY3Rpb25NYXRyaXgodmFsdWU6IE1hdDQpIHtcbiAgICB0aGlzLm1hdHJpY2VzLnByb2plY3Rpb24ubWF0cml4ID0gdmFsdWVcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc2hvdWxkVXBkYXRlIGZsYWcgdG8gdHJ1ZSAodGVsbCBpdCB0byB1cGRhdGUpXG4gICAqL1xuICBzaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMucHJvamVjdGlvbi5zaG91bGRVcGRhdGUgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG91ciBtb2RlbCBtYXRyaXggYW5kIHRlbGwgb3VyIHZpZXcgbWF0cml4IHRvIHVwZGF0ZSBhcyB3ZWxsXG4gICAqL1xuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcbiAgICBzdXBlci51cGRhdGVNb2RlbE1hdHJpeCgpXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMubWF0cmljZXMudmlldy5zaG91bGRVcGRhdGUgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgZm92IHwgZmllbGQgb2Ygdmlld31cbiAgICovXG4gIGdldCBmb3YoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jZm92XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgZm92IHwgZmllbGQgb2Ygdmlld30uIFVwZGF0ZSB0aGUge0BsaW5rIHByb2plY3Rpb25NYXRyaXh9IG9ubHkgaWYgdGhlIGZpZWxkIG9mIHZpZXcgYWN0dWFsbHkgY2hhbmdlZFxuICAgKiBAcGFyYW0gZm92IC0gbmV3IGZpZWxkIG9mIHZpZXdcbiAgICovXG4gIHNldCBmb3YoZm92OiBudW1iZXIpIHtcbiAgICAvLyBjbGFtcCBiZXR3ZWVuIDEgYW5kIDE3OVxuICAgIGZvdiA9IE1hdGgubWF4KDEsIE1hdGgubWluKGZvdiA/PyB0aGlzLmZvdiwgMTc5KSlcblxuICAgIGlmIChmb3YgIT09IHRoaXMuZm92KSB7XG4gICAgICB0aGlzLiNmb3YgPSBmb3ZcbiAgICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMuc2V0Q1NTUGVyc3BlY3RpdmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIG5lYXJ9IHBsYW5lIHZhbHVlLlxuICAgKi9cbiAgZ2V0IG5lYXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jbmVhclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIG5lYXJ9IHBsYW5lIHZhbHVlLiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBvbmx5IGlmIHRoZSBuZWFyIHBsYW5lIGFjdHVhbGx5IGNoYW5nZWRcbiAgICogQHBhcmFtIG5lYXIgLSBuZXcgbmVhciBwbGFuZSB2YWx1ZVxuICAgKi9cbiAgc2V0IG5lYXIobmVhcjogbnVtYmVyKSB7XG4gICAgbmVhciA9IE1hdGgubWF4KG5lYXIgPz8gdGhpcy5uZWFyLCAwLjAxKVxuXG4gICAgaWYgKG5lYXIgIT09IHRoaXMubmVhcikge1xuICAgICAgdGhpcy4jbmVhciA9IG5lYXJcbiAgICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCAvIHNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIGZhcn0gcGxhbmUgdmFsdWUuXG4gICAqL1xuICBnZXQgZmFyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI2ZhclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIGZhcn0gcGxhbmUgdmFsdWUuIFVwZGF0ZSB7QGxpbmsgcHJvamVjdGlvbk1hdHJpeH0gb25seSBpZiB0aGUgZmFyIHBsYW5lIGFjdHVhbGx5IGNoYW5nZWRcbiAgICogQHBhcmFtIGZhciAtIG5ldyBmYXIgcGxhbmUgdmFsdWVcbiAgICovXG4gIHNldCBmYXIoZmFyOiBudW1iZXIpIHtcbiAgICBmYXIgPSBNYXRoLm1heChmYXIgPz8gdGhpcy5mYXIsIHRoaXMubmVhciArIDEpXG5cbiAgICBpZiAoZmFyICE9PSB0aGlzLmZhcikge1xuICAgICAgdGhpcy4jZmFyID0gZmFyXG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBDYW1lcmF9IHtAbGluayBwaXhlbFJhdGlvfSB2YWx1ZS5cbiAgICovXG4gIGdldCBwaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiB0aGlzLiNwaXhlbFJhdGlvXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgcGl4ZWxSYXRpb30gdmFsdWUuIFVwZGF0ZSB0aGUge0BsaW5rIENTU1BlcnNwZWN0aXZlfSBvbmx5IGlmIHRoZSBwaXhlbCByYXRpbyBhY3R1YWxseSBjaGFuZ2VkXG4gICAqIEBwYXJhbSBwaXhlbFJhdGlvIC0gbmV3IHBpeGVsIHJhdGlvIHZhbHVlXG4gICAqL1xuICBzZXQgcGl4ZWxSYXRpbyhwaXhlbFJhdGlvOiBudW1iZXIpIHtcbiAgICB0aGlzLiNwaXhlbFJhdGlvID0gcGl4ZWxSYXRpbyA/PyB0aGlzLnBpeGVsUmF0aW9cbiAgICB0aGlzLnNldENTU1BlcnNwZWN0aXZlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBDYW1lcmF9IHtAbGluayB3aWR0aH0gYW5kIHtAbGluayBoZWlnaHR9LiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBvbmx5IGlmIHRoZSB3aWR0aCBvciBoZWlnaHQgYWN0dWFsbHkgY2hhbmdlZFxuICAgKiBAcGFyYW0gc2l6ZSAtIHtAbGluayB3aWR0aH0gYW5kIHtAbGluayBoZWlnaHR9IHZhbHVlcyB0byB1c2VcbiAgICovXG4gIHNldFNpemUoeyB3aWR0aCwgaGVpZ2h0IH06IFJlY3RTaXplKSB7XG4gICAgaWYgKHdpZHRoICE9PSB0aGlzLnNpemUud2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLnNpemUuaGVpZ2h0KSB7XG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICAgIH1cblxuICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodFxuXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMuc2V0Q1NTUGVyc3BlY3RpdmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHtAbGluayBDYW1lcmF9IHBlcnNwZWN0aXZlLiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIENhbWVyYVBlcnNwZWN0aXZlT3B0aW9ucyB8IHBhcmFtZXRlcnN9IHRvIHVzZSBmb3IgdGhlIHBlcnNwZWN0aXZlXG4gICAqL1xuICBzZXRQZXJzcGVjdGl2ZSh7XG4gICAgZm92ID0gdGhpcy5mb3YsXG4gICAgbmVhciA9IHRoaXMubmVhcixcbiAgICBmYXIgPSB0aGlzLmZhcixcbiAgICB3aWR0aCA9IHRoaXMuc2l6ZS53aWR0aCxcbiAgICBoZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0LFxuICAgIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW8sXG4gIH06IENhbWVyYVBlcnNwZWN0aXZlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zZXRTaXplKHsgd2lkdGgsIGhlaWdodCB9KVxuICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW9cbiAgICB0aGlzLmZvdiA9IGZvdlxuICAgIHRoaXMubmVhciA9IG5lYXJcbiAgICB0aGlzLmZhciA9IGZhclxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSBjYW1lcmEge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBoYXMgYmVlbiB1cGRhdGVkXG4gICAqL1xuICBvbkFmdGVyTWF0cml4U3RhY2tVcGRhdGUoKSB7XG4gICAgLy8gY2FsbGJhY2sgYmVjYXVzZSBtYXRyaWNlcyBjaGFuZ2VkXG4gICAgdGhpcy5vbk1hdHJpY2VzQ2hhbmdlZCgpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHtAbGluayBDU1NQZXJzcGVjdGl2ZX0gcHJvcGVydHkgYmFzZWQgb24ge0BsaW5rIHNpemV9LCB7QGxpbmsgcGl4ZWxSYXRpb30gYW5kIHtAbGluayBmb3Z9Ljxicj5cbiAgICogVXNlZCB0byB0cmFuc2xhdGUgcGxhbmVzIGFsb25nIHRoZSBaIGF4aXMgdXNpbmcgcGl4ZWwgdW5pdHMgYXMgQ1NTIHdvdWxkIGRvLjxicj5cbiAgICoge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyNDIxNDM5L2NvbnZlcnQtZmllbGQtb2Ytdmlldy12YWx1ZS10by1jc3MzZC1wZXJzcGVjdGl2ZS12YWx1ZSB8IFNlZSByZWZlcmVuY2V9XG4gICAqL1xuICBzZXRDU1NQZXJzcGVjdGl2ZSgpIHtcbiAgICB0aGlzLkNTU1BlcnNwZWN0aXZlID1cbiAgICAgIE1hdGgucG93KFxuICAgICAgICBNYXRoLnBvdyh0aGlzLnNpemUud2lkdGggLyAoMiAqIHRoaXMucGl4ZWxSYXRpbyksIDIpICsgTWF0aC5wb3codGhpcy5zaXplLmhlaWdodCAvICgyICogdGhpcy5waXhlbFJhdGlvKSwgMiksXG4gICAgICAgIDAuNVxuICAgICAgKSAvIE1hdGgudGFuKCh0aGlzLmZvdiAqIDAuNSAqIE1hdGguUEkpIC8gMTgwKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdmlzaWJsZSB3aWR0aCAvIGhlaWdodCBhdCBhIGdpdmVuIHotZGVwdGggZnJvbSBvdXIge0BsaW5rIENhbWVyYX0gcGFyYW1ldGVycy48YnI+XG4gICAqIHtAbGluayBodHRwczovL2Rpc2NvdXJzZS50aHJlZWpzLm9yZy90L2Z1bmN0aW9ucy10by1jYWxjdWxhdGUtdGhlLXZpc2libGUtd2lkdGgtaGVpZ2h0LWF0LWEtZ2l2ZW4tei1kZXB0aC1mcm9tLWEtcGVyc3BlY3RpdmUtY2FtZXJhLzI2OSB8IFNlZSByZWZlcmVuY2V9XG4gICAqIEBwYXJhbSBkZXB0aCAtIGRlcHRoIHRvIHVzZSBmb3IgY2FsY3VsYXRpb25zXG4gICAqL1xuICBzZXRTY3JlZW5SYXRpb3MoZGVwdGggPSAwKSB7XG4gICAgLy8gY29tcGVuc2F0ZSBmb3IgY2FtZXJhcyBub3QgcG9zaXRpb25lZCBhdCB6PTBcbiAgICBjb25zdCBjYW1lcmFPZmZzZXQgPSB0aGlzLnBvc2l0aW9uLnpcbiAgICBpZiAoZGVwdGggPCBjYW1lcmFPZmZzZXQpIHtcbiAgICAgIGRlcHRoIC09IGNhbWVyYU9mZnNldFxuICAgIH0gZWxzZSB7XG4gICAgICBkZXB0aCArPSBjYW1lcmFPZmZzZXRcbiAgICB9XG5cbiAgICAvLyB2ZXJ0aWNhbCBmb3YgaW4gcmFkaWFuc1xuICAgIGNvbnN0IHZGT1YgPSAodGhpcy5mb3YgKiBNYXRoLlBJKSAvIDE4MFxuXG4gICAgLy8gTWF0aC5hYnMgdG8gZW5zdXJlIHRoZSByZXN1bHQgaXMgYWx3YXlzIHBvc2l0aXZlXG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKHZGT1YgLyAyKSAqIE1hdGguYWJzKGRlcHRoKVxuXG4gICAgdGhpcy5zY3JlZW5SYXRpbyA9IHtcbiAgICAgIHdpZHRoOiAoaGVpZ2h0ICogdGhpcy5zaXplLndpZHRoKSAvIHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICBoZWlnaHQsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGlzIHtAbGluayBDYW1lcmF9IHNvIGl0IGxvb2tzIGF0IHRoZSB7QGxpbmsgVmVjMyB8IHRhcmdldH1cbiAgICogQHBhcmFtIHRhcmdldCAtIHtAbGluayBWZWMzIHwgdGFyZ2V0fSB0byBsb29rIGF0XG4gICAqL1xuICBsb29rQXQodGFyZ2V0OiBWZWMzID0gbmV3IFZlYzMoKSkge1xuICAgIC8vIHNpbmNlIHdlIGtub3cgaXQncyBhIGNhbWVyYSwgaW52ZXJzZSBwb3NpdGlvbiBhbmQgdGFyZ2V0XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBuZXcgTWF0NCgpLmxvb2tBdCh0aGlzLnBvc2l0aW9uLCB0YXJnZXQpXG4gICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyb3RhdGlvbk1hdHJpeClcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgcHJvamVjdGlvbk1hdHJpeH1cbiAgICovXG4gIHVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgY29uc3QgYXNwZWN0ID0gdGhpcy5zaXplLndpZHRoIC8gdGhpcy5zaXplLmhlaWdodFxuXG4gICAgY29uc3QgdG9wID0gdGhpcy5uZWFyICogTWF0aC50YW4oKE1hdGguUEkgLyAxODApICogMC41ICogdGhpcy5mb3YpXG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIHRvcFxuICAgIGNvbnN0IHdpZHRoID0gYXNwZWN0ICogaGVpZ2h0XG4gICAgY29uc3QgbGVmdCA9IC0wLjUgKiB3aWR0aFxuXG4gICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgd2lkdGhcbiAgICBjb25zdCBib3R0b20gPSB0b3AgLSBoZWlnaHRcblxuICAgIGNvbnN0IHggPSAoMiAqIHRoaXMubmVhcikgLyAocmlnaHQgLSBsZWZ0KVxuICAgIGNvbnN0IHkgPSAoMiAqIHRoaXMubmVhcikgLyAodG9wIC0gYm90dG9tKVxuXG4gICAgY29uc3QgYSA9IChyaWdodCArIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdClcbiAgICBjb25zdCBiID0gKHRvcCArIGJvdHRvbSkgLyAodG9wIC0gYm90dG9tKVxuICAgIGNvbnN0IGMgPSAtKHRoaXMuZmFyICsgdGhpcy5uZWFyKSAvICh0aGlzLmZhciAtIHRoaXMubmVhcilcbiAgICBjb25zdCBkID0gKC0yICogdGhpcy5mYXIgKiB0aGlzLm5lYXIpIC8gKHRoaXMuZmFyIC0gdGhpcy5uZWFyKVxuXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LnNldChcbiAgICAgIHgsIDAsIDAsIDAsXG4gICAgICAwLCB5LCAwLCAwLFxuICAgICAgYSwgYiwgYywgLTEsXG4gICAgICAwLCAwLCBkLCAwXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFNhbXBsZXJCaW5kaW5nIH0gZnJvbSAnLi4vYmluZGluZ3MvU2FtcGxlckJpbmRpbmcnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQsIHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcblxuLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgU2FtcGxlcn0gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlck9wdGlvbnMgZXh0ZW5kcyBQYXJ0aWFsPEdQVVNhbXBsZXJEZXNjcmlwdG9yPiwgR1BVU2FtcGxlckJpbmRpbmdMYXlvdXQge31cblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNhbXBsZXJ9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlclBhcmFtcyBleHRlbmRzIFNhbXBsZXJPcHRpb25zIHtcbiAgLyoqIE5hbWUgb2YgdGhlIHtAbGluayBTYW1wbGVyfSB0byB1c2UgaW4gdGhlIHtAbGluayBTYW1wbGVyQmluZGluZyB8IGJpbmRpbmd9ICovXG4gIG5hbWU6IHN0cmluZ1xufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEdQVVNhbXBsZXJ9IGFuZCBpdHMgYXNzb2NpYXRlZCB7QGxpbmsgU2FtcGxlckJpbmRpbmd9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiBjb25zdCBtaXJyb3JTYW1wbGVyID0gbmV3IFNhbXBsZXIoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNaXJyb3Igc2FtcGxlcicsXG4gKiAgIG5hbWU6ICdtaXJyb3JTYW1wbGVyJyxcbiAqICAgYWRkcmVzc01vZGVVOiAnbWlycm9yLXJlcGVhdCcsXG4gKiAgIGFkZHJlc3NNb2RlVjogJ21pcnJvci1yZXBlYXQnLFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlciB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFNhbXBsZXJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgU2FtcGxlcn0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgU2FtcGxlcn0gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBTYW1wbGVyfSwgdXNlZCB0byBjcmVhdGUgdGhlIHtAbGluayBHUFVTYW1wbGVyfSBmb3IgZGVidWdnaW5nIHB1cnBvc2UgKi9cbiAgbGFiZWw6IHN0cmluZ1xuICAvKiogTmFtZSBvZiB0aGUge0BsaW5rIFNhbXBsZXJ9IHRvIHVzZSBpbiB0aGUge0BsaW5rIFNhbXBsZXJCaW5kaW5nIHwgYmluZGluZ30gKi9cbiAgbmFtZTogc3RyaW5nXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNhbXBsZXJ9ICovXG4gIG9wdGlvbnM6IFNhbXBsZXJPcHRpb25zXG5cbiAgLyoqIHtAbGluayBHUFVTYW1wbGVyfSAqL1xuICBzYW1wbGVyOiBHUFVTYW1wbGVyXG4gIC8qKiB7QGxpbmsgU2FtcGxlckJpbmRpbmcgfCBiaW5kaW5nfSB0byBwYXNzIHRvIGEge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9UZXh0dXJlQmluZEdyb3VwLlRleHR1cmVCaW5kR3JvdXAgfCBiaW5kIGdyb3VwfSAqL1xuICBiaW5kaW5nOiBTYW1wbGVyQmluZGluZ1xuXG4gIC8qKlxuICAgKiBTYW1wbGVyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNhbXBsZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFNhbXBsZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTYW1wbGVyfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IEdQVUN1cnRhaW5zIHwgUmVuZGVyZXIsXG4gICAge1xuICAgICAgbGFiZWwgPSAnU2FtcGxlcicsXG4gICAgICBuYW1lLFxuICAgICAgYWRkcmVzc01vZGVVID0gJ3JlcGVhdCcsXG4gICAgICBhZGRyZXNzTW9kZVYgPSAncmVwZWF0JyxcbiAgICAgIG1hZ0ZpbHRlciA9ICdsaW5lYXInLFxuICAgICAgbWluRmlsdGVyID0gJ2xpbmVhcicsXG4gICAgICBtaXBtYXBGaWx0ZXIgPSAnbGluZWFyJyxcbiAgICAgIG1heEFuaXNvdHJvcHkgPSAxLFxuICAgICAgdHlwZSA9ICdmaWx0ZXJpbmcnLFxuICAgIH0gPSB7fSBhcyBTYW1wbGVyUGFyYW1zXG4gICkge1xuICAgIHRoaXMudHlwZSA9ICdTYW1wbGVyJ1xuICAgIHRoaXMudXVpZCA9IGdlbmVyYXRlVVVJRCgpXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIGxhYmVsID8gbGFiZWwgKyAnICcgKyB0aGlzLnR5cGUgOiB0aGlzLnR5cGUpXG5cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcblxuICAgIHRoaXMubGFiZWwgPSBsYWJlbFxuXG4gICAgaWYgKCFuYW1lICYmICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24pIHtcbiAgICAgIG5hbWUgPSAnc2FtcGxlcicgKyB0aGlzLnJlbmRlcmVyLnNhbXBsZXJzLmxlbmd0aFxuICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICBgU2FtcGxlcjogeW91IGFyZSB0cnlpbmcgdG8gY3JlYXRlIGEgc2FtcGxlciB3aXRob3V0IHRoZSBtYW5kYXRvcnkgbmFtZSBwYXJhbWV0ZXIuIEEgZGVmYXVsdCBuYW1lIHdpbGwgYmUgdXNlZCBpbnN0ZWFkOiAke25hbWV9YFxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWVcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGFkZHJlc3NNb2RlVSxcbiAgICAgIGFkZHJlc3NNb2RlVixcbiAgICAgIG1hZ0ZpbHRlcixcbiAgICAgIG1pbkZpbHRlcixcbiAgICAgIG1pcG1hcEZpbHRlcixcbiAgICAgIG1heEFuaXNvdHJvcHksXG4gICAgICB0eXBlLFxuICAgIH0gYXMgU2FtcGxlck9wdGlvbnNcblxuICAgIHRoaXMuY3JlYXRlU2FtcGxlcigpXG4gICAgdGhpcy5jcmVhdGVCaW5kaW5nKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVTYW1wbGVyfVxuICAgKi9cbiAgY3JlYXRlU2FtcGxlcigpIHtcbiAgICB0aGlzLnNhbXBsZXIgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVNhbXBsZXIodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBTYW1wbGVyQmluZGluZyB8IGJpbmRpbmd9XG4gICAqL1xuICBjcmVhdGVCaW5kaW5nKCkge1xuICAgIHRoaXMuYmluZGluZyA9IG5ldyBTYW1wbGVyQmluZGluZyh7XG4gICAgICBsYWJlbDogdGhpcy5sYWJlbCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGJpbmRpbmdUeXBlOiAnc2FtcGxlcicsXG4gICAgICBzYW1wbGVyOiB0aGlzLnNhbXBsZXIsXG4gICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHlwZSxcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFRleHR1cmVCaW5kaW5nLCBUZXh0dXJlQmluZGluZ1BhcmFtcyB9IGZyb20gJy4uL2JpbmRpbmdzL1RleHR1cmVCaW5kaW5nJ1xuaW1wb3J0IHsgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlLCBUZXh0dXJlQmluZGluZ1R5cGUgfSBmcm9tICcuLi9iaW5kaW5ncy9CaW5kaW5nJ1xuaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlJ1xuaW1wb3J0IHsgVGV4dHVyZVNpemUgfSBmcm9tICcuLi8uLi90eXBlcy9UZXh0dXJlcydcblxuLyoqXG4gKiBEZWZpbmUgdGhlIHBvc3NpYmxlIGJpbmRpbmcgdHlwZXMgb2YgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAqL1xuZXhwb3J0IHR5cGUgUmVuZGVyVGV4dHVyZUJpbmRpbmdUeXBlID0gRXhjbHVkZTxUZXh0dXJlQmluZGluZ1R5cGUsICdleHRlcm5hbFRleHR1cmUnPlxuXG4vKipcbiAqIEJhc2UgcGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRleHR1cmVCYXNlUGFyYW1zIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9LCB1c2VkIHRvIGNyZWF0ZSB2YXJpb3VzIEdQVSBvYmplY3RzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbD86IHN0cmluZ1xuICAvKiogTmFtZSBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIHVzZSBpbiB0aGUge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgdGV4dHVyZSBiaW5kaW5nfSAqL1xuICBuYW1lPzogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbmFsIHNpemUgb2YgdGhlIHtAbGluayBSZW5kZXJUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSAqL1xuICBzaXplPzogVGV4dHVyZVNpemVcbiAgLyoqIFdoZXRoZXIgdG8gdXNlIHRoaXMge0BsaW5rIFJlbmRlclRleHR1cmV9IGFzIGEgcmVndWxhciBvciBzdG9yYWdlIHRleHR1cmUgKi9cbiAgdXNhZ2U/OiBSZW5kZXJUZXh0dXJlQmluZGluZ1R5cGVcbiAgLyoqIE9wdGlvbmFsIGZvcm1hdCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9LCBtYWlubHkgdXNlZCBmb3Igc3RvcmFnZSB0ZXh0dXJlcyAqL1xuICBmb3JtYXQ/OiBHUFVUZXh0dXJlRm9ybWF0XG4gIC8qKiBPcHRpb25hbCB0ZXh0dXJlIGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlLCBtYWlubHkgdXNlZCBmb3Igc3RvcmFnZSB0ZXh0dXJlcyAqL1xuICBhY2Nlc3M/OiBCaW5kaW5nTWVtb3J5QWNjZXNzVHlwZVxuICAvKiogT3B0aW9uYWwge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9IHZpZXcgZGltZW5zaW9uIHRvIHVzZSAqL1xuICB2aWV3RGltZW5zaW9uPzogR1BVVGV4dHVyZVZpZXdEaW1lbnNpb25cbiAgLyoqIFNhbXBsZSBjb3VudCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9LCB1c2VkIGZvciBtdWx0aXNhbXBsaW5nICovXG4gIHNhbXBsZUNvdW50PzogR1BVU2l6ZTMyXG59XG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRleHR1cmVQYXJhbXMgZXh0ZW5kcyBSZW5kZXJUZXh0dXJlQmFzZVBhcmFtcyB7XG4gIC8qKiBPcHRpb25hbCB0ZXh0dXJlIHRvIHVzZSBhcyBhIGNvcHkgc291cmNlIGlucHV0LiBDb3VsZCBiZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfSBvciB7QGxpbmsgVGV4dHVyZX0gKi9cbiAgZnJvbVRleHR1cmU/OiBSZW5kZXJUZXh0dXJlIHwgVGV4dHVyZSB8IG51bGxcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIFJlbmRlclRleHR1cmV9IHBhcmFtZXRlcnMgKi9cbmNvbnN0IGRlZmF1bHRSZW5kZXJUZXh0dXJlUGFyYW1zOiBSZW5kZXJUZXh0dXJlUGFyYW1zID0ge1xuICBsYWJlbDogJ1JlbmRlclRleHR1cmUnLFxuICBuYW1lOiAncmVuZGVyVGV4dHVyZScsXG4gIHVzYWdlOiAndGV4dHVyZScsXG4gIGFjY2VzczogJ3dyaXRlJyxcbiAgZnJvbVRleHR1cmU6IG51bGwsXG4gIHZpZXdEaW1lbnNpb246ICcyZCcsXG4gIHNhbXBsZUNvdW50OiAxLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gdGhhdCBjYW4gYmUgdXNlZCBhcyBjb3B5IHNvdXJjZS9kZXN0aW5hdGlvbiBmb3Ige0BsaW5rIGNvcmUvcmVuZGVyUGFzc2VzL1JlbmRlclBhc3MuUmVuZGVyUGFzcyB8IFJlbmRlclBhc3N9IGFuZCB7QGxpbmsgY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LlJlbmRlclRhcmdldCB8IFJlbmRlclRhcmdldH0uPGJyID5cbiAqIEJhc2ljYWxseSB1c2VmdWwgZm9yIGNvcHlpbmcgYW55dGhpbmcgb3V0cHV0dGVkIHRvIHRoZSBzY3JlZW4gYXQgb25lIHBvaW50IG9yIGFub3RoZXIuXG4gKlxuICogV2lsbCBjcmVhdGUgYSB7QGxpbmsgR1BVVGV4dHVyZX0gYW5kIGl0cyBhc3NvY2lhdGVkIHtAbGluayBUZXh0dXJlQmluZGluZ30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIHJlbmRlciB0ZXh0dXJlXG4gKiBjb25zdCByZW5kZXJUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNeSByZW5kZXIgdGV4dHVyZScsXG4gKiAgIG5hbWU6ICdyZW5kZXJUZXh0dXJlJyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclRleHR1cmUge1xuICAvKioge0BsaW5rIFJlbmRlcmVyIHwgcmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIFRoZSB7QGxpbmsgR1BVVGV4dHVyZX0gdXNlZCAqL1xuICB0ZXh0dXJlOiBHUFVUZXh0dXJlXG5cbiAgLyoqIFNpemUgb2YgdGhlIHtAbGluayBSZW5kZXJUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSBzb3VyY2UsIHVzdWFsbHkgb3VyIHtAbGluayBSZW5kZXJlciNwaXhlbFJhdGlvQm91bmRpbmdSZWN0IHwgcmVuZGVyZXIgcGl4ZWwgcmF0aW8gYm91bmRpbmcgcmVjdH0gKi9cbiAgc2l6ZTogVGV4dHVyZVNpemVcblxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfSAqL1xuICBvcHRpb25zOiBSZW5kZXJUZXh0dXJlUGFyYW1zXG5cbiAgLyoqIEFycmF5IG9mIHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IGJpbmRpbmdzfSB0aGF0IHdpbGwgYWN0dWFsbHkgb25seSBob2xkIG9uZSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcgfCB0ZXh0dXJlIGJpbmRpbmd9ICovXG4gIGJpbmRpbmdzOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXG5cbiAgLyoqXG4gICAqIFJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIFJlbmRlcmVyIHwgcmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0gZGVmYXVsdFJlbmRlclRleHR1cmVQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyBSZW5kZXJUZXh0dXJlJyA6ICdSZW5kZXJUZXh0dXJlJylcblxuICAgIHRoaXMudHlwZSA9ICdSZW5kZXJUZXh0dXJlJ1xuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG5cbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0UmVuZGVyVGV4dHVyZVBhcmFtcywgLi4ucGFyYW1ldGVycyB9XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5mb3JtYXQgPSB0aGlzLnJlbmRlcmVyLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0XG4gICAgfVxuXG4gICAgLy8gc2l6ZXNcbiAgICB0aGlzLnNpemUgPSB0aGlzLm9wdGlvbnMuc2l6ZSA/PyB7XG4gICAgICB3aWR0aDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3Qud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQpLFxuICAgICAgZGVwdGg6IDEsXG4gICAgfVxuXG4gICAgLy8gc3RydWN0XG4gICAgdGhpcy5zZXRCaW5kaW5ncygpXG5cbiAgICAvLyB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJlci5hZGRSZW5kZXJUZXh0dXJlKHRoaXMpXG4gICAgdGhpcy5jcmVhdGVUZXh0dXJlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IGFub3RoZXIge0BsaW5rIFJlbmRlclRleHR1cmV9IGludG8gdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gY29weVxuICAgKi9cbiAgY29weSh0ZXh0dXJlOiBSZW5kZXJUZXh0dXJlIHwgVGV4dHVyZSkge1xuICAgIHRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSA9IHRleHR1cmVcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgR1BVVGV4dHVyZX0gZGlyZWN0bHkgaW50byB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfS4gTWFpbmx5IHVzZWQgZm9yIGRlcHRoIHRleHR1cmVzLlxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBHUFVUZXh0dXJlfSB0byBjb3B5XG4gICAqL1xuICBjb3B5R1BVVGV4dHVyZSh0ZXh0dXJlOiBHUFVUZXh0dXJlKSB7XG4gICAgdGhpcy5zaXplID0ge1xuICAgICAgd2lkdGg6IHRleHR1cmUud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRleHR1cmUuaGVpZ2h0LFxuICAgICAgZGVwdGg6IHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzLFxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmVcbiAgICB0aGlzLnRleHR1cmVCaW5kaW5nLnJlc291cmNlID0gdGhpcy50ZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgR1BVVGV4dHVyZSB8IHRleHR1cmV9IChvciBjb3B5IGl0IGZyb20gc291cmNlKSBhbmQgdXBkYXRlIHRoZSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCBiaW5kaW5nIHJlc291cmNlfVxuICAgKi9cbiAgY3JlYXRlVGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZyb21UZXh0dXJlKSB7XG4gICAgICAvLyBjb3B5IHRoZSBHUFUgdGV4dHVyZVxuICAgICAgdGhpcy5jb3B5R1BVVGV4dHVyZSh0aGlzLm9wdGlvbnMuZnJvbVRleHR1cmUudGV4dHVyZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXG5cbiAgICB0aGlzLnRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcbiAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLmZvcm1hdCxcbiAgICAgIHNpemU6IFt0aGlzLnNpemUud2lkdGgsIHRoaXMuc2l6ZS5oZWlnaHQsIHRoaXMuc2l6ZS5kZXB0aF0sXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzFkJyA/ICcxZCcgOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzNkJyA/ICczZCcgOiAnMmQnLFxuICAgICAgc2FtcGxlQ291bnQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCxcbiAgICAgIHVzYWdlOlxuICAgICAgICAvLyBUT0RPIGxldCB1c2VyIGNob3NlP1xuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9tYXRyaXgudG8vIy8hTUZvZ2RHSmZuWkxyRG1na0JOOm1hdHJpeC5vcmcvJHZFU1U3MFNlQ2tjc3JKUWR5UUdNV0J0Q2dWZDNYcW5IY0J4RkRLVEtLU1E/dmlhPW1hdHJpeC5vcmcmdmlhPW1vemlsbGEub3JnJnZpYT1oZWouaW1cbiAgICAgICAgdGhpcy5vcHRpb25zLnVzYWdlICE9PSAnc3RvcmFnZVRleHR1cmUnXG4gICAgICAgICAgPyBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HIHxcbiAgICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyB8XG4gICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QgfFxuICAgICAgICAgICAgR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UXG4gICAgICAgICAgOiBHUFVUZXh0dXJlVXNhZ2UuU1RPUkFHRV9CSU5ESU5HIHwgR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcbiAgICB9IGFzIEdQVVRleHR1cmVEZXNjcmlwdG9yKVxuXG4gICAgLy8gdXBkYXRlIHRleHR1cmUgYmluZGluZ1xuICAgIHRoaXMudGV4dHVyZUJpbmRpbmcucmVzb3VyY2UgPSB0aGlzLnRleHR1cmVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBSZW5kZXJUZXh0dXJlI2JpbmRpbmdzIHwgYmluZGluZ3N9XG4gICAqL1xuICBzZXRCaW5kaW5ncygpIHtcbiAgICB0aGlzLmJpbmRpbmdzID0gW1xuICAgICAgbmV3IFRleHR1cmVCaW5kaW5nKHtcbiAgICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICc6ICcgKyB0aGlzLm9wdGlvbnMubmFtZSArICcgcmVuZGVyIHRleHR1cmUnLFxuICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMubmFtZSxcbiAgICAgICAgdGV4dHVyZTogdGhpcy50ZXh0dXJlLFxuICAgICAgICBiaW5kaW5nVHlwZTogdGhpcy5vcHRpb25zLnVzYWdlLFxuICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy5mb3JtYXQsXG4gICAgICAgIHZpZXdEaW1lbnNpb246IHRoaXMub3B0aW9ucy52aWV3RGltZW5zaW9uLFxuICAgICAgICBtdWx0aXNhbXBsZWQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCA+IDEsXG4gICAgICB9IGFzIFRleHR1cmVCaW5kaW5nUGFyYW1zKSxcbiAgICBdXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgVGV4dHVyZUJpbmRpbmcgfCB0ZXh0dXJlIGJpbmRpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHRleHR1cmVCaW5kaW5nKCk6IFRleHR1cmVCaW5kaW5nIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nc1swXSBhcyBUZXh0dXJlQmluZGluZ1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGEge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGJlIHJlY3JlYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZVxuICAgKiBAcGFyYW0gc2l6ZSAtIG5ldyB7QGxpbmsgVGV4dHVyZVNpemUgfCBzaXplfSB0byBzZXRcbiAgICovXG4gIGZvcmNlUmVzaXplKHNpemU6IFRleHR1cmVTaXplKSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZVxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIG91ciB7QGxpbmsgUmVuZGVyVGV4dHVyZX0sIHdoaWNoIG1lYW5zIHJlY3JlYXRlIGl0L2NvcHkgaXQgYWdhaW4gYW5kIHRlbGwgdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvVGV4dHVyZUJpbmRHcm91cC5UZXh0dXJlQmluZEdyb3VwIHwgdGV4dHVyZSBiaW5kIGdyb3VwfSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHNpemUgLSB0aGUgb3B0aW9uYWwgbmV3IHtAbGluayBUZXh0dXJlU2l6ZSB8IHNpemV9IHRvIHNldFxuICAgKi9cbiAgcmVzaXplKHNpemU6IFRleHR1cmVTaXplIHwgbnVsbCA9IG51bGwpIHtcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIHNpemUgPSB7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgICAgZGVwdGg6IDEsXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm8gcmVhbCByZXNpemUsIGJhaWwhXG4gICAgaWYgKHNpemUud2lkdGggPT09IHRoaXMuc2l6ZS53aWR0aCAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5zaXplLmhlaWdodCAmJiBzaXplLmRlcHRoID09PSB0aGlzLnNpemUuZGVwdGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuZm9yY2VSZXNpemUoc2l6ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW1vdmVSZW5kZXJUZXh0dXJlKHRoaXMpXG5cbiAgICAvLyBkZXN0cm95IHRoZSBHUFUgdGV4dHVyZSBvbmx5IGlmIGl0J3Mgbm90IGEgY29weSBvZiBhbm90aGVyIHRleHR1cmVcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSkge1xuICAgICAgdGhpcy50ZXh0dXJlPy5kZXN0cm95KClcbiAgICB9XG5cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vYmluZEdyb3Vwcy9CaW5kR3JvdXAnXG5pbXBvcnQgeyBUZXh0dXJlQmluZEdyb3VwIH0gZnJvbSAnLi4vYmluZEdyb3Vwcy9UZXh0dXJlQmluZEdyb3VwJ1xuaW1wb3J0IHsgU2FtcGxlciB9IGZyb20gJy4uL3NhbXBsZXJzL1NhbXBsZXInXG5pbXBvcnQgeyBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzIH0gZnJvbSAnLi4vcGlwZWxpbmVzL1BpcGVsaW5lTWFuYWdlcidcbmltcG9ydCB7IEJ1ZmZlckJpbmRpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dCB9IGZyb20gJy4uL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcnXG5pbXBvcnQgeyBBbGxvd2VkQmluZEdyb3VwcywgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQsIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9UZXh0dXJlJ1xuaW1wb3J0IHsgRnVsbFNoYWRlcnNUeXBlLCBNYXRlcmlhbE9wdGlvbnMsIE1hdGVyaWFsUGFyYW1zIH0gZnJvbSAnLi4vLi4vdHlwZXMvTWF0ZXJpYWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJ1xuaW1wb3J0IHsgQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL0JpbmRpbmcnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEJ1ZmZlckVsZW1lbnQgfSBmcm9tICcuLi9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50J1xuXG4vKipcbiAqIFVzZWQgYXMgYSBiYXNlIHRvIGNyZWF0ZSBhIHtAbGluayBNYXRlcmlhbH0uPGJyPlxuICogVGhlIHB1cnBvc2Ugb2Yge0BsaW5rIE1hdGVyaWFsfSBpcyB0byBjcmVhdGUgYW5kIHVwZGF0ZSB0aGUge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBhbmQgdGhlaXIgYmluZGluZ3MgKEdQVSBidWZmZXJzLCB0ZXh0dXJlcyBhbmQgc2FtcGxlcnMpLCBjcmVhdGUgYSB7QGxpbmsgY29yZS9waXBlbGluZXMvUGlwZWxpbmVFbnRyeS5QaXBlbGluZUVudHJ5IHwgUGlwZWxpbmVFbnRyeX0gYW5kIHVzZSB0aGVtIHRvIHtAbGluayBNYXRlcmlhbCNyZW5kZXIgfCByZW5kZXJ9LlxuICpcbiAqICMjIEJpbmQgZ3JvdXBzXG4gKlxuICogQSB7QGxpbmsgTWF0ZXJpYWx9IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSwgYnV0IGl0IGlzIGFjdHVhbGx5IGFkZGVkIHRvIHRoZSBhY3RpdmUge0BsaW5rIE1hdGVyaWFsI2JpbmRHcm91cHMgfCBiaW5kIGdyb3VwcyBhcnJheX0gb25seSBpZiBuZWNlc3NhcnksIHdoaWNoIG1lYW5zIGlmIHlvdXIgc2hhZGVycyB1c2UgYSB7QGxpbmsgR1BVU2FtcGxlcn0sIGEge0BsaW5rIEdQVVRleHR1cmV9IG9yIGEge0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0uXG4gKlxuICogQW5vdGhlciB7QGxpbmsgQmluZEdyb3VwfSB3aWxsIGJlIGNyZWF0ZWQgaWYgeW91IHBhc3MgYW55IHtAbGluayBNYXRlcmlhbFBhcmFtcyN1bmlmb3JtcyB8IHVuaWZvcm1zfSBvciB7QGxpbmsgTWF0ZXJpYWxQYXJhbXMjc3RvcmFnZXMgfCBzdG9yYWdlc30gcGFyYW1ldGVycy5cbiAqXG4gKiBGaW5hbGx5LCB5b3UgY2FuIGFsc28gcGFzcyBhbHJlYWR5IGNyZWF0ZWQge0BsaW5rIEJpbmRHcm91cH0gdG8gYSB7QGxpbmsgTWF0ZXJpYWx9IHZpYSB0aGUge0BsaW5rIE1hdGVyaWFsUGFyYW1zI2JpbmRHcm91cHMgfCBiaW5kR3JvdXBzfSBwYXJhbWV0ZXIuXG4gKlxuICogLS0tLVxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGNsYXNzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIGlzLCBidXQgYXMgYSBiYXNlIGZvciB7QGxpbmsgY29yZS9tYXRlcmlhbHMvQ29tcHV0ZU1hdGVyaWFsLkNvbXB1dGVNYXRlcmlhbCB8IENvbXB1dGVNYXRlcmlhbH0gYW5kIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCB8IFJlbmRlck1hdGVyaWFsfSBjbGFzc2VzLlxuICovXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWwge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBUaGUgdW5pdmVyc2FsIHVuaXF1ZSBpZCBvZiB0aGUge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB1dWlkOiBzdHJpbmdcbiAgLyoqIFRoZSB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBvcHRpb25zOiBNYXRlcmlhbE9wdGlvbnNcblxuICAvKiogUGlwZWxpbmUgZW50cnkgdXNlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgcGlwZWxpbmVFbnRyeTogQWxsb3dlZFBpcGVsaW5lRW50cmllc1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiB7QGxpbmsgQmluZEdyb3VwIHwgYmluZCBncm91cHN9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9XG4gICAqIFRoaXMgYXJyYXkgcmVzcGVjdHMgYSBzcGVjaWZpYyBvcmRlcjpcbiAgICogMS4gVGhlIHtAbGluayB0ZXh0dXJlc0JpbmRHcm91cCB8IHRleHR1cmVzIGJpbmQgZ3JvdXBzfVxuICAgKiAyLiBUaGUge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXB9IGNyZWF0ZWQgdXNpbmcge0BsaW5rIHR5cGVzL0JpbmRHcm91cHMuQmluZEdyb3VwSW5wdXRzI3VuaWZvcm1zIHwgdW5pZm9ybXN9IGFuZCB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBJbnB1dHMjc3RvcmFnZXMgfCBzdG9yYWdlc30gcGFyYW1ldGVycyBpZiBhbnlcbiAgICogMy4gQWRkaXRpb25hbCB7QGxpbmsgTWF0ZXJpYWxQYXJhbXMjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBwYXJhbWV0ZXJzIGlmIGFueVxuICAgKi9cbiAgYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAgfCB0ZXh0dXJlIGJpbmQgZ3JvdXBzfSB1c2VkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB0ZXh0dXJlc0JpbmRHcm91cHM6IFRleHR1cmVCaW5kR3JvdXBbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBjcmVhdGVkIHVzaW5nIHRoZSB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBJbnB1dHMjdW5pZm9ybXMgfCB1bmlmb3Jtc30gYW5kIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyNzdG9yYWdlcyB8IHN0b3JhZ2VzfSBwYXJhbWV0ZXJzIHdoZW4gaW5zdGFuY2luZyB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgaW5wdXRzQmluZEdyb3VwczogQmluZEdyb3VwW11cbiAgLyoqIEFycmF5IG9mIHtAbGluayBCaW5kR3JvdXAgfCBjbG9uZWQgYmluZCBncm91cHN9IGNyZWF0ZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9ICovXG4gIGNsb25lZEJpbmRHcm91cHM6IEFsbG93ZWRCaW5kR3JvdXBzW11cblxuICAvKiogT2JqZWN0IGNvbnRhaW5pbmcgYWxsIHVuaWZvcm1zIGlucHV0cyBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB1bmlmb3JtczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgQnVmZmVyQmluZGluZ0lucHV0Pj5cbiAgLyoqIE9iamVjdCBjb250YWluaW5nIGFsbCByZWFkIG9ubHkgb3IgcmVhZC93cml0ZSBzdG9yYWdlcyBpbnB1dHMgaGFuZGxlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgc3RvcmFnZXM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dD4+XG5cbiAgLyoqIEFycmF5IG9mIHtAbGluayBCaW5kaW5nIHwgYmluZGluZ3N9IGNyZWF0ZWQgdXNpbmcgdGhlIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyN1bmlmb3JtcyB8IHVuaWZvcm1zfSBhbmQge0BsaW5rIHR5cGVzL0JpbmRHcm91cHMuQmluZEdyb3VwSW5wdXRzI3N0b3JhZ2VzIHwgc3RvcmFnZXN9IHBhcmFtZXRlcnMgd2hlbiBpbnN0YW5jaW5nIHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBpbnB1dHNCaW5kaW5nczogQmluZEdyb3VwQmluZGluZ0VsZW1lbnRbXVxuXG4gIC8qKiBBcnJheSBvZiB7QGxpbmsgVGV4dHVyZX0gaGFuZGxlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgdGV4dHVyZXM6IFRleHR1cmVbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlbmRlclRleHR1cmV9IGhhbmRsZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9ICovXG4gIHJlbmRlclRleHR1cmVzOiBSZW5kZXJUZXh0dXJlW11cbiAgLyoqIEFycmF5IG9mIHtAbGluayBTYW1wbGVyfSBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBzYW1wbGVyczogU2FtcGxlcltdXG5cbiAgLyoqXG4gICAqIE1hdGVyaWFsIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciByZW5kZXJlciBjbGFzcyBvYmplY3RcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgdHlwZXMvTWF0ZXJpYWxzLk1hdGVyaWFsUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIE1hdGVyaWFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucywgcGFyYW1ldGVyczogTWF0ZXJpYWxQYXJhbXMpIHtcbiAgICB0aGlzLnR5cGUgPSAnTWF0ZXJpYWwnXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHRoaXMudHlwZSlcblxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIGNvbnN0IHsgc2hhZGVycywgbGFiZWwsIHVzZUFzeW5jUGlwZWxpbmUsIHVuaWZvcm1zLCBzdG9yYWdlcywgYmluZEdyb3Vwcywgc2FtcGxlcnMsIHRleHR1cmVzLCByZW5kZXJUZXh0dXJlcyB9ID1cbiAgICAgIHBhcmFtZXRlcnNcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHNoYWRlcnMsXG4gICAgICBsYWJlbCxcbiAgICAgIC4uLih1c2VBc3luY1BpcGVsaW5lICE9PSB1bmRlZmluZWQgJiYgeyB1c2VBc3luY1BpcGVsaW5lIH0pLFxuICAgICAgLi4uKHVuaWZvcm1zICE9PSB1bmRlZmluZWQgJiYgeyB1bmlmb3JtcyB9KSxcbiAgICAgIC4uLihzdG9yYWdlcyAhPT0gdW5kZWZpbmVkICYmIHsgc3RvcmFnZXMgfSksXG4gICAgICAuLi4oYmluZEdyb3VwcyAhPT0gdW5kZWZpbmVkICYmIHsgYmluZEdyb3VwcyB9KSxcbiAgICAgIC4uLihzYW1wbGVycyAhPT0gdW5kZWZpbmVkICYmIHsgc2FtcGxlcnMgfSksXG4gICAgICAuLi4odGV4dHVyZXMgIT09IHVuZGVmaW5lZCAmJiB7IHRleHR1cmVzIH0pLFxuICAgICAgLi4uKHJlbmRlclRleHR1cmVzICE9PSB1bmRlZmluZWQgJiYgeyByZW5kZXJUZXh0dXJlcyB9KSxcbiAgICB9XG5cbiAgICB0aGlzLmJpbmRHcm91cHMgPSBbXVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzID0gW11cbiAgICB0aGlzLmNsb25lZEJpbmRHcm91cHMgPSBbXVxuXG4gICAgdGhpcy5zZXRCaW5kR3JvdXBzKClcblxuICAgIHRoaXMuc2V0VGV4dHVyZXMoKVxuICAgIHRoaXMuc2V0U2FtcGxlcnMoKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFsbCBiaW5kIGdyb3VwcyBhcmUgcmVhZHksIGFuZCBjcmVhdGUgdGhlbSBpZiBuZWVkZWRcbiAgICovXG4gIGNvbXBpbGVNYXRlcmlhbCgpIHtcbiAgICBjb25zdCB0ZXh0dXJlc0JpbmRHcm91cExlbmd0aCA9IHRoaXMudGV4dHVyZXNCaW5kR3JvdXAuYmluZGluZ3MubGVuZ3RoID8gMSA6IDBcbiAgICBjb25zdCBiaW5kR3JvdXBzUmVhZHkgPSB0aGlzLmJpbmRHcm91cHMubGVuZ3RoID49IHRoaXMuaW5wdXRzQmluZEdyb3Vwcy5sZW5ndGggKyB0ZXh0dXJlc0JpbmRHcm91cExlbmd0aFxuXG4gICAgaWYgKCFiaW5kR3JvdXBzUmVhZHkpIHtcbiAgICAgIHRoaXMuY3JlYXRlQmluZEdyb3VwcygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSByZW5kZXJlciBpcyByZWFkeSwgb3VyIHBpcGVsaW5lIGVudHJ5IGFuZCBwaXBlbGluZSBoYXZlIGJlZW4gY3JlYXRlZCBhbmQgc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhISh0aGlzLnJlbmRlcmVyLnJlYWR5ICYmIHRoaXMucGlwZWxpbmVFbnRyeSAmJiB0aGlzLnBpcGVsaW5lRW50cnkucGlwZWxpbmUgJiYgdGhpcy5waXBlbGluZUVudHJ5LnJlYWR5KVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uLlxuICAgKiBCYXNpY2FsbHkgc2V0IGFsbCB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gbnVsbCBzbyB0aGV5IHdpbGwgYmUgcmVzZXQgbmV4dCB0aW1lIHdlIHRyeSB0byByZW5kZXJcbiAgICovXG4gIGxvc2VDb250ZXh0KCkge1xuICAgIC8vIHN0YXJ0IHdpdGggdGhlIHRleHR1cmVzXG4gICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLnRleHR1cmUgPSBudWxsXG4gICAgICB0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcbiAgICB9KVxuXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLnRleHR1cmUgPSBudWxsXG4gICAgfSlcblxuICAgIC8vIHRoZW4gYmluZCBncm91cHMgYW5kIHN0cnVjdFxuICAgIDtbLi4udGhpcy5iaW5kR3JvdXBzLCAuLi50aGlzLmNsb25lZEJpbmRHcm91cHMsIC4uLnRoaXMuaW5wdXRzQmluZEdyb3Vwc10uZm9yRWFjaCgoYmluZEdyb3VwKSA9PlxuICAgICAgYmluZEdyb3VwLmxvc2VDb250ZXh0KClcbiAgICApXG5cbiAgICAvLyByZXNldCBwaXBlbGluZSBhcyB3ZWxsXG4gICAgdGhpcy5waXBlbGluZUVudHJ5LnBpcGVsaW5lID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gcmVzdG9yZWQgdG8gcmVjcmVhdGUgb3VyIGJpbmQgZ3JvdXBzLlxuICAgKi9cbiAgcmVzdG9yZUNvbnRleHQoKSB7XG4gICAgLy8gc3RhcnQgd2l0aCB0aGUgc2FtcGxlcnMgYW5kIHRleHR1cmVzXG4gICAgdGhpcy5zYW1wbGVycy5mb3JFYWNoKChzYW1wbGVyKSA9PiB7XG4gICAgICAvLyB0aGUgc2FtcGxlcnMgaGF2ZSBhbGwgYmVlbiByZWNyZWF0ZWQgYnkgdGhlIHJlbmRlcmVyLCBqdXN0IHVwZGF0ZSB0aGUgcmVmZXJlbmNlXG4gICAgICBzYW1wbGVyLmNyZWF0ZVNhbXBsZXIoKVxuICAgICAgc2FtcGxlci5iaW5kaW5nLnJlc291cmNlID0gc2FtcGxlci5zYW1wbGVyXG4gICAgfSlcblxuICAgIC8vIHJlY3JlYXRlIHRoZSB0ZXh0dXJlcyBhbmQgcmVzaXplIHRoZW1cbiAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgIHRleHR1cmUuY3JlYXRlVGV4dHVyZSgpXG4gICAgICB0ZXh0dXJlLnJlc2l6ZSgpXG4gICAgfSlcblxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSkgPT4ge1xuICAgICAgdGV4dHVyZS5yZXNpemUodGV4dHVyZS5zaXplKVxuICAgIH0pXG5cbiAgICAvLyBub3cgdGhlIGJpbmQgZ3JvdXBzXG4gICAgO1suLi50aGlzLmJpbmRHcm91cHMsIC4uLnRoaXMuY2xvbmVkQmluZEdyb3VwcywgLi4udGhpcy5pbnB1dHNCaW5kR3JvdXBzXS5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGlmIChiaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICAgIGJpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuICAgICAgfVxuXG4gICAgICAvLyBmaW5hbGx5IHJlLXdyaXRlIGFsbCBvdXIgYnVmZmVyc1xuICAgICAgYmluZEdyb3VwLmJ1ZmZlckJpbmRpbmdzLmZvckVhY2goKGJ1ZmZlckJpbmRpbmcpID0+IChidWZmZXJCaW5kaW5nLnNob3VsZFVwZGF0ZSA9IHRydWUpKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21wbGV0ZSBjb2RlIG9mIGEgZ2l2ZW4gc2hhZGVyIGluY2x1ZGluZyBhbGwgdGhlIFdHU0wgZnJhZ21lbnQgY29kZSBzbmlwcGV0cyBhZGRlZCBieSB0aGUgcGlwZWxpbmVcbiAgICogQHBhcmFtIFtzaGFkZXJUeXBlPVwiZnVsbFwiXSAtIHNoYWRlciB0byBnZXQgdGhlIGNvZGUgZnJvbVxuICAgKiBAcmV0dXJucyAtIFRoZSBjb3JyZXNwb25kaW5nIHNoYWRlciBjb2RlXG4gICAqL1xuICBnZXRTaGFkZXJDb2RlKHNoYWRlclR5cGU6IEZ1bGxTaGFkZXJzVHlwZSA9ICdmdWxsJyk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLnBpcGVsaW5lRW50cnkpIHJldHVybiAnJ1xuXG4gICAgc2hhZGVyVHlwZSA9ICgoKSA9PiB7XG4gICAgICBzd2l0Y2ggKHNoYWRlclR5cGUpIHtcbiAgICAgICAgY2FzZSAndmVydGV4JzpcbiAgICAgICAgY2FzZSAnZnJhZ21lbnQnOlxuICAgICAgICBjYXNlICdjb21wdXRlJzpcbiAgICAgICAgY2FzZSAnZnVsbCc6XG4gICAgICAgICAgcmV0dXJuIHNoYWRlclR5cGVcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2Z1bGwnXG4gICAgICB9XG4gICAgfSkoKVxuXG4gICAgcmV0dXJuIHRoaXMucGlwZWxpbmVFbnRyeS5zaGFkZXJzW3NoYWRlclR5cGVdLmNvZGVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFkZGVkIGNvZGUgb2YgYSBnaXZlbiBzaGFkZXIsIGkuZS4gYWxsIHRoZSBXR1NMIGZyYWdtZW50IGNvZGUgc25pcHBldHMgYWRkZWQgYnkgdGhlIHBpcGVsaW5lXG4gICAqIEBwYXJhbSBbc2hhZGVyVHlwZT1cInZlcnRleFwiXSAtIHNoYWRlciB0byBnZXQgdGhlIGNvZGUgZnJvbVxuICAgKiBAcmV0dXJucyAtIFRoZSBjb3JyZXNwb25kaW5nIHNoYWRlciBjb2RlXG4gICAqL1xuICBnZXRBZGRlZFNoYWRlckNvZGUoc2hhZGVyVHlwZTogRnVsbFNoYWRlcnNUeXBlID0gJ3ZlcnRleCcpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5waXBlbGluZUVudHJ5KSByZXR1cm4gJydcblxuICAgIHNoYWRlclR5cGUgPSAoKCkgPT4ge1xuICAgICAgc3dpdGNoIChzaGFkZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3ZlcnRleCc6XG4gICAgICAgIGNhc2UgJ2ZyYWdtZW50JzpcbiAgICAgICAgY2FzZSAnY29tcHV0ZSc6XG4gICAgICAgICAgcmV0dXJuIHNoYWRlclR5cGVcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ3ZlcnRleCdcbiAgICAgIH1cbiAgICB9KSgpXG5cbiAgICByZXR1cm4gdGhpcy5waXBlbGluZUVudHJ5LnNoYWRlcnNbc2hhZGVyVHlwZV0uaGVhZFxuICB9XG5cbiAgLyogQklORCBHUk9VUFMgKi9cblxuICAvKipcbiAgICogUHJlcGFyZSBhbmQgc2V0IG91ciBiaW5kIGdyb3VwcyBiYXNlZCBvbiBpbnB1dHMgYW5kIGJpbmRHcm91cHMgTWF0ZXJpYWwgcGFyYW1ldGVyc1xuICAgKi9cbiAgc2V0QmluZEdyb3VwcygpIHtcbiAgICB0aGlzLnVuaWZvcm1zID0ge31cbiAgICB0aGlzLnN0b3JhZ2VzID0ge31cblxuICAgIHRoaXMuaW5wdXRzQmluZEdyb3VwcyA9IFtdXG4gICAgdGhpcy5pbnB1dHNCaW5kaW5ncyA9IFtdXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnVuaWZvcm1zIHx8IHRoaXMub3B0aW9ucy5zdG9yYWdlcykge1xuICAgICAgY29uc3QgaW5wdXRzQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBCaW5kaW5ncyBiaW5kIGdyb3VwJyxcbiAgICAgICAgdW5pZm9ybXM6IHRoaXMub3B0aW9ucy51bmlmb3JtcyxcbiAgICAgICAgc3RvcmFnZXM6IHRoaXMub3B0aW9ucy5zdG9yYWdlcyxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMucHJvY2Vzc0JpbmRHcm91cEJpbmRpbmdzKGlucHV0c0JpbmRHcm91cClcbiAgICAgIHRoaXMuaW5wdXRzQmluZEdyb3Vwcy5wdXNoKGlucHV0c0JpbmRHcm91cClcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuYmluZEdyb3Vwcz8uZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NCaW5kR3JvdXBCaW5kaW5ncyhiaW5kR3JvdXApXG4gICAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMucHVzaChiaW5kR3JvdXApXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1haW4ge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAgfCB0ZXh0dXJlIGJpbmQgZ3JvdXB9IGNyZWF0ZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9IHRvIG1hbmFnZSBhbGwgdGV4dHVyZXMgcmVsYXRlZCBzdHJ1Y3RcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXNCaW5kR3JvdXAoKTogVGV4dHVyZUJpbmRHcm91cCB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzWzBdXG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBhbGwge0BsaW5rIEJpbmRHcm91cH0gc3RydWN0IGFuZCBhZGQgdGhlbSB0byB0aGUgY29ycmVzcG9uZGluZyBvYmplY3RzIGJhc2VkIG9uIHRoZWlyIGJpbmRpbmcgdHlwZXMuIEFsc28gc3RvcmUgdGhlbSBpbiBhIGlucHV0c0JpbmRpbmdzIGFycmF5IHRvIGZhY2lsaXRhdGUgZnVydGhlciBhY2Nlc3MgdG8gc3RydWN0LlxuICAgKiBAcGFyYW0gYmluZEdyb3VwIC0gVGhlIHtAbGluayBCaW5kR3JvdXB9IHRvIHByb2Nlc3NcbiAgICovXG4gIHByb2Nlc3NCaW5kR3JvdXBCaW5kaW5ncyhiaW5kR3JvdXA6IEJpbmRHcm91cCkge1xuICAgIGJpbmRHcm91cC5iaW5kaW5ncy5mb3JFYWNoKChpbnB1dEJpbmRpbmcpID0+IHtcbiAgICAgIGlmIChpbnB1dEJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICd1bmlmb3JtJylcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgICAgICAuLi50aGlzLnVuaWZvcm1zLFxuICAgICAgICAgIFtpbnB1dEJpbmRpbmcubmFtZV06IChpbnB1dEJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLmlucHV0cyxcbiAgICAgICAgfVxuICAgICAgaWYgKGlucHV0QmluZGluZy5iaW5kaW5nVHlwZSA9PT0gJ3N0b3JhZ2UnKVxuICAgICAgICB0aGlzLnN0b3JhZ2VzID0ge1xuICAgICAgICAgIC4uLnRoaXMuc3RvcmFnZXMsXG4gICAgICAgICAgW2lucHV0QmluZGluZy5uYW1lXTogKGlucHV0QmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkuaW5wdXRzLFxuICAgICAgICB9XG5cbiAgICAgIHRoaXMuaW5wdXRzQmluZGluZ3MucHVzaChpbnB1dEJpbmRpbmcpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGJpbmQgZ3JvdXBzIGlmIHRoZXkgbmVlZCB0byBiZSBjcmVhdGVkXG4gICAqL1xuICBjcmVhdGVCaW5kR3JvdXBzKCkge1xuICAgIC8vIHRleHR1cmVzIGZpcnN0XG4gICAgaWYgKHRoaXMudGV4dHVyZXNCaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLnNldEluZGV4KHRoaXMuYmluZEdyb3Vwcy5sZW5ndGgpXG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgIHRoaXMuYmluZEdyb3Vwcy5wdXNoKHRoaXMudGV4dHVyZXNCaW5kR3JvdXApXG4gICAgfVxuXG4gICAgLy8gdGhlbiB1bmlmb3Jtcy9zdG9yYWdlcyBpbnB1dHNcbiAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBpZiAoYmluZEdyb3VwLnNob3VsZENyZWF0ZUJpbmRHcm91cCkge1xuICAgICAgICBiaW5kR3JvdXAuc2V0SW5kZXgodGhpcy5iaW5kR3JvdXBzLmxlbmd0aClcbiAgICAgICAgYmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBmaW5hbGx5LCBiaW5kR3JvdXBzIGlucHV0c1xuICAgIHRoaXMub3B0aW9ucy5iaW5kR3JvdXBzPy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIC8vIGl0IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IG5vdCBiZWVuIGFkZGVkIHlldD8gYWRkIGl0IVxuICAgICAgaWYgKCFiaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwICYmICF0aGlzLmJpbmRHcm91cHMuZmluZCgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKSkge1xuICAgICAgICBiaW5kR3JvdXAuc2V0SW5kZXgodGhpcy5iaW5kR3JvdXBzLmxlbmd0aClcbiAgICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgICAgfVxuXG4gICAgICAvLyBhZGQgaXQgdG8gb3VyIHRleHR1cmVzIGJpbmQgZ3JvdXBzIGFzIHdlbGwgaWYgbmVlZGVkXG4gICAgICBpZiAoYmluZEdyb3VwIGluc3RhbmNlb2YgVGV4dHVyZUJpbmRHcm91cCAmJiAhdGhpcy50ZXh0dXJlc0JpbmRHcm91cHMuZmluZCgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKSkge1xuICAgICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3Vwcy5wdXNoKGJpbmRHcm91cClcblxuICAgICAgICAvLyBhbHNvIGFkZCB0aGUgdGV4dHVyZXM/XG4gICAgICAgIGJpbmRHcm91cC50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgaWYgKHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlICYmICF0aGlzLnRleHR1cmVzLmZpbmQoKHQpID0+IHQudXVpZCA9PT0gdGV4dHVyZS51dWlkKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlcy5wdXNoKHRleHR1cmUpXG4gICAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlIGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSAmJiAhdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0KSA9PiB0LnV1aWQgPT09IHRleHR1cmUudXVpZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyBhIHtAbGluayBCaW5kR3JvdXB9IGZyb20gYSBsaXN0IG9mIGJ1ZmZlcnNcbiAgICogVXNlZnVsIHRvIGNyZWF0ZSBhIG5ldyBiaW5kIGdyb3VwIHdpdGggYWxyZWFkeSBjcmVhdGVkIGJ1ZmZlcnMsIGJ1dCBzd2FwcGVkXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gcGFyYW1ldGVycyB1c2VkIHRvIGNsb25lIHRoZSB7QGxpbmsgQmluZEdyb3VwIHwgYmluZCBncm91cH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuYmluZEdyb3VwIC0gdGhlIEJpbmRHcm91cCB0byBjbG9uZVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5ncyAtIG91ciBpbnB1dCBiaW5kaW5nIGJ1ZmZlcnNcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMua2VlcExheW91dCAtIHdoZXRoZXIgd2Ugc2hvdWxkIGtlZXAgb3JpZ2luYWwgYmluZCBncm91cCBsYXlvdXQgb3Igbm90XG4gICAqIEByZXR1cm5zIC0gdGhlIGNsb25lZCBCaW5kR3JvdXBcbiAgICovXG4gIGNsb25lQmluZEdyb3VwKHtcbiAgICBiaW5kR3JvdXAsXG4gICAgYmluZGluZ3MgPSBbXSxcbiAgICBrZWVwTGF5b3V0ID0gdHJ1ZSxcbiAgfToge1xuICAgIGJpbmRHcm91cD86IEFsbG93ZWRCaW5kR3JvdXBzXG4gICAgYmluZGluZ3M/OiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXG4gICAga2VlcExheW91dD86IGJvb2xlYW5cbiAgfSk6IEFsbG93ZWRCaW5kR3JvdXBzIHwgbnVsbCB7XG4gICAgaWYgKCFiaW5kR3JvdXApIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBjbG9uZSA9IGJpbmRHcm91cC5jbG9uZSh7IGJpbmRpbmdzLCBrZWVwTGF5b3V0IH0pXG4gICAgdGhpcy5jbG9uZWRCaW5kR3JvdXBzLnB1c2goY2xvbmUpXG5cbiAgICByZXR1cm4gY2xvbmVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBjb3JyZXNwb25kaW5nIHtAbGluayBCaW5kR3JvdXB9IG9yIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSBmcm9tIG9uZSBvZiBpdHMgYmluZGluZyBuYW1lL2tleVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lL2tleSB0byBsb29rIGZvclxuICAgKiBAcmV0dXJucyAtIGJpbmQgZ3JvdXAgZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldEJpbmRHcm91cEJ5QmluZGluZ05hbWUoYmluZGluZ05hbWU6IEJ1ZmZlckJpbmRpbmdbJ25hbWUnXSA9ICcnKTogQWxsb3dlZEJpbmRHcm91cHMgfCBudWxsIHtcbiAgICByZXR1cm4gKHRoaXMucmVhZHkgPyB0aGlzLmJpbmRHcm91cHMgOiB0aGlzLmlucHV0c0JpbmRHcm91cHMpLmZpbmQoKGJpbmRHcm91cCkgPT4ge1xuICAgICAgcmV0dXJuIGJpbmRHcm91cC5iaW5kaW5ncy5maW5kKChiaW5kaW5nKSA9PiBiaW5kaW5nLm5hbWUgPT09IGJpbmRpbmdOYW1lKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhIGJpbmQgZ3JvdXAsIG9ubHkgaWYgaXQgaXMgbm90IHVzZWQgYnkgYW5vdGhlciBvYmplY3RcbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIGJpbmQgZ3JvdXAgdG8gZXZlbnR1YWxseSBkZXN0cm95XG4gICAqL1xuICBkZXN0cm95QmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpIHtcbiAgICAvLyBjaGVjayBpZiB0aGlzIGJpbmQgZ3JvdXAgaXMgdXNlZCBieSBhbm90aGVyIG9iamVjdCBiZWZvcmUgYWN0dWFsbHkgZGVzdHJveWluZyBpdFxuICAgIGNvbnN0IG9iamVjdHNVc2luZ0JpbmRHcm91cCA9IHRoaXMucmVuZGVyZXIuZ2V0T2JqZWN0c0J5QmluZEdyb3VwKGJpbmRHcm91cClcblxuICAgIGNvbnN0IHNob3VsZERlc3Ryb3kgPVxuICAgICAgIW9iamVjdHNVc2luZ0JpbmRHcm91cCB8fCAhb2JqZWN0c1VzaW5nQmluZEdyb3VwLmZpbmQoKG9iamVjdCkgPT4gb2JqZWN0Lm1hdGVyaWFsLnV1aWQgIT09IHRoaXMudXVpZClcblxuICAgIGlmIChzaG91bGREZXN0cm95KSB7XG4gICAgICBiaW5kR3JvdXAuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYWxsIGJpbmQgZ3JvdXBzXG4gICAqL1xuICBkZXN0cm95QmluZEdyb3VwcygpIHtcbiAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB0aGlzLmRlc3Ryb3lCaW5kR3JvdXAoYmluZEdyb3VwKSlcbiAgICB0aGlzLmNsb25lZEJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB0aGlzLmRlc3Ryb3lCaW5kR3JvdXAoYmluZEdyb3VwKSlcbiAgICB0aGlzLnRleHR1cmVzQmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHRoaXMuZGVzdHJveUJpbmRHcm91cChiaW5kR3JvdXApKVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzID0gW11cbiAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMgPSBbXVxuICAgIHRoaXMuYmluZEdyb3VwcyA9IFtdXG4gICAgdGhpcy5jbG9uZWRCaW5kR3JvdXBzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgQmluZEdyb3VwI3VwZGF0ZSB8IFVwZGF0ZX0gYWxsIGJpbmQgZ3JvdXBzOlxuICAgKiAtIFVwZGF0ZSBhbGwge0BsaW5rIHRleHR1cmVzQmluZEdyb3VwcyB8IHRleHR1cmVzIGJpbmQgZ3JvdXBzfSB0ZXh0dXJlc1xuICAgKiAtIFVwZGF0ZSBpdHMge0BsaW5rIEJpbmRHcm91cCNidWZmZXJCaW5kaW5ncyB8IGJ1ZmZlciBiaW5kaW5nc31cbiAgICogLSBDaGVjayBpZiBpdCBldmVudHVhbGx5IG5lZWRzIGEge0BsaW5rIEJpbmRHcm91cCNyZXNldEJpbmRHcm91cCB8IHJlc2V0fVxuICAgKiAtIENoZWNrIGlmIHdlIG5lZWQgdG8gZmx1c2ggdGhlIHBpcGVsaW5lXG4gICAqL1xuICB1cGRhdGVCaW5kR3JvdXBzKCkge1xuICAgIC8vIG5vdyB1cGRhdGUgYWxsIGJpbmQgZ3JvdXBzIGluIHVzZSBhbmQgY2hlY2sgaWYgdGhleSBuZWVkIHRvIGZsdXNoIHRoZSBwaXBlbGluZVxuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGJpbmRHcm91cC51cGRhdGUoKVxuXG4gICAgICAvLyBpZiBhIGJpbmQgZ3JvdXAgbmVlZHMgdG8gZmx1c2ggdGhlIHBpcGVsaW5lXG4gICAgICAvLyB1c3VhbGx5IGhhcHBlbnMgaWYgb25lIG9mIHRoZSBzdHJ1Y3QgYmluZGluZ1R5cGUgaGFzIGNoYW5nZWQsXG4gICAgICAvLyB3aGljaCBtZWFucyB0aGUgc2hhZGVyIHNob3VsZCBiZSByZS1wYXRjaGVkIGFuZCByZWNyZWF0ZWRcbiAgICAgIGlmIChiaW5kR3JvdXAubmVlZHNQaXBlbGluZUZsdXNoICYmIHRoaXMucGlwZWxpbmVFbnRyeS5yZWFkeSkge1xuICAgICAgICB0aGlzLnBpcGVsaW5lRW50cnkuZmx1c2hQaXBlbGluZUVudHJ5KHRoaXMuYmluZEdyb3VwcylcbiAgICAgICAgYmluZEdyb3VwLm5lZWRzUGlwZWxpbmVGbHVzaCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qIElOUFVUUyAqL1xuXG4gIC8qKlxuICAgKiBMb29rIGZvciBhIHtAbGluayBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IGJpbmRpbmd9IGJ5IG5hbWUgaW4gYWxsIHtAbGluayBpbnB1dHNCaW5kaW5ncyB8IGlucHV0IGJpbmRpbmdzfVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lIG9yIGtleVxuICAgKiBAcmV0dXJucyAtIHRoZSBmb3VuZCBiaW5kaW5nLCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICAgKi9cbiAgZ2V0QmluZGluZ0J5TmFtZShiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddID0gJycpOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzQmluZGluZ3MuZmluZCgoYmluZGluZykgPT4gYmluZGluZy5uYW1lID09PSBiaW5kaW5nTmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rIGZvciBhIHtAbGluayBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCB8IGJ1ZmZlciBiaW5kaW5nfSBieSBuYW1lIGluIGFsbCB7QGxpbmsgaW5wdXRzQmluZGluZ3MgfCBpbnB1dCBiaW5kaW5nc31cbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZSBvciBrZXlcbiAgICogQHJldHVybnMgLSB0aGUgZm91bmQgYmluZGluZywgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWU6IEJpbmRpbmdbJ25hbWUnXSA9ICcnKTogQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmlucHV0c0JpbmRpbmdzLmZpbmQoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSA9PT0gYmluZGluZ05hbWUgJiYgJ2J1ZmZlcicgaW4gYmluZGluZykgYXNcbiAgICAgIHwgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnRcbiAgICAgIHwgdW5kZWZpbmVkXG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgYSBnaXZlbiBidWZmZXIgYmluZGluZyB1cGRhdGUgZmxhZyB0byB1cGRhdGUgaXQgYXQgbmV4dCByZW5kZXJcbiAgICogQHBhcmFtIGJ1ZmZlckJpbmRpbmdOYW1lIC0gdGhlIGJ1ZmZlciBiaW5kaW5nIG5hbWVcbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZVxuICAgKi9cbiAgc2hvdWxkVXBkYXRlSW5wdXRzQmluZGluZ3MoYnVmZmVyQmluZGluZ05hbWU/OiBCdWZmZXJCaW5kaW5nWyduYW1lJ10sIGJpbmRpbmdOYW1lPzogQnVmZmVyQmluZGluZ0lucHV0WyduYW1lJ10pIHtcbiAgICBpZiAoIWJ1ZmZlckJpbmRpbmdOYW1lKSByZXR1cm5cblxuICAgIGNvbnN0IGJ1ZmZlckJpbmRpbmcgPSB0aGlzLmdldEJpbmRpbmdCeU5hbWUoYnVmZmVyQmluZGluZ05hbWUpXG4gICAgaWYgKGJ1ZmZlckJpbmRpbmcpIHtcbiAgICAgIGlmICghYmluZGluZ05hbWUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoKGJ1ZmZlckJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLmlucHV0cykuZm9yRWFjaCgoYmluZGluZ0tleSkgPT5cbiAgICAgICAgICAoYnVmZmVyQmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkuc2hvdWxkVXBkYXRlQmluZGluZyhiaW5kaW5nS2V5KVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7KGJ1ZmZlckJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLnNob3VsZFVwZGF0ZUJpbmRpbmcoYmluZGluZ05hbWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyogU0FNUExFUlMgJiBURVhUVVJFUyAqL1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlIG91ciB0ZXh0dXJlcyBhcnJheSBhbmQgc2V0IHRoZSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cH1cbiAgICovXG4gIHNldFRleHR1cmVzKCkge1xuICAgIHRoaXMudGV4dHVyZXMgPSBbXVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMgPSBbXVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzLnB1c2goXG4gICAgICBuZXcgVGV4dHVyZUJpbmRHcm91cCh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBUZXh0dXJlcyBiaW5kIGdyb3VwJyxcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgdGhpcy5vcHRpb25zLnRleHR1cmVzPy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcbiAgICB9KVxuXG4gICAgdGhpcy5vcHRpb25zLnJlbmRlclRleHR1cmVzPy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHRleHR1cmUgdG8gb3VyIGFycmF5LCBhbmQgYWRkIGl0IHRvIHRoZSB0ZXh0dXJlcyBiaW5kIGdyb3VwIG9ubHkgaWYgdXNlZCBpbiB0aGUgc2hhZGVycyAoYXZvaWQgYmluZGluZyB1c2VsZXNzIGRhdGEpXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0gdGV4dHVyZSB0byBhZGRcbiAgICovXG4gIGFkZFRleHR1cmUodGV4dHVyZTogVGV4dHVyZSB8IFJlbmRlclRleHR1cmUpIHtcbiAgICBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHRoaXMudGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgIH0gZWxzZSBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgIH1cblxuICAgIC8vIGlzIGl0IHVzZWQgaW4gb3VyIHNoYWRlcnM/XG4gICAgaWYgKFxuICAgICAgKHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleCAmJiB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZS5pbmRleE9mKHRleHR1cmUub3B0aW9ucy5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZS5pbmRleE9mKHRleHR1cmUub3B0aW9ucy5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuY29tcHV0ZSAmJiB0aGlzLm9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmNvZGUuaW5kZXhPZih0ZXh0dXJlLm9wdGlvbnMubmFtZSkgIT09IC0xKVxuICAgICkge1xuICAgICAgdGhpcy50ZXh0dXJlc0JpbmRHcm91cC5hZGRUZXh0dXJlKHRleHR1cmUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYSB7QGxpbmsgVGV4dHVyZX0gb3Ige0BsaW5rIFJlbmRlclRleHR1cmV9LCBvbmx5IGlmIGl0IGlzIG5vdCB1c2VkIGJ5IGFub3RoZXIgb2JqZWN0IG9yIGNhY2hlZC5cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gb3Ige0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGV2ZW50dWFsbHkgZGVzdHJveVxuICAgKi9cbiAgZGVzdHJveVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSB8IFJlbmRlclRleHR1cmUpIHtcbiAgICAvLyBkbyBub3QgZGVzdHJveSBhIHRleHR1cmUgdGhhdCBtdXN0IHN0YXkgaW4gY2FjaGVcbiAgICBpZiAoKHRleHR1cmUgYXMgVGV4dHVyZSkub3B0aW9ucy5jYWNoZSkgcmV0dXJuXG5cbiAgICAvLyBjaGVjayBpZiB0aGlzIHRleHR1cmUgaXMgdXNlZCBieSBhbm90aGVyIG9iamVjdCBiZWZvcmUgYWN0dWFsbHkgZGVzdHJveWluZyBpdFxuICAgIGNvbnN0IG9iamVjdHNVc2luZ1RleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdldE9iamVjdHNCeVRleHR1cmUodGV4dHVyZSlcblxuICAgIGNvbnN0IHNob3VsZERlc3Ryb3kgPVxuICAgICAgIW9iamVjdHNVc2luZ1RleHR1cmUgfHwgIW9iamVjdHNVc2luZ1RleHR1cmUuc29tZSgob2JqZWN0KSA9PiBvYmplY3QubWF0ZXJpYWwudXVpZCAhPT0gdGhpcy51dWlkKVxuXG4gICAgaWYgKHNob3VsZERlc3Ryb3kpIHtcbiAgICAgIHRleHR1cmUuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYWxsIHRoZSBNYXRlcmlhbCB0ZXh0dXJlc1xuICAgKi9cbiAgZGVzdHJveVRleHR1cmVzKCkge1xuICAgIHRoaXMudGV4dHVyZXM/LmZvckVhY2goKHRleHR1cmUpID0+IHRoaXMuZGVzdHJveVRleHR1cmUodGV4dHVyZSkpXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcz8uZm9yRWFjaCgodGV4dHVyZSkgPT4gdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKSlcbiAgICB0aGlzLnRleHR1cmVzID0gW11cbiAgICB0aGlzLnJlbmRlclRleHR1cmVzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIG91ciBzYW1wbGVycyBhcnJheSBhbmQgYWx3YXlzIGFkZCBhIGRlZmF1bHQgc2FtcGxlciBpZiBub3QgYWxyZWFkeSBwYXNzZWQgYXMgcGFyYW1ldGVyXG4gICAqL1xuICBzZXRTYW1wbGVycygpIHtcbiAgICB0aGlzLnNhbXBsZXJzID0gW11cblxuICAgIHRoaXMub3B0aW9ucy5zYW1wbGVycz8uZm9yRWFjaCgoc2FtcGxlcikgPT4ge1xuICAgICAgdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpXG4gICAgfSlcblxuICAgIC8vIGNyZWF0ZSBvdXIgZGVmYXVsdCBzYW1wbGVyIGlmIG5lZWRlZFxuICAgIGNvbnN0IGhhc0RlZmF1bHRTYW1wbGVyID0gdGhpcy5zYW1wbGVycy5maW5kKChzYW1wbGVyKSA9PiBzYW1wbGVyLm5hbWUgPT09ICdkZWZhdWx0U2FtcGxlcicpXG4gICAgaWYgKCFoYXNEZWZhdWx0U2FtcGxlcikge1xuICAgICAgY29uc3Qgc2FtcGxlciA9IG5ldyBTYW1wbGVyKHRoaXMucmVuZGVyZXIsIHsgbmFtZTogJ2RlZmF1bHRTYW1wbGVyJyB9KVxuICAgICAgdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNhbXBsZXIgdG8gb3VyIGFycmF5LCBhbmQgYWRkIGl0IHRvIHRoZSB0ZXh0dXJlcyBiaW5kIGdyb3VwIG9ubHkgaWYgdXNlZCBpbiB0aGUgc2hhZGVycyAoYXZvaWQgYmluZGluZyB1c2VsZXNzIGRhdGEpXG4gICAqIEBwYXJhbSBzYW1wbGVyIC0gc2FtcGxlciB0byBhZGRcbiAgICovXG4gIGFkZFNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuc2FtcGxlcnMucHVzaChzYW1wbGVyKVxuXG4gICAgLy8gaXMgaXQgdXNlZCBpbiBvdXIgc2hhZGVycz9cbiAgICBpZiAoXG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4ICYmIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmluZGV4T2Yoc2FtcGxlci5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZS5pbmRleE9mKHNhbXBsZXIubmFtZSkgIT09IC0xKSB8fFxuICAgICAgKHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuY29tcHV0ZS5jb2RlLmluZGV4T2Yoc2FtcGxlci5uYW1lKSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLmFkZFNhbXBsZXIoc2FtcGxlcilcbiAgICB9XG4gIH1cblxuICAvKiBCVUZGRVIgUkVTVUxUUyAqL1xuXG4gIC8qKlxuICAgKiBNYXAgYSB7QGxpbmsgR1BVQnVmZmVyfSBhbmQgcHV0IGEgY29weSBvZiB0aGUgZGF0YSBpbnRvIGEge0BsaW5rIEZsb2F0MzJBcnJheX1cbiAgICogQHBhcmFtIGJ1ZmZlciAtIHtAbGluayBHUFVCdWZmZXJ9IHRvIG1hcFxuICAgKiBAYXN5bmNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJSZXN1bHQoYnVmZmVyOiBHUFVCdWZmZXIpOiBQcm9taXNlPEZsb2F0MzJBcnJheT4ge1xuICAgIGF3YWl0IGJ1ZmZlci5tYXBBc3luYyhHUFVNYXBNb2RlLlJFQUQpXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKS5zbGljZSgwKSlcbiAgICBidWZmZXIudW5tYXAoKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIE1hcCB0aGUgY29udGVudCBvZiBhIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9IGFuZCBwdXQgYSBjb3B5IG9mIHRoZSBkYXRhIGludG8gYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSBUaGUgbmFtZSBvZiB0aGUge0BsaW5rIGlucHV0c0JpbmRpbmdzIHwgaW5wdXQgYmluZGluZ3N9IGZyb20gd2hpY2ggdG8gbWFwIHRoZSB7QGxpbmsgQnVmZmVyQmluZGluZyNidWZmZXIgfCBHUFUgYnVmZmVyfVxuICAgKiBAYXN5bmNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJCaW5kaW5nUmVzdWx0QnlCaW5kaW5nTmFtZShiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddID0gJycpOiBQcm9taXNlPEZsb2F0MzJBcnJheT4ge1xuICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWUpXG4gICAgaWYgKGJpbmRpbmcgJiYgJ2J1ZmZlcicgaW4gYmluZGluZykge1xuICAgICAgY29uc3QgZHN0QnVmZmVyID0gdGhpcy5yZW5kZXJlci5jb3B5QnVmZmVyVG9CdWZmZXIoe1xuICAgICAgICBzcmNCdWZmZXI6IGJpbmRpbmcuYnVmZmVyLFxuICAgICAgfSlcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEJ1ZmZlclJlc3VsdChkc3RCdWZmZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hcCB0aGUgY29udGVudCBvZiBhIHNwZWNpZmljIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IGJlbG9uZ2luZyB0byBhIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9IGFuZCBwdXQgYSBjb3B5IG9mIHRoZSBkYXRhIGludG8gYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5nTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgaW5wdXRzQmluZGluZ3MgfCBpbnB1dCBiaW5kaW5nc30gZnJvbSB3aGljaCB0byBtYXAgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJ1ZmZlckVsZW1lbnROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IGZyb20gd2hpY2ggdG8gZXh0cmFjdCB0aGUgZGF0YSBhZnRlcndhcmRzXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIEZsb2F0MzJBcnJheX0gaG9sZGluZyB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJFbGVtZW50UmVzdWx0QnlOYW1lcyh7XG4gICAgYmluZGluZ05hbWUsXG4gICAgYnVmZmVyRWxlbWVudE5hbWUsXG4gIH06IHtcbiAgICBiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddXG4gICAgYnVmZmVyRWxlbWVudE5hbWU6IEJ1ZmZlckVsZW1lbnRbJ25hbWUnXVxuICB9KTogUHJvbWlzZTxGbG9hdDMyQXJyYXk+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldEJ1ZmZlckJpbmRpbmdSZXN1bHRCeUJpbmRpbmdOYW1lKGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKCFidWZmZXJFbGVtZW50TmFtZSB8fCByZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWUpXG4gICAgICBpZiAoYmluZGluZykge1xuICAgICAgICByZXR1cm4gYmluZGluZy5leHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHsgcmVzdWx0LCBidWZmZXJFbGVtZW50TmFtZSB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIHJlbmRlcmluZyB0aGUgTWF0ZXJpYWwuXG4gICAqIEZpcnN0LCBjaGVjayBpZiB3ZSBuZWVkIHRvIGNyZWF0ZSBvdXIgYmluZCBncm91cHMgb3IgcGlwZWxpbmVcbiAgICogVGhlbiByZW5kZXIgdGhlIHtAbGluayB0ZXh0dXJlc31cbiAgICogRmluYWxseSB1cGRhdGVzIGFsbCB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc31cbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyKCkge1xuICAgIC8vIHNldCBvdXIgbWF0ZXJpYWwgaWYgbmVlZGVkXG4gICAgdGhpcy5jb21waWxlTWF0ZXJpYWwoKVxuXG4gICAgLy8gZmlyc3Qgd2hhdCBuZWVkcyB0byBiZSBkb25lIGZvciBhbGwgdGV4dHVyZXNcbiAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgIHRleHR1cmUucmVuZGVyKClcbiAgICB9KVxuXG4gICAgLy8gdXBkYXRlIGJpbmQgZ3JvdXBzXG4gICAgdGhpcy51cGRhdGVCaW5kR3JvdXBzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgcGlwZWxpbmVcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHBhc3MgZW5jb2RlclxuICAgKi9cbiAgc2V0UGlwZWxpbmUocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnBpcGVsaW5lTWFuYWdlci5zZXRDdXJyZW50UGlwZWxpbmUocGFzcywgdGhpcy5waXBlbGluZUVudHJ5KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbWF0ZXJpYWwgaWYgaXQgaXMgcmVhZHk6XG4gICAqIFNldCB0aGUgY3VycmVudCBwaXBlbGluZSBhbmQgc2V0IHRoZSBiaW5kIGdyb3Vwc1xuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcGFzcyBlbmNvZGVyXG4gICAqL1xuICByZW5kZXIocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICAvLyByZW5kZXJlciBvciBwaXBlbGluZSBhcmUgbm90IHJlYWR5IHlldFxuICAgIC8vIG5vdCByZWFsbHkgbmVlZGVkIHNpbmNlIG1lc2hlcy9jb21wdXRlIHBhc3NlcyBkbyBhbHJlYWR5IGNoZWNrIGl0IGJlZm9yZWhhbmRcbiAgICAvLyBtb3N0bHkgaGVyZSBhcyBhIHNhZmVndWFyZFxuICAgIGlmICghdGhpcy5yZWFkeSkgcmV0dXJuXG5cbiAgICAvLyBzZXQgY3VycmVudCBwaXBlbGluZVxuICAgIHRoaXMuc2V0UGlwZWxpbmUocGFzcylcblxuICAgIC8vIHNldCBiaW5kIGdyb3Vwc1xuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIHBhc3Muc2V0QmluZEdyb3VwKGJpbmRHcm91cC5pbmRleCwgYmluZEdyb3VwLmJpbmRHcm91cClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIE1hdGVyaWFsXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIGRlc3Ryb3kgYWxsIGJ1ZmZlcnMgY3JlYXRlZCB3aXRoIGNyZWF0ZUJ1ZmZlclxuICAgIHRoaXMuZGVzdHJveUJpbmRHcm91cHMoKVxuICAgIHRoaXMuZGVzdHJveVRleHR1cmVzKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuL01hdGVyaWFsJ1xuaW1wb3J0IHsgQ29tcHV0ZU1hdGVyaWFsT3B0aW9ucywgQ29tcHV0ZU1hdGVyaWFsUGFyYW1zLCBGdWxsU2hhZGVyc1R5cGUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBDb21wdXRlUGlwZWxpbmVFbnRyeSB9IGZyb20gJy4uL3BpcGVsaW5lcy9Db21wdXRlUGlwZWxpbmVFbnRyeSdcbmltcG9ydCB7IFdyaXRhYmxlQnVmZmVyQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZydcblxuLyoqXG4gKiBDcmVhdGUgYSB7QGxpbmsgTWF0ZXJpYWx9IHNwZWNpZmljYWxseSBidWlsdCB0byBydW4gY29tcHV0YXRpb25zIG9uIHRoZSBHUFUuIEludGVybmFsbHkgdXNlZCBieSB7QGxpbmsgY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzLkNvbXB1dGVQYXNzIHwgQ29tcHV0ZVBhc3N9LlxuICpcbiAqICMjIENvbXB1dGUgcGlwZWxpbmVcbiAqXG4gKiBBIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0uIE9uY2UgYWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAgfCBCaW5kR3JvdXB9IGhhdmUgYmVlbiBjcmVhdGVkLCB0aGV5IGFyZSBzZW50IHdpdGggdGhlIGNvbXB1dGUgc2hhZGVyIGNvZGUgdG8gdGhlIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0sIHdoaWNoIGlzIGluIHR1cm5zIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX0uXG4gKlxuICogQWZ0ZXIgdGhlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjb21waWxlZCwgdGhlIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9IGlzIGNvbnNpZGVyZWQgdG8gYmUgcmVhZHkgYW5kIGl0IGNhbiBzdGFydCBydW5uaW5nIHRoZSBjb21wdXRlIHNoYWRlciBjb21wdXRhdGlvbnMuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZU1hdGVyaWFsIGV4dGVuZHMgTWF0ZXJpYWwge1xuICAvKioge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5IHwgQ29tcHV0ZSBwaXBlbGluZSBlbnRyeX0gdXNlZCBieSB0aGlzIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9ICovXG4gIHBpcGVsaW5lRW50cnk6IENvbXB1dGVQaXBlbGluZUVudHJ5XG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIENvbXB1dGVNYXRlcmlhbH0gKi9cbiAgb3B0aW9uczogQ29tcHV0ZU1hdGVyaWFsT3B0aW9uc1xuXG4gIC8qKiBEZWZhdWx0IHdvcmsgZ3JvdXAgZGlzcGF0Y2ggc2l6ZSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9ICovXG4gIGRpc3BhdGNoU2l6ZT86IG51bWJlciB8IG51bWJlcltdXG5cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgdXNlQ3VzdG9tUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2s6IChwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpID0+IHZvaWRcblxuICAvKipcbiAgICogQ29tcHV0ZU1hdGVyaWFsIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciB7QGxpbmsgUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBDb21wdXRlTWF0ZXJpYWxQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzOiBDb21wdXRlTWF0ZXJpYWxQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGNvbnN0IHR5cGUgPSAnQ29tcHV0ZU1hdGVyaWFsJ1xuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdHlwZSlcblxuICAgIHN1cGVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuXG4gICAgbGV0IHsgc2hhZGVycywgZGlzcGF0Y2hTaXplIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICBpZiAoIXNoYWRlcnMgfHwgIXNoYWRlcnMuY29tcHV0ZSkge1xuICAgICAgc2hhZGVycyA9IHtcbiAgICAgICAgY29tcHV0ZToge1xuICAgICAgICAgIGNvZGU6ICcnLFxuICAgICAgICAgIGVudHJ5UG9pbnQ6ICdtYWluJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNoYWRlcnMuY29tcHV0ZS5jb2RlKSB7XG4gICAgICBzaGFkZXJzLmNvbXB1dGUuY29kZSA9ICdAY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoMSkgZm4gbWFpbigpe30nXG4gICAgfVxuXG4gICAgaWYgKCFzaGFkZXJzLmNvbXB1dGUuZW50cnlQb2ludCkge1xuICAgICAgc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnQgPSAnbWFpbidcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBzaGFkZXJzLFxuICAgICAgLi4uKHBhcmFtZXRlcnMuZGlzcGF0Y2hTaXplICE9PSB1bmRlZmluZWQgJiYgeyBkaXNwYXRjaFNpemU6IHBhcmFtZXRlcnMuZGlzcGF0Y2hTaXplIH0pLFxuICAgIH1cblxuICAgIC8vIHNldCBkZWZhdWx0IGRpc3BhdGNoIHNpemVcbiAgICBpZiAoIWRpc3BhdGNoU2l6ZSkge1xuICAgICAgZGlzcGF0Y2hTaXplID0gMVxuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoU2l6ZSkpIHtcbiAgICAgIGRpc3BhdGNoU2l6ZVswXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMF0gPz8gMSlcbiAgICAgIGRpc3BhdGNoU2l6ZVsxXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMV0gPz8gMSlcbiAgICAgIGRpc3BhdGNoU2l6ZVsyXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMl0gPz8gMSlcbiAgICB9IGVsc2UgaWYgKCFpc05hTihkaXNwYXRjaFNpemUpKSB7XG4gICAgICBkaXNwYXRjaFNpemUgPSBbTWF0aC5jZWlsKGRpc3BhdGNoU2l6ZSksIDEsIDFdXG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaFNpemUgPSBkaXNwYXRjaFNpemVcblxuICAgIHRoaXMucGlwZWxpbmVFbnRyeSA9IHRoaXMucmVuZGVyZXIucGlwZWxpbmVNYW5hZ2VyLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSh7XG4gICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcbiAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnIGNvbXB1dGUgcGlwZWxpbmUnLFxuICAgICAgc2hhZGVyczogdGhpcy5vcHRpb25zLnNoYWRlcnMsXG4gICAgICB1c2VBc3luYzogdGhpcy5vcHRpb25zLnVzZUFzeW5jUGlwZWxpbmUsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIGFsbCBiaW5kIGdyb3VwcyBhcmUgY3JlYXRlZCwgYWRkIHRoZW0gdG8gdGhlIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX1cbiAgICovXG4gIHNldFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMucGlwZWxpbmVFbnRyeS5zZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcyh7XG4gICAgICBiaW5kR3JvdXBzOiB0aGlzLmJpbmRHcm91cHMsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZVBpcGVsaW5lRW50cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5waXBlbGluZUVudHJ5LmNvbXBpbGVQaXBlbGluZUVudHJ5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbGwgYmluZCBncm91cHMgYXJlIHJlYWR5LCBjcmVhdGUgdGhlbSBpZiBuZWVkZWQsIHNldCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGJpbmQgZ3JvdXAgYnVmZmVycyBhbmQgY29tcGlsZSB0aGUgcGlwZWxpbmVcbiAgICogQGFzeW5jXG4gICAqL1xuICBhc3luYyBjb21waWxlTWF0ZXJpYWwoKSB7XG4gICAgc3VwZXIuY29tcGlsZU1hdGVyaWFsKClcblxuICAgIGlmICh0aGlzLnBpcGVsaW5lRW50cnkgJiYgdGhpcy5waXBlbGluZUVudHJ5LmNhbkNvbXBpbGUpIHtcbiAgICAgIHRoaXMuc2V0UGlwZWxpbmVFbnRyeVByb3BlcnRpZXMoKVxuICAgICAgYXdhaXQgdGhpcy5jb21waWxlUGlwZWxpbmVFbnRyeSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcGxldGUgY29kZSBvZiBhIGdpdmVuIHNoYWRlciBpbmNsdWRpbmcgYWxsIHRoZSBXR1NMIGZyYWdtZW50IGNvZGUgc25pcHBldHMgYWRkZWQgYnkgdGhlIHBpcGVsaW5lXG4gICAqIEBwYXJhbSBbc2hhZGVyVHlwZT1cImNvbXB1dGVcIl0gLSBzaGFkZXIgdG8gZ2V0IHRoZSBjb2RlIGZyb21cbiAgICogQHJldHVybnMgLSBUaGUgY29ycmVzcG9uZGluZyBzaGFkZXIgY29kZVxuICAgKi9cbiAgZ2V0U2hhZGVyQ29kZShzaGFkZXJUeXBlOiBGdWxsU2hhZGVyc1R5cGUgPSAnY29tcHV0ZScpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRTaGFkZXJDb2RlKHNoYWRlclR5cGUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhZGRlZCBjb2RlIG9mIGEgZ2l2ZW4gc2hhZGVyLCBpLmUuIGFsbCB0aGUgV0dTTCBmcmFnbWVudCBjb2RlIHNuaXBwZXRzIGFkZGVkIGJ5IHRoZSBwaXBlbGluZVxuICAgKiBAcGFyYW0gW3NoYWRlclR5cGU9XCJjb21wdXRlXCJdIC0gc2hhZGVyIHRvIGdldCB0aGUgY29kZSBmcm9tXG4gICAqIEByZXR1cm5zIC0gVGhlIGNvcnJlc3BvbmRpbmcgc2hhZGVyIGNvZGVcbiAgICovXG4gIGdldEFkZGVkU2hhZGVyQ29kZShzaGFkZXJUeXBlOiBGdWxsU2hhZGVyc1R5cGUgPSAnY29tcHV0ZScpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRBZGRlZFNoYWRlckNvZGUoc2hhZGVyVHlwZSlcbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBJZiBhIGN1c3RvbSByZW5kZXIgZnVuY3Rpb24gaGFzIGJlZW4gZGVmaW5lZCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IG9uZSwgcmVnaXN0ZXIgdGhlIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHJlbmRlciBiZWhhdmlvdXIsIHdoaWNoIGlzIHRvIHNldCB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30gYW5kIGRpc3BhdGNoIHRoZSB3b3JrIGdyb3VwcyBiYXNlZCBvbiB0aGUge0BsaW5rIGRpc3BhdGNoU2l6ZSB8IGRlZmF1bHQgZGlzcGF0Y2ggc2l6ZX0uIFRoaXMgaXMgd2hlcmUgeW91IHdpbGwgaGF2ZSB0byBzZXQgYWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAgfCBiaW5kIGdyb3Vwc30gYW5kIGRpc3BhdGNoIHRoZSB3b3JrZ3JvdXBzIGJ5IHlvdXJzZWxmLlxuICAgKi9cbiAgdXNlQ3VzdG9tUmVuZGVyKGNhbGxiYWNrOiAocGFzczogR1BVQ29tcHV0ZVBhc3NFbmNvZGVyKSA9PiB2b2lkKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl91c2VDdXN0b21SZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbWF0ZXJpYWwgaWYgaXQgaXMgcmVhZHk6XG4gICAqIFNldCB0aGUgY3VycmVudCBwaXBlbGluZSwgc2V0IHRoZSBiaW5kIGdyb3VwcyBhbmQgZGlzcGF0Y2ggdGhlIHdvcmsgZ3JvdXBzXG4gICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCBjb21wdXRlIHBhc3MgZW5jb2RlclxuICAgKi9cbiAgcmVuZGVyKHBhc3M6IEdQVUNvbXB1dGVQYXNzRW5jb2Rlcikge1xuICAgIC8vIHJlbmRlcmVyIG9yIHBpcGVsaW5lIGFyZSBub3QgcmVhZHkgeWV0XG4gICAgLy8gbm90IHJlYWxseSBuZWVkZWQgc2luY2UgY29tcHV0ZSBwYXNzZXMgZG8gYWxyZWFkeSBjaGVjayBpdCBiZWZvcmVoYW5kXG4gICAgLy8gbW9zdGx5IGhlcmUgYXMgYSBzYWZlZ3VhcmRcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGlwZWxpbmVcbiAgICB0aGlzLnNldFBpcGVsaW5lKHBhc3MpXG5cbiAgICAvLyBpZiB3ZSBkZWNsYXJlZCBhIGN1c3RvbSByZW5kZXIgZnVuY3Rpb24sIGNhbGwgaXRcbiAgICBpZiAodGhpcy5fdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2socGFzcylcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZWxzZSBqdXN0IHNldCBvdXIgYmluZCBncm91cHMgYW5kIGRpc3BhdGNoXG4gICAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKGJpbmRHcm91cC5pbmRleCwgYmluZEdyb3VwLmJpbmRHcm91cClcbiAgICAgIH0pXG5cbiAgICAgIHBhc3MuZGlzcGF0Y2hXb3JrZ3JvdXBzKHRoaXMuZGlzcGF0Y2hTaXplWzBdLCB0aGlzLmRpc3BhdGNoU2l6ZVsxXSwgdGhpcy5kaXNwYXRjaFNpemVbMl0pXG4gICAgfVxuICB9XG5cbiAgLyogUkVTVUxUIEJVRkZFUiAqL1xuXG4gIC8qKlxuICAgKiBDb3B5IGFsbCB3cml0YWJsZSBiaW5kaW5nIGJ1ZmZlcnMgdGhhdCBuZWVkIGl0XG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQgY29tbWFuZCBlbmNvZGVyXG4gICAqL1xuICBjb3B5QnVmZmVyVG9SZXN1bHQoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyKSB7XG4gICAgdGhpcy5iaW5kR3JvdXBzLmZvckVhY2goKGJpbmRHcm91cCkgPT4ge1xuICAgICAgYmluZEdyb3VwLmJ1ZmZlckJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmc6IFdyaXRhYmxlQnVmZmVyQmluZGluZykgPT4ge1xuICAgICAgICBpZiAoYmluZGluZy5zaG91bGRDb3B5UmVzdWx0ICYmIGJpbmRpbmcucmVzdWx0QnVmZmVyLm1hcFN0YXRlID09PSAndW5tYXBwZWQnKSB7XG4gICAgICAgICAgY29tbWFuZEVuY29kZXIuY29weUJ1ZmZlclRvQnVmZmVyKGJpbmRpbmcuYnVmZmVyLCAwLCBiaW5kaW5nLnJlc3VsdEJ1ZmZlciwgMCwgYmluZGluZy5yZXN1bHRCdWZmZXIuc2l6ZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLldyaXRhYmxlQnVmZmVyQmluZGluZyNyZXN1bHRCdWZmZXIgfCByZXN1bHQgR1BVIGJ1ZmZlcn0gY29udGVudCBieSB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nIHwgYmluZGluZ30gYW5kIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudCB8IGJ1ZmZlciBlbGVtZW50fSBuYW1lc1xuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5nTmFtZSAtIHtAbGluayBjb3JlL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZy5Xcml0YWJsZUJ1ZmZlckJpbmRpbmcjbmFtZSB8IGJpbmRpbmcgbmFtZX0gZnJvbSB3aGljaCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5idWZmZXJFbGVtZW50TmFtZSAtIG9wdGlvbmFsIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudCB8IGJ1ZmZlciBlbGVtZW50fSAoaS5lLiBzdHJ1Y3QgbWVtYmVyKSBuYW1lIGlmIHRoZSByZXN1bHQgbmVlZHMgdG8gYmUgcmVzdHJhaW5lZCB0byBvbmx5IG9uZSBlbGVtZW50XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHRoZSBtYXBwZWQgY29udGVudCBvZiB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gYXMgYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKi9cbiAgYXN5bmMgZ2V0Q29tcHV0ZVJlc3VsdCh7XG4gICAgYmluZGluZ05hbWUgPSAnJyxcbiAgICBidWZmZXJFbGVtZW50TmFtZSA9ICcnLFxuICB9OiB7XG4gICAgYmluZGluZ05hbWU/OiBzdHJpbmdcbiAgICBidWZmZXJFbGVtZW50TmFtZT86IHN0cmluZ1xuICB9KTogUHJvbWlzZTxGbG9hdDMyQXJyYXk+IHtcbiAgICBjb25zdCBiaW5kaW5nID0gdGhpcy5nZXRCdWZmZXJCaW5kaW5nQnlOYW1lKGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKGJpbmRpbmcgJiYgJ3Jlc3VsdEJ1ZmZlcicgaW4gYmluZGluZyAmJiBiaW5kaW5nLnJlc3VsdEJ1ZmZlci5tYXBTdGF0ZSA9PT0gJ3VubWFwcGVkJykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRCdWZmZXJSZXN1bHQoYmluZGluZy5yZXN1bHRCdWZmZXIpXG5cbiAgICAgIGlmIChidWZmZXJFbGVtZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gYmluZGluZy5leHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHsgcmVzdWx0LCBidWZmZXJFbGVtZW50TmFtZSB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgwKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IENvbXB1dGVNYXRlcmlhbCB9IGZyb20gJy4uL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwnXG5pbXBvcnQgeyBDb21wdXRlTWF0ZXJpYWxQYXJhbXMsIE1hdGVyaWFsUGFyYW1zLCBNYXRlcmlhbFNoYWRlcnMgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZSdcbmltcG9ydCB7IEV4dGVybmFsVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL1RleHR1cmVzJ1xuXG4vKiogRGVmaW5lcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IG9wdGlvbnMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcHV0ZVBhc3NPcHRpb25zIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBsYWJlbDogc3RyaW5nXG4gIC8qKiBDb250cm9scyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSByZW5kZXJlZCBieSBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9ICovXG4gIHJlbmRlck9yZGVyPzogbnVtYmVyXG4gIC8qKiBXaGV0aGVyIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSBhZGRlZCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbiAgLyoqIENvbXB1dGUgc2hhZGVyIHBhc3NlZCB0byB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBmb2xsb3dpbmcgdGhlIHtAbGluayB0eXBlcy9NYXRlcmlhbHMuU2hhZGVyT3B0aW9ucyB8IHNoYWRlciBvYmplY3R9IG5vdGF0aW9uICovXG4gIHNoYWRlcnM6IE1hdGVyaWFsU2hhZGVyc1xuICAvKiogd2hldGhlciB0aGUge0BsaW5rIGNvcmUvcGlwZWxpbmVzL0NvbXB1dGVQaXBlbGluZUVudHJ5LkNvbXB1dGVQaXBlbGluZUVudHJ5I3BpcGVsaW5lIHwgY29tcHV0ZSBwaXBlbGluZX0gc2hvdWxkIGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5ICovXG4gIHVzZUFzeW5jUGlwZWxpbmU/OiBib29sZWFuXG4gIC8qKiBQYXJhbWV0ZXJzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHRvIGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSAqL1xuICB0ZXh0dXJlc09wdGlvbnM/OiBFeHRlcm5hbFRleHR1cmVQYXJhbXNcbiAgLyoqIERlZmF1bHQge0BsaW5rIENvbXB1dGVNYXRlcmlhbH0gd29yayBncm91cCBkaXNwYXRjaCBzaXplIHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBkaXNwYXRjaFNpemU/OiBudW1iZXIgfCBudW1iZXJbXVxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIENvbXB1dGVQYXNzfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wdXRlUGFzc1BhcmFtcyBleHRlbmRzIFBhcnRpYWw8Q29tcHV0ZVBhc3NPcHRpb25zPiwgTWF0ZXJpYWxQYXJhbXMge31cblxubGV0IGNvbXB1dGVQYXNzSW5kZXggPSAwXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQ29tcHV0ZVBhc3N9LCBpLmUuIHJ1biBjb21wdXRhdGlvbnMgb24gdGhlIEdQVS48YnI+XG4gKiBBIHtAbGluayBDb21wdXRlUGFzc30gaXMgYmFzaWNhbGx5IGEgd3JhcHBlciBhcm91bmQgYSB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSB0aGF0IGhhbmRsZXMgbW9zdCBvZiB0aGUgcHJvY2Vzcy5cbiAqXG4gKiBUaGUgZGVmYXVsdCByZW5kZXIgYmVoYXZpb3VyIG9mIGEge0BsaW5rIENvbXB1dGVQYXNzfSBpcyB0byBzZXQgaXRzIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBhbmQgdGhlbiBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNkaXNwYXRjaFNpemUgfCBkaXNwYXRjaFNpemV9Ljxicj5cbiAqIEhvd2V2ZXIsIG1vc3Qgb2YgdGhlIHRpbWUgeW91J2Qgd2FudCBhIHNsaWdodGx5IG1vcmUgY29tcGxleCBiZWhhdmlvdXIuIFRoZSB7QGxpbmsgQ29tcHV0ZVBhc3MjdXNlQ3VzdG9tUmVuZGVyIHwgYHVzZUN1c3RvbVJlbmRlcmAgaG9va30gbGV0cyB5b3UgZGVmaW5lIGEgdG90YWxseSBjdXN0b20gYmVoYXZpb3VyLCBidXQgeW91J2xsIGhhdmUgdG8gc2V0IGFsbCB0aGUge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwIHwgYmluZCBncm91cHN9IGFuZCBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBieSB5b3Vyc2VsZi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXG4gKiBjb25zdCBncHVDdXJ0YWlucyA9IG5ldyBHUFVDdXJ0YWlucyh7XG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxuICogfSlcbiAqXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcbiAqIGF3YWl0IGdwdUN1cnRhaW5zLnNldERldmljZSgpXG4gKlxuICogLy8gbGV0J3MgYXNzdW1lIHdlIGFyZSBnb2luZyB0byBjb21wdXRlIHRoZSBwb3NpdGlvbnMgb2YgMTAwLjAwMCBwYXJ0aWNsZXNcbiAqIGNvbnN0IG5iUGFydGljbGVzID0gMTAwXzAwMFxuICpcbiAqIGNvbnN0IGNvbXB1dGVQYXNzID0gbmV3IENvbXB1dGVQYXNzKGdwdUN1cnRhaW5zLCB7XG4gKiAgIGxhYmVsOiAnTXkgY29tcHV0ZSBwYXNzJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGNvbXB1dGU6IHtcbiAqICAgICAgIGNvZGU6IGNvbXB1dGVTaGFkZXJDb2RlLCAvLyBhc3N1bWUgaXQgaXMgYSB2YWxpZCBXR1NMIGNvbXB1dGUgc2hhZGVyXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqICAgZGlzcGF0Y2hTaXplOiBNYXRoLmNlaWwobmJQYXJ0aWNsZXMgLyA2NCksXG4gKiAgIHN0b3JhZ2VzOiB7XG4gKiAgICAgcGFydGljbGVzOiB7XG4gKiAgICAgICBhY2Nlc3M6ICdyZWFkX3dyaXRlJyxcbiAqICAgICAgIHN0cnVjdDoge1xuICogICAgICAgICBwb3NpdGlvbjoge1xuICogICAgICAgICAgIHR5cGU6ICdhcnJheTx2ZWM0Zj4nLFxuICogICAgICAgICAgIHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KG5iUGFydGljbGVzICogNCksXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICB9LFxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wdXRlUGFzcyB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9ICovXG4gIHV1aWQ6IHN0cmluZ1xuICAvKiogVGhlIGluZGV4IG9mIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9LCBpbmNyZW1lbnRlZCBlYWNoIHRpbWUgYSBuZXcgb25lIGlzIGluc3RhbmNlZCAqL1xuICBpbmRleDogbnVtYmVyXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXG4gIHJlbmRlcmVyOiBSZW5kZXJlclxuICAvKiogQ29udHJvbHMgdGhlIG9yZGVyIGluIHdoaWNoIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSBzaG91bGQgYmUgcmVuZGVyZWQgYnkgb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSAqL1xuICByZW5kZXJPcmRlcjogbnVtYmVyXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9ICovXG4gIG9wdGlvbnM6IENvbXB1dGVQYXNzT3B0aW9uc1xuXG4gIC8qKiB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSB1c2VkIGJ5IHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBtYXRlcmlhbDogQ29tcHV0ZU1hdGVyaWFsXG5cbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZWFkeSB0byBiZSByZW5kZXJlZCAqL1xuICBfcmVhZHk6IGJvb2xlYW5cblxuICAvKiogRW1wdHkgb2JqZWN0IHRvIHN0b3JlIGFueSBhZGRpdGlvbmFsIGRhdGEgb3IgY3VzdG9tIHByb3BlcnRpZXMgaW50byB5b3VyIHtAbGluayBDb21wdXRlUGFzc30gKi9cbiAgdXNlckRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSBhZGRlZCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gICNhdXRvUmVuZGVyID0gdHJ1ZVxuXG4gIC8vIGNhbGxiYWNrcyAvIGV2ZW50c1xuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlYWR5fSBjYWxsYmFjayAqL1xuICBfb25SZWFkeUNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25CZWZvcmVSZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vbkJlZm9yZVJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25SZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vblJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uQWZ0ZXJSZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQWZ0ZXJSZXNpemV9IGNhbGxiYWNrICovXG4gIF9vbkFmdGVyUmVzaXplQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlUGFzcyBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBhIHtAbGluayBSZW5kZXJlcn0gY2xhc3Mgb2JqZWN0IG9yIGEge0BsaW5rIEdQVUN1cnRhaW5zfSBjbGFzcyBvYmplY3RcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgQ29tcHV0ZVBhc3NQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENvbXB1dGVQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnM6IENvbXB1dGVQYXNzUGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB0eXBlID0gJ0NvbXB1dGVQYXNzJ1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gYCR7cGFyYW1ldGVycy5sYWJlbH0gJHt0eXBlfWAgOiB0eXBlKVxuXG4gICAgcGFyYW1ldGVycy5sYWJlbCA9IHBhcmFtZXRlcnMubGFiZWwgPz8gJ0NvbXB1dGVQYXNzICcgKyByZW5kZXJlci5jb21wdXRlUGFzc2VzPy5sZW5ndGhcblxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzIGFzIENvbXB1dGVQYXNzLCAnaW5kZXgnLCB7IHZhbHVlOiBjb21wdXRlUGFzc0luZGV4KysgfSlcblxuICAgIGNvbnN0IHtcbiAgICAgIGxhYmVsLFxuICAgICAgc2hhZGVycyxcbiAgICAgIHJlbmRlck9yZGVyLFxuICAgICAgdW5pZm9ybXMsXG4gICAgICBzdG9yYWdlcyxcbiAgICAgIGJpbmRHcm91cHMsXG4gICAgICBzYW1wbGVycyxcbiAgICAgIHRleHR1cmVzLFxuICAgICAgcmVuZGVyVGV4dHVyZXMsXG4gICAgICBhdXRvUmVuZGVyLFxuICAgICAgdXNlQXN5bmNQaXBlbGluZSxcbiAgICAgIHRleHR1cmVzT3B0aW9ucyxcbiAgICAgIGRpc3BhdGNoU2l6ZSxcbiAgICB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICBzaGFkZXJzLFxuICAgICAgLi4uKGF1dG9SZW5kZXIgIT09IHVuZGVmaW5lZCAmJiB7IGF1dG9SZW5kZXIgfSksXG4gICAgICAuLi4ocmVuZGVyT3JkZXIgIT09IHVuZGVmaW5lZCAmJiB7IHJlbmRlck9yZGVyIH0pLFxuICAgICAgLi4uKHVzZUFzeW5jUGlwZWxpbmUgIT09IHVuZGVmaW5lZCAmJiB7IHVzZUFzeW5jUGlwZWxpbmUgfSksXG4gICAgICAuLi4oZGlzcGF0Y2hTaXplICE9PSB1bmRlZmluZWQgJiYgeyBkaXNwYXRjaFNpemUgfSksXG4gICAgICB0ZXh0dXJlc09wdGlvbnMsIC8vIFRPRE8gZGVmYXVsdFxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyT3JkZXIgPSByZW5kZXJPcmRlciA/PyAwXG5cbiAgICBpZiAoYXV0b1JlbmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLiNhdXRvUmVuZGVyID0gYXV0b1JlbmRlclxuICAgIH1cblxuICAgIHRoaXMudXNlckRhdGEgPSB7fVxuXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlXG5cbiAgICB0aGlzLnNldENvbXB1dGVNYXRlcmlhbCh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsLFxuICAgICAgc2hhZGVyczogdGhpcy5vcHRpb25zLnNoYWRlcnMsXG4gICAgICB1bmlmb3JtcyxcbiAgICAgIHN0b3JhZ2VzLFxuICAgICAgYmluZEdyb3VwcyxcbiAgICAgIHNhbXBsZXJzLFxuICAgICAgdGV4dHVyZXMsXG4gICAgICByZW5kZXJUZXh0dXJlcyxcbiAgICAgIHVzZUFzeW5jUGlwZWxpbmUsXG4gICAgICBkaXNwYXRjaFNpemUsXG4gICAgfSlcblxuICAgIHRoaXMuYWRkVG9TY2VuZSgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IG9yIHNldCB3aGV0aGVyIHRoZSBjb21wdXRlIHBhc3MgaXMgcmVhZHkgdG8gcmVuZGVyICh0aGUgbWF0ZXJpYWwgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkKVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZHlcbiAgfVxuXG4gIHNldCByZWFkeSh2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5fb25SZWFkeUNhbGxiYWNrICYmIHRoaXMuX29uUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICAgIHRoaXMuX3JlYWR5ID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgb3VyIGNvbXB1dGUgcGFzcyB0byB0aGUgc2NlbmUgYW5kIHRoZSByZW5kZXJlclxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLmNvbXB1dGVQYXNzZXMucHVzaCh0aGlzKVxuXG4gICAgaWYgKHRoaXMuI2F1dG9SZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUuYWRkQ29tcHV0ZVBhc3ModGhpcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIG91ciBjb21wdXRlIHBhc3MgZnJvbSB0aGUgc2NlbmUgYW5kIHRoZSByZW5kZXJlclxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZUNvbXB1dGVQYXNzKHRoaXMpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5jb21wdXRlUGFzc2VzID0gdGhpcy5yZW5kZXJlci5jb21wdXRlUGFzc2VzLmZpbHRlcigoY29tcHV0ZVBhc3MpID0+IGNvbXB1dGVQYXNzLnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGNvbXB1dGUgcGFzcyBtYXRlcmlhbFxuICAgKiBAcGFyYW0gY29tcHV0ZVBhcmFtZXRlcnMgLSB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSBwYXJhbWV0ZXJzXG4gICAqL1xuICBzZXRDb21wdXRlTWF0ZXJpYWwoY29tcHV0ZVBhcmFtZXRlcnM6IENvbXB1dGVNYXRlcmlhbFBhcmFtcykge1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgQ29tcHV0ZU1hdGVyaWFsKHRoaXMucmVuZGVyZXIsIGNvbXB1dGVQYXJhbWV0ZXJzKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uLlxuICAgKiBCYXNpY2FsbHkgc2V0IGFsbCB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gbnVsbCBzbyB0aGV5IHdpbGwgYmUgcmVzZXQgbmV4dCB0aW1lIHdlIHRyeSB0byByZW5kZXJcbiAgICovXG4gIGxvc2VDb250ZXh0KCkge1xuICAgIHRoaXMubWF0ZXJpYWwubG9zZUNvbnRleHQoKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gcmVzdG9yZWRcbiAgICovXG4gIHJlc3RvcmVDb250ZXh0KCkge1xuICAgIHRoaXMubWF0ZXJpYWwucmVzdG9yZUNvbnRleHQoKVxuICB9XG5cbiAgLyogVEVYVFVSRVMgKi9cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsI3RleHR1cmVzIHwgQ29tcHV0ZU1hdGVyaWFsIHRleHR1cmVzIGFycmF5fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB0ZXh0dXJlcygpOiBUZXh0dXJlW10ge1xuICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy50ZXh0dXJlcyB8fCBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNyZW5kZXJUZXh0dXJlcyB8IENvbXB1dGVNYXRlcmlhbCByZW5kZXIgdGV4dHVyZXMgYXJyYXl9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlbmRlclRleHR1cmVzKCk6IFJlbmRlclRleHR1cmVbXSB7XG4gICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw/LnJlbmRlclRleHR1cmVzIHx8IFtdXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBUZXh0dXJlfVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBUZXh0dXJlUGFyYW1zIHwgVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIFRleHR1cmV9XG4gICAqL1xuICBjcmVhdGVUZXh0dXJlKG9wdGlvbnM6IFRleHR1cmVQYXJhbXMpOiBUZXh0dXJlIHtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gJ3RleHR1cmUnICsgdGhpcy50ZXh0dXJlcy5sZW5ndGhcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMubGFiZWwpIHtcbiAgICAgIG9wdGlvbnMubGFiZWwgPSB0aGlzLm9wdGlvbnMubGFiZWwgKyAnICcgKyBvcHRpb25zLm5hbWVcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5yZW5kZXJlciwgeyAuLi5vcHRpb25zLCAuLi50aGlzLm9wdGlvbnMudGV4dHVyZXNPcHRpb25zIH0pXG5cbiAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcblxuICAgIHJldHVybiB0ZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgdGhpcy5tYXRlcmlhbC5hZGRUZXh0dXJlKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gIG9wdGlvbnMgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZVBhcmFtcyB8IFJlbmRlclRleHR1cmUgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyVGV4dHVyZShvcHRpb25zOiBSZW5kZXJUZXh0dXJlUGFyYW1zKTogUmVuZGVyVGV4dHVyZSB7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9ICdyZW5kZXJUZXh0dXJlJyArIHRoaXMucmVuZGVyVGV4dHVyZXMubGVuZ3RoXG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMucmVuZGVyZXIsIG9wdGlvbnMpXG5cbiAgICB0aGlzLmFkZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSlcblxuICAgIHJldHVybiByZW5kZXJUZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0ge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgdGhpcy5tYXRlcmlhbC5hZGRUZXh0dXJlKHJlbmRlclRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsI3VuaWZvcm1zIHwgQ29tcHV0ZU1hdGVyaWFsIHVuaWZvcm1zfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB1bmlmb3JtcygpOiBDb21wdXRlTWF0ZXJpYWxbJ3VuaWZvcm1zJ10ge1xuICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy51bmlmb3Jtc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNzdG9yYWdlcyB8IENvbXB1dGVNYXRlcmlhbCBzdG9yYWdlc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc3RvcmFnZXMoKTogQ29tcHV0ZU1hdGVyaWFsWydzdG9yYWdlcyddIHtcbiAgICByZXR1cm4gdGhpcy5tYXRlcmlhbD8uc3RvcmFnZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgZnJvbSB0aGUgcmVuZGVyZXIsIHVzZWZ1bCB0byB0cmlnZ2VyIGFuIGFmdGVyIHJlc2l6ZSBjYWxsYmFjay5cbiAgICovXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgJiYgdGhpcy5fb25BZnRlclJlc2l6ZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKiBFVkVOVFMgKiovXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9IGlzIHJlYWR5XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBDb21wdXRlUGFzc30gaXMgcmVhZHlcbiAgICovXG4gIG9uUmVhZHkoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblJlYWR5Q2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgdG8gcnVuIGJlZm9yZSB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZW5kZXJlZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBiZWZvcmUge0BsaW5rIENvbXB1dGVQYXNzfSB3aWxsIGJlIHJlbmRlcmVkXG4gICAqL1xuICBvbkJlZm9yZVJlbmRlcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IENvbXB1dGVQYXNzIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBDb21wdXRlUGFzc30gaXMgcmVuZGVyZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4ge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZW5kZXJlZFxuICAgKi9cbiAgb25SZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biBhZnRlciB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBoYXMgYmVlbiByZW5kZXJlZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB7QGxpbmsgQ29tcHV0ZVBhc3N9IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAqL1xuICBvbkFmdGVyUmVuZGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogQ29tcHV0ZVBhc3Mge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25BZnRlclJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHVzZWQgdG8gcnVuIGEgY3VzdG9tIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IG9uZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gWW91ciBjdXN0b20gcmVuZGVyIGZ1bmN0aW9uIHdoZXJlIHlvdSB3aWxsIGhhdmUgdG8gc2V0IGFsbCB0aGUge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwIHwgYmluZCBncm91cHN9IGFuZCBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBieSB5b3Vyc2VsZi5cbiAgICovXG4gIHVzZUN1c3RvbVJlbmRlcihjYWxsYmFjazogKHBhc3M6IEdQVUNvbXB1dGVQYXNzRW5jb2RlcikgPT4gdm9pZCk6IENvbXB1dGVQYXNzIHtcbiAgICB0aGlzLm1hdGVyaWFsLnVzZUN1c3RvbVJlbmRlcihjYWxsYmFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biBhZnRlciB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyIHwgcmVuZGVyZXJ9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYWZ0ZXIge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyIHwgcmVuZGVyZXJ9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICovXG4gIG9uQWZ0ZXJSZXNpemUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIENvbXB1dGVQYXNzXG4gICAqIENoZWNrcyBpZiB0aGUgbWF0ZXJpYWwgaXMgcmVhZHkgYW5kIGV2ZW50dWFsbHkgdXBkYXRlIGl0cyBzdHJ1Y3RcbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyUGFzcygpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVhZHkpIHJldHVyblxuXG4gICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgdGhpcy5tYXRlcmlhbC5yZWFkeSAmJiAhdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5yZWFkeSA9IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLl9vbkJlZm9yZVJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2soKVxuXG4gICAgdGhpcy5tYXRlcmlhbC5vbkJlZm9yZVJlbmRlcigpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfVxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgY29tcHV0ZSBwYXNzIGVuY29kZXJcbiAgICovXG4gIG9uUmVuZGVyUGFzcyhwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICBpZiAoIXRoaXMubWF0ZXJpYWwucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy5fb25SZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vblJlbmRlckNhbGxiYWNrKClcblxuICAgIHRoaXMubWF0ZXJpYWwucmVuZGVyKHBhc3MpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIGhhdmluZyByZW5kZXJlZCB0aGUgQ29tcHV0ZVBhc3NcbiAgICovXG4gIG9uQWZ0ZXJSZW5kZXJQYXNzKCkge1xuICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBvdXIgY29tcHV0ZSBwYXNzXG4gICAqIEJhc2ljYWxseSBqdXN0IGNoZWNrIGlmIG91ciB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIgfCByZW5kZXJlcn0gaXMgcmVhZHksIGFuZCB0aGVuIHJlbmRlciBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbH1cbiAgICogQHBhcmFtIHBhc3NcbiAgICovXG4gIHJlbmRlcihwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICB0aGlzLm9uQmVmb3JlUmVuZGVyUGFzcygpXG5cbiAgICAvLyBubyBwb2ludCB0byByZW5kZXIgaWYgdGhlIFdlYkdQVSBkZXZpY2UgaXMgbm90IHJlYWR5XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlYWR5KSByZXR1cm5cblxuICAgIHRoaXMub25SZW5kZXJQYXNzKHBhc3MpXG5cbiAgICB0aGlzLm9uQWZ0ZXJSZW5kZXJQYXNzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IHRoZSByZXN1bHQgb2Ygb3VyIHJlYWQvd3JpdGUgR1BVQnVmZmVyIGludG8gb3VyIHJlc3VsdCBiaW5kaW5nIGFycmF5XG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQgR1BVIGNvbW1hbmQgZW5jb2RlclxuICAgKi9cbiAgY29weUJ1ZmZlclRvUmVzdWx0KGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2Rlcikge1xuICAgIHRoaXMubWF0ZXJpYWw/LmNvcHlCdWZmZXJUb1Jlc3VsdChjb21tYW5kRW5jb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZy5Xcml0YWJsZUJ1ZmZlckJpbmRpbmcjcmVzdWx0QnVmZmVyIHwgcmVzdWx0IEdQVSBidWZmZXJ9IGNvbnRlbnQgYnkge0BsaW5rIGNvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLldyaXRhYmxlQnVmZmVyQmluZGluZyB8IGJpbmRpbmd9IGFuZCB7QGxpbmsgY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LkJ1ZmZlckVsZW1lbnQgfCBidWZmZXIgZWxlbWVudH0gbmFtZXNcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBwYXJhbWV0ZXJzIHVzZWQgdG8gZ2V0IHRoZSByZXN1bHRcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuYmluZGluZ05hbWUgLSB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nI25hbWUgfCBiaW5kaW5nIG5hbWV9IGZyb20gd2hpY2ggdG8gZ2V0IHRoZSByZXN1bHRcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuYnVmZmVyRWxlbWVudE5hbWUgLSBvcHRpb25hbCB7QGxpbmsgY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LkJ1ZmZlckVsZW1lbnQgfCBidWZmZXIgZWxlbWVudH0gKGkuZS4gc3RydWN0IG1lbWJlcikgbmFtZSBpZiB0aGUgcmVzdWx0IG5lZWRzIHRvIGJlIHJlc3RyYWluZWQgdG8gb25seSBvbmUgZWxlbWVudFxuICAgKiBAYXN5bmNcbiAgICogQHJldHVybnMgLSB0aGUgbWFwcGVkIGNvbnRlbnQgb2YgdGhlIHtAbGluayBHUFVCdWZmZXJ9IGFzIGEge0BsaW5rIEZsb2F0MzJBcnJheX1cbiAgICovXG4gIGFzeW5jIGdldENvbXB1dGVSZXN1bHQoe1xuICAgIGJpbmRpbmdOYW1lLFxuICAgIGJ1ZmZlckVsZW1lbnROYW1lLFxuICB9OiB7XG4gICAgYmluZGluZ05hbWU/OiBzdHJpbmdcbiAgICBidWZmZXJFbGVtZW50TmFtZT86IHN0cmluZ1xuICB9KTogUHJvbWlzZTxGbG9hdDMyQXJyYXk+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tYXRlcmlhbD8uZ2V0Q29tcHV0ZVJlc3VsdCh7IGJpbmRpbmdOYW1lLCBidWZmZXJFbGVtZW50TmFtZSB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgQ29tcHV0ZVBhc3MgZnJvbSB0aGUgc2NlbmUgYW5kIGRlc3Ryb3kgaXRcbiAgICovXG4gIHJlbW92ZSgpIHtcbiAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG4gICAgdGhpcy5kZXN0cm95KClcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBDb21wdXRlUGFzc1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLm1hdGVyaWFsPy5kZXN0cm95KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4vVmVjMydcbmltcG9ydCB7IE1hdDQgfSBmcm9tICcuL01hdDQnXG5cbi8vIGRlY2xhcmUgb3VyIGNvcm5lcnMgb25jZSBzaG91bGQgYmUgZW5vdWdoXG5jb25zdCBwb2ludHM6IFZlYzNbXSA9IFtuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpLCBuZXcgVmVjMygpXVxuXG4vKipcbiAqIFVzZWQgdG8gaGFuZGxlIGJvdW5kaW5nIGJveGVzIGluIDNEIHNwYWNlLlxuICogQmFzaWNhbGx5IG1hZGUgb2YgdHdvIG1pbiBhbmQgbWF4IHtAbGluayBWZWMzIHwgdmVjdG9yc30gdGhhdCByZXByZXNlbnRzIHRoZSBlZGdlcyBvZiB0aGUgM0QgYm91bmRpbmcgYm94LlxuICovXG5leHBvcnQgY2xhc3MgQm94MyB7XG4gIC8qKiBNaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M30gKi9cbiAgbWluOiBWZWMzXG4gIC8qKiBNYXgge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M30gKi9cbiAgbWF4OiBWZWMzXG5cbiAgLyoqXG4gICAqIEJveDMgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIG1pbiAtIG1pbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gb2YgdGhlIHtAbGluayBCb3gzfVxuICAgKiBAcGFyYW0gbWF4IC0gbWF4IHtAbGluayBWZWMzIHwgdmVjdG9yfSBvZiB0aGUge0BsaW5rIEJveDN9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihtaW46IFZlYzMgPSBuZXcgVmVjMyhJbmZpbml0eSksIG1heDogVmVjMyA9IG5ldyBWZWMzKC1JbmZpbml0eSkpIHtcbiAgICB0aGlzLm1pbiA9IG1pblxuICAgIHRoaXMubWF4ID0gbWF4XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEge0BsaW5rIEJveDN9IGZyb20gdHdvIG1pbiBhbmQgbWF4IHtAbGluayBWZWMzIHwgdmVjdG9yc31cbiAgICogQHBhcmFtIG1pbiAtIG1pbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gb2YgdGhlIHtAbGluayBCb3gzfVxuICAgKiBAcGFyYW0gbWF4IC0gbWF4IHtAbGluayBWZWMzIHwgdmVjdG9yfSBvZiB0aGUge0BsaW5rIEJveDN9XG4gICAqL1xuICBzZXQobWluOiBWZWMzID0gbmV3IFZlYzMoSW5maW5pdHkpLCBtYXg6IFZlYzMgPSBuZXcgVmVjMygtSW5maW5pdHkpKTogQm94MyB7XG4gICAgdGhpcy5taW4uY29weShtaW4pXG4gICAgdGhpcy5tYXguY29weShtYXgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIHRoaXMge0BsaW5rIEJveDN9XG4gICAqIEByZXR1cm5zIC0gY2xvbmVkIHtAbGluayBCb3gzfVxuICAgKi9cbiAgY2xvbmUoKTogQm94MyB7XG4gICAgcmV0dXJuIG5ldyBCb3gzKCkuc2V0KHRoaXMubWluLCB0aGlzLm1heClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBCb3gzfSBjZW50ZXJcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVmVjMyB8IGNlbnRlciB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M31cbiAgICovXG4gIGdldENlbnRlcigpOiBWZWMzIHtcbiAgICByZXR1cm4gdGhpcy5tYXguY2xvbmUoKS5hZGQodGhpcy5taW4pLm11bHRpcGx5U2NhbGFyKDAuNSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBCb3gzfSBzaXplXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFZlYzMgfCBzaXplIHZlY3Rvcn0gb2YgdGhlIHtAbGluayBCb3gzfVxuICAgKi9cbiAgZ2V0U2l6ZSgpOiBWZWMzIHtcbiAgICByZXR1cm4gdGhpcy5tYXguY2xvbmUoKS5zdWIodGhpcy5taW4pXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gdG8gYSB7QGxpbmsgQm94M31cbiAgICogVXNlZnVsIHRvIGFwcGx5IGEgdHJhbnNmb3JtYXRpb24ge0BsaW5rIE1hdDQgfCBtYXRyaXh9IHRvIGEge0BsaW5rIEJveDN9XG4gICAqIEBwYXJhbSBtYXRyaXggLSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gdG8gdXNlXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgQm94M30gYWZ0ZXIge0BsaW5rIE1hdDQgfCBtYXRyaXh9IGFwcGxpY2F0aW9uXG4gICAqL1xuICBhcHBseU1hdDQobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IEJveDMge1xuICAgIGNvbnN0IGNvcm5lcnM6IFZlYzNbXSA9IFtdXG5cbiAgICAvLyByZW1lbWJlciB3ZSdyZSBlc3NlbnRpYWxseSBkZWFsaW5nIHdpdGggcGxhbmUgZ2VvbWV0cmllc1xuICAgIC8vIHNvIGlmIG1pbiBaIGFuZCBtYXggWiBhcmUgZXF1YWxzLCBpdCdzIGFjdHVhbGx5IGEgcGxhbmUgZ2VvbWV0cnlcbiAgICAvLyBqdXN0IGFwcGx5IHRoZSBtYXRyaXggdG8gaXRzIGZvdXIgY29ybmVyc1xuICAgIGlmICh0aGlzLm1pbi56ID09PSB0aGlzLm1heC56KSB7XG4gICAgICBjb3JuZXJzWzBdID0gcG9pbnRzWzBdLnNldCh0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1sxXSA9IHBvaW50c1syXS5zZXQodGhpcy5taW4ueCwgdGhpcy5tYXgueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbMl0gPSBwb2ludHNbNF0uc2V0KHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWluLnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzNdID0gcG9pbnRzWzZdLnNldCh0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb3JuZXJzWzBdID0gcG9pbnRzWzBdLnNldCh0aGlzLm1pbi54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1sxXSA9IHBvaW50c1sxXS5zZXQodGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5tYXgueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbMl0gPSBwb2ludHNbMl0uc2V0KHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzNdID0gcG9pbnRzWzNdLnNldCh0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1heC56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1s0XSA9IHBvaW50c1s0XS5zZXQodGhpcy5tYXgueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbNV0gPSBwb2ludHNbNV0uc2V0KHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWF4LnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzZdID0gcG9pbnRzWzZdLnNldCh0aGlzLm1heC54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1s3XSA9IHBvaW50c1s3XS5zZXQodGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICB9XG5cbiAgICBjb25zdCB0cmFuc0Zvcm1lZEJveCA9IG5ldyBCb3gzKClcblxuICAgIGZvciAobGV0IGkgPSAwLCBjb3JuZXJzQ291bnQgPSBjb3JuZXJzLmxlbmd0aDsgaSA8IGNvcm5lcnNDb3VudDsgaSsrKSB7XG4gICAgICB0cmFuc0Zvcm1lZEJveC5taW4ubWluKGNvcm5lcnNbaV0pXG4gICAgICB0cmFuc0Zvcm1lZEJveC5tYXgubWF4KGNvcm5lcnNbaV0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zRm9ybWVkQm94XG4gIH1cbn1cbiIsImltcG9ydCB7IEJveDMgfSBmcm9tICcuLi8uLi9tYXRoL0JveDMnXG5pbXBvcnQgeyBNYXQ0IH0gZnJvbSAnLi4vLi4vbWF0aC9NYXQ0J1xuaW1wb3J0IHsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCwgUmVjdENvb3JkcyB9IGZyb20gJy4vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBBbiBvYmplY3QgZGVmaW5pbmcgYWxsIHBvc3NpYmxlIHtAbGluayBET01GcnVzdHVtfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBET01GcnVzdHVtUGFyYW1zIHtcbiAgLyoqIG91ciAzRCBPYmplY3QgYm91bmRpbmcgYm94LCBpLmUuIHNpemUgaW4gd29ybGQgc3BhY2UgYmVmb3JlIGFueSB0cmFuc2Zvcm0uIFVzdWFsbHkgZGVmaW5lZCBieSBhIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0gKi9cbiAgYm91bmRpbmdCb3g/OiBCb3gzXG4gIC8qKiB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QjbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCB8IG1vZGVsIHZpZXcgcHJvamVjdGlvbiBtYXRyaXh9IHRvIHVzZSBmb3IgZnJ1c3R1bSBjYWxjdWxhdGlvbnMgKi9cbiAgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeD86IE1hdDRcbiAgLyoqIHRoZSB7QGxpbmsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX0gdG8gY2hlY2sgYWdhaW5zdCAqL1xuICBjb250YWluZXJCb3VuZGluZ1JlY3Q/OiBET01FbGVtZW50Qm91bmRpbmdSZWN0XG4gIC8qKiBhZGRpdGlvbmFsIG1hcmdpbnMgdG8gYWRkIHRvIHtAbGluayBjb250YWluZXJCb3VuZGluZ1JlY3R9ICovXG4gIERPTUZydXN0dW1NYXJnaW5zPzogUmVjdENvb3Jkc1xuICAvKiogY2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBET01GcnVzdHVtI3Byb2plY3RlZEJvdW5kaW5nUmVjdCB8IHByb2plY3RlZEJvdW5kaW5nUmVjdH0gcmVlbnRlcnMgdGhlIHZpZXcgZnJ1c3R1bSAqL1xuICBvblJlRW50ZXJWaWV3PzogKCkgPT4gdm9pZFxuICAvKiogY2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBET01GcnVzdHVtI3Byb2plY3RlZEJvdW5kaW5nUmVjdCB8IHByb2plY3RlZEJvdW5kaW5nUmVjdH0gbGVhdmVzIHRoZSB2aWV3IGZydXN0dW0gKi9cbiAgb25MZWF2ZVZpZXc/OiAoKSA9PiB2b2lkXG59XG5cbi8qKiBAY29uc3RhbnQge1JlY3RDb29yZHN9IC0gZGVmYXVsdCB7QGxpbmsgRE9NRnJ1c3R1bSNET01GcnVzdHVtTWFyZ2lucyB8IERPTUZydXN0dW1NYXJnaW5zfSAqL1xuY29uc3QgZGVmYXVsdERPTUZydXN0dW1NYXJnaW5zOiBSZWN0Q29vcmRzID0ge1xuICB0b3A6IDAsXG4gIHJpZ2h0OiAwLFxuICBib3R0b206IDAsXG4gIGxlZnQ6IDAsXG59XG5cbi8qKlxuICogVXNlZCB0byBjaGVjayBpZiBhIHtAbGluayBjb3JlL29iamVjdHMzRC9Qcm9qZWN0ZWRPYmplY3QzRC5Qcm9qZWN0ZWRPYmplY3QzRCB8IFByb2plY3RlZE9iamVjdDNEfSBpcyBjdXJyZW50bHkgY29udGFpbmVkIGluc2lkZSBhIERPTSBib3VuZGluZyByZWN0YW5nbGUuXG4gKlxuICogVXNlcyBhIHtAbGluayBjb3JlL29iamVjdHMzRC9Qcm9qZWN0ZWRPYmplY3QzRC5Qcm9qZWN0ZWRPYmplY3QzRCNtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IHwgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeH0gdGhhdCBjb250YWlucyBib3RoIHVzZWZ1bCB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QjdHJhbnNmb3JtcyB8IE9iamVjdDNEIHRyYW5zZm9ybXN9IGFuZCB7QGxpbmsgY29yZS9jYW1lcmEvQ2FtZXJhLkNhbWVyYSB8IENhbWVyYX0gcHJvamVjdGlvbiBpbmZvcm1hdGlvbi5cbiAqIFRoZSBET00gYm91bmRpbmcgcmVjdGFuZ2xlIHRvIGNoZWNrIGFnYWluc3QgdXN1YWxseSBpcyB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyIHwgcmVuZGVyZXJ9J3Mge0BsaW5rIGNvcmUvRE9NL0RPTUVsZW1lbnQuRE9NRWxlbWVudCB8IERPTUVsZW1lbnR9IGJvdW5kaW5nIHJlY3RhbmdsZSwgdW5sZXNzIGZydXN0dW0gbWFyZ2lucyBhcmUgc3BlY2lmaWVkLlxuICovXG5leHBvcnQgY2xhc3MgRE9NRnJ1c3R1bSB7XG4gIC8qKiBPdXIgM0QgT2JqZWN0IGJvdW5kaW5nIGJveCwgaS5lLiBzaXplIGluIHdvcmxkIHNwYWNlIGJlZm9yZSBhbnkgdHJhbnNmb3JtLiBVc3VhbGx5IGRlZmluZWQgYnkgYSB7QGxpbmsgY29yZS9nZW9tZXRyaWVzL0dlb21ldHJ5Lkdlb21ldHJ5IHwgR2VvbWV0cnl9ICovXG4gIGJvdW5kaW5nQm94OiBCb3gzXG4gIC8qKiBBIG1vZGVsIHZpZXcgcHJvamVjdGlvbiBtYXRyaXggZGVmaW5pbmcgdHJhbnNmb3JtYXRpb25zLCB1c3VhbGx5IGZyb20gYSB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QgfCBQcm9qZWN0ZWRPYmplY3QzRH0sIHRvIHVzZSBmb3IgZnJ1c3R1bSBjYWxjdWxhdGlvbnMgKi9cbiAgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeDogTWF0NFxuXG4gIC8qKiBUaGUgRE9NIGJvdW5kaW5nIHJlY3RhbmdsZSB0byBjaGVjayBhZ2FpbnN0LCB1c3VhbGx5IHRoZSByZW5kZXJlciBET00gRWxlbWVudCBib3VuZGluZyByZWN0YW5nbGUgKi9cbiAgY29udGFpbmVyQm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0XG4gIC8qKiBBZGRpdGlvbmFsIG1hcmdpbnMgdG8gYWRkIHRvIHtAbGluayBjb250YWluZXJCb3VuZGluZ1JlY3R9ICovXG4gIERPTUZydXN0dW1NYXJnaW5zOiBSZWN0Q29vcmRzXG4gIC8qKiBBIERPTSBFbGVtZW50IGJvdW5kaW5nIHJlY3RhbmdsZSByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCBvZiBvdXIge0BsaW5rIGJvdW5kaW5nQm94fSB3aXRoIHRoZSB7QGxpbmsgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeH0gYXBwbGllZCAqL1xuICBwcm9qZWN0ZWRCb3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3RcblxuICAvKiogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBwcm9qZWN0ZWRCb3VuZGluZ1JlY3R9IHJlZW50ZXJzIHRoZSB2aWV3IGZydXN0dW0gKi9cbiAgb25SZUVudGVyVmlldzogKCkgPT4gdm9pZFxuICAvKiogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBwcm9qZWN0ZWRCb3VuZGluZ1JlY3R9IGxlYXZlcyB0aGUgdmlldyBmcnVzdHVtICovXG4gIG9uTGVhdmVWaWV3OiAoKSA9PiB2b2lkXG5cbiAgLyoqIEZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciB0aGUgZ2l2ZW4ge0BsaW5rIHByb2plY3RlZEJvdW5kaW5nUmVjdH0gaXMgaW50ZXJzZWN0aW5nIG91ciB2aWV3IGZydXN0dW0gKi9cbiAgaXNJbnRlcnNlY3Rpbmc6IGJvb2xlYW5cbiAgLyoqIEZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciB3ZSBzaG91bGQgdXBkYXRlIG91ciB7QGxpbmsgcHJvamVjdGVkQm91bmRpbmdSZWN0fSAqL1xuICBzaG91bGRVcGRhdGU6IGJvb2xlYW5cblxuICAvKipcbiAgICogRE9NRnJ1c3R1bSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0RPTUZydXN0dW1QYXJhbXN9IHBhcmFtZXRlcnMgLSB7QGxpbmsgRE9NRnJ1c3R1bVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgRE9NRnJ1c3R1bX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBib3VuZGluZ0JveCA9IG5ldyBCb3gzKCksXG4gICAgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXQ0KCksXG4gICAgY29udGFpbmVyQm91bmRpbmdSZWN0ID0ge1xuICAgICAgdG9wOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICB9LFxuICAgIERPTUZydXN0dW1NYXJnaW5zID0gZGVmYXVsdERPTUZydXN0dW1NYXJnaW5zLFxuICAgIG9uUmVFbnRlclZpZXcgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFja3MgKi9cbiAgICB9LFxuICAgIG9uTGVhdmVWaWV3ID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2tzICovXG4gICAgfSxcbiAgfTogRE9NRnJ1c3R1bVBhcmFtcykge1xuICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveFxuICAgIHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCA9IG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXhcbiAgICB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdCA9IGNvbnRhaW5lckJvdW5kaW5nUmVjdFxuICAgIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMgPSB7IC4uLmRlZmF1bHRET01GcnVzdHVtTWFyZ2lucywgLi4uRE9NRnJ1c3R1bU1hcmdpbnMgfVxuXG4gICAgdGhpcy5wcm9qZWN0ZWRCb3VuZGluZ1JlY3QgPSB7XG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH1cblxuICAgIHRoaXMub25SZUVudGVyVmlldyA9IG9uUmVFbnRlclZpZXdcbiAgICB0aGlzLm9uTGVhdmVWaWV3ID0gb25MZWF2ZVZpZXdcblxuICAgIHRoaXMuaXNJbnRlcnNlY3RpbmcgPSBmYWxzZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBjb250YWluZXJCb3VuZGluZ1JlY3R9IChjYWxsZWQgb24gcmVzaXplKVxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgKi9cbiAgc2V0Q29udGFpbmVyQm91bmRpbmdSZWN0KGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCkge1xuICAgIHRoaXMuY29udGFpbmVyQm91bmRpbmdSZWN0ID0gYm91bmRpbmdSZWN0XG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciBET00gZnJ1c3R1bSBib3VuZGluZyByZWN0YW5nbGUsIGkuZS4gb3VyIHtAbGluayBjb250YWluZXJCb3VuZGluZ1JlY3R9IHdpdGggdGhlIHtAbGluayBET01GcnVzdHVtTWFyZ2luc30gYXBwbGllZFxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBET01GcnVzdHVtQm91bmRpbmdSZWN0KCk6IFJlY3RDb29yZHMge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IHRoaXMucHJvamVjdGVkQm91bmRpbmdSZWN0LnRvcCAtIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMudG9wLFxuICAgICAgcmlnaHQ6IHRoaXMucHJvamVjdGVkQm91bmRpbmdSZWN0LnJpZ2h0ICsgdGhpcy5ET01GcnVzdHVtTWFyZ2lucy5yaWdodCxcbiAgICAgIGJvdHRvbTogdGhpcy5wcm9qZWN0ZWRCb3VuZGluZ1JlY3QuYm90dG9tICsgdGhpcy5ET01GcnVzdHVtTWFyZ2lucy5ib3R0b20sXG4gICAgICBsZWZ0OiB0aGlzLnByb2plY3RlZEJvdW5kaW5nUmVjdC5sZWZ0IC0gdGhpcy5ET01GcnVzdHVtTWFyZ2lucy5sZWZ0LFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIGFsbCB7QGxpbmsgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeH0gdHJhbnNmb3JtYXRpb25zIHRvIG91ciB7QGxpbmsgYm91bmRpbmdCb3h9IGFuZCB0aGVuIGNoZWNrIGFnYWluc3QgaW50ZXJzZWN0aW9uc1xuICAgKi9cbiAgY29tcHV0ZVByb2plY3RlZFRvRG9jdW1lbnRDb29yZHMoKSB7XG4gICAgY29uc3QgcHJvamVjdGVkQm94ID0gdGhpcy5ib3VuZGluZ0JveC5hcHBseU1hdDQodGhpcy5tb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4KVxuXG4gICAgLy8gbm9ybWFsaXplIFstMSwgMV0gY29vcmRzIHRvIFswLCAxXVxuICAgIHByb2plY3RlZEJveC5taW4ueCA9IChwcm9qZWN0ZWRCb3gubWluLnggKyAxKSAqIDAuNVxuICAgIHByb2plY3RlZEJveC5tYXgueCA9IChwcm9qZWN0ZWRCb3gubWF4LnggKyAxKSAqIDAuNVxuXG4gICAgcHJvamVjdGVkQm94Lm1pbi55ID0gMSAtIChwcm9qZWN0ZWRCb3gubWluLnkgKyAxKSAqIDAuNVxuICAgIHByb2plY3RlZEJveC5tYXgueSA9IDEgLSAocHJvamVjdGVkQm94Lm1heC55ICsgMSkgKiAwLjVcblxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0IH0gPSB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdFxuXG4gICAgdGhpcy5wcm9qZWN0ZWRCb3VuZGluZ1JlY3QgPSB7XG4gICAgICBsZWZ0OiBwcm9qZWN0ZWRCb3gubWluLnggKiB3aWR0aCArIGxlZnQsXG4gICAgICB4OiBwcm9qZWN0ZWRCb3gubWluLnggKiB3aWR0aCArIGxlZnQsXG4gICAgICB0b3A6IHByb2plY3RlZEJveC5tYXgueSAqIGhlaWdodCArIHRvcCxcbiAgICAgIHk6IHByb2plY3RlZEJveC5tYXgueSAqIGhlaWdodCArIHRvcCxcbiAgICAgIHJpZ2h0OiBwcm9qZWN0ZWRCb3gubWF4LnggKiB3aWR0aCArIGxlZnQsXG4gICAgICBib3R0b206IHByb2plY3RlZEJveC5taW4ueSAqIGhlaWdodCArIHRvcCxcbiAgICAgIHdpZHRoOiBwcm9qZWN0ZWRCb3gubWF4LnggKiB3aWR0aCArIGxlZnQgLSAocHJvamVjdGVkQm94Lm1pbi54ICogd2lkdGggKyBsZWZ0KSxcbiAgICAgIGhlaWdodDogcHJvamVjdGVkQm94Lm1pbi55ICogaGVpZ2h0ICsgdG9wIC0gKHByb2plY3RlZEJveC5tYXgueSAqIGhlaWdodCArIHRvcCksXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnNlY3RzQ29udGFpbmVyKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIG91ciB7QGxpbmsgcHJvamVjdGVkQm91bmRpbmdSZWN0fSBpbnRlcnNlY3RzIHdpdGggb3VyIHtAbGluayBET01GcnVzdHVtQm91bmRpbmdSZWN0fVxuICAgKi9cbiAgaW50ZXJzZWN0c0NvbnRhaW5lcigpIHtcbiAgICBpZiAoXG4gICAgICBNYXRoLnJvdW5kKHRoaXMuRE9NRnJ1c3R1bUJvdW5kaW5nUmVjdC5yaWdodCkgPD0gdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3QubGVmdCB8fFxuICAgICAgTWF0aC5yb3VuZCh0aGlzLkRPTUZydXN0dW1Cb3VuZGluZ1JlY3QubGVmdCkgPj1cbiAgICAgICAgdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3QubGVmdCArIHRoaXMuY29udGFpbmVyQm91bmRpbmdSZWN0LndpZHRoIHx8XG4gICAgICBNYXRoLnJvdW5kKHRoaXMuRE9NRnJ1c3R1bUJvdW5kaW5nUmVjdC5ib3R0b20pIDw9IHRoaXMuY29udGFpbmVyQm91bmRpbmdSZWN0LnRvcCB8fFxuICAgICAgTWF0aC5yb3VuZCh0aGlzLkRPTUZydXN0dW1Cb3VuZGluZ1JlY3QudG9wKSA+PSB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdC50b3AgKyB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdC5oZWlnaHRcbiAgICApIHtcbiAgICAgIGlmICh0aGlzLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIHRoaXMub25MZWF2ZVZpZXcoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIHRoaXMub25SZUVudGVyVmlldygpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNJbnRlcnNlY3RpbmcgPSB0cnVlXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBCb3gzIH0gZnJvbSAnLi4vLi4vbWF0aC9Cb3gzJ1xuaW1wb3J0IHsgdGhyb3dFcnJvciwgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQge1xuICBHZW9tZXRyeU9wdGlvbnMsXG4gIEdlb21ldHJ5UGFyYW1zLFxuICBWZXJ0ZXhCdWZmZXIsXG4gIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZSxcbiAgVmVydGV4QnVmZmVyQXR0cmlidXRlUGFyYW1zLFxuICBWZXJ0ZXhCdWZmZXJQYXJhbXNcbn0gZnJvbSAnLi4vLi4vdHlwZXMvR2VvbWV0cmllcydcblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHtAbGluayBHZW9tZXRyeX0gZnJvbSBnaXZlbiBwYXJhbWV0ZXJzIGxpa2UgaW5zdGFuY2VzIGNvdW50IG9yIGdlb21ldHJ5IGF0dHJpYnV0ZXMgKHZlcnRpY2VzLCB1dnMsIG5vcm1hbHMpLjxicj5cbiAqIEhvbGRzIGFsbCBhdHRyaWJ1dGVzIGFycmF5cywgYm91bmRpbmcgYm94IGFuZCBjcmVhdGUgYXMgV0dTTCBjb2RlIHNuaXBwZXQgZm9yIHRoZSB2ZXJ0ZXggc2hhZGVyIGlucHV0IGF0dHJpYnV0ZXMuXG4gKlxuICogRHVyaW5nIHRoZSB7QGxpbmsgR2VvbWV0cnkjcmVuZGVyIHwgcmVuZGVyfSwgdGhlIHtAbGluayBHZW9tZXRyeX0gaXMgcmVzcG9uc2libGUgZm9yIHNldHRpbmcgdGhlIHtAbGluayBHZW9tZXRyeSN2ZXJ0ZXhCdWZmZXJzIHwgdmVydGV4QnVmZmVyc30gYW5kIGRyYXdpbmcgdGhlIHZlcnRpY2VzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICogICAvLyBmaXJzdCB0cmlhbmdsZVxuICogICAgMSwgIDEsICAwLFxuICogICAgMSwgLTEsICAwLFxuICogICAtMSwgLTEsICAwLFxuICpcbiAqICAgLy8gc2Vjb25kIHRyaWFuZ2xlXG4gKiAgICAxLCAgMSwgIDAsXG4gKiAgIC0xLCAtMSwgIDAsXG4gKiAgIC0xLCAgMSwgIDBcbiAqIF0pXG4gKlxuICogLy8gY3JlYXRlIGEgcXVhZCBnZW9tZXRyeSBtYWRlIG9mIDIgdHJpYW5nbGVzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpXG4gKlxuICogZ2VvbWV0cnkuc2V0QXR0cmlidXRlKHtcbiAqICAgbmFtZTogJ3Bvc2l0aW9uJyxcbiAqICAgdHlwZTogJ3ZlYzNmJyxcbiAqICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcbiAqICAgc2l6ZTogMyxcbiAqICAgYnVmZmVyTGVuZ3RoOiB2ZXJ0aWNlcy5sZW5ndGgsXG4gKiAgIGFycmF5OiB2ZXJ0aWNlcyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEdlb21ldHJ5IHtcbiAgLyoqIE51bWJlciBvZiB2ZXJ0aWNlcyBkZWZpbmVkIGJ5IHRoaXMgZ2VvbWV0cnkgKi9cbiAgdmVydGljZXNDb3VudDogbnVtYmVyXG4gIC8qKiBWZXJ0aWNlcyBvcmRlciB0byBiZSBkcmF3biBieSB0aGUge0BsaW5rIGNvcmUvcGlwZWxpbmVzL1JlbmRlclBpcGVsaW5lRW50cnkuUmVuZGVyUGlwZWxpbmVFbnRyeSB8IHJlbmRlciBwaXBlbGluZX0gKi9cbiAgdmVydGljZXNPcmRlcjogR1BVRnJvbnRGYWNlXG4gIC8qKiB7QGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYmdwdS8jZW51bWRlZi1ncHVwcmltaXRpdmV0b3BvbG9neSB8IFRvcG9sb2d5fSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBHZW9tZXRyeX0sIGkuZS4gd2hldGhlciB0byBkcmF3IHRyaWFuZ2xlcyBvciBwb2ludHMgKi9cbiAgdG9wb2xvZ3k6IEdQVVByaW1pdGl2ZVRvcG9sb2d5XG4gIC8qKiBOdW1iZXIgb2YgaW5zdGFuY2VzIG9mIHRoaXMgZ2VvbWV0cnkgdG8gZHJhdyAqL1xuICBpbnN0YW5jZXNDb3VudDogbnVtYmVyXG4gIC8qKiBBcnJheSBvZiB7QGxpbmsgVmVydGV4QnVmZmVyIHwgdmVydGV4IGJ1ZmZlcnN9IHRvIHVzZSB3aXRoIHRoaXMgZ2VvbWV0cnkgKi9cbiAgdmVydGV4QnVmZmVyczogVmVydGV4QnVmZmVyW11cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyBnZW9tZXRyeSAqL1xuICBvcHRpb25zOiBHZW9tZXRyeU9wdGlvbnNcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSBnZW9tZXRyeSAqL1xuICB0eXBlOiBzdHJpbmdcblxuICAvKiogVGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgZ2VvbWV0cnksIGkuZS4gdHdvIHtAbGluayBtYXRoL1ZlYzMuVmVjMyB8IFZlYzN9IGRlZmluaW5nIHRoZSBtaW4gYW5kIG1heCBwb3NpdGlvbnMgdG8gd3JhcCB0aGlzIGdlb21ldHJ5IGluIGEgY3ViZSAqL1xuICBib3VuZGluZ0JveDogQm94M1xuXG4gIC8qKiBBIHN0cmluZyB0byBhcHBlbmQgdG8gb3VyIHNoYWRlcnMgY29kZSBkZXNjcmliaW5nIHRoZSBXR1NMIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgdGhpcyBnZW9tZXRyeSBhdHRyaWJ1dGVzICovXG4gIHdnc2xTdHJ1Y3RGcmFnbWVudDogc3RyaW5nXG5cbiAgLyoqXG4gICAqIEdlb21ldHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdlb21ldHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIEdlb21ldHJ5XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdmVydGljZXNPcmRlciA9ICdjY3cnLFxuICAgIHRvcG9sb2d5ID0gJ3RyaWFuZ2xlLWxpc3QnLFxuICAgIGluc3RhbmNlc0NvdW50ID0gMSxcbiAgICB2ZXJ0ZXhCdWZmZXJzID0gW10sXG4gIH06IEdlb21ldHJ5UGFyYW1zID0ge30pIHtcbiAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSAwXG4gICAgdGhpcy52ZXJ0aWNlc09yZGVyID0gdmVydGljZXNPcmRlclxuICAgIHRoaXMudG9wb2xvZ3kgPSB0b3BvbG9neVxuICAgIHRoaXMuaW5zdGFuY2VzQ291bnQgPSBpbnN0YW5jZXNDb3VudFxuXG4gICAgdGhpcy5ib3VuZGluZ0JveCA9IG5ldyBCb3gzKClcblxuICAgIHRoaXMudHlwZSA9ICdHZW9tZXRyeSdcblxuICAgIHRoaXMudmVydGV4QnVmZmVycyA9IFtdXG5cbiAgICAvLyBzaG91bGQgY29udGFpbiBvdXIgdmVydGV4IHBvc2l0aW9uIC8gdXYgZGF0YSBhdCBsZWFzdFxuICAgIHRoaXMuYWRkVmVydGV4QnVmZmVyKHtcbiAgICAgIG5hbWU6ICdhdHRyaWJ1dGVzJyxcbiAgICB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdmVydGljZXNPcmRlcixcbiAgICAgIGluc3RhbmNlc0NvdW50LFxuICAgICAgdmVydGV4QnVmZmVycyxcbiAgICAgIHRvcG9sb2d5LFxuICAgIH1cblxuICAgIHZlcnRleEJ1ZmZlcnMuZm9yRWFjaCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICB0aGlzLmFkZFZlcnRleEJ1ZmZlcih7XG4gICAgICAgIHN0ZXBNb2RlOiB2ZXJ0ZXhCdWZmZXIuc3RlcE1vZGUgPz8gJ3ZlcnRleCcsXG4gICAgICAgIG5hbWU6IHZlcnRleEJ1ZmZlci5uYW1lLFxuICAgICAgICBhdHRyaWJ1dGVzOiB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcyxcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB0aGlzIEdlb21ldHJ5IGlzIHJlYWR5IHRvIGNvbXB1dGUsIGkuZS4gaWYgaXRzIGZpcnN0IHZlcnRleCBidWZmZXIgYXJyYXkgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNob3VsZENvbXB1dGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudmVydGV4QnVmZmVycy5sZW5ndGggJiYgIXRoaXMudmVydGV4QnVmZmVyc1swXS5hcnJheVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoaXMgZ2VvbWV0cnkgaXMgcmVhZHkgdG8gZHJhdywgaS5lLiBpdCBoYXMgYmVlbiBjb21wdXRlZCBhbmQgYWxsIGl0cyB2ZXJ0ZXggYnVmZmVycyBoYXZlIGJlZW4gY3JlYXRlZFxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuc2hvdWxkQ29tcHV0ZSAmJiAhdGhpcy52ZXJ0ZXhCdWZmZXJzLmZpbmQoKHZlcnRleEJ1ZmZlcikgPT4gIXZlcnRleEJ1ZmZlci5idWZmZXIpXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgdmVydGV4IGJ1ZmZlciB0byBvdXIgR2VvbWV0cnksIHNldCBpdHMgYXR0cmlidXRlcyBhbmQgcmV0dXJuIGl0XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gdmVydGV4IGJ1ZmZlciB7QGxpbmsgVmVydGV4QnVmZmVyUGFyYW1zIHwgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBWZXJ0ZXhCdWZmZXIgfCB2ZXJ0ZXggYnVmZmVyfVxuICAgKi9cbiAgYWRkVmVydGV4QnVmZmVyKHsgc3RlcE1vZGUgPSAndmVydGV4JywgbmFtZSwgYXR0cmlidXRlcyA9IFtdIH06IFZlcnRleEJ1ZmZlclBhcmFtcyA9IHt9KTogVmVydGV4QnVmZmVyIHtcbiAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB7XG4gICAgICBuYW1lOiBuYW1lID8/ICdhdHRyaWJ1dGVzJyArIHRoaXMudmVydGV4QnVmZmVycy5sZW5ndGgsXG4gICAgICBzdGVwTW9kZSxcbiAgICAgIGFycmF5U3RyaWRlOiAwLFxuICAgICAgYnVmZmVyTGVuZ3RoOiAwLFxuICAgICAgYXR0cmlidXRlczogW10sXG4gICAgICBidWZmZXI6IG51bGwsXG4gICAgfVxuXG4gICAgLy8gc2V0IGF0dHJpYnV0ZXMgcmlnaHQgYXdheSBpZiBwb3NzaWJsZVxuICAgIGF0dHJpYnV0ZXM/LmZvckVhY2goKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoe1xuICAgICAgICB2ZXJ0ZXhCdWZmZXIsXG4gICAgICAgIC4uLmF0dHJpYnV0ZSxcbiAgICAgIH0gYXMgVmVydGV4QnVmZmVyQXR0cmlidXRlUGFyYW1zKVxuICAgIH0pXG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlcnMucHVzaCh2ZXJ0ZXhCdWZmZXIpXG5cbiAgICByZXR1cm4gdmVydGV4QnVmZmVyXG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdmVydGV4IGJ1ZmZlciBieSBuYW1lXG4gICAqIEBwYXJhbSBuYW1lIC0gb3VyIHZlcnRleCBidWZmZXIgbmFtZVxuICAgKiBAcmV0dXJucyAtIGZvdW5kIHtAbGluayBWZXJ0ZXhCdWZmZXIgfCB2ZXJ0ZXggYnVmZmVyfSBvciBudWxsIGlmIG5vdCBmb3VuZFxuICAgKi9cbiAgZ2V0VmVydGV4QnVmZmVyQnlOYW1lKG5hbWUgPSAnJyk6IFZlcnRleEJ1ZmZlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnZlcnRleEJ1ZmZlcnMuZmluZCgodmVydGV4QnVmZmVyKSA9PiB2ZXJ0ZXhCdWZmZXIubmFtZSA9PT0gbmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSB2ZXJ0ZXggYnVmZmVyIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIGF0dHJpYnV0ZXMge0BsaW5rIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcyB8IHBhcmFtZXRlcnN9XG4gICAqL1xuICBzZXRBdHRyaWJ1dGUoe1xuICAgIHZlcnRleEJ1ZmZlciA9IHRoaXMudmVydGV4QnVmZmVyc1swXSxcbiAgICBuYW1lLFxuICAgIHR5cGUgPSAndmVjM2YnLFxuICAgIGJ1ZmZlckZvcm1hdCA9ICdmbG9hdDMyeDMnLFxuICAgIHNpemUgPSAzLFxuICAgIGFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRpY2VzQ291bnQgKiBzaXplKSxcbiAgICB2ZXJ0aWNlc1N0cmlkZSA9IDEsXG4gIH06IFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlc1xuICAgIGNvbnN0IGF0dHJpYnV0ZXNMZW5ndGggPSBhdHRyaWJ1dGVzLmxlbmd0aFxuXG4gICAgaWYgKCFuYW1lKSBuYW1lID0gJ2dlb21ldHJ5QXR0cmlidXRlJyArIGF0dHJpYnV0ZXNMZW5ndGhcblxuICAgIGlmIChuYW1lID09PSAncG9zaXRpb24nICYmICh0eXBlICE9PSAndmVjM2YnIHx8IGJ1ZmZlckZvcm1hdCAhPT0gJ2Zsb2F0MzJ4MycgfHwgc2l6ZSAhPT0gMykpIHtcbiAgICAgIHRocm93V2FybmluZyhcbiAgICAgICAgYEdlb21ldHJ5ICdwb3NpdGlvbicgYXR0cmlidXRlIG11c3QgaGF2ZSB0aGlzIGV4YWN0IHByb3BlcnRpZXMgc2V0OlxcblxcdHR5cGU6ICd2ZWMzZicsXFxuXFx0YnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcXG5cXHRzaXplOiAzYFxuICAgICAgKVxuICAgICAgdHlwZSA9ICd2ZWMzZidcbiAgICAgIGJ1ZmZlckZvcm1hdCA9ICdmbG9hdDMyeDMnXG4gICAgICBzaXplID0gM1xuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0ZUNvdW50ID0gYXJyYXkubGVuZ3RoIC8gc2l6ZVxuXG4gICAgaWYgKG5hbWUgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgIHRoaXMudmVydGljZXNDb3VudCA9IGF0dHJpYnV0ZUNvdW50XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdmVydGV4QnVmZmVyLnN0ZXBNb2RlID09PSAndmVydGV4JyAmJlxuICAgICAgdGhpcy52ZXJ0aWNlc0NvdW50ICYmXG4gICAgICB0aGlzLnZlcnRpY2VzQ291bnQgIT09IGF0dHJpYnV0ZUNvdW50ICogdmVydGljZXNTdHJpZGVcbiAgICApIHtcbiAgICAgIHRocm93RXJyb3IoXG4gICAgICAgIGBHZW9tZXRyeSB2ZXJ0ZXggYXR0cmlidXRlIGVycm9yLiBBdHRyaWJ1dGUgYXJyYXkgb2Ygc2l6ZSAke3NpemV9IG11c3QgYmUgb2YgbGVuZ3RoOiAke1xuICAgICAgICAgIHRoaXMudmVydGljZXNDb3VudCAqIHNpemVcbiAgICAgICAgfSwgY3VycmVudCBnaXZlbjogJHthcnJheS5sZW5ndGh9LiAoJHt0aGlzLnZlcnRpY2VzQ291bnR9IHZlcnRpY2VzKS5gXG4gICAgICApXG4gICAgfSBlbHNlIGlmICh2ZXJ0ZXhCdWZmZXIuc3RlcE1vZGUgPT09ICdpbnN0YW5jZScgJiYgYXR0cmlidXRlQ291bnQgIT09IHRoaXMuaW5zdGFuY2VzQ291bnQpIHtcbiAgICAgIHRocm93RXJyb3IoXG4gICAgICAgIGBHZW9tZXRyeSBpbnN0YW5jZSBhdHRyaWJ1dGUgZXJyb3IuIEF0dHJpYnV0ZSBhcnJheSBvZiBzaXplICR7c2l6ZX0gbXVzdCBiZSBvZiBsZW5ndGg6ICR7XG4gICAgICAgICAgdGhpcy5pbnN0YW5jZXNDb3VudCAqIHNpemVcbiAgICAgICAgfSwgY3VycmVudCBnaXZlbjogJHthcnJheS5sZW5ndGh9LiAoJHt0aGlzLmluc3RhbmNlc0NvdW50fSBpbnN0YW5jZXMpLmBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGUgPSB7XG4gICAgICBuYW1lLFxuICAgICAgdHlwZSxcbiAgICAgIGJ1ZmZlckZvcm1hdCxcbiAgICAgIHNpemUsXG4gICAgICBidWZmZXJMZW5ndGg6IGFycmF5Lmxlbmd0aCxcbiAgICAgIG9mZnNldDogYXR0cmlidXRlc0xlbmd0aFxuICAgICAgICA/IGF0dHJpYnV0ZXMucmVkdWNlKChhY2N1bXVsYXRvcjogbnVtYmVyLCBjdXJyZW50VmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvciArIGN1cnJlbnRWYWx1ZS5idWZmZXJMZW5ndGhcbiAgICAgICAgICB9LCAwKVxuICAgICAgICA6IDAsXG4gICAgICBidWZmZXJPZmZzZXQ6IGF0dHJpYnV0ZXNMZW5ndGhcbiAgICAgICAgPyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZXNMZW5ndGggLSAxXS5idWZmZXJPZmZzZXQgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZXNMZW5ndGggLSAxXS5zaXplICogNFxuICAgICAgICA6IDAsXG4gICAgICBhcnJheSxcbiAgICAgIHZlcnRpY2VzU3RyaWRlOiB2ZXJ0aWNlc1N0cmlkZSxcbiAgICB9XG5cbiAgICB2ZXJ0ZXhCdWZmZXIuYnVmZmVyTGVuZ3RoICs9IGF0dHJpYnV0ZS5idWZmZXJMZW5ndGggKiB2ZXJ0aWNlc1N0cmlkZVxuICAgIHZlcnRleEJ1ZmZlci5hcnJheVN0cmlkZSArPSBhdHRyaWJ1dGUuc2l6ZVxuICAgIHZlcnRleEJ1ZmZlci5hdHRyaWJ1dGVzLnB1c2goYXR0cmlidXRlKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbiBhdHRyaWJ1dGUgYnkgbmFtZVxuICAgKiBAcGFyYW0gbmFtZSAtIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBmaW5kXG4gICAqIEByZXR1cm5zIC0gZm91bmQge0BsaW5rIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZSB8IGF0dHJpYnV0ZX0gb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldEF0dHJpYnV0ZUJ5TmFtZShuYW1lOiBzdHJpbmcpOiBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGUgfCBudWxsIHtcbiAgICBsZXQgYXR0cmlidXRlXG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXJzLmZvckVhY2goKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgYXR0cmlidXRlID0gdmVydGV4QnVmZmVyLmF0dHJpYnV0ZXMuZmluZCgoYXR0cmlidXRlKSA9PiBhdHRyaWJ1dGUubmFtZSA9PT0gbmFtZSlcbiAgICB9KVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgYSBHZW9tZXRyeSwgd2hpY2ggbWVhbnMgaXRlcmF0ZSB0aHJvdWdoIGFsbCB2ZXJ0ZXggYnVmZmVycyBhbmQgY3JlYXRlIHRoZSBhdHRyaWJ1dGVzIGFycmF5IHRoYXQgd2lsbCBiZSBzZW50IGFzIGJ1ZmZlcnMuXG4gICAqIEFsc28gY29tcHV0ZSB0aGUgR2VvbWV0cnkgYm91bmRpbmcgYm94LlxuICAgKi9cbiAgY29tcHV0ZUdlb21ldHJ5KCkge1xuICAgIGlmICghdGhpcy5zaG91bGRDb21wdXRlKSByZXR1cm5cblxuICAgIHRoaXMudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgY29uc3QgaGFzUG9zaXRpb25BdHRyaWJ1dGUgPSB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5maW5kKFxuICAgICAgICAgIChhdHRyaWJ1dGUpID0+IGF0dHJpYnV0ZS5uYW1lID09PSAncG9zaXRpb24nXG4gICAgICAgICkgYXMgVmVydGV4QnVmZmVyQXR0cmlidXRlIHwgbnVsbFxuXG4gICAgICAgIGlmICghaGFzUG9zaXRpb25BdHRyaWJ1dGUpIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKGBHZW9tZXRyeSBtdXN0IGhhdmUgYSAncG9zaXRpb24nIGF0dHJpYnV0ZWApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgaGFzUG9zaXRpb25BdHRyaWJ1dGUudHlwZSAhPT0gJ3ZlYzNmJyB8fFxuICAgICAgICAgIGhhc1Bvc2l0aW9uQXR0cmlidXRlLmJ1ZmZlckZvcm1hdCAhPT0gJ2Zsb2F0MzJ4MycgfHxcbiAgICAgICAgICBoYXNQb3NpdGlvbkF0dHJpYnV0ZS5zaXplICE9PSAzXG4gICAgICAgICkge1xuICAgICAgICAgIHRocm93V2FybmluZyhcbiAgICAgICAgICAgIGBHZW9tZXRyeSAncG9zaXRpb24nIGF0dHJpYnV0ZSBtdXN0IGhhdmUgdGhpcyBleGFjdCBwcm9wZXJ0aWVzIHNldDpcXG5cXHR0eXBlOiAndmVjM2YnLFxcblxcdGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXFxuXFx0c2l6ZTogM2BcbiAgICAgICAgICApXG4gICAgICAgICAgaGFzUG9zaXRpb25BdHRyaWJ1dGUudHlwZSA9ICd2ZWMzZidcbiAgICAgICAgICBoYXNQb3NpdGlvbkF0dHJpYnV0ZS5idWZmZXJGb3JtYXQgPSAnZmxvYXQzMngzJ1xuICAgICAgICAgIGhhc1Bvc2l0aW9uQXR0cmlidXRlLnNpemUgPSAzXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmVydGV4QnVmZmVyLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhCdWZmZXIuYnVmZmVyTGVuZ3RoKVxuXG4gICAgICBsZXQgY3VycmVudEluZGV4ID0gMFxuICAgICAgbGV0IGF0dHJpYnV0ZUluZGV4ID0gMFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhCdWZmZXIuYnVmZmVyTGVuZ3RoOyBpICs9IHZlcnRleEJ1ZmZlci5hcnJheVN0cmlkZSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHZlcnRleEJ1ZmZlci5hdHRyaWJ1dGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgeyBuYW1lLCBzaXplLCBhcnJheSwgdmVydGljZXNTdHJpZGUgfSA9IHZlcnRleEJ1ZmZlci5hdHRyaWJ1dGVzW2pdXG5cbiAgICAgICAgICBmb3IgKGxldCBzID0gMDsgcyA8IHNpemU7IHMrKykge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBhcnJheVtNYXRoLmZsb29yKGF0dHJpYnV0ZUluZGV4IC8gdmVydGljZXNTdHJpZGUpICogc2l6ZSArIHNdXG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuYXJyYXlbY3VycmVudEluZGV4XSA9IGF0dHJpYnV0ZVZhbHVlXG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGUgYm91bmRpbmcgYm94XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xuICAgICAgICAgICAgICBpZiAocyAlIDMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyB4XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWluLnggPiBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5taW4ueCA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWF4LnggPCBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5tYXgueCA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocyAlIDMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyB5XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWluLnkgPiBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5taW4ueSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWF4LnkgPCBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5tYXgueSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocyAlIDMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAvLyB6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWluLnogPiBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5taW4ueiA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRpbmdCb3gubWF4LnogPCBhdHRyaWJ1dGVWYWx1ZSkgdGhpcy5ib3VuZGluZ0JveC5tYXgueiA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudEluZGV4KytcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyaWJ1dGVJbmRleCsrXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuI3NldFdHU0xGcmFnbWVudCgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBXR1NMIGNvZGUgc25pcHBldCB0aGF0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHZlcnRleCBzaGFkZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAjc2V0V0dTTEZyYWdtZW50KCkge1xuICAgIGxldCBsb2NhdGlvbkluZGV4ID0gLTFcbiAgICB0aGlzLndnc2xTdHJ1Y3RGcmFnbWVudCA9IGBzdHJ1Y3QgQXR0cmlidXRlcyB7XFxuXFx0QGJ1aWx0aW4odmVydGV4X2luZGV4KSB2ZXJ0ZXhJbmRleCA6IHUzMixcXG5cXHRAYnVpbHRpbihpbnN0YW5jZV9pbmRleCkgaW5zdGFuY2VJbmRleCA6IHUzMiwke3RoaXMudmVydGV4QnVmZmVyc1xuICAgICAgLm1hcCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICAgIHJldHVybiB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5tYXAoKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgIGxvY2F0aW9uSW5kZXgrK1xuICAgICAgICAgIHJldHVybiBgXFxuXFx0QGxvY2F0aW9uKCR7bG9jYXRpb25JbmRleH0pICR7YXR0cmlidXRlLm5hbWV9OiAke2F0dHJpYnV0ZS50eXBlfWBcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAuam9pbignLCcpfVxcbn07YFxuICB9XG5cbiAgLyoqIFJFTkRFUiAqKi9cblxuICAvKipcbiAgICogU2V0IG91ciByZW5kZXIgcGFzcyBnZW9tZXRyeSB2ZXJ0ZXggYnVmZmVyc1xuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3NcbiAgICovXG4gIHNldEdlb21ldHJ5QnVmZmVycyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xuICAgIHRoaXMudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIsIGluZGV4KSA9PiB7XG4gICAgICBwYXNzLnNldFZlcnRleEJ1ZmZlcihpbmRleCwgdmVydGV4QnVmZmVyLmJ1ZmZlcilcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgb3VyIGdlb21ldHJ5XG4gICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzc1xuICAgKi9cbiAgZHJhd0dlb21ldHJ5KHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XG4gICAgcGFzcy5kcmF3KHRoaXMudmVydGljZXNDb3VudCwgdGhpcy5pbnN0YW5jZXNDb3VudClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHZlcnRleCBidWZmZXJzIHRoZW4gZHJhdyB0aGUgZ2VvbWV0cnlcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzXG4gICAqL1xuICByZW5kZXIocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy5zZXRHZW9tZXRyeUJ1ZmZlcnMocGFzcylcbiAgICB0aGlzLmRyYXdHZW9tZXRyeShwYXNzKVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIGdlb21ldHJ5IHZlcnRleCBidWZmZXJzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIpID0+IHtcbiAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXI/LmRlc3Ryb3koKVxuICAgICAgdmVydGV4QnVmZmVyLmJ1ZmZlciA9IG51bGxcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vR2VvbWV0cnknXHJcbmltcG9ydCB7IEdlb21ldHJ5UGFyYW1zIH0gZnJvbSAnLi4vLi4vdHlwZXMvR2VvbWV0cmllcydcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBhdmFpbGFibGUgb3B0aW9ucyB0byBjcmVhdGUgYW4ge0BsaW5rIEluZGV4ZWRHZW9tZXRyeSNpbmRleEJ1ZmZlciB8IGluZGV4IGJ1ZmZlcn1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhlZEdlb21ldHJ5SW5kZXhCdWZmZXJPcHRpb25zIHtcclxuICAvKiogaW5kZXggYnVmZmVyIGZvcm1hdCAqL1xyXG4gIGJ1ZmZlckZvcm1hdD86IEdQVUluZGV4Rm9ybWF0XHJcbiAgLyoqIGluZGV4IGJ1ZmZlciBhcnJheSAqL1xyXG4gIGFycmF5PzogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheVxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhbiB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5I2luZGV4QnVmZmVyIHwgaW5kZXggYnVmZmVyfVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJbmRleEJ1ZmZlciB7XHJcbiAgLyoqIGluZGV4IGJ1ZmZlciBmb3JtYXQgKi9cclxuICBidWZmZXJGb3JtYXQ6IEdQVUluZGV4Rm9ybWF0XHJcbiAgLyoqIGluZGV4IGJ1ZmZlciBhcnJheSAqL1xyXG4gIGFycmF5OiBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5XHJcbiAgLyoqIGluZGV4IGJ1ZmZlciBsZW5ndGggKi9cclxuICBidWZmZXJMZW5ndGg6IG51bWJlclxyXG4gIC8qKiBpbmRleCBidWZmZXIge0BsaW5rIEdQVUJ1ZmZlcn0gKi9cclxuICBidWZmZXI/OiBHUFVCdWZmZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIFVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBJbmRleGVkR2VvbWV0cnl9IHdoaWNoIGhvbGRzIGFuIGluZGV4IGFycmF5IHRvIHVzZSBhcyBhbiBpbmRleCBidWZmZXIuXHJcbiAqXHJcbiAqIFRoZSBpbmRleCBhcnJheSByZXByZXNlbnRzIHRoZSBvcmRlciBpbiB3aGljaCB0aGUgYXR0cmlidXRlcyBzaG91bGQgYmUgcHJvY2Vzc2VkLiBUaGlzIGFsbG93cyB0byBjcmVhdGUgc21hbGxlciB2ZXJ0ZXgsIHV2IGFuZCBub3JtYWwgYXJyYXlzLlxyXG4gKlxyXG4gKiBEdXJpbmcgdGhlIHtAbGluayBJbmRleGVkR2VvbWV0cnkjcmVuZGVyIHwgcmVuZGVyfSwgdGhlIHtAbGluayBJbmRleGVkR2VvbWV0cnl9IGlzIHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIHRoZSB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5I3ZlcnRleEJ1ZmZlcnMgfCB2ZXJ0ZXhCdWZmZXJzfSBhbmQgZHJhd2luZyB0aGUgaW5kZXhlZCB2ZXJ0aWNlcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gKiAgIC0xLCAtMSwgIDAsXHJcbiAqICAgIDEsIC0xLCAgMCxcclxuICogICAtMSwgIDEsICAwLFxyXG4gKiAgICAxLCAgMSwgIDBcclxuICogXSlcclxuICpcclxuICogLy8gdmVydGljZXMgaW5kZXggKG9yZGVyIGluIHdoaWNoIHRoZXkgc2hvdWxkIGJlIGRyYXduKVxyXG4gKiBjb25zdCBpbmRleEFycmF5ID0gbmV3IFVpbnQxNkFycmF5KFswLCAyLCAxLCAxLCAyLCAzXSlcclxuICpcclxuICogLy8gY3JlYXRlIGFuIGluZGV4ZWQgcXVhZCBnZW9tZXRyeSBtYWRlIG9mIDQgdmVydGljZXNcclxuICogY29uc3QgaW5kZXhlZEdlb21ldHJ5ID0gbmV3IEluZGV4ZWRHZW9tZXRyeSgpXHJcbiAqXHJcbiAqIGluZGV4ZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUoe1xyXG4gKiAgIG5hbWU6ICdwb3NpdGlvbicsXHJcbiAqICAgdHlwZTogJ3ZlYzNmJyxcclxuICogICBidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxyXG4gKiAgIHNpemU6IDMsXHJcbiAqICAgYnVmZmVyTGVuZ3RoOiB2ZXJ0aWNlcy5sZW5ndGgsXHJcbiAqICAgYXJyYXk6IHZlcnRpY2VzLFxyXG4gKiB9KVxyXG4gKlxyXG4gKiBpbmRleGVkR2VvbWV0cnkuc2V0SW5kZXhCdWZmZXIoe1xyXG4gKiAgIGFycmF5OiBpbmRleEFycmF5LFxyXG4gKiAgIGJ1ZmZlckZvcm1hdDogJ3VpbnQxNicsXHJcbiAqIH0pXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEluZGV4ZWRHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5IHtcclxuICAvKiogT2JqZWN0IGNvbnRhaW5pbmcgb3VyIGluZGV4IGJ1ZmZlciBmb3JtYXQgJiBsZW5ndGgsIGFycmF5IGFuZCBHUFVCdWZmZXIgKi9cclxuICBpbmRleEJ1ZmZlcjogSW5kZXhCdWZmZXJcclxuXHJcbiAgLyoqXHJcbiAgICogSW5kZXhlZEdlb21ldHJ5IGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR2VvbWV0cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIgSW5kZXhlZEdlb21ldHJ5XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgdmVydGljZXNPcmRlciA9ICdjY3cnLFxyXG4gICAgdG9wb2xvZ3kgPSAndHJpYW5nbGUtbGlzdCcsXHJcbiAgICBpbnN0YW5jZXNDb3VudCA9IDEsXHJcbiAgICB2ZXJ0ZXhCdWZmZXJzID0gW10sXHJcbiAgfTogR2VvbWV0cnlQYXJhbXMgPSB7fSkge1xyXG4gICAgc3VwZXIoeyB2ZXJ0aWNlc09yZGVyLCB0b3BvbG9neSwgaW5zdGFuY2VzQ291bnQsIHZlcnRleEJ1ZmZlcnMgfSlcclxuXHJcbiAgICB0aGlzLnR5cGUgPSAnSW5kZXhlZEdlb21ldHJ5J1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHdoZXRoZXIgdGhpcyBnZW9tZXRyeSBpcyByZWFkeSB0byBkcmF3LCBpLmUuIGl0IGhhcyBiZWVuIGNvbXB1dGVkLCBhbGwgaXRzIHZlcnRleCBidWZmZXJzIGhhdmUgYmVlbiBjcmVhdGVkIGFuZCBpdHMgaW5kZXggYnVmZmVyIGhhcyBiZWVuIGNyZWF0ZWQgYXMgd2VsbFxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCByZWFkeSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICF0aGlzLnNob3VsZENvbXB1dGUgJiZcclxuICAgICAgIXRoaXMudmVydGV4QnVmZmVycy5maW5kKCh2ZXJ0ZXhCdWZmZXIpID0+ICF2ZXJ0ZXhCdWZmZXIuYnVmZmVyKSAmJlxyXG4gICAgICB0aGlzLmluZGV4QnVmZmVyICYmXHJcbiAgICAgICEhdGhpcy5pbmRleEJ1ZmZlci5idWZmZXJcclxuICAgIClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHdlIGhhdmUgbGVzcyB0aGFuIDY1LjUzNiB2ZXJ0aWNlcywgd2Ugc2hvdWxkIHVzZSBhIFVpbjE2QXJyYXkgdG8gaG9sZCBvdXIgaW5kZXggYnVmZmVyIHZhbHVlc1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCB1c2VVaW50MTZJbmRleEFycmF5KCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMudmVydGljZXNDb3VudCA8IDI1NiAqIDI1NlxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IG91ciB7QGxpbmsgaW5kZXhCdWZmZXJ9XHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5SW5kZXhCdWZmZXJPcHRpb25zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIGluZGV4IGJ1ZmZlclxyXG4gICAqL1xyXG4gIHNldEluZGV4QnVmZmVyKHsgYnVmZmVyRm9ybWF0ID0gJ3VpbnQzMicsIGFycmF5ID0gbmV3IFVpbnQzMkFycmF5KDApIH06IEluZGV4ZWRHZW9tZXRyeUluZGV4QnVmZmVyT3B0aW9ucykge1xyXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IHtcclxuICAgICAgYXJyYXksXHJcbiAgICAgIGJ1ZmZlckZvcm1hdCxcclxuICAgICAgYnVmZmVyTGVuZ3RoOiBhcnJheS5sZW5ndGgsXHJcbiAgICAgIGJ1ZmZlcjogbnVsbCxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBSRU5ERVIgKiovXHJcblxyXG4gIC8qKlxyXG4gICAqIEZpcnN0LCBzZXQgb3VyIHJlbmRlciBwYXNzIGdlb21ldHJ5IHZlcnRleCBidWZmZXJzXHJcbiAgICogVGhlbiwgc2V0IG91ciByZW5kZXIgcGFzcyBnZW9tZXRyeSBpbmRleCBidWZmZXJcclxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3NcclxuICAgKi9cclxuICBzZXRHZW9tZXRyeUJ1ZmZlcnMocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpIHtcclxuICAgIHN1cGVyLnNldEdlb21ldHJ5QnVmZmVycyhwYXNzKVxyXG5cclxuICAgIHBhc3Muc2V0SW5kZXhCdWZmZXIodGhpcy5pbmRleEJ1ZmZlci5idWZmZXIsIHRoaXMuaW5kZXhCdWZmZXIuYnVmZmVyRm9ybWF0KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT3ZlcnJpZGUgdGhlIHBhcmVudE1lc2ggZHJhdyBtZXRob2QgdG8gZHJhdyBpbmRleGVkIGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzXHJcbiAgICovXHJcbiAgZHJhd0dlb21ldHJ5KHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XHJcbiAgICBwYXNzLmRyYXdJbmRleGVkKHRoaXMuaW5kZXhCdWZmZXIuYnVmZmVyTGVuZ3RoLCB0aGlzLmluc3RhbmNlc0NvdW50KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBvdXIgaW5kZXhlZCBnZW9tZXRyeSB2ZXJ0ZXggYnVmZmVycyBhbmQgaW5kZXggYnVmZmVyXHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHN1cGVyLmRlc3Ryb3koKVxyXG5cclxuICAgIHRoaXMuaW5kZXhCdWZmZXI/LmJ1ZmZlcj8uZGVzdHJveSgpXHJcbiAgICB0aGlzLmluZGV4QnVmZmVyLmJ1ZmZlciA9IG51bGxcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSW5kZXhlZEdlb21ldHJ5IH0gZnJvbSAnLi9JbmRleGVkR2VvbWV0cnknXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4vR2VvbWV0cnknXG5pbXBvcnQgeyBHZW9tZXRyeUJhc2VQYXJhbXMsIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL0dlb21ldHJpZXMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQbGFuZUdlb21ldHJ5fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBsYW5lR2VvbWV0cnlQYXJhbXMgZXh0ZW5kcyBHZW9tZXRyeUJhc2VQYXJhbXMge1xuICAvKiogTnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBYIGF4aXMgKi9cbiAgd2lkdGhTZWdtZW50cz86IG51bWJlclxuICAvKiogTnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBZIGF4aXMgKi9cbiAgaGVpZ2h0U2VnbWVudHM/OiBudW1iZXJcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhbiBpbmRleGVkIHBsYW5lIGdlb21ldHJ5IGJhc2VkIG9uIHRoZSBudW1iZXIgb2Ygc2VnbWVudHMgYWxvbmcgdGhlIFggYW5kIFkgYXhpcy5cbiAqXG4gKiBUaGlzIGlzIGhvdyBpdCB3aWxsIGxvb2sgZm9yIGEgM3gyIHF1YWQuIEluZGV4aW5nIHdpbGwgdGFrZSBjYXJlIG9mIGRyYXdpbmcgdGhlIHJpZ2h0IHZlcnRpY2VzIGluIHRoZSByaWdodCBvcmRlci5cbiAqXG4gKiA8cHJlPlxuICogIDAtLS0xLS0tMi0tLTNcbiAqICB8ICAvfCAgL3wgIC98XG4gKiAgfC8gIHwvICB8LyAgfFxuICogIDQtLS01LS0tNi0tLTdcbiAqICB8ICAvfCAgL3wgIC98XG4gKiAgfC8gIHwvICB8LyAgfFxuICogIDgtLS05LS0tMTAtLTExXG4gKiA8L3ByZT5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KClcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgUGxhbmVHZW9tZXRyeSBleHRlbmRzIEluZGV4ZWRHZW9tZXRyeSB7XG4gIC8qKlxuICAgKiBEZWZpbmVzIG91ciB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gZGVmaW5pdGlvbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQge0BsaW5rIFBsYW5lR2VvbWV0cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfVxuICAgKi9cbiAgZGVmaW5pdGlvbjoge1xuICAgIC8qKiB1bmlxdWUgaWQgYmFzZWQgb24gd2lkdGggYW5kIGhlaWdodCBzZWdtZW50cywgdXNlZCB0byBnZXQge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGZyb20gY2FjaGUgKi9cbiAgICBpZDogbnVtYmVyXG4gICAgLyoqIG51bWJlciBvZiBzZWdtZW50cyBhbG9uZyB0aGUgWCBheGlzICovXG4gICAgd2lkdGg6IG51bWJlclxuICAgIC8qKiBudW1iZXIgb2Ygc2VnbWVudHMgYWxvbmcgdGhlIFkgYXhpcyAqL1xuICAgIGhlaWdodDogbnVtYmVyXG4gICAgLyoqIHRvdGFsIG51bWJlciBvZiBzZWdtZW50cyAqL1xuICAgIGNvdW50OiBudW1iZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBQbGFuZUdlb21ldHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBsYW5lR2VvbWV0cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIgUGxhbmVHZW9tZXRyeVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHdpZHRoU2VnbWVudHMgPSAxLFxuICAgIGhlaWdodFNlZ21lbnRzID0gMSxcbiAgICBpbnN0YW5jZXNDb3VudCA9IDEsXG4gICAgdmVydGV4QnVmZmVycyA9IFtdLFxuICAgIHRvcG9sb2d5LFxuICB9OiBQbGFuZUdlb21ldHJ5UGFyYW1zID0ge30pIHtcbiAgICAvLyBwbGFuZSBnZW9tZXRyaWVzIHZlcnRpY2VzIGFyZSBkZWZpbmVkIGluIHRoZSBjbG9ja3dpc2Ugb3JkZXJcbiAgICBzdXBlcih7IHZlcnRpY2VzT3JkZXI6ICdjdycsIHRvcG9sb2d5LCBpbnN0YW5jZXNDb3VudCwgdmVydGV4QnVmZmVycyB9KVxuXG4gICAgdGhpcy50eXBlID0gJ1BsYW5lR2VvbWV0cnknXG5cbiAgICB3aWR0aFNlZ21lbnRzID0gTWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKVxuICAgIGhlaWdodFNlZ21lbnRzID0gTWF0aC5mbG9vcihoZWlnaHRTZWdtZW50cylcblxuICAgIC8vIHVuaXF1ZSBwbGFuZSBnZW9tZXRyeSBpZCBiYXNlZCBvbiB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgLy8gdXNlZCB0byBnZXQgYSBnZW9tZXRyeSBmcm9tIGNhY2hlXG4gICAgdGhpcy5kZWZpbml0aW9uID0ge1xuICAgICAgaWQ6IHdpZHRoU2VnbWVudHMgKiBoZWlnaHRTZWdtZW50cyArIHdpZHRoU2VnbWVudHMsXG4gICAgICB3aWR0aDogd2lkdGhTZWdtZW50cyxcbiAgICAgIGhlaWdodDogaGVpZ2h0U2VnbWVudHMsXG4gICAgICBjb3VudDogd2lkdGhTZWdtZW50cyAqIGhlaWdodFNlZ21lbnRzLFxuICAgIH1cblxuICAgIGNvbnN0IHZlcnRpY2VzQ291bnQgPSAodGhpcy5kZWZpbml0aW9uLndpZHRoICsgMSkgKiAodGhpcy5kZWZpbml0aW9uLmhlaWdodCArIDEpXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMuZ2V0SW5kZXhlZFZlcnRpY2VzQW5kVVZzKHZlcnRpY2VzQ291bnQpXG5cbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChhdHRyaWJ1dGVLZXkpID0+IHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZXNbYXR0cmlidXRlS2V5XSBhcyBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXMpXG4gICAgfSlcblxuICAgIHRoaXMuc2V0SW5kZXhBcnJheSgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciBQbGFuZUdlb21ldHJ5IGluZGV4IGFycmF5XG4gICAqL1xuICBzZXRJbmRleEFycmF5KCkge1xuICAgIGNvbnN0IGluZGV4QXJyYXkgPSB0aGlzLnVzZVVpbnQxNkluZGV4QXJyYXlcbiAgICAgID8gbmV3IFVpbnQxNkFycmF5KHRoaXMuZGVmaW5pdGlvbi5jb3VudCAqIDYpXG4gICAgICA6IG5ldyBVaW50MzJBcnJheSh0aGlzLmRlZmluaXRpb24uY291bnQgKiA2KVxuXG4gICAgbGV0IGluZGV4ID0gMFxuXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmRlZmluaXRpb24uaGVpZ2h0OyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5kZWZpbml0aW9uLndpZHRoOyB4KyspIHtcbiAgICAgICAgaW5kZXhBcnJheVtpbmRleCsrXSA9IHggKyB5ICogKHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIDEpXG4gICAgICAgIGluZGV4QXJyYXlbaW5kZXgrK10gPSB0aGlzLmRlZmluaXRpb24ud2lkdGggKyB4ICsgMSArIHkgKiAodGhpcy5kZWZpbml0aW9uLndpZHRoICsgMSlcbiAgICAgICAgaW5kZXhBcnJheVtpbmRleCsrXSA9IHggKyAxICsgeSAqICh0aGlzLmRlZmluaXRpb24ud2lkdGggKyAxKVxuXG4gICAgICAgIGluZGV4QXJyYXlbaW5kZXgrK10gPSB4ICsgMSArIHkgKiAodGhpcy5kZWZpbml0aW9uLndpZHRoICsgMSlcbiAgICAgICAgaW5kZXhBcnJheVtpbmRleCsrXSA9IHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIHggKyAxICsgeSAqICh0aGlzLmRlZmluaXRpb24ud2lkdGggKyAxKVxuICAgICAgICBpbmRleEFycmF5W2luZGV4KytdID0gdGhpcy5kZWZpbml0aW9uLndpZHRoICsgeCArIDIgKyB5ICogKHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIDEpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZXRJbmRleEJ1ZmZlcih7XG4gICAgICBhcnJheTogaW5kZXhBcnJheSxcbiAgICAgIGJ1ZmZlckZvcm1hdDogdGhpcy51c2VVaW50MTZJbmRleEFycmF5ID8gJ3VpbnQxNicgOiAndWludDMyJyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIFVWIGFuZCBwb3NpdGlvbiBhcnJheXMgYmFzZWQgb24gb3VyIHBsYW5lIHdpZHRoU2VnbWVudHMgYW5kIGhlaWdodFNlZ21lbnRzIHZhbHVlcyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtIHZlcnRpY2VzQ291bnQgLSB7QGxpbmsgR2VvbWV0cnkjdmVydGljZXNDb3VudCB8IG51bWJlciBvZiB2ZXJ0aWNlc30gb2Ygb3VyIHtAbGluayBQbGFuZUdlb21ldHJ5fVxuICAgKiBAcmV0dXJucyAtIG91ciBwb3NpdGlvbiBhbmQgdXYge0BsaW5rIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcyB8IGF0dHJpYnV0ZXN9XG4gICAqL1xuICBnZXRJbmRleGVkVmVydGljZXNBbmRVVnModmVydGljZXNDb3VudDogR2VvbWV0cnlbJ3ZlcnRpY2VzQ291bnQnXSk6IFJlY29yZDxzdHJpbmcsIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcz4ge1xuICAgIC8vIGdlb21ldHJ5IHZlcnRpY2VzIGFuZCBVVnNcbiAgICBjb25zdCB1diA9IHtcbiAgICAgIG5hbWU6ICd1dicsXG4gICAgICB0eXBlOiAndmVjMmYnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngyJyxcbiAgICAgIHNpemU6IDIsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlc0NvdW50ICogMiksXG4gICAgfVxuXG4gICAgY29uc3QgcG9zaXRpb24gPSB7XG4gICAgICBuYW1lOiAncG9zaXRpb24nLFxuICAgICAgdHlwZTogJ3ZlYzNmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXG4gICAgICAvLyBuYiBvZiB0cmlhbmdsZXMgKiAzIHZlcnRpY2VzIHBlciB0cmlhbmdsZSAqIDMgY29vcmRpbmF0ZXMgcGVyIHRyaWFuZ2xlXG4gICAgICBzaXplOiAzLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXNDb3VudCAqIDMpLFxuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbCA9IHtcbiAgICAgIG5hbWU6ICdub3JtYWwnLFxuICAgICAgdHlwZTogJ3ZlYzNmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXG4gICAgICAvLyBuYiBvZiB0cmlhbmdsZXMgKiAzIHZlcnRpY2VzIHBlciB0cmlhbmdsZSAqIDMgY29vcmRpbmF0ZXMgcGVyIHRyaWFuZ2xlXG4gICAgICBzaXplOiAzLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXNDb3VudCAqIDMpLFxuICAgIH1cblxuICAgIGxldCBwb3NpdGlvbk9mZnNldCA9IDBcbiAgICBsZXQgbm9ybWFsT2Zmc2V0ID0gMFxuICAgIGxldCB1dk9mZnNldCA9IDBcblxuICAgIC8vIHRoaXMgaXMgaG93IGl0IHdpbGwgbG9vayBmb3IgYSAzeDIgcXVhZFxuICAgIC8vIGluZGV4aW5nIHdpbGwgdGFrZSBjYXJlIG9mIGRyYXdpbmcgdGhlIHJpZ2h0IHZlcnRpY2VzIGF0IHRoZSByaWdodCB0aW1lXG4gICAgLy8gMC0tLTEtLS0yLS0tM1xuICAgIC8vIHwgLy98IC8vfCAvL3xcbiAgICAvLyB8Ly8gfC8vIHwvLyB8XG4gICAgLy8gNC0tLTUtLS02LS0tN1xuICAgIC8vIHwgLy98IC8vfCAvL3xcbiAgICAvLyB8Ly8gfC8vIHwvLyB8XG4gICAgLy8gOC0tLTktLS0xMC0tMTFcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IHRoaXMuZGVmaW5pdGlvbi5oZWlnaHQ7IHkrKykge1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gdGhpcy5kZWZpbml0aW9uLndpZHRoOyB4KyspIHtcbiAgICAgICAgLy8gdXZcbiAgICAgICAgdXYuYXJyYXlbdXZPZmZzZXQrK10gPSB4IC8gdGhpcy5kZWZpbml0aW9uLndpZHRoXG4gICAgICAgIHV2LmFycmF5W3V2T2Zmc2V0KytdID0gMSAtIHkgLyB0aGlzLmRlZmluaXRpb24uaGVpZ2h0XG5cbiAgICAgICAgLy8gdmVydGV4IHBvc2l0aW9uXG4gICAgICAgIHBvc2l0aW9uLmFycmF5W3Bvc2l0aW9uT2Zmc2V0KytdID0gKHggKiAyKSAvIHRoaXMuZGVmaW5pdGlvbi53aWR0aCAtIDFcbiAgICAgICAgcG9zaXRpb24uYXJyYXlbcG9zaXRpb25PZmZzZXQrK10gPSAoeSAqIDIpIC8gdGhpcy5kZWZpbml0aW9uLmhlaWdodCAtIDFcbiAgICAgICAgcG9zaXRpb24uYXJyYXlbcG9zaXRpb25PZmZzZXQrK10gPSAwXG5cbiAgICAgICAgLy8gbm9ybWFscyBhcmUgc2ltcGxlXG4gICAgICAgIG5vcm1hbC5hcnJheVtub3JtYWxPZmZzZXQrK10gPSAwXG4gICAgICAgIG5vcm1hbC5hcnJheVtub3JtYWxPZmZzZXQrK10gPSAwXG4gICAgICAgIG5vcm1hbC5hcnJheVtub3JtYWxPZmZzZXQrK10gPSAxXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcG9zaXRpb24sIHV2LCBub3JtYWwgfSBhcyBSZWNvcmQ8c3RyaW5nLCBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXM+XG4gIH1cbn1cbiIsImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi9NYXRlcmlhbCdcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uL2JpbmRHcm91cHMvQmluZEdyb3VwJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHtcbiAgQWxsb3dlZEdlb21ldHJpZXMsXG4gIFJlbmRlck1hdGVyaWFsQXR0cmlidXRlcyxcbiAgUmVuZGVyTWF0ZXJpYWxPcHRpb25zLFxuICBSZW5kZXJNYXRlcmlhbFBhcmFtcyxcbiAgUmVuZGVyTWF0ZXJpYWxSZW5kZXJpbmdPcHRpb25zXG59IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcbmltcG9ydCB7IFJlbmRlclBpcGVsaW5lRW50cnkgfSBmcm9tICcuLi9waXBlbGluZXMvUmVuZGVyUGlwZWxpbmVFbnRyeSdcbmltcG9ydCB7IFJlbmRlclBpcGVsaW5lRW50cnlQYXJhbXMgfSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5pbXBvcnQgeyB0aHJvd1dhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcblxuLyoqXG4gKiBDcmVhdGUgYSB7QGxpbmsgTWF0ZXJpYWx9IHNwZWNpZmljYWxseSBidWlsdCB0byBkcmF3IHRoZSB2ZXJ0aWNlcyBvZiBhIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0uIEludGVybmFsbHkgdXNlZCBieSBhbGwga2luZCBvZiBNZXNoZXMuXG4gKlxuICogIyMgUmVuZGVyIHBpcGVsaW5lXG4gKlxuICogQSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fS4gT25jZSBhbGwgdGhlIHtAbGluayBCaW5kR3JvdXB9IGhhdmUgYmVlbiBjcmVhdGVkLCB0aGV5IGFyZSBzZW50IHdpdGggdGhlIHNoYWRlcnMgY29kZSBhbmQgdGhlIHtAbGluayBSZW5kZXJNYXRlcmlhbE9wdGlvbnMjcmVuZGVyaW5nIHwgcmVuZGVyaW5nIG9wdGlvbnN9IHRvIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0sIHdoaWNoIGlzIGluIHR1cm5zIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lfS5cbiAqXG4gKiBBZnRlciB0aGUge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lfSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgY29tcGlsZWQsIHRoZSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IGlzIGNvbnNpZGVyZWQgdG8gYmUgcmVhZHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZW5kZXJNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFsIHtcbiAgLyoqIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5IHwgUmVuZGVyIHBpcGVsaW5lIGVudHJ5fSB1c2VkIGJ5IHRoaXMge0BsaW5rIFJlbmRlck1hdGVyaWFsfSAqL1xuICBwaXBlbGluZUVudHJ5OiBSZW5kZXJQaXBlbGluZUVudHJ5XG4gIC8qKiBNYW5kYXRvcnkge0BsaW5rIFJlbmRlck1hdGVyaWFsQXR0cmlidXRlcyB8IGdlb21ldHJ5IGF0dHJpYnV0ZXN9IHRvIHBhc3MgdG8gdGhlIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5IHwgcmVuZGVyIHBpcGVsaW5lIGVudHJ5fSAqL1xuICBhdHRyaWJ1dGVzOiBSZW5kZXJNYXRlcmlhbEF0dHJpYnV0ZXMgfCBudWxsXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlck1hdGVyaWFsfSAqL1xuICBvcHRpb25zOiBSZW5kZXJNYXRlcmlhbE9wdGlvbnNcblxuICAvKipcbiAgICogUmVuZGVyTWF0ZXJpYWwgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gb3VyIHJlbmRlcmVyIGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJNYXRlcmlhbFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBSZW5kZXJNYXRlcmlhbFxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnM6IFJlbmRlck1hdGVyaWFsUGFyYW1zKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBjb25zdCB0eXBlID0gJ1JlbmRlck1hdGVyaWFsJ1xuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdHlwZSlcblxuICAgIHN1cGVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGNvbnN0IHsgc2hhZGVycywgbGFiZWwsIHVzZUFzeW5jUGlwZWxpbmUsIHVuaWZvcm1zLCBzdG9yYWdlcywgYmluZEdyb3VwcywgLi4ucmVuZGVyaW5nT3B0aW9ucyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgaWYgKCFzaGFkZXJzLnZlcnRleC5lbnRyeVBvaW50KSB7XG4gICAgICBzaGFkZXJzLnZlcnRleC5lbnRyeVBvaW50ID0gJ21haW4nXG4gICAgfVxuXG4gICAgaWYgKCFzaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQpIHtcbiAgICAgIHNoYWRlcnMuZnJhZ21lbnQuZW50cnlQb2ludCA9ICdtYWluJ1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIHNoYWRlcnMsXG4gICAgICByZW5kZXJpbmc6IHJlbmRlcmluZ09wdGlvbnMsXG4gICAgfSBhcyBSZW5kZXJNYXRlcmlhbE9wdGlvbnNcblxuICAgIHRoaXMucGlwZWxpbmVFbnRyeSA9IHRoaXMucmVuZGVyZXIucGlwZWxpbmVNYW5hZ2VyLmNyZWF0ZVJlbmRlclBpcGVsaW5lKHtcbiAgICAgIHJlbmRlcmVyOiB0aGlzLnJlbmRlcmVyLFxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgcmVuZGVyIHBpcGVsaW5lJyxcbiAgICAgIHNoYWRlcnM6IHRoaXMub3B0aW9ucy5zaGFkZXJzLFxuICAgICAgdXNlQXN5bmM6IHRoaXMub3B0aW9ucy51c2VBc3luY1BpcGVsaW5lLFxuICAgICAgLi4udGhpcy5vcHRpb25zLnJlbmRlcmluZyxcbiAgICB9IGFzIFJlbmRlclBpcGVsaW5lRW50cnlQYXJhbXMpXG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsXG4gIH1cblxuICAvKipcbiAgICogV2hlbiBhbGwgYmluZCBncm91cHMgYW5kIGF0dHJpYnV0ZXMgYXJlIGNyZWF0ZWQsIGFkZCB0aGVtIHRvIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX1cbiAgICovXG4gIHNldFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMucGlwZWxpbmVFbnRyeS5zZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcyh7XG4gICAgICBhdHRyaWJ1dGVzOiB0aGlzLmF0dHJpYnV0ZXMsXG4gICAgICBiaW5kR3JvdXBzOiB0aGlzLmJpbmRHcm91cHMsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX1cbiAgICogQGFzeW5jXG4gICAqL1xuICBhc3luYyBjb21waWxlUGlwZWxpbmVFbnRyeSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLnBpcGVsaW5lRW50cnkuY29tcGlsZVBpcGVsaW5lRW50cnkoKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGF0dHJpYnV0ZXMgYW5kIGFsbCBiaW5kIGdyb3VwcyBhcmUgcmVhZHksIGNyZWF0ZSB0aGVtIGlmIG5lZWRlZCBhbmQgc2V0IHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSBiaW5kIGdyb3VwIGJ1ZmZlcnMgYW5kIGNvbXBpbGUgdGhlIHBpcGVsaW5lXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZU1hdGVyaWFsKCkge1xuICAgIHN1cGVyLmNvbXBpbGVNYXRlcmlhbCgpXG5cbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzICYmIHRoaXMucGlwZWxpbmVFbnRyeSAmJiB0aGlzLnBpcGVsaW5lRW50cnkuY2FuQ29tcGlsZSkge1xuICAgICAgdGhpcy5zZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcygpXG4gICAgICBhd2FpdCB0aGlzLmNvbXBpbGVQaXBlbGluZUVudHJ5KClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG9yIHJlc2V0IG9uZSBvZiB0aGUge0BsaW5rIFJlbmRlck1hdGVyaWFsUmVuZGVyaW5nT3B0aW9ucyB8IHJlbmRlcmluZyBvcHRpb25zfS4gU2hvdWxkIGJlIHVzZSB3aXRoIGdyZWF0IGNhdXRpb24sIGJlY2F1c2UgaWYgdGhlIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5I3BpcGVsaW5lIHwgcmVuZGVyIHBpcGVsaW5lfSBoYXMgYWxyZWFkeSBiZWVuIGNvbXBpbGVkLCBpdCBjYW4gY2F1c2UgYSBwaXBlbGluZSBmbHVzaC5cbiAgICogQHBhcmFtIHJlbmRlcmluZ09wdGlvbnMgLSBuZXcge0BsaW5rIFJlbmRlck1hdGVyaWFsUmVuZGVyaW5nT3B0aW9ucyB8IHJlbmRlcmluZyBvcHRpb25zfSBwcm9wZXJ0aWVzIHRvIGJlIHNldFxuICAgKi9cbiAgc2V0UmVuZGVyaW5nT3B0aW9ucyhyZW5kZXJpbmdPcHRpb25zOiBQYXJ0aWFsPFJlbmRlck1hdGVyaWFsUmVuZGVyaW5nT3B0aW9ucz4gPSB7fSkge1xuICAgIGNvbnN0IG5ld1Byb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhyZW5kZXJpbmdPcHRpb25zKS5maWx0ZXIoXG4gICAgICAoa2V5KSA9PiByZW5kZXJpbmdPcHRpb25zW2tleV0gIT09IHRoaXMub3B0aW9ucy5yZW5kZXJpbmdba2V5XVxuICAgIClcblxuICAgIHRoaXMub3B0aW9ucy5yZW5kZXJpbmcgPSB7IC4uLnRoaXMub3B0aW9ucy5yZW5kZXJpbmcsIC4uLnJlbmRlcmluZ09wdGlvbnMgfVxuXG4gICAgaWYgKHRoaXMucGlwZWxpbmVFbnRyeSkge1xuICAgICAgdGhpcy5waXBlbGluZUVudHJ5Lm9wdGlvbnMgPSB7IC4uLnRoaXMucGlwZWxpbmVFbnRyeS5vcHRpb25zLCAuLi50aGlzLm9wdGlvbnMucmVuZGVyaW5nIH1cblxuICAgICAgaWYgKHRoaXMucGlwZWxpbmVFbnRyeS5yZWFkeSAmJiBuZXdQcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICB0aHJvd1dhcm5pbmcoXG4gICAgICAgICAgYCR7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubGFiZWxcbiAgICAgICAgICB9OiB0aGUgY2hhbmdlIG9mIHJlbmRlcmluZyBvcHRpb25zIGlzIGNhdXNpbmcgdGhpcyBSZW5kZXJNYXRlcmlhbCBwaXBlbGluZSB0byBiZSBmbHVzaGVkIGFuZCByZWNvbXBpbGVkLiBUaGlzIHNob3VsZCBiZSBhdm9pZGVkLiBSZW5kZXJpbmcgb3B0aW9ucyB0aGF0IGNhdXNlZCB0aGlzOiB7ICR7bmV3UHJvcGVydGllc1xuICAgICAgICAgICAgLm1hcCgoa2V5KSA9PiBgXCIke2tleX1cIjogJHtyZW5kZXJpbmdPcHRpb25zW2tleV19YClcbiAgICAgICAgICAgIC5qb2luKCcsICcpfSB9YFxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5waXBlbGluZUVudHJ5LmZsdXNoUGlwZWxpbmVFbnRyeSh0aGlzLmJpbmRHcm91cHMpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyogQVRUUklCVVRFUyAqL1xuXG4gIC8qKlxuICAgKiBDb21wdXRlIGdlb21ldHJ5IGlmIG5lZWRlZCBhbmQgZ2V0IGFsbCB1c2VmdWwgZ2VvbWV0cnkgcHJvcGVydGllcyBuZWVkZWQgdG8gY3JlYXRlIGF0dHJpYnV0ZXMgYnVmZmVyc1xuICAgKiBAcGFyYW0gZ2VvbWV0cnkgLSB0aGUgZ2VvbWV0cnkgdG8gZHJhd1xuICAgKi9cbiAgc2V0QXR0cmlidXRlc0Zyb21HZW9tZXRyeShnZW9tZXRyeTogQWxsb3dlZEdlb21ldHJpZXMpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7XG4gICAgICB3Z3NsU3RydWN0RnJhZ21lbnQ6IGdlb21ldHJ5Lndnc2xTdHJ1Y3RGcmFnbWVudCxcbiAgICAgIHZlcnRleEJ1ZmZlcnM6IGdlb21ldHJ5LnZlcnRleEJ1ZmZlcnMsXG4gICAgfVxuICB9XG5cbiAgLyogQklORCBHUk9VUFMgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBiaW5kIGdyb3VwcyBpZiB0aGV5IG5lZWQgdG8gYmUgY3JlYXRlZCwgYnV0IGZpcnN0IGFkZCBDYW1lcmEgYmluZCBncm91cCBpZiBuZWVkZWRcbiAgICovXG4gIGNyZWF0ZUJpbmRHcm91cHMoKSB7XG4gICAgLy8gY2FtZXJhIGZpcnN0IVxuICAgIC8vIGlmICgodGhpcy5yZW5kZXJlciBhcyBDYW1lcmFSZW5kZXJlcikuY2FtZXJhQmluZEdyb3VwICYmIHRoaXMub3B0aW9ucy5yZW5kZXJpbmcudXNlUHJvamVjdGlvbikge1xuICAgIC8vICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goKHRoaXMucmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpLmNhbWVyYUJpbmRHcm91cClcbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBzdXBlci5jcmVhdGVCaW5kR3JvdXBzKClcblxuICAgIC8vIFRPRE8hIG5lZWQgdG8gY2hvc2Ugd2hldGhlciB3ZSBzaG91bGQgYWRkIHRoZSBjYW1lcmEgYmluZCBncm91cCBoZXJlXG4gICAgLy8gaW4gc3VjaCBjYXNlIHdlIG5lZWQgdG8gZmluZCBhIHdheSBub3QgdG8gYmluZCBpdCBpbnNpZGUgdGhlIHJlbmRlciBjYWxsXG4gICAgLy8gYmVjYXVzZSBpdCBpcyBhbHJlYWR5IGJvdW5kIGJ5IHRoZSBzY2VuZSBjbGFzcyBhdCBlYWNoIHJlbmRlciB0byBhdm9pZCBleHRyYSBXZWJHUFUgY29tbWFuZHNcbiAgICBjb25zdCBiaW5kR3JvdXBTdGFydEluZGV4ID0gdGhpcy5vcHRpb25zLnJlbmRlcmluZy51c2VQcm9qZWN0aW9uID8gMSA6IDBcblxuICAgIC8vIHRleHR1cmVzIGZpcnN0XG4gICAgaWYgKHRoaXMudGV4dHVyZXNCaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLnNldEluZGV4KHRoaXMuYmluZEdyb3Vwcy5sZW5ndGggKyBiaW5kR3JvdXBTdGFydEluZGV4KSAvLyBiaW5kR3JvdXAgMCBpcyBvdXIgcmVuZGVyZXIgY2FtZXJhXG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgIHRoaXMuYmluZEdyb3Vwcy5wdXNoKHRoaXMudGV4dHVyZXNCaW5kR3JvdXApXG4gICAgfVxuXG4gICAgLy8gdGhlbiB1bmlmb3Jtc1xuICAgIHRoaXMuaW5wdXRzQmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGlmIChiaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICAgIGJpbmRHcm91cC5zZXRJbmRleCh0aGlzLmJpbmRHcm91cHMubGVuZ3RoICsgYmluZEdyb3VwU3RhcnRJbmRleClcbiAgICAgICAgYmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuc3RydWN0IFZlcnRleE91dHB1dCB7XG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNGYsXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXG59O1xuXG5AdmVydGV4IGZuIG1haW4oXG4gIGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXMsXG4pIC0+IFZlcnRleE91dHB1dCB7XG4gIHZhciB2c091dHB1dDogVmVydGV4T3V0cHV0O1xuXG4gIHZzT3V0cHV0LnBvc2l0aW9uID0gdmVjNGYoYXR0cmlidXRlcy5wb3NpdGlvbiwgMS4wKTtcbiAgdnNPdXRwdXQudXYgPSBhdHRyaWJ1dGVzLnV2O1xuICBcbiAgcmV0dXJuIHZzT3V0cHV0O1xufWBcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuQGZyYWdtZW50IGZuIG1haW4oKSAtPiBAbG9jYXRpb24oMCkgdmVjNGYge1xuICByZXR1cm4gdmVjNCgwLjAsIDAuMCwgMC4wLCAxLjApO1xufWBcbiIsImltcG9ydCB7IGdlbmVyYXRlVVVJRCwgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFJlbmRlck1hdGVyaWFsIH0gZnJvbSAnLi4vLi4vbWF0ZXJpYWxzL1JlbmRlck1hdGVyaWFsJ1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uLy4uL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBHZW9tZXRyeSB9IGZyb20gJy4uLy4uL2dlb21ldHJpZXMvR2VvbWV0cnknXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUGFyYW1zIH0gZnJvbSAnLi4vLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcbmltcG9ydCB7IEV4dGVybmFsVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmVudCB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL1RleHR1cmVzJ1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vLi4vcmVuZGVyUGFzc2VzL1JlbmRlclRhcmdldCdcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBQcm9qZWN0ZWRNZXNoIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL0dQVVJlbmRlcmVyJ1xuaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuLi8uLi9tYXRlcmlhbHMvTWF0ZXJpYWwnXG5pbXBvcnQgeyBET01FbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSAnLi4vLi4vRE9NL0RPTUVsZW1lbnQnXG5pbXBvcnQgeyBBbGxvd2VkR2VvbWV0cmllcywgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gJy4uLy4uL29iamVjdHMzRC9PYmplY3QzRCdcbmltcG9ydCB7IFByb2plY3RlZE1lc2hCYXNlQ2xhc3MgfSBmcm9tICcuL1Byb2plY3RlZE1lc2hCYXNlTWl4aW4nXG5pbXBvcnQgZGVmYXVsdF92c1dnc2wgZnJvbSAnLi4vLi4vc2hhZGVycy9jaHVua3MvZGVmYXVsdF92cy53Z3NsJ1xuaW1wb3J0IGRlZmF1bHRfZnNXZ3NsIGZyb20gJy4uLy4uL3NoYWRlcnMvY2h1bmtzL2RlZmF1bHRfZnMud2dzbCdcbi8vaW1wb3J0IHsgVHJhbnNmb3JtZWRPYmplY3QzRCB9IGZyb20gJy4vUHJvamVjdGVkTWVzaEJhc2VNaXhpbidcblxubGV0IG1lc2hJbmRleCA9IDBcblxuZXhwb3J0IGludGVyZmFjZSBNZXNoQmFzZVJlbmRlclBhcmFtcyBleHRlbmRzIFJlbmRlck1hdGVyaWFsUGFyYW1zIHtcbiAgLyoqIFdoZXRoZXIgd2Ugc2hvdWxkIGFkZCB0aGlzIE1lc2ggdG8gb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSB0byBsZXQgaXQgaGFuZGxlIHRoZSByZW5kZXJpbmcgcHJvY2VzcyBhdXRvbWF0aWNhbGx5ICovXG4gIGF1dG9SZW5kZXI/OiBib29sZWFuXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0byBkcmF3IHRoaXMgTWVzaCBvciBub3QgKi9cbiAgdmlzaWJsZT86IGJvb2xlYW5cbiAgLyoqIENvbnRyb2xzIHRoZSBvcmRlciBpbiB3aGljaCB0aGlzIE1lc2ggc2hvdWxkIGJlIHJlbmRlcmVkIGJ5IG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gKi9cbiAgcmVuZGVyT3JkZXI/OiBudW1iZXJcbiAgLyoqIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIHJlbmRlciB0aGlzIE1lc2ggdG8gKi9cbiAgcmVuZGVyVGFyZ2V0PzogUmVuZGVyVGFyZ2V0XG4gIC8qKiBQYXJhbWV0ZXJzIHVzZWQgYnkgdGhpcyBNZXNoIHRvIGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSAqL1xuICB0ZXh0dXJlc09wdGlvbnM/OiBFeHRlcm5hbFRleHR1cmVQYXJhbXNcbn1cblxuLyoqXG4gKiBCYXNlIHBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSBNZXNoXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVzaEJhc2VQYXJhbXMgZXh0ZW5kcyBNZXNoQmFzZVJlbmRlclBhcmFtcyB7XG4gIC8qKiBHZW9tZXRyeSB0byB1c2UgKi9cbiAgZ2VvbWV0cnk6IEFsbG93ZWRHZW9tZXRyaWVzXG59XG5cbi8qKlxuICogIEJhc2Ugb3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIE1lc2hcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNoQmFzZU9wdGlvbnMge1xuICAvKiogVGhlIGxhYmVsIG9mIHRoaXMgTWVzaCwgc2VudCB0byB2YXJpb3VzIEdQVSBvYmplY3RzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbD86IE1lc2hCYXNlUGFyYW1zWydsYWJlbCddXG4gIC8qKiBTaGFkZXJzIHRvIHVzZSBieSB0aGlzIE1lc2gge0BsaW5rIFJlbmRlck1hdGVyaWFsfSAqL1xuICBzaGFkZXJzPzogTWVzaEJhc2VQYXJhbXNbJ3NoYWRlcnMnXVxuICAvKiogUGFyYW1ldGVycyB1c2VkIGJ5IHRoaXMgTWVzaCB0byBjcmVhdGUgYSB7QGxpbmsgVGV4dHVyZX0gKi9cbiAgdGV4dHVyZXNPcHRpb25zPzogRXh0ZXJuYWxUZXh0dXJlUGFyYW1zXG4gIC8qKiB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byByZW5kZXIgdGhpcyBNZXNoIHRvLCBpZiBhbnkgKi9cbiAgcmVuZGVyVGFyZ2V0PzogUmVuZGVyVGFyZ2V0IHwgbnVsbFxuICAvKiogV2hldGhlciB3ZSBzaG91bGQgYWRkIHRoaXMgTWVzaCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbiAgLyoqIFdoZXRoZXIgdG8gY29tcGlsZSB0aGlzIE1lc2gge0BsaW5rIFJlbmRlck1hdGVyaWFsfSB7QGxpbmsgY29yZS9waXBlbGluZXMvUmVuZGVyUGlwZWxpbmVFbnRyeS5SZW5kZXJQaXBlbGluZUVudHJ5I3BpcGVsaW5lIHwgcmVuZGVyIHBpcGVsaW5lfSBhc3luY2hyb25vdXNseSBvciBub3QgKi9cbiAgdXNlQXN5bmNQaXBlbGluZT86IGJvb2xlYW5cbn1cblxuLyoqIEBjb25zdCAtIERlZmF1bHQgTWVzaCBwYXJhbWV0ZXJzIHRvIG1lcmdlIHdpdGggdXNlciBkZWZpbmVkIHBhcmFtZXRlcnMgKi9cbmNvbnN0IGRlZmF1bHRNZXNoQmFzZVBhcmFtczogTWVzaEJhc2VQYXJhbXMgPSB7XG4gIC8vIGdlb21ldHJ5XG4gIGdlb21ldHJ5OiBuZXcgR2VvbWV0cnkoKSxcbiAgLy8gbWF0ZXJpYWxcbiAgc2hhZGVyczoge30sXG4gIGF1dG9SZW5kZXI6IHRydWUsXG4gIHVzZVByb2plY3Rpb246IGZhbHNlLFxuICAvLyByZW5kZXJpbmdcbiAgY3VsbE1vZGU6ICdiYWNrJyxcbiAgZGVwdGg6IHRydWUsXG4gIGRlcHRoV3JpdGVFbmFibGVkOiB0cnVlLFxuICBkZXB0aENvbXBhcmU6ICdsZXNzJyxcbiAgdHJhbnNwYXJlbnQ6IGZhbHNlLFxuICB2aXNpYmxlOiB0cnVlLFxuICByZW5kZXJPcmRlcjogMCxcbiAgLy8gdGV4dHVyZXNcbiAgdGV4dHVyZXNPcHRpb25zOiB7fSxcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzc1NjczMTA3LzEzMzU0MDY4XG4vLyB3ZSBkZWNsYXJlIGZpcnN0IGEgY2xhc3MsIGFuZCB0aGVuIHRoZSBtaXhpbiB3aXRoIGEgcmV0dXJuIHR5cGVcbi8qKlxuICogVGhpcyBjbGFzcyBkZXNjcmliZXMgdGhlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gc2V0IHVwIGEgYmFzaWMgTWVzaCwgaW1wbGVtZW50ZWQgaW4gdGhlIHtAbGluayBNZXNoQmFzZU1peGlufTpcbiAqIC0gU2V0IGFuZCByZW5kZXIgdGhlIHtAbGluayBHZW9tZXRyeX0gYW5kIHtAbGluayBSZW5kZXJNYXRlcmlhbH1cbiAqIC0gQWRkIGhlbHBlcnMgdG8gY3JlYXRlIHtAbGluayBUZXh0dXJlfSBhbmQge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gKiAtIEhhbmRsZSByZXNpemluZywgZGV2aWNlIGxvc3QvcmVzdG9yYXRpb24gYW5kIGRlc3Ryb3lpbmcgdGhlIHJlc291cmNlc1xuICovXG5leHBvcnQgZGVjbGFyZSBjbGFzcyBNZXNoQmFzZUNsYXNzIHtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgTWVzaEJhc2VDbGFzc30gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBUaGUgdW5pdmVyc2FsIHVuaXF1ZSBpZCBvZiB0aGUge0BsaW5rIE1lc2hCYXNlQ2xhc3N9ICovXG4gIHJlYWRvbmx5IHV1aWQ6IHN0cmluZ1xuICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30sIGkuZS4gY3JlYXRpb24gb3JkZXIgKi9cbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlclxuICAvKiogVGhlIHtAbGluayBSZW5kZXJlcn0gdXNlZCAqL1xuICByZW5kZXJlcjogUmVuZGVyZXJcblxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSAqL1xuICBvcHRpb25zOiBNZXNoQmFzZU9wdGlvbnNcblxuICAvKioge0BsaW5rIFJlbmRlck1hdGVyaWFsfSB1c2VkIGJ5IHRoaXMge0BsaW5rIE1lc2hCYXNlQ2xhc3N9ICovXG4gIG1hdGVyaWFsOiBSZW5kZXJNYXRlcmlhbFxuICAvKioge0BsaW5rIEFsbG93ZWRHZW9tZXRyaWVzIHwgR2VvbWV0cnl9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30gKi9cbiAgZ2VvbWV0cnk6IE1lc2hCYXNlUGFyYW1zWydnZW9tZXRyeSddXG5cbiAgLyoqIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIHJlbmRlciB0aGlzIE1lc2ggdG8sIGlmIGFueSAqL1xuICByZW5kZXJUYXJnZXQ6IG51bGwgfCBSZW5kZXJUYXJnZXRcblxuICAvKiogQ29udHJvbHMgdGhlIG9yZGVyIGluIHdoaWNoIHRoaXMge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IHNob3VsZCBiZSByZW5kZXJlZCBieSBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9ICovXG4gIHJlbmRlck9yZGVyOiBudW1iZXJcbiAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgdHJhbnNwYXJlbnQuIEltcGFjdHMgdGhlIHtAbGluayBjb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LlJlbmRlclBpcGVsaW5lRW50cnkjcGlwZWxpbmUgfCByZW5kZXIgcGlwZWxpbmV9IGJsZW5kIHByb3BlcnRpZXMgKi9cbiAgdHJhbnNwYXJlbnQ6IGJvb2xlYW5cblxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gZHJhdyB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSBvciBub3QgKi9cbiAgdmlzaWJsZTogYm9vbGVhblxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30gaXMgcmVhZHkgdG8gYmUgZHJhd24gKi9cbiAgX3JlYWR5OiBib29sZWFuXG5cbiAgLyoqIEVtcHR5IG9iamVjdCB0byBzdG9yZSBhbnkgYWRkaXRpb25hbCBkYXRhIG9yIGN1c3RvbSBwcm9wZXJ0aWVzIGludG8geW91ciBNZXNoLiAqL1xuICB1c2VyRGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cblxuICAvLyBjYWxsYmFja3NcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25SZWFkeX0gY2FsbGJhY2sgKi9cbiAgX29uUmVhZHlDYWxsYmFjazogKCkgPT4gdm9pZFxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkJlZm9yZVJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWRcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25SZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vblJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQWZ0ZXJSZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vbkFmdGVyUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWRcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlc2l6ZX0gY2FsbGJhY2sgKi9cbiAgX29uQWZ0ZXJSZXNpemVDYWxsYmFjazogKCkgPT4gdm9pZFxuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uUmVhZHlDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgTWVzaEJhc2VDbGFzc30gaXMgcmVhZHlcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgKi9cbiAgb25SZWFkeTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBNZXNoQmFzZUNsYXNzIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzc1xuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYmVmb3JlIHtAbGluayBNZXNoQmFzZUNsYXNzfSB3aWxsIGJlIHJlbmRlcmVkXG4gICAqIEByZXR1cm5zIC0gb3VyIE1lc2hcbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IE1lc2hCYXNlQ2xhc3MgfCBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25SZW5kZXJDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgTWVzaEJhc2VDbGFzc30gaXMgcmVuZGVyZWRcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgKi9cbiAgb25SZW5kZXI6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gTWVzaEJhc2VDbGFzcyB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcbiAgLyoqXG4gICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vbkFmdGVyUmVuZGVyQ2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYWZ0ZXIge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAqIEByZXR1cm5zIC0gb3VyIE1lc2hcbiAgICovXG4gIG9uQWZ0ZXJSZW5kZXI6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gTWVzaEJhc2VDbGFzcyB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcbiAgLyoqXG4gICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vbkJlZm9yZVJlbmRlckNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGFmdGVyIHtAbGluayBNZXNoQmFzZUNsYXNzfSBoYXMgYmVlbiByZXNpemVkXG4gICAqIEByZXR1cm5zIC0gb3VyIE1lc2hcbiAgICovXG4gIG9uQWZ0ZXJSZXNpemU6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gTWVzaEJhc2VDbGFzcyB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcblxuICAvKipcbiAgICoge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciB7QGxpbmsgUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gZWxlbWVudCAtIGEgRE9NIEhUTUwgRWxlbWVudCB0aGF0IGNhbiBiZSBib3VuZCB0byBhIE1lc2hcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgTWVzaEJhc2VQYXJhbXMgfCBNZXNoIGJhc2UgcGFyYW1ldGVyc31cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciwgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsLCBwYXJhbWV0ZXJzOiBNZXNoQmFzZVBhcmFtcylcblxuICAvKipcbiAgICogR2V0IHByaXZhdGUgI2F1dG9SZW5kZXIgdmFsdWVcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYXV0b1JlbmRlcigpOiBib29sZWFuIC8vIGFsbG93IHRvIHJlYWQgdmFsdWUgZnJvbSBjaGlsZCBjbGFzc2VzXG5cbiAgLyoqXG4gICAqIEdldC9zZXQgd2hldGhlciBhIE1lc2ggaXMgcmVhZHkgb3Igbm90XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW5cbiAgc2V0IHJlYWR5KHZhbHVlOiBib29sZWFuKVxuXG4gIC8qKlxuICAgKiBBZGQgYSBNZXNoIHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgYWRkVG9TY2VuZSgpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIE1lc2ggZnJvbSB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICovXG4gIHJlbW92ZUZyb21TY2VuZSgpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFNldCBhIG5ldyB7QGxpbmsgUmVuZGVyZXJ9IGZvciB0aGlzIE1lc2hcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gbmV3IHtAbGluayBSZW5kZXJlcn0gdG8gc2V0XG4gICAqL1xuICBzZXRSZW5kZXJlcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucyk6IHZvaWRcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBoYXMgYmVlbiBsb3N0IHRvIHByZXBhcmUgZXZlcnl0aGluZyBmb3IgcmVzdG9yYXRpb24uXG4gICAqIEJhc2ljYWxseSBzZXQgYWxsIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSB0byBudWxsIHNvIHRoZXkgd2lsbCBiZSByZXNldCBuZXh0IHRpbWUgd2UgdHJ5IHRvIGRyYXcgdGhlIE1lc2hcbiAgICovXG4gIGxvc2VDb250ZXh0KCk6IHZvaWRcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBoYXMgYmVlbiByZXN0b3JlZFxuICAgKi9cbiAgcmVzdG9yZUNvbnRleHQoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBTZXQgZGVmYXVsdCBzaGFkZXJzIGlmIG9uZSBvciBib3RoIG9mIHRoZW0gYXJlIG1pc3NpbmdcbiAgICovXG4gIHNldFNoYWRlcnMoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBNZXNoIGdlb21ldHJ5IGlmIG5lZWRlZFxuICAgKi9cbiAgY29tcHV0ZUdlb21ldHJ5KCk6IHZvaWRcblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSBNZXNoIEdlb21ldHJ5IHZlcnRleCBhbmQgaW5kZXggYnVmZmVycyBpZiBuZWVkZWRcbiAgICovXG4gIGNyZWF0ZUdlb21ldHJ5QnVmZmVycygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFNldCBvdXIgTWVzaCBnZW9tZXRyeTogY3JlYXRlIGJ1ZmZlcnMgYW5kIGFkZCBhdHRyaWJ1dGVzIHRvIG1hdGVyaWFsXG4gICAqL1xuICBzZXRHZW9tZXRyeSgpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFNldCBhIE1lc2ggdHJhbnNwYXJlbnQgcHJvcGVydHksIHRoZW4gc2V0IGl0cyBtYXRlcmlhbFxuICAgKiBAcGFyYW0gbWVzaFBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfCBSZW5kZXJNYXRlcmlhbCBwYXJhbWV0ZXJzfVxuICAgKi9cbiAgc2V0TWF0ZXJpYWwobWVzaFBhcmFtZXRlcnM6IFJlbmRlck1hdGVyaWFsUGFyYW1zKTogdm9pZFxuXG4gIC8qKlxuICAgKiBTZXQgTWVzaCBtYXRlcmlhbCBhdHRyaWJ1dGVzXG4gICAqL1xuICBzZXRNYXRlcmlhbEdlb21ldHJ5QXR0cmlidXRlcygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIFJlbmRlck1hdGVyaWFsI3RleHR1cmVzIHwgUmVuZGVyTWF0ZXJpYWwgdGV4dHVyZXMgYXJyYXl9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHRleHR1cmVzKCk6IFRleHR1cmVbXVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBSZW5kZXJNYXRlcmlhbCNyZW5kZXJUZXh0dXJlcyB8IFJlbmRlck1hdGVyaWFsIHJlbmRlciB0ZXh0dXJlcyBhcnJheX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyVGV4dHVyZXMoKTogUmVuZGVyVGV4dHVyZVtdXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgVGV4dHVyZX1cbiAgICogQHBhcmFtIG9wdGlvbnMgLSB7QGxpbmsgVGV4dHVyZVBhcmFtcyB8IFRleHR1cmUgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIFRleHR1cmVcbiAgICovXG4gIGNyZWF0ZVRleHR1cmUob3B0aW9uczogVGV4dHVyZVBhcmFtcyk6IFRleHR1cmVcblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBydW4gd2hlbiBhIG5ldyB7QGxpbmsgVGV4dHVyZX0gaGFzIGJlZW4gY3JlYXRlZFxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIG5ld2x5IGNyZWF0ZWQgVGV4dHVyZVxuICAgKi9cbiAgb25UZXh0dXJlQWRkZWQodGV4dHVyZTogVGV4dHVyZSk6IHZvaWRcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gIG9wdGlvbnMgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZVBhcmFtcyB8IFJlbmRlclRleHR1cmUgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIFJlbmRlclRleHR1cmVcbiAgICovXG4gIGNyZWF0ZVJlbmRlclRleHR1cmUob3B0aW9uczogUmVuZGVyVGV4dHVyZVBhcmFtcyk6IFJlbmRlclRleHR1cmVcblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0ge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlKVxuXG4gIC8qKlxuICAgKiBBc3NpZ24gb3IgcmVtb3ZlIGEge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gdGhpcyBNZXNoXG4gICAqIFNpbmNlIHRoaXMgbWFuaXB1bGF0ZXMgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSBzdGFja3MsIGl0IGNhbiBiZSB1c2VkIHRvIHJlbW92ZSBhIFJlbmRlclRhcmdldCBhcyB3ZWxsLlxuICAgKiBAcGFyYW0gcmVuZGVyVGFyZ2V0IC0gdGhlIFJlbmRlclRhcmdldCB0byBhc3NpZ24gb3IgbnVsbCBpZiB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgY3VycmVudCBSZW5kZXJUYXJnZXRcbiAgICovXG4gIHNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQ6IFJlbmRlclRhcmdldCB8IG51bGwpOiB2b2lkXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHVuaWZvcm1zXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHVuaWZvcm1zKCk6IE1hdGVyaWFsWyd1bmlmb3JtcyddXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHN0b3JhZ2VzXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHN0b3JhZ2VzKCk6IE1hdGVyaWFsWydzdG9yYWdlcyddXG5cbiAgLyoqXG4gICAqIFJlc2l6ZSB0aGUgTWVzaCdzIHRleHR1cmVzXG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3RcbiAgICovXG4gIHJlc2l6ZShib3VuZGluZ1JlY3Q/OiBET01FbGVtZW50Qm91bmRpbmdSZWN0KTogdm9pZFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIHJlbmRlcmluZyB0aGUgTWVzaFxuICAgKiBTZXQgdGhlIGdlb21ldHJ5IGlmIG5lZWRlZCAoY3JlYXRlIGJ1ZmZlcnMgYW5kIGFkZCBhdHRyaWJ1dGVzIHRvIHRoZSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9KVxuICAgKiBUaGVuIGV4ZWN1dGVzIHtAbGluayBSZW5kZXJNYXRlcmlhbCNvbkJlZm9yZVJlbmRlcn06IGNyZWF0ZSBpdHMgYmluZCBncm91cHMgYW5kIHBpcGVsaW5lIGlmIG5lZWRlZCBhbmQgZXZlbnR1YWxseSB1cGRhdGUgaXRzIHN0cnVjdFxuICAgKi9cbiAgb25CZWZvcmVSZW5kZXJQYXNzKCk6IHZvaWRcblxuICAvKipcbiAgICogUmVuZGVyIG91ciB7QGxpbmsgTWVzaEJhc2VDbGFzc30gaWYgdGhlIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gaXMgcmVhZHlcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzIGVuY29kZXJcbiAgICovXG4gIG9uUmVuZGVyUGFzcyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcik6IHZvaWRcblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIGhhdmluZyByZW5kZXJlZCB0aGUgTWVzaFxuICAgKi9cbiAgb25BZnRlclJlbmRlclBhc3MoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBSZW5kZXIgb3VyIE1lc2hcbiAgICogLSBFeGVjdXRlIHtAbGluayBvbkJlZm9yZVJlbmRlclBhc3N9XG4gICAqIC0gU3RvcCBoZXJlIGlmIHtAbGluayBSZW5kZXJlcn0gaXMgbm90IHJlYWR5IG9yIE1lc2ggaXMgbm90IHtAbGluayB2aXNpYmxlfVxuICAgKiAtIEV4ZWN1dGUgc3VwZXIgcmVuZGVyIGNhbGwgaWYgaXQgZXhpc3RzXG4gICAqIC0ge0BsaW5rIG9uUmVuZGVyUGFzcyB8IHJlbmRlcn0gb3VyIHtAbGluayBtYXRlcmlhbH0gYW5kIHtAbGluayBnZW9tZXRyeX1cbiAgICogLSBFeGVjdXRlIHtAbGluayBvbkFmdGVyUmVuZGVyUGFzc31cbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzIGVuY29kZXJcbiAgICovXG4gIHJlbmRlcihwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcik6IHZvaWRcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBNZXNoIGZyb20gdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSBhbmQgZGVzdHJveSBpdFxuICAgKi9cbiAgcmVtb3ZlKCk6IHZvaWRcblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgTWVzaFxuICAgKi9cbiAgZGVzdHJveSgpOiB2b2lkXG59XG5cbi8qKlxuICogVG8gZ2V0IHN0YXJ0ZWQsIHdlIG5lZWQgYSB0eXBlIHdoaWNoIHdlJ2xsIHVzZSB0byBleHRlbmRcbiAqIG90aGVyIGNsYXNzZXMgZnJvbS4gVGhlIG1haW4gcmVzcG9uc2liaWxpdHkgaXMgdG8gZGVjbGFyZVxuICogdGhhdCB0aGUgdHlwZSBiZWluZyBwYXNzZWQgaW4gaXMgYSBjbGFzcy5cbiAqIFdlIHVzZSBhIGdlbmVyaWMgdmVyc2lvbiB3aGljaCBjYW4gYXBwbHkgYSBjb25zdHJhaW50IG9uXG4gKiB0aGUgY2xhc3Mgd2hpY2ggdGhpcyBtaXhpbiBpcyBhcHBsaWVkIHRvXG4gKiBAdHlwZVBhcmFtIFQgLSB0aGUgYmFzZSBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgdHlwZSBNaXhpbkNvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUXG5cbi8qKlxuICogVXNlZCB0byBtaXggdGhlIGJhc2ljIE1lc2ggcHJvcGVydGllcyBhbmQgbWV0aG9kcyBkZWZpbmVkIGluIHtAbGluayBNZXNoQmFzZUNsYXNzfSAoYmFzaWNhbGx5LCBzZXQgYSB7QGxpbmsgR2VvbWV0cnl9IGFuZCBhIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gYW5kIHJlbmRlciB0aGVtLCBhZGQgaGVscGVycyB0byBjcmVhdGUge0BsaW5rIFRleHR1cmV9IGFuZCB7QGxpbmsgUmVuZGVyVGV4dHVyZX0pIHdpdGggYSBnaXZlbiBCYXNlIG9mIHR5cGUge0BsaW5rIE9iamVjdDNEfSwge0BsaW5rIGNvcmUvb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNELlByb2plY3RlZE9iamVjdDNEIHwgUHJvamVjdGVkT2JqZWN0M0R9LCB7QGxpbmsgY3VydGFpbnMvb2JqZWN0czNEL0RPTU9iamVjdDNELkRPTU9iamVjdDNEIHwgRE9NT2JqZWN0M0R9IG9yIGFuIGVtcHR5IGNsYXNzLlxuICogQGV4cG9ydHMgTWVzaEJhc2VNaXhpblxuICogQHBhcmFtIEJhc2UgLSB0aGUgY2xhc3MgdG8gbWl4IG9udG9cbiAqIEByZXR1cm5zIC0gdGhlIG1peGVkIGNsYXNzZXMsIGNyZWF0aW5nIGEgYmFzaWMgTWVzaC5cbiAqL1xuZnVuY3Rpb24gTWVzaEJhc2VNaXhpbjxUQmFzZSBleHRlbmRzIE1peGluQ29uc3RydWN0b3I+KEJhc2U6IFRCYXNlKTogTWl4aW5Db25zdHJ1Y3RvcjxNZXNoQmFzZUNsYXNzPiAmIFRCYXNlIHtcbiAgLyoqXG4gICAqIE1lc2hCYXNlIGRlZmluZXMgb3VyIGJhc2UgcHJvcGVydGllcyBhbmQgbWV0aG9kc1xuICAgKi9cbiAgcmV0dXJuIGNsYXNzIE1lc2hCYXNlIGV4dGVuZHMgQmFzZSBpbXBsZW1lbnRzIE1lc2hCYXNlQ2xhc3Mge1xuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIE1lc2hCYXNlfSAqL1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIC8qKiBUaGUgdW5pdmVyc2FsIHVuaXF1ZSBpZCBvZiB0aGUge0BsaW5rIE1lc2hCYXNlfSAqL1xuICAgIHJlYWRvbmx5IHV1aWQ6IHN0cmluZ1xuICAgIC8qKiBJbmRleCBvZiB0aGlzIHtAbGluayBNZXNoQmFzZX0sIGkuZS4gY3JlYXRpb24gb3JkZXIgKi9cbiAgICByZWFkb25seSBpbmRleDogbnVtYmVyXG4gICAgLyoqIFRoZSB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgKi9cbiAgICByZW5kZXJlcjogUmVuZGVyZXJcblxuICAgIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIE1lc2hCYXNlfSAqL1xuICAgIG9wdGlvbnM6IE1lc2hCYXNlT3B0aW9uc1xuXG4gICAgLyoqIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gdXNlZCBieSB0aGlzIHtAbGluayBNZXNoQmFzZX0gKi9cbiAgICBtYXRlcmlhbDogUmVuZGVyTWF0ZXJpYWxcbiAgICAvKioge0BsaW5rIEFsbG93ZWRHZW9tZXRyaWVzIHwgR2VvbWV0cnl9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWVzaEJhc2V9ICovXG4gICAgZ2VvbWV0cnk6IE1lc2hCYXNlUGFyYW1zWydnZW9tZXRyeSddXG5cbiAgICAvKioge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gcmVuZGVyIHRoaXMgTWVzaCB0bywgaWYgYW55ICovXG4gICAgcmVuZGVyVGFyZ2V0OiBudWxsIHwgUmVuZGVyVGFyZ2V0XG5cbiAgICAvKiogQ29udHJvbHMgdGhlIG9yZGVyIGluIHdoaWNoIHRoaXMge0BsaW5rIE1lc2hCYXNlfSBzaG91bGQgYmUgcmVuZGVyZWQgYnkgb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSAqL1xuICAgIHJlbmRlck9yZGVyOiBudW1iZXJcbiAgICAvKiogV2hldGhlciB0aGlzIHtAbGluayBNZXNoQmFzZX0gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgdHJhbnNwYXJlbnQuIEltcGFjdHMgdGhlIHtAbGluayBjb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LlJlbmRlclBpcGVsaW5lRW50cnkjcGlwZWxpbmUgfCByZW5kZXIgcGlwZWxpbmV9IGJsZW5kIHByb3BlcnRpZXMgKi9cbiAgICB0cmFuc3BhcmVudDogYm9vbGVhblxuXG4gICAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRvIGRyYXcgdGhpcyB7QGxpbmsgTWVzaEJhc2V9IG9yIG5vdCAqL1xuICAgIHZpc2libGU6IGJvb2xlYW5cbiAgICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyB7QGxpbmsgTWVzaEJhc2V9IGlzIHJlYWR5IHRvIGJlIGRyYXduICovXG4gICAgX3JlYWR5OiBib29sZWFuXG5cbiAgICAvKiogRW1wdHkgb2JqZWN0IHRvIHN0b3JlIGFueSBhZGRpdGlvbmFsIGRhdGEgb3IgY3VzdG9tIHByb3BlcnRpZXMgaW50byB5b3VyIHtAbGluayBNZXNoQmFzZX0uICovXG4gICAgdXNlckRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG5cbiAgICAvKiogV2hldGhlciB3ZSBzaG91bGQgYWRkIHRoaXMge0BsaW5rIE1lc2hCYXNlfSB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgICAjYXV0b1JlbmRlciA9IHRydWVcblxuICAgIC8vIGNhbGxiYWNrcyAvIGV2ZW50c1xuICAgIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uUmVhZHl9IGNhbGxiYWNrICovXG4gICAgX29uUmVhZHlDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gICAgfVxuICAgIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQmVmb3JlUmVuZGVyfSBjYWxsYmFjayAqL1xuICAgIF9vbkJlZm9yZVJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICB9XG4gICAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25SZW5kZXJ9IGNhbGxiYWNrICovXG4gICAgX29uUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgIH1cbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkFmdGVyUmVuZGVyfSBjYWxsYmFjayAqL1xuICAgIF9vbkFmdGVyUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgIH1cbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkFmdGVyUmVzaXplfSBjYWxsYmFjayAqL1xuICAgIF9vbkFmdGVyUmVzaXplQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lc2hCYXNlIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiBNZXNoQmFzZUFycmF5UGFyYW1zXG4gICAgICogQHR5cGUge2FycmF5fVxuICAgICAqIEBwcm9wZXJ0eSB7KFJlbmRlcmVyfEdQVUN1cnRhaW5zKX0gMCAtIG91ciB7QGxpbmsgUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxuICAgICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xIVE1MRWxlbWVudHxudWxsKX0gMSAtIGEgRE9NIEhUTUwgRWxlbWVudCB0aGF0IGNhbiBiZSBib3VuZCB0byBhIE1lc2hcbiAgICAgKiBAcHJvcGVydHkge01lc2hCYXNlUGFyYW1zfSAyIC0ge0BsaW5rIE1lc2hCYXNlUGFyYW1zIHwgTWVzaCBiYXNlIHBhcmFtZXRlcnN9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc2hCYXNlQXJyYXlQYXJhbXN9IHBhcmFtcyAtIG91ciBNZXNoQmFzZU1peGluIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5wYXJhbXM6IGFueVtdKSB7XG4gICAgICBzdXBlcihcbiAgICAgICAgcGFyYW1zWzBdIGFzIFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXG4gICAgICAgIHBhcmFtc1sxXSBhcyBIVE1MRWxlbWVudCB8IHN0cmluZyB8IG51bGwsXG4gICAgICAgIHsgLi4uZGVmYXVsdE1lc2hCYXNlUGFyYW1zLCAuLi5wYXJhbXNbMl0gfSBhcyBNZXNoQmFzZVBhcmFtc1xuICAgICAgKVxuXG4gICAgICBsZXQgcmVuZGVyZXIgPSBwYXJhbXNbMF1cbiAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB7IC4uLmRlZmF1bHRNZXNoQmFzZVBhcmFtcywgLi4ucGFyYW1zWzJdIH1cblxuICAgICAgdGhpcy50eXBlID0gJ01lc2hCYXNlJ1xuXG4gICAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMgYXMgTWVzaEJhc2UsICdpbmRleCcsIHsgdmFsdWU6IG1lc2hJbmRleCsrIH0pXG5cbiAgICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyAnICsgdGhpcy50eXBlIDogdGhpcy50eXBlKVxuXG4gICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcblxuICAgICAgY29uc3Qge1xuICAgICAgICBsYWJlbCxcbiAgICAgICAgc2hhZGVycyxcbiAgICAgICAgZ2VvbWV0cnksXG4gICAgICAgIHZpc2libGUsXG4gICAgICAgIHJlbmRlck9yZGVyLFxuICAgICAgICByZW5kZXJUYXJnZXQsXG4gICAgICAgIHRleHR1cmVzT3B0aW9ucyxcbiAgICAgICAgYXV0b1JlbmRlcixcbiAgICAgICAgLi4ubWVzaFBhcmFtZXRlcnNcbiAgICAgIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICAgIC8vIHNldCBkZWZhdWx0IHNhbXBsZSBjb3VudFxuICAgICAgbWVzaFBhcmFtZXRlcnMuc2FtcGxlQ291bnQgPVxuICAgICAgICBtZXNoUGFyYW1ldGVycy5zYW1wbGVDb3VudCA/PyAodGhpcy5yZW5kZXJlciAmJiB0aGlzLnJlbmRlcmVyLnJlbmRlclBhc3MpXG4gICAgICAgICAgPyB0aGlzLnJlbmRlcmVyLnJlbmRlclBhc3Mub3B0aW9ucy5zYW1wbGVDb3VudFxuICAgICAgICAgIDogMVxuXG4gICAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAgIC4uLih0aGlzLm9wdGlvbnMgPz8ge30pLCAvLyBtZXJnZSBwb3NzaWJsZSBsb3dlciBvcHRpb25zP1xuICAgICAgICBsYWJlbDogbGFiZWwgPz8gJ01lc2ggJyArIHRoaXMucmVuZGVyZXIubWVzaGVzLmxlbmd0aCxcbiAgICAgICAgc2hhZGVycyxcbiAgICAgICAgdGV4dHVyZXNPcHRpb25zLFxuICAgICAgICAuLi4ocmVuZGVyVGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgeyByZW5kZXJUYXJnZXQgfSksXG4gICAgICAgIC4uLihhdXRvUmVuZGVyICE9PSB1bmRlZmluZWQgJiYgeyBhdXRvUmVuZGVyIH0pLFxuICAgICAgICAuLi4obWVzaFBhcmFtZXRlcnMudXNlQXN5bmNQaXBlbGluZSAhPT0gdW5kZWZpbmVkICYmIHsgdXNlQXN5bmNQaXBlbGluZTogbWVzaFBhcmFtZXRlcnMudXNlQXN5bmNQaXBlbGluZSB9KSxcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQgPz8gbnVsbFxuXG4gICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnlcblxuICAgICAgaWYgKGF1dG9SZW5kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLiNhdXRvUmVuZGVyID0gYXV0b1JlbmRlclxuICAgICAgfVxuXG4gICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlXG4gICAgICB0aGlzLnJlbmRlck9yZGVyID0gcmVuZGVyT3JkZXJcbiAgICAgIHRoaXMucmVhZHkgPSBmYWxzZVxuXG4gICAgICB0aGlzLnVzZXJEYXRhID0ge31cblxuICAgICAgdGhpcy5jb21wdXRlR2VvbWV0cnkoKVxuXG4gICAgICB0aGlzLnNldE1hdGVyaWFsKHtcbiAgICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcbiAgICAgICAgc2hhZGVyczogdGhpcy5vcHRpb25zLnNoYWRlcnMsXG4gICAgICAgIC4uLnsgLi4ubWVzaFBhcmFtZXRlcnMsIHZlcnRpY2VzT3JkZXI6IGdlb21ldHJ5LnZlcnRpY2VzT3JkZXIsIHRvcG9sb2d5OiBnZW9tZXRyeS50b3BvbG9neSB9LFxuICAgICAgfSBhcyBSZW5kZXJNYXRlcmlhbFBhcmFtcylcblxuICAgICAgdGhpcy5hZGRUb1NjZW5lKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcHJpdmF0ZSAjYXV0b1JlbmRlciB2YWx1ZVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBhdXRvUmVuZGVyKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuI2F1dG9SZW5kZXJcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQvc2V0IHdoZXRoZXIgYSBNZXNoIGlzIHJlYWR5IG9yIG5vdFxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCByZWFkeSgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZWFkeVxuICAgIH1cblxuICAgIHNldCByZWFkeSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29uUmVhZHlDYWxsYmFjayAmJiB0aGlzLl9vblJlYWR5Q2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgdGhpcy5fcmVhZHkgPSB2YWx1ZVxuICAgIH1cblxuICAgIC8qIFNDRU5FICovXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBNZXNoIHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgICAqL1xuICAgIGFkZFRvU2NlbmUoKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLm1lc2hlcy5wdXNoKHRoaXMgYXMgdW5rbm93biBhcyBQcm9qZWN0ZWRNZXNoKVxuXG4gICAgICAvLyB1cGRhdGUgc2FtcGxlIGNvdW50IGlmIG5lZWRlZFxuICAgICAgdGhpcy5tYXRlcmlhbD8uc2V0UmVuZGVyaW5nT3B0aW9ucyh7XG4gICAgICAgIHNhbXBsZUNvdW50OiB0aGlzLnJlbmRlclRhcmdldFxuICAgICAgICAgID8gdGhpcy5yZW5kZXJUYXJnZXQucmVuZGVyUGFzcy5vcHRpb25zLnNhbXBsZUNvdW50XG4gICAgICAgICAgOiB0aGlzLnJlbmRlcmVyLnJlbmRlclBhc3Mub3B0aW9ucy5zYW1wbGVDb3VudCxcbiAgICAgIH0pXG5cbiAgICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUuYWRkTWVzaCh0aGlzIGFzIHVua25vd24gYXMgUHJvamVjdGVkTWVzaClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBNZXNoIGZyb20gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAgICovXG4gICAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgICAgaWYgKHRoaXMuI2F1dG9SZW5kZXIpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5yZW1vdmVNZXNoKHRoaXMgYXMgdW5rbm93biBhcyBQcm9qZWN0ZWRNZXNoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVyLm1lc2hlcyA9IHRoaXMucmVuZGVyZXIubWVzaGVzLmZpbHRlcigobSkgPT4gbS51dWlkICE9PSB0aGlzLnV1aWQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgbmV3IHtAbGluayBSZW5kZXJlcn0gZm9yIHRoaXMgTWVzaFxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIG5ldyB7QGxpbmsgUmVuZGVyZXJ9IHRvIHNldFxuICAgICAqL1xuICAgIHNldFJlbmRlcmVyKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zKSB7XG4gICAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgICBpZiAoXG4gICAgICAgICFyZW5kZXJlciB8fFxuICAgICAgICAhKFxuICAgICAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVSZW5kZXJlcicgfHxcbiAgICAgICAgICByZW5kZXJlci50eXBlID09PSAnR1BVQ2FtZXJhUmVuZGVyZXInIHx8XG4gICAgICAgICAgcmVuZGVyZXIudHlwZSA9PT0gJ0dQVUN1cnRhaW5zUmVuZGVyZXInXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0aHJvd1dhcm5pbmcoXG4gICAgICAgICAgYCR7dGhpcy5vcHRpb25zLmxhYmVsfTogQ2Fubm90IHNldCAke3JlbmRlcmVyfSBhcyBhIHJlbmRlcmVyIGJlY2F1c2UgaXQgaXMgbm90IG9mIGEgdmFsaWQgUmVuZGVyZXIgdHlwZS5gXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9sZFJlbmRlcmVyID0gdGhpcy5yZW5kZXJlclxuICAgICAgdGhpcy5yZW1vdmVGcm9tU2NlbmUoKVxuICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgICB0aGlzLmFkZFRvU2NlbmUoKVxuXG4gICAgICAvLyBpZiBvbGQgcmVuZGVyZXIgZG9lcyBub3QgY29udGFpbiBhbnkgbWVzaGVzIGFueSBtb3JlXG4gICAgICAvLyBjbGVhciBpdFxuICAgICAgaWYgKCFvbGRSZW5kZXJlci5tZXNoZXMubGVuZ3RoKSB7XG4gICAgICAgIG9sZFJlbmRlcmVyLm9uQmVmb3JlUmVuZGVyU2NlbmUuYWRkKFxuICAgICAgICAgIChjb21tYW5kRW5jb2RlcikgPT4ge1xuICAgICAgICAgICAgb2xkUmVuZGVyZXIuZm9yY2VDbGVhcihjb21tYW5kRW5jb2RlcilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gb3IgcmVtb3ZlIGEge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gdGhpcyBNZXNoXG4gICAgICogU2luY2UgdGhpcyBtYW5pcHVsYXRlcyB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHN0YWNrcywgaXQgY2FuIGJlIHVzZWQgdG8gcmVtb3ZlIGEgUmVuZGVyVGFyZ2V0IGFzIHdlbGwuXG4gICAgICogQHBhcmFtIHJlbmRlclRhcmdldCAtIHRoZSBSZW5kZXJUYXJnZXQgdG8gYXNzaWduIG9yIG51bGwgaWYgd2Ugd2FudCB0byByZW1vdmUgdGhlIGN1cnJlbnQgUmVuZGVyVGFyZ2V0XG4gICAgICovXG4gICAgc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldDogUmVuZGVyVGFyZ2V0IHwgbnVsbCkge1xuICAgICAgaWYgKHJlbmRlclRhcmdldCAmJiByZW5kZXJUYXJnZXQudHlwZSAhPT0gJ1JlbmRlclRhcmdldCcpIHtcbiAgICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMub3B0aW9ucy5sYWJlbCA/PyB0aGlzLnR5cGV9OiByZW5kZXJUYXJnZXQgaXMgbm90IGEgUmVuZGVyVGFyZ2V0OiAke3JlbmRlclRhcmdldH1gKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gZW5zdXJlIHRoZSBtZXNoIGlzIGluIHRoZSBjb3JyZWN0IHNjZW5lIHN0YWNrXG4gICAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG4gICAgICB0aGlzLnJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldFxuICAgICAgdGhpcy5hZGRUb1NjZW5lKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGhhcyBiZWVuIGxvc3QgdG8gcHJlcGFyZSBldmVyeXRoaW5nIGZvciByZXN0b3JhdGlvbi5cbiAgICAgKiBCYXNpY2FsbHkgc2V0IGFsbCB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gbnVsbCBzbyB0aGV5IHdpbGwgYmUgcmVzZXQgbmV4dCB0aW1lIHdlIHRyeSB0byBkcmF3IHRoZSBNZXNoXG4gICAgICovXG4gICAgbG9zZUNvbnRleHQoKSB7XG4gICAgICAvLyBmaXJzdCB0aGUgZ2VvbWV0cnlcbiAgICAgIHRoaXMuZ2VvbWV0cnkudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIpID0+IHtcbiAgICAgICAgdmVydGV4QnVmZmVyLmJ1ZmZlciA9IG51bGxcbiAgICAgIH0pXG5cbiAgICAgIGlmICgnaW5kZXhCdWZmZXInIGluIHRoaXMuZ2VvbWV0cnkpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIgPSBudWxsXG4gICAgICB9XG5cbiAgICAgIC8vIHRoZW4gdGhlIG1hdGVyaWFsXG4gICAgICB0aGlzLm1hdGVyaWFsLmxvc2VDb250ZXh0KClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGhhcyBiZWVuIHJlc3RvcmVkXG4gICAgICovXG4gICAgcmVzdG9yZUNvbnRleHQoKSB7XG4gICAgICB0aGlzLm1hdGVyaWFsLnJlc3RvcmVDb250ZXh0KClcbiAgICB9XG5cbiAgICAvKiBTSEFERVJTICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGVmYXVsdCBzaGFkZXJzIGlmIG9uZSBvciBib3RoIG9mIHRoZW0gYXJlIG1pc3NpbmdcbiAgICAgKi9cbiAgICBzZXRTaGFkZXJzKCkge1xuICAgICAgbGV0IHsgc2hhZGVycyB9ID0gdGhpcy5vcHRpb25zXG5cbiAgICAgIGlmICghc2hhZGVycykge1xuICAgICAgICBzaGFkZXJzID0ge1xuICAgICAgICAgIHZlcnRleDoge1xuICAgICAgICAgICAgY29kZTogZGVmYXVsdF92c1dnc2wsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmcmFnbWVudDoge1xuICAgICAgICAgICAgY29kZTogZGVmYXVsdF9mc1dnc2wsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFzaGFkZXJzLnZlcnRleCB8fCAhc2hhZGVycy52ZXJ0ZXguY29kZSkge1xuICAgICAgICAgIHNoYWRlcnMudmVydGV4ID0ge1xuICAgICAgICAgICAgY29kZTogZGVmYXVsdF92c1dnc2wsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzaGFkZXJzLmZyYWdtZW50IHx8ICFzaGFkZXJzLmZyYWdtZW50LmNvZGUpIHtcbiAgICAgICAgICBzaGFkZXJzLmZyYWdtZW50ID0ge1xuICAgICAgICAgICAgY29kZTogZGVmYXVsdF9mc1dnc2wsXG4gICAgICAgICAgICBlbnRyeVBvaW50OiAnbWFpbicsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogR0VPTUVUUlkgKi9cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIE1lc2ggZ2VvbWV0cnkgaWYgbmVlZGVkXG4gICAgICovXG4gICAgY29tcHV0ZUdlb21ldHJ5KCkge1xuICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkuc2hvdWxkQ29tcHV0ZSkge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNvbXB1dGVHZW9tZXRyeSgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBNZXNoIEdlb21ldHJ5IHZlcnRleCBhbmQgaW5kZXggYnVmZmVycyBpZiBuZWVkZWRcbiAgICAgKi9cbiAgICBjcmVhdGVHZW9tZXRyeUJ1ZmZlcnMoKSB7XG4gICAgICBpZiAoIXRoaXMuZ2VvbWV0cnkucmVhZHkpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS52ZXJ0ZXhCdWZmZXJzLmZvckVhY2goKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgICAgIGlmICghdmVydGV4QnVmZmVyLmJ1ZmZlcikge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmJ1ZmZlciA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQnVmZmVyKHtcbiAgICAgICAgICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgZ2VvbWV0cnk6ICcgKyB2ZXJ0ZXhCdWZmZXIubmFtZSArICcgYnVmZmVyJyxcbiAgICAgICAgICAgICAgc2l6ZTogdmVydGV4QnVmZmVyLmFycmF5LmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5WRVJURVggfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucXVldWVXcml0ZUJ1ZmZlcih2ZXJ0ZXhCdWZmZXIuYnVmZmVyLCAwLCB2ZXJ0ZXhCdWZmZXIuYXJyYXkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGlmIGl0J3MgYW4gaW5kZXhlZCBnZW9tZXRyeSwgY3JlYXRlIGluZGV4IEdQVUJ1ZmZlciBhcyB3ZWxsXG4gICAgICAgIGlmICgnaW5kZXhCdWZmZXInIGluIHRoaXMuZ2VvbWV0cnkgJiYgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlciAmJiAhdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIpIHtcbiAgICAgICAgICB0aGlzLmdlb21ldHJ5LmluZGV4QnVmZmVyLmJ1ZmZlciA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQnVmZmVyKHtcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnIGdlb21ldHJ5OiBpbmRleCBidWZmZXInLFxuICAgICAgICAgICAgc2l6ZTogdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5hcnJheS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLklOREVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHRoaXMucmVuZGVyZXIucXVldWVXcml0ZUJ1ZmZlcih0aGlzLmdlb21ldHJ5LmluZGV4QnVmZmVyLmJ1ZmZlciwgMCwgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5hcnJheSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBvdXIgTWVzaCBnZW9tZXRyeTogY3JlYXRlIGJ1ZmZlcnMgYW5kIGFkZCBhdHRyaWJ1dGVzIHRvIG1hdGVyaWFsXG4gICAgICovXG4gICAgc2V0R2VvbWV0cnkoKSB7XG4gICAgICBpZiAodGhpcy5nZW9tZXRyeSAmJiB0aGlzLnJlbmRlcmVyLnJlYWR5KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlR2VvbWV0cnlCdWZmZXJzKClcbiAgICAgICAgdGhpcy5zZXRNYXRlcmlhbEdlb21ldHJ5QXR0cmlidXRlcygpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogTUFURVJJQUwgKi9cblxuICAgIC8qKlxuICAgICAqIFNldCBhIE1lc2ggdHJhbnNwYXJlbnQgcHJvcGVydHksIHRoZW4gc2V0IGl0cyBtYXRlcmlhbFxuICAgICAqIEBwYXJhbSBtZXNoUGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJNYXRlcmlhbFBhcmFtcyB8IFJlbmRlck1hdGVyaWFsIHBhcmFtZXRlcnN9XG4gICAgICovXG4gICAgc2V0TWF0ZXJpYWwobWVzaFBhcmFtZXRlcnM6IFJlbmRlck1hdGVyaWFsUGFyYW1zKSB7XG4gICAgICB0aGlzLnRyYW5zcGFyZW50ID0gbWVzaFBhcmFtZXRlcnMudHJhbnNwYXJlbnRcblxuICAgICAgdGhpcy5zZXRTaGFkZXJzKClcblxuICAgICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBSZW5kZXJNYXRlcmlhbCh0aGlzLnJlbmRlcmVyLCBtZXNoUGFyYW1ldGVycylcbiAgICAgIC8vIGFkZCBldmVudHVhbCB0ZXh0dXJlcyBwYXNzZWQgYXMgcGFyYW1ldGVyc1xuICAgICAgdGhpcy5tYXRlcmlhbC5vcHRpb25zLnRleHR1cmVzXG4gICAgICAgID8uZmlsdGVyKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgLmZvckVhY2goKHRleHR1cmUpID0+IHRoaXMub25UZXh0dXJlQWRkZWQodGV4dHVyZSkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IE1lc2ggbWF0ZXJpYWwgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHNldE1hdGVyaWFsR2VvbWV0cnlBdHRyaWJ1dGVzKCkge1xuICAgICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgIXRoaXMubWF0ZXJpYWwuYXR0cmlidXRlcykge1xuICAgICAgICB0aGlzLm1hdGVyaWFsLnNldEF0dHJpYnV0ZXNGcm9tR2VvbWV0cnkodGhpcy5nZW9tZXRyeSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBURVhUVVJFUyAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IG91ciB7QGxpbmsgUmVuZGVyTWF0ZXJpYWwjdGV4dHVyZXMgfCBSZW5kZXJNYXRlcmlhbCB0ZXh0dXJlcyBhcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZXMoKTogVGV4dHVyZVtdIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy50ZXh0dXJlcyB8fCBbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBvdXIge0BsaW5rIFJlbmRlck1hdGVyaWFsI3JlbmRlclRleHR1cmVzIHwgUmVuZGVyTWF0ZXJpYWwgcmVuZGVyIHRleHR1cmVzIGFycmF5fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCByZW5kZXJUZXh0dXJlcygpOiBSZW5kZXJUZXh0dXJlW10ge1xuICAgICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw/LnJlbmRlclRleHR1cmVzIHx8IFtdXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBUZXh0dXJlfVxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0ge0BsaW5rIFRleHR1cmVQYXJhbXMgfCBUZXh0dXJlIHBhcmFtZXRlcnN9XG4gICAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBUZXh0dXJlfVxuICAgICAqL1xuICAgIGNyZWF0ZVRleHR1cmUob3B0aW9uczogVGV4dHVyZVBhcmFtcyk6IFRleHR1cmUge1xuICAgICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gJ3RleHR1cmUnICsgdGhpcy50ZXh0dXJlcy5sZW5ndGhcbiAgICAgIH1cblxuICAgICAgaWYgKCFvcHRpb25zLmxhYmVsKSB7XG4gICAgICAgIG9wdGlvbnMubGFiZWwgPSB0aGlzLm9wdGlvbnMubGFiZWwgKyAnICcgKyBvcHRpb25zLm5hbWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMucmVuZGVyZXIsIHsgLi4ub3B0aW9ucywgLi4udGhpcy5vcHRpb25zLnRleHR1cmVzT3B0aW9ucyB9KVxuXG4gICAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcblxuICAgICAgcmV0dXJuIHRleHR1cmVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgVGV4dHVyZX1cbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICAgIHRoaXMubWF0ZXJpYWwuYWRkVGV4dHVyZSh0ZXh0dXJlKVxuICAgICAgdGhpcy5vblRleHR1cmVBZGRlZCh0ZXh0dXJlKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHJ1biB3aGVuIGEgbmV3IHtAbGluayBUZXh0dXJlfSBoYXMgYmVlbiBhZGRlZFxuICAgICAqIEBwYXJhbSB0ZXh0dXJlIC0gbmV3bHkgY3JlYXRlZCBUZXh0dXJlXG4gICAgICovXG4gICAgb25UZXh0dXJlQWRkZWQodGV4dHVyZTogVGV4dHVyZSkge1xuICAgICAgdGV4dHVyZS5wYXJlbnRNZXNoID0gdGhpcyBhcyB1bmtub3duIGFzIFRleHR1cmVQYXJlbnRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAgICogQHBhcmFtICBvcHRpb25zIC0ge0BsaW5rIFJlbmRlclRleHR1cmVQYXJhbXMgfCBSZW5kZXJUZXh0dXJlIHBhcmFtZXRlcnN9XG4gICAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclRleHR1cmUob3B0aW9uczogUmVuZGVyVGV4dHVyZVBhcmFtcyk6IFJlbmRlclRleHR1cmUge1xuICAgICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gJ3JlbmRlclRleHR1cmUnICsgdGhpcy5yZW5kZXJUZXh0dXJlcy5sZW5ndGhcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMucmVuZGVyZXIsIG9wdGlvbnMpXG5cbiAgICAgIHRoaXMuYWRkUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuXG4gICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0ge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGFkZFxuICAgICAqL1xuICAgIGFkZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZTogUmVuZGVyVGV4dHVyZSkge1xuICAgICAgdGhpcy5tYXRlcmlhbC5hZGRUZXh0dXJlKHJlbmRlclRleHR1cmUpXG4gICAgfVxuXG4gICAgLyogQklORElOR1MgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHVuaWZvcm1zXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHVuaWZvcm1zKCk6IE1hdGVyaWFsWyd1bmlmb3JtcyddIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy51bmlmb3Jtc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHN0b3JhZ2VzXG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHN0b3JhZ2VzKCk6IE1hdGVyaWFsWydzdG9yYWdlcyddIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy5zdG9yYWdlc1xuICAgIH1cblxuICAgIC8qIFJFU0laRSAqL1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBNZXNoJ3MgcmVuZGVyIHRleHR1cmVzIG9ubHkgaWYgdGhleSdyZSBub3Qgc3RvcmFnZSB0ZXh0dXJlc1xuICAgICAqL1xuICAgIHJlc2l6ZVJlbmRlclRleHR1cmVzKCkge1xuICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlc1xuICAgICAgICA/LmZpbHRlcigocmVuZGVyVGV4dHVyZSkgPT4gcmVuZGVyVGV4dHVyZS5vcHRpb25zLnVzYWdlICE9PSAnc3RvcmFnZVRleHR1cmUnKVxuICAgICAgICAuZm9yRWFjaCgocmVuZGVyVGV4dHVyZSkgPT4gcmVuZGVyVGV4dHVyZS5yZXNpemUoKSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIE1lc2gncyB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSBib3VuZGluZ1JlY3RcbiAgICAgKi9cbiAgICByZXNpemUoYm91bmRpbmdSZWN0PzogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwpIHtcbiAgICAgIC8vIHJlc2l6ZSByZW5kZXIgdGV4dHVyZXMgZmlyc3RcbiAgICAgIHRoaXMucmVzaXplUmVuZGVyVGV4dHVyZXMoKVxuXG4gICAgICAvLyBAdHMtaWdub3JlXG4gICAgICBpZiAoc3VwZXIucmVzaXplKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc3VwZXIucmVzaXplKGJvdW5kaW5nUmVjdClcbiAgICAgIH1cblxuICAgICAgLy8gcmVzaXplIHRleHR1cmVzXG4gICAgICB0aGlzLnRleHR1cmVzPy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgIHRleHR1cmUucmVzaXplKClcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuX29uQWZ0ZXJSZXNpemVDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2soKVxuICAgIH1cblxuICAgIC8qIEVWRU5UUyAqL1xuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uUmVhZHlDYWxsYmFja1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBNZXNoQmFzZX0gaXMgcmVhZHlcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAgICovXG4gICAgb25SZWFkeShjYWxsYmFjazogKCkgPT4gdm9pZCk6IE1lc2hCYXNlIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25SZWFkeUNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25CZWZvcmVSZW5kZXJDYWxsYmFja1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGJlZm9yZSB7QGxpbmsgTWVzaEJhc2V9IHdpbGwgYmUgcmVuZGVyZWRcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAgICovXG4gICAgb25CZWZvcmVSZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBNZXNoQmFzZSB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3Mge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vblJlbmRlckNhbGxiYWNrXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4ge0BsaW5rIE1lc2hCYXNlfSBpcyByZW5kZXJlZFxuICAgICAqIEByZXR1cm5zIC0gb3VyIE1lc2hcbiAgICAgKi9cbiAgICBvblJlbmRlcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IE1lc2hCYXNlIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25SZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQWZ0ZXJSZW5kZXJDYWxsYmFja1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGFmdGVyIHtAbGluayBNZXNoQmFzZX0gaGFzIGJlZW4gcmVuZGVyZWRcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAgICovXG4gICAgb25BZnRlclJlbmRlcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IE1lc2hCYXNlIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25BZnRlclJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25CZWZvcmVSZW5kZXJDYWxsYmFja1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGFmdGVyIHtAbGluayBNZXNoQmFzZX0gaGFzIGJlZW4gcmVzaXplZFxuICAgICAqIEByZXR1cm5zIC0gb3VyIE1lc2hcbiAgICAgKi9cbiAgICBvbkFmdGVyUmVzaXplKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogTWVzaEJhc2UgfCBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qIFJFTkRFUiAqL1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2hcbiAgICAgKiBTZXQgdGhlIGdlb21ldHJ5IGlmIG5lZWRlZCAoY3JlYXRlIGJ1ZmZlcnMgYW5kIGFkZCBhdHRyaWJ1dGVzIHRvIHRoZSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9KVxuICAgICAqIFRoZW4gZXhlY3V0ZXMge0BsaW5rIFJlbmRlck1hdGVyaWFsI29uQmVmb3JlUmVuZGVyfTogY3JlYXRlIGl0cyBiaW5kIGdyb3VwcyBhbmQgcGlwZWxpbmUgaWYgbmVlZGVkIGFuZCBldmVudHVhbGx5IHVwZGF0ZSBpdHMgc3RydWN0XG4gICAgICovXG4gICAgb25CZWZvcmVSZW5kZXJQYXNzKCkge1xuICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlYWR5KSByZXR1cm5cblxuICAgICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgdGhpcy5tYXRlcmlhbC5yZWFkeSAmJiB0aGlzLmdlb21ldHJ5ICYmIHRoaXMuZ2VvbWV0cnkucmVhZHkgJiYgIXRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhpcy5yZWFkeSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRHZW9tZXRyeSgpXG5cbiAgICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25CZWZvcmVSZW5kZXJDYWxsYmFjaygpXG5cbiAgICAgIHRoaXMubWF0ZXJpYWwub25CZWZvcmVSZW5kZXIoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBvdXIge0BsaW5rIE1lc2hCYXNlfSBpZiB0aGUge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBpcyByZWFkeVxuICAgICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzcyBlbmNvZGVyXG4gICAgICovXG4gICAgb25SZW5kZXJQYXNzKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XG4gICAgICBpZiAoIXRoaXMubWF0ZXJpYWwucmVhZHkpIHJldHVyblxuXG4gICAgICB0aGlzLl9vblJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2soKVxuXG4gICAgICAvLyByZW5kZXIgb3UgbWF0ZXJpYWxcbiAgICAgIHRoaXMubWF0ZXJpYWwucmVuZGVyKHBhc3MpXG4gICAgICAvLyB0aGVuIHJlbmRlciBvdXIgZ2VvbWV0cnlcbiAgICAgIHRoaXMuZ2VvbWV0cnkucmVuZGVyKHBhc3MpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGhhdmluZyByZW5kZXJlZCB0aGUgTWVzaFxuICAgICAqL1xuICAgIG9uQWZ0ZXJSZW5kZXJQYXNzKCkge1xuICAgICAgdGhpcy5fb25BZnRlclJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjaygpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIG91ciBNZXNoXG4gICAgICogLSBFeGVjdXRlIHtAbGluayBvbkJlZm9yZVJlbmRlclBhc3N9XG4gICAgICogLSBTdG9wIGhlcmUgaWYge0BsaW5rIFJlbmRlcmVyfSBpcyBub3QgcmVhZHkgb3IgTWVzaCBpcyBub3Qge0BsaW5rIHZpc2libGV9XG4gICAgICogLSBFeGVjdXRlIHN1cGVyIHJlbmRlciBjYWxsIGlmIGl0IGV4aXN0c1xuICAgICAqIC0ge0BsaW5rIG9uUmVuZGVyUGFzcyB8IHJlbmRlcn0gb3VyIHtAbGluayBtYXRlcmlhbH0gYW5kIHtAbGluayBnZW9tZXRyeX1cbiAgICAgKiAtIEV4ZWN1dGUge0BsaW5rIG9uQWZ0ZXJSZW5kZXJQYXNzfVxuICAgICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzcyBlbmNvZGVyXG4gICAgICovXG4gICAgcmVuZGVyKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XG4gICAgICB0aGlzLm9uQmVmb3JlUmVuZGVyUGFzcygpXG5cbiAgICAgIC8vIG5vIHBvaW50IHRvIHJlbmRlciBpZiB0aGUgV2ViR1BVIGRldmljZSBpcyBub3QgcmVhZHlcbiAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZWFkeSB8fCAhdGhpcy52aXNpYmxlKSByZXR1cm5cblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHN1cGVyLnJlbmRlcikge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHN1cGVyLnJlbmRlcigpXG4gICAgICB9XG5cbiAgICAgIHRoaXMub25SZW5kZXJQYXNzKHBhc3MpXG5cbiAgICAgIHRoaXMub25BZnRlclJlbmRlclBhc3MoKVxuICAgIH1cblxuICAgIC8qIERFU1RST1kgKi9cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgTWVzaCBmcm9tIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gYW5kIGRlc3Ryb3kgaXRcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG4gICAgICB0aGlzLmRlc3Ryb3koKVxuXG4gICAgICAvLyBpZiB0aGUgcmVuZGVyZXIgZG9lcyBub3QgY29udGFpbiBhbnkgbWVzaGVzIGFueSBtb3JlXG4gICAgICAvLyBjbGVhciBpdFxuICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLm1lc2hlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbkJlZm9yZVJlbmRlclNjZW5lLmFkZChcbiAgICAgICAgICAoY29tbWFuZEVuY29kZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZm9yY2VDbGVhcihjb21tYW5kRW5jb2RlcilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBNZXNoXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmIChzdXBlci5kZXN0cm95KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpXG4gICAgICB9XG5cbiAgICAgIHRoaXMubWF0ZXJpYWw/LmRlc3Ryb3koKVxuXG4gICAgICAvLyByZW1vdmUgZ2VvbWV0cnkgYnVmZmVycyBmcm9tIGRldmljZSBjYWNoZVxuICAgICAgdGhpcy5nZW9tZXRyeS52ZXJ0ZXhCdWZmZXJzLmZvckVhY2goKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgICAvLyB1c2Ugb3JpZ2luYWwgdmVydGV4IGJ1ZmZlciBsYWJlbCBpbiBjYXNlIGl0IGhhcyBiZWVuIHN3YXBwZWQgKHVzdWFsbHkgYnkgYSBjb21wdXRlIHBhc3MpXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQnVmZmVyKFxuICAgICAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXIsXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxhYmVsICsgJyBnZW9tZXRyeTogJyArIHZlcnRleEJ1ZmZlci5uYW1lICsgJyBidWZmZXInXG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGlmICgnaW5kZXhCdWZmZXInIGluIHRoaXMuZ2VvbWV0cnkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVCdWZmZXIodGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2VvbWV0cnk/LmRlc3Ryb3koKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBNZXNoQmFzZU1peGluIH1cbiIsImltcG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuLi9jb3JlL2dlb21ldHJpZXMvUGxhbmVHZW9tZXRyeSdcblxuLyoqXG4gKiBVc2VkIHRvIGNhY2hlIHtAbGluayBQbGFuZUdlb21ldHJ5fSBhbmQgYXZvaWQgYXMgbWFueSBsYXJnZSBhcnJheSBjb21wdXRhdGlvbnMgYXMgcG9zc2libGUuPGJyPlxuICogQ291bGQgYmUgaW1wcm92ZWQgdG8gaGFuZGxlIG90aGVyIGNhY2hlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhY2hlTWFuYWdlciB7XG4gIC8qKiBBcnJheSBvZiBjYWNoZWQge0BsaW5rIFBsYW5lR2VvbWV0cnl9ICovXG4gIHBsYW5lR2VvbWV0cmllczogUGxhbmVHZW9tZXRyeVtdXG5cbiAgLyoqXG4gICAqIENhY2hlTWFuYWdlciBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wbGFuZUdlb21ldHJpZXMgPSBbXVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgZ2l2ZW4ge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGlzIGFscmVhZHkgY2FjaGVkIGJhc2VkIG9uIGl0cyB7QGxpbmsgUGxhbmVHZW9tZXRyeSNkZWZpbml0aW9uLmlkIHwgZGVmaW5pdGlvbiBpZH1cbiAgICogQHBhcmFtIHBsYW5lR2VvbWV0cnkgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gdG8gY2hlY2tcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldFBsYW5lR2VvbWV0cnkocGxhbmVHZW9tZXRyeTogUGxhbmVHZW9tZXRyeSk6IFBsYW5lR2VvbWV0cnkgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5wbGFuZUdlb21ldHJpZXMuZmluZCgoZWxlbWVudCkgPT4gZWxlbWVudC5kZWZpbml0aW9uLmlkID09PSBwbGFuZUdlb21ldHJ5LmRlZmluaXRpb24uaWQpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBnaXZlbiB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gaXMgYWxyZWFkeSBjYWNoZWQgYmFzZWQgb24gaXRzIHtAbGluayBQbGFuZUdlb21ldHJ5I2RlZmluaXRpb24gfCBkZWZpbml0aW9uIGlkfVxuICAgKiBAcGFyYW0gcGxhbmVHZW9tZXRyeUlEIC0ge0BsaW5rIFBsYW5lR2VvbWV0cnkjZGVmaW5pdGlvbi5pZCB8IFBsYW5lR2VvbWV0cnkgZGVmaW5pdGlvbiBpZH1cbiAgICogQHJldHVybnMgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldFBsYW5lR2VvbWV0cnlCeUlEKHBsYW5lR2VvbWV0cnlJRDogbnVtYmVyKTogUGxhbmVHZW9tZXRyeSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnBsYW5lR2VvbWV0cmllcy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LmRlZmluaXRpb24uaWQgPT09IHBsYW5lR2VvbWV0cnlJRClcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gdG8gb3VyIGNhY2hlIHtAbGluayBwbGFuZUdlb21ldHJpZXN9IGFycmF5XG4gICAqIEBwYXJhbSBwbGFuZUdlb21ldHJ5XG4gICAqL1xuICBhZGRQbGFuZUdlb21ldHJ5KHBsYW5lR2VvbWV0cnk6IFBsYW5lR2VvbWV0cnkpIHtcbiAgICB0aGlzLnBsYW5lR2VvbWV0cmllcy5wdXNoKHBsYW5lR2VvbWV0cnkpXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIENhY2hlTWFuYWdlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbGFuZUdlb21ldHJpZXMgPSBbXVxuICB9XG59XG5cbi8qKiBAZXhwb3J0cyBAY29uc3QgY2FjaGVNYW5hZ2VyIC0ge0BsaW5rIENhY2hlTWFuYWdlcn0gY2xhc3Mgb2JqZWN0ICovXG5leHBvcnQgY29uc3QgY2FjaGVNYW5hZ2VyID0gbmV3IENhY2hlTWFuYWdlcigpIGFzIENhY2hlTWFuYWdlclxuIiwiaW1wb3J0IHsgTWVzaEJhc2VNaXhpbiwgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfSBmcm9tICcuL21peGlucy9NZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBQbGFuZUdlb21ldHJ5IH0gZnJvbSAnLi4vZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5J1xuaW1wb3J0IHsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCwgUmVjdEJCb3ggfSBmcm9tICcuLi9ET00vRE9NRWxlbWVudCdcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzInXG5pbXBvcnQgeyBjYWNoZU1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9DYWNoZU1hbmFnZXInXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuXG4vKipcbiAqIENyZWF0ZSBhIDF4MSBxdWFkIChvciBwbGFuZSkgY292ZXJpbmcgdGhlIGZ1bGwgdmlld3BvcnQsIHVzZWZ1bCBmb3IgcG9zdHByb2Nlc3Npbmcgb3IgYmFja2dyb3VuZCBlZmZlY3RzLlxuICpcbiAqIEl0IGNvbnNpc3RzIG9mIGEge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGFuZCB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwgfCBSZW5kZXJNYXRlcmlhbH0gYW5kIGEgZmV3IHV0aWxpdGllcyBtZXRob2QgdG8gaGVscCBjcmVhdGUge0BsaW5rIGNvcmUvdGV4dHVyZXMvVGV4dHVyZS5UZXh0dXJlIHwgVGV4dHVyZX0gYW5kIHtAbGluayBjb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuUmVuZGVyVGV4dHVyZSB8IFJlbmRlclRleHR1cmV9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBmdWxsc2NyZWVuIHBsYW5lXG4gKiAvLyB3aWxsIHVzZSB0aGUgbm9ybWFscyBjb2xvcnMgYXMgZGVmYXVsdCBzaGFkaW5nXG4gKiBjb25zdCBmdWxsc2NyZWVuUGxhbmUgPSBuZXcgRnVsbHNjcmVlblBsYW5lKGdwdUN1cnRhaW5zLCB7XG4gKiAgIGxhYmVsOiAnTXkgZnVsbHNjcmVlbiBwbGFuZScsXG4gKiAgIHNoYWRlcnM6IHtcbiAqICAgICBmcmFnbWVudDoge1xuICogICAgICAgY29kZTogZnJhZ21lbnRDb2RlLCAvLyBhc3N1bWUgaXQgaXMgYSB2YWxpZCBXR1NMIGZyYWdtZW50IHNoYWRlclxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBGdWxsc2NyZWVuUGxhbmUgZXh0ZW5kcyBNZXNoQmFzZU1peGluKGNsYXNzIHt9KSB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX0gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBPYmplY3QgZGVmaW5pbmcgdGhlICB7QGxpbmsgRnVsbHNjcmVlblBsYW5lfSBzaXplICovXG4gIHNpemU6IHtcbiAgICAvKiogZG9jdW1lbnQgSFRNTCBzaXplICovXG4gICAgZG9jdW1lbnQ6IFJlY3RCQm94XG4gIH1cblxuICAvKipcbiAgICogRnVsbHNjcmVlblBsYW5lIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2UgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0ge30gYXMgTWVzaEJhc2VSZW5kZXJQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyBGdWxsc2NyZWVuUXVhZE1lc2gnIDogJ0Z1bGxzY3JlZW5RdWFkTWVzaCcpXG5cbiAgICAvLyBjYW4gd2UgZ2V0IGEgY2FjaGVkIGdlb21ldHJ5P1xuICAgIGxldCBnZW9tZXRyeSA9IGNhY2hlTWFuYWdlci5nZXRQbGFuZUdlb21ldHJ5QnlJRCgyKSAvLyAxICogMSArIDFcblxuICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IHBsYW5lIGdlb21ldHJ5XG4gICAgICBnZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHsgd2lkdGhTZWdtZW50czogMSwgaGVpZ2h0U2VnbWVudHM6IDEgfSlcbiAgICAgIGNhY2hlTWFuYWdlci5hZGRQbGFuZUdlb21ldHJ5KGdlb21ldHJ5KVxuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzdXBlcihyZW5kZXJlciwgbnVsbCwgeyBnZW9tZXRyeSwgLi4ucGFyYW1ldGVycyB9KVxuXG4gICAgdGhpcy5zaXplID0ge1xuICAgICAgZG9jdW1lbnQ6IHtcbiAgICAgICAgd2lkdGg6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgICAgdG9wOiB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdC50b3AsXG4gICAgICAgIGxlZnQ6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgICB9LFxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdGdWxsc2NyZWVuUXVhZE1lc2gnXG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIG91ciB7QGxpbmsgRnVsbHNjcmVlblBsYW5lfVxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gdGhlIG5ldyBib3VuZGluZyByZWN0YW5nbGVcbiAgICovXG4gIHJlc2l6ZShib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsID0gbnVsbCkge1xuICAgIHRoaXMuc2l6ZS5kb2N1bWVudCA9IGJvdW5kaW5nUmVjdCA/PyB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdFxuXG4gICAgc3VwZXIucmVzaXplKGJvdW5kaW5nUmVjdClcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWtlIHRoZSBwb2ludGVyIHtAbGluayBWZWMyIHwgdmVjdG9yfSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQgYW5kIHJldHVybnMgaXQgcmVsYXRpdmUgdG8gb3VyIHtAbGluayBGdWxsc2NyZWVuUGxhbmV9XG4gICAqIEl0IHJhbmdlcyBmcm9tIC0xIHRvIDEgb24gYm90aCBheGlzXG4gICAqIEBwYXJhbSBtb3VzZUNvb3JkcyAtIHBvaW50ZXIge0BsaW5rIFZlYzIgfCB2ZWN0b3J9IGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIC0gdGhlIG1hcHBlZCB7QGxpbmsgVmVjMiB8IHZlY3Rvcn0gY29vcmRpbmF0ZXMgaW4gdGhlIFstMSwgMV0gcmFuZ2VcbiAgICovXG4gIG1vdXNlVG9QbGFuZUNvb3Jkcyhtb3VzZUNvb3JkczogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICAvLyBtb3VzZSBwb3NpdGlvbiBjb252ZXJzaW9uIGZyb20gZG9jdW1lbnQgdG8gcGxhbmUgc3BhY2VcbiAgICByZXR1cm4gbmV3IFZlYzIoXG4gICAgICAoKG1vdXNlQ29vcmRzLnggLSB0aGlzLnNpemUuZG9jdW1lbnQubGVmdCkgLyB0aGlzLnNpemUuZG9jdW1lbnQud2lkdGgpICogMiAtIDEsXG4gICAgICAxIC0gKChtb3VzZUNvb3Jkcy55IC0gdGhpcy5zaXplLmRvY3VtZW50LnRvcCkgLyB0aGlzLnNpemUuZG9jdW1lbnQuaGVpZ2h0KSAqIDJcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IE9iamVjdDNELCBPYmplY3QzRE1hdHJpY2VzVHlwZSwgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXggfSBmcm9tICcuL09iamVjdDNEJ1xyXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xyXG5pbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNDYW1lcmFSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi4vY2FtZXJhL0NhbWVyYSdcclxuXHJcbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHBvc3NpYmxlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRH0gbWF0cml4IHR5cGVzICovXHJcbmV4cG9ydCB0eXBlIFByb2plY3RlZE9iamVjdDNETWF0cmljZXNUeXBlID0gT2JqZWN0M0RNYXRyaWNlc1R5cGUgfCAnbW9kZWxWaWV3JyB8ICdtb2RlbFZpZXdQcm9qZWN0aW9uJ1xyXG4vKiogRGVmaW5lcyBhbGwgcG9zc2libGUge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4IHwgbWF0cml4IG9iamVjdH0gdXNlZCBieSBvdXIge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSAqL1xyXG5leHBvcnQgdHlwZSBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzID0gUmVjb3JkPFByb2plY3RlZE9iamVjdDNETWF0cmljZXNUeXBlLCBPYmplY3QzRFRyYW5zZm9ybU1hdHJpeD5cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGFwcGx5IHRoZSB7QGxpbmsgQ2FtZXJhI3Byb2plY3Rpb25NYXRyaXggfCBwcm9qZWN0aW9ufSBhbmQge0BsaW5rIENhbWVyYSN2aWV3TWF0cml4IHwgdmlld30gbWF0cmljZXMgb2YgYSB7QGxpbmsgQ2FtZXJhfSB0byBhbiB7QGxpbmsgT2JqZWN0M0R9LCBpbiBvcmRlciB0byBjb21wdXRlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRCNtb2RlbFZpZXdNYXRyaXggfCBtb2RlbFZpZXd9IGFuZCB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0QjbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCB8IG1vZGVsVmlld1Byb2plY3Rpb259IG1hdHJpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFByb2plY3RlZE9iamVjdDNEIGV4dGVuZHMgT2JqZWN0M0Qge1xyXG4gIC8qKiB7QGxpbmsgQ2FtZXJhIHwgQ2FtZXJhfSBvYmplY3QgdXNlZCB0byBjb21wdXRlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRCNtb2RlbFZpZXdNYXRyaXggfCBtb2RlbCB2aWV3fSBhbmQge0BsaW5rIFByb2plY3RlZE9iamVjdDNEI21vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggfCBtb2RlbCB2aWV3IHByb2plY3Rpb259IG1hdHJpY2VzICovXHJcbiAgY2FtZXJhOiBDYW1lcmFcclxuXHJcbiAgLyoqIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzIHwgTWF0cmljZXMgb2JqZWN0fSBvZiB0aGUge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSAqL1xyXG4gIG1hdHJpY2VzOiBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzXHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2plY3RlZE9iamVjdDNEIGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIENhbWVyYVJlbmRlcmVyfSBvYmplY3Qgb3Ige0BsaW5rIEdQVUN1cnRhaW5zfSBjbGFzcyBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IENhbWVyYVJlbmRlcmVyIHwgR1BVQ3VydGFpbnMpIHtcclxuICAgIHN1cGVyKClcclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpXHJcblxyXG4gICAgaXNDYW1lcmFSZW5kZXJlcihyZW5kZXJlciwgJ1Byb2plY3RlZE9iamVjdDNEJylcclxuXHJcbiAgICB0aGlzLmNhbWVyYSA9IHJlbmRlcmVyLmNhbWVyYVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlQb3NpdGlvbigpIHtcclxuICAgIHN1cGVyLmFwcGx5UG9zaXRpb24oKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlSb3RhdGlvbigpIHtcclxuICAgIHN1cGVyLmFwcGx5Um90YXRpb24oKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlTY2FsZSgpIHtcclxuICAgIHN1cGVyLmFwcGx5U2NhbGUoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKSB7XHJcbiAgICBzdXBlci5hcHBseVRyYW5zZm9ybU9yaWdpbigpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHRyYW5zZm9ybSBhbmQgcHJvamVjdGlvbiBtYXRyaWNlc1xyXG4gICAqL1xyXG4gIHNldE1hdHJpY2VzKCkge1xyXG4gICAgc3VwZXIuc2V0TWF0cmljZXMoKVxyXG5cclxuICAgIHRoaXMubWF0cmljZXMgPSB7XHJcbiAgICAgIC4uLnRoaXMubWF0cmljZXMsXHJcbiAgICAgIG1vZGVsVmlldzoge1xyXG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcclxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBvdXIgbW9kZWwgdmlldyBtYXRyaXggaXMgb3VyIG1vZGVsIG1hdHJpeCBtdWx0aXBsaWVkIHdpdGggb3VyIGNhbWVyYSB2aWV3IG1hdHJpeFxyXG4gICAgICAgICAgdGhpcy5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnZpZXdNYXRyaXgsIHRoaXMud29ybGRNYXRyaXgpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgbW9kZWxWaWV3UHJvamVjdGlvbjoge1xyXG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcclxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBvdXIgbW9kZWxWaWV3UHJvamVjdGlvbiBtYXRyaXgsIHVzZWZ1bCBmb3IgYm91bmRpbmcgYm94IGNhbGN1bGF0aW9ucyBhbmQgZnJ1c3R1bSBjdWxsaW5nXHJcbiAgICAgICAgICAvLyB0aGlzIGlzIHRoZSByZXN1bHQgb2Ygb3VyIHByb2plY3Rpb24gbWF0cml4IG11bHRpcGxpZWQgYnkgb3VyIG1vZGVsVmlldyBtYXRyaXhcclxuICAgICAgICAgIHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucHJvamVjdGlvbk1hdHJpeCwgdGhpcy5tb2RlbFZpZXdNYXRyaXgpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIge0BsaW5rIG1vZGVsVmlld01hdHJpeCB8IG1vZGVsIHZpZXcgbWF0cml4fVxyXG4gICAqL1xyXG4gIGdldCBtb2RlbFZpZXdNYXRyaXgoKTogTWF0NCB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy5tb2RlbFZpZXcubWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBtb2RlbFZpZXdNYXRyaXggfCBtb2RlbCB2aWV3IG1hdHJpeH1cclxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIG1vZGVsVmlld01hdHJpeCB8IG1vZGVsIHZpZXcgbWF0cml4fVxyXG4gICAqL1xyXG4gIHNldCBtb2RlbFZpZXdNYXRyaXgodmFsdWU6IE1hdDQpIHtcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3Lm1hdHJpeCA9IHZhbHVlXHJcbiAgICB0aGlzLm1hdHJpY2VzLm1vZGVsVmlldy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBDYW1lcmEjdmlld01hdHJpeCB8IGNhbWVyYSB2aWV3IG1hdHJpeH1cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgdmlld01hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLmNhbWVyYS52aWV3TWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBDYW1lcmEjcHJvamVjdGlvbk1hdHJpeCB8IGNhbWVyYSBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IHwgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKi9cclxuICBnZXQgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLm1hdHJpY2VzLm1vZGVsVmlld1Byb2plY3Rpb24ubWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IHwgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggfCBtb2RlbCB2aWV3IHByb2plY3Rpb24gbWF0cml4fXNcclxuICAgKi9cclxuICBzZXQgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCh2YWx1ZTogTWF0NCkge1xyXG4gICAgdGhpcy5tYXRyaWNlcy5tb2RlbFZpZXdQcm9qZWN0aW9uLm1hdHJpeCA9IHZhbHVlXHJcbiAgICB0aGlzLm1hdHJpY2VzLm1vZGVsVmlld1Byb2plY3Rpb24uc2hvdWxkVXBkYXRlID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IG91ciBwcm9qZWN0aW9uIG1hdHJpY2VzIHNob3VsZFVwZGF0ZSBmbGFncyB0byB0cnVlICh0ZWxsIHRoZW0gdG8gdXBkYXRlKVxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpIHtcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3LnNob3VsZFVwZGF0ZSA9IHRydWVcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3UHJvamVjdGlvbi5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB3b3JsZCBtYXRyaXggdXBkYXRlLCB0ZWxsIG91ciBwcm9qZWN0aW9uIG1hdHJpeCB0byB1cGRhdGUgYXMgd2VsbFxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZVdvcmxkTWF0cml4KCkge1xyXG4gICAgc3VwZXIuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBhbGwgb3VyIG1hdHJpY2VzIHRvIHVwZGF0ZVxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZU1hdHJpeFN0YWNrKCkge1xyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxyXG5zdHJ1Y3QgVmVydGV4T3V0cHV0IHtcclxuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzRmLFxyXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXHJcbiAgQGxvY2F0aW9uKDEpIG5vcm1hbDogdmVjM2YsXHJcbn07XHJcblxyXG5AdmVydGV4IGZuIG1haW4oXHJcbiAgYXR0cmlidXRlczogQXR0cmlidXRlcyxcclxuKSAtPiBWZXJ0ZXhPdXRwdXQge1xyXG4gIHZhciB2c091dHB1dDogVmVydGV4T3V0cHV0O1xyXG5cclxuICB2c091dHB1dC5wb3NpdGlvbiA9IGdldE91dHB1dFBvc2l0aW9uKGF0dHJpYnV0ZXMucG9zaXRpb24pO1xyXG4gIHZzT3V0cHV0LnV2ID0gYXR0cmlidXRlcy51djtcclxuICB2c091dHB1dC5ub3JtYWwgPSBhdHRyaWJ1dGVzLm5vcm1hbDtcclxuICBcclxuICByZXR1cm4gdnNPdXRwdXQ7XHJcbn1gXHJcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuc3RydWN0IFZTT3V0cHV0IHtcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0ZixcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyZixcbiAgQGxvY2F0aW9uKDEpIG5vcm1hbDogdmVjM2YsXG59O1xuXG5AZnJhZ21lbnQgZm4gbWFpbihmc0lucHV0OiBWU091dHB1dCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcbiAgLy8gbm9ybWFsc1xuICByZXR1cm4gdmVjNChub3JtYWxpemUoZnNJbnB1dC5ub3JtYWwpICogMC41ICsgMC41LCAxLjApO1xufWBcbiIsImltcG9ydCB7IENhbWVyYVJlbmRlcmVyLCBpc0NhbWVyYVJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3V0aWxzJ1xyXG5pbXBvcnQgeyBET01GcnVzdHVtIH0gZnJvbSAnLi4vLi4vRE9NL0RPTUZydXN0dW0nXHJcbmltcG9ydCB7IE1lc2hCYXNlQ2xhc3MsIE1lc2hCYXNlTWl4aW4sIE1lc2hCYXNlT3B0aW9ucywgTWVzaEJhc2VQYXJhbXMsIE1peGluQ29uc3RydWN0b3IgfSBmcm9tICcuL01lc2hCYXNlTWl4aW4nXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXHJcbmltcG9ydCB7IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIFJlY3RDb29yZHMgfSBmcm9tICcuLi8uLi9ET00vRE9NRWxlbWVudCdcclxuaW1wb3J0IHsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NYXRlcmlhbHMnXHJcbmltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vLi4vb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNEJ1xyXG5pbXBvcnQgeyBET01PYmplY3QzRCB9IGZyb20gJy4uLy4uLy4uL2N1cnRhaW5zL29iamVjdHMzRC9ET01PYmplY3QzRCdcclxuaW1wb3J0IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCBmcm9tICcuLi8uLi9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Byb2plY3RlZF92cy53Z3NsJ1xyXG5pbXBvcnQgZGVmYXVsdF9ub3JtYWxfZnNXZ3NsIGZyb20gJy4uLy4uL3NoYWRlcnMvY2h1bmtzL2RlZmF1bHRfbm9ybWFsX2ZzLndnc2wnXHJcblxyXG4vKipcclxuICogQmFzZSBwYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEgUHJvamVjdGVkTWVzaFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0ZWRNZXNoQmFzZVBhcmFtcyB7XHJcbiAgLyoqIFdoZXRoZXIgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCAobm90IGRyYXduIHdoZW4gb3V0c2lkZSBvZiB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhIHwgY2FtZXJhfSBmcnVzdHVtKSAqL1xyXG4gIGZydXN0dW1DdWxsZWQ/OiBib29sZWFuXHJcbiAgLyoqIE1hcmdpbnMgKGluIHBpeGVscykgdG8gYXBwbGllZCB0byB0aGUge0BsaW5rIFByb2plY3RlZE1lc2hCYXNlQ2xhc3MjZG9tRnJ1c3R1bSB8IERPTSBGcnVzdHVtfSB0byBkZXRlcm1pbmUgaWYgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCBvciBub3QgKi9cclxuICBET01GcnVzdHVtTWFyZ2lucz86IFJlY3RDb29yZHNcclxufVxyXG5cclxuLyoqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSBQcm9qZWN0ZWRNZXNoICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdGVkTWVzaFBhcmFtZXRlcnMgZXh0ZW5kcyBNZXNoQmFzZVBhcmFtcywgUHJvamVjdGVkTWVzaEJhc2VQYXJhbXMge31cclxuXHJcbi8qKiBAY29uc3QgLSBEZWZhdWx0IFByb2plY3RlZE1lc2ggcGFyYW1ldGVycyB0byBtZXJnZSB3aXRoIHVzZXIgZGVmaW5lZCBwYXJhbWV0ZXJzICovXHJcbmNvbnN0IGRlZmF1bHRQcm9qZWN0ZWRNZXNoUGFyYW1zOiBQcm9qZWN0ZWRNZXNoQmFzZVBhcmFtcyA9IHtcclxuICAvLyBmcnVzdHVtIGN1bGxpbmcgYW5kIHZpc2liaWxpdHlcclxuICBmcnVzdHVtQ3VsbGVkOiB0cnVlLFxyXG4gIERPTUZydXN0dW1NYXJnaW5zOiB7XHJcbiAgICB0b3A6IDAsXHJcbiAgICByaWdodDogMCxcclxuICAgIGJvdHRvbTogMCxcclxuICAgIGxlZnQ6IDAsXHJcbiAgfSxcclxufVxyXG5cclxuLyoqIEJhc2Ugb3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIFByb2plY3RlZE1lc2ggKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0ZWRNZXNoQmFzZU9wdGlvbnMgZXh0ZW5kcyBNZXNoQmFzZU9wdGlvbnMsIFBhcnRpYWw8UHJvamVjdGVkTWVzaEJhc2VQYXJhbXM+IHt9XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZXNjcmliZXMgdGhlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gc2V0IHVwIGEgUHJvamVjdGVkIE1lc2ggKGkuZS4gYSBiYXNpYyB7QGxpbmsgTWVzaEJhc2VDbGFzcyB8IE1lc2h9IHdpdGgge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB0cmFuc2Zvcm1hdGlvbnMgbWF0cmljZXMgYW5kIGEge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvbiksIGltcGxlbWVudGVkIGluIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbn06XHJcbiAqIC0gSGFuZGxlIHRoZSBmcnVzdHVtIGN1bGxpbmcgKGNoZWNrIGlmIHRoZSB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9IGN1cnJlbnRseSBsaWVzIGluc2lkZSB0aGUge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IGZydXN0dW0pXHJcbiAqIC0gQWRkIGNhbGxiYWNrcyBmb3Igd2hlbiB0aGUgTWVzaCBlbnRlcnMgb3IgbGVhdmVzIHRoZSB7QGxpbmsgY29yZS9jYW1lcmEvQ2FtZXJhLkNhbWVyYSB8IENhbWVyYX0gZnJ1c3R1bVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyBleHRlbmRzIE1lc2hCYXNlQ2xhc3Mge1xyXG4gIC8qKiBUaGUge0BsaW5rIENhbWVyYVJlbmRlcmVyfSB1c2VkICovXHJcbiAgcmVuZGVyZXI6IENhbWVyYVJlbmRlcmVyXHJcbiAgLyoqIFRoZSBQcm9qZWN0ZWRNZXNoIHtAbGluayBET01GcnVzdHVtfSBjbGFzcyBvYmplY3QgKi9cclxuICBkb21GcnVzdHVtOiBET01GcnVzdHVtXHJcbiAgLyoqIFdoZXRoZXIgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCAobm90IGRyYXduIHdoZW4gb3V0c2lkZSBvZiB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhIHwgY2FtZXJhfSBmcnVzdHVtKSAqL1xyXG4gIGZydXN0dW1DdWxsZWQ6IGJvb2xlYW5cclxuICAvKiogTWFyZ2lucyAoaW4gcGl4ZWxzKSB0byBhcHBsaWVkIHRvIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyNkb21GcnVzdHVtIHwgRE9NIEZydXN0dW19IHRvIGRldGVybWluZSBpZiB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIG9yIG5vdCAqL1xyXG4gIERPTUZydXN0dW1NYXJnaW5zOiBSZWN0Q29vcmRzXHJcblxyXG4gIC8vIGNhbGxiYWNrc1xyXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uUmVFbnRlclZpZXd9IGNhbGxiYWNrICovXHJcbiAgX29uUmVFbnRlclZpZXdDYWxsYmFjazogKCkgPT4gdm9pZFxyXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTGVhdmVWaWV3fSBjYWxsYmFjayAqL1xyXG4gIF9vbkxlYXZlVmlld0NhbGxiYWNrOiAoKSA9PiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gYSBET00gSFRNTCBFbGVtZW50IHRoYXQgY2FuIGJlIGJvdW5kIHRvIGEgTWVzaFxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFByb2plY3RlZE1lc2hQYXJhbWV0ZXJzIHwgUHJvamVjdGVkIE1lc2ggYmFzZSBwYXJhbWV0ZXJzfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciwgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsLCBwYXJhbWV0ZXJzOiBQcm9qZWN0ZWRNZXNoUGFyYW1ldGVycylcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGRlZmF1bHQgc2hhZGVycyBpZiBvbmUgb3IgYm90aCBvZiB0aGVtIGFyZSBtaXNzaW5nXHJcbiAgICovXHJcbiAgc2V0U2hhZGVycygpOiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIE92ZXJyaWRlIHtAbGluayBNZXNoQmFzZUNsYXNzfSBtZXRob2QgdG8gYWRkIHRoZSBkb21GcnVzdHVtXHJcbiAgICovXHJcbiAgY29tcHV0ZUdlb21ldHJ5KCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGEgTWVzaCBtYXRyaWNlcyB1bmlmb3JtcyBpbnB1dHMgdGhlbiBjYWxsIHtAbGluayBNZXNoQmFzZUNsYXNzfSBzdXBlciBtZXRob2RcclxuICAgKiBAcGFyYW0gbWVzaFBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfCBSZW5kZXJNYXRlcmlhbCBwYXJhbWV0ZXJzfVxyXG4gICAqL1xyXG4gIHNldE1hdGVyaWFsKG1lc2hQYXJhbWV0ZXJzOiBSZW5kZXJNYXRlcmlhbFBhcmFtcyk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogUmVzaXplIG91ciBNZXNoXHJcbiAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIHRoZSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICovXHJcbiAgcmVzaXplKGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwpOiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIEFwcGx5IHNjYWxlIGFuZCByZXNpemUgdGV4dHVyZXNcclxuICAgKi9cclxuICBhcHBseVNjYWxlKCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IG91ciB7QGxpbmsgRE9NRnJ1c3R1bX0gcHJvamVjdGVkIGJvdW5kaW5nIHJlY3RhbmdsZVxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBwcm9qZWN0ZWRCb3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdFxyXG5cclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBvbmUgb2YgdGhlIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLCB1cGRhdGUgYWNjb3JkaW5nIHVuaWZvcm1zIGFuZCBmcnVzdHVtXHJcbiAgICovXHJcbiAgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uUmVFbnRlclZpZXdDYWxsYmFja1xyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSBpcyByZWVudGVyaW5nIHRoZSB2aWV3IGZydXN0dW1cclxuICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICovXHJcbiAgb25SZUVudGVyVmlldzogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzXHJcbiAgLyoqXHJcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uTGVhdmVWaWV3Q2FsbGJhY2tcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgbGVhdmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxyXG4gICAqL1xyXG4gIG9uTGVhdmVWaWV3OiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2ggdG8gdXBkYXRlIG1hdHJpY2VzIGFuZCB7QGxpbmsgRE9NRnJ1c3R1bX0uXHJcbiAgICogRmlyc3QsIHdlIHVwZGF0ZSBvdXIgbWF0cmljZXMgdG8gaGF2ZSBmcmVzaCByZXN1bHRzLiBJdCBldmVudHVhbGx5IGNhbGxzIG9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpIGlmIGF0IGxlYXN0IG9uZSBtYXRyaXggaGFzIGJlZW4gdXBkYXRlZC5cclxuICAgKiBUaGVuIHdlIGNoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSB7QGxpbmsgRE9NRnJ1c3R1bX0gcHJvamVjdGVkIGJvdW5kaW5nIHJlY3RhbmdsZS5cclxuICAgKiBGaW5hbGx5IHdlIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3Mjb25CZWZvcmVSZW5kZXJQYXNzIHwgTWVzaCBiYXNlIG9uQmVmb3JlUmVuZGVyUGFzc30gc3VwZXJcclxuICAgKi9cclxuICBvbkJlZm9yZVJlbmRlclBhc3MoKTogdm9pZFxyXG5cclxuICAvKipcclxuICAgKiBPbmx5IHJlbmRlciB0aGUgTWVzaCBpZiBpdCBpcyBpbiB2aWV3IGZydXN0dW0uXHJcbiAgICogU2luY2UgcmVuZGVyKCkgaXMgYWN0dWFsbHkgY2FsbGVkIGJlZm9yZSBvblJlbmRlclBhc3MoKSwgd2UgYXJlIHN1cmUgdG8gaGF2ZSBmcmVzaCBmcnVzdHVtIGJvdW5kaW5nIHJlY3RhbmdsZSB2YWx1ZXMgaGVyZS5cclxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3NcclxuICAgKi9cclxuICBvblJlbmRlclBhc3MocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpOiB2b2lkXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGFkZCB0aGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBkZWZpbmVkIGluIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSB0byB0aGUge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IGFuZCBtaXggaXQgd2l0aCBhIGdpdmVuIEJhc2Ugb2YgdHlwZSB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9IG9yIHtAbGluayBET01PYmplY3QzRH0uXHJcbiAqIEBleHBvcnRzXHJcbiAqIEBwYXJhbSBCYXNlIC0gdGhlIGNsYXNzIHRvIG1peCBvbnRvLCBzaG91bGQgYmUgb2Yge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSBvciB7QGxpbmsgRE9NT2JqZWN0M0R9IHR5cGVcclxuICogQHJldHVybnMgLSB0aGUgbWl4ZWQgY2xhc3NlcywgY3JlYXRpbmcgYSBQcm9qZWN0ZWQgTWVzaC5cclxuICovXHJcbmZ1bmN0aW9uIFByb2plY3RlZE1lc2hCYXNlTWl4aW48VEJhc2UgZXh0ZW5kcyBNaXhpbkNvbnN0cnVjdG9yPFByb2plY3RlZE9iamVjdDNEPj4oXHJcbiAgQmFzZTogVEJhc2VcclxuKTogTWl4aW5Db25zdHJ1Y3RvcjxQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzPiAmIFRCYXNlIHtcclxuICAvKipcclxuICAgKiBQcm9qZWN0ZWRNZXNoQmFzZSBkZWZpbmVzIG91ciBiYXNlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcclxuICAgKi9cclxuICByZXR1cm4gY2xhc3MgUHJvamVjdGVkTWVzaEJhc2UgZXh0ZW5kcyBNZXNoQmFzZU1peGluKEJhc2UpIHtcclxuICAgIC8qKiBUaGUge0BsaW5rIENhbWVyYVJlbmRlcmVyfSB1c2VkICovXHJcbiAgICByZW5kZXJlcjogQ2FtZXJhUmVuZGVyZXJcclxuICAgIC8qKiBUaGUgUHJvamVjdGVkTWVzaCB7QGxpbmsgRE9NRnJ1c3R1bX0gY2xhc3Mgb2JqZWN0ICovXHJcbiAgICBkb21GcnVzdHVtOiBET01GcnVzdHVtXHJcbiAgICAvKiogV2hldGhlciB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIChub3QgZHJhd24gd2hlbiBvdXRzaWRlIG9mIHtAbGluayBDYW1lcmFSZW5kZXJlciNjYW1lcmEgfCBjYW1lcmF9IGZydXN0dW0pICovXHJcbiAgICBmcnVzdHVtQ3VsbGVkOiBib29sZWFuXHJcbiAgICAvKiogTWFyZ2lucyAoaW4gcGl4ZWxzKSB0byBhcHBsaWVkIHRvIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyNkb21GcnVzdHVtIHwgRE9NIEZydXN0dW19IHRvIGRldGVybWluZSBpZiB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIG9yIG5vdCAqL1xyXG4gICAgRE9NRnJ1c3R1bU1hcmdpbnM6IFJlY3RDb29yZHNcclxuXHJcbiAgICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSAqL1xyXG4gICAgb3B0aW9uczogUHJvamVjdGVkTWVzaEJhc2VPcHRpb25zXHJcblxyXG4gICAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXHJcbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlRW50ZXJWaWV3fSBjYWxsYmFjayAqL1xyXG4gICAgX29uUmVFbnRlclZpZXdDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcclxuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cclxuICAgIH1cclxuICAgIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTGVhdmVWaWV3fSBjYWxsYmFjayAqL1xyXG4gICAgX29uTGVhdmVWaWV3Q2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XHJcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9qZWN0ZWRNZXNoQmFzZSBjb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEB0eXBlZGVmIE1lc2hCYXNlQXJyYXlQYXJhbXNcclxuICAgICAqIEB0eXBlIHthcnJheX1cclxuICAgICAqIEBwcm9wZXJ0eSB7KENhbWVyYVJlbmRlcmVyfEdQVUN1cnRhaW5zKX0gMCAtIG91ciByZW5kZXJlciBjbGFzcyBvYmplY3RcclxuICAgICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xIVE1MRWxlbWVudHxudWxsKX0gMSAtIHRoZSBET00gSFRNTCBFbGVtZW50IHRoYXQgY2FuIGJlIGJvdW5kIHRvIGEgTWVzaFxyXG4gICAgICogQHByb3BlcnR5IHtQcm9qZWN0ZWRNZXNoUGFyYW1ldGVyc30gMiAtIFByb2plY3RlZCBNZXNoIHBhcmFtZXRlcnNcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge01lc2hCYXNlQXJyYXlQYXJhbXN9IHBhcmFtcyAtIG91ciBNZXNoQmFzZU1peGluIHBhcmFtZXRlcnNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoLi4ucGFyYW1zOiBhbnlbXSkge1xyXG4gICAgICBzdXBlcihcclxuICAgICAgICBwYXJhbXNbMF0gYXMgQ2FtZXJhUmVuZGVyZXIgfCBHUFVDdXJ0YWlucyxcclxuICAgICAgICBwYXJhbXNbMV0gYXMgSFRNTEVsZW1lbnQgfCBzdHJpbmcsXHJcbiAgICAgICAgeyAuLi5kZWZhdWx0UHJvamVjdGVkTWVzaFBhcmFtcywgLi4ucGFyYW1zWzJdLCAuLi57IHVzZVByb2plY3Rpb246IHRydWUgfSB9IGFzIFByb2plY3RlZE1lc2hQYXJhbWV0ZXJzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGxldCByZW5kZXJlciA9IHBhcmFtc1swXVxyXG5cclxuICAgICAgLy8gZm9yY2UgdGhpcyBtZXNoIHRvIHVzZSBwcm9qZWN0aW9uIVxyXG4gICAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xyXG4gICAgICAgIC4uLmRlZmF1bHRQcm9qZWN0ZWRNZXNoUGFyYW1zLFxyXG4gICAgICAgIC4uLnBhcmFtc1syXSxcclxuICAgICAgICAuLi57IHVzZVByb2plY3Rpb246IHRydWUgfSxcclxuICAgICAgfSBhcyBQcm9qZWN0ZWRNZXNoUGFyYW1ldGVyc1xyXG5cclxuICAgICAgdGhpcy50eXBlID0gJ01lc2hUcmFuc2Zvcm1lZCdcclxuXHJcbiAgICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBDYW1lcmFSZW5kZXJlcilcclxuXHJcbiAgICAgIGlzQ2FtZXJhUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyAnICsgdGhpcy50eXBlIDogdGhpcy50eXBlKVxyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXHJcblxyXG4gICAgICBjb25zdCB7IGdlb21ldHJ5LCBmcnVzdHVtQ3VsbGVkLCBET01GcnVzdHVtTWFyZ2lucyB9ID0gcGFyYW1ldGVyc1xyXG5cclxuICAgICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgIC4uLih0aGlzLm9wdGlvbnMgPz8ge30pLCAvLyBtZXJnZSBwb3NzaWJsZSBsb3dlciBvcHRpb25zP1xyXG4gICAgICAgIGZydXN0dW1DdWxsZWQsXHJcbiAgICAgICAgRE9NRnJ1c3R1bU1hcmdpbnMsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2V0RE9NRnJ1c3R1bSgpXHJcblxyXG4gICAgICAvLyBleHBsaWNpdGx5IG5lZWRlZCBmb3IgRE9NIEZydXN0dW1cclxuICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5XHJcblxyXG4gICAgICAvLyB0ZWxsIHRoZSBtb2RlbCBhbmQgcHJvamVjdGlvbiBtYXRyaWNlcyB0byB1cGRhdGUgcmlnaHQgYXdheVxyXG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZU1hdHJpeFN0YWNrKClcclxuICAgIH1cclxuXHJcbiAgICAvKiBTSEFERVJTICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZGVmYXVsdCBzaGFkZXJzIGlmIG9uZSBvciBib3RoIG9mIHRoZW0gYXJlIG1pc3NpbmdcclxuICAgICAqL1xyXG4gICAgc2V0U2hhZGVycygpIHtcclxuICAgICAgbGV0IHsgc2hhZGVycyB9ID0gdGhpcy5vcHRpb25zXHJcblxyXG4gICAgICBpZiAoIXNoYWRlcnMpIHtcclxuICAgICAgICBzaGFkZXJzID0ge1xyXG4gICAgICAgICAgdmVydGV4OiB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfbm9ybWFsX2ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFzaGFkZXJzLnZlcnRleCB8fCAhc2hhZGVycy52ZXJ0ZXguY29kZSkge1xyXG4gICAgICAgICAgc2hhZGVycy52ZXJ0ZXggPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzaGFkZXJzLmZyYWdtZW50IHx8ICFzaGFkZXJzLmZyYWdtZW50LmNvZGUpIHtcclxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfbm9ybWFsX2ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEdFT01FVFJZICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIE1lc2ggZnJ1c3R1bSBjdWxsaW5nXHJcbiAgICAgKi9cclxuICAgIHNldERPTUZydXN0dW0oKSB7XHJcbiAgICAgIHRoaXMuZG9tRnJ1c3R1bSA9IG5ldyBET01GcnVzdHVtKHtcclxuICAgICAgICBib3VuZGluZ0JveDogdGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JveCxcclxuICAgICAgICBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4OiB0aGlzLm1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgICAgY29udGFpbmVyQm91bmRpbmdSZWN0OiB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdCxcclxuICAgICAgICBET01GcnVzdHVtTWFyZ2luczogdGhpcy5vcHRpb25zLkRPTUZydXN0dW1NYXJnaW5zLFxyXG4gICAgICAgIG9uUmVFbnRlclZpZXc6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX29uUmVFbnRlclZpZXdDYWxsYmFjayAmJiB0aGlzLl9vblJlRW50ZXJWaWV3Q2FsbGJhY2soKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZVZpZXc6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX29uTGVhdmVWaWV3Q2FsbGJhY2sgJiYgdGhpcy5fb25MZWF2ZVZpZXdDYWxsYmFjaygpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMgPSB0aGlzLmRvbUZydXN0dW0uRE9NRnJ1c3R1bU1hcmdpbnNcclxuICAgICAgdGhpcy5mcnVzdHVtQ3VsbGVkID0gdGhpcy5vcHRpb25zLmZydXN0dW1DdWxsZWRcclxuICAgICAgdGhpcy5kb21GcnVzdHVtLnNob3VsZFVwZGF0ZSA9IHRoaXMuZnJ1c3R1bUN1bGxlZFxyXG4gICAgfVxyXG5cclxuICAgIC8qIE1BVEVSSUFMICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYSBNZXNoIG1hdHJpY2VzIHVuaWZvcm1zIGlucHV0cyB0aGVuIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IHN1cGVyIG1ldGhvZFxyXG4gICAgICogQHBhcmFtIG1lc2hQYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlck1hdGVyaWFsUGFyYW1zIHwgUmVuZGVyTWF0ZXJpYWwgcGFyYW1ldGVyc31cclxuICAgICAqL1xyXG4gICAgc2V0TWF0ZXJpYWwobWVzaFBhcmFtZXRlcnM6IFJlbmRlck1hdGVyaWFsUGFyYW1zKSB7XHJcbiAgICAgIC8vIGFkZCBtYXRyaWNlcyB1bmlmb3Jtc1xyXG4gICAgICBjb25zdCBtYXRyaWNlc1VuaWZvcm1zID0ge1xyXG4gICAgICAgIGxhYmVsOiAnTWF0cmljZXMnLFxyXG4gICAgICAgIHN0cnVjdDoge1xyXG4gICAgICAgICAgbW9kZWw6IHtcclxuICAgICAgICAgICAgbmFtZTogJ21vZGVsJyxcclxuICAgICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5tb2RlbE1hdHJpeCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB3b3JsZDoge1xyXG4gICAgICAgICAgICBuYW1lOiAnd29ybGQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnbWF0NHg0ZicsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLndvcmxkTWF0cml4LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1vZGVsVmlldzoge1xyXG4gICAgICAgICAgICAvLyBtb2RlbCB2aWV3IG1hdHJpeCAod29ybGQgbWF0cml4IG11bHRpcGxpZWQgYnkgY2FtZXJhIHZpZXcgbWF0cml4KVxyXG4gICAgICAgICAgICBuYW1lOiAnbW9kZWxWaWV3JyxcclxuICAgICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5tb2RlbFZpZXdNYXRyaXgsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbW9kZWxWaWV3UHJvamVjdGlvbjoge1xyXG4gICAgICAgICAgICBuYW1lOiAnbW9kZWxWaWV3UHJvamVjdGlvbicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFtZXNoUGFyYW1ldGVycy51bmlmb3JtcykgbWVzaFBhcmFtZXRlcnMudW5pZm9ybXMgPSB7fVxyXG4gICAgICBtZXNoUGFyYW1ldGVycy51bmlmb3Jtcy5tYXRyaWNlcyA9IG1hdHJpY2VzVW5pZm9ybXNcclxuXHJcbiAgICAgIHN1cGVyLnNldE1hdGVyaWFsKG1lc2hQYXJhbWV0ZXJzKVxyXG4gICAgfVxyXG5cclxuICAgIC8qIFNJWkUgJiBUUkFOU0ZPUk1TICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNpemUgb3VyIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfVxyXG4gICAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIHRoZSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZShib3VuZGluZ1JlY3Q/OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkge1xyXG4gICAgICBpZiAodGhpcy5kb21GcnVzdHVtKSB0aGlzLmRvbUZydXN0dW0uc2V0Q29udGFpbmVyQm91bmRpbmdSZWN0KHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0KVxyXG5cclxuICAgICAgc3VwZXIucmVzaXplKGJvdW5kaW5nUmVjdClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IHNjYWxlIGFuZCByZXNpemUgdGV4dHVyZXNcclxuICAgICAqL1xyXG4gICAgYXBwbHlTY2FsZSgpIHtcclxuICAgICAgc3VwZXIuYXBwbHlTY2FsZSgpXHJcblxyXG4gICAgICAvLyByZXNpemUgdGV4dHVyZXMgb24gc2NhbGUgY2hhbmdlIVxyXG4gICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHRleHR1cmUucmVzaXplKCkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgb3VyIHtAbGluayBET01GcnVzdHVtfSBwcm9qZWN0ZWQgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqL1xyXG4gICAgZ2V0IHByb2plY3RlZEJvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcclxuICAgICAgcmV0dXJuIHRoaXMuZG9tRnJ1c3R1bT8ucHJvamVjdGVkQm91bmRpbmdSZWN0XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdCBsZWFzdCBvbmUgb2YgdGhlIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLCB1cGRhdGUgYWNjb3JkaW5nIHVuaWZvcm1zIGFuZCBmcnVzdHVtXHJcbiAgICAgKi9cclxuICAgIG9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpIHtcclxuICAgICAgaWYgKHRoaXMubWF0ZXJpYWwpIHtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLnNob3VsZFVwZGF0ZUlucHV0c0JpbmRpbmdzKCdtYXRyaWNlcycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmRvbUZydXN0dW0pIHRoaXMuZG9tRnJ1c3R1bS5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLyogRVZFTlRTICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25SZUVudGVyVmlld0NhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgcmVlbnRlcmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICAgKi9cclxuICAgIG9uUmVFbnRlclZpZXcoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzIHtcclxuICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fb25SZUVudGVyVmlld0NhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vbkxlYXZlVmlld0NhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgbGVhdmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICAgKi9cclxuICAgIG9uTGVhdmVWaWV3KGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XHJcbiAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29uTGVhdmVWaWV3Q2FsbGJhY2sgPSBjYWxsYmFja1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFJFTkRFUiAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2ggdG8gdXBkYXRlIG1hdHJpY2VzIGFuZCB7QGxpbmsgRE9NRnJ1c3R1bX0uXHJcbiAgICAgKiBGaXJzdCwgd2UgdXBkYXRlIG91ciBtYXRyaWNlcyB0byBoYXZlIGZyZXNoIHJlc3VsdHMuIEl0IGV2ZW50dWFsbHkgY2FsbHMgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCkgaWYgYXQgbGVhc3Qgb25lIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLlxyXG4gICAgICogVGhlbiB3ZSBjaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUge0BsaW5rIERPTUZydXN0dW19IHByb2plY3RlZCBib3VuZGluZyByZWN0YW5nbGUuXHJcbiAgICAgKiBGaW5hbGx5IHdlIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3Mjb25CZWZvcmVSZW5kZXJQYXNzIHwgTWVzaCBiYXNlIG9uQmVmb3JlUmVuZGVyUGFzc30gc3VwZXJcclxuICAgICAqL1xyXG4gICAgb25CZWZvcmVSZW5kZXJQYXNzKCkge1xyXG4gICAgICB0aGlzLnVwZGF0ZU1hdHJpeFN0YWNrKClcclxuXHJcbiAgICAgIGlmICh0aGlzLmRvbUZydXN0dW0gJiYgdGhpcy5kb21GcnVzdHVtLnNob3VsZFVwZGF0ZSAmJiB0aGlzLmZydXN0dW1DdWxsZWQpIHtcclxuICAgICAgICB0aGlzLmRvbUZydXN0dW0uY29tcHV0ZVByb2plY3RlZFRvRG9jdW1lbnRDb29yZHMoKVxyXG4gICAgICAgIHRoaXMuZG9tRnJ1c3R1bS5zaG91bGRVcGRhdGUgPSBmYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzdXBlci5vbkJlZm9yZVJlbmRlclBhc3MoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT25seSByZW5kZXIgdGhlIE1lc2ggaWYgaXQgaXMgaW4gdmlldyBmcnVzdHVtLlxyXG4gICAgICogU2luY2UgcmVuZGVyKCkgaXMgYWN0dWFsbHkgY2FsbGVkIGJlZm9yZSBvblJlbmRlclBhc3MoKSwgd2UgYXJlIHN1cmUgdG8gaGF2ZSBmcmVzaCBmcnVzdHVtIGJvdW5kaW5nIHJlY3RhbmdsZSB2YWx1ZXMgaGVyZS5cclxuICAgICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzc1xyXG4gICAgICovXHJcbiAgICBvblJlbmRlclBhc3MocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpIHtcclxuICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsLnJlYWR5KSByZXR1cm5cclxuXHJcbiAgICAgIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25SZW5kZXJDYWxsYmFjaygpXHJcblxyXG4gICAgICBpZiAoKHRoaXMuZG9tRnJ1c3R1bSAmJiB0aGlzLmRvbUZydXN0dW0uaXNJbnRlcnNlY3RpbmcpIHx8ICF0aGlzLmZydXN0dW1DdWxsZWQpIHtcclxuICAgICAgICAvLyByZW5kZXIgb3UgbWF0ZXJpYWxcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLnJlbmRlcihwYXNzKVxyXG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIG91ciBnZW9tZXRyeVxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVuZGVyKHBhc3MpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFByb2plY3RlZE1lc2hCYXNlTWl4aW4gfVxyXG4iLCJpbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNDYW1lcmFSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNEJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbiB9IGZyb20gJy4vbWl4aW5zL1Byb2plY3RlZE1lc2hCYXNlTWl4aW4nXG5pbXBvcnQgeyBNZXNoQmFzZVBhcmFtcyB9IGZyb20gJy4vbWl4aW5zL01lc2hCYXNlTWl4aW4nXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuXG4vKipcbiAqIENyZWF0ZSBhIDNEIE1lc2guXG4gKlxuICogQSAzRCBNZXNoIGlzIGEgYmFzaWNhbGx5IGEge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB3aXRoIGEge0BsaW5rIGNvcmUvZ2VvbWV0cmllcy9HZW9tZXRyeS5HZW9tZXRyeSB8IEdlb21ldHJ5fSBhbmQgYSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwgfCBSZW5kZXJNYXRlcmlhbH0uXG4gKlxuICogWW91IG5lZWQgdG8gcGFzcyBhdCBsZWFzdCBhIHZhbGlkIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0gYXMgcGFyYW1ldGVyLjxicj5cbiAqIElmIG5vIHNoYWRlcnMgYXJlIHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgbm9ybWFscyBjb2xvcnMgYXMgZGVmYXVsdCBzaGFkaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBtZXNoIHdpdGggYSBib3ggZ2VvbWV0cnlcbiAqIC8vIHdpbGwgdXNlIHRoZSBub3JtYWxzIGNvbG9ycyBhcyBkZWZhdWx0IHNoYWRpbmdcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ015IG1lc2gnLFxuICogICBnZW9tZXRyeTogbmV3IEJveEdlb21ldHJ5KCksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoIGV4dGVuZHMgUHJvamVjdGVkTWVzaEJhc2VNaXhpbihQcm9qZWN0ZWRPYmplY3QzRCkge1xuICAvKipcbiAgICogTWVzaCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBNZXNofVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBNZXNoQmFzZVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZSB0byBjcmVhdGUgdGhpcyB7QGxpbmsgTWVzaH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzOiBNZXNoQmFzZVBhcmFtcykge1xuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIENhbWVyYVJlbmRlcmVyKVxuXG4gICAgaXNDYW1lcmFSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIE1lc2gnIDogJ01lc2gnKVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHN1cGVyKHJlbmRlcmVyLCBudWxsLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gJ01lc2gnXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUGlwZWxpbmVFbnRyeU9wdGlvbnMsIFBpcGVsaW5lRW50cnlQYXJhbXMsIFBpcGVsaW5lRW50cnlTdGF0dXMgfSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgTWF0ZXJpYWxTaGFkZXJzVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcblxubGV0IHBpcGVsaW5lSWQgPSAwXG5cbi8qKlxuICogVXNlZCBhcyBhIGJhc2UgY2xhc3MgdG8gY3JlYXRlIGEgcGlwZWxpbmUgZW50cnkuPGJyPlxuICoge0BsaW5rIFBpcGVsaW5lRW50cnl9IHJvbGVzIGFyZTpcbiAqIC0gUGF0Y2ggdGhlIGdpdmVuIHtAbGluayBjb3JlL21hdGVyaWFscy9NYXRlcmlhbC5NYXRlcmlhbCB8IE1hdGVyaWFsfSBzaGFkZXJzIGNvZGUgYW5kIGNyZWF0ZSB0aGUgY29ycmVzcG9uZGluZyB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfS5cbiAqIC0gQ3JlYXRlIGEge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0IHwgcGlwZWxpbmUgbGF5b3V0fSB3aXRoIHRoZSBnaXZlbiB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfVxuICogLSBDcmVhdGUgYSBHUFUgcGlwZWxpbmVcbiAqL1xuZXhwb3J0IGNsYXNzIFBpcGVsaW5lRW50cnkge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBQaXBlbGluZUVudHJ5fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFBpcGVsaW5lRW50cnl9ICovXG4gIHJlbmRlcmVyOiBSZW5kZXJlclxuICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgUGlwZWxpbmVFbnRyeX0sIGkuZS4gY3JlYXRpb24gb3JkZXIgKi9cbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlclxuICAvKioge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0IHwgUGlwZWxpbmUgbGF5b3V0fSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBnaXZlbiB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSAqL1xuICBsYXlvdXQ6IEdQVVBpcGVsaW5lTGF5b3V0IHwgbnVsbFxuICAvKiogVGhlIEdQVSBwaXBlbGluZSAqL1xuICBwaXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmUgfCBHUFVDb21wdXRlUGlwZWxpbmUgfCBudWxsXG4gIC8qKiBUaGUgcGlwZWxpbmUge0BsaW5rIFBpcGVsaW5lRW50cnlTdGF0dXMgfCBjb21waWxhdGlvbiBzdGF0dXN9ICovXG4gIHN0YXR1czogUGlwZWxpbmVFbnRyeVN0YXR1c1xuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fSAqL1xuICBvcHRpb25zOiBQaXBlbGluZUVudHJ5T3B0aW9uc1xuXG4gIC8qKiB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSB1c2VkIHRvIHBhdGNoIHRoZSBzaGFkZXJzIGFuZCBjcmVhdGUgdGhlIHtAbGluayBQaXBlbGluZUVudHJ5I2xheW91dCB8IHBpcGVsaW5lIGxheW91dH0gKi9cbiAgYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXVxuXG4gIC8qKlxuICAgKiBQaXBlbGluZUVudHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIHRoaXMudHlwZSA9ICdQaXBlbGluZUVudHJ5J1xuXG4gICAgbGV0IHsgcmVuZGVyZXIgfSA9IHBhcmFtZXRlcnNcbiAgICBjb25zdCB7IGxhYmVsLCBzaGFkZXJzLCB1c2VBc3luYyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdGhpcy50eXBlIDogdGhpcy50eXBlKVxuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyBhcyBQaXBlbGluZUVudHJ5LCAnaW5kZXgnLCB7IHZhbHVlOiBwaXBlbGluZUlkKysgfSlcblxuICAgIHRoaXMubGF5b3V0ID0gbnVsbFxuICAgIHRoaXMucGlwZWxpbmUgPSBudWxsXG5cbiAgICB0aGlzLnN0YXR1cyA9IHtcbiAgICAgIGNvbXBpbGluZzogZmFsc2UsXG4gICAgICBjb21waWxlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBsYWJlbCxcbiAgICAgIHNoYWRlcnMsXG4gICAgICB1c2VBc3luYzogdXNlQXN5bmMgIT09IHVuZGVmaW5lZCA/IHVzZUFzeW5jIDogdHJ1ZSxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhlIHtAbGluayBwaXBlbGluZX0gaXMgcmVhZHksIGkuZS4gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5zdGF0dXMuY29tcGlsaW5nICYmIHRoaXMuc3RhdHVzLmNvbXBpbGVkICYmICF0aGlzLnN0YXR1cy5lcnJvclxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSB7QGxpbmsgcGlwZWxpbmV9IGlzIHJlYWR5IHRvIGJlIGNvbXBpbGVkLCBpLmUuIHdlIGhhdmUgbm90IGFscmVhZHkgdHJpZWQgdG8gY29tcGlsZSBpdCwgYW5kIGl0J3Mgbm90IGN1cnJlbnRseSBjb21waWxpbmcgbmVpdGhlclxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjYW5Db21waWxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5zdGF0dXMuY29tcGlsaW5nICYmICF0aGlzLnN0YXR1cy5jb21waWxlZCAmJiAhdGhpcy5zdGF0dXMuZXJyb3JcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBwaXBlbGluZSBlbnRyeSBiaW5kIGdyb3Vwc31cbiAgICogQHBhcmFtIGJpbmRHcm91cHMgLSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgc2V0UGlwZWxpbmVFbnRyeUJpbmRHcm91cHMoYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXSkge1xuICAgIHRoaXMuYmluZEdyb3VwcyA9IGJpbmRHcm91cHNcbiAgfVxuXG4gIC8qIFNIQURFUlMgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVVNoYWRlck1vZHVsZX1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBQYXJhbWV0ZXJzIHVzZWRcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuY29kZSAtIHBhdGNoZWQgV0dTTCBjb2RlIHN0cmluZ1xuICAgKiBAcGFyYW0gcGFyYW1ldGVycy50eXBlIC0ge0BsaW5rIE1hdGVyaWFsU2hhZGVyc1R5cGUgfCBzaGFkZXIgdHlwZX1cbiAgICogQHJldHVybnMgLSBjb21waWxlZCB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfSBpZiBzdWNjZXNzZnVsXG4gICAqL1xuICBjcmVhdGVTaGFkZXJNb2R1bGUoeyBjb2RlID0gJycsIHR5cGUgPSAndmVydGV4JyB9OiB7IGNvZGU6IHN0cmluZzsgdHlwZTogTWF0ZXJpYWxTaGFkZXJzVHlwZSB9KTogR1BVU2hhZGVyTW9kdWxlIHtcbiAgICBjb25zdCBzaGFkZXJNb2R1bGUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJzogJyArIHR5cGUgKyAnU2hhZGVyIG1vZHVsZScsXG4gICAgICBjb2RlLFxuICAgIH0pXG5cbiAgICBpZiAoJ2dldENvbXBpbGF0aW9uSW5mbycgaW4gc2hhZGVyTW9kdWxlICYmICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24pIHtcbiAgICAgIHNoYWRlck1vZHVsZS5nZXRDb21waWxhdGlvbkluZm8oKS50aGVuKChjb21waWxhdGlvbkluZm8pID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNvbXBpbGF0aW9uSW5mby5tZXNzYWdlcykge1xuICAgICAgICAgIGxldCBmb3JtYXR0ZWRNZXNzYWdlID0gJydcbiAgICAgICAgICBpZiAobWVzc2FnZS5saW5lTnVtKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGBMaW5lICR7bWVzc2FnZS5saW5lTnVtfToke21lc3NhZ2UubGluZVBvc30gLSAke2NvZGUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICBtZXNzYWdlLm9mZnNldCxcbiAgICAgICAgICAgICAgbWVzc2FnZS5vZmZzZXQgKyBtZXNzYWdlLmxlbmd0aFxuICAgICAgICAgICAgKX1cXG5gXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm1hdHRlZE1lc3NhZ2UgKz0gbWVzc2FnZS5tZXNzYWdlXG5cbiAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAvLyBUT0RPIG1lc2ggb25FcnJvcj9cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLm9wdGlvbnMubGFiZWx9IGNvbXBpbGF0aW9uIGVycm9yOlxcbiR7Zm9ybWF0dGVkTWVzc2FnZX1gKVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnd2FybmluZyc6XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0aGlzLm9wdGlvbnMubGFiZWx9IGNvbXBpbGF0aW9uIHdhcm5pbmc6XFxuJHtmb3JtYXR0ZWRNZXNzYWdlfWApXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5vcHRpb25zLmxhYmVsfSBjb21waWxhdGlvbiBpbmZvcm1hdGlvbjpcXG4ke2Zvcm1hdHRlZE1lc3NhZ2V9YClcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlck1vZHVsZVxuICB9XG5cbiAgLyogU0VUVVAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgUGlwZWxpbmVFbnRyeX0gc2hhZGVyc1xuICAgKi9cbiAgY3JlYXRlU2hhZGVycygpIHtcbiAgICAvKiB3aWxsIGJlIG92ZXJyaWRlbiAqL1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgcGlwZWxpbmUgZW50cnkge0BsaW5rIGxheW91dH1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lTGF5b3V0KCkge1xuICAgIHRoaXMubGF5b3V0ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyBsYXlvdXQnLFxuICAgICAgYmluZEdyb3VwTGF5b3V0czogdGhpcy5iaW5kR3JvdXBzLm1hcCgoYmluZEdyb3VwKSA9PiBiaW5kR3JvdXAuYmluZEdyb3VwTGF5b3V0KSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUge0BsaW5rIFBpcGVsaW5lRW50cnl9IGRlc2NyaXB0b3JcbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICAvKiB3aWxsIGJlIG92ZXJyaWRlbiAqL1xuICB9XG5cbiAgLyoqXG4gICAqIEZsdXNoIGEge0BsaW5rIFBpcGVsaW5lRW50cnl9LCBpLmUuIHJlc2V0IGl0cyB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSwge0BsaW5rIGxheW91dH0gYW5kIGRlc2NyaXB0b3IgYW5kIHJlY29tcGlsZSB0aGUge0BsaW5rIHBpcGVsaW5lfVxuICAgKiBVc2VkIHdoZW4gb25lIG9mIHRoZSBiaW5kIGdyb3VwIG9yIHJlbmRlcmluZyBwcm9wZXJ0eSBoYXMgY2hhbmdlZFxuICAgKiBAcGFyYW0gbmV3QmluZEdyb3VwcyAtIG5ldyB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBpbiBjYXNlIHRoZXkgaGF2ZSBjaGFuZ2VkXG4gICAqL1xuICBmbHVzaFBpcGVsaW5lRW50cnkobmV3QmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXSA9IFtdKSB7XG4gICAgdGhpcy5zdGF0dXMuY29tcGlsaW5nID0gZmFsc2VcbiAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IGZhbHNlXG4gICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBudWxsXG5cbiAgICB0aGlzLnNldFBpcGVsaW5lRW50cnlCaW5kR3JvdXBzKG5ld0JpbmRHcm91cHMpXG4gICAgdGhpcy5jb21waWxlUGlwZWxpbmVFbnRyeSgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIGEge0BsaW5rIHBpcGVsaW5lfSBieSBjcmVhdGluZyB0aGUgc2hhZGVycywgdGhlIHtAbGluayBsYXlvdXR9IGFuZCB0aGUgZGVzY3JpcHRvclxuICAgKi9cbiAgY29tcGlsZVBpcGVsaW5lRW50cnkoKSB7XG4gICAgdGhpcy5zdGF0dXMuY29tcGlsaW5nID0gdHJ1ZVxuXG4gICAgdGhpcy5jcmVhdGVTaGFkZXJzKClcbiAgICB0aGlzLmNyZWF0ZVBpcGVsaW5lTGF5b3V0KClcbiAgICB0aGlzLmNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxyXG5mbiBnZXRPdXRwdXRQb3NpdGlvbihwb3NpdGlvbjogdmVjM2YpIC0+IHZlYzRmIHtcclxuICByZXR1cm4gbWF0cmljZXMubW9kZWxWaWV3UHJvamVjdGlvbiAqIHZlYzRmKHBvc2l0aW9uLCAxLjApO1xyXG59YFxyXG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbmZuIGdldFVWQ292ZXIodXY6IHZlYzJmLCB0ZXh0dXJlTWF0cml4OiBtYXQ0eDRmKSAtPiB2ZWMyZiB7XG4gIHJldHVybiAodGV4dHVyZU1hdHJpeCAqIHZlYzRmKHV2LCAwLjAsIDEuMCkpLnh5O1xufWBcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuZm4gZ2V0VmVydGV4MkRUb1VWQ29vcmRzKHZlcnRleDogdmVjMmYpIC0+IHZlYzJmIHtcbiAgcmV0dXJuIHZlYzIoXG4gICAgdmVydGV4LnggKiAwLjUgKyAwLjUsXG4gICAgMC41IC0gdmVydGV4LnkgKiAwLjVcbiAgKTtcbn1cblxuZm4gZ2V0VmVydGV4M0RUb1VWQ29vcmRzKHZlcnRleDogdmVjM2YpIC0+IHZlYzJmIHtcbiAgcmV0dXJuIHZlYzIoXG4gICAgdmVydGV4LnggKiAwLjUgKyAwLjUsXG4gICAgMC41IC0gdmVydGV4LnkgKiAwLjVcbiAgKTtcbn1cbmBcbiIsImltcG9ydCB7IFJlbmRlck1hdGVyaWFsU2hhZGVyc1R5cGUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgZ2V0X291dHB1dF9wb3NpdGlvbiBmcm9tICcuL2NodW5rcy9nZXRfb3V0cHV0X3Bvc2l0aW9uLndnc2wnXG5pbXBvcnQgZ2V0X3V2X2NvdmVyIGZyb20gJy4vY2h1bmtzL2dldF91dl9jb3Zlci53Z3NsJ1xuaW1wb3J0IGdldF92ZXJ0ZXhfdG9fdXZfY29vcmRzIGZyb20gJy4vY2h1bmtzL2dldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLndnc2wnXG5cbi8qKiBEZWZpbmVzIHtAbGluayBTaGFkZXJDaHVua3N9IG9iamVjdCBzdHJ1Y3R1cmUgKi9cbmV4cG9ydCB0eXBlIFNoYWRlckNodW5rcyA9IFJlY29yZDxSZW5kZXJNYXRlcmlhbFNoYWRlcnNUeXBlLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PlxuLyoqIERlZmluZXMge0BsaW5rIFByb2plY3RlZFNoYWRlckNodW5rc30gb2JqZWN0IHN0cnVjdHVyZSAqL1xuZXhwb3J0IHR5cGUgUHJvamVjdGVkU2hhZGVyQ2h1bmtzID0gUmVjb3JkPFJlbmRlck1hdGVyaWFsU2hhZGVyc1R5cGUsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+XG5cbi8qKlxuICogVXNlZnVsIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIHZlcnRleCBhbmQvb3IgZnJhZ21lbnQgc2hhZGVyc1xuICovXG5leHBvcnQgY29uc3QgU2hhZGVyQ2h1bmtzID0ge1xuICAvKiogV0dTTCBjb2RlIGNodW5rcyBhZGRlZCB0byB0aGUgdmVydGV4IHNoYWRlciAqL1xuICB2ZXJ0ZXg6IHtcbiAgICAvKiogQXBwbGllcyBnaXZlbiB0ZXh0dXJlIG1hdHJpeCB0byBnaXZlbiB1diBjb29yZGluYXRlcyAqL1xuICAgIGdldF91dl9jb3ZlcixcbiAgfSxcbiAgLyoqIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIGZyYWdtZW50IHNoYWRlciAqL1xuICBmcmFnbWVudDoge1xuICAgIC8qKiBBcHBsaWVzIGdpdmVuIHRleHR1cmUgbWF0cml4IHRvIGdpdmVuIHV2IGNvb3JkaW5hdGVzICovXG4gICAgZ2V0X3V2X2NvdmVyLFxuICAgIC8qKiBDb252ZXJ0IHZlcnRleCBwb3NpdGlvbiB0byB1diBjb29yZGluYXRlcyAqL1xuICAgIGdldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLFxuICB9LFxufSBhcyBTaGFkZXJDaHVua3NcblxuLyoqXG4gKiBVc2VmdWwgV0dTTCBjb2RlIGNodW5rcyBhZGRlZCB0byB0aGUgcHJvamVjdGVkIE1lc2hlcyB2ZXJ0ZXggYW5kL29yIGZyYWdtZW50IHNoYWRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IFByb2plY3RlZFNoYWRlckNodW5rcyA9IHtcbiAgLyoqIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIHZlcnRleCBzaGFkZXIgKi9cbiAgdmVydGV4OiB7XG4gICAgLyoqIEdldCBvdXRwdXQgdmVjNGYgcG9zaXRpb24gdmVjdG9yIGJ5IGFwcGx5aW5nIG1vZGVsIHZpZXcgcHJvamVjdGlvbiBtYXRyaXggdG8gdmVjM2YgYXR0cmlidXRlIHBvc2l0aW9uIHZlY3RvciAqL1xuICAgIGdldF9vdXRwdXRfcG9zaXRpb24sXG4gIH0sXG4gIC8qKiBXR1NMIGNvZGUgY2h1bmtzIGFkZGVkIHRvIHRoZSBmcmFnbWVudCBzaGFkZXIgKi9cbiAgZnJhZ21lbnQ6IHt9LFxufSBhcyBQcm9qZWN0ZWRTaGFkZXJDaHVua3NcbiIsImltcG9ydCB7IFBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1BpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBQcm9qZWN0ZWRTaGFkZXJDaHVua3MsIFNoYWRlckNodW5rcyB9IGZyb20gJy4uL3NoYWRlcnMvU2hhZGVyQ2h1bmtzJ1xuaW1wb3J0IHsgQ2FtZXJhUmVuZGVyZXIsIGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHtcbiAgUGlwZWxpbmVFbnRyeVBhcmFtcyxcbiAgUGlwZWxpbmVFbnRyeVNoYWRlcnMsXG4gIFJlbmRlclBpcGVsaW5lRW50cnlPcHRpb25zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5UHJvcGVydGllc1BhcmFtc1xufSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMsIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IFJlbmRlck1hdGVyaWFsQXR0cmlidXRlcyB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQaXBlbGluZUVudHJ5fSBzcGVjaWZpY2FsbHkgZGVzaWduZWQgdG8gaGFuZGxlIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCB8IFJlbmRlck1hdGVyaWFsfS5cbiAqXG4gKiAjIyBTaGFkZXJzIHBhdGNoaW5nXG4gKlxuICogVGhlIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSB1c2VzIGVhY2ggb2YgaXRzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30ge0BsaW5rIGNvcmUvYmluZGluZ3MvQmluZGluZy5CaW5kaW5nIHwgQmluZGluZ30gdG8gcGF0Y2ggdGhlIGdpdmVuIGNvbXB1dGUgc2hhZGVyIGJlZm9yZSBjcmVhdGluZyB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX0uPGJyPlxuICogSXQgd2lsbCBwcmVwZW5kIGV2ZXJ5IHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IEJpbmRpbmd9IFdHU0wgY29kZSBzbmlwcGV0cyAob3IgZnJhZ21lbnRzKSB3aXRoIHRoZSBjb3JyZWN0IGJpbmQgZ3JvdXAgYW5kIGJpbmRpbmdzIGluZGljZXMuXG4gKlxuICogIyMgUGlwZWxpbmUgY29tcGlsYXRpb25cbiAqXG4gKiBUaGUge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9IHdpbGwgdGhlbiBjcmVhdGUgYSB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9IChhc3luY2hyb25vdXNseSBieSBkZWZhdWx0KS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclBpcGVsaW5lRW50cnkgZXh0ZW5kcyBQaXBlbGluZUVudHJ5IHtcbiAgLyoqIFNoYWRlcnMgdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgc2hhZGVyczogUGlwZWxpbmVFbnRyeVNoYWRlcnNcbiAgLyoqIHtAbGluayBSZW5kZXJNYXRlcmlhbEF0dHJpYnV0ZXMgfCBHZW9tZXRyeSBhdHRyaWJ1dGVzfSBzZW50IHRvIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgYXR0cmlidXRlczogUmVuZGVyTWF0ZXJpYWxBdHRyaWJ1dGVzXG4gIC8qKiB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yIHwgUmVuZGVyIHBpcGVsaW5lIGRlc2NyaXB0b3J9IGJhc2VkIG9uIHtAbGluayBsYXlvdXR9IGFuZCB7QGxpbmsgc2hhZGVyc30gKi9cbiAgZGVzY3JpcHRvcjogR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yIHwgbnVsbFxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSAqL1xuICBvcHRpb25zOiBSZW5kZXJQaXBlbGluZUVudHJ5T3B0aW9uc1xuXG4gIC8qKlxuICAgKiBSZW5kZXJQaXBlbGluZUVudHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIGxldCB7IHJlbmRlcmVyIH0gPSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgeyBsYWJlbCwgLi4ucmVuZGVyaW5nT3B0aW9ucyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBjb25zdCB0eXBlID0gJ1JlbmRlclBpcGVsaW5lRW50cnknXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdHlwZSA6IHR5cGUpXG5cbiAgICBzdXBlcihwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgdGhpcy5zaGFkZXJzID0ge1xuICAgICAgdmVydGV4OiB7XG4gICAgICAgIGhlYWQ6ICcnLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgbW9kdWxlOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIGhlYWQ6ICcnLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgbW9kdWxlOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGZ1bGw6IHtcbiAgICAgICAgaGVhZDogJycsXG4gICAgICAgIGNvZGU6ICcnLFxuICAgICAgICBtb2R1bGU6IG51bGwsXG4gICAgICB9LFxuICAgIH1cblxuICAgIHRoaXMuZGVzY3JpcHRvciA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIC4uLnJlbmRlcmluZ09wdGlvbnMsXG4gICAgfSBhcyBSZW5kZXJQaXBlbGluZUVudHJ5T3B0aW9uc1xuICB9XG5cbiAgLy8gVE9ETyEgbmVlZCB0byBjaG9zZSB3aGV0aGVyIHdlIHNob3VsZCBzaWxlbnRseSBhZGQgdGhlIGNhbWVyYSBiaW5kIGdyb3VwIGhlcmVcbiAgLy8gb3IgZXhwbGljaXRseSBpbiB0aGUgUmVuZGVyTWF0ZXJpYWwgY2xhc3MgY3JlYXRlQmluZEdyb3VwcygpIG1ldGhvZFxuICAvKipcbiAgICogTWVyZ2Ugb3VyIHtAbGluayBiaW5kR3JvdXBzIHwgcGlwZWxpbmUgZW50cnkgYmluZCBncm91cHN9IHdpdGggdGhlIHtAbGluayBDYW1lcmFSZW5kZXJlciNjYW1lcmFCaW5kR3JvdXAgfCBjYW1lcmEgYmluZCBncm91cH0gaWYgbmVlZGVkIGFuZCBzZXQgdGhlbVxuICAgKiBAcGFyYW0gYmluZEdyb3VwcyAtIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCNiaW5kR3JvdXBzIHwgYmluZCBncm91cHN9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9XG4gICAqL1xuICBzZXRQaXBlbGluZUVudHJ5QmluZEdyb3VwcyhiaW5kR3JvdXBzOiBBbGxvd2VkQmluZEdyb3Vwc1tdKSB7XG4gICAgdGhpcy5iaW5kR3JvdXBzID1cbiAgICAgICdjYW1lcmFCaW5kR3JvdXAnIGluIHRoaXMucmVuZGVyZXIgJiYgdGhpcy5vcHRpb25zLnVzZVByb2plY3Rpb25cbiAgICAgICAgPyBbdGhpcy5yZW5kZXJlci5jYW1lcmFCaW5kR3JvdXAsIC4uLmJpbmRHcm91cHNdXG4gICAgICAgIDogYmluZEdyb3Vwc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gcHJvcGVydGllcyAoaW4gdGhpcyBjYXNlIHRoZSB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBhbmQge0BsaW5rIGF0dHJpYnV0ZXN9KVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHRoZSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBhbmQge0BsaW5rIGNvcmUvbWF0ZXJpYWxzL1JlbmRlck1hdGVyaWFsLlJlbmRlck1hdGVyaWFsI2F0dHJpYnV0ZXMgfCBhdHRyaWJ1dGVzfSB0byB1c2VcbiAgICovXG4gIHNldFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzKHBhcmFtZXRlcnM6IFJlbmRlclBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzUGFyYW1zKSB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBiaW5kR3JvdXBzIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzXG5cbiAgICB0aGlzLnNldFBpcGVsaW5lRW50cnlCaW5kR3JvdXBzKGJpbmRHcm91cHMpXG4gIH1cblxuICAvKiBTSEFERVJTICovXG5cbiAgLyoqXG4gICAqIFBhdGNoIHRoZSBzaGFkZXJzIGJ5IGFwcGVuZGluZyBhbGwgdGhlIG5lY2Vzc2FyeSBzaGFkZXIgY2h1bmtzLCB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSkgYW5kIHtAbGluayBhdHRyaWJ1dGVzfSBXR1NMIGNvZGUgZnJhZ21lbnRzIHRvIHRoZSBnaXZlbiB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyNzaGFkZXJzIHwgcGFyYW1ldGVyIHNoYWRlciBjb2RlfVxuICAgKi9cbiAgcGF0Y2hTaGFkZXJzKCkge1xuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCA9ICcnXG4gICAgdGhpcy5zaGFkZXJzLnZlcnRleC5jb2RlID0gJydcbiAgICB0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZCA9ICcnXG4gICAgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmNvZGUgPSAnJ1xuICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSAnJ1xuICAgIHRoaXMuc2hhZGVycy5mdWxsLmNvZGUgPSAnJ1xuXG4gICAgLy8gZmlyc3QgYWRkIGNodW5rc1xuICAgIGZvciAoY29uc3QgY2h1bmsgaW4gU2hhZGVyQ2h1bmtzLnZlcnRleCkge1xuICAgICAgdGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkID0gYCR7U2hhZGVyQ2h1bmtzLnZlcnRleFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9YFxuICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke1NoYWRlckNodW5rcy52ZXJ0ZXhbY2h1bmtdfVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjaHVuayBpbiBTaGFkZXJDaHVua3MuZnJhZ21lbnQpIHtcbiAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkID0gYCR7U2hhZGVyQ2h1bmtzLmZyYWdtZW50W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkfWBcblxuICAgICAgaWYgKHRoaXMuc2hhZGVycy5mdWxsLmhlYWQuaW5kZXhPZihTaGFkZXJDaHVua3MuZnJhZ21lbnRbY2h1bmtdKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke1NoYWRlckNodW5rcy5mcmFnbWVudFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMuZnVsbC5oZWFkfWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnVzZVByb2plY3Rpb24pIHtcbiAgICAgIGZvciAoY29uc3QgY2h1bmsgaW4gUHJvamVjdGVkU2hhZGVyQ2h1bmtzLnZlcnRleCkge1xuICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgPSBgJHtQcm9qZWN0ZWRTaGFkZXJDaHVua3MudmVydGV4W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZH1gXG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgJHtQcm9qZWN0ZWRTaGFkZXJDaHVua3MudmVydGV4W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9YFxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGNodW5rIGluIFByb2plY3RlZFNoYWRlckNodW5rcy5mcmFnbWVudCkge1xuICAgICAgICB0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZCA9IGAke1Byb2plY3RlZFNoYWRlckNodW5rcy5mcmFnbWVudFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZH1gXG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVycy5mdWxsLmhlYWQuaW5kZXhPZihQcm9qZWN0ZWRTaGFkZXJDaHVua3MuZnJhZ21lbnRbY2h1bmtdKSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkID0gYCR7UHJvamVjdGVkU2hhZGVyQ2h1bmtzLmZyYWdtZW50W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9YFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBzQmluZGluZ3MgPSBbXVxuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGxldCBiaW5kSW5kZXggPSAwXG4gICAgICBiaW5kR3JvdXAuYmluZGluZ3MuZm9yRWFjaCgoYmluZGluZywgYmluZGluZ0luZGV4KSA9PiB7XG4gICAgICAgIGJpbmRpbmcud2dzbEdyb3VwRnJhZ21lbnQuZm9yRWFjaCgoZ3JvdXBGcmFnbWVudCwgZ3JvdXBGcmFnbWVudEluZGV4KSA9PiB7XG4gICAgICAgICAgZ3JvdXBzQmluZGluZ3MucHVzaCh7XG4gICAgICAgICAgICBncm91cEluZGV4OiBiaW5kR3JvdXAuaW5kZXgsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXG4gICAgICAgICAgICBiaW5kSW5kZXgsXG4gICAgICAgICAgICB3Z3NsU3RydWN0RnJhZ21lbnQ6IChiaW5kaW5nIGFzIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50KS53Z3NsU3RydWN0RnJhZ21lbnQsXG4gICAgICAgICAgICB3Z3NsR3JvdXBGcmFnbWVudDogZ3JvdXBGcmFnbWVudCxcbiAgICAgICAgICAgIG5ld0xpbmU6XG4gICAgICAgICAgICAgIGJpbmRpbmdJbmRleCA9PT0gYmluZEdyb3VwLmJpbmRpbmdzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgZ3JvdXBGcmFnbWVudEluZGV4ID09PSBiaW5kaW5nLndnc2xHcm91cEZyYWdtZW50Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGJpbmRJbmRleCsrXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBncm91cHNCaW5kaW5ncy5mb3JFYWNoKChncm91cEJpbmRpbmcpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLnZpc2liaWxpdHkgPT09IEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8fFxuICAgICAgICBncm91cEJpbmRpbmcudmlzaWJpbGl0eSA9PT0gKEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHwgR1BVU2hhZGVyU3RhZ2UuQ09NUFVURSlcbiAgICAgICkge1xuICAgICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGdyb3VwQmluZGluZy53Z3NsU3RydWN0RnJhZ21lbnQgJiZcbiAgICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQuaW5kZXhPZihncm91cEJpbmRpbmcud2dzbFN0cnVjdEZyYWdtZW50KSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkID0gYFxcbiR7Z3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudH1cXG4ke3RoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZH1gXG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdCB2YXIgYXMgd2VsbFxuICAgICAgICBpZiAodGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgPSBgJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG5cbiAgICAgICAgICBpZiAoZ3JvdXBCaW5kaW5nLm5ld0xpbmUpIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCArPSBgXFxuYFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLnZpc2liaWxpdHkgPT09IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHx8XG4gICAgICAgIGdyb3VwQmluZGluZy52aXNpYmlsaXR5ID09PSAoR1BVU2hhZGVyU3RhZ2UuVkVSVEVYIHwgR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQgfCBHUFVTaGFkZXJTdGFnZS5DT01QVVRFKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGRvIG5vdCBkdXBsaWNhdGUgc3RydWN0c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJlxuICAgICAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkID0gYFxcbiR7Z3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudH1cXG4ke3RoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkfWBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIG5vdCBkdXBsaWNhdGUgc3RydWN0IHZhciBhcyB3ZWxsXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZC5pbmRleE9mKGdyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgPSBgJHt0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZH1cXG5AZ3JvdXAoJHtncm91cEJpbmRpbmcuZ3JvdXBJbmRleH0pIEBiaW5kaW5nKCR7Z3JvdXBCaW5kaW5nLmJpbmRJbmRleH0pICR7Z3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50fWBcblxuICAgICAgICAgIGlmIChncm91cEJpbmRpbmcubmV3TGluZSkgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgKz0gYFxcbmBcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJiB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgXFxuJHtncm91cEJpbmRpbmcud2dzbFN0cnVjdEZyYWdtZW50fVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNoYWRlcnMuZnVsbC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG5cbiAgICAgICAgaWYgKGdyb3VwQmluZGluZy5uZXdMaW5lKSB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkICs9IGBcXG5gXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIGFkZCBhdHRyaWJ1dGVzIHRvIHZlcnRleCBzaGFkZXIgb25seVxuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCA9IGAke3RoaXMuYXR0cmlidXRlcy53Z3NsU3RydWN0RnJhZ21lbnR9XFxuJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9YFxuICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgJHt0aGlzLmF0dHJpYnV0ZXMud2dzbFN0cnVjdEZyYWdtZW50fVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG5cbiAgICB0aGlzLnNoYWRlcnMudmVydGV4LmNvZGUgPSB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZVxuICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5jb2RlID0gdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy5mcmFnbWVudC5jb2RlXG5cbiAgICAvLyBjaGVjayBpZiBpdHMgb25lIHNoYWRlciBzdHJpbmcgd2l0aCBkaWZmZXJlbnQgZW50cnkgcG9pbnRzXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgIT09IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZSkgPT09IDBcbiAgICApIHtcbiAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmNvZGUgPSB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkICsgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmNvZGVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuY29kZSA9XG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZSArIHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmNvZGVcbiAgICB9XG4gIH1cblxuICAvKiBTRVRVUCAqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHtAbGluayBzaGFkZXJzfTogcGF0Y2ggdGhlbSBhbmQgY3JlYXRlIHRoZSB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfVxuICAgKi9cbiAgY3JlYXRlU2hhZGVycygpIHtcbiAgICB0aGlzLnBhdGNoU2hhZGVycygpXG5cbiAgICBjb25zdCBpc1NhbWVTaGFkZXIgPVxuICAgICAgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgIT09IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZSkgPT09IDBcblxuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXgubW9kdWxlID0gdGhpcy5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgY29kZTogdGhpcy5zaGFkZXJzW2lzU2FtZVNoYWRlciA/ICdmdWxsJyA6ICd2ZXJ0ZXgnXS5jb2RlLFxuICAgICAgdHlwZTogJ3ZlcnRleCcsXG4gICAgfSlcblxuICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5tb2R1bGUgPSB0aGlzLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICBjb2RlOiB0aGlzLnNoYWRlcnNbaXNTYW1lU2hhZGVyID8gJ2Z1bGwnIDogJ2ZyYWdtZW50J10uY29kZSxcbiAgICAgIHR5cGU6ICdmcmFnbWVudCcsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHJlbmRlciBwaXBlbGluZSB7QGxpbmsgZGVzY3JpcHRvcn1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZGVycy52ZXJ0ZXgubW9kdWxlIHx8ICF0aGlzLnNoYWRlcnMuZnJhZ21lbnQubW9kdWxlKSByZXR1cm5cblxuICAgIGxldCB2ZXJ0ZXhMb2NhdGlvbkluZGV4ID0gLTFcblxuICAgIC8vIHdlIHdpbGwgYXNzdW1lIG91ciByZW5kZXJlciBhbHBoYU1vZGUgaXMgc2V0IHRvICdwcmVtdWx0aXBsaWVkJ1xuICAgIC8vIHdlIGVpdGhlciBkaXNhYmxlIGJsZW5kaW5nIGlmIG1lc2ggaWYgb3BhcXVlXG4gICAgLy8gdXNlIGEgY3VzdG9tIGJsZW5kaW5nIGlmIHNldFxuICAgIC8vIG9yIHVzZSB0aGlzIGJsZW5kIGVxdWF0aW9uIGlmIG1lc2ggaXMgdHJhbnNwYXJlbnQgKHNlZSBodHRwczovL2xpbW51LmNvbS93ZWJnbC1ibGVuZGluZy15b3VyZS1wcm9iYWJseS13cm9uZy8pXG4gICAgY29uc3QgYmxlbmQgPVxuICAgICAgdGhpcy5vcHRpb25zLmJsZW5kID8/XG4gICAgICAodGhpcy5vcHRpb25zLnRyYW5zcGFyZW50ICYmIHtcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBzcmNGYWN0b3I6ICdzcmMtYWxwaGEnLFxuICAgICAgICAgIGRzdEZhY3RvcjogJ29uZS1taW51cy1zcmMtYWxwaGEnLFxuICAgICAgICB9LFxuICAgICAgICBhbHBoYToge1xuICAgICAgICAgIHNyY0ZhY3RvcjogJ29uZScsXG4gICAgICAgICAgZHN0RmFjdG9yOiAnb25lLW1pbnVzLXNyYy1hbHBoYScsXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgdGhpcy5kZXNjcmlwdG9yID0ge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcbiAgICAgIGxheW91dDogdGhpcy5sYXlvdXQsXG4gICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSxcbiAgICAgICAgZW50cnlQb2ludDogdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQsXG4gICAgICAgIGJ1ZmZlcnM6IHRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhCdWZmZXJzLm1hcCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZXBNb2RlOiB2ZXJ0ZXhCdWZmZXIuc3RlcE1vZGUsXG4gICAgICAgICAgICBhcnJheVN0cmlkZTogdmVydGV4QnVmZmVyLmFycmF5U3RyaWRlICogNCwgLy8gNCBieXRlcyBlYWNoXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5tYXAoKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgICAgICB2ZXJ0ZXhMb2NhdGlvbkluZGV4KytcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogdmVydGV4TG9jYXRpb25JbmRleCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGF0dHJpYnV0ZS5idWZmZXJPZmZzZXQsIC8vIHByZXZpb3VzIGF0dHJpYnV0ZSBzaXplICogNFxuICAgICAgICAgICAgICAgIGZvcm1hdDogYXR0cmlidXRlLmJ1ZmZlckZvcm1hdCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBtb2R1bGU6IHRoaXMuc2hhZGVycy5mcmFnbWVudC5tb2R1bGUsXG4gICAgICAgIGVudHJ5UG9pbnQ6IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQsXG4gICAgICAgIHRhcmdldHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgICAgICAgIC4uLihibGVuZCAmJiB7XG4gICAgICAgICAgICAgIGJsZW5kLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBwcmltaXRpdmU6IHtcbiAgICAgICAgdG9wb2xvZ3k6IHRoaXMub3B0aW9ucy50b3BvbG9neSxcbiAgICAgICAgZnJvbnRGYWNlOiB0aGlzLm9wdGlvbnMudmVydGljZXNPcmRlcixcbiAgICAgICAgY3VsbE1vZGU6IHRoaXMub3B0aW9ucy5jdWxsTW9kZSxcbiAgICAgIH0sXG4gICAgICAuLi4odGhpcy5vcHRpb25zLmRlcHRoICYmIHtcbiAgICAgICAgZGVwdGhTdGVuY2lsOiB7XG4gICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRoaXMub3B0aW9ucy5kZXB0aFdyaXRlRW5hYmxlZCxcbiAgICAgICAgICBkZXB0aENvbXBhcmU6IHRoaXMub3B0aW9ucy5kZXB0aENvbXBhcmUsXG4gICAgICAgICAgZm9ybWF0OiAnZGVwdGgyNHBsdXMnLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICAuLi4odGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSAmJiB7XG4gICAgICAgIG11bHRpc2FtcGxlOiB7XG4gICAgICAgICAgY291bnQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0gYXMgR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSByZW5kZXIge0BsaW5rIHBpcGVsaW5lfVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyUGlwZWxpbmUoKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSB8fCAhdGhpcy5zaGFkZXJzLmZyYWdtZW50Lm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5waXBlbGluZSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlUmVuZGVyUGlwZWxpbmUodGhpcy5kZXNjcmlwdG9yKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IGVycm9yXG4gICAgICB0aHJvd0Vycm9yKGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBjcmVhdGUgdGhlIHJlbmRlciB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHZvaWQgcHJvbWlzZSByZXN1bHRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJlbmRlclBpcGVsaW5lQXN5bmMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSB8fCAhdGhpcy5zaGFkZXJzLmZyYWdtZW50Lm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5waXBlbGluZSA9IGF3YWl0IHRoaXMucmVuZGVyZXIuY3JlYXRlUmVuZGVyUGlwZWxpbmVBc3luYyh0aGlzLmRlc2NyaXB0b3IpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBlcnJvclxuICAgICAgdGhyb3dFcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB7QGxpbmsgUGlwZWxpbmVFbnRyeSNjb21waWxlUGlwZWxpbmVFbnRyeSB8IFBpcGVsaW5lRW50cnkgY29tcGlsZVBpcGVsaW5lRW50cnl9IG1ldGhvZCwgdGhlbiBjcmVhdGUgb3VyIHJlbmRlciB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZVBpcGVsaW5lRW50cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3VwZXIuY29tcGlsZVBpcGVsaW5lRW50cnkoKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy51c2VBc3luYykge1xuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVSZW5kZXJQaXBlbGluZUFzeW5jKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVSZW5kZXJQaXBlbGluZSgpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1BpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IFBpcGVsaW5lRW50cnlQYXJhbXMsIFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzUGFyYW1zLCBQaXBlbGluZUVudHJ5U2hhZGVycyB9IGZyb20gJy4uLy4uL3R5cGVzL1BpcGVsaW5lRW50cmllcydcbmltcG9ydCB7IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUGlwZWxpbmVFbnRyeX0gc3BlY2lmaWNhbGx5IGRlc2lnbmVkIHRvIGhhbmRsZSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvQ29tcHV0ZU1hdGVyaWFsLkNvbXB1dGVNYXRlcmlhbCB8IENvbXB1dGVNYXRlcmlhbH0uXG4gKlxuICogIyMgU2hhZGVycyBwYXRjaGluZ1xuICpcbiAqIFRoZSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IHVzZXMgZWFjaCBvZiBpdHMge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30ge0BsaW5rIGNvcmUvYmluZGluZ3MvQmluZGluZy5CaW5kaW5nIHwgQmluZGluZ30gdG8gcGF0Y2ggdGhlIGdpdmVuIGNvbXB1dGUgc2hhZGVyIGJlZm9yZSBjcmVhdGluZyB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX0uPGJyPlxuICogSXQgd2lsbCBwcmVwZW5kIGV2ZXJ5IHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IEJpbmRpbmd9IFdHU0wgY29kZSBzbmlwcGV0cyAob3IgZnJhZ21lbnRzKSB3aXRoIHRoZSBjb3JyZWN0IGJpbmQgZ3JvdXAgYW5kIGJpbmRpbmdzIGluZGljZXMuXG4gKlxuICogIyMgUGlwZWxpbmUgY29tcGlsYXRpb25cbiAqXG4gKiBUaGUge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5fSB3aWxsIHRoZW4gY3JlYXRlIGEge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX0gKGFzeW5jaHJvbm91c2x5IGJ5IGRlZmF1bHQpLlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZVBpcGVsaW5lRW50cnkgZXh0ZW5kcyBQaXBlbGluZUVudHJ5IHtcbiAgLyoqIFNoYWRlcnMgdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9ICovXG4gIHNoYWRlcnM6IFBpcGVsaW5lRW50cnlTaGFkZXJzXG4gIC8qKiB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lRGVzY3JpcHRvciB8IENvbXB1dGUgcGlwZWxpbmUgZGVzY3JpcHRvcn0gYmFzZWQgb24ge0BsaW5rIGxheW91dH0gYW5kIHtAbGluayBzaGFkZXJzfSAqL1xuICBkZXNjcmlwdG9yOiBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yIHwgbnVsbFxuXG4gIC8qKlxuICAgKiBDb21wdXRlUGlwZWxpbmVFbnRyeSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBQaXBlbGluZUVudHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UGFyYW1zKSB7XG4gICAgbGV0IHsgcmVuZGVyZXIgfSA9IHBhcmFtZXRlcnNcbiAgICBjb25zdCB7IGxhYmVsIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGNvbnN0IHR5cGUgPSAnQ29tcHV0ZVBpcGVsaW5lRW50cnknXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdHlwZSA6IHR5cGUpXG5cbiAgICBzdXBlcihwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgdGhpcy5zaGFkZXJzID0ge1xuICAgICAgY29tcHV0ZToge1xuICAgICAgICBoZWFkOiAnJyxcbiAgICAgICAgY29kZTogJycsXG4gICAgICAgIG1vZHVsZTogbnVsbCxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgdGhpcy5kZXNjcmlwdG9yID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IHByb3BlcnRpZXMgKGluIHRoaXMgY2FzZSB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30pXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gdGhlIHtAbGluayBjb3JlL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwuQ29tcHV0ZU1hdGVyaWFsI2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30gdG8gdXNlXG4gICAqL1xuICBzZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcyhwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UHJvcGVydGllc1BhcmFtcykge1xuICAgIGNvbnN0IHsgYmluZEdyb3VwcyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5zZXRQaXBlbGluZUVudHJ5QmluZEdyb3VwcyhiaW5kR3JvdXBzKVxuICB9XG5cbiAgLyogU0hBREVSUyAqL1xuXG4gIC8qKlxuICAgKiBQYXRjaCB0aGUgc2hhZGVycyBieSBhcHBlbmRpbmcgYWxsIHRoZSB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSkgV0dTTCBjb2RlIGZyYWdtZW50cyB0byB0aGUgZ2l2ZW4ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMjc2hhZGVycyB8IHBhcmFtZXRlciBzaGFkZXIgY29kZX1cbiAgICovXG4gIHBhdGNoU2hhZGVycygpIHtcbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkID0gJydcbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5jb2RlID0gJydcblxuICAgIGNvbnN0IGdyb3Vwc0JpbmRpbmdzID0gW11cbiAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBsZXQgYmluZEluZGV4ID0gMFxuICAgICAgYmluZEdyb3VwLmJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcsIGJpbmRpbmdJbmRleCkgPT4ge1xuICAgICAgICBiaW5kaW5nLndnc2xHcm91cEZyYWdtZW50LmZvckVhY2goKGdyb3VwRnJhZ21lbnQsIGdyb3VwRnJhZ21lbnRJbmRleCkgPT4ge1xuICAgICAgICAgIGdyb3Vwc0JpbmRpbmdzLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBJbmRleDogYmluZEdyb3VwLmluZGV4LFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogYmluZGluZy52aXNpYmlsaXR5LFxuICAgICAgICAgICAgYmluZEluZGV4LFxuICAgICAgICAgICAgd2dzbFN0cnVjdEZyYWdtZW50OiAoYmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkud2dzbFN0cnVjdEZyYWdtZW50LFxuICAgICAgICAgICAgd2dzbEdyb3VwRnJhZ21lbnQ6IGdyb3VwRnJhZ21lbnQsXG4gICAgICAgICAgICBuZXdMaW5lOlxuICAgICAgICAgICAgICBiaW5kaW5nSW5kZXggPT09IGJpbmRHcm91cC5iaW5kaW5ncy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgIGdyb3VwRnJhZ21lbnRJbmRleCA9PT0gYmluZGluZy53Z3NsR3JvdXBGcmFnbWVudC5sZW5ndGggLSAxLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBiaW5kSW5kZXgrK1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZ3JvdXBzQmluZGluZ3MuZm9yRWFjaCgoZ3JvdXBCaW5kaW5nKSA9PiB7XG4gICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdHNcbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJlxuICAgICAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCA9IGBcXG4ke2dyb3VwQmluZGluZy53Z3NsU3RydWN0RnJhZ21lbnR9XFxuJHt0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkfWBcbiAgICAgIH1cblxuICAgICAgLy8gZG8gbm90IGR1cGxpY2F0ZSBzdHJ1Y3QgdmFyIGFzIHdlbGxcbiAgICAgIGlmICh0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCA9IGAke3RoaXMuc2hhZGVycy5jb21wdXRlLmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG4gICAgICB9XG5cbiAgICAgIGlmIChncm91cEJpbmRpbmcubmV3TGluZSkgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCArPSBgXFxuYFxuICAgIH0pXG5cbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5jb2RlID0gdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCArIHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUuY29kZVxuICB9XG5cbiAgLyogU0VUVVAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgc2hhZGVyc306IHBhdGNoIHRoZW0gYW5kIGNyZWF0ZSB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX1cbiAgICovXG4gIGNyZWF0ZVNoYWRlcnMoKSB7XG4gICAgdGhpcy5wYXRjaFNoYWRlcnMoKVxuXG4gICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUubW9kdWxlID0gdGhpcy5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgY29kZTogdGhpcy5zaGFkZXJzLmNvbXB1dGUuY29kZSxcbiAgICAgIHR5cGU6ICdjb21wdXRlJyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgY29tcHV0ZSBwaXBlbGluZSB7QGxpbmsgZGVzY3JpcHRvcn1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZGVycy5jb21wdXRlLm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IgPSB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsLFxuICAgICAgbGF5b3V0OiB0aGlzLmxheW91dCxcbiAgICAgIGNvbXB1dGU6IHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLnNoYWRlcnMuY29tcHV0ZS5tb2R1bGUsXG4gICAgICAgIGVudHJ5UG9pbnQ6IHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUuZW50cnlQb2ludCxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgY29tcHV0ZSB7QGxpbmsgcGlwZWxpbmV9XG4gICAqL1xuICBjcmVhdGVDb21wdXRlUGlwZWxpbmUoKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMuY29tcHV0ZS5tb2R1bGUpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucGlwZWxpbmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSh0aGlzLmRlc2NyaXB0b3IpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhdHVzLmVycm9yID0gZXJyb3JcbiAgICAgIHRocm93RXJyb3IoZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91c2x5IGNyZWF0ZSB0aGUgY29tcHV0ZSB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHZvaWQgcHJvbWlzZSByZXN1bHRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUNvbXB1dGVQaXBlbGluZUFzeW5jKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5zaGFkZXJzLmNvbXB1dGUubW9kdWxlKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnBpcGVsaW5lID0gYXdhaXQgdGhpcy5yZW5kZXJlci5jcmVhdGVDb21wdXRlUGlwZWxpbmVBc3luYyh0aGlzLmRlc2NyaXB0b3IpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBlcnJvclxuICAgICAgdGhyb3dFcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB7QGxpbmsgUGlwZWxpbmVFbnRyeSNjb21waWxlUGlwZWxpbmVFbnRyeSB8IFBpcGVsaW5lRW50cnkgY29tcGlsZVBpcGVsaW5lRW50cnl9IG1ldGhvZCwgdGhlbiBjcmVhdGUgb3VyIGNvbXB1dGUge0BsaW5rIHBpcGVsaW5lfVxuICAgKiBAYXN5bmNcbiAgICovXG4gIGFzeW5jIGNvbXBpbGVQaXBlbGluZUVudHJ5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHN1cGVyLmNvbXBpbGVQaXBlbGluZUVudHJ5KClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlQXN5bmMpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQ29tcHV0ZVBpcGVsaW5lQXN5bmMoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSgpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlclBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1JlbmRlclBpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBDb21wdXRlUGlwZWxpbmVFbnRyeSB9IGZyb20gJy4vQ29tcHV0ZVBpcGVsaW5lRW50cnknXG5pbXBvcnQge1xuICBQaXBlbGluZUVudHJ5UGFyYW1zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5QmFzZVBhcmFtcyxcbiAgUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtc1xufSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5cbi8qKiBEZWZpbmVzIGFsbCB0eXBlcyBvZiBhbGxvd2VkIHtAbGluayBjb3JlL3BpcGVsaW5lcy9QaXBlbGluZUVudHJ5LlBpcGVsaW5lRW50cnkgfCBQaXBlbGluZUVudHJ5fSBjbGFzcyBvYmplY3RzICovXG5leHBvcnQgdHlwZSBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzID0gUmVuZGVyUGlwZWxpbmVFbnRyeSB8IENvbXB1dGVQaXBlbGluZUVudHJ5XG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYW5kIGtlZXAgdHJhY2sgb2YgYm90aCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGFuZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0uPGJyPlxuICogUGVyZm9ybSBjaGVja3MgdG8gZXZlbnR1YWxseSB1c2UgYSBjYWNoZWQgcGlwZWxpbmUgZW50cnkgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuPGJyPlxuICogVGhlIGVuZCBnb2FsIGlzIHRvIGNhY2hlIHBpcGVsaW5lcyBhbmQgcmV1c2UgdGhlbSAoYXMgd2VsbCBhcyBiaW5kIGdyb3VwcykuPGJyPlxuICogQWxzbyByZXNwb25zaWJsZSBmb3Igc2V0dGluZyB0aGUgY3VycmVudCBwYXNzIGVuY29kZXIgcGlwZWxpbmUgaW4gb3JkZXIgdG8gYXZvaWQgcmVkdW5kYW50IHNldFBpcGVsaW5lIGNhbGxzLjxicj5cbiAqIENyZWF0ZWQgaW50ZXJuYWxseSBieSB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciB8IEdQVURldmljZU1hbmFnZXJ9Ljxicj5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vdG9qaS5kZXYvd2ViZ3B1LWJlc3QtcHJhY3RpY2VzL2JpbmQtZ3JvdXBzI2dyb3VwaW5nLXJlc291cmNlcy1iYXNlZC1vbi1mcmVxdWVuY3ktb2YtY2hhbmdlIHwgV2ViR1BVIEJpbmQgR3JvdXAgYmVzdCBwcmFjdGljZXN9XG4gKi9cbmV4cG9ydCBjbGFzcyBQaXBlbGluZU1hbmFnZXIge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBQaXBlbGluZU1hbmFnZXJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogS2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBib3VuZCBwaXBlbGluZSBpbiBvcmRlciB0byBhdm9pZCByZWR1bmRhbnQgc2V0UGlwZWxpbmUgY2FsbHMgKi9cbiAgY3VycmVudFBpcGVsaW5lSW5kZXg6IG51bWJlciB8IG51bGxcbiAgLyoqIEFycmF5IG9mIGFscmVhZHkgY3JlYXRlZCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGFuZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgcGlwZWxpbmVFbnRyaWVzOiBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzW11cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnR5cGUgPSAnUGlwZWxpbmVNYW5hZ2VyJ1xuXG4gICAgdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCA9IG51bGxcbiAgICB0aGlzLnBpcGVsaW5lRW50cmllcyA9IFtdXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeUJhc2VQYXJhbXMgfCBSZW5kZXJQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9IGJlbG9uZ3MgdG8gYW4gYWxyZWFkeSBjcmVhdGVkIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fS5cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeUJhc2VQYXJhbXMgfCBSZW5kZXJQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9XG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSwgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGlzU2FtZVJlbmRlclBpcGVsaW5lKHBhcmFtZXRlcnM6IFJlbmRlclBpcGVsaW5lRW50cnlCYXNlUGFyYW1zKTogUmVuZGVyUGlwZWxpbmVFbnRyeSB8IG51bGwge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYWRlcnMsXG4gICAgICBjdWxsTW9kZSxcbiAgICAgIGRlcHRoLFxuICAgICAgZGVwdGhXcml0ZUVuYWJsZWQsXG4gICAgICBkZXB0aENvbXBhcmUsXG4gICAgICB0cmFuc3BhcmVudCxcbiAgICAgIHZlcnRpY2VzT3JkZXIsXG4gICAgICB0b3BvbG9neSxcbiAgICAgIHNhbXBsZUNvdW50LFxuICAgIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICByZXR1cm4gdGhpcy5waXBlbGluZUVudHJpZXNcbiAgICAgIC5maWx0ZXIoKHBpcGVsaW5lRW50cnkpID0+IHBpcGVsaW5lRW50cnkgaW5zdGFuY2VvZiBSZW5kZXJQaXBlbGluZUVudHJ5KVxuICAgICAgLmZpbmQoKHBpcGVsaW5lRW50cnk6IFJlbmRlclBpcGVsaW5lRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBwaXBlbGluZUVudHJ5XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBzaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUob3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlKSA9PT0gMCAmJlxuICAgICAgICAgIHNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgPT09IG9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguZW50cnlQb2ludCAmJlxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQuY29kZS5sb2NhbGVDb21wYXJlKG9wdGlvbnMuc2hhZGVycy5mcmFnbWVudC5jb2RlKSA9PT0gMCAmJlxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQuZW50cnlQb2ludCA9PT0gb3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgICAgICBjdWxsTW9kZSA9PT0gb3B0aW9ucy5jdWxsTW9kZSAmJlxuICAgICAgICAgIGRlcHRoID09PSBvcHRpb25zLmRlcHRoICYmXG4gICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQgPT09IG9wdGlvbnMuZGVwdGhXcml0ZUVuYWJsZWQgJiZcbiAgICAgICAgICBkZXB0aENvbXBhcmUgPT09IG9wdGlvbnMuZGVwdGhDb21wYXJlICYmXG4gICAgICAgICAgdHJhbnNwYXJlbnQgPT09IG9wdGlvbnMudHJhbnNwYXJlbnQgJiZcbiAgICAgICAgICBzYW1wbGVDb3VudCA9PT0gb3B0aW9ucy5zYW1wbGVDb3VudCAmJlxuICAgICAgICAgIHZlcnRpY2VzT3JkZXIgPT09IG9wdGlvbnMudmVydGljZXNPcmRlciAmJlxuICAgICAgICAgIHRvcG9sb2d5ID09PSBvcHRpb25zLnRvcG9sb2d5XG4gICAgICAgIClcbiAgICAgIH0pIGFzIFJlbmRlclBpcGVsaW5lRW50cnkgfCBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkIHdpdGggdGhlIGdpdmVuIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30uXG4gICAqIFVzZSBpdCBpZiBmb3VuZCwgZWxzZSBjcmVhdGUgYSBuZXcgb25lIGFuZCBhZGQgaXQgdG8gdGhlIHtAbGluayBwaXBlbGluZUVudHJpZXN9IGFycmF5LlxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zIHwgUmVuZGVyUGlwZWxpbmVFbnRyeSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSwgZWl0aGVyIGZyb20gY2FjaGUgb3IgbmV3bHkgY3JlYXRlZFxuICAgKi9cbiAgY3JlYXRlUmVuZGVyUGlwZWxpbmUocGFyYW1ldGVyczogUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtcyk6IFJlbmRlclBpcGVsaW5lRW50cnkge1xuICAgIGNvbnN0IGV4aXN0aW5nUGlwZWxpbmVFbnRyeSA9IHRoaXMuaXNTYW1lUmVuZGVyUGlwZWxpbmUocGFyYW1ldGVycylcblxuICAgIGlmIChleGlzdGluZ1BpcGVsaW5lRW50cnkpIHtcbiAgICAgIHJldHVybiBleGlzdGluZ1BpcGVsaW5lRW50cnlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGlwZWxpbmVFbnRyeSA9IG5ldyBSZW5kZXJQaXBlbGluZUVudHJ5KHBhcmFtZXRlcnMpXG5cbiAgICAgIHRoaXMucGlwZWxpbmVFbnRyaWVzLnB1c2gocGlwZWxpbmVFbnRyeSlcblxuICAgICAgcmV0dXJuIHBpcGVsaW5lRW50cnlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IHBhcmFtZXRlcnN9IGJlbG9uZ3MgdG8gYW4gYWxyZWFkeSBjcmVhdGVkIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0uXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMgfCBQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9XG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0sIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAqL1xuICBpc1NhbWVDb21wdXRlUGlwZWxpbmUocGFyYW1ldGVyczogUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIGNvbnN0IHsgc2hhZGVycyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgcmV0dXJuIHRoaXMucGlwZWxpbmVFbnRyaWVzXG4gICAgICAuZmlsdGVyKChwaXBlbGluZUVudHJ5KSA9PiBwaXBlbGluZUVudHJ5IGluc3RhbmNlb2YgQ29tcHV0ZVBpcGVsaW5lRW50cnkpXG4gICAgICAuZmluZCgocGlwZWxpbmVFbnRyeTogQ29tcHV0ZVBpcGVsaW5lRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBwaXBlbGluZUVudHJ5XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBzaGFkZXJzLmNvbXB1dGUuY29kZS5sb2NhbGVDb21wYXJlKG9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmNvZGUpID09PSAwICYmXG4gICAgICAgICAgc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnQgPT09IG9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnRcbiAgICAgICAgKVxuICAgICAgfSkgYXMgQ29tcHV0ZVBpcGVsaW5lRW50cnkgfCBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBnaXZlbiB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IHBhcmFtZXRlcnN9LlxuICAgKiBVc2UgaXQgaWYgZm91bmQsIGVsc2UgY3JlYXRlIGEgbmV3IG9uZSBhbmQgYWRkIGl0IHRvIHRoZSB7QGxpbmsgcGlwZWxpbmVFbnRyaWVzfSBhcnJheS5cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IFBpcGVsaW5lRW50cnkgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX1cbiAgICovXG4gIGNyZWF0ZUNvbXB1dGVQaXBlbGluZShwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UGFyYW1zKTogQ29tcHV0ZVBpcGVsaW5lRW50cnkge1xuICAgIGNvbnN0IGV4aXN0aW5nUGlwZWxpbmVFbnRyeSA9IHRoaXMuaXNTYW1lQ29tcHV0ZVBpcGVsaW5lKHBhcmFtZXRlcnMpXG5cbiAgICBpZiAoZXhpc3RpbmdQaXBlbGluZUVudHJ5KSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdQaXBlbGluZUVudHJ5XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBpcGVsaW5lRW50cnkgPSBuZXcgQ29tcHV0ZVBpcGVsaW5lRW50cnkocGFyYW1ldGVycylcblxuICAgICAgdGhpcy5waXBlbGluZUVudHJpZXMucHVzaChwaXBlbGluZUVudHJ5KVxuXG4gICAgICByZXR1cm4gcGlwZWxpbmVFbnRyeVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4ge0BsaW5rIEFsbG93ZWRQaXBlbGluZUVudHJpZXMgfCBQaXBlbGluZUVudHJ5fSBpcyBhbHJlYWR5IHNldCwgaWYgbm90IHNldCBpdFxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcGFzcyBlbmNvZGVyXG4gICAqIEBwYXJhbSBwaXBlbGluZUVudHJ5IC0gdGhlIHtAbGluayBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzIHwgUGlwZWxpbmVFbnRyeX0gdG8gc2V0XG4gICAqL1xuICBzZXRDdXJyZW50UGlwZWxpbmUocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIsIHBpcGVsaW5lRW50cnk6IEFsbG93ZWRQaXBlbGluZUVudHJpZXMpIHtcbiAgICBpZiAocGlwZWxpbmVFbnRyeS5pbmRleCAhPT0gdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCkge1xuICAgICAgcGFzcy5zZXRQaXBlbGluZShwaXBlbGluZUVudHJ5LnBpcGVsaW5lIGFzIEdQVVJlbmRlclBpcGVsaW5lICYgR1BVQ29tcHV0ZVBpcGVsaW5lKVxuICAgICAgdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCA9IHBpcGVsaW5lRW50cnkuaW5kZXhcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIHtAbGluayBQaXBlbGluZU1hbmFnZXIjY3VycmVudFBpcGVsaW5lSW5kZXggfCBjdXJyZW50IHBpcGVsaW5lIGluZGV4fSBzbyB0aGUgbmV4dCB7QGxpbmsgQWxsb3dlZFBpcGVsaW5lRW50cmllcyB8IFBpcGVsaW5lRW50cnl9IHdpbGwgYmUgc2V0IGZvciBzdXJlXG4gICAqL1xuICByZXNldEN1cnJlbnRQaXBlbGluZSgpIHtcbiAgICB0aGlzLmN1cnJlbnRQaXBlbGluZUluZGV4ID0gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgeyBET01FbGVtZW50IH0gZnJvbSAnLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBEZWZpbmVzIGEge0BsaW5rIFJlc2l6ZU1hbmFnZXJ9IGVudHJ5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplTWFuYWdlckVudHJ5IHtcbiAgLyoqIHtAbGluayBIVE1MRWxlbWVudH0gdG8gdHJhY2sgKi9cbiAgZWxlbWVudDogRE9NRWxlbWVudFsnZWxlbWVudCddIHwgRWxlbWVudFxuICAvKiogUHJpb3JpdHkgaW4gd2hpY2ggdG8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbiAgcHJpb3JpdHk/OiBudW1iZXJcbiAgLyoqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiB0aGUge0BsaW5rIGVsZW1lbnR9IGlzIHJlc2l6ZWQgKi9cbiAgY2FsbGJhY2s6ICgpID0+IHZvaWQgfCBudWxsXG59XG5cbi8qKlxuICogVGlueSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgUmVzaXplT2JzZXJ2ZXJ9IHVzZWQgdG8gZXhlY3V0ZSBjYWxsYmFja3Mgd2hlbiBnaXZlbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNpemUgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc2l6ZU1hbmFnZXIge1xuICAvKiogV2hldGhlciB3ZSBzaG91bGQgYWRkIGVsZW1lbnRzIHRvIG91ciB7QGxpbmsgcmVzaXplT2JzZXJ2ZXJ9IG9yIG5vdCAqL1xuICBzaG91bGRXYXRjaDogYm9vbGVhblxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlc2l6ZU1hbmFnZXJFbnRyeSB8IGVudHJpZXN9ICovXG4gIGVudHJpZXM6IFJlc2l6ZU1hbmFnZXJFbnRyeVtdXG4gIC8qKiB7QGxpbmsgUmVzaXplT2JzZXJ2ZXJ9IHVzZWQgKi9cbiAgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyXG5cbiAgLyoqXG4gICAqIFJlc2l6ZU1hbmFnZXIgY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgIHRoaXMuc2hvdWxkV2F0Y2ggPSB0cnVlXG5cbiAgICB0aGlzLmVudHJpZXMgPSBbXVxuXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigob2JzZXJ2ZWRFbnRyaWVzKSA9PiB7XG4gICAgICAvLyBnZXQgYWxsIGVudHJpZXMgY29ycmVzcG9uZGluZyB0byB0aGF0IGVsZW1lbnQsIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgIGNvbnN0IGFsbEVudHJpZXMgPSBvYnNlcnZlZEVudHJpZXNcbiAgICAgICAgLm1hcCgob2JzZXJ2ZWRFbnRyeSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMuZmlsdGVyKChlKSA9PiBlLmVsZW1lbnQuaXNTYW1lTm9kZShvYnNlcnZlZEVudHJ5LnRhcmdldCkpXG4gICAgICAgIH0pXG4gICAgICAgIC5mbGF0KClcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KVxuXG4gICAgICBhbGxFbnRyaWVzPy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkgJiYgZW50cnkuY2FsbGJhY2spIHtcbiAgICAgICAgICBlbnRyeS5jYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQge0BsaW5rIHNob3VsZFdhdGNofVxuICAgKiBAcGFyYW0gc2hvdWxkV2F0Y2ggLSB3aGV0aGVyIHRvIHdhdGNoIG9yIG5vdFxuICAgKi9cbiAgdXNlT2JzZXJ2ZXIoc2hvdWxkV2F0Y2ggPSB0cnVlKSB7XG4gICAgdGhpcy5zaG91bGRXYXRjaCA9IHNob3VsZFdhdGNoXG4gIH1cblxuICAvKipcbiAgICogVHJhY2sgYW4ge0BsaW5rIEhUTUxFbGVtZW50fSBzaXplIGNoYW5nZSBhbmQgZXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gaXQgaGFwcGVuc1xuICAgKiBAcGFyYW0gZW50cnkgLSB7QGxpbmsgUmVzaXplTWFuYWdlckVudHJ5IHwgZW50cnl9IHRvIHdhdGNoXG4gICAqL1xuICBvYnNlcnZlKHsgZWxlbWVudCwgcHJpb3JpdHksIGNhbGxiYWNrIH06IFJlc2l6ZU1hbmFnZXJFbnRyeSkge1xuICAgIGlmICghZWxlbWVudCB8fCAhdGhpcy5zaG91bGRXYXRjaCkgcmV0dXJuXG5cbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudClcblxuICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgZWxlbWVudCxcbiAgICAgIHByaW9yaXR5LFxuICAgICAgY2FsbGJhY2ssXG4gICAgfVxuXG4gICAgdGhpcy5lbnRyaWVzLnB1c2goZW50cnkpXG4gIH1cblxuICAvKipcbiAgICogVW5vYnNlcnZlIGFuIHtAbGluayBIVE1MRWxlbWVudH0gYW5kIHJlbW92ZSBpdCBmcm9tIG91ciB7QGxpbmsgZW50cmllc30gYXJyYXlcbiAgICogQHBhcmFtIGVsZW1lbnQgLSB7QGxpbmsgSFRNTEVsZW1lbnR9IHRvIHVub2JzZXJ2ZVxuICAgKi9cbiAgdW5vYnNlcnZlKGVsZW1lbnQ6IERPTUVsZW1lbnRbJ2VsZW1lbnQnXSB8IEVsZW1lbnQpIHtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KVxuICAgIHRoaXMuZW50cmllcyA9IHRoaXMuZW50cmllcy5maWx0ZXIoKGUpID0+ICFlLmVsZW1lbnQuaXNTYW1lTm9kZShlbGVtZW50KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVzaXplTWFuYWdlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KClcbiAgfVxufVxuXG4vKiogQGV4cG9ydHMgQGNvbnN0IHJlc2l6ZU1hbmFnZXIgLSB7QGxpbmsgUmVzaXplTWFuYWdlcn0gY2xhc3Mgb2JqZWN0ICovXG5leHBvcnQgY29uc3QgcmVzaXplTWFuYWdlciA9IG5ldyBSZXNpemVNYW5hZ2VyKCkgYXMgUmVzaXplTWFuYWdlclxuIiwiaW1wb3J0IHsgcmVzaXplTWFuYWdlciwgUmVzaXplTWFuYWdlciwgUmVzaXplTWFuYWdlckVudHJ5IH0gZnJvbSAnLi4vLi4vdXRpbHMvUmVzaXplTWFuYWdlcidcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcblxuLyoqXG4gKiBEZWZpbmVzIGEgcmVjdGFuZ3VsYXIgY29vcmRpbmF0ZXMgb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjdENvb3JkcyB7XG4gIC8qKiB0b3AgcG9zaXRpb24gKi9cbiAgdG9wOiBudW1iZXJcbiAgLyoqIHJpZ2h0IHBvc2l0aW9uICovXG4gIHJpZ2h0OiBudW1iZXJcbiAgLyoqIGJvdHRvbSBwb3NpdGlvbiAqL1xuICBib3R0b206IG51bWJlclxuICAvKiogbGVmdCBwb3NpdGlvbiAqL1xuICBsZWZ0OiBudW1iZXJcbn1cblxuLyoqXG4gKiBEZWZpbmVzIGEgc2l6ZSBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWN0U2l6ZSB7XG4gIC8qKiB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlICovXG4gIHdpZHRoOiBudW1iZXJcbiAgLyoqIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlICovXG4gIGhlaWdodDogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGJveCBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWN0QkJveCBleHRlbmRzIFJlY3RTaXplIHtcbiAgLyoqIHRvcCBwb3NpdGlvbiBvZiB0aGUgYm91bmRpbmcgYm94ICovXG4gIHRvcDogbnVtYmVyXG4gIC8qKiBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBib3VuZGluZyBib3ggKi9cbiAgbGVmdDogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhIERPTSBwb3NpdGlvbiBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBET01Qb3NpdGlvbiB7XG4gIC8qKiBYIHBvc2l0aW9uICovXG4gIHg6IG51bWJlclxuICAvKiogWSBwb3NpdGlvbiAqL1xuICB5OiBudW1iZXJcbn1cblxuLyoqXG4gKiBEZWZpbmVzIGEgY29tcGxldGUgRE9NIEVsZW1lbnQgYm91bmRpbmcgcmVjdCBvYmplY3QsIHNpbWlsYXIgdG8gYSB7QGxpbmsgRE9NUmVjdH1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBET01FbGVtZW50Qm91bmRpbmdSZWN0IGV4dGVuZHMgUmVjdENvb3JkcywgUmVjdEJCb3gsIERPTVBvc2l0aW9uIHt9XG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBET01FbGVtZW50fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERPTUVsZW1lbnRQYXJhbXMge1xuICAvKioge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnQgdGhlIHJlc2l6ZSBvYnNlcnZlciBzaG91bGQgdHJhY2sgKi9cbiAgZWxlbWVudD86IHN0cmluZyB8IEVsZW1lbnRcbiAgLyoqIE9yZGVyIGluIHdoaWNoIHRoZSB7QGxpbmsgcmVzaXplTWFuYWdlcn0gY2FsbGJhY2sgaXMgZXhlY3V0ZWQgKi9cbiAgcHJpb3JpdHk/OiBSZXNpemVNYW5hZ2VyRW50cnlbJ3ByaW9yaXR5J11cbiAgLyoqIENhbGxiYWNrIHRvIHR1biB3aGVuIHRoZSB7QGxpbmsgRE9NRWxlbWVudCNlbGVtZW50IHwgZWxlbWVudH0gc2l6ZSBjaGFuZ2VkICovXG4gIG9uU2l6ZUNoYW5nZWQ/OiAoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkgPT4gdm9pZCB8IG51bGxcbiAgLyoqIENhbGxiYWNrIHRvIHR1biB3aGVuIHRoZSB7QGxpbmsgRE9NRWxlbWVudCNlbGVtZW50IHwgZWxlbWVudH0gcG9zaXRpb24gY2hhbmdlZCAqL1xuICBvblBvc2l0aW9uQ2hhbmdlZD86IChib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSA9PiB2b2lkIHwgbnVsbFxufVxuXG4vKipcbiAqIFVzZWQgdG8gdHJhY2sgYSBET00gRWxlbWVudCBzaXplIGFuZCBwb3NpdGlvbiBieSB1c2luZyBhIHJlc2l6ZSBvYnNlcnZlciBwcm92aWRlZCBieSB7QGxpbmsgUmVzaXplTWFuYWdlcn0uPGJyPlxuICogRXhlY3V0ZSBjYWxsYmFja3Mgd2hlbiB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIHRoZSBET00gRWxlbWVudCBjaGFuZ2VzLCB3aGljaCBtZWFucyB3aGVuIGl0cyBzaXplIGFuZC9vciBwb3NpdGlvbiBjaGFuZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBET01FbGVtZW50IHtcbiAgLyoqIFRoZSBIVE1MIGVsZW1lbnQgdG8gdHJhY2sgKi9cbiAgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgLyoqIFByaW9yaXR5IGF0IHdoaWNoIHRoaXMgZWxlbWVudCB7QGxpbmsgb25TaXplQ2hhbmdlZH0gZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgKi9cbiAgcHJpb3JpdHk6IFJlc2l6ZU1hbmFnZXJFbnRyeVsncHJpb3JpdHknXVxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRpbWVvdXQgaXMgc3RpbGwgcnVubmluZyBhbmQgd2Ugc2hvdWxkIGF2b2lkIGEgbmV3IGNvbXB1dGF0aW9uICovXG4gIGlzUmVzaXppbmc6IGJvb2xlYW5cbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIGVsZW1lbnR9IHNpemUgY2hhbmdlZCAqL1xuICBvblNpemVDaGFuZ2VkOiAoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkgPT4gdm9pZCB8IG51bGxcbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIGVsZW1lbnR9IHBvc2l0aW9uIGNoYW5nZWQgKi9cbiAgb25Qb3NpdGlvbkNoYW5nZWQ6IChib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSA9PiB2b2lkIHwgbnVsbFxuICAvKiogVGhlIHtAbGluayBSZXNpemVNYW5hZ2VyfSB1c2VkLCBiYXNpY2FsbHkgYSB3cmFwcGVyIGFyb3VuZCBhIHtAbGluayBSZXNpemVPYnNlcnZlcn0gKi9cbiAgcmVzaXplTWFuYWdlcjogUmVzaXplTWFuYWdlclxuICAvKiogQ3VycmVudCAge0BsaW5rIGVsZW1lbnR9IGJvdW5kaW5nIHJlY3RhbmdsZSAqL1xuICBfYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0XG5cbiAgLyoqXG4gICAqIERPTUVsZW1lbnQgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgRE9NRWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBET01FbGVtZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgIHByaW9yaXR5ID0gMSxcbiAgICAgIG9uU2l6ZUNoYW5nZWQgPSAoYm91bmRpbmdSZWN0ID0gbnVsbCkgPT4ge1xuICAgICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgICAgfSxcbiAgICAgIG9uUG9zaXRpb25DaGFuZ2VkID0gKGJvdW5kaW5nUmVjdCA9IG51bGwpID0+IHtcbiAgICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICAgIH0sXG4gICAgfSA9IHt9IGFzIERPTUVsZW1lbnRQYXJhbXNcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KVxuXG4gICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xuICAgICAgICBjb25zdCBub3RGb3VuZEVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gYCcke2VsZW1lbnR9JyBzZWxlY3RvcmAgOiBgJHtlbGVtZW50fSBIVE1MRWxlbWVudGBcbiAgICAgICAgdGhyb3dFcnJvcihgRE9NRWxlbWVudDogY29ycmVzcG9uZGluZyAke25vdEZvdW5kRWx9IG5vdCBmb3VuZC5gKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgfVxuXG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5XG5cbiAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZVxuXG4gICAgdGhpcy5vblNpemVDaGFuZ2VkID0gb25TaXplQ2hhbmdlZFxuICAgIHRoaXMub25Qb3NpdGlvbkNoYW5nZWQgPSBvblBvc2l0aW9uQ2hhbmdlZFxuXG4gICAgdGhpcy5yZXNpemVNYW5hZ2VyID0gcmVzaXplTWFuYWdlclxuXG4gICAgdGhpcy5yZXNpemVNYW5hZ2VyLm9ic2VydmUoe1xuICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgcHJpb3JpdHk6IHRoaXMucHJpb3JpdHksXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFNpemUoKVxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gc2V0IHNpemUgcmlnaHQgYXdheSBvbiBpbml0XG4gICAgdGhpcy5zZXRTaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIDIgYm91bmRpbmcgcmVjdGFuZ2xlcyBhcmUgZXF1YWxzXG4gICAqIEBwYXJhbSByZWN0MSAtIGZpcnN0IGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgKiBAcGFyYW0gcmVjdDIgLSBzZWNvbmQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgcmVjdGFuZ2xlcyBhcmUgZXF1YWxzIG9yIG5vdFxuICAgKi9cbiAgY29tcGFyZUJvdW5kaW5nUmVjdChyZWN0MTogRE9NUmVjdCB8IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIHJlY3QyOiBET01SZWN0IHwgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhWyd4JywgJ3knLCAnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ3dpZHRoJywgJ2hlaWdodCddLnNvbWUoKGspID0+IHJlY3QxW2tdICE9PSByZWN0MltrXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIGVsZW1lbnQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqL1xuICBnZXQgYm91bmRpbmdSZWN0KCk6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3Qge1xuICAgIHJldHVybiB0aGlzLl9ib3VuZGluZ1JlY3RcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIGVsZW1lbnQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqL1xuICBzZXQgYm91bmRpbmdSZWN0KGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCkge1xuICAgIGNvbnN0IGlzU2FtZVJlY3QgPSAhIXRoaXMuYm91bmRpbmdSZWN0ICYmIHRoaXMuY29tcGFyZUJvdW5kaW5nUmVjdChib3VuZGluZ1JlY3QsIHRoaXMuYm91bmRpbmdSZWN0KVxuXG4gICAgdGhpcy5fYm91bmRpbmdSZWN0ID0ge1xuICAgICAgdG9wOiBib3VuZGluZ1JlY3QudG9wLFxuICAgICAgcmlnaHQ6IGJvdW5kaW5nUmVjdC5yaWdodCxcbiAgICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IGJvdW5kaW5nUmVjdC5sZWZ0LFxuICAgICAgd2lkdGg6IGJvdW5kaW5nUmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgIHg6IGJvdW5kaW5nUmVjdC54LFxuICAgICAgeTogYm91bmRpbmdSZWN0LnksXG4gICAgfVxuXG4gICAgaWYgKCFpc1NhbWVSZWN0KSB7XG4gICAgICB0aGlzLm9uU2l6ZUNoYW5nZWQodGhpcy5ib3VuZGluZ1JlY3QpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBvdXIgZWxlbWVudCBib3VuZGluZyByZWN0YW5nbGUgYmVjYXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG4gICAqIEBwYXJhbSBkZWx0YSAtIHNjcm9sbCBkZWx0YSB2YWx1ZXMgYWxvbmcgWCBhbmQgWSBheGlzXG4gICAqL1xuICB1cGRhdGVTY3JvbGxQb3NpdGlvbihkZWx0YTogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkge1xuICAgIGlmICh0aGlzLmlzUmVzaXppbmcpIHJldHVyblxuXG4gICAgdGhpcy5fYm91bmRpbmdSZWN0LnRvcCArPSBkZWx0YS55XG4gICAgdGhpcy5fYm91bmRpbmdSZWN0LmxlZnQgKz0gZGVsdGEueFxuXG4gICAgaWYgKGRlbHRhLnggfHwgZGVsdGEueSkge1xuICAgICAgdGhpcy5vblBvc2l0aW9uQ2hhbmdlZCh0aGlzLmJvdW5kaW5nUmVjdClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciBlbGVtZW50IGJvdW5kaW5nIHJlY3RhbmdsZSwgZWl0aGVyIGJ5IGEgdmFsdWUgb3IgYSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgY2FsbFxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgKi9cbiAgc2V0U2l6ZShib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsID0gbnVsbCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm5cblxuICAgIHRoaXMuYm91bmRpbmdSZWN0ID0gYm91bmRpbmdSZWN0ID8/IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciBET01FbGVtZW50IC0gcmVtb3ZlIGZyb20gcmVzaXplIG9ic2VydmVyIGFuZCBjbGVhciB0aHJvdHRsZSB0aW1lb3V0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVzaXplTWFuYWdlci51bm9ic2VydmUodGhpcy5lbGVtZW50KVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbnN0cnVjdCBWU091dHB1dCB7XG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNGYsXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXG59O1xuXG5AZnJhZ21lbnQgZm4gbWFpbihmc0lucHV0OiBWU091dHB1dCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcbiAgcmV0dXJuIHRleHR1cmVTYW1wbGUocmVuZGVyVGV4dHVyZSwgZGVmYXVsdFNhbXBsZXIsIGZzSW5wdXQudXYpO1xufWBcbiIsImltcG9ydCB7IEZ1bGxzY3JlZW5QbGFuZSB9IGZyb20gJy4uL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUnXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4vUmVuZGVyVGFyZ2V0J1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IE1lc2hCYXNlUmVuZGVyUGFyYW1zIH0gZnJvbSAnLi4vbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgZGVmYXVsdF9wYXNzX2ZzV0dTbCBmcm9tICcuLi9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Bhc3NfZnMud2dzbCdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNoYWRlclBhc3N9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2hhZGVyUGFzc1BhcmFtcyBleHRlbmRzIE1lc2hCYXNlUmVuZGVyUGFyYW1zIHtcbiAgLyoqIE9wdGlvbmFsIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFzc2lnbiB0byB0aGUge0BsaW5rIFNoYWRlclBhc3N9ICovXG4gIHJlbmRlclRhcmdldD86IFJlbmRlclRhcmdldFxufVxuXG4vKipcbiAqIFVzZWQgdG8gYXBwbHkgcG9zdHByb2Nlc3NpbmcsIGkuZS4gZHJhdyBtZXNoZXMgdG8gYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gYW5kIHRoZW4gZHJhdyBhIHtAbGluayBGdWxsc2NyZWVuUGxhbmV9IHVzaW5nIHRoYXQgdGV4dHVyZSBhcyBhbiBpbnB1dC5cbiAqXG4gKiBBIFNoYWRlclBhc3MgY291bGQgZWl0aGVyIHBvc3QgcHJvY2VzcyB0aGUgd2hvbGUgc2NlbmUgb3IganVzdCBhIGJ1bmNoIG9mIG1lc2hlcyB1c2luZyBhIHNwZWNpZmljIHtAbGluayBSZW5kZXJUYXJnZXR9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBTaGFkZXJQYXNzXG4gKiBjb25zdCBzaGFkZXJQYXNzID0gbmV3IFNoYWRlclBhc3MoZ3B1Q3VydGFpbiwge1xuICogICBsYWJlbDogJ015IHNoYWRlciBwYXNzJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGZyYWdtZW50OiB7XG4gKiAgICAgICBjb2RlOiBzaGFkZXJQYXNzQ29kZSwgLy8gYXNzdW1lIGl0IGlzIGEgdmFsaWQgV0dTTCBmcmFnbWVudCBzaGFkZXJcbiAqICAgICB9LFxuICogICB9LFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU2hhZGVyUGFzcyBleHRlbmRzIEZ1bGxzY3JlZW5QbGFuZSB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBjb250ZW50IHRvIHVzZSBhcyBhbiBpbnB1dCBpZiBzcGVjaWZpZWQgKi9cbiAgcmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXQgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogU2hhZGVyUGFzcyBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBTaGFkZXJQYXNzUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnM6IFNoYWRlclBhc3NQYXJhbXMgPSB7fSkge1xuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIFNoYWRlclBhc3MnIDogJ1NoYWRlclBhc3MnKVxuXG4gICAgLy8gZm9yY2UgdHJhbnNwYXJlbmN5IHRvIGFsbG93IGZvciBjb3JyZWN0IGJsZW5kaW5nIGJldHdlZW4gc3VjY2Vzc2l2ZSBwYXNzZXNcbiAgICBwYXJhbWV0ZXJzLnRyYW5zcGFyZW50ID0gdHJ1ZVxuICAgIHBhcmFtZXRlcnMubGFiZWwgPSBwYXJhbWV0ZXJzLmxhYmVsID8/ICdTaGFkZXJQYXNzICcgKyByZW5kZXJlci5zaGFkZXJQYXNzZXM/Lmxlbmd0aFxuXG4gICAgaWYgKCFwYXJhbWV0ZXJzLnNoYWRlcnMpIHtcbiAgICAgIHBhcmFtZXRlcnMuc2hhZGVycyA9IHt9XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbWV0ZXJzLnNoYWRlcnMuZnJhZ21lbnQpIHtcbiAgICAgIHBhcmFtZXRlcnMuc2hhZGVycy5mcmFnbWVudCA9IHtcbiAgICAgICAgY29kZTogZGVmYXVsdF9wYXNzX2ZzV0dTbCxcbiAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZvcmNlIHRoZSBwb3N0IHByb2Nlc3NpbmcgcGFzc2VzIHRvIG5vdCB1c2UgZGVwdGhcbiAgICBwYXJhbWV0ZXJzLmRlcHRoID0gZmFsc2VcblxuICAgIHN1cGVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gJ1NoYWRlclBhc3MnXG5cbiAgICB0aGlzLmNyZWF0ZVJlbmRlclRleHR1cmUoe1xuICAgICAgbGFiZWw6IHBhcmFtZXRlcnMubGFiZWwgPyBgJHtwYXJhbWV0ZXJzLmxhYmVsfSByZW5kZXIgdGV4dHVyZWAgOiAnU2hhZGVyIHBhc3MgcmVuZGVyIHRleHR1cmUnLFxuICAgICAgbmFtZTogJ3JlbmRlclRleHR1cmUnLFxuICAgICAgZnJvbVRleHR1cmU6IHRoaXMucmVuZGVyVGFyZ2V0ID8gdGhpcy5yZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZSA6IG51bGwsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIG1haW4ge0BsaW5rIFJlbmRlclRleHR1cmV9LCB0aGUgb25lIHRoYXQgY29udGFpbnMgb3VyIHBvc3QgcHJvY2Vzc2VkIGNvbnRlbnRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyVGV4dHVyZSgpOiBSZW5kZXJUZXh0dXJlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLm9wdGlvbnMubmFtZSA9PT0gJ3JlbmRlclRleHR1cmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIEFzc2lnbiBvciByZW1vdmUgYSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKiBTaW5jZSB0aGlzIG1hbmlwdWxhdGVzIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gc3RhY2tzLCBpdCBjYW4gYmUgdXNlZCB0byByZW1vdmUgYSBSZW5kZXJUYXJnZXQgYXMgd2VsbC5cbiAgICogQWxzbyBjb3B5IG9yIHJlbW92ZSB0aGUge0BsaW5rIFJlbmRlclRhcmdldCNyZW5kZXJUZXh0dXJlIHwgcmVuZGVyIHRhcmdldCByZW5kZXIgdGV4dHVyZX0gaW50byB0aGUge0BsaW5rIFNoYWRlclBhc3N9IHtAbGluayByZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gcmVuZGVyVGFyZ2V0IC0gdGhlIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFzc2lnbiBvciBudWxsIGlmIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBjdXJyZW50IHtAbGluayBSZW5kZXJUYXJnZXR9XG4gICAqL1xuICBzZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXQgfCBudWxsKSB7XG4gICAgc3VwZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldClcblxuICAgIGlmIChyZW5kZXJUYXJnZXQpIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jb3B5KHRoaXMucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5vcHRpb25zLmZyb21UZXh0dXJlID0gbnVsbFxuICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNyZWF0ZVRleHR1cmUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIHtAbGluayBTaGFkZXJQYXNzfSB0byB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICovXG4gIGFkZFRvU2NlbmUoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXJQYXNzZXMucHVzaCh0aGlzKVxuXG4gICAgaWYgKHRoaXMuYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5hZGRTaGFkZXJQYXNzKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUge0BsaW5rIFNoYWRlclBhc3N9IGZyb20gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAqL1xuICByZW1vdmVGcm9tU2NlbmUoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyVGFyZ2V0KSB7XG4gICAgICB0aGlzLnJlbmRlclRhcmdldC5kZXN0cm95KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZVNoYWRlclBhc3ModGhpcylcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRlclBhc3NlcyA9IHRoaXMucmVuZGVyZXIuc2hhZGVyUGFzc2VzLmZpbHRlcigoc1ApID0+IHNQLnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGFzc1BhcmFtcyB7XG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBSZW5kZXJQYXNzfSwgc2VudCB0byB2YXJpb3VzIEdQVSBvYmplY3RzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbD86IHN0cmluZ1xuICAvKiogVGhlIHtAbGluayBHUFVMb2FkT3AgfCBsb2FkIG9wZXJhdGlvbn0gdG8gcGVyZm9ybSB3aGlsZSBkcmF3aW5nIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIGxvYWRPcD86IEdQVUxvYWRPcFxuICAvKiogVGhlIHtAbGluayBHUFVDb2xvciB8IGNvbG9yIHZhbHVlc30gdG8gY2xlYXIgdG8gYmVmb3JlIGRyYXdpbmcgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgY2xlYXJWYWx1ZT86IEdQVUNvbG9yXG4gIC8qKiBPcHRpb25hbCBmb3JtYXQgb2YgdGhlIGNvbG9yIGF0dGFjaG1lbnQgdGV4dHVyZSAqL1xuICB0YXJnZXRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXRcbiAgLyoqIFdoZXRoZXIgdGhlIHtAbGluayBSZW5kZXJQYXNzI3ZpZXdUZXh0dXJlIHwgdmlldyB0ZXh0dXJlfSBzaG91bGQgdXNlIG11bHRpc2FtcGxpbmcgb3Igbm90ICovXG4gIHNhbXBsZUNvdW50PzogR1BVU2l6ZTMyXG5cbiAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gc2hvdWxkIGhhbmRsZSBhIGRlcHRoIHRleHR1cmUgKi9cbiAgZGVwdGg/OiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9IHNob3VsZCB1c2UgYW4gYWxyZWFkeSBjcmVhdGVkIGRlcHRoIHRleHR1cmUgKi9cbiAgZGVwdGhUZXh0dXJlPzogUmVuZGVyVGV4dHVyZVxuICAvKiogVGhlIHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn0gdG8gcGVyZm9ybSB3aGlsZSBkcmF3aW5nIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIGRlcHRoTG9hZE9wPzogR1BVTG9hZE9wXG4gIC8qKiBUaGUgZGVwdGggY2xlYXIgdmFsdWUgdG8gY2xlYXIgdG8gYmVmb3JlIGRyYXdpbmcgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgZGVwdGhDbGVhclZhbHVlPzogR1BVUmVuZGVyUGFzc0RlcHRoU3RlbmNpbEF0dGFjaG1lbnRbJ2RlcHRoQ2xlYXJWYWx1ZSddXG59XG5cbi8qKlxuICogVXNlZCBieSB7QGxpbmsgY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LlJlbmRlclRhcmdldCB8IFJlbmRlclRhcmdldH0gYW5kIHRoZSB7QGxpbmsgUmVuZGVyZXJ9IHRvIHJlbmRlciB0byBhIHtAbGluayBSZW5kZXJQYXNzI3ZpZXdUZXh0dXJlIHwgdmlldyB0ZXh0dXJlfSB1c2luZyBhIHNwZWNpZmljIHtAbGluayBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciB8IHJlbmRlciBwYXNzIGRlc2NyaXB0b3J9LlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyUGFzcyB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgb3B0aW9uczogUmVuZGVyUGFzc1BhcmFtc1xuXG4gIC8qKiBEZXB0aCB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gaWYgaXQgc2hvdWxkIGhhbmRsZSBkZXB0aCAqL1xuICBkZXB0aFRleHR1cmU6IFJlbmRlclRleHR1cmUgfCB1bmRlZmluZWRcbiAgLyoqIENvbG9yIGF0dGFjaG1lbnQge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIHZpZXdUZXh0dXJlOiBSZW5kZXJUZXh0dXJlXG4gIC8qKiBSZXNvbHZlIHtAbGluayBSZW5kZXJUZXh0dXJlfSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBSZW5kZXJQYXNzfSBpZiBpdCBpcyB1c2luZyBtdWx0aXNhbXBsaW5nICovXG4gIC8vcmVzb2x2ZVRleHR1cmU6IFJlbmRlclRleHR1cmUgfCB1bmRlZmluZWRcblxuICAvKiogVGhlIHtAbGluayBSZW5kZXJQYXNzfSB7QGxpbmsgR1BVUmVuZGVyUGFzc0Rlc2NyaXB0b3IgfCBkZXNjcmlwdG9yfSAqL1xuICBkZXNjcmlwdG9yOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvclxuXG4gIC8qKlxuICAgKiBSZW5kZXJQYXNzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlclBhc3NQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXG4gICAge1xuICAgICAgbGFiZWwgPSAnUmVuZGVyIFBhc3MnLFxuICAgICAgc2FtcGxlQ291bnQgPSA0LFxuICAgICAgbG9hZE9wID0gJ2NsZWFyJyBhcyBHUFVMb2FkT3AsXG4gICAgICBjbGVhclZhbHVlID0gWzAsIDAsIDAsIDBdLFxuICAgICAgdGFyZ2V0Rm9ybWF0LFxuICAgICAgZGVwdGggPSB0cnVlLFxuICAgICAgZGVwdGhUZXh0dXJlLFxuICAgICAgZGVwdGhMb2FkT3AgPSAnY2xlYXInIGFzIEdQVUxvYWRPcCxcbiAgICAgIGRlcHRoQ2xlYXJWYWx1ZSA9IDEsXG4gICAgfSA9IHt9IGFzIFJlbmRlclBhc3NQYXJhbXNcbiAgKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCAnUmVuZGVyUGFzcycpXG5cbiAgICB0aGlzLnR5cGUgPSAnUmVuZGVyUGFzcydcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICBzYW1wbGVDb3VudCxcbiAgICAgIC8vIGNvbG9yXG4gICAgICBsb2FkT3AsXG4gICAgICBjbGVhclZhbHVlLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIC8vIGRlcHRoXG4gICAgICBkZXB0aCxcbiAgICAgIC4uLihkZXB0aFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiB7IGRlcHRoVGV4dHVyZSB9KSxcbiAgICAgIGRlcHRoTG9hZE9wLFxuICAgICAgZGVwdGhDbGVhclZhbHVlLFxuICAgIH1cblxuICAgIHRoaXMuc2V0Q2xlYXJWYWx1ZShjbGVhclZhbHVlKVxuXG4gICAgLy8gaWYgbmVlZGVkLCBjcmVhdGUgYSBkZXB0aCB0ZXh0dXJlIGJlZm9yZSBvdXIgZGVzY3JpcHRvclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVwdGgpIHtcbiAgICAgIHRoaXMuY3JlYXRlRGVwdGhUZXh0dXJlKClcbiAgICB9XG5cbiAgICB0aGlzLnZpZXdUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgdmlldyB0ZXh0dXJlJyxcbiAgICAgIG5hbWU6ICd2aWV3VGV4dHVyZScsXG4gICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQsXG4gICAgICBzYW1wbGVDb3VudDogdGhpcy5vcHRpb25zLnNhbXBsZUNvdW50LFxuICAgIH0pXG5cbiAgICAvLyBpZiAodGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSkge1xuICAgIC8vICAgdGhpcy5yZXNvbHZlVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMucmVuZGVyZXIsIHtcbiAgICAvLyAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgcmVzb2x2ZSB0ZXh0dXJlJyxcbiAgICAvLyAgICAgbmFtZTogJ3Jlc29sdmVUZXh0dXJlJyxcbiAgICAvLyAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudGFyZ2V0Rm9ybWF0LFxuICAgIC8vICAgfSlcbiAgICAvLyB9XG5cbiAgICB0aGlzLnNldFJlbmRlclBhc3NEZXNjcmlwdG9yKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBkZXB0aFRleHR1cmUgfCBkZXB0aCB0ZXh0dXJlfVxuICAgKi9cbiAgY3JlYXRlRGVwdGhUZXh0dXJlKCkge1xuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgZGVwdGggdGV4dHVyZScsXG4gICAgICBuYW1lOiAnZGVwdGhUZXh0dXJlJyxcbiAgICAgIHVzYWdlOiAnZGVwdGhUZXh0dXJlJyxcbiAgICAgIGZvcm1hdDogJ2RlcHRoMjRwbHVzJyxcbiAgICAgIHNhbXBsZUNvdW50OiB0aGlzLm9wdGlvbnMuc2FtcGxlQ291bnQsXG4gICAgICAuLi4odGhpcy5vcHRpb25zLmRlcHRoVGV4dHVyZSAmJiB7IGZyb21UZXh0dXJlOiB0aGlzLm9wdGlvbnMuZGVwdGhUZXh0dXJlIH0pLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgb3VyIHtAbGluayBkZXB0aFRleHR1cmUgfCBkZXB0aCB0ZXh0dXJlfVxuICAgKi9cbiAgcmVzZXRSZW5kZXJQYXNzRGVwdGgoKSB7XG4gICAgdGhpcy5kZXB0aFRleHR1cmUuZm9yY2VSZXNpemUoe1xuICAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgIGRlcHRoOiAxLFxuICAgIH0pXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsQXR0YWNobWVudC52aWV3ID0gdGhpcy5kZXB0aFRleHR1cmUudGV4dHVyZS5jcmVhdGVWaWV3KHtcbiAgICAgIGxhYmVsOiB0aGlzLmRlcHRoVGV4dHVyZS5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IG91ciB7QGxpbmsgdmlld1RleHR1cmUgfCB2aWV3IHRleHR1cmV9XG4gICAqL1xuICByZXNldFJlbmRlclBhc3NWaWV3KCkge1xuICAgIHRoaXMudmlld1RleHR1cmUuZm9yY2VSZXNpemUoe1xuICAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgIGRlcHRoOiAxLFxuICAgIH0pXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXS52aWV3ID0gdGhpcy52aWV3VGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgbGFiZWw6IHRoaXMudmlld1RleHR1cmUub3B0aW9ucy5sYWJlbCArICcgdmlldycsXG4gICAgfSlcblxuICAgIC8vIGlmICh0aGlzLm9wdGlvbnMuc2FtcGxlQ291bnQgPiAxKSB7XG4gICAgLy8gICB0aGlzLnJlc29sdmVUZXh0dXJlLmZvcmNlUmVzaXplKHtcbiAgICAvLyAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAvLyAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQpLFxuICAgIC8vICAgICBkZXB0aDogMSxcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyAgIHRoaXMuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLnJlc29sdmVUYXJnZXQgPSB0aGlzLnJlc29sdmVUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldygpXG4gICAgLy8gfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcmVuZGVyIHBhc3Mge0BsaW5rIGRlc2NyaXB0b3J9XG4gICAqL1xuICBzZXRSZW5kZXJQYXNzRGVzY3JpcHRvcigpIHtcbiAgICB0aGlzLmRlc2NyaXB0b3IgPSB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyBkZXNjcmlwdG9yJyxcbiAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIC8vIHZpZXc6IDwtIHRvIGJlIGZpbGxlZCBvdXQgd2hlbiB3ZSBzZXQgb3VyIHJlbmRlciBwYXNzIHZpZXdcbiAgICAgICAgICB2aWV3OiB0aGlzLnZpZXdUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy52aWV3VGV4dHVyZS5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAvLyAuLi4odGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSAmJiB7XG4gICAgICAgICAgLy8gICByZXNvbHZlVGFyZ2V0OiB0aGlzLnJlc29sdmVUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgICAgLy8gICAgIGxhYmVsOiB0aGlzLnJlc29sdmVUZXh0dXJlLm9wdGlvbnMubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgICAgIC8vICAgfSksXG4gICAgICAgICAgLy8gfSksXG4gICAgICAgICAgLy8gY2xlYXIgdmFsdWVzXG4gICAgICAgICAgY2xlYXJWYWx1ZTogdGhpcy5vcHRpb25zLmNsZWFyVmFsdWUsXG4gICAgICAgICAgLy8gbG9hZE9wOiAnY2xlYXInIHNwZWNpZmllcyB0byBjbGVhciB0aGUgdGV4dHVyZSB0byB0aGUgY2xlYXIgdmFsdWUgYmVmb3JlIGRyYXdpbmdcbiAgICAgICAgICAvLyBUaGUgb3RoZXIgb3B0aW9uIGlzICdsb2FkJyB3aGljaCBtZWFucyBsb2FkIHRoZSBleGlzdGluZyBjb250ZW50cyBvZiB0aGUgdGV4dHVyZSBpbnRvIHRoZSBHUFUgc28gd2UgY2FuIGRyYXcgb3ZlciB3aGF0J3MgYWxyZWFkeSB0aGVyZS5cbiAgICAgICAgICBsb2FkT3A6IHRoaXMub3B0aW9ucy5sb2FkT3AsXG4gICAgICAgICAgLy8gc3RvcmVPcDogJ3N0b3JlJyBtZWFucyBzdG9yZSB0aGUgcmVzdWx0IG9mIHdoYXQgd2UgZHJhdy5cbiAgICAgICAgICAvLyBXZSBjb3VsZCBhbHNvIHBhc3MgJ2Rpc2NhcmQnIHdoaWNoIHdvdWxkIHRocm93IGF3YXkgd2hhdCB3ZSBkcmF3LlxuICAgICAgICAgIC8vIHNlZSBodHRwczovL3dlYmdwdWZ1bmRhbWVudGFscy5vcmcvd2ViZ3B1L2xlc3NvbnMvd2ViZ3B1LW11bHRpc2FtcGxpbmcuaHRtbFxuICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgLi4uKHRoaXMub3B0aW9ucy5kZXB0aCAmJiB7XG4gICAgICAgIGRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ6IHtcbiAgICAgICAgICB2aWV3OiB0aGlzLmRlcHRoVGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuZGVwdGhUZXh0dXJlLm9wdGlvbnMubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRlcHRoQ2xlYXJWYWx1ZTogdGhpcy5vcHRpb25zLmRlcHRoQ2xlYXJWYWx1ZSxcbiAgICAgICAgICAvLyB0aGUgc2FtZSB3YXkgbG9hZE9wIGlzIHdvcmtpbmcsIHdlIGNhbiBzcGVjaWZ5IGlmIHdlIHdhbnQgdG8gY2xlYXIgb3IgbG9hZCB0aGUgcHJldmlvdXMgZGVwdGggYnVmZmVyIHJlc3VsdFxuICAgICAgICAgIGRlcHRoTG9hZE9wOiB0aGlzLm9wdGlvbnMuZGVwdGhMb2FkT3AsXG4gICAgICAgICAgZGVwdGhTdG9yZU9wOiAnc3RvcmUnLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSBhcyBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvclxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBvdXIge0BsaW5rIFJlbmRlclBhc3N9OiByZXNldCBpdHMge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqL1xuICByZXNpemUoKSB7XG4gICAgLy8gcmVzZXQgdGV4dHVyZXNcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlcHRoKSB0aGlzLnJlc2V0UmVuZGVyUGFzc0RlcHRoKClcbiAgICB0aGlzLnJlc2V0UmVuZGVyUGFzc1ZpZXcoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGRlc2NyaXB0b3J9IHtAbGluayBHUFVMb2FkT3AgfCBsb2FkIG9wZXJhdGlvbn1cbiAgICogQHBhcmFtIGxvYWRPcCAtIG5ldyB7QGxpbmsgR1BVTG9hZE9wIHwgbG9hZCBvcGVyYXRpb259IHRvIHVzZVxuICAgKi9cbiAgc2V0TG9hZE9wKGxvYWRPcDogR1BVTG9hZE9wID0gJ2NsZWFyJykge1xuICAgIHRoaXMub3B0aW9ucy5sb2FkT3AgPSBsb2FkT3BcbiAgICBpZiAodGhpcy5kZXNjcmlwdG9yKSB7XG4gICAgICBpZiAodGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHMpIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHNbMF0ubG9hZE9wID0gbG9hZE9wXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGRlc2NyaXB0b3J9IHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn1cbiAgICogQHBhcmFtIGRlcHRoTG9hZE9wIC0gbmV3IHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn0gdG8gdXNlXG4gICAqL1xuICBzZXREZXB0aExvYWRPcChkZXB0aExvYWRPcDogR1BVTG9hZE9wID0gJ2NsZWFyJykge1xuICAgIHRoaXMub3B0aW9ucy5kZXB0aExvYWRPcCA9IGRlcHRoTG9hZE9wXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZXB0aCAmJiB0aGlzLmRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5kZXNjcmlwdG9yLmRlcHRoU3RlbmNpbEF0dGFjaG1lbnQuZGVwdGhMb2FkT3AgPSBkZXB0aExvYWRPcFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBHUFVDb2xvciB8IGNsZWFyIGNvbG9ycyB2YWx1ZX0uPGJyPlxuICAgKiBCZXdhcmUgdGhhdCBpZiB0aGUge0BsaW5rIHJlbmRlcmVyfSBpcyB1c2luZyB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIjYWxwaGFNb2RlIHwgcHJlbXVsdGlwbGllZCBhbHBoYSBtb2RlfSwgeW91ciBSLCBHIGFuZCBCIGNoYW5uZWxzIHNob3VsZCBiZSBwcmVtdWx0aXBsaWVkIGJ5IHlvdXIgYWxwaGEgY2hhbm5lbC5cbiAgICogQHBhcmFtIGNsZWFyVmFsdWUgLSBuZXcge0BsaW5rIEdQVUNvbG9yIHwgY2xlYXIgY29sb3JzIHZhbHVlfSB0byB1c2VcbiAgICovXG4gIHNldENsZWFyVmFsdWUoY2xlYXJWYWx1ZTogR1BVQ29sb3IgPSBbMCwgMCwgMCwgMF0pIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlci5hbHBoYU1vZGUgPT09ICdwcmVtdWx0aXBsaWVkJykge1xuICAgICAgY29uc3QgYWxwaGEgPSBjbGVhclZhbHVlWzNdXG4gICAgICBjbGVhclZhbHVlWzBdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVswXSwgYWxwaGEpXG4gICAgICBjbGVhclZhbHVlWzFdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVsxXSwgYWxwaGEpXG4gICAgICBjbGVhclZhbHVlWzJdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVsyXSwgYWxwaGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jbGVhclZhbHVlID0gY2xlYXJWYWx1ZVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRlc2NyaXB0b3IgJiYgdGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHMpIHtcbiAgICAgIHRoaXMuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLmNsZWFyVmFsdWUgPSBjbGVhclZhbHVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIHtAbGluayBSZW5kZXJQYXNzfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnZpZXdUZXh0dXJlPy5kZXN0cm95KClcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmRlcHRoVGV4dHVyZSAmJiB0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpXG4gICAgfVxuXG4gICAgLy90aGlzLnJlc29sdmVUZXh0dXJlPy5kZXN0cm95KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBSZW5kZXJQYXNzLCBSZW5kZXJQYXNzUGFyYW1zIH0gZnJvbSAnLi9SZW5kZXJQYXNzJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBET01FbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSAnLi4vRE9NL0RPTUVsZW1lbnQnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUYXJnZXR9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVGFyZ2V0UGFyYW1zIGV4dGVuZHMgUmVuZGVyUGFzc1BhcmFtcyB7XG4gIC8qKiBXaGV0aGVyIHdlIHNob3VsZCBhZGQgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBVc2VkIHRvIGRyYXcgbWVzaGVzIHRvIGEge0BsaW5rIFJlbmRlclBhc3Mjdmlld1RleHR1cmUgfCBSZW5kZXJQYXNzIHZpZXcgdGV4dHVyZX0gaW5zdGVhZCBvZiBkaXJlY3RseSB0byBzY3JlZW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIGNvbnN0IHJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNeSByZW5kZXIgdGFyZ2V0JyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclRhcmdldCB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICByZW5kZXJlcjogUmVuZGVyZXJcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoaXMge0BsaW5rIFJlbmRlclRhcmdldH0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICBvcHRpb25zOiBSZW5kZXJUYXJnZXRQYXJhbXNcblxuICAvKioge0BsaW5rIFJlbmRlclBhc3N9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzXG4gIC8qKiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdGhhdCB3aWxsIGJlIHJlc29sdmVkIGJ5IHRoZSB7QGxpbmsgcmVuZGVyUGFzc30gd2hlbiB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIjc2V0UmVuZGVyUGFzc0N1cnJlbnRUZXh0dXJlIHwgc2V0dGluZyB0aGUgY3VycmVudCB0ZXh0dXJlfSAqL1xuICByZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlXG5cbiAgLyoqIFdoZXRoZXIgd2Ugc2hvdWxkIGFkZCB0aGlzIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gdG8gbGV0IGl0IGhhbmRsZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3MgYXV0b21hdGljYWxseSAqL1xuICAjYXV0b1JlbmRlciA9IHRydWVcblxuICAvKipcbiAgICogUmVuZGVyVGFyZ2V0IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclRhcmdldH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyVGFyZ2V0UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUYXJnZXR9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucywgcGFyYW1ldGVyczogUmVuZGVyVGFyZ2V0UGFyYW1zKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCAnUmVuZGVyVGFyZ2V0JylcblxuICAgIHRoaXMudHlwZSA9ICdSZW5kZXJUYXJnZXQnXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIGNvbnN0IHsgbGFiZWwsIHRhcmdldEZvcm1hdCwgYXV0b1JlbmRlciwgLi4ucmVuZGVyUGFzc1BhcmFtcyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICAuLi5yZW5kZXJQYXNzUGFyYW1zLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGF1dG9SZW5kZXIsXG4gICAgfVxuXG4gICAgaWYgKGF1dG9SZW5kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy4jYXV0b1JlbmRlciA9IGF1dG9SZW5kZXJcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlclBhc3MgPSBuZXcgUmVuZGVyUGFzcyh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsID8gYCR7dGhpcy5vcHRpb25zLmxhYmVsfSBSZW5kZXIgUGFzc2AgOiAnUmVuZGVyIFRhcmdldCBSZW5kZXIgUGFzcycsXG4gICAgICB0YXJnZXRGb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQsXG4gICAgICBkZXB0aFRleHR1cmU6IHRoaXMucmVuZGVyZXIucmVuZGVyUGFzcy5kZXB0aFRleHR1cmUsIC8vIHJldXNlIHJlbmRlcmVyIGRlcHRoIHRleHR1cmUgZm9yIGV2ZXJ5IHBhc3NcbiAgICAgIC4uLnJlbmRlclBhc3NQYXJhbXMsXG4gICAgfSlcblxuICAgIC8vIHRoaXMgaXMgdGhlIHRleHR1cmUgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gc2V0dGluZyB0aGUgY3VycmVudCByZW5kZXIgcGFzcyB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCA/IGAke3RoaXMub3B0aW9ucy5sYWJlbH0gUmVuZGVyIFRleHR1cmVgIDogJ1JlbmRlciBUYXJnZXQgUmVuZGVyIFRleHR1cmUnLFxuICAgICAgbmFtZTogJ3JlbmRlclRleHR1cmUnLFxuICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudGFyZ2V0Rm9ybWF0LFxuICAgIH0pXG5cbiAgICB0aGlzLmFkZFRvU2NlbmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAqL1xuICBhZGRUb1NjZW5lKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMpXG5cbiAgICBpZiAodGhpcy4jYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5hZGRSZW5kZXJUYXJnZXQodGhpcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZVJlbmRlclRhcmdldCh0aGlzKVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cyA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cy5maWx0ZXIoKHJlbmRlclRhcmdldCkgPT4gcmVuZGVyVGFyZ2V0LnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgb3VyIHtAbGluayByZW5kZXJQYXNzfSBhbmQge0BsaW5rIHJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSBuZXcge0BsaW5rIERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBib3VuZGluZyByZWN0YW5nbGV9XG4gICAqL1xuICByZXNpemUoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0KSB7XG4gICAgLy8gcmVzZXQgdGhlIG5ld2x5IGNyZWF0ZWQgcmVuZGVyZXIgcmVuZGVyIHBhc3MgZGVwdGggdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyUGFzcy5vcHRpb25zLmRlcHRoVGV4dHVyZS50ZXh0dXJlID0gdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzLmRlcHRoVGV4dHVyZS50ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJQYXNzPy5yZXNpemUoKVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZT8ucmVzaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgb3VyIHtAbGluayBSZW5kZXJUYXJnZXR9LiBBbGlhcyBvZiB7QGxpbmsgUmVuZGVyVGFyZ2V0I2Rlc3Ryb3l9XG4gICAqL1xuICByZW1vdmUoKSB7XG4gICAgdGhpcy5kZXN0cm95KClcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVuZGVyVGFyZ2V0fVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICAvLyByZWxlYXNlIG1lc2ggc3RydWN0XG4gICAgdGhpcy5yZW5kZXJlci5tZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgaWYgKG1lc2gucmVuZGVyVGFyZ2V0ICYmIG1lc2gucmVuZGVyVGFyZ2V0LnV1aWQgPT09IHRoaXMudXVpZCkge1xuICAgICAgICBtZXNoLnNldFJlbmRlclRhcmdldChudWxsKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyByZWxlYXNlIHNoYWRlciBwYXNzZXMgc3RydWN0XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXJQYXNzZXMuZm9yRWFjaCgoc2hhZGVyUGFzcykgPT4ge1xuICAgICAgaWYgKHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0ICYmIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0LnV1aWQgPT09IHRoaXMudXVpZCkge1xuICAgICAgICAvLyBmb3JjZSByZW5kZXIgdGFyZ2V0IHRvIG51bGwgYmVmb3JlIHJlbW92aW5nIC8gcmUtYWRkaW5nIHRvIHNjZW5lXG4gICAgICAgIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0ID0gbnVsbFxuICAgICAgICBzaGFkZXJQYXNzLnNldFJlbmRlclRhcmdldChudWxsKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyByZW1vdmUgZnJvbSBzY2VuZSBhbmQgcmVuZGVyZXIgYXJyYXlcbiAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG5cbiAgICB0aGlzLnJlbmRlclBhc3M/LmRlc3Ryb3koKVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZT8uZGVzdHJveSgpXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuLi8uLi9jb3JlL3JlbmRlclBhc3Nlcy9SZW5kZXJUYXJnZXQnXG5pbXBvcnQgeyBGdWxsc2NyZWVuUGxhbmUgfSBmcm9tICcuLi8uLi9jb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uLy4uL2NvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcbmltcG9ydCB7IE1lc2hCYXNlUmVuZGVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9tZXNoZXMvbWl4aW5zL01lc2hCYXNlTWl4aW4nXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSBzcGVjaWFsIHR5cGUgb2Yge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX0gdGhhdCBhbGxvd3MgdG8gdXNlIHRoZSBwcmV2aW91cyBmcmFtZSBmcmFnbWVudCBzaGFkZXIgb3V0cHV0IGFzIGFuIGlucHV0IHRleHR1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIFBpbmdQb25nUGxhbmVcbiAqIGNvbnN0IHNoYWRlclBhc3MgPSBuZXcgUGluZ1BvbmdQbGFuZShncHVDdXJ0YWluLCB7XG4gKiAgIGxhYmVsOiAnTXkgcGluZyBwb25nIHBsYW5lJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGZyYWdtZW50OiB7XG4gKiAgICAgICBjb2RlOiBwaW5nUG9uZ0NvZGUsIC8vIGFzc3VtZSBpdCBpcyBhIHZhbGlkIFdHU0wgZnJhZ21lbnQgc2hhZGVyXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBpbmdQb25nUGxhbmUgZXh0ZW5kcyBGdWxsc2NyZWVuUGxhbmUge1xuICAvKioge0BsaW5rIFJlbmRlclRhcmdldH0gY29udGVudCB0byB1c2UgYXMgYW4gaW5wdXQgKi9cbiAgcmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXRcblxuICAvKipcbiAgICogUGluZ1BvbmdQbGFuZSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaW5nUG9uZ1BsYW5lfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBNZXNoQmFzZVJlbmRlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZSB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUGluZ1BvbmdQbGFuZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0ge30gYXMgTWVzaEJhc2VSZW5kZXJQYXJhbXMpIHtcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gcGFyYW1ldGVycy5sYWJlbCArICcgUGluZ1BvbmdQbGFuZScgOiAnUGluZ1BvbmdQbGFuZScpXG5cbiAgICAvLyB3ZSB3aWxsIHJlbmRlciBpbnRvIGEgc2VwYXJhdGUgdGV4dHVyZVxuICAgIHBhcmFtZXRlcnMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldChyZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyByZW5kZXIgdGFyZ2V0JyA6ICdQaW5nIFBvbmcgcmVuZGVyIHRhcmdldCcsXG4gICAgICBkZXB0aDogZmFsc2UsXG4gICAgICAuLi4ocGFyYW1ldGVycy50YXJnZXRGb3JtYXQgJiYgeyB0YXJnZXRGb3JtYXQ6IHBhcmFtZXRlcnMudGFyZ2V0Rm9ybWF0IH0pLFxuICAgIH0pXG5cbiAgICAvLyBubyBibGVuZGluZyBhbmQgZGVwdGggZm9yIHBpbmcgcG9uZyBwbGFuZXNcbiAgICBwYXJhbWV0ZXJzLnRyYW5zcGFyZW50ID0gZmFsc2VcbiAgICBwYXJhbWV0ZXJzLmRlcHRoID0gZmFsc2VcbiAgICBwYXJhbWV0ZXJzLmxhYmVsID0gcGFyYW1ldGVycy5sYWJlbCA/PyAnUGluZ1BvbmdQbGFuZSAnICsgcmVuZGVyZXIucGluZ1BvbmdQbGFuZXM/Lmxlbmd0aFxuXG4gICAgc3VwZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMpXG5cbiAgICB0aGlzLnR5cGUgPSAnUGluZ1BvbmdQbGFuZSdcblxuICAgIHRoaXMuY3JlYXRlUmVuZGVyVGV4dHVyZSh7XG4gICAgICBsYWJlbDogcGFyYW1ldGVycy5sYWJlbCA/IGAke3BhcmFtZXRlcnMubGFiZWx9IHJlbmRlciB0ZXh0dXJlYCA6ICdQaW5nUG9uZ1BsYW5lIHJlbmRlciB0ZXh0dXJlJyxcbiAgICAgIG5hbWU6ICdyZW5kZXJUZXh0dXJlJyxcbiAgICAgIC4uLihwYXJhbWV0ZXJzLnRhcmdldEZvcm1hdCAmJiB7IGZvcm1hdDogcGFyYW1ldGVycy50YXJnZXRGb3JtYXQgfSksXG4gICAgfSBhcyBSZW5kZXJUZXh0dXJlUGFyYW1zKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgbWFpbiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0sIHRoZSBvbmUgdGhhdCBjb250YWlucyBvdXIgcGluZyBwb25nIGNvbnRlbnRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyVGV4dHVyZSgpOiBSZW5kZXJUZXh0dXJlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLm9wdGlvbnMubmFtZSA9PT0gJ3JlbmRlclRleHR1cmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUge0BsaW5rIFBpbmdQb25nUGxhbmV9IHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnBpbmdQb25nUGxhbmVzLnB1c2godGhpcylcblxuICAgIGlmICh0aGlzLmF1dG9SZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUuYWRkUGluZ1BvbmdQbGFuZSh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIHtAbGluayBQaW5nUG9uZ1BsYW5lfSBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLnJlbmRlclRhcmdldCkge1xuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuZGVzdHJveSgpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5yZW1vdmVQaW5nUG9uZ1BsYW5lKHRoaXMpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5waW5nUG9uZ1BsYW5lcyA9IHRoaXMucmVuZGVyZXIucGluZ1BvbmdQbGFuZXMuZmlsdGVyKChwUFApID0+IHBQUC51dWlkICE9PSB0aGlzLnV1aWQpXG4gIH1cbn1cbiIsImltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vLi4vY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QnXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcclxuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi9HUFVDdXJ0YWlucydcclxuaW1wb3J0IHsgaXNDdXJ0YWluc1JlbmRlcmVyIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvdXRpbHMnXHJcbmltcG9ydCB7IERPTUVsZW1lbnQsIERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIERPTUVsZW1lbnRQYXJhbXMsIERPTVBvc2l0aW9uLCBSZWN0QkJveCB9IGZyb20gJy4uLy4uL2NvcmUvRE9NL0RPTUVsZW1lbnQnXHJcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXHJcbmltcG9ydCB7IE9iamVjdDNEVHJhbnNmb3JtcyB9IGZyb20gJy4uLy4uL2NvcmUvb2JqZWN0czNEL09iamVjdDNEJ1xyXG5cclxuLyoqIERlZmluZXMgdGhlIHtAbGluayBET01PYmplY3QzRH0gYm91bmRpbmcgYm94ZXMgaW4gYm90aCBkb2N1bWVudCBhbmQgd29ybGQgc3BhY2VzICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRE9NT2JqZWN0M0RTaXplIHtcclxuICAvKiogVGhlIHtAbGluayBET01PYmplY3QzRH0gYm91bmRpbmcgYm94IGluIHdvcmxkIHNwYWNlICovXHJcbiAgd29ybGQ6IFJlY3RCQm94XHJcbiAgLyoqIFRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IGJvdW5kaW5nIGJveCBpbiBkb2N1bWVudCBzcGFjZSAqL1xyXG4gIGRvY3VtZW50OiBSZWN0QkJveFxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhbGwgbmVjZXNzYXJ5IHtAbGluayBWZWMzIHwgdmVjdG9yc30ve0BsaW5rIG1hdGgvUXVhdC5RdWF0IHwgcXVhdGVybmlvbnN9IHRvIGNvbXB1dGUgYSAzRCB7QGxpbmsgbWF0aC9NYXQ0Lk1hdDQgfCBtb2RlbCBtYXRyaXh9IGJhc2VkIG9uIGEgRE9NIHtAbGluayBIVE1MRWxlbWVudH1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zIGV4dGVuZHMgT21pdDxPYmplY3QzRFRyYW5zZm9ybXMsICdvcmlnaW4nIHwgJ3Bvc2l0aW9uJz4ge1xyXG4gIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4gb2JqZWN0ICovXHJcbiAgb3JpZ2luOiB7XHJcbiAgICAvKiogVHJhbnNmb3JtYXRpb24gb3JpZ2luIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUge0BsaW5rIERPTU9iamVjdDNEfSAqL1xyXG4gICAgbW9kZWw6IFZlYzNcclxuICAgIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCAqL1xyXG4gICAgd29ybGQ6IFZlYzNcclxuICB9XHJcbiAgLyoqIFBvc2l0aW9uIG9iamVjdCAqL1xyXG4gIHBvc2l0aW9uOiB7XHJcbiAgICAvKiogUG9zaXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCAqL1xyXG4gICAgd29ybGQ6IFZlYzNcclxuICAgIC8qKiBBZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUgRE9NIGRvY3VtZW50ICovXHJcbiAgICBkb2N1bWVudDogVmVjM1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgRE9NT2JqZWN0M0R9XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERPTU9iamVjdDNEUGFyYW1zIHtcclxuICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBkb2N1bWVudCBhbmQgd29ybGQgcG9zaXRpb25zIG9uIHNjcm9sbCAqL1xyXG4gIHdhdGNoU2Nyb2xsPzogYm9vbGVhblxyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBzcGVjaWFsIGtpbmQgb2Yge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB1c2VzIGFuIHtAbGluayBIVE1MRWxlbWVudH0gdG8gY29udmVydCB0aGUgY29ycmVzcG9uZGluZyBYIGFuZCBZIHtAbGluayBET01PYmplY3QzRCNzY2FsZSB8IHNjYWxlfSBhbmQge0BsaW5rIERPTU9iamVjdDNEI3Bvc2l0aW9uIHwgcG9zaXRpb259IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCBzcGFjZS5cclxuICpcclxuICogSW50ZXJuYWxseSB1c2VkIGJ5IHRoZSB7QGxpbmsgY3VydGFpbnMvbWVzaGVzL0RPTU1lc2guRE9NTWVzaCB8IERPTU1lc2h9IGFuZCB7QGxpbmsgY3VydGFpbnMvbWVzaGVzL1BsYW5lLlBsYW5lIHwgUGxhbmV9XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRE9NT2JqZWN0M0QgZXh0ZW5kcyBQcm9qZWN0ZWRPYmplY3QzRCB7XHJcbiAgLyoqIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBET01PYmplY3QzRH0gKi9cclxuICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlclxyXG5cclxuICAvKiogRGVmaW5lcyB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBib3VuZGluZyBib3hlcyBpbiBib3RoIGRvY3VtZW50IGFuZCB3b3JsZCBzcGFjZXMgKi9cclxuICBzaXplOiBET01PYmplY3QzRFNpemVcclxuICAvKioge0BsaW5rIERPTUVsZW1lbnR9IHVzZWQgdG8gdHJhY2sgdGhlIGdpdmVuIHtAbGluayBIVE1MRWxlbWVudH0gc2l6ZSBjaGFuZ2UgKi9cclxuICBkb21FbGVtZW50OiBET01FbGVtZW50XHJcblxyXG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IGRvY3VtZW50IGFuZCB3b3JsZCBwb3NpdGlvbnMgb24gc2Nyb2xsICovXHJcbiAgd2F0Y2hTY3JvbGw6IGJvb2xlYW5cclxuXHJcbiAgLyoqIHtAbGluayBET01PYmplY3QzRFRyYW5zZm9ybXMgfCBUcmFuc2Zvcm1hdGlvbiBvYmplY3R9IG9mIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9ICovXHJcbiAgdHJhbnNmb3JtczogRE9NT2JqZWN0M0RUcmFuc2Zvcm1zXHJcblxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGFjdHVhbCB7QGxpbmsgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zI3Bvc2l0aW9uLndvcmxkIHwgd29ybGQgcG9zaXRpb259IGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRFRyYW5zZm9ybXMjcG9zaXRpb24uZG9jdW1lbnQgfCBhZGRpdGlvbmFsIGRvY3VtZW50IHRyYW5zbGF0aW9ufSBjb252ZXJ0ZWQgaW50byB3b3JsZCBzcGFjZSAqL1xyXG4gICNET01PYmplY3RXb3JsZFBvc2l0aW9uOiBWZWMzID0gbmV3IFZlYzMoKVxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGFjdHVhbCB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHNjYWxlIGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRCNzaXplLndvcmxkIHwgRE9NT2JqZWN0M0Qgd29ybGQgc2l6ZX0gKi9cclxuICAjRE9NT2JqZWN0V29ybGRTY2FsZTogVmVjMyA9IG5ldyBWZWMzKClcclxuXHJcbiAgLyoqXHJcbiAgICogRE9NT2JqZWN0M0QgY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0ge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdXNlZCB0byBzY2FsZSBhbmQgcG9zaXRpb24gdGhlIHtAbGluayBET01PYmplY3QzRH1cclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBET01PYmplY3QzRFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcmVuZGVyZXI6IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDdXJ0YWlucyxcclxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcclxuICAgIHBhcmFtZXRlcnM6IERPTU9iamVjdDNEUGFyYW1zXHJcbiAgKSB7XHJcbiAgICBzdXBlcihyZW5kZXJlcilcclxuXHJcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxyXG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zUmVuZGVyZXIpXHJcblxyXG4gICAgaXNDdXJ0YWluc1JlbmRlcmVyKHJlbmRlcmVyLCAnRE9NM0RPYmplY3QnKVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxyXG5cclxuICAgIHRoaXMuc2l6ZSA9IHtcclxuICAgICAgd29ybGQ6IHtcclxuICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRvY3VtZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMud2F0Y2hTY3JvbGwgPSBwYXJhbWV0ZXJzLndhdGNoU2Nyb2xsXHJcblxyXG4gICAgdGhpcy5jYW1lcmEgPSB0aGlzLnJlbmRlcmVyLmNhbWVyYVxyXG5cclxuICAgIHRoaXMuc2V0RE9NRWxlbWVudChlbGVtZW50KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgZG9tRWxlbWVudCB8IERPTSBFbGVtZW50fVxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0ge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdG8gdXNlXHJcbiAgICovXHJcbiAgc2V0RE9NRWxlbWVudChlbGVtZW50OiBET01FbGVtZW50UGFyYW1zWydlbGVtZW50J10pIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IG5ldyBET01FbGVtZW50KHtcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgb25TaXplQ2hhbmdlZDogKGJvdW5kaW5nUmVjdCkgPT4gdGhpcy5yZXNpemUoYm91bmRpbmdSZWN0KSxcclxuICAgICAgb25Qb3NpdGlvbkNoYW5nZWQ6IChib3VuZGluZ1JlY3QpID0+IHRoaXMub25Qb3NpdGlvbkNoYW5nZWQoYm91bmRpbmdSZWN0KSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgc2l6ZSBhbmQgcG9zaXRpb24gd2hlbiB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0gcG9zaXRpb24gY2hhbmdlZFxyXG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSB0aGUgbmV3IGJvdW5kaW5nIHJlY3RhbmdsZVxyXG4gICAqL1xyXG4gIG9uUG9zaXRpb25DaGFuZ2VkKGJvdW5kaW5nUmVjdD86IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSB7XHJcbiAgICBpZiAodGhpcy53YXRjaFNjcm9sbCkge1xyXG4gICAgICB0aGlzLnNpemUuZG9jdW1lbnQgPSBib3VuZGluZ1JlY3QgPz8gdGhpcy5kb21FbGVtZW50LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgdGhpcy51cGRhdGVTaXplQW5kUG9zaXRpb24oKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBkb21FbGVtZW50IHwgRE9NRWxlbWVudH1cclxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHRoZSBuZXcge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdG8gdXNlXHJcbiAgICovXHJcbiAgcmVzZXRET01FbGVtZW50KGVsZW1lbnQ6IHN0cmluZyB8IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5kb21FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5kZXN0cm95KClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldERPTUVsZW1lbnQoZWxlbWVudClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBzaXplcyBhbmQgcG9zaXRpb25cclxuICAgKi9cclxuICB1cGRhdGVTaXplQW5kUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLnNldFdvcmxkU2l6ZXMoKVxyXG4gICAgdGhpcy5hcHBseVBvc2l0aW9uKClcclxuXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBzaXplcywgcG9zaXRpb24gYW5kIHByb2plY3Rpb25cclxuICAgKi9cclxuICBzaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpIHtcclxuICAgIHRoaXMudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKClcclxuXHJcbiAgICBzdXBlci5zaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNpemUgdGhlIHtAbGluayBET01PYmplY3QzRH1cclxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX1cclxuICAgKi9cclxuICByZXNpemUoYm91bmRpbmdSZWN0PzogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwpIHtcclxuICAgIGlmICghYm91bmRpbmdSZWN0ICYmICghdGhpcy5kb21FbGVtZW50IHx8IHRoaXMuZG9tRWxlbWVudD8uaXNSZXNpemluZykpIHJldHVyblxyXG5cclxuICAgIHRoaXMuc2l6ZS5kb2N1bWVudCA9IGJvdW5kaW5nUmVjdCA/PyB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKiBCT1VORElORyBCT1hFUyBHRVRURVJTICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0ge0BsaW5rIERPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfVxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBib3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB7XHJcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LmJvdW5kaW5nUmVjdFxyXG4gIH1cclxuXHJcbiAgLyogVFJBTlNGT01TICovXHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvdXIgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGFuZCB7QGxpbmsgVmVjMyNvbkNoYW5nZSB8IG9uQ2hhbmdlIHZlY3Rvcn0gY2FsbGJhY2tzXHJcbiAgICovXHJcbiAgc2V0VHJhbnNmb3JtcygpIHtcclxuICAgIHN1cGVyLnNldFRyYW5zZm9ybXMoKVxyXG5cclxuICAgIC8vIHJlc2V0IG91ciBtb2RlbCB0cmFuc2Zvcm0gb3JpZ2luIHRvIHJlZmxlY3QgQ1NTIHRyYW5zZm9ybSBvcmlnaW5zXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsLnNldCgwLjUsIDAuNSwgMClcclxuXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLndvcmxkID0gbmV3IFZlYzMoKVxyXG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLmRvY3VtZW50ID0gbmV3IFZlYzMoKVxyXG5cclxuICAgIHRoaXMuZG9jdW1lbnRQb3NpdGlvbi5vbkNoYW5nZSgoKSA9PiB0aGlzLmFwcGx5UG9zaXRpb24oKSlcclxuICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luLm9uQ2hhbmdlKCgpID0+IHRoaXMuc2V0V29ybGRUcmFuc2Zvcm1PcmlnaW4oKSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEVHJhbnNmb3JtcyNwb3NpdGlvbi5kb2N1bWVudCB8IGFkZGl0aW9uYWwgdHJhbnNsYXRpb24gcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50fVxyXG4gICAqL1xyXG4gIGdldCBkb2N1bWVudFBvc2l0aW9uKCk6IFZlYzMge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5wb3NpdGlvbi5kb2N1bWVudFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zI3Bvc2l0aW9uLmRvY3VtZW50IHwgYWRkaXRpb25hbCB0cmFuc2xhdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnR9XHJcbiAgICogQHBhcmFtIHZhbHVlIC0gYWRkaXRpb25hbCB0cmFuc2xhdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQgdG8gYXBwbHlcclxuICAgKi9cclxuICBzZXQgZG9jdW1lbnRQb3NpdGlvbih2YWx1ZTogVmVjMykge1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLmRvY3VtZW50ID0gdmFsdWVcclxuICAgIHRoaXMuYXBwbHlQb3NpdGlvbigpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBkb21FbGVtZW50IHwgRE9NIGVsZW1lbnR9IHNjYWxlIGluIHdvcmxkIHNwYWNlXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IERPTU9iamVjdFdvcmxkU2NhbGUoKTogVmVjMyB7XHJcbiAgICByZXR1cm4gdGhpcy4jRE9NT2JqZWN0V29ybGRTY2FsZS5jbG9uZSgpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gc2NhbGUgaW4gd29ybGQgc3BhY2UgKGFjY291bnRpbmcgZm9yIHtAbGluayBzY2FsZX0pXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IHdvcmxkU2NhbGUoKTogVmVjMyB7XHJcbiAgICByZXR1cm4gdGhpcy5ET01PYmplY3RXb3JsZFNjYWxlLm11bHRpcGx5KHRoaXMuc2NhbGUpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gcG9zaXRpb24gaW4gd29ybGQgc3BhY2VcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgd29ybGRQb3NpdGlvbigpOiBWZWMzIHtcclxuICAgIHJldHVybiB0aGlzLiNET01PYmplY3RXb3JsZFBvc2l0aW9uLmNsb25lKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9XHJcbiAgICovXHJcbiAgZ2V0IHRyYW5zZm9ybU9yaWdpbigpOiBWZWMzIHtcclxuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gdHJhbnNmb3JtIG9yaWdpbiByZWxhdGl2ZSB0byB0aGUge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyB0cmFuc2Zvcm0gb3JpZ2luXHJcbiAgICovXHJcbiAgc2V0IHRyYW5zZm9ybU9yaWdpbih2YWx1ZTogVmVjMykge1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLm9yaWdpbi5tb2RlbCA9IHZhbHVlXHJcbiAgICB0aGlzLnNldFdvcmxkVHJhbnNmb3JtT3JpZ2luKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIGluIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgZ2V0IHdvcmxkVHJhbnNmb3JtT3JpZ2luKCk6IFZlYzMge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5vcmlnaW4ud29ybGRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIGluIHdvcmxkIHNwYWNlXHJcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHdvcmxkIHNwYWNlIHRyYW5zZm9ybSBvcmlnaW5cclxuICAgKi9cclxuICBzZXQgd29ybGRUcmFuc2Zvcm1PcmlnaW4odmFsdWU6IFZlYzMpIHtcclxuICAgIHRoaXMudHJhbnNmb3Jtcy5vcmlnaW4ud29ybGQgPSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHBvc2l0aW9uIHVzaW5nIGl0cyB3b3JsZCBwb3NpdGlvbiBhbmQgZG9jdW1lbnQgdHJhbnNsYXRpb24gY29udmVydGVkIHRvIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgYXBwbHlQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuYXBwbHlEb2N1bWVudFBvc2l0aW9uKClcclxuICAgIHN1cGVyLmFwcGx5UG9zaXRpb24oKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB3b3JsZCBwb3NpdGlvbiB1c2luZyBpdHMgd29ybGQgcG9zaXRpb24gYW5kIGRvY3VtZW50IHRyYW5zbGF0aW9uIGNvbnZlcnRlZCB0byB3b3JsZCBzcGFjZVxyXG4gICAqL1xyXG4gIGFwcGx5RG9jdW1lbnRQb3NpdGlvbigpIHtcclxuICAgIC8vIGF2b2lkIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9ucyBpZiB3ZSBkb24ndCBoYXZlIGEgdXNlcnMgc2V0IHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICBsZXQgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWMzKDAsIDAsIDApXHJcbiAgICBpZiAoIXRoaXMuZG9jdW1lbnRQb3NpdGlvbi5lcXVhbHMod29ybGRQb3NpdGlvbikpIHtcclxuICAgICAgd29ybGRQb3NpdGlvbiA9IHRoaXMuZG9jdW1lbnRUb1dvcmxkU3BhY2UodGhpcy5kb2N1bWVudFBvc2l0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuI0RPTU9iamVjdFdvcmxkUG9zaXRpb24uc2V0KFxyXG4gICAgICB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUud29ybGQubGVmdCArIHdvcmxkUG9zaXRpb24ueCxcclxuICAgICAgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLndvcmxkLnRvcCArIHdvcmxkUG9zaXRpb24ueSxcclxuICAgICAgdGhpcy5wb3NpdGlvbi56ICsgdGhpcy5kb2N1bWVudFBvc2l0aW9uLnogLyB0aGlzLmNhbWVyYS5DU1NQZXJzcGVjdGl2ZVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXBwbHkgdGhlIHRyYW5zZm9ybSBvcmlnaW4gYW5kIHNldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB3b3JsZCB0cmFuc2Zvcm0gb3JpZ2luXHJcbiAgICovXHJcbiAgYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKSB7XHJcbiAgICBpZiAoIXRoaXMuc2l6ZSkgcmV0dXJuXHJcblxyXG4gICAgdGhpcy5zZXRXb3JsZFRyYW5zZm9ybU9yaWdpbigpXHJcblxyXG4gICAgc3VwZXIuYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKVxyXG4gIH1cclxuXHJcbiAgLyogTUFUUklDRVMgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSB7QGxpbmsgbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgcG9zaXRpb24gYW5kIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgc2NhbGVcclxuICAgKi9cclxuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcclxuICAgIC8vIG92ZXJyaWRlIGZvciB0aGlzIHNwZWNpYWwgY2FzZVxyXG4gICAgLy8gY29tcG9zZSBvdXIgbW9kZWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IGZyb20gY3VzdG9tIG9yaWdpblxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeC5jb21wb3NlRnJvbU9yaWdpbihcclxuICAgICAgdGhpcy4jRE9NT2JqZWN0V29ybGRQb3NpdGlvbixcclxuICAgICAgdGhpcy5xdWF0ZXJuaW9uLFxyXG4gICAgICB0aGlzLnNjYWxlLFxyXG4gICAgICB0aGlzLndvcmxkVHJhbnNmb3JtT3JpZ2luXHJcbiAgICApXHJcblxyXG4gICAgLy8gd2UgbmVlZCB0byBzY2FsZSBvdXIgbWVzaGVzLCBmcm9tIGEgc3F1YXJlIHRvIGEgcmlnaHQgc2l6ZWQgcmVjdGFuZ2xlXHJcbiAgICAvLyB3ZSdyZSBkb2luZyB0aGlzIGFmdGVyIG91ciB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYmVjYXVzZSB0aGlzIHNjYWxlIHRyYW5zZm9ybWF0aW9uIGFsd2F5cyBoYXZlIHRoZSBzYW1lIG9yaWdpblxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeC5zY2FsZSh0aGlzLiNET01PYmplY3RXb3JsZFNjYWxlKVxyXG5cclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhIGRvY3VtZW50IHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byBhIHdvcmxkIHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfVxyXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkb2N1bWVudCBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gY29udmVydGVkIHRvIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgZG9jdW1lbnRUb1dvcmxkU3BhY2UodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xyXG4gICAgcmV0dXJuIG5ldyBWZWMzKFxyXG4gICAgICAoKHZlY3Rvci54ICogdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvKSAvIHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LndpZHRoKSAqIHRoaXMuY2FtZXJhLnNjcmVlblJhdGlvLndpZHRoLFxyXG4gICAgICAtKCh2ZWN0b3IueSAqIHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpbykgLyB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdC5oZWlnaHQpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8uaGVpZ2h0LFxyXG4gICAgICB2ZWN0b3IuelxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0Qjc2l6ZS53b3JsZCB8IHdvcmxkIHNpemV9IGFuZCBzZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgdHJhbnNmb3JtIG9yaWdpblxyXG4gICAqL1xyXG4gIHNldFdvcmxkU2l6ZXMoKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJCb3VuZGluZ1JlY3QgPSB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdFxyXG5cclxuICAgIC8vIGRpbWVuc2lvbnMgYW5kIHBvc2l0aW9ucyBvZiBvdXIgcGxhbmUgaW4gdGhlIGRvY3VtZW50IGFuZCBjbGlwIHNwYWNlc1xyXG4gICAgLy8gZG9uJ3QgZm9yZ2V0IHBvc2l0aW9ucyBpbiB3ZWJnbCBzcGFjZSBhcmUgcmVmZXJyaW5nIHRvIHRoZSBjZW50ZXIgb2Ygb3VyIHBsYW5lIGFuZCBjYW52YXNcclxuICAgIGNvbnN0IHBsYW5lQ2VudGVyID0ge1xyXG4gICAgICB4OiB0aGlzLnNpemUuZG9jdW1lbnQud2lkdGggLyAyICsgdGhpcy5zaXplLmRvY3VtZW50LmxlZnQsXHJcbiAgICAgIHk6IHRoaXMuc2l6ZS5kb2N1bWVudC5oZWlnaHQgLyAyICsgdGhpcy5zaXplLmRvY3VtZW50LnRvcCxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250YWluZXJDZW50ZXIgPSB7XHJcbiAgICAgIHg6IGNvbnRhaW5lckJvdW5kaW5nUmVjdC53aWR0aCAvIDIgKyBjb250YWluZXJCb3VuZGluZ1JlY3QubGVmdCxcclxuICAgICAgeTogY29udGFpbmVyQm91bmRpbmdSZWN0LmhlaWdodCAvIDIgKyBjb250YWluZXJCb3VuZGluZ1JlY3QudG9wLFxyXG4gICAgfVxyXG5cclxuICAgIC8vIG91ciBET00gb2JqZWN0IHdvcmxkIHNpemVcclxuICAgIC8vIHNpbmNlIG91ciB2ZXJ0aWNlcyB2YWx1ZXMgcmFuZ2UgZnJvbSAtMSB0byAxLCB3ZSBuZWVkIHRvIHNjYWxlIGl0IHJlbGF0aXZlbHkgdG8gb3VyIGNhbnZhc1xyXG4gICAgLy8gdG8gZGlzcGxheSBhbiBhY2N1cmF0ZWx5IHNpemVkIG9iamVjdFxyXG4gICAgdGhpcy5zaXplLndvcmxkID0ge1xyXG4gICAgICB3aWR0aDogKCh0aGlzLnNpemUuZG9jdW1lbnQud2lkdGggLyBjb250YWluZXJCb3VuZGluZ1JlY3Qud2lkdGgpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8ud2lkdGgpIC8gMixcclxuICAgICAgaGVpZ2h0OiAoKHRoaXMuc2l6ZS5kb2N1bWVudC5oZWlnaHQgLyBjb250YWluZXJCb3VuZGluZ1JlY3QuaGVpZ2h0KSAqIHRoaXMuY2FtZXJhLnNjcmVlblJhdGlvLmhlaWdodCkgLyAyLFxyXG4gICAgICB0b3A6ICgoY29udGFpbmVyQ2VudGVyLnkgLSBwbGFuZUNlbnRlci55KSAvIGNvbnRhaW5lckJvdW5kaW5nUmVjdC5oZWlnaHQpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8uaGVpZ2h0LFxyXG4gICAgICBsZWZ0OiAoKHBsYW5lQ2VudGVyLnggLSBjb250YWluZXJDZW50ZXIueCkgLyBjb250YWluZXJCb3VuZGluZ1JlY3Qud2lkdGgpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8ud2lkdGgsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4jRE9NT2JqZWN0V29ybGRTY2FsZS5zZXQodGhpcy5zaXplLndvcmxkLndpZHRoLCB0aGlzLnNpemUud29ybGQuaGVpZ2h0LCAxKVxyXG5cclxuICAgIHRoaXMuc2V0V29ybGRUcmFuc2Zvcm1PcmlnaW4oKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHRyYW5zZm9ybSBvcmlnaW4gYW5kIHRlbGwgdGhlIG1hdHJpY2VzIHRvIHVwZGF0ZVxyXG4gICAqL1xyXG4gIHNldFdvcmxkVHJhbnNmb3JtT3JpZ2luKCkge1xyXG4gICAgLy8gc2V0IHRyYW5zZm9ybWF0aW9uIG9yaWdpbiByZWxhdGl2ZSB0byB3b3JsZCBzcGFjZSBhcyB3ZWxsXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLndvcmxkID0gbmV3IFZlYzMoXHJcbiAgICAgICh0aGlzLnRyYW5zZm9ybU9yaWdpbi54ICogMiAtIDEpICogLy8gYmV0d2VlbiAtMSBhbmQgMVxyXG4gICAgICAgIHRoaXMuc2l6ZS53b3JsZC53aWR0aCxcclxuICAgICAgLSh0aGlzLnRyYW5zZm9ybU9yaWdpbi55ICogMiAtIDEpICogLy8gYmV0d2VlbiAtMSBhbmQgMVxyXG4gICAgICAgIHRoaXMuc2l6ZS53b3JsZC5oZWlnaHQsXHJcbiAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luLnpcclxuICAgIClcclxuXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeFN0YWNrKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0gc2Nyb2xsIHBvc2l0aW9uXHJcbiAgICogQHBhcmFtIGRlbHRhIC0gbGFzdCB7QGxpbmsgdXRpbHMvU2Nyb2xsTWFuYWdlci5TY3JvbGxNYW5hZ2VyLmRlbHRhIHwgc2Nyb2xsIGRlbHRhIHZhbHVlc31cclxuICAgKi9cclxuICB1cGRhdGVTY3JvbGxQb3NpdGlvbihkZWx0YTogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkge1xyXG4gICAgLy8gYWN0dWFsbHkgdXBkYXRlIHRoZSBwbGFuZSBwb3NpdGlvbiBvbmx5IGlmIGxhc3QgWCBkZWx0YSBvciBsYXN0IFkgZGVsdGEgaXMgbm90IGVxdWFsIHRvIDBcclxuICAgIGlmIChkZWx0YS54IHx8IGRlbHRhLnkpIHtcclxuICAgICAgLy8gc2V0IG5ldyBwb3NpdGlvbnMgYmFzZWQgb24gb3VyIGRlbHRhIHdpdGhvdXQgdHJpZ2dlcmluZyByZWZsb3dcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnVwZGF0ZVNjcm9sbFBvc2l0aW9uKGRlbHRhKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQ/LmRlc3Ryb3koKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBET01PYmplY3QzRCB9IGZyb20gJy4uL29iamVjdHMzRC9ET01PYmplY3QzRCdcbmltcG9ydCB7IGlzQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbiB9IGZyb20gJy4uLy4uL2NvcmUvbWVzaGVzL21peGlucy9Qcm9qZWN0ZWRNZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfSBmcm9tICcuLi8uLi9jb3JlL21lc2hlcy9taXhpbnMvTWVzaEJhc2VNaXhpbidcbmltcG9ydCB7IHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy9HUFVDdXJ0YWluc1JlbmRlcmVyJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi9HUFVDdXJ0YWlucydcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBBbGxvd2VkR2VvbWV0cmllcyB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQYXJhbXMgfSBmcm9tICcuLi8uLi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBET01FbGVtZW50Qm91bmRpbmdSZWN0LCBET01FbGVtZW50UGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBCYXNlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEge0BsaW5rIERPTU1lc2h9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRE9NTWVzaEJhc2VQYXJhbXMgZXh0ZW5kcyBNZXNoQmFzZVJlbmRlclBhcmFtcyB7XG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGEge0BsaW5rIFRleHR1cmV9IGZvciBhbGwge0BsaW5rIEhUTUxJbWFnZUVsZW1lbnR9LCB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudH0gYW5kIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gY2hpbGQgb2YgdGhlIHNwZWNpZmllZCB7QGxpbmsgRE9NTWVzaH0ge0BsaW5rIEhUTUxFbGVtZW50fSAqL1xuICBhdXRvbG9hZFNvdXJjZXM/OiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgRE9NTWVzaH0gcG9zaXRpb24gb24gc2Nyb2xsICovXG4gIHdhdGNoU2Nyb2xsPzogYm9vbGVhblxufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdG8gY3JlYXRlIGEge0BsaW5rIERPTU1lc2h9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRE9NTWVzaFBhcmFtcyBleHRlbmRzIERPTU1lc2hCYXNlUGFyYW1zIHtcbiAgLyoqIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0gdG8gdXNlIHdpdGggdGhlIHtAbGluayBET01NZXNofSAqL1xuICBnZW9tZXRyeTogQWxsb3dlZEdlb21ldHJpZXNcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIERPTU1lc2h9IHBhcmFtZXRlcnMgKi9cbmNvbnN0IGRlZmF1bHRET01NZXNoUGFyYW1zID0ge1xuICBhdXRvbG9hZFNvdXJjZXM6IHRydWUsXG4gIHdhdGNoU2Nyb2xsOiB0cnVlLFxufSBhcyBET01NZXNoQmFzZVBhcmFtc1xuXG4vKipcbiAqIENyZWF0ZSBhIHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2ggfCBNZXNofSBiYXNlZCBvbiBhIHtAbGluayBET01PYmplY3QzRH0sIHdoaWNoIGFsbG93IHRoZSB7QGxpbmsgY29yZS9tZXNoZXMvTWVzaC5NZXNoIHwgTWVzaH0gdG8gYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGJhc2VkIG9uIGEge0BsaW5rIEhUTUxFbGVtZW50fSB7QGxpbmsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIERPTU1lc2ggd2l0aCBhIGJveCBnZW9tZXRyeSxcbiAqIC8vIGFzc3VtaW5nIHRoZXJlJ3MgYSBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgXCJtZXNoXCIgSUQgaW4gdGhlIERPTVxuICogLy8gd2lsbCB1c2UgdGhlIG5vcm1hbHMgY29sb3JzIGFzIGRlZmF1bHQgc2hhZGluZ1xuICogY29uc3QgZG9tTWVzaCA9IG5ldyBET01NZXNoKGdwdUN1cnRhaW5zLCAnI21lc2gnLCB7XG4gKiAgIGxhYmVsOiAnTXkgRE9NIE1lc2gnLFxuICogICBnZW9tZXRyeTogbmV3IEJveEdlb21ldHJ5KCksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBET01NZXNoIGV4dGVuZHMgUHJvamVjdGVkTWVzaEJhc2VNaXhpbihET01PYmplY3QzRCkge1xuICAvKioge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfSAqL1xuICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlclxuICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSBmb3IgYWxsIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSwge0BsaW5rIEhUTUxWaWRlb0VsZW1lbnR9IGFuZCB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9IGNoaWxkIG9mIHRoZSBzcGVjaWZpZWQge0BsaW5rIERPTU1lc2h9IHtAbGluayBIVE1MRWxlbWVudH0gKi9cbiAgYXV0b2xvYWRTb3VyY2VzOiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIGFsbCB0aGUgc291cmNlcyBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCAqL1xuICBfc291cmNlc1JlYWR5OiBib29sZWFuXG5cbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTG9hZGluZ30gY2FsbGJhY2sgKi9cbiAgX29uTG9hZGluZ0NhbGxiYWNrID0gKHRleHR1cmU6IFRleHR1cmUpOiB2b2lkID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG5cbiAgLyoqXG4gICAqIERPTU1lc2ggY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBET01NZXNofVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHVzZWQgdG8gc2NhbGUgYW5kIHBvc2l0aW9uIHRoZSB7QGxpbmsgRE9NTWVzaH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgRE9NTWVzaFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU1lc2h9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zLFxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcbiAgICBwYXJhbWV0ZXJzOiBET01NZXNoUGFyYW1zXG4gICkge1xuICAgIHN1cGVyKHJlbmRlcmVyLCBlbGVtZW50LCB7IC4uLmRlZmF1bHRET01NZXNoUGFyYW1zLCAuLi5wYXJhbWV0ZXJzIH0pXG5cbiAgICBwYXJhbWV0ZXJzID0geyAuLi5kZWZhdWx0RE9NTWVzaFBhcmFtcywgLi4ucGFyYW1ldGVycyB9XG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKVxuXG4gICAgaXNDdXJ0YWluc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gcGFyYW1ldGVycy5sYWJlbCArICcgRE9NTWVzaCcgOiAnRE9NTWVzaCcpXG5cbiAgICB0aGlzLnR5cGUgPSAnRE9NTWVzaCdcblxuICAgIGNvbnN0IHsgYXV0b2xvYWRTb3VyY2VzIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICB0aGlzLmF1dG9sb2FkU291cmNlcyA9IGF1dG9sb2FkU291cmNlc1xuXG4gICAgdGhpcy5zb3VyY2VzUmVhZHkgPSBmYWxzZVxuICAgIHRoaXMuc2V0SW5pdFNvdXJjZXMoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgd2hldGhlciBvdXIge0BsaW5rIG1hdGVyaWFsfSBhbmQge0BsaW5rIGdlb21ldHJ5fSBhcmUgcmVhZHlcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5XG4gIH1cblxuICBzZXQgcmVhZHkodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9yZWFkeSA9IHZhbHVlXG5cbiAgICBpZiAodGhpcy5ET01NZXNoUmVhZHkpIHtcbiAgICAgIHRoaXMuX29uUmVhZHlDYWxsYmFjayAmJiB0aGlzLl9vblJlYWR5Q2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHdoZXRoZXIgYWxsIHRoZSBpbml0aWFsIHtAbGluayBET01NZXNofSBzb3VyY2VzIGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgbG9hZGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNvdXJjZXNSZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlc1JlYWR5XG4gIH1cblxuICBzZXQgc291cmNlc1JlYWR5KHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc291cmNlc1JlYWR5ID0gdmFsdWVcblxuICAgIGlmICh0aGlzLkRPTU1lc2hSZWFkeSkge1xuICAgICAgdGhpcy5fb25SZWFkeUNhbGxiYWNrICYmIHRoaXMuX29uUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIG91ciB7QGxpbmsgRE9NTWVzaH0gaXMgcmVhZHkuIEEge0BsaW5rIERPTU1lc2h9IGlzIHJlYWR5IHdoZW4gaXRzIHtAbGluayBzb3VyY2VzUmVhZHkgfCBzb3VyY2VzIGFyZSByZWFkeX0gYW5kIGl0cyB7QGxpbmsgbWF0ZXJpYWx9IGFuZCB7QGxpbmsgZ2VvbWV0cnl9IGFyZSByZWFkeS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgRE9NTWVzaFJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlYWR5ICYmIHRoaXMuc291cmNlc1JlYWR5XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIERPTU1lc2h9IHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICBzdXBlci5hZGRUb1NjZW5lKClcbiAgICA7KHRoaXMucmVuZGVyZXIgYXMgR1BVQ3VydGFpbnNSZW5kZXJlcikuZG9tTWVzaGVzLnB1c2godGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgRE9NTWVzaH0gZnJvbSB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICovXG4gIHJlbW92ZUZyb21TY2VuZSgpIHtcbiAgICBzdXBlci5yZW1vdmVGcm9tU2NlbmUoKVxuICAgIDsodGhpcy5yZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKS5kb21NZXNoZXMgPSAodGhpcy5yZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKS5kb21NZXNoZXMuZmlsdGVyKFxuICAgICAgKG0pID0+IG0udXVpZCAhPT0gdGhpcy51dWlkXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgaW5pdGlhbCB7QGxpbmsgRE9NTWVzaH0gc291cmNlcyBpZiBuZWVkZWQgYW5kIGNyZWF0ZSBhc3NvY2lhdGVkIHtAbGluayBUZXh0dXJlfVxuICAgKi9cbiAgc2V0SW5pdFNvdXJjZXMoKSB7XG4gICAgbGV0IGxvYWRlclNpemUgPSAwXG4gICAgbGV0IHNvdXJjZXNMb2FkZWQgPSAwXG5cbiAgICBpZiAodGhpcy5hdXRvbG9hZFNvdXJjZXMpIHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpXG4gICAgICBjb25zdCB2aWRlb3MgPSB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpXG4gICAgICBjb25zdCBjYW52YXNlcyA9IHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NhbnZhcycpXG5cbiAgICAgIGxvYWRlclNpemUgPSBpbWFnZXMubGVuZ3RoICsgdmlkZW9zLmxlbmd0aCArIGNhbnZhc2VzLmxlbmd0aFxuXG4gICAgICBjb25zdCBvblNvdXJjZVVwbG9hZGVkID0gKHRleHR1cmUpID0+IHtcbiAgICAgICAgc291cmNlc0xvYWRlZCsrXG5cbiAgICAgICAgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sgJiYgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sodGV4dHVyZSlcblxuICAgICAgICBpZiAoc291cmNlc0xvYWRlZCA9PT0gbG9hZGVyU2l6ZSkge1xuICAgICAgICAgIHRoaXMuc291cmNlc1JlYWR5ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghbG9hZGVyU2l6ZSkge1xuICAgICAgICB0aGlzLnNvdXJjZXNSZWFkeSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gbG9hZCBpbWFnZXNcbiAgICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLXRleHR1cmUtbmFtZScpID8/ICd0ZXh0dXJlJyArIHRoaXMudGV4dHVyZXMubGVuZ3RoLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0ZXh0dXJlLm9uU291cmNlVXBsb2FkZWQoKCkgPT4gb25Tb3VyY2VVcGxvYWRlZCh0ZXh0dXJlKSkubG9hZEltYWdlKGltYWdlLnNyYylcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gbG9hZCB2aWRlb3NcbiAgICAgIGlmICh2aWRlb3MubGVuZ3RoKSB7XG4gICAgICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogdmlkZW8uZ2V0QXR0cmlidXRlKCdkYXRhLXRleHR1cmUtbmFtZScpID8/ICd0ZXh0dXJlJyArIHRoaXMudGV4dHVyZXMubGVuZ3RoLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0ZXh0dXJlLm9uU291cmNlVXBsb2FkZWQoKCkgPT4gb25Tb3VyY2VVcGxvYWRlZCh0ZXh0dXJlKSkubG9hZFZpZGVvKHZpZGVvKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBsb2FkIGNhbnZhc2VzXG4gICAgICBpZiAoY2FudmFzZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhbnZhc2VzLmZvckVhY2goKGNhbnZhcykgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS10ZXh0dXJlLW5hbWUnKSA/PyAndGV4dHVyZScgKyB0aGlzLnRleHR1cmVzLmxlbmd0aCxcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGV4dHVyZS5vblNvdXJjZVVwbG9hZGVkKCgpID0+IG9uU291cmNlVXBsb2FkZWQodGV4dHVyZSkpLmxvYWRDYW52YXMoY2FudmFzKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvdXJjZXNSZWFkeSA9IHRydWVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQvY2hhbmdlIHRoZSB7QGxpbmsgZG9tRWxlbWVudCB8IERPTSBFbGVtZW50fVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIG5ldyB7QGxpbmsgSFRNTEVsZW1lbnR9IG9yIHN0cmluZyByZXByZXNlbnRpbmcgYW4ge0BsaW5rIEhUTUxFbGVtZW50fSBzZWxlY3RvciB0byB1c2VcbiAgICovXG4gIHJlc2V0RE9NRWxlbWVudChlbGVtZW50OiBzdHJpbmcgfCBIVE1MRWxlbWVudCkge1xuICAgIGlmICghIWVsZW1lbnQpIHtcbiAgICAgIHN1cGVyLnJlc2V0RE9NRWxlbWVudChlbGVtZW50KVxuICAgIH0gZWxzZSBpZiAoIWVsZW1lbnQgJiYgIXRoaXMucmVuZGVyZXIucHJvZHVjdGlvbikge1xuICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICBgJHt0aGlzLm9wdGlvbnMubGFiZWx9OiBZb3UgYXJlIHRyeWluZyB0byByZXNldCBhICR7dGhpcy50eXBlfSB3aXRoIGEgSFRNTCBlbGVtZW50IHRoYXQgZG9lcyBub3QgZXhpc3QuIFRoZSBvbGQgSFRNTCBlbGVtZW50IHdpbGwgYmUga2VwdCBpbnN0ZWFkLmBcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgRE9NTWVzaCNkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBjb3JlL0RPTS9ET01FbGVtZW50LkRPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfSBhY2NvdW50aW5nIGZvciBjdXJyZW50IHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5HUFVSZW5kZXJlciNwaXhlbFJhdGlvIHwgcmVuZGVyZXIgcGl4ZWwgcmF0aW99XG4gICAqL1xuICBnZXQgcGl4ZWxSYXRpb0JvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcbiAgICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gPz8gMVxuICAgIGNvbnN0IHNjYWxlQm91bmRpbmdSZWN0ID0gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvIC8gZGV2aWNlUGl4ZWxSYXRpb1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZG9tRWxlbWVudC5ib3VuZGluZ1JlY3QpLnJlZHVjZShcbiAgICAgIChhLCBrZXkpID0+ICh7IC4uLmEsIFtrZXldOiB0aGlzLmRvbUVsZW1lbnQuYm91bmRpbmdSZWN0W2tleV0gKiBzY2FsZUJvdW5kaW5nUmVjdCB9KSxcbiAgICAgIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSAgb3B0aW9ucyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgUmVuZGVyVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqL1xuICBjcmVhdGVSZW5kZXJUZXh0dXJlKG9wdGlvbnM6IFJlbmRlclRleHR1cmVQYXJhbXMpOiBSZW5kZXJUZXh0dXJlIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHNpemU6IHsgd2lkdGg6IHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC53aWR0aCwgaGVpZ2h0OiB0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0IH0sXG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmNyZWF0ZVJlbmRlclRleHR1cmUob3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIE1lc2gncyByZW5kZXIgdGV4dHVyZXMgb25seSBpZiB0aGV5J3JlIG5vdCBzdG9yYWdlIHRleHR1cmVzXG4gICAqL1xuICByZXNpemVSZW5kZXJUZXh0dXJlcygpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmVzXG4gICAgICA/LmZpbHRlcigocmVuZGVyVGV4dHVyZSkgPT4gcmVuZGVyVGV4dHVyZS5vcHRpb25zLnVzYWdlID09PSAndGV4dHVyZScpXG4gICAgICAuZm9yRWFjaCgocmVuZGVyVGV4dHVyZSkgPT5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5yZXNpemUoeyB3aWR0aDogdGhpcy5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoLCBoZWlnaHQ6IHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQgfSlcbiAgICAgIClcbiAgfVxuXG4gIC8qIEVWRU5UUyAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgZWFjaCB0aW1lIG9uZSBvZiB0aGUgaW5pdGlhbCBzb3VyY2VzIGFzc29jaWF0ZWQge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IEdQVSB0ZXh0dXJlfSBoYXMgYmVlbiB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIGNhbGwgZWFjaCB0aW1lIGEge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IEdQVSB0ZXh0dXJlfSBoYXMgYmVlbiB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBET01NZXNofVxuICAgKi9cbiAgb25Mb2FkaW5nKGNhbGxiYWNrOiAodGV4dHVyZTogVGV4dHVyZSkgPT4gdm9pZCk6IERPTU1lc2gge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSwgUGxhbmVHZW9tZXRyeVBhcmFtcyB9IGZyb20gJy4uLy4uL2NvcmUvZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5J1xuaW1wb3J0IHsgRE9NTWVzaCwgRE9NTWVzaEJhc2VQYXJhbXMsIERPTU1lc2hQYXJhbXMgfSBmcm9tICcuL0RPTU1lc2gnXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xuaW1wb3J0IHsgVmVjMiB9IGZyb20gJy4uLy4uL21hdGgvVmVjMidcbmltcG9ydCB7IGNhY2hlTWFuYWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL0NhY2hlTWFuYWdlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBET01FbGVtZW50UGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBsYW5lfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBsYW5lUGFyYW1zIGV4dGVuZHMgRE9NTWVzaEJhc2VQYXJhbXMsIFBsYW5lR2VvbWV0cnlQYXJhbXMge1xuICAvKiogT3B0aW9uYWwge0BsaW5rIFBsYW5lR2VvbWV0cnl9IHRvIHVzZSAqL1xuICBnZW9tZXRyeT86IFBsYW5lR2VvbWV0cnlcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIFBsYW5lfSBwYXJhbWV0ZXJzICovXG5jb25zdCBkZWZhdWx0UGxhbmVQYXJhbXMgPSB7XG4gIGxhYmVsOiAnUGxhbmUnLFxuXG4gIC8vIGdlb21ldHJ5XG4gIGluc3RhbmNlc0NvdW50OiAxLFxuICB2ZXJ0ZXhCdWZmZXJzOiBbXSxcbn0gYXMgUGxhbmVQYXJhbXNcblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHNwZWNpYWwge0BsaW5rIERPTU1lc2h9IGNsYXNzIG9iamVjdCB1c2luZyBhIHtAbGluayBQbGFuZUdlb21ldHJ5fS5cbiAqIFRoaXMgbWVhbnMgYSBxdWFkIHRoYXQgbG9va3MgbGlrZSBhbiBvcmRpbmFyeSB7QGxpbmsgSFRNTEVsZW1lbnR9IGJ1dCB3aXRoIFdlYkdQVSByZW5kZXJpbmcgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBQbGFuZSxcbiAqIC8vIGFzc3VtaW5nIHRoZXJlJ3MgYSBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgXCJwbGFuZVwiIElEIGluIHRoZSBET01cbiAqIC8vIHdpbGwgdXNlIHRoZSBub3JtYWxzIGNvbG9ycyBhcyBkZWZhdWx0IHNoYWRpbmdcbiAqIGNvbnN0IHBsYW5lID0gbmV3IFBsYW5lKGdwdUN1cnRhaW5zLCAnI3BsYW5lJywge1xuICogICBsYWJlbDogJ015IHBsYW5lJyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYW5lIGV4dGVuZHMgRE9NTWVzaCB7XG4gIC8qKlxuICAgKiBQbGFuZSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFBsYW5lfVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHVzZWQgdG8gc2NhbGUgYW5kIHBvc2l0aW9uIHRoZSB7QGxpbmsgUGxhbmV9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBsYW5lUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUGxhbmV9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zLFxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcbiAgICBwYXJhbWV0ZXJzID0ge30gYXMgUGxhbmVQYXJhbXNcbiAgKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnNSZW5kZXJlcilcblxuICAgIGlzQ3VydGFpbnNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIFBsYW5lJyA6ICdQbGFuZScpXG5cbiAgICAvLyBhc3NpZ24gZGVmYXVsdCBwYXJhbXMgaWYgbmVlZGVkXG4gICAgY29uc3QgcGFyYW1zID0geyAuLi5kZWZhdWx0UGxhbmVQYXJhbXMsIC4uLnBhcmFtZXRlcnMgfVxuXG4gICAgbGV0IHsgZ2VvbWV0cnksIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzLCAuLi5ET01NZXNoUGFyYW1zIH0gPSBwYXJhbXNcbiAgICBjb25zdCB7IGluc3RhbmNlc0NvdW50LCB2ZXJ0ZXhCdWZmZXJzLCAuLi5tYXRlcmlhbFBhcmFtcyB9ID0gRE9NTWVzaFBhcmFtc1xuXG4gICAgLy8gY2FuIHdlIGdldCBhIGNhY2hlZCBnZW9tZXRyeT9cbiAgICBpZiAoIWdlb21ldHJ5IHx8IGdlb21ldHJ5LnR5cGUgIT09ICdQbGFuZUdlb21ldHJ5Jykge1xuICAgICAgd2lkdGhTZWdtZW50cyA9IHdpZHRoU2VnbWVudHMgPz8gMVxuICAgICAgaGVpZ2h0U2VnbWVudHMgPSBoZWlnaHRTZWdtZW50cyA/PyAxXG5cbiAgICAgIGNvbnN0IGdlb21ldHJ5SUQgPSB3aWR0aFNlZ21lbnRzICogaGVpZ2h0U2VnbWVudHMgKyB3aWR0aFNlZ21lbnRzXG5cbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gYWRkaXRpb25hbCB2ZXJ0ZXggYnVmZmVycywgdHJ5IHRvIGdldCBhIGdlb21ldHJ5IGZyb20gY2FjaGVcbiAgICAgIGlmICghdmVydGV4QnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBjYWNoZU1hbmFnZXIuZ2V0UGxhbmVHZW9tZXRyeUJ5SUQoZ2VvbWV0cnlJRClcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICAvLyBubyBjYWNoZWQgcGxhbmUgZ2VvbWV0cnksIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHsgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMsIGluc3RhbmNlc0NvdW50LCB2ZXJ0ZXhCdWZmZXJzIH0pXG4gICAgICAgIGNhY2hlTWFuYWdlci5hZGRQbGFuZUdlb21ldHJ5KGdlb21ldHJ5IGFzIFBsYW5lR2VvbWV0cnkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBnZW9tZXRyeSBjb21lcyBmcm9tIGNhY2hlLCBmb3JjZSBpbnN0YW5jZXMgY291bnRcbiAgICAgICAgZ2VvbWV0cnkuaW5zdGFuY2VzQ291bnQgPSBpbnN0YW5jZXNDb3VudFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdldCBET01NZXNoIHBhcmFtc1xuICAgIHN1cGVyKHJlbmRlcmVyLCBlbGVtZW50LCB7IGdlb21ldHJ5LCAuLi5tYXRlcmlhbFBhcmFtcyB9IGFzIERPTU1lc2hQYXJhbXMpXG5cbiAgICB0aGlzLnR5cGUgPSAnUGxhbmUnXG4gIH1cblxuICAvKipcbiAgICogVGFrZSB0aGUgcG9pbnRlciB7QGxpbmsgVmVjMiB8IHZlY3Rvcn0gcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50IGFuZCByZXR1cm5zIGl0IHJlbGF0aXZlIHRvIG91ciB7QGxpbmsgUGxhbmV9XG4gICAqIEl0IHJhbmdlcyBmcm9tIC0xIHRvIDEgb24gYm90aCBheGlzXG4gICAqIEBwYXJhbSBtb3VzZUNvb3JkcyAtIHBvaW50ZXIge0BsaW5rIFZlYzIgfCB2ZWN0b3J9IGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIC0gcmF5Y2FzdGVkIHtAbGluayBWZWMyIHwgdmVjdG9yfSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUge0BsaW5rIFBsYW5lfVxuICAgKi9cbiAgbW91c2VUb1BsYW5lQ29vcmRzKG1vdXNlQ29vcmRzOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIC8vIFRPRE8gc2ltcGxpZnkgaWYgbm8gcm90YXRpb24gc2V0P1xuICAgIC8vIHJheWNhc3RpbmdcbiAgICAvLyBiYXNlZCBvbiBodHRwczovL3Blb3BsZS5jcy5jbGVtc29uLmVkdS9+ZGhvdXNlL2NvdXJzZXMvNDA1L25vdGVzL3JheWNhc3QucGRmXG5cbiAgICAvLyBjb252ZXJ0IG1vdXNlIHBvc2l0aW9uIHRvIDNkIG5vcm1hbGlzZWQgZGV2aWNlIGNvb3JkaW5hdGVzIChmcm9tIFstMSwgLTFdIHRvIFsxLCAxXSlcbiAgICBjb25zdCB3b3JsZE1vdXNlID0ge1xuICAgICAgeDogMiAqIChtb3VzZUNvb3Jkcy54IC8gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSAtIDEsXG4gICAgICB5OiAyICogKDEgLSBtb3VzZUNvb3Jkcy55IC8gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LmhlaWdodCkgLSAxLFxuICAgIH1cblxuICAgIGNvbnN0IHJheU9yaWdpbiA9IHRoaXMuY2FtZXJhLnBvc2l0aW9uLmNsb25lKClcblxuICAgIC8vIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gbm9ybWFsaXNlZCBjb29yZGluYXRlcyBhbmQgcGxhbmUgdHJhbnNsYXRpb25cbiAgICBjb25zdCByYXlEaXJlY3Rpb24gPSBuZXcgVmVjMyh3b3JsZE1vdXNlLngsIHdvcmxkTW91c2UueSwgLTAuNSlcblxuICAgIC8vIHVucHJvamVjdCByYXkgZGlyZWN0aW9uXG4gICAgcmF5RGlyZWN0aW9uLnVucHJvamVjdCh0aGlzLmNhbWVyYSlcbiAgICByYXlEaXJlY3Rpb24uc3ViKHJheU9yaWdpbikubm9ybWFsaXplKClcblxuICAgIC8vIHBsYW5lIG5vcm1hbHMgKGNvdWxkIGFsc28gYmUgWzAsIDAsIC0xXSwgbWFrZXMgbm8gZGlmZmVyZW5jZSwgcmF5Y2FzdGluZyBsYW5kcyB0aGUgc2FtZSByZXN1bHQgZm9yIGJvdGggZmFjZSlcbiAgICBjb25zdCBwbGFuZU5vcm1hbHMgPSBuZXcgVmVjMygwLCAwLCAxKVxuXG4gICAgLy8gYXBwbHkgcGxhbmUgcXVhdGVybmlvbiB0byBwbGFuZSBub3JtYWxzXG4gICAgcGxhbmVOb3JtYWxzLmFwcGx5UXVhdCh0aGlzLnF1YXRlcm5pb24pLm5vcm1hbGl6ZSgpXG5cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVmVjMygwLCAwLCAwKVxuXG4gICAgY29uc3QgZGVub21pbmF0b3IgPSBwbGFuZU5vcm1hbHMuZG90KHJheURpcmVjdGlvbilcblxuICAgIGlmIChNYXRoLmFicyhkZW5vbWluYXRvcikgPj0gMC4wMDAxKSB7XG4gICAgICBjb25zdCBpbnZlcnNlVmlld01hdHJpeCA9IHRoaXMubW9kZWxNYXRyaXguZ2V0SW52ZXJzZSgpLnByZW11bHRpcGx5KHRoaXMuY2FtZXJhLnZpZXdNYXRyaXgpXG5cbiAgICAgIC8vIGdldCB0aGUgcGxhbmUncyBjZW50ZXIgY29vcmRpbmF0ZXNcbiAgICAgIC8vIHN0YXJ0IHdpdGggb3VyIHRyYW5zZm9ybSBvcmlnaW4gcG9pbnRcbiAgICAgIGNvbnN0IHBsYW5lT3JpZ2luID0gdGhpcy53b3JsZFRyYW5zZm9ybU9yaWdpbi5jbG9uZSgpLmFkZCh0aGlzLndvcmxkUG9zaXRpb24pXG5cbiAgICAgIC8vIHJvdGF0ZSBvdXIgdHJhbnNmb3JtIG9yaWdpbiBhYm91dCB3b3JsZCBjZW50ZXJcbiAgICAgIGNvbnN0IHJvdGF0ZWRPcmlnaW4gPSBuZXcgVmVjMyhcbiAgICAgICAgdGhpcy53b3JsZFBvc2l0aW9uLnggLSBwbGFuZU9yaWdpbi54LFxuICAgICAgICB0aGlzLndvcmxkUG9zaXRpb24ueSAtIHBsYW5lT3JpZ2luLnksXG4gICAgICAgIHRoaXMud29ybGRQb3NpdGlvbi56IC0gcGxhbmVPcmlnaW4uelxuICAgICAgKVxuICAgICAgcm90YXRlZE9yaWdpbi5hcHBseVF1YXQodGhpcy5xdWF0ZXJuaW9uKVxuXG4gICAgICAvLyBhZGQgaXQgdG8gb3VyIHBsYW5lIG9yaWdpblxuICAgICAgcGxhbmVPcmlnaW4uYWRkKHJvdGF0ZWRPcmlnaW4pXG5cbiAgICAgIC8vIGRpc3RhbmNlIGZyb20gcmF5IG9yaWdpbiB0byBwbGFuZVxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBwbGFuZU5vcm1hbHMuZG90KHBsYW5lT3JpZ2luLmNsb25lKCkuc3ViKHJheU9yaWdpbikpIC8gZGVub21pbmF0b3JcbiAgICAgIHJlc3VsdC5jb3B5KHJheU9yaWdpbi5hZGQocmF5RGlyZWN0aW9uLm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKSkpXG5cbiAgICAgIHJlc3VsdC5hcHBseU1hdDQoaW52ZXJzZVZpZXdNYXRyaXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vIGludGVyc2VjdGlvbiFcbiAgICAgIHJlc3VsdC5zZXQoSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eSlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZlYzIocmVzdWx0LngsIHJlc3VsdC55KVxuICB9XG59XG4iLCJpbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXHJcbmltcG9ydCB7IERPTVByb2plY3RlZE1lc2gsIFByb2plY3RlZE1lc2gsIFJlbmRlcmVkTWVzaCB9IGZyb20gJy4uL3JlbmRlcmVycy9HUFVSZW5kZXJlcidcclxuaW1wb3J0IHsgU2hhZGVyUGFzcyB9IGZyb20gJy4uL3JlbmRlclBhc3Nlcy9TaGFkZXJQYXNzJ1xyXG5pbXBvcnQgeyBQaW5nUG9uZ1BsYW5lIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvbWVzaGVzL1BpbmdQb25nUGxhbmUnXHJcbmltcG9ydCB7IENvbXB1dGVQYXNzIH0gZnJvbSAnLi4vY29tcHV0ZVBhc3Nlcy9Db21wdXRlUGFzcydcclxuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcclxuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vcmVuZGVyUGFzc2VzL1JlbmRlclRhcmdldCdcclxuaW1wb3J0IHsgRE9NTWVzaCB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL21lc2hlcy9ET01NZXNoJ1xyXG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL21lc2hlcy9QbGFuZSdcclxuaW1wb3J0IHsgUmVuZGVyUGFzcyB9IGZyb20gJy4uL3JlbmRlclBhc3Nlcy9SZW5kZXJQYXNzJ1xyXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcclxuXHJcbi8qKlxyXG4gKiBNZXNoZXMgcmVuZGVyaW5nIG9yZGVyIGlzIGRlcGVuZGFudCBvZiB0aGVpciB0cmFuc3BhcmVuY3kgc2V0dGluZ1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0aW9uU3RhY2sge1xyXG4gIC8qKiBvcGFxdWUgTWVzaGVzIHdpbGwgYmUgZHJhd24gZmlyc3QgKi9cclxuICBvcGFxdWU6IFByb2plY3RlZE1lc2hbXVxyXG4gIC8qKiB0cmFuc3BhcmVudCBNZXNoZXMgd2lsbCBiZSBkcmF3biBsYXN0ICovXHJcbiAgdHJhbnNwYXJlbnQ6IFByb2plY3RlZE1lc2hbXVxyXG59XHJcblxyXG4vKiogTWVzaGVzIHdpbGwgYmUgc3RhY2tlZCBpbiAyIGRpZmZlcmVudCBvYmplY3RzIHdoZXRoZXIgdGhleSBhcmUgcHJvamVjdGVkICh1c2UgYSB7QGxpbmsgY29yZS9jYW1lcmEvQ2FtZXJhLkNhbWVyYSB8IENhbWVyYX0pIG9yIG5vdCAqL1xyXG5leHBvcnQgdHlwZSBQcm9qZWN0aW9uVHlwZSA9ICd1blByb2plY3RlZCcgfCAncHJvamVjdGVkJ1xyXG5cclxuLyoqXHJcbiAqIE1lc2hlcyB3aWxsIGJlIHB1dCBpbnRvIHR3byBzdGFja3Mgb2YgcHJvamVjdGVkL3VucHJvamVjdGVkIHRyYW5zcGFyZW50IGFuZCBvcGFxdWVzIG1lc2hlcyBhcnJheXNcclxuICovXHJcbmV4cG9ydCB0eXBlIFN0YWNrID0gUmVjb3JkPFByb2plY3Rpb25UeXBlLCBQcm9qZWN0aW9uU3RhY2s+XHJcblxyXG4vKipcclxuICogQSBSZW5kZXJQYXNzRW50cnkgb2JqZWN0IGlzIHVzZWQgdG8gZ3JvdXAgTWVzaGVzIGJhc2VkIG9uIHRoZWlyIHJlbmRlcmluZyB0YXJnZXRcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGFzc0VudHJ5IHtcclxuICAvKioge0BsaW5rIFJlbmRlclBhc3N9IHRhcmdldCB1c2VkIG9udG8gd2hpY2ggcmVuZGVyICovXHJcbiAgcmVuZGVyUGFzczogUmVuZGVyUGFzc1xyXG4gIC8qKiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gcmVuZGVyIHRvIGlmIGFueSAoaWYgbm90IHNwZWNpZmllZCB0aGVuIHRoaXMge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gTWVzaGVzIHdpbGwgYmUgcmVuZGVyZWQgZGlyZWN0bHkgdG8gc2NyZWVuKSAqL1xyXG4gIHJlbmRlclRleHR1cmU6IFJlbmRlclRleHR1cmUgfCBudWxsXHJcbiAgLyoqIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBiZWZvcmUgcmVuZGVyaW5nIHRoZSBNZXNoZXMsIHVzZWZ1bCBmb3IgZXZlbnR1YWwgdGV4dHVyZSBjb3B5ICovXHJcbiAgb25CZWZvcmVSZW5kZXJQYXNzOiAoKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIsIHN3YXBDaGFpblRleHR1cmU/OiBHUFVUZXh0dXJlKSA9PiB2b2lkKSB8IG51bGxcclxuICAvKiogT3B0aW9uYWwgZnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGFmdGVyIHJlbmRlcmluZyB0aGUgTWVzaGVzLCB1c2VmdWwgZm9yIGV2ZW50dWFsIHRleHR1cmUgY29weSAqL1xyXG4gIG9uQWZ0ZXJSZW5kZXJQYXNzOiAoKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIsIHN3YXBDaGFpblRleHR1cmU/OiBHUFVUZXh0dXJlKSA9PiB2b2lkKSB8IG51bGxcclxuICAvKiogSWYgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSBuZWVkcyB0byByZW5kZXIgb25seSBvbmUgTWVzaCAqL1xyXG4gIGVsZW1lbnQ6IFJlbmRlcmVkTWVzaCB8IG51bGxcclxuICAvKiogSWYgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSBuZWVkcyB0byByZW5kZXIgbXVsdGlwbGUgTWVzaGVzLCB0aGVuIHVzZSBhIHtAbGluayBTdGFja30gb2JqZWN0ICovXHJcbiAgc3RhY2s6IFN0YWNrIHwgbnVsbFxyXG59XHJcblxyXG4vKiogRGVmaW5lcyBhbGwgb3VyIHBvc3NpYmxlIHJlbmRlciB0YXJnZXRzICovXHJcbmV4cG9ydCB0eXBlIFJlbmRlclBhc3NFbnRyaWVzVHlwZSA9ICdwaW5nUG9uZycgfCAncmVuZGVyVGFyZ2V0JyB8ICdzY3JlZW4nXHJcbi8qKiBEZWZpbmVzIG91ciByZW5kZXIgcGFzcyBlbnRyaWVzIG9iamVjdCAqL1xyXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzRW50cmllcyA9IFJlY29yZDxSZW5kZXJQYXNzRW50cmllc1R5cGUsIFJlbmRlclBhc3NFbnRyeVtdPlxyXG5cclxuLyoqXHJcbiAqIFVzZWQgdG8gYnkgdGhlIHtAbGluayBSZW5kZXJlcn0gcmVuZGVyIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBiZSByZW5kZXJlZCAoY29tcHV0ZSBwYXNzZXMgYW5kIG1lc2hlcykgaW4gdGhlIHJpZ2h0IG9yZGVyIHdpdGggdGhlIHJpZ2h0IHBhc3MgZGVzY3JpcHRvcnMgYW5kIHRhcmdldCB0ZXh0dXJlcywgcGVyZm9ybSB0ZXh0dXJlcyBjb3B5IGF0IHRoZSByaWdodCB0aW1lLCBldGMuXHJcbiAqXHJcbiAqICMjIFJlbmRlciBvcmRlclxyXG4gKlxyXG4gKiAtIFJ1biBhbGwgdGhlIHtAbGluayBDb21wdXRlUGFzc30gZmlyc3QsIHNvcnRlZCBieSB0aGVpciB7QGxpbmsgQ29tcHV0ZVBhc3MjcmVuZGVyT3JkZXIgfCByZW5kZXJPcmRlcn1cclxuICogLSBUaGVuIHJlbmRlciBhbGwge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBwaW5nUG9uZyBlbnRyaWVzIE1lc2hlcywgc29ydGVkIGJ5IHRoZWlyIHtAbGluayBQaW5nUG9uZ1BsYW5lI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9XHJcbiAqIC0gVGhlbiBhbGwgTWVzaGVzIHRoYXQgbmVlZCB0byBiZSByZW5kZXJlZCBpbnRvIHNwZWNpZmljIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcmVuZGVyVGFyZ2V0IGVudHJpZXM6XHJcbiAqICAgLSBGaXJzdCwgdGhlIG9wYXF1ZSB1bnByb2plY3RlZCBNZXNoZXMgKGkuZS4gb3BhcXVlIHtAbGluayBjb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUuRnVsbHNjcmVlblBsYW5lIHwgRnVsbHNjcmVlblBsYW5lfSwgaWYgYW55KSwgc29ydGVkIGJ5IHRoZWlyIHtAbGluayBjb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUuRnVsbHNjcmVlblBsYW5lI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9XHJcbiAqICAgLSBUaGVuLCB0aGUgdHJhbnNwYXJlbnQgdW5wcm9qZWN0ZWQgTWVzaGVzIChpLmUuIHRyYW5zcGFyZW50IHtAbGluayBjb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUuRnVsbHNjcmVlblBsYW5lIHwgRnVsbHNjcmVlblBsYW5lfSwgaWYgYW55KSwgc29ydGVkIGJ5IHRoZWlyIHtAbGluayBjb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUuRnVsbHNjcmVlblBsYW5lI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9XHJcbiAqICAgLSBUaGVuLCB0aGUgb3BhcXVlIHByb2plY3RlZCBNZXNoZXMgKGkuZS4gb3BhcXVlIHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2ggfCBNZXNofSwge0BsaW5rIERPTU1lc2h9IG9yIHtAbGluayBQbGFuZX0pLCBzb3J0ZWQgYnkgdGhlaXIge0BsaW5rIGNvcmUvbWVzaGVzL01lc2guTWVzaCNyZW5kZXJPcmRlciB8IHJlbmRlck9yZGVyfVxyXG4gKiAgIC0gRmluYWxseSwgdGhlIHRyYW5zcGFyZW50IHByb2plY3RlZCBNZXNoZXMgKGkuZS4gdHJhbnNwYXJlbnQge0BsaW5rIGNvcmUvbWVzaGVzL01lc2guTWVzaCB8IE1lc2h9LCB7QGxpbmsgRE9NTWVzaH0gb3Ige0BsaW5rIFBsYW5lfSksIHNvcnRlZCBieSB0aGVpciBaIHBvc2l0aW9uIGFuZCB0aGVuIHRoZWlyIHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2gjcmVuZGVyT3JkZXIgfCByZW5kZXJPcmRlcn1cclxuICogLSBGaW5hbGx5IGFsbCBNZXNoZXMgdGhhdCBuZWVkIHRvIGJlIHJlbmRlcmVkIGRpcmVjdGx5IHRvIHRoZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHNjcmVlbiAodGhlIHtAbGluayBSZW5kZXJlcn0gY3VycmVudCB0ZXh0dXJlKSwgaW4gdGhlIHNhbWUgb3JkZXIgdGhhbiBhYm92ZS5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBTY2VuZSB7XHJcbiAgLyoqIHtAbGluayBSZW5kZXJlcn0gdXNlZCBieSB0aGlzIHtAbGluayBTY2VuZX0gKi9cclxuICByZW5kZXJlcjogUmVuZGVyZXJcclxuICAvKiogQXJyYXkgb2Yge0BsaW5rIENvbXB1dGVQYXNzfSB0byByZW5kZXIsIG9yZGVyZWQgYnkge0BsaW5rIENvbXB1dGVQYXNzI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9ICovXHJcbiAgY29tcHV0ZVBhc3NFbnRyaWVzOiBDb21wdXRlUGFzc1tdXHJcbiAgLyoqXHJcbiAgICogQSB7QGxpbmsgUmVuZGVyUGFzc0VudHJpZXN9IG9iamVjdCB0aGF0IHdpbGwgY29udGFpbiBldmVyeSBNZXNoZXMgdGhhdCBuZWVkIHRvIGJlIGRyYXduLCBwdXQgaW5zaWRlIGVhY2ggb25lIG9mIG91ciB0aHJlZSBlbnRyaWVzIHR5cGUgYXJyYXlzOiAncGluZ1BvbmcnLCAncmVuZGVyVGFyZ2V0JyBhbmQgJ3NjcmVlbicuXHJcbiAgICogLSBUaGUge0BsaW5rIFNjZW5lfSB3aWxsIGZpcnN0IHJlbmRlciBhbGwge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBwaW5nUG9uZyBlbnRyaWVzIE1lc2hlc1xyXG4gICAqIC0gVGhlbiBhbGwgTWVzaGVzIHRoYXQgbmVlZCB0byBiZSByZW5kZXJlZCBpbnRvIHNwZWNpZmljIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcmVuZGVyVGFyZ2V0IGVudHJpZXNcclxuICAgKiAtIEZpbmFsbHkgYWxsIE1lc2hlcyB0aGF0IG5lZWQgdG8gYmUgcmVuZGVyZWQgdG8gdGhlIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuXHJcbiAgICovXHJcbiAgcmVuZGVyUGFzc0VudHJpZXM6IFJlbmRlclBhc3NFbnRyaWVzXHJcblxyXG4gIC8qKlxyXG4gICAqIFNjZW5lIGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIFJlbmRlcmVyfSBvYmplY3Qgb3Ige0BsaW5rIEdQVUN1cnRhaW5zfSBjbGFzcyBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgU2NlbmV9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9OiB7IHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zIH0pIHtcclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXHJcblxyXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgJ1NjZW5lJylcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcclxuXHJcbiAgICB0aGlzLmNvbXB1dGVQYXNzRW50cmllcyA9IFtdXHJcblxyXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcyA9IHtcclxuICAgICAgLyoqIEFycmF5IG9mIHtAbGluayBSZW5kZXJQYXNzRW50cnl9IHRoYXQgd2lsbCBoYW5kbGUge0BsaW5rIFBpbmdQb25nUGxhbmV9LiBFYWNoIHtAbGluayBQaW5nUG9uZ1BsYW5lfSB3aWxsIGJlIGFkZGVkIGFzIGEgZGlzdGluY3Qge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gaGVyZSAqL1xyXG4gICAgICBwaW5nUG9uZzogW10gYXMgUmVuZGVyUGFzc0VudHJ5W10sXHJcbiAgICAgIC8qKiBBcnJheSBvZiB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSB0aGF0IHdpbGwgcmVuZGVyIHRvIGEgc3BlY2lmaWMge0BsaW5rIFJlbmRlclRhcmdldH0uIEVhY2gge0BsaW5rIFJlbmRlclRhcmdldH0gd2lsbCBiZSBhZGRlZCBhcyBhIGRpc3RpbmN0IHtAbGluayBSZW5kZXJQYXNzRW50cnl9IGhlcmUgKi9cclxuICAgICAgcmVuZGVyVGFyZ2V0OiBbXSBhcyBSZW5kZXJQYXNzRW50cnlbXSxcclxuICAgICAgLyoqIEFycmF5IG9mIHtAbGluayBSZW5kZXJQYXNzRW50cnl9IHRoYXQgd2lsbCByZW5kZXIgZGlyZWN0bHkgdG8gdGhlIHNjcmVlbi4gT3VyIGZpcnN0IGVudHJ5IHdpbGwgY29udGFpbiBhbGwgdGhlIE1lc2hlcyB0aGF0IGRvIG5vdCBoYXZlIGFueSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBhc3NpZ25lZC4gRm9sbG93aW5nIGVudHJpZXMgd2lsbCBiZSBjcmVhdGVkIGZvciBldmVyeSBnbG9iYWwge0BsaW5rIFNoYWRlclBhc3N9ICovXHJcbiAgICAgIHNjcmVlbjogW1xyXG4gICAgICAgIC8vIGFkZCBvdXIgYmFzaWMgc2NlbmUgZW50cnlcclxuICAgICAgICB7XHJcbiAgICAgICAgICByZW5kZXJQYXNzOiB0aGlzLnJlbmRlcmVyLnJlbmRlclBhc3MsXHJcbiAgICAgICAgICByZW5kZXJUZXh0dXJlOiBudWxsLFxyXG4gICAgICAgICAgb25CZWZvcmVSZW5kZXJQYXNzOiBudWxsLFxyXG4gICAgICAgICAgb25BZnRlclJlbmRlclBhc3M6IG51bGwsXHJcbiAgICAgICAgICBlbGVtZW50OiBudWxsLCAvLyBleHBsaWNpdGx5IHNldCB0byBudWxsXHJcbiAgICAgICAgICBzdGFjazoge1xyXG4gICAgICAgICAgICB1blByb2plY3RlZDoge1xyXG4gICAgICAgICAgICAgIG9wYXF1ZTogW10sXHJcbiAgICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IFtdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwcm9qZWN0ZWQ6IHtcclxuICAgICAgICAgICAgICBvcGFxdWU6IFtdLFxyXG4gICAgICAgICAgICAgIHRyYW5zcGFyZW50OiBbXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgXSBhcyBSZW5kZXJQYXNzRW50cnlbXSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIG1lc2hlcyBhIHtAbGluayBSZW5kZXJQYXNzRW50cnkgfCByZW5kZXIgcGFzcyBlbnRyeX0gc2hvdWxkIGRyYXcuXHJcbiAgICogQHBhcmFtIHJlbmRlclBhc3NFbnRyeSAtIFRoZSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5IHwgcmVuZGVyIHBhc3MgZW50cnl9IHRvIHRlc3RcclxuICAgKi9cclxuICBnZXRSZW5kZXJQYXNzRW50cnlMZW5ndGgocmVuZGVyUGFzc0VudHJ5OiBSZW5kZXJQYXNzRW50cnkpOiBudW1iZXIge1xyXG4gICAgaWYgKCFyZW5kZXJQYXNzRW50cnkpIHtcclxuICAgICAgcmV0dXJuIDBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZW5kZXJQYXNzRW50cnkuZWxlbWVudFxyXG4gICAgICAgID8gMVxyXG4gICAgICAgIDogcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnVuUHJvamVjdGVkLm9wYXF1ZS5sZW5ndGggK1xyXG4gICAgICAgICAgICByZW5kZXJQYXNzRW50cnkuc3RhY2sudW5Qcm9qZWN0ZWQudHJhbnNwYXJlbnQubGVuZ3RoICtcclxuICAgICAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUubGVuZ3RoICtcclxuICAgICAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC50cmFuc3BhcmVudC5sZW5ndGhcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIHtAbGluayBDb21wdXRlUGFzc30gdG8gb3VyIHNjZW5lIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGFycmF5XHJcbiAgICogQHBhcmFtIGNvbXB1dGVQYXNzIC0ge0BsaW5rIENvbXB1dGVQYXNzfSB0byBhZGRcclxuICAgKi9cclxuICBhZGRDb21wdXRlUGFzcyhjb21wdXRlUGFzczogQ29tcHV0ZVBhc3MpIHtcclxuICAgIHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzLnB1c2goY29tcHV0ZVBhc3MpXHJcbiAgICB0aGlzLmNvbXB1dGVQYXNzRW50cmllcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgIGlmIChhLnJlbmRlck9yZGVyICE9PSBiLnJlbmRlck9yZGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGEucmVuZGVyT3JkZXIgLSBiLnJlbmRlck9yZGVyXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSB7QGxpbmsgQ29tcHV0ZVBhc3N9IGZyb20gb3VyIHNjZW5lIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGFycmF5XHJcbiAgICogQHBhcmFtIGNvbXB1dGVQYXNzIC0ge0BsaW5rIENvbXB1dGVQYXNzfSB0byByZW1vdmVcclxuICAgKi9cclxuICByZW1vdmVDb21wdXRlUGFzcyhjb21wdXRlUGFzczogQ29tcHV0ZVBhc3MpIHtcclxuICAgIHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzID0gdGhpcy5jb21wdXRlUGFzc0VudHJpZXMuZmlsdGVyKChjUCkgPT4gY1AudXVpZCAhPT0gY29tcHV0ZVBhc3MudXVpZClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBhIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIG91ciBzY2VuZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHJlbmRlclRhcmdldCBhcnJheS5cclxuICAgKiBFdmVyeSBNZXNoZXMgbGF0ZXIgYWRkZWQgdG8gdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB3aWxsIGJlIHJlbmRlcmVkIHRvIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0I3JlbmRlclRleHR1cmUgfCBSZW5kZXJUYXJnZXQgUmVuZGVyVGV4dHVyZX0gdXNpbmcgdGhlIHtAbGluayBSZW5kZXJUYXJnZXQjcmVuZGVyUGFzcy5kZXNjcmlwdG9yIHwgUmVuZGVyVGFyZ2V0IFJlbmRlclBhc3MgZGVzY3JpcHRvcn1cclxuICAgKiBAcGFyYW0gcmVuZGVyVGFyZ2V0IC0ge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gYWRkXHJcbiAgICovXHJcbiAgYWRkUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldDogUmVuZGVyVGFyZ2V0KSB7XHJcbiAgICAvLyBpZiBSVCBpcyBub3QgYWxyZWFkeSBpbiB0aGUgcmVuZGVyIHBhc3MgZW50cmllc1xyXG4gICAgaWYgKCF0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnJlbmRlclRhcmdldC5maW5kKChlbnRyeSkgPT4gZW50cnkucmVuZGVyUGFzcy51dWlkID09PSByZW5kZXJUYXJnZXQucmVuZGVyUGFzcy51dWlkKSlcclxuICAgICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQucHVzaCh7XHJcbiAgICAgICAgcmVuZGVyUGFzczogcmVuZGVyVGFyZ2V0LnJlbmRlclBhc3MsXHJcbiAgICAgICAgcmVuZGVyVGV4dHVyZTogcmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUsXHJcbiAgICAgICAgb25CZWZvcmVSZW5kZXJQYXNzOiBudWxsLFxyXG4gICAgICAgIG9uQWZ0ZXJSZW5kZXJQYXNzOiBudWxsLFxyXG4gICAgICAgIGVsZW1lbnQ6IG51bGwsIC8vIGV4cGxpY2l0bHkgc2V0IHRvIG51bGxcclxuICAgICAgICBzdGFjazoge1xyXG4gICAgICAgICAgdW5Qcm9qZWN0ZWQ6IHtcclxuICAgICAgICAgICAgb3BhcXVlOiBbXSxcclxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IFtdLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHByb2plY3RlZDoge1xyXG4gICAgICAgICAgICBvcGFxdWU6IFtdLFxyXG4gICAgICAgICAgICB0cmFuc3BhcmVudDogW10sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0gYXMgUmVuZGVyUGFzc0VudHJ5KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEge0BsaW5rIFJlbmRlclRhcmdldH0gZnJvbSBvdXIgc2NlbmUge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSByZW5kZXJUYXJnZXQgYXJyYXkuXHJcbiAgICogQHBhcmFtIHJlbmRlclRhcmdldCAtIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFkZFxyXG4gICAqL1xyXG4gIHJlbW92ZVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQ6IFJlbmRlclRhcmdldCkge1xyXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnJlbmRlclRhcmdldC5maWx0ZXIoXHJcbiAgICAgIChlbnRyeSkgPT4gZW50cnkucmVuZGVyUGFzcy51dWlkICE9PSByZW5kZXJUYXJnZXQucmVuZGVyUGFzcy51dWlkXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIGNvcnJlY3Qge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzIHwgcmVuZGVyIHBhc3MgZW50cnl9IChlaXRoZXIge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSByZW5kZXJUYXJnZXQgb3Ige0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBzY3JlZW4pIHtAbGluayBTdGFja30gb250byB3aGljaCB0aGlzIE1lc2ggc2hvdWxkIGJlIGFkZGVkLCBkZXBlbmRpbmcgb24gd2hldGhlciBpdCdzIHByb2plY3RlZCBvciBub3RcclxuICAgKiBAcGFyYW0gbWVzaCAtIE1lc2ggdG8gY2hlY2tcclxuICAgKiBAcmV0dXJucyAtIHRoZSBjb3JyZXNwb25kaW5nIHJlbmRlciBwYXNzIGVudHJ5IHtAbGluayBTdGFja31cclxuICAgKi9cclxuICBnZXRNZXNoUHJvamVjdGlvblN0YWNrKG1lc2g6IFByb2plY3RlZE1lc2gpOiBQcm9qZWN0aW9uU3RhY2sge1xyXG4gICAgLy8gZmlyc3QgZ2V0IGNvcnJlY3QgcmVuZGVyIHBhc3MgZW50eSBhbmQgc3RhY2tcclxuICAgIGNvbnN0IHJlbmRlclBhc3NFbnRyeSA9IG1lc2gucmVuZGVyVGFyZ2V0XHJcbiAgICAgID8gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQuZmluZChcclxuICAgICAgICAgIChwYXNzRW50cnkpID0+IHBhc3NFbnRyeS5yZW5kZXJQYXNzLnV1aWQgPT09IG1lc2gucmVuZGVyVGFyZ2V0LnJlbmRlclBhc3MudXVpZFxyXG4gICAgICAgIClcclxuICAgICAgOiB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnNjcmVlblswXVxyXG5cclxuICAgIGNvbnN0IHsgc3RhY2sgfSA9IHJlbmRlclBhc3NFbnRyeVxyXG5cclxuICAgIHJldHVybiBtZXNoLm1hdGVyaWFsLm9wdGlvbnMucmVuZGVyaW5nLnVzZVByb2plY3Rpb24gPyBzdGFjay5wcm9qZWN0ZWQgOiBzdGFjay51blByb2plY3RlZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEgTWVzaCB0byB0aGUgY29ycmVjdCB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXMgfCByZW5kZXIgcGFzcyBlbnRyeX0ge0BsaW5rIFN0YWNrfSBhcnJheS5cclxuICAgKiBNZXNoZXMgYXJlIHRoZW4gb3JkZXJlZCBieSB0aGVpciB7QGxpbmsgY29yZS9tZXNoZXMvbWl4aW5zL01lc2hCYXNlTWl4aW4uTWVzaEJhc2VDbGFzcyNpbmRleCB8IGluZGV4ZXMgKG9yZGVyIG9mIGNyZWF0aW9uXX0sIHBvc2l0aW9uIGFsb25nIHRoZSBaIGF4aXMgaW4gY2FzZSB0aGV5IGFyZSB0cmFuc3BhcmVudCBhbmQgdGhlbiB7QGxpbmsgY29yZS9tZXNoZXMvbWl4aW5zL01lc2hCYXNlTWl4aW4uTWVzaEJhc2VDbGFzcyNyZW5kZXJPcmRlciB8IHJlbmRlck9yZGVyfVxyXG4gICAqIEBwYXJhbSBtZXNoIC0gTWVzaCB0byBhZGRcclxuICAgKi9cclxuICBhZGRNZXNoKG1lc2g6IFByb2plY3RlZE1lc2gpIHtcclxuICAgIGNvbnN0IHByb2plY3Rpb25TdGFjayA9IHRoaXMuZ2V0TWVzaFByb2plY3Rpb25TdGFjayhtZXNoKVxyXG5cclxuICAgIC8vIHJlYnVpbGQgc3RhY2tcclxuICAgIGNvbnN0IHNpbWlsYXJNZXNoZXMgPSBtZXNoLnRyYW5zcGFyZW50ID8gWy4uLnByb2plY3Rpb25TdGFjay50cmFuc3BhcmVudF0gOiBbLi4ucHJvamVjdGlvblN0YWNrLm9wYXF1ZV1cclxuXHJcbiAgICAvLyBmaW5kIGlmIHRoZXJlJ3MgYWxyZWFkeSBhIHBsYW5lIHdpdGggdGhlIHNhbWUgcGlwZWxpbmUgd2l0aCBhIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25cclxuICAgIGxldCBzaWJsaW5nTWVzaEluZGV4ID0gLTFcclxuXHJcbiAgICBmb3IgKGxldCBpID0gc2ltaWxhck1lc2hlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBpZiAoc2ltaWxhck1lc2hlc1tpXS5tYXRlcmlhbC5waXBlbGluZUVudHJ5LmluZGV4ID09PSBtZXNoLm1hdGVyaWFsLnBpcGVsaW5lRW50cnkuaW5kZXgpIHtcclxuICAgICAgICBzaWJsaW5nTWVzaEluZGV4ID0gaSArIDFcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgZmluZEluZGV4IHJldHVybmVkIC0xIChubyBtYXRjaGluZyBwaXBlbGluZSlcclxuICAgIHNpYmxpbmdNZXNoSW5kZXggPSBNYXRoLm1heCgwLCBzaWJsaW5nTWVzaEluZGV4KVxyXG5cclxuICAgIC8vIGFkZCBpdCB0byBvdXIgc3RhY2sgcGxhbmUgYXJyYXlcclxuICAgIHNpbWlsYXJNZXNoZXMuc3BsaWNlKHNpYmxpbmdNZXNoSW5kZXgsIDAsIG1lc2gpXHJcbiAgICBzaW1pbGFyTWVzaGVzLnNvcnQoKGEsIGIpID0+IGEuaW5kZXggLSBiLmluZGV4KVxyXG5cclxuICAgIC8vIHNvcnQgYnkgWiBwb3MgaWYgdHJhbnNwYXJlbnRcclxuICAgIGlmICgobWVzaCBpbnN0YW5jZW9mIERPTU1lc2ggfHwgbWVzaCBpbnN0YW5jZW9mIFBsYW5lKSAmJiBtZXNoLnRyYW5zcGFyZW50KSB7XHJcbiAgICAgIHNpbWlsYXJNZXNoZXMuc29ydChcclxuICAgICAgICAoYSwgYikgPT4gKGIgYXMgRE9NUHJvamVjdGVkTWVzaCkuZG9jdW1lbnRQb3NpdGlvbi56IC0gKGEgYXMgRE9NUHJvamVjdGVkTWVzaCkuZG9jdW1lbnRQb3NpdGlvbi56XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyB0aGVuIHNvcnQgYnkgdGhlaXIgcmVuZGVyIG9yZGVyXHJcbiAgICBzaW1pbGFyTWVzaGVzLnNvcnQoKGEsIGIpID0+IGEucmVuZGVyT3JkZXIgLSBiLnJlbmRlck9yZGVyKVxyXG5cclxuICAgIG1lc2gudHJhbnNwYXJlbnQgPyAocHJvamVjdGlvblN0YWNrLnRyYW5zcGFyZW50ID0gc2ltaWxhck1lc2hlcykgOiAocHJvamVjdGlvblN0YWNrLm9wYXF1ZSA9IHNpbWlsYXJNZXNoZXMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSBNZXNoIGZyb20gb3VyIHtAbGluayBTY2VuZX1cclxuICAgKiBAcGFyYW0gbWVzaCAtIE1lc2ggdG8gcmVtb3ZlXHJcbiAgICovXHJcbiAgcmVtb3ZlTWVzaChtZXNoOiBQcm9qZWN0ZWRNZXNoKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0aW9uU3RhY2sgPSB0aGlzLmdldE1lc2hQcm9qZWN0aW9uU3RhY2sobWVzaClcclxuXHJcbiAgICBpZiAobWVzaC50cmFuc3BhcmVudCkge1xyXG4gICAgICBwcm9qZWN0aW9uU3RhY2sudHJhbnNwYXJlbnQgPSBwcm9qZWN0aW9uU3RhY2sudHJhbnNwYXJlbnQuZmlsdGVyKChtKSA9PiBtLnV1aWQgIT09IG1lc2gudXVpZClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHByb2plY3Rpb25TdGFjay5vcGFxdWUgPSBwcm9qZWN0aW9uU3RhY2sub3BhcXVlLmZpbHRlcigobSkgPT4gbS51dWlkICE9PSBtZXNoLnV1aWQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgYSB7QGxpbmsgU2hhZGVyUGFzc30gdG8gb3VyIHNjZW5lIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuIGFycmF5LlxyXG4gICAqIEJlZm9yZSByZW5kZXJpbmcgdGhlIHtAbGluayBTaGFkZXJQYXNzfSwgd2Ugd2lsbCBjb3B5IHRoZSBjb3JyZWN0IGlucHV0IHRleHR1cmUgaW50byBpdHMge0BsaW5rIFNoYWRlclBhc3MjcmVuZGVyVGV4dHVyZSB8IHJlbmRlclRleHR1cmV9XHJcbiAgICogVGhpcyBhbHNvIGhhbmRsZXMgdGhlIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuIGFycmF5IGVudHJpZXMgb3JkZXI6IFdlIHdpbGwgZmlyc3QgZHJhdyBzZWxlY3RpdmUgcGFzc2VzLCB0aGVuIG91ciBtYWluIHNjcmVlbiBwYXNzIGFuZCBmaW5hbGx5IGdsb2JhbCBwb3N0IHByb2Nlc3NpbmcgcGFzc2VzLlxyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vY29kZXNhbmRib3guaW8vcC9zYW5kYm94L3dlYmdwdS1yZW5kZXItdG8tMi10ZXh0dXJlcy13aXRob3V0LXRleHR1cmUtY29weS1jNHN4NHM/ZmlsZT0lMkZzcmMlMkZpbmRleC5qcyUzQTEwJTJDNCB8IG1pbmltYWwgY29kZSBleGFtcGxlfVxyXG4gICAqIEBwYXJhbSBzaGFkZXJQYXNzIC0ge0BsaW5rIFNoYWRlclBhc3N9IHRvIGFkZFxyXG4gICAqL1xyXG4gIGFkZFNoYWRlclBhc3Moc2hhZGVyUGFzczogU2hhZGVyUGFzcykge1xyXG4gICAgY29uc3Qgb25CZWZvcmVSZW5kZXJQYXNzID0gc2hhZGVyUGFzcy5yZW5kZXJUYXJnZXRcclxuICAgICAgPyBudWxsXHJcbiAgICAgIDogKGNvbW1hbmRFbmNvZGVyLCBzd2FwQ2hhaW5UZXh0dXJlKSA9PiB7XHJcbiAgICAgICAgICAvLyBkcmF3IHRoZSBjb250ZW50IGludG8gb3VyIHJlbmRlciB0ZXh0dXJlXHJcbiAgICAgICAgICAvLyBpZiBpdCdzIGEgZ2xvYmFsIHBvc3QgcHJvY2Vzc2luZyBwYXNzLCBjb3B5IHRoZSBjb250ZXh0IGN1cnJlbnQgdGV4dHVyZSBpbnRvIGl0cyByZW5kZXJUZXh0dXJlXHJcbiAgICAgICAgICBpZiAoc2hhZGVyUGFzcy5yZW5kZXJUZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIGNvbW1hbmRFbmNvZGVyLmNvcHlUZXh0dXJlVG9UZXh0dXJlKFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHN3YXBDaGFpblRleHR1cmUsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBzaGFkZXJQYXNzLnJlbmRlclRleHR1cmUudGV4dHVyZSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIFtzaGFkZXJQYXNzLnJlbmRlclRleHR1cmUuc2l6ZS53aWR0aCwgc2hhZGVyUGFzcy5yZW5kZXJUZXh0dXJlLnNpemUuaGVpZ2h0XVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gaWYgd2Ugd2FudCB0byBwb3N0IHByb2Nlc3MgdGhlIHdob2xlIHNjZW5lLCBjbGVhciByZW5kZXIgcGFzcyBjb250ZW50XHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnBvc3RQcm9jZXNzaW5nUGFzcy5zZXRMb2FkT3AoJ2NsZWFyJylcclxuICAgICAgICB9XHJcblxyXG4gICAgY29uc3Qgb25BZnRlclJlbmRlclBhc3MgPSBzaGFkZXJQYXNzLnJlbmRlclRhcmdldFxyXG4gICAgICA/IChjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSkgPT4ge1xyXG4gICAgICAgICAgLy8gaWYgd2UgcmVuZGVyIHRvIGEgdGFyZ2V0LCBjb3B5IHRoZSByZXN1bHQgc28gd2UgY2FuIGNoYWluIHJlbmRlciB0byB0ZXh0dXJlc1xyXG4gICAgICAgICAgaWYgKHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0ICYmIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUpIHtcclxuICAgICAgICAgICAgY29tbWFuZEVuY29kZXIuY29weVRleHR1cmVUb1RleHR1cmUoXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogc3dhcENoYWluVGV4dHVyZSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUudGV4dHVyZSxcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIFtzaGFkZXJQYXNzLnJlbmRlclRhcmdldC5yZW5kZXJUZXh0dXJlLnNpemUud2lkdGgsIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUuc2l6ZS5oZWlnaHRdXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIDogbnVsbFxyXG5cclxuICAgIGNvbnN0IHNoYWRlclBhc3NFbnRyeSA9IHtcclxuICAgICAgcmVuZGVyUGFzczogdGhpcy5yZW5kZXJlci5wb3N0UHJvY2Vzc2luZ1Bhc3MsIC8vIHJlbmRlciBkaXJlY3RseSB0byBzY3JlZW5cclxuICAgICAgcmVuZGVyVGV4dHVyZTogbnVsbCxcclxuICAgICAgb25CZWZvcmVSZW5kZXJQYXNzLFxyXG4gICAgICBvbkFmdGVyUmVuZGVyUGFzcyxcclxuICAgICAgZWxlbWVudDogc2hhZGVyUGFzcyxcclxuICAgICAgc3RhY2s6IG51bGwsIC8vIGV4cGxpY2l0bHkgc2V0IHRvIG51bGxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnNjcmVlbi5wdXNoKHNoYWRlclBhc3NFbnRyeSlcclxuXHJcbiAgICAvLyBzY3JlZW4gcGFzc2VzIGFyZSBzb3J0ZWQgYnkgMiBjcml0ZXJpYVxyXG4gICAgLy8gZmlyc3Qgd2UgZHJhdyByZW5kZXIgcGFzc2VzIHRoYXQgaGF2ZSBhIHJlbmRlciB0YXJnZXQgT1Igb3VyIHNjZW5lIHBhc3MsIG9yZGVyZWQgYnkgcmVuZGVyT3JkZXJcclxuICAgIC8vIHRoZW4gd2UgZHJhdyBvdXIgZnVsbCBwb3N0IHByb2Nlc3NpbmcgcGFzcywgb3JkZXJlZCBieSByZW5kZXJPcmRlclxyXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW4uc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICBjb25zdCBpc1Bvc3RQcm9BID0gYS5lbGVtZW50ICYmICFhLmVsZW1lbnQucmVuZGVyVGFyZ2V0XHJcbiAgICAgIGNvbnN0IHJlbmRlck9yZGVyQSA9IGEuZWxlbWVudCA/IGEuZWxlbWVudC5yZW5kZXJPcmRlciA6IDBcclxuICAgICAgY29uc3QgaW5kZXhBID0gYS5lbGVtZW50ID8gYS5lbGVtZW50LmluZGV4IDogMFxyXG5cclxuICAgICAgY29uc3QgaXNQb3N0UHJvQiA9IGIuZWxlbWVudCAmJiAhYi5lbGVtZW50LnJlbmRlclRhcmdldFxyXG4gICAgICBjb25zdCByZW5kZXJPcmRlckIgPSBiLmVsZW1lbnQgPyBiLmVsZW1lbnQucmVuZGVyT3JkZXIgOiAwXHJcbiAgICAgIGNvbnN0IGluZGV4QiA9IGIuZWxlbWVudCA/IGIuZWxlbWVudC5pbmRleCA6IDBcclxuXHJcbiAgICAgIGlmIChpc1Bvc3RQcm9BICYmICFpc1Bvc3RQcm9CKSB7XHJcbiAgICAgICAgcmV0dXJuIDFcclxuICAgICAgfSBlbHNlIGlmICghaXNQb3N0UHJvQSAmJiBpc1Bvc3RQcm9CKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xXHJcbiAgICAgIH0gZWxzZSBpZiAocmVuZGVyT3JkZXJBICE9PSByZW5kZXJPcmRlckIpIHtcclxuICAgICAgICByZXR1cm4gcmVuZGVyT3JkZXJBIC0gcmVuZGVyT3JkZXJCXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGluZGV4QSAtIGluZGV4QlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGEge0BsaW5rIFNoYWRlclBhc3N9IGZyb20gb3VyIHNjZW5lIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuIGFycmF5XHJcbiAgICogQHBhcmFtIHNoYWRlclBhc3MgLSB7QGxpbmsgU2hhZGVyUGFzc30gdG8gcmVtb3ZlXHJcbiAgICovXHJcbiAgcmVtb3ZlU2hhZGVyUGFzcyhzaGFkZXJQYXNzOiBTaGFkZXJQYXNzKSB7XHJcbiAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnNjcmVlbiA9IHRoaXMucmVuZGVyUGFzc0VudHJpZXMuc2NyZWVuLmZpbHRlcihcclxuICAgICAgKGVudHJ5KSA9PiAhZW50cnkuZWxlbWVudCB8fCBlbnRyeS5lbGVtZW50LnV1aWQgIT09IHNoYWRlclBhc3MudXVpZFxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGEge0BsaW5rIFBpbmdQb25nUGxhbmV9IHRvIG91ciBzY2VuZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHBpbmdQb25nIGFycmF5LlxyXG4gICAqIEFmdGVyIHJlbmRlcmluZyB0aGUge0BsaW5rIFBpbmdQb25nUGxhbmV9LCB3ZSB3aWxsIGNvcHkgdGhlIGNvbnRleHQgY3VycmVudCB0ZXh0dXJlIGludG8gaXRzIHtAbGluayBQaW5nUG9uZ1BsYW5lI3JlbmRlclRleHR1cmUgfCByZW5kZXJUZXh0dXJlfSBzbyB3ZSdsbCBiZSBhYmxlIHRvIHVzZSBpdCBhcyBhbiBpbnB1dCBmb3IgdGhlIG5leHQgcGFzc1xyXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vY29kZXNhbmRib3guaW8vcC9zYW5kYm94L3dlYmdwdS1yZW5kZXItcGluZy1wb25nLXRvLXRleHR1cmUtdXNlLWluLXF1YWQtZ3dqeDlwIHwgbWluaW1hbCBjb2RlIGV4YW1wbGV9XHJcbiAgICogQHBhcmFtIHBpbmdQb25nUGxhbmVcclxuICAgKi9cclxuICBhZGRQaW5nUG9uZ1BsYW5lKHBpbmdQb25nUGxhbmU6IFBpbmdQb25nUGxhbmUpIHtcclxuICAgIHRoaXMucmVuZGVyUGFzc0VudHJpZXMucGluZ1BvbmcucHVzaCh7XHJcbiAgICAgIHJlbmRlclBhc3M6IHBpbmdQb25nUGxhbmUucmVuZGVyVGFyZ2V0LnJlbmRlclBhc3MsXHJcbiAgICAgIHJlbmRlclRleHR1cmU6IHBpbmdQb25nUGxhbmUucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUsXHJcbiAgICAgIG9uQmVmb3JlUmVuZGVyUGFzczogbnVsbCxcclxuICAgICAgb25BZnRlclJlbmRlclBhc3M6IChjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSkgPT4ge1xyXG4gICAgICAgIC8vIENvcHkgdGhlIHJlbmRlcmluZyByZXN1bHRzIGZyb20gdGhlIHN3YXBDaGFpblRleHR1cmUgaW50byBvdXIgfHBpbmdQb25nUGxhbmUgdGV4dHVyZXwuXHJcbiAgICAgICAgY29tbWFuZEVuY29kZXIuY29weVRleHR1cmVUb1RleHR1cmUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHRleHR1cmU6IHN3YXBDaGFpblRleHR1cmUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0ZXh0dXJlOiBwaW5nUG9uZ1BsYW5lLnJlbmRlclRleHR1cmUudGV4dHVyZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBbcGluZ1BvbmdQbGFuZS5yZW5kZXJUZXh0dXJlLnNpemUud2lkdGgsIHBpbmdQb25nUGxhbmUucmVuZGVyVGV4dHVyZS5zaXplLmhlaWdodF1cclxuICAgICAgICApXHJcbiAgICAgIH0sXHJcbiAgICAgIGVsZW1lbnQ6IHBpbmdQb25nUGxhbmUsXHJcbiAgICAgIHN0YWNrOiBudWxsLCAvLyBleHBsaWNpdGx5IHNldCB0byBudWxsXHJcbiAgICB9IGFzIFJlbmRlclBhc3NFbnRyeSlcclxuXHJcbiAgICAvLyBzb3J0IGJ5IHRoZWlyIHJlbmRlciBvcmRlclxyXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5waW5nUG9uZy5zb3J0KChhLCBiKSA9PiBhLmVsZW1lbnQucmVuZGVyT3JkZXIgLSBiLmVsZW1lbnQucmVuZGVyT3JkZXIpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgYSB7QGxpbmsgUGluZ1BvbmdQbGFuZX0gZnJvbSBvdXIgc2NlbmUge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBwaW5nUG9uZyBhcnJheS5cclxuICAgKiBAcGFyYW0gcGluZ1BvbmdQbGFuZSAtIHtAbGluayBQaW5nUG9uZ1BsYW5lfSB0byByZW1vdmVcclxuICAgKi9cclxuICByZW1vdmVQaW5nUG9uZ1BsYW5lKHBpbmdQb25nUGxhbmU6IFBpbmdQb25nUGxhbmUpIHtcclxuICAgIHRoaXMucmVuZGVyUGFzc0VudHJpZXMucGluZ1BvbmcgPSB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnBpbmdQb25nLmZpbHRlcihcclxuICAgICAgKGVudHJ5KSA9PiBlbnRyeS5lbGVtZW50LnV1aWQgIT09IHBpbmdQb25nUGxhbmUudXVpZFxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IGFueSByZW5kZXJlZCBvYmplY3Qgb3Ige0BsaW5rIFJlbmRlclRhcmdldH0ge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0uIFVzZWZ1bCB0byBvdmVycmlkZSBhIHtAbGluayBSZW5kZXJQYXNzRW50cnkjb25CZWZvcmVSZW5kZXJQYXNzIHwgUmVuZGVyUGFzc0VudHJ5IG9uQmVmb3JlUmVuZGVyUGFzc30gb3Ige0BsaW5rIFJlbmRlclBhc3NFbnRyeSNvbkFmdGVyUmVuZGVyUGFzcyB8IFJlbmRlclBhc3NFbnRyeSBvbkFmdGVyUmVuZGVyUGFzc30gZGVmYXVsdCBiZWhhdmlvci5cclxuICAgKiBAcGFyYW0gb2JqZWN0IC0gVGhlIG9iamVjdCBmcm9tIHdoaWNoIHdlIHdhbnQgdG8gZ2V0IHRoZSBwYXJlbnRNZXNoIHtAbGluayBSZW5kZXJQYXNzRW50cnl9XHJcbiAgICogQHJldHVybnMgLSB0aGUge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gaWYgZm91bmRcclxuICAgKi9cclxuICBnZXRPYmplY3RSZW5kZXJQYXNzRW50cnkob2JqZWN0OiBSZW5kZXJlZE1lc2ggfCBSZW5kZXJUYXJnZXQpOiBSZW5kZXJQYXNzRW50cnkgfCB1bmRlZmluZWQge1xyXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFJlbmRlclRhcmdldCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQuZmluZCgoZW50cnkpID0+IGVudHJ5LnJlbmRlclBhc3MudXVpZCA9PT0gb2JqZWN0LnJlbmRlclBhc3MudXVpZClcclxuICAgIH0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgUGluZ1BvbmdQbGFuZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5waW5nUG9uZy5maW5kKChlbnRyeSkgPT4gZW50cnkuZWxlbWVudC51dWlkID09PSBvYmplY3QudXVpZClcclxuICAgIH0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgU2hhZGVyUGFzcykge1xyXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW4uZmluZCgoZW50cnkpID0+IGVudHJ5LmVsZW1lbnQ/LnV1aWQgPT09IG9iamVjdC51dWlkKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZW50cnlUeXBlID0gb2JqZWN0LnJlbmRlclRhcmdldCA/ICdyZW5kZXJUYXJnZXQnIDogJ3NjcmVlbidcclxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUGFzc0VudHJpZXNbZW50cnlUeXBlXS5maW5kKChlbnRyeSkgPT4ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAuLi5lbnRyeS5zdGFjay51blByb2plY3RlZC5vcGFxdWUsXHJcbiAgICAgICAgICAuLi5lbnRyeS5zdGFjay51blByb2plY3RlZC50cmFuc3BhcmVudCxcclxuICAgICAgICAgIC4uLmVudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUsXHJcbiAgICAgICAgICAuLi5lbnRyeS5zdGFjay5wcm9qZWN0ZWQudHJhbnNwYXJlbnQsXHJcbiAgICAgICAgXS5zb21lKChtZXNoKSA9PiBtZXNoLnV1aWQgPT09IG9iamVjdC51dWlkKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGVyZSB3ZSByZW5kZXIgYSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fTpcclxuICAgKiAtIFNldCBpdHMge0BsaW5rIFJlbmRlclBhc3MjZGVzY3JpcHRvciB8IHJlbmRlclBhc3MgZGVzY3JpcHRvcn0gdmlldyBvciByZXNvbHZlVGFyZ2V0IGFuZCBnZXQgaXQgYXQgYXMgc3dhcCBjaGFpbiB0ZXh0dXJlXHJcbiAgICogLSBFeGVjdXRlIHtAbGluayBSZW5kZXJQYXNzRW50cnkjb25CZWZvcmVSZW5kZXJQYXNzIHwgb25CZWZvcmVSZW5kZXJQYXNzfSBjYWxsYmFjayBpZiBzcGVjaWZpZWRcclxuICAgKiAtIEJlZ2luIHRoZSB7QGxpbmsgR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFUgcmVuZGVyIHBhc3MgZW5jb2Rlcn0gdXNpbmcgb3VyIHtAbGluayBSZW5kZXJQYXNzI2Rlc2NyaXB0b3IgfCByZW5kZXJQYXNzIGRlc2NyaXB0b3J9XHJcbiAgICogLSBSZW5kZXIgdGhlIHNpbmdsZSBlbGVtZW50IGlmIHNwZWNpZmllZCBvciB0aGUgcmVuZGVyIHBhc3MgZW50cnkge0BsaW5rIFN0YWNrfTogZHJhdyB1bnByb2plY3RlZCBvcGFxdWUgLyB0cmFuc3BhcmVudCBtZXNoZXMgZmlyc3QsIHRoZW4gc2V0IHRoZSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9IGFuZCBkcmF3IHByb2plY3RlZCBvcGFxdWUgLyB0cmFuc3BhcmVudCBtZXNoZXNcclxuICAgKiAtIEVuZCB0aGUge0BsaW5rIEdQVVJlbmRlclBhc3NFbmNvZGVyIHwgR1BVIHJlbmRlciBwYXNzIGVuY29kZXJ9XHJcbiAgICogLSBFeGVjdXRlIHtAbGluayBSZW5kZXJQYXNzRW50cnkjb25BZnRlclJlbmRlclBhc3MgfCBvbkFmdGVyUmVuZGVyUGFzc30gY2FsbGJhY2sgaWYgc3BlY2lmaWVkXHJcbiAgICogLSBSZXNldCB7QGxpbmsgY29yZS9waXBlbGluZXMvUGlwZWxpbmVNYW5hZ2VyLlBpcGVsaW5lTWFuYWdlciNjdXJyZW50UGlwZWxpbmVJbmRleCB8IHBpcGVsaW5lIG1hbmFnZXIgY3VycmVudCBwaXBlbGluZX1cclxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cclxuICAgKiBAcGFyYW0gcmVuZGVyUGFzc0VudHJ5IC0ge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gdG8gcmVuZGVyXHJcbiAgICovXHJcbiAgcmVuZGVyU2luZ2xlUGFzc0VudHJ5KGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlciwgcmVuZGVyUGFzc0VudHJ5OiBSZW5kZXJQYXNzRW50cnkpIHtcclxuICAgIC8vIHNldCB0aGUgcGFzcyB0ZXh0dXJlIHRvIHJlbmRlciB0b1xyXG4gICAgY29uc3Qgc3dhcENoYWluVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyUGFzc0N1cnJlbnRUZXh0dXJlKFxyXG4gICAgICByZW5kZXJQYXNzRW50cnkucmVuZGVyUGFzcyxcclxuICAgICAgcmVuZGVyUGFzc0VudHJ5LnJlbmRlclRleHR1cmU/LnRleHR1cmVcclxuICAgIClcclxuXHJcbiAgICByZW5kZXJQYXNzRW50cnkub25CZWZvcmVSZW5kZXJQYXNzICYmIHJlbmRlclBhc3NFbnRyeS5vbkJlZm9yZVJlbmRlclBhc3MoY29tbWFuZEVuY29kZXIsIHN3YXBDaGFpblRleHR1cmUpXHJcblxyXG4gICAgLy8gbm93IGJlZ2luIG91ciBhY3R1YWwgcmVuZGVyIHBhc3NcclxuICAgIGNvbnN0IHBhc3MgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3MocmVuZGVyUGFzc0VudHJ5LnJlbmRlclBhc3MuZGVzY3JpcHRvcilcclxuXHJcbiAgICAvLyBwYXNzIGVudHJpZXMgY2FuIGhhdmUgYSBzaW5nbGUgZWxlbWVudCBvciBhIHN0YWNrXHJcbiAgICBpZiAocmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQpIHtcclxuICAgICAgcmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQucmVuZGVyKHBhc3MpXHJcbiAgICB9IGVsc2UgaWYgKHJlbmRlclBhc3NFbnRyeS5zdGFjaykge1xyXG4gICAgICAvLyBkcmF3IHVuUHJvamVjdGVkIHJlZ3VsYXIgbWVzaGVzXHJcbiAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay51blByb2plY3RlZC5vcGFxdWUuZm9yRWFjaCgobWVzaCkgPT4gbWVzaC5yZW5kZXIocGFzcykpXHJcbiAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay51blByb2plY3RlZC50cmFuc3BhcmVudC5mb3JFYWNoKChtZXNoKSA9PiBtZXNoLnJlbmRlcihwYXNzKSlcclxuXHJcbiAgICAgIC8vIHRoZW4gZHJhdyBwcm9qZWN0ZWQgbWVzaGVzXHJcbiAgICAgIGlmIChyZW5kZXJQYXNzRW50cnkuc3RhY2sucHJvamVjdGVkLm9wYXF1ZS5sZW5ndGggfHwgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC50cmFuc3BhcmVudC5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoKHRoaXMucmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpLmNhbWVyYUJpbmRHcm91cCkge1xyXG4gICAgICAgICAgLy8gc2V0IGNhbWVyYSBiaW5kIGdyb3VwIG9uY2VcclxuICAgICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKFxyXG4gICAgICAgICAgICAodGhpcy5yZW5kZXJlciBhcyBDYW1lcmFSZW5kZXJlcikuY2FtZXJhQmluZEdyb3VwLmluZGV4LFxyXG4gICAgICAgICAgICAodGhpcy5yZW5kZXJlciBhcyBDYW1lcmFSZW5kZXJlcikuY2FtZXJhQmluZEdyb3VwLmJpbmRHcm91cFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUuZm9yRWFjaCgobWVzaCkgPT4gbWVzaC5yZW5kZXIocGFzcykpXHJcbiAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC50cmFuc3BhcmVudC5mb3JFYWNoKChtZXNoKSA9PiBtZXNoLnJlbmRlcihwYXNzKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhc3MuZW5kKClcclxuXHJcbiAgICByZW5kZXJQYXNzRW50cnkub25BZnRlclJlbmRlclBhc3MgJiYgcmVuZGVyUGFzc0VudHJ5Lm9uQWZ0ZXJSZW5kZXJQYXNzKGNvbW1hbmRFbmNvZGVyLCBzd2FwQ2hhaW5UZXh0dXJlKVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIucGlwZWxpbmVNYW5hZ2VyLnJlc2V0Q3VycmVudFBpcGVsaW5lKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlciBvdXIge0BsaW5rIFNjZW5lfVxyXG4gICAqIC0gUmVuZGVyIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGZpcnN0XHJcbiAgICogLSBUaGVuIG91ciB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9XHJcbiAgICogQHBhcmFtIGNvbW1hbmRFbmNvZGVyIC0gY3VycmVudCB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9XHJcbiAgICovXHJcbiAgcmVuZGVyKGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2Rlcikge1xyXG4gICAgdGhpcy5jb21wdXRlUGFzc0VudHJpZXMuZm9yRWFjaCgoY29tcHV0ZVBhc3MpID0+IHtcclxuICAgICAgY29uc3QgcGFzcyA9IGNvbW1hbmRFbmNvZGVyLmJlZ2luQ29tcHV0ZVBhc3MoKVxyXG4gICAgICBjb21wdXRlUGFzcy5yZW5kZXIocGFzcylcclxuICAgICAgcGFzcy5lbmQoKVxyXG5cclxuICAgICAgY29tcHV0ZVBhc3MuY29weUJ1ZmZlclRvUmVzdWx0KGNvbW1hbmRFbmNvZGVyKVxyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlci5waXBlbGluZU1hbmFnZXIucmVzZXRDdXJyZW50UGlwZWxpbmUoKVxyXG4gICAgfSlcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlbmRlclBhc3NFbnRyeVR5cGUgaW4gdGhpcy5yZW5kZXJQYXNzRW50cmllcykge1xyXG4gICAgICBsZXQgcGFzc0RyYXduQ291bnQgPSAwXHJcblxyXG4gICAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzW3JlbmRlclBhc3NFbnRyeVR5cGVdLmZvckVhY2goKHJlbmRlclBhc3NFbnRyeSwgaW5kZXgpID0+IHtcclxuICAgICAgICAvLyBlYXJseSBiYWlsIGlmIHRoZXJlJ3Mgbm90aGluZyB0byBkcmF3XHJcbiAgICAgICAgaWYgKCF0aGlzLmdldFJlbmRlclBhc3NFbnRyeUxlbmd0aChyZW5kZXJQYXNzRW50cnkpKSByZXR1cm5cclxuXHJcbiAgICAgICAgLy8gaWYgd2UncmUgZHJhd2luZyB0byBzY3JlZW4gYW5kIGl0J3Mgbm90IG91ciBmaXJzdCBwYXNzLCBsb2FkIHJlc3VsdCBmcm9tIHByZXZpb3VzIHBhc3Nlc1xyXG4gICAgICAgIC8vIHBvc3QgcHJvY2Vzc2luZyBzY2VuZSBwYXNzIHdpbGwgY2xlYXIgY29udGVudCBpbnNpZGUgb25CZWZvcmVSZW5kZXJQYXNzIGFueXdheVxyXG4gICAgICAgIHJlbmRlclBhc3NFbnRyeS5yZW5kZXJQYXNzLnNldExvYWRPcChcclxuICAgICAgICAgIHJlbmRlclBhc3NFbnRyeVR5cGUgPT09ICdzY3JlZW4nICYmIHBhc3NEcmF3bkNvdW50ICE9PSAwID8gJ2xvYWQnIDogJ2NsZWFyJ1xyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgcGFzc0RyYXduQ291bnQrK1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlclNpbmdsZVBhc3NFbnRyeShjb21tYW5kRW5jb2RlciwgcmVuZGVyUGFzc0VudHJ5KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiogRGVmaW5lcyBhIHRhc2sgcXVldWUgaXRlbSAqL1xuZXhwb3J0IGludGVyZmFjZSBUYXNrUXVldWVJdGVtIHtcbiAgLyoqIFVuaXF1ZSBpZCBvZiB0aGUgdGFzayBxdWV1ZSBpdGVtICovXG4gIGlkOiBudW1iZXJcbiAgLyoqIFByaW9yaXR5IG9yZGVyIGluIHRoZSB7QGxpbmsgVGFza3NRdWV1ZU1hbmFnZXIjcXVldWUgfCB0YXNrcyBxdWV1ZSBhcnJheX0gKi9cbiAgb3JkZXI6IG51bWJlclxuICAvKiogQ2FsbGJhY2sgdG8gZXhlY3V0ZSAqL1xuICBjYWxsYmFjazogKGFyZ3M/OiBhbnkpID0+IHZvaWRcbiAgLyoqIFdoZXRoZXIgdG8gZXhlY3V0ZSB0aGUgdGFzayBvbmx5IG9uY2UgYW5kIHRoZW0gYXV0b21hdGljYWxseSByZW1vdmUgaXQgZnJvbSB0aGUge0BsaW5rIFRhc2tzUXVldWVNYW5hZ2VyI3F1ZXVlIHwgdGFza3MgcXVldWUgYXJyYXl9ICovXG4gIG9uY2U6IGJvb2xlYW5cbn1cblxuLyoqIFBhcmFtZXRlcnMgdXNlZCB0byBhZGQgYSB0YXNrIHRvIHRoZSB7QGxpbmsgVGFza3NRdWV1ZU1hbmFnZXIjcXVldWUgfCB0YXNrcyBxdWV1ZSBhcnJheX0gKi9cbmV4cG9ydCB0eXBlIFRhc2tRdWV1ZUl0ZW1QYXJhbXMgPSBQYXJ0aWFsPE9taXQ8VGFza1F1ZXVlSXRlbSwgJ2lkJyB8ICdjYWxsYmFjayc+PlxuXG4vKipcbiAqIFVzZWQgdG8ga2VlcCB0cmFjayBvZiBhIGJ1bmNoIG9mIGNhbGxiYWNrcyBhbmQgZXhlY3V0ZSB0aGVtIGluIHRoZSByaWdodCBvcmRlciB3aGVuIG5lZWRlZFxuICovXG5leHBvcnQgY2xhc3MgVGFza3NRdWV1ZU1hbmFnZXIge1xuICAvKiogQXJyYXkgb2Yge0BsaW5rIFRhc2tRdWV1ZUl0ZW0gfCB0YXNrIHF1ZXVlIGl0ZW19IHRvIGV4ZWN1dGUgKi9cbiAgcXVldWU6IFRhc2tRdWV1ZUl0ZW1bXVxuICAvKiogUHJpdmF0ZSBudW1iZXIgdG8gYXNzaWduIGEgdW5pcXVlIGlkIHRvIGVhY2gge0BsaW5rIFRhc2tRdWV1ZUl0ZW0gfCB0YXNrIHF1ZXVlIGl0ZW19ICovXG4gICN0YXNrQ291bnQgPSAwXG5cbiAgLyoqXG4gICAqIFRhc2tRdWV1ZU1hbmFnZXIgY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucXVldWUgPSBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfSB0byB0aGUgcXVldWVcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gYWRkIHRvIHRoZSB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgVGFza1F1ZXVlSXRlbVBhcmFtcyB8IHBhcmFtZXRlcnN9IG9mIHRoZSB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX0gdG8gYWRkXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFRhc2tRdWV1ZUl0ZW0jaWQgfCBpZH0gb2YgdGhlIG5ldyB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX0sIHVzZWZ1bCB0byBsYXRlciByZW1vdmUgdGhlIHRhc2sgaWYgbmVlZGVkXG4gICAqL1xuICBhZGQoXG4gICAgY2FsbGJhY2s6IFRhc2tRdWV1ZUl0ZW1bJ2NhbGxiYWNrJ10gPSAoYXJncz86IGFueSkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2tzICovXG4gICAgfSxcbiAgICB7IG9yZGVyID0gdGhpcy5xdWV1ZS5sZW5ndGgsIG9uY2UgPSBmYWxzZSB9ID0ge30gYXMgVGFza1F1ZXVlSXRlbVBhcmFtc1xuICApOiBUYXNrUXVldWVJdGVtWydpZCddIHtcbiAgICBjb25zdCB0YXNrID0ge1xuICAgICAgY2FsbGJhY2ssXG4gICAgICBvcmRlcixcbiAgICAgIG9uY2UsXG4gICAgICBpZDogdGhpcy4jdGFza0NvdW50LFxuICAgIH1cblxuICAgIC8vIGluY3JlbWVudCBpZFxuICAgIHRoaXMuI3Rhc2tDb3VudCsrXG5cbiAgICB0aGlzLnF1ZXVlLnB1c2godGFzaylcbiAgICB0aGlzLnF1ZXVlLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlclxuICAgIH0pXG5cbiAgICByZXR1cm4gdGFzay5pZFxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfSBmcm9tIHRoZSBxdWV1ZVxuICAgKiBAcGFyYW0gdGFza0lkIC0ge0BsaW5rIFRhc2tRdWV1ZUl0ZW0jaWQgfCBpZH0gb2YgdGhlIG5ldyB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmUodGFza0lkID0gMCkge1xuICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmZpbHRlcigodGFzaykgPT4gdGFzay5pZCAhPT0gdGFza0lkKVxuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgdGhlIHtAbGluayBUYXNrc1F1ZXVlTWFuYWdlciNxdWV1ZSB8IHRhc2tzIHF1ZXVlIGFycmF5fVxuICAgKi9cbiAgZXhlY3V0ZShhcmdzPzogYW55KSB7XG4gICAgdGhpcy5xdWV1ZS5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICB0YXNrLmNhbGxiYWNrKGFyZ3MpXG5cbiAgICAgIC8vIGlmIGl0IHdhcyBhIG9uZSB0aW1lIGNhbGxiYWNrLCByZW1vdmUgaXRcbiAgICAgIGlmICh0YXNrLm9uY2UpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUodGFzay5pZClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBQaXBlbGluZU1hbmFnZXIgfSBmcm9tICcuLi9waXBlbGluZXMvUGlwZWxpbmVNYW5hZ2VyJ1xuaW1wb3J0IHsgRE9NRWxlbWVudCwgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB9IGZyb20gJy4uL0RPTS9ET01FbGVtZW50J1xuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICcuLi9zY2VuZXMvU2NlbmUnXG5pbXBvcnQgeyBSZW5kZXJQYXNzLCBSZW5kZXJQYXNzUGFyYW1zIH0gZnJvbSAnLi4vcmVuZGVyUGFzc2VzL1JlbmRlclBhc3MnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQsIHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuXG5pbXBvcnQgeyBDb21wdXRlUGFzcyB9IGZyb20gJy4uL2NvbXB1dGVQYXNzZXMvQ29tcHV0ZVBhc3MnXG5pbXBvcnQgeyBQaW5nUG9uZ1BsYW5lIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvbWVzaGVzL1BpbmdQb25nUGxhbmUnXG5pbXBvcnQgeyBTaGFkZXJQYXNzIH0gZnJvbSAnLi4vcmVuZGVyUGFzc2VzL1NoYWRlclBhc3MnXG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuLi9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0J1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBTYW1wbGVyIH0gZnJvbSAnLi4vc2FtcGxlcnMvU2FtcGxlcidcblxuaW1wb3J0IHsgRE9NTWVzaCB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL21lc2hlcy9ET01NZXNoJ1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9tZXNoZXMvUGxhbmUnXG5pbXBvcnQgeyBNZXNoIH0gZnJvbSAnLi4vbWVzaGVzL01lc2gnXG5pbXBvcnQgeyBUYXNrc1F1ZXVlTWFuYWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL1Rhc2tzUXVldWVNYW5hZ2VyJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBHUFVEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9HUFVEZXZpY2VNYW5hZ2VyJ1xuaW1wb3J0IHsgRnVsbHNjcmVlblBsYW5lIH0gZnJvbSAnLi4vbWVzaGVzL0Z1bGxzY3JlZW5QbGFuZSdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEdQVVJlbmRlcmVyfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdQVVJlbmRlcmVyUGFyYW1zIHtcbiAgLyoqIFRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVUmVuZGVyZXJ9ICovXG4gIGRldmljZU1hbmFnZXI6IEdQVURldmljZU1hbmFnZXJcbiAgLyoqIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc2VsZWN0b3IgdXNlZCBhcyBhIGNvbnRhaW5lciBmb3Igb3VyIHtAbGluayBHUFVSZW5kZXJlciNjYW52YXMgfCBjYW52YXN9ICovXG4gIGNvbnRhaW5lcjogc3RyaW5nIHwgSFRNTEVsZW1lbnRcbiAgLyoqIFBpeGVsIHJhdGlvIHRvIHVzZSBmb3IgcmVuZGVyaW5nICovXG4gIHBpeGVsUmF0aW8/OiBudW1iZXJcbiAgLyoqIFRleHR1cmUgcmVuZGVyaW5nIHtAbGluayBHUFVUZXh0dXJlRm9ybWF0IHwgcHJlZmVycmVkIGZvcm1hdH0gKi9cbiAgcHJlZmVycmVkRm9ybWF0PzogR1BVVGV4dHVyZUZvcm1hdFxuICAvKiogU2V0IHRoZSB7QGxpbmsgR1BVQ2FudmFzQ29udGV4dCB8IGNvbnRleHR9IGFscGhhIG1vZGUgKi9cbiAgYWxwaGFNb2RlPzogR1BVQ2FudmFzQWxwaGFNb2RlXG5cbiAgLyoqIFdoZXRoZXIgdGhlIHtAbGluayBHUFVSZW5kZXJlcn0gc2hvdWxkIGFkZCBhbiBleHRyYSB7QGxpbmsgU2hhZGVyUGFzc30gTVNBQSBwYXNzIGFmdGVyIGRyYXdpbmcgdGhlIHdob2xlIHNjZW5lLiAqL1xuICBtdWx0aXNhbXBsZWQ/OiBib29sZWFuXG5cbiAgLyoqIFRoZSB7QGxpbmsgR1BVUmVuZGVyZXIjcmVuZGVyUGFzcyB8IHJlbmRlcmVyIFJlbmRlclBhc3N9IHBhcmFtZXRlcnMgKi9cbiAgcmVuZGVyUGFzcz86IHtcbiAgICAvKiogV2hldGhlciB0aGUge0BsaW5rIEdQVVJlbmRlcmVyI3JlbmRlclBhc3MgfCByZW5kZXJlciBSZW5kZXJQYXNzfSBzaG91bGQgaGFuZGxlIGRlcHRoLiBEZWZhdWx0IHRvIGB0cnVlYCAqL1xuICAgIGRlcHRoOiBSZW5kZXJQYXNzUGFyYW1zWydkZXB0aCddXG4gICAgLyoqIFRoZSB7QGxpbmsgR1BVUmVuZGVyZXIjcmVuZGVyUGFzcyB8IHJlbmRlcmVyIFJlbmRlclBhc3N9IHNhbXBsZSBjb3VudCAoaS5lLiB3aGV0aGVyIGl0IHNob3VsZCB1c2UgbXVsdGlzYW1wbGVkIGFudGlhbGlhc2luZykuIERlZmF1bHQgdG8gYDRgICovXG4gICAgc2FtcGxlQ291bnQ6IFJlbmRlclBhc3NQYXJhbXNbJ3NhbXBsZUNvdW50J11cbiAgICAvKiogVGhlIHtAbGluayBHUFVDb2xvciB8IGNvbG9yIHZhbHVlc30gdG8gY2xlYXIgdG8gYmVmb3JlIGRyYXdpbmcgdGhlIHtAbGluayBHUFVSZW5kZXJlciNyZW5kZXJQYXNzIHwgcmVuZGVyZXIgUmVuZGVyUGFzc30uIERlZmF1bHQgdG8gYFswLCAwLCAwLCAwXWAgKi9cbiAgICBjbGVhclZhbHVlOiBHUFVDb2xvclxuICB9XG59XG5cbi8qKiBBbnkgTWVzaCB0aGF0IGlzIGJvdW5kIHRvIGEgRE9NIEVsZW1lbnQgKi9cbmV4cG9ydCB0eXBlIERPTVByb2plY3RlZE1lc2ggPSBET01NZXNoIHwgUGxhbmVcbi8qKiBBbnkgTWVzaCB0aGF0IGlzIHByb2plY3RlZCAoaS5lIHVzZSBhIHtAbGluayBjb3JlL2NhbWVyYS9DYW1lcmEuQ2FtZXJhIHwgQ2FtZXJhfSB0byBjb21wdXRlIGEgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeCkgKi9cbmV4cG9ydCB0eXBlIFByb2plY3RlZE1lc2ggPSBNZXNoIHwgRE9NUHJvamVjdGVkTWVzaFxuLyoqIEFueSBNZXNoIHRoYXQgY2FuIGJlIGRyYXduLCBpbmNsdWRpbmcgZnVsbHNjcmVlbiBxdWFkIG1lc2hlcyB1c2VkIGZvciBwb3N0IHByb2Nlc3NpbmcgKi9cbmV4cG9ydCB0eXBlIFJlbmRlcmVkTWVzaCA9IFByb2plY3RlZE1lc2ggfCBQaW5nUG9uZ1BsYW5lIHwgU2hhZGVyUGFzcyB8IEZ1bGxzY3JlZW5QbGFuZVxuLyoqIEFueSBNZXNoIG9yIENvbXB1dGUgcGFzcyAqL1xuZXhwb3J0IHR5cGUgU2NlbmVPYmplY3QgPSBSZW5kZXJlZE1lc2ggfCBDb21wdXRlUGFzc1xuXG4vKipcbiAqIEJhc2UgcmVuZGVyZXIgY2xhc3MsIHRoYXQgY291bGQgdGVjaG5pY2FsbHkgYmUgdXNlZCB0byByZW5kZXIgY29tcHV0ZSBwYXNzZXMgYW5kIGRyYXcgZnVsbHNjcmVlbiBxdWFkcywgZXZlbiB0aG8gaXQgaXMgc3Ryb25nbHkgYWR2aXNlZCB0byB1c2UgYXQgbGVhc3QgdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVDYW1lcmFSZW5kZXJlci5HUFVDYW1lcmFSZW5kZXJlciB8IEdQVUNhbWVyYVJlbmRlcmVyfSBjbGFzcyBpbnN0ZWFkLlxuICogQSByZW5kZXJlciBpcyByZXNwb25zaWJsZSBmb3I6XG4gKiAtIFNldHRpbmcgYSB7QGxpbmsgR1BVQ2FudmFzQ29udGV4dCB8IGNvbnRleHR9XG4gKiAtIEhhbmRsaW5nIHRoZSB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnQgfCBjYW52YXN9IG9udG8gZXZlcnl0aGluZyBpcyBkcmF3blxuICogLSBDcmVhdGluZyBhIHtAbGluayBSZW5kZXJQYXNzfSB0aGF0IHdpbGwgaGFuZGxlIG91ciByZW5kZXIgYW5kIGRlcHRoIHRleHR1cmVzIGFuZCB0aGUgcmVuZGVyIHBhc3MgZGVzY3JpcHRvclxuICogLSBLZWVwaW5nIHRyYWNrIG9mIGV2ZXJ5IHNwZWNpZmljIGNsYXNzIG9iamVjdHMgY3JlYXRlZCByZWxhdGl2ZSB0byBjb21wdXRpbmcgYW5kIHJlbmRlcmluZ1xuICogLSBDcmVhdGluZyBhIHtAbGluayBTY2VuZX0gY2xhc3MgdGhhdCB3aWxsIHRha2UgY2FyZSBvZiB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgb2YgYWxsIHByZXZpb3VzbHkgbWVudGlvbmVkIG9iamVjdHNcbiAqL1xuZXhwb3J0IGNsYXNzIEdQVVJlbmRlcmVyIHtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgR1BVUmVuZGVyZXJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgR1BVUmVuZGVyZXJ9ICovXG4gIHJlYWRvbmx5IHV1aWQ6IHN0cmluZ1xuXG4gIC8qKiBUaGUge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVVJlbmRlcmVyfSAqL1xuICBkZXZpY2VNYW5hZ2VyOiBHUFVEZXZpY2VNYW5hZ2VyXG5cbiAgLyoqIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gb250byBldmVyeXRoaW5nIGlzIGRyYXduICovXG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcbiAgLyoqIFRoZSBXZWJHUFUge0BsaW5rIEdQVUNhbnZhc0NvbnRleHQgfCBjb250ZXh0fSB1c2VkICovXG4gIGNvbnRleHQ6IG51bGwgfCBHUFVDYW52YXNDb250ZXh0XG4gIC8qKiBTZXQgdGhlIHtAbGluayBHUFVDYW52YXNDb250ZXh0IHwgY29udGV4dH0gYWxwaGEgbW9kZSAqL1xuICBhbHBoYU1vZGU/OiBHUFVDYW52YXNBbHBoYU1vZGVcblxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVSZW5kZXJlcn0gKi9cbiAgb3B0aW9uczogR1BVUmVuZGVyZXJQYXJhbXNcblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIEdQVVJlbmRlcmVyfSBzaG91bGQgYWRkIGFuIGV4dHJhIHtAbGluayBTaGFkZXJQYXNzfSBNU0FBIHBhc3MgYWZ0ZXIgZHJhd2luZyB0aGUgd2hvbGUgc2NlbmUuICovXG4gIG11bHRpc2FtcGxlZDogYm9vbGVhblxuICAvKiogVGhlIHtAbGluayBSZW5kZXJQYXNzIHwgcmVuZGVyIHBhc3N9IHVzZWQgdG8gcmVuZGVyIG91ciByZXN1bHQgdG8gc2NyZWVuICovXG4gIHJlbmRlclBhc3M6IFJlbmRlclBhc3NcbiAgLyoqIEFkZGl0aW9uYWwge0BsaW5rIFJlbmRlclBhc3MgfCByZW5kZXIgcGFzc30gdXNlZCBieSB7QGxpbmsgU2hhZGVyUGFzc30gZm9yIGNvbXBvc2l0aW5nIC8gcG9zdCBwcm9jZXNzaW5nLiBEb2VzIG5vdCBoYW5kbGUgZGVwdGggKi9cbiAgcG9zdFByb2Nlc3NpbmdQYXNzOiBSZW5kZXJQYXNzXG5cbiAgLyoqIHtAbGluayBSZW5kZXJQYXNzIHwgTXVsdGlzYW1wbGVkIHJlbmRlciBwYXNzfSB1c2VkIGJ5IGFuIGludGVybmFsIHtAbGluayBTaGFkZXJQYXNzfSBmb3IgTVNBQSwgaWYge0BsaW5rIG11bHRpc2FtcGxlZH0gaXMgc2V0IHRvIGB0cnVlYCAqL1xuICAvL211bHRpc2FtcGxpbmdQYXNzOiBSZW5kZXJQYXNzIHwgdW5kZWZpbmVkXG5cbiAgLyoqIFRoZSB7QGxpbmsgU2NlbmV9IHVzZWQgKi9cbiAgc2NlbmU6IFNjZW5lXG5cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBDb21wdXRlUGFzc30gKi9cbiAgY29tcHV0ZVBhc3NlczogQ29tcHV0ZVBhc3NbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFBpbmdQb25nUGxhbmV9ICovXG4gIHBpbmdQb25nUGxhbmVzOiBQaW5nUG9uZ1BsYW5lW11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBTaGFkZXJQYXNzfSAqL1xuICBzaGFkZXJQYXNzZXM6IFNoYWRlclBhc3NbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFJlbmRlclRhcmdldH0gKi9cbiAgcmVuZGVyVGFyZ2V0czogUmVuZGVyVGFyZ2V0W11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBQcm9qZWN0ZWRNZXNoIHwgcHJvamVjdGVkIG1lc2hlc30gKi9cbiAgbWVzaGVzOiBQcm9qZWN0ZWRNZXNoW11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBSZW5kZXJUZXh0dXJlfSAqL1xuICByZW5kZXJUZXh0dXJlczogUmVuZGVyVGV4dHVyZVtdXG5cbiAgLyoqIFBpeGVsIHJhdGlvIHRvIHVzZSBmb3IgcmVuZGVyaW5nICovXG4gIHBpeGVsUmF0aW86IG51bWJlclxuXG4gIC8qKiB7QGxpbmsgRE9NRWxlbWVudH0gdGhhdCB3aWxsIHRyYWNrIG91ciBjYW52YXMgY29udGFpbmVyIHNpemUgKi9cbiAgZG9tRWxlbWVudDogRE9NRWxlbWVudFxuXG4gIC8qKiBBbGxvdyB0byBhZGQgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIGF0IGVhY2ggcmVuZGVyIGJlZm9yZSB0aGUge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfSBpcyBjcmVhdGVkICovXG4gIG9uQmVmb3JlQ29tbWFuZEVuY29kZXJDcmVhdGlvbjogVGFza3NRdWV1ZU1hbmFnZXJcbiAgLyoqIEFsbG93IHRvIGFkZCBjYWxsYmFja3MgdG8gYmUgZXhlY3V0ZWQgYXQgZWFjaCByZW5kZXIgYWZ0ZXIgdGhlIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gaGFzIGJlZW4gY3JlYXRlZCBidXQgYmVmb3JlIHRoZSB7QGxpbmsgU2NlbmV9IGlzIHJlbmRlcmVkICovXG4gIG9uQmVmb3JlUmVuZGVyU2NlbmU6IFRhc2tzUXVldWVNYW5hZ2VyXG4gIC8qKiBBbGxvdyB0byBhZGQgY2FsbGJhY2tzIHRvIGJlIGV4ZWN1dGVkIGF0IGVhY2ggcmVuZGVyIGFmdGVyIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIGFmdGVyIHRoZSB7QGxpbmsgU2NlbmV9IGhhcyBiZWVuIHJlbmRlcmVkICovXG4gIG9uQWZ0ZXJSZW5kZXJTY2VuZTogVGFza3NRdWV1ZU1hbmFnZXJcbiAgLyoqIEFsbG93IHRvIGFkZCBjYWxsYmFja3MgdG8gYmUgZXhlY3V0ZWQgYXQgZWFjaCByZW5kZXIgYWZ0ZXIgdGhlIHtAbGluayBTY2VuZX0gaGFzIGJlZW4gcmVuZGVyZWQgYW5kIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9IGhhcyBiZWVuIHN1Ym1pdHRlZCAqL1xuICBvbkFmdGVyQ29tbWFuZEVuY29kZXJTdWJtaXNzaW9uOiBUYXNrc1F1ZXVlTWFuYWdlclxuXG4gIC8vIGNhbGxiYWNrcyAvIGV2ZW50c1xuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkJlZm9yZVJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgPSAoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkFmdGVyUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfb25BZnRlclJlbmRlckNhbGxiYWNrID0gKGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlcikgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlc2l6ZX0gY2FsbGJhY2sgKi9cbiAgX29uQWZ0ZXJSZXNpemVDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG5cbiAgLyoqXG4gICAqIEdQVVJlbmRlcmVyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVVJlbmRlcmVyUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVUmVuZGVyZXJ9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGV2aWNlTWFuYWdlcixcbiAgICBjb250YWluZXIsXG4gICAgcGl4ZWxSYXRpbyA9IDEsXG4gICAgcHJlZmVycmVkRm9ybWF0LFxuICAgIGFscGhhTW9kZSA9ICdwcmVtdWx0aXBsaWVkJyxcbiAgICBtdWx0aXNhbXBsZWQgPSB0cnVlLFxuICAgIHJlbmRlclBhc3MsXG4gIH06IEdQVVJlbmRlcmVyUGFyYW1zKSB7XG4gICAgdGhpcy50eXBlID0gJ0dQVVJlbmRlcmVyJ1xuICAgIHRoaXMudXVpZCA9IGdlbmVyYXRlVVVJRCgpXG5cbiAgICB0aGlzLmRldmljZU1hbmFnZXIgPSBkZXZpY2VNYW5hZ2VyXG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLmFkZFJlbmRlcmVyKHRoaXMpXG5cbiAgICAvLyByZW5kZXIgcGFzcyBkZWZhdWx0IHZhbHVlc1xuICAgIHJlbmRlclBhc3MgPSB7IC4uLnsgZGVwdGg6IHRydWUsIHNhbXBsZUNvdW50OiA0LCBjbGVhclZhbHVlOiBbMCwgMCwgMCwgMF0gfSwgLi4ucmVuZGVyUGFzcyB9XG4gICAgcHJlZmVycmVkRm9ybWF0ID0gcHJlZmVycmVkRm9ybWF0ID8/IHRoaXMuZGV2aWNlTWFuYWdlci5ncHU/LmdldFByZWZlcnJlZENhbnZhc0Zvcm1hdCgpXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBkZXZpY2VNYW5hZ2VyLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGFscGhhTW9kZSxcbiAgICAgIG11bHRpc2FtcGxlZCxcbiAgICAgIHJlbmRlclBhc3MsXG4gICAgfVxuXG4gICAgdGhpcy5waXhlbFJhdGlvID0gcGl4ZWxSYXRpbyA/PyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA/PyAxXG4gICAgdGhpcy5hbHBoYU1vZGUgPSBhbHBoYU1vZGVcblxuICAgIHRoaXMuc2V0VGFza3NRdWV1ZXMoKVxuICAgIHRoaXMuc2V0UmVuZGVyZXJPYmplY3RzKClcblxuICAgIC8vIGNyZWF0ZSB0aGUgY2FudmFzXG4gICAgY29uc3QgaXNDb250YWluZXJDYW52YXMgPSBjb250YWluZXIgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudFxuICAgIHRoaXMuY2FudmFzID0gaXNDb250YWluZXJDYW52YXMgPyAoY29udGFpbmVyIGFzIEhUTUxDYW52YXNFbGVtZW50KSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG5cbiAgICAvLyBuZWVkZWQgdG8gZ2V0IGNvbnRhaW5lciBib3VuZGluZyBib3hcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBuZXcgRE9NRWxlbWVudCh7XG4gICAgICBlbGVtZW50OiBjb250YWluZXIsXG4gICAgICBwcmlvcml0eTogNSwgLy8gcmVuZGVyZXIgY2FsbGJhY2sgbmVlZCB0byBiZSBjYWxsZWQgZmlyc3RcbiAgICAgIG9uU2l6ZUNoYW5nZWQ6IChib3VuZGluZ1JlY3QpID0+IHRoaXMucmVzaXplKGJvdW5kaW5nUmVjdCksXG4gICAgfSlcblxuICAgIGlmICghaXNDb250YWluZXJDYW52YXMpIHtcbiAgICAgIC8vIGFwcGVuZCB0aGUgY2FudmFzXG4gICAgICB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcylcbiAgICB9XG5cbiAgICAvLyBkZXZpY2UgaXMgYWxyZWFkeSBhdmFpbGFibGU/IGNyZWF0ZSB0aGUgY29udGV4dCFcbiAgICBpZiAodGhpcy5kZXZpY2VNYW5hZ2VyLmRldmljZSkge1xuICAgICAgdGhpcy5zZXRDb250ZXh0KClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHtAbGluayBjYW52YXN9IHNpemVcbiAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIG5ldyB7QGxpbmsgZG9tRWxlbWVudCB8IERPTSBFbGVtZW50fSB7QGxpbmsgRE9NRWxlbWVudCNib3VuZGluZ1JlY3QgfCBib3VuZGluZyByZWN0YW5nbGV9XG4gICAqL1xuICBzZXRTaXplKGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCkge1xuICAgIGNvbnN0IGRldmljZVBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA/PyAxXG4gICAgY29uc3Qgc2NhbGVCb3VuZGluZ1JlY3QgPSB0aGlzLnBpeGVsUmF0aW8gLyBkZXZpY2VQaXhlbFJhdGlvXG5cbiAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IE1hdGguZmxvb3IoYm91bmRpbmdSZWN0LndpZHRoKSArICdweCdcbiAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgPSBNYXRoLmZsb29yKGJvdW5kaW5nUmVjdC5oZWlnaHQpICsgJ3B4J1xuXG4gICAgY29uc3QgcmVuZGVyaW5nU2l6ZSA9IHtcbiAgICAgIHdpZHRoOiBNYXRoLmZsb29yKGJvdW5kaW5nUmVjdC53aWR0aCAqIHNjYWxlQm91bmRpbmdSZWN0KSxcbiAgICAgIGhlaWdodDogTWF0aC5mbG9vcihib3VuZGluZ1JlY3QuaGVpZ2h0ICogc2NhbGVCb3VuZGluZ1JlY3QpLFxuICAgIH1cblxuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5kZXZpY2VcbiAgICAgID8gTWF0aC5taW4ocmVuZGVyaW5nU2l6ZS53aWR0aCwgdGhpcy5kZXZpY2UubGltaXRzLm1heFRleHR1cmVEaW1lbnNpb24yRClcbiAgICAgIDogcmVuZGVyaW5nU2l6ZS53aWR0aFxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuZGV2aWNlXG4gICAgICA/IE1hdGgubWluKHJlbmRlcmluZ1NpemUuaGVpZ2h0LCB0aGlzLmRldmljZS5saW1pdHMubWF4VGV4dHVyZURpbWVuc2lvbjJEKVxuICAgICAgOiByZW5kZXJpbmdTaXplLmhlaWdodFxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBvdXIge0BsaW5rIEdQVVJlbmRlcmVyfVxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX1cbiAgICovXG4gIHJlc2l6ZShib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsID0gbnVsbCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtZW50ICYmICFib3VuZGluZ1JlY3QpIHJldHVyblxuXG4gICAgaWYgKCFib3VuZGluZ1JlY3QpIGJvdW5kaW5nUmVjdCA9IHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG5cbiAgICB0aGlzLnNldFNpemUoYm91bmRpbmdSZWN0KVxuXG4gICAgdGhpcy5vblJlc2l6ZSgpXG5cbiAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgJiYgdGhpcy5fb25BZnRlclJlc2l6ZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgYWxsIHRyYWNrZWQgb2JqZWN0c1xuICAgKi9cbiAgb25SZXNpemUoKSB7XG4gICAgLy8gcmVzaXplIHJlbmRlciAmIHNoYWRlciBwYXNzZXNcbiAgICB0aGlzLnJlbmRlclBhc3M/LnJlc2l6ZSgpXG4gICAgdGhpcy5wb3N0UHJvY2Vzc2luZ1Bhc3M/LnJlc2l6ZSgpXG4gICAgLy90aGlzLm11bHRpc2FtcGxpbmdQYXNzPy5yZXNpemUoKVxuXG4gICAgdGhpcy5yZW5kZXJUYXJnZXRzLmZvckVhY2goKHJlbmRlclRhcmdldCkgPT4gcmVuZGVyVGFyZ2V0LnJlc2l6ZSh0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QpKVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMuZm9yRWFjaCgocmVuZGVyVGV4dHVyZSkgPT4gcmVuZGVyVGV4dHVyZS5yZXNpemUoKSlcblxuICAgIC8vIGZvcmNlIGNvbXB1dGUgcGFzc2VzIG9uQWZ0ZXJSZXNpemUgY2FsbGJhY2tcbiAgICB0aGlzLmNvbXB1dGVQYXNzZXMuZm9yRWFjaCgoY29tcHV0ZVBhc3MpID0+IGNvbXB1dGVQYXNzLnJlc2l6ZSgpKVxuXG4gICAgLy8gbm93IHJlc2l6ZSBtZXNoZXMgdGhhdCBhcmUgYm91bmQgdG8gdGhlIHJlbmRlcmVyIHNpemVcbiAgICAvLyBlc3BlY2lhbGx5IHVzZWZ1bCB0byByZXNpemUgcmVuZGVyIHRleHR1cmVzXG4gICAgdGhpcy5waW5nUG9uZ1BsYW5lcy5mb3JFYWNoKChwaW5nUG9uZ1BsYW5lKSA9PiBwaW5nUG9uZ1BsYW5lLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdCkpXG4gICAgdGhpcy5zaGFkZXJQYXNzZXMuZm9yRWFjaCgoc2hhZGVyUGFzcykgPT4gc2hhZGVyUGFzcy5yZXNpemUodGhpcy5ib3VuZGluZ1JlY3QpKVxuICAgIHRoaXMubWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgIGlmICghKCdkb21FbGVtZW50JyBpbiBtZXNoKSkge1xuICAgICAgICAvLyByZXNpemUgbWVzaGVzIHRoYXQgZG8gbm90IGhhdmUgYSBib3VuZCBET00gZWxlbWVudFxuICAgICAgICBtZXNoLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub25CZWZvcmVDb21tYW5kRW5jb2RlckNyZWF0aW9uLmFkZChcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb24gZm9yIERPTSBtZXNoZXMgb25seSBpZiB0aGV5J3JlIG5vdCBjdXJyZW50bHkgYmVpbmcgcmVzaXplZFxuICAgICAgICAgICAgaWYgKCFtZXNoLmRvbUVsZW1lbnQuaXNSZXNpemluZykge1xuICAgICAgICAgICAgICBtZXNoLmRvbUVsZW1lbnQuc2V0U2l6ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX1cbiAgICovXG4gIGdldCBib3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB7XG4gICAgaWYgKCEhdGhpcy5kb21FbGVtZW50LmJvdW5kaW5nUmVjdCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5ib3VuZGluZ1JlY3RcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYm91bmRpbmdSZWN0ID0gdGhpcy5kb21FbGVtZW50LmVsZW1lbnQ/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IGJvdW5kaW5nUmVjdC50b3AsXG4gICAgICAgIHJpZ2h0OiBib3VuZGluZ1JlY3QucmlnaHQsXG4gICAgICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSxcbiAgICAgICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgICAgIHdpZHRoOiBib3VuZGluZ1JlY3Qud2lkdGgsXG4gICAgICAgIGhlaWdodDogYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgICAgeDogYm91bmRpbmdSZWN0LngsXG4gICAgICAgIHk6IGJvdW5kaW5nUmVjdC55LFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX0gYWNjb3VudGluZyBmb3IgY3VycmVudCB7QGxpbmsgcGl4ZWxSYXRpbyB8IHBpeGVsIHJhdGlvfVxuICAgKi9cbiAgZ2V0IHBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB7XG4gICAgY29uc3QgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8/IDFcbiAgICBjb25zdCBzY2FsZUJvdW5kaW5nUmVjdCA9IHRoaXMucGl4ZWxSYXRpbyAvIGRldmljZVBpeGVsUmF0aW9cblxuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmJvdW5kaW5nUmVjdCkucmVkdWNlKFxuICAgICAgKGEsIGtleSkgPT4gKHsgLi4uYSwgW2tleV06IHRoaXMuYm91bmRpbmdSZWN0W2tleV0gKiBzY2FsZUJvdW5kaW5nUmVjdCB9KSxcbiAgICAgIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIC8qIFVTRUZVTCBERVZJQ0UgTUFOQUdFUiBPQkpFQ1RTICovXG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBkZXZpY2UoKTogR1BVRGV2aWNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLmRldmljZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gaXMgcmVhZHkgKGkuZS4gaXRzIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2FkYXB0ZXIgfCBhZGFwdGVyfSBhbmQge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBhcmUgc2V0KSBpdHMge0BsaW5rIGNvbnRleHR9IGlzIHNldCBhbmQgaXRzIHNpemUgaXMgc2V0XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIucmVhZHkgJiYgISF0aGlzLmNvbnRleHQgJiYgISF0aGlzLmNhbnZhcy5zdHlsZS53aWR0aFxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjcHJvZHVjdGlvbiB8IEdQVURldmljZU1hbmFnZXIgcHJvZHVjdGlvbiBmbGFnfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBwcm9kdWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIucHJvZHVjdGlvblxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGNyZWF0ZWQge0BsaW5rIEdQVURldmljZU1hbmFnZXIjc2FtcGxlcnMgfCBzYW1wbGVyc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2FtcGxlcnMoKTogU2FtcGxlcltdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLnNhbXBsZXJzXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNidWZmZXJzIHwgR1BVIGJ1ZmZlcnN9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGJ1ZmZlcnMoKTogR1BVQnVmZmVyW10ge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIuYnVmZmVyc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjcGlwZWxpbmVNYW5hZ2VyIHwgcGlwZWxpbmUgbWFuYWdlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcGlwZWxpbmVNYW5hZ2VyKCk6IFBpcGVsaW5lTWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5waXBlbGluZU1hbmFnZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSByZW5kZXJlZCBvYmplY3RzIChpLmUuIGNvbXB1dGUgcGFzc2VzLCBtZXNoZXMsIHBpbmcgcG9uZyBwbGFuZXMgYW5kIHNoYWRlciBwYXNzZXMpIGNyZWF0ZWQgYnkgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBkZXZpY2VSZW5kZXJlZE9iamVjdHMoKTogU2NlbmVPYmplY3RbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5kZXZpY2VSZW5kZXJlZE9iamVjdHNcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgb3VyIHtAbGluayBjb250ZXh0fSB3aXRoIHRoZSBnaXZlbiBvcHRpb25zXG4gICAqL1xuICBjb25maWd1cmVDb250ZXh0KCkge1xuICAgIHRoaXMuY29udGV4dC5jb25maWd1cmUoe1xuICAgICAgZGV2aWNlOiB0aGlzLmRldmljZSxcbiAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGFscGhhTW9kZTogdGhpcy5hbHBoYU1vZGUsXG4gICAgICAvLyBuZWVkZWQgc28gd2UgY2FuIGNvcHkgdGV4dHVyZXMgZm9yIHBvc3QgcHJvY2Vzc2luZyB1c2FnZVxuICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcbiAgICAgIC8vdmlld0Zvcm1hdHM6IFtdXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBjb250ZXh0fSBpZiBwb3NzaWJsZSBhbmQgc2V0IHtAbGluayByZW5kZXJQYXNzIHwgbWFpbiByZW5kZXIgcGFzc30gYW5kIHtAbGluayBzY2VuZX1cbiAgICovXG4gIHNldENvbnRleHQoKSB7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ3B1JylcblxuICAgIGlmICh0aGlzLmRldmljZSkge1xuICAgICAgdGhpcy5jb25maWd1cmVDb250ZXh0KClcblxuICAgICAgdGhpcy5zZXRNYWluUmVuZGVyUGFzc2VzKClcbiAgICAgIHRoaXMuc2V0U2NlbmUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBpcyBsb3N0LlxuICAgKiBGb3JjZSBhbGwgb3VyIHNjZW5lIG9iamVjdHMgdG8gbG9zZSBjb250ZXh0LlxuICAgKi9cbiAgbG9zZUNvbnRleHQoKSB7XG4gICAgLy8gZm9yY2UgYWxsIG91ciBzY2VuZSBvYmplY3RzIHRvIGxvc2UgY29udGV4dFxuICAgIHRoaXMucmVuZGVyZWRPYmplY3RzLmZvckVhY2goKHNjZW5lT2JqZWN0KSA9PiBzY2VuZU9iamVjdC5sb3NlQ29udGV4dCgpKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IHNob3VsZCBiZSByZXN0b3JlZC5cbiAgICogQ29uZmlndXJlIHRoZSBjb250ZXh0IGFnYWluLCByZXNpemUgdGhlIHtAbGluayBSZW5kZXJUYXJnZXQgfCByZW5kZXIgdGFyZ2V0c30gYW5kIHtAbGluayBSZW5kZXJUZXh0dXJlIHwgcmVuZGVyIHRleHR1cmVzfSwgcmVzdG9yZSBvdXIge0BsaW5rIHJlbmRlcmVkT2JqZWN0cyB8IHJlbmRlcmVkIG9iamVjdHN9IGNvbnRleHQuXG4gICAqIEBhc3luY1xuICAgKi9cbiAgcmVzdG9yZUNvbnRleHQoKSB7XG4gICAgdGhpcy5jb25maWd1cmVDb250ZXh0KClcblxuICAgIC8vIHJlY3JlYXRlIGFsbCByZW5kZXIgdGV4dHVyZXMgZmlyc3RcbiAgICB0aGlzLnJlbmRlclRleHR1cmVzLmZvckVhY2goKHJlbmRlclRleHR1cmUpID0+IHtcbiAgICAgIHJlbmRlclRleHR1cmUuZm9yY2VSZXNpemUoe1xuICAgICAgICB3aWR0aDogTWF0aC5mbG9vcih0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3Qud2lkdGgpLFxuICAgICAgICBoZWlnaHQ6IE1hdGguZmxvb3IodGhpcy5waXhlbFJhdGlvQm91bmRpbmdSZWN0LmhlaWdodCksXG4gICAgICAgIGRlcHRoOiAxLFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gcmVzaXplIHJlbmRlciBwYXNzZXMvcmVjcmVhdGUgdGhlaXIgdGV4dHVyZXNcbiAgICB0aGlzLnJlbmRlclBhc3M/LnJlc2l6ZSgpXG4gICAgdGhpcy5wb3N0UHJvY2Vzc2luZ1Bhc3M/LnJlc2l6ZSgpXG4gICAgLy90aGlzLm11bHRpc2FtcGxpbmdQYXNzPy5yZXNpemUoKVxuXG4gICAgdGhpcy5yZW5kZXJUYXJnZXRzLmZvckVhY2goKHJlbmRlclRhcmdldCkgPT4gcmVuZGVyVGFyZ2V0LnJlc2l6ZSh0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QpKVxuXG4gICAgLy8gcmVzdG9yZSBjb250ZXh0IG9mIGFsbCBvdXIgc2NlbmUgb2JqZWN0c1xuICAgIHRoaXMucmVuZGVyZWRPYmplY3RzLmZvckVhY2goKHNjZW5lT2JqZWN0KSA9PiBzY2VuZU9iamVjdC5yZXN0b3JlQ29udGV4dCgpKVxuICB9XG5cbiAgLyogUElQRUxJTkVTLCBTQ0VORSAmIE1BSU4gUkVOREVSIFBBU1MgKi9cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgcmVuZGVyUGFzcyB8IG1haW4gcmVuZGVyIHBhc3N9IHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgcmVzdWx0IG9mIG91ciBkcmF3IGNvbW1hbmRzIGJhY2sgdG8gdGhlIHNjcmVlblxuICAgKi9cbiAgc2V0TWFpblJlbmRlclBhc3NlcygpIHtcbiAgICAvLyBUT0RPIGhhbmRsZSBtdWx0aXNhbXBsaW5nIGRpZmZlcmVudGx5P1xuICAgIC8vIGNmOiBodHRwczovL3dlYmdwdWZ1bmRhbWVudGFscy5vcmcvd2ViZ3B1L2xlc3NvbnMvd2ViZ3B1LW11bHRpc2FtcGxpbmcuaHRtbCN5b3UtZG8tbm90LWhhdmUtdG8tc2V0LWEtcmVzb2x2ZS10YXJnZXQtb24tZXZlcnktcmVuZGVyLXBhc3NcbiAgICB0aGlzLnJlbmRlclBhc3MgPSBuZXcgUmVuZGVyUGFzcyh0aGlzLCB7XG4gICAgICBsYWJlbDogJ01haW4gcmVuZGVyIHBhc3MnLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0aGlzLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0LFxuICAgICAgLi4udGhpcy5vcHRpb25zLnJlbmRlclBhc3MsXG4gICAgfSlcblxuICAgIHRoaXMucG9zdFByb2Nlc3NpbmdQYXNzID0gbmV3IFJlbmRlclBhc3ModGhpcywge1xuICAgICAgbGFiZWw6ICdQb3N0IHByb2Nlc3NpbmcgcmVuZGVyIHBhc3MnLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0aGlzLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0LFxuICAgICAgZGVwdGg6IGZhbHNlLFxuICAgICAgc2FtcGxlQ291bnQ6IHRoaXMub3B0aW9ucy5yZW5kZXJQYXNzLnNhbXBsZUNvdW50LCAvLyBUT0RPP1xuICAgIH0pXG5cbiAgICAvLyBUT0RPXG4gICAgLy8gaWYgKHRoaXMub3B0aW9ucy5tdWx0aXNhbXBsZWQpIHtcbiAgICAvLyAgIHRoaXMubXVsdGlzYW1wbGluZ1Bhc3MgPSBuZXcgUmVuZGVyUGFzcyh0aGlzLCB7XG4gICAgLy8gICAgIGxhYmVsOiAnTVNBQSByZW5kZXIgcGFzcycsXG4gICAgLy8gICAgIHRhcmdldEZvcm1hdDogdGhpcy5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAvLyAgICAgZGVwdGg6IGZhbHNlLFxuICAgIC8vICAgICBsb2FkT3A6ICdsb2FkJyxcbiAgICAvLyAgICAgc2FtcGxlQ291bnQ6IDQsXG4gICAgLy8gICB9KVxuICAgIC8vXG4gICAgLy8gICBjb25zdCByZXNvbHZlVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMsIHtcbiAgICAvLyAgICAgbGFiZWw6ICdNU0FBIHJlbmRlciBwYXNzIHJlc29sdmUgdGV4dHVyZScsXG4gICAgLy8gICAgIG5hbWU6ICdyZXNvbHZlVGV4dHVyZScsXG4gICAgLy8gICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyAgIHRoaXMubXVsdGlzYW1wbGluZ1Bhc3MuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLnJlc29sdmVUYXJnZXQgPSByZXNvbHZlVGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgIC8vICAgICBsYWJlbDogJ01TQUEgcmVuZGVyIHBhc3MgcmVzb2x2ZSB0ZXh0dXJlIHZpZXcnLFxuICAgIC8vICAgfSlcbiAgICAvLyB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgc2NlbmV9XG4gICAqL1xuICBzZXRTY2VuZSgpIHtcbiAgICB0aGlzLnNjZW5lID0gbmV3IFNjZW5lKHsgcmVuZGVyZXI6IHRoaXMgfSlcbiAgfVxuXG4gIC8qIEJVRkZFUlMgJiBCSU5ESU5HUyAqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB7QGxpbmsgR1BVQnVmZmVyfVxuICAgKiBAcGFyYW0gYnVmZmVyRGVzY3JpcHRvciAtIHtAbGluayBHUFVCdWZmZXJEZXNjcmlwdG9yIHwgR1BVIGJ1ZmZlciBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVUJ1ZmZlcn1cbiAgICovXG4gIGNyZWF0ZUJ1ZmZlcihidWZmZXJEZXNjcmlwdG9yOiBHUFVCdWZmZXJEZXNjcmlwdG9yKTogR1BVQnVmZmVyIHtcbiAgICBjb25zdCBidWZmZXIgPSB0aGlzLmRldmljZT8uY3JlYXRlQnVmZmVyKGJ1ZmZlckRlc2NyaXB0b3IpXG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLmFkZEJ1ZmZlcihidWZmZXIpXG4gICAgcmV0dXJuIGJ1ZmZlclxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBHUFVCdWZmZXJ9IGZyb20gb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2J1ZmZlcnMgfCBHUFUgYnVmZmVycyBhcnJheX1cbiAgICogQHBhcmFtIGJ1ZmZlciAtIHtAbGluayBHUFVCdWZmZXJ9IHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gW29yaWdpbmFsTGFiZWxdIC0gb3JpZ2luYWwge0BsaW5rIEdQVUJ1ZmZlcn0gbGFiZWwgaW4gY2FzZSB0aGUgYnVmZmVyIGhhcyBiZWVuIHN3YXBwZWQgYW5kIGl0cyBsYWJlbCBoYXMgY2hhbmdlZFxuICAgKi9cbiAgcmVtb3ZlQnVmZmVyKGJ1ZmZlcjogR1BVQnVmZmVyLCBvcmlnaW5hbExhYmVsPzogc3RyaW5nKSB7XG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLnJlbW92ZUJ1ZmZlcihidWZmZXIsIG9yaWdpbmFsTGFiZWwpXG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgdG8gYSB7QGxpbmsgR1BVQnVmZmVyfVxuICAgKiBAcGFyYW0gYnVmZmVyIC0ge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gd3JpdGUgdG9cbiAgICogQHBhcmFtIGJ1ZmZlck9mZnNldCAtIHtAbGluayBHUFVTaXplNjQgfCBidWZmZXIgb2Zmc2V0fVxuICAgKiBAcGFyYW0gZGF0YSAtIHtAbGluayBCdWZmZXJTb3VyY2UgfCBkYXRhfSB0byB3cml0ZVxuICAgKi9cbiAgcXVldWVXcml0ZUJ1ZmZlcihidWZmZXI6IEdQVUJ1ZmZlciwgYnVmZmVyT2Zmc2V0OiBHUFVTaXplNjQsIGRhdGE6IEJ1ZmZlclNvdXJjZSkge1xuICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS53cml0ZUJ1ZmZlcihidWZmZXIsIGJ1ZmZlck9mZnNldCwgZGF0YSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IGEgc291cmNlIHtAbGluayBHUFVCdWZmZXJ9IGludG8gYSBkZXN0aW5hdGlvbiB7QGxpbmsgR1BVQnVmZmVyfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byByZWFsaXplIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLnNyY0J1ZmZlciAtIHNvdXJjZSB7QGxpbmsgR1BVQnVmZmVyfVxuICAgKiBAcGFyYW0gW3BhcmFtZXRlcnMuZHN0QnVmZmVyXSAtIGRlc3RpbmF0aW9uIHtAbGluayBHUFVCdWZmZXJ9LiBXaWxsIGNyZWF0ZSBhIG5ldyBvbmUgaWYgbm9uZSBwcm92aWRlZC5cbiAgICogQHBhcmFtIFtwYXJhbWV0ZXJzLmNvbW1hbmRFbmNvZGVyXSAtIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gdG8gdXNlIGZvciB0aGUgY29weS4gV2lsbCBjcmVhdGUgYSBuZXcgb25lIGFuZCBzdWJtaXQgdGhlIGNvbW1hbmQgYnVmZmVyIGlmIG5vbmUgcHJvdmlkZWQuXG4gICAqIEByZXR1cm5zIC0gZGVzdGluYXRpb24ge0BsaW5rIEdQVUJ1ZmZlcn0gYWZ0ZXIgY29weVxuICAgKi9cbiAgY29weUJ1ZmZlclRvQnVmZmVyKHtcbiAgICBzcmNCdWZmZXIsXG4gICAgZHN0QnVmZmVyLFxuICAgIGNvbW1hbmRFbmNvZGVyLFxuICB9OiB7XG4gICAgc3JjQnVmZmVyOiBHUFVCdWZmZXJcbiAgICBkc3RCdWZmZXI/OiBHUFVCdWZmZXJcbiAgICBjb21tYW5kRW5jb2Rlcj86IEdQVUNvbW1hbmRFbmNvZGVyXG4gIH0pOiBHUFVCdWZmZXIgfCBudWxsIHtcbiAgICBpZiAoIXNyY0J1ZmZlcikge1xuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMudHlwZX06IGNhbm5vdCBjb3B5IHRvIGJ1ZmZlciBiZWNhdXNlIHRoZSBzb3VyY2UgYnVmZmVyIGhhcyBub3QgYmVlbiBwcm92aWRlZGApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmICghZHN0QnVmZmVyKSB7XG4gICAgICBkc3RCdWZmZXIgPSB0aGlzLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgIGxhYmVsOiB0aGlzLnR5cGUgKyAnOiBkZXN0aW5hdGlvbiBjb3B5IGJ1ZmZlciBmcm9tOiAnICsgc3JjQnVmZmVyLmxhYmVsLFxuICAgICAgICBzaXplOiBzcmNCdWZmZXIuc2l6ZSxcbiAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLk1BUF9SRUFEIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChzcmNCdWZmZXIubWFwU3RhdGUgIT09ICd1bm1hcHBlZCcpIHtcbiAgICAgIHRocm93V2FybmluZyhgJHt0aGlzLnR5cGV9OiBDYW5ub3QgY29weSBmcm9tICR7c3JjQnVmZmVyfSBiZWNhdXNlIGl0IGlzIGN1cnJlbnRseSBtYXBwZWRgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmIChkc3RCdWZmZXIubWFwU3RhdGUgIT09ICd1bm1hcHBlZCcpIHtcbiAgICAgIHRocm93V2FybmluZyhgJHt0aGlzLnR5cGV9OiBDYW5ub3QgY29weSBmcm9tICR7ZHN0QnVmZmVyfSBiZWNhdXNlIGl0IGlzIGN1cnJlbnRseSBtYXBwZWRgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gaWYgdGhlcmUncyBubyBjb21tYW5kIGVuY29kZXIgcHJvdmlkZWQsIHdlJ2xsIGhhdmUgdG8gY3JlYXRlIG9uZSBhbmQgc3VibWl0IGl0IGFmdGVyIHRoZSBjb3B5IHByb2Nlc3NcbiAgICBjb25zdCBoYXNDb21tYW5kRW5jb2RlciA9ICEhY29tbWFuZEVuY29kZXJcblxuICAgIGlmICghaGFzQ29tbWFuZEVuY29kZXIpIHtcbiAgICAgIGNvbW1hbmRFbmNvZGVyID0gdGhpcy5kZXZpY2U/LmNyZWF0ZUNvbW1hbmRFbmNvZGVyKHsgbGFiZWw6ICdDb3B5IGJ1ZmZlciBjb21tYW5kIGVuY29kZXInIH0pXG4gICAgfVxuXG4gICAgY29tbWFuZEVuY29kZXIuY29weUJ1ZmZlclRvQnVmZmVyKHNyY0J1ZmZlciwgMCwgZHN0QnVmZmVyLCAwLCBkc3RCdWZmZXIuc2l6ZSlcblxuICAgIGlmICghaGFzQ29tbWFuZEVuY29kZXIpIHtcbiAgICAgIGNvbnN0IGNvbW1hbmRCdWZmZXIgPSBjb21tYW5kRW5jb2Rlci5maW5pc2goKVxuICAgICAgdGhpcy5kZXZpY2U/LnF1ZXVlLnN1Ym1pdChbY29tbWFuZEJ1ZmZlcl0pXG4gICAgfVxuXG4gICAgcmV0dXJuIGRzdEJ1ZmZlclxuICB9XG5cbiAgLyogQklORCBHUk9VUFMgJiBMQVlPVVRTICovXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgY3JlYXRlZCB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0cmFja2VkIGJ5IG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYmluZEdyb3VwcygpOiBBbGxvd2VkQmluZEdyb3Vwc1tdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLmJpbmRHcm91cHNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzIGFycmF5fVxuICAgKiBAcGFyYW0gYmluZEdyb3VwIC0ge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdG8gYWRkXG4gICAqL1xuICBhZGRCaW5kR3JvdXAoYmluZEdyb3VwOiBBbGxvd2VkQmluZEdyb3Vwcykge1xuICAgIHRoaXMuZGV2aWNlTWFuYWdlci5hZGRCaW5kR3JvdXAoYmluZEdyb3VwKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IGZyb20gb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2JpbmRHcm91cHMgfCBiaW5kIGdyb3VwcyBhcnJheX1cbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlQmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIucmVtb3ZlQmluZEdyb3VwKGJpbmRHcm91cClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fVxuICAgKiBAcGFyYW0gYmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvciAtIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yIHwgR1BVIGJpbmQgZ3JvdXAgbGF5b3V0IGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fVxuICAgKi9cbiAgY3JlYXRlQmluZEdyb3VwTGF5b3V0KGJpbmRHcm91cExheW91dERlc2NyaXB0b3I6IEdQVUJpbmRHcm91cExheW91dERlc2NyaXB0b3IpOiBHUFVCaW5kR3JvdXBMYXlvdXQge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlQmluZEdyb3VwTGF5b3V0KGJpbmRHcm91cExheW91dERlc2NyaXB0b3IpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVUJpbmRHcm91cH1cbiAgICogQHBhcmFtIGJpbmRHcm91cERlc2NyaXB0b3IgLSB7QGxpbmsgR1BVQmluZEdyb3VwRGVzY3JpcHRvciB8IEdQVSBiaW5kIGdyb3VwIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVQmluZEdyb3VwfVxuICAgKi9cbiAgY3JlYXRlQmluZEdyb3VwKGJpbmRHcm91cERlc2NyaXB0b3I6IEdQVUJpbmRHcm91cERlc2NyaXB0b3IpOiBHUFVCaW5kR3JvdXAge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlQmluZEdyb3VwKGJpbmRHcm91cERlc2NyaXB0b3IpXG4gIH1cblxuICAvKiBTSEFERVJTICYgUElQRUxJTkVTICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVTaGFkZXJNb2R1bGV9XG4gICAqIEBwYXJhbSBzaGFkZXJNb2R1bGVEZXNjcmlwdG9yIC0ge0BsaW5rIHNoYWRlck1vZHVsZURlc2NyaXB0b3IgfCBzaGFkZXIgbW9kdWxlIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfVxuICAgKi9cbiAgY3JlYXRlU2hhZGVyTW9kdWxlKHNoYWRlck1vZHVsZURlc2NyaXB0b3I6IEdQVVNoYWRlck1vZHVsZURlc2NyaXB0b3IpOiBHUFVTaGFkZXJNb2R1bGUge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlU2hhZGVyTW9kdWxlKHNoYWRlck1vZHVsZURlc2NyaXB0b3IpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0fVxuICAgKiBAcGFyYW0gcGlwZWxpbmVMYXlvdXREZXNjcmlwdG9yIC0ge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0RGVzY3JpcHRvciB8IEdQVSBwaXBlbGluZSBsYXlvdXQgZGVzY3JpcHRvcn1cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBHUFVQaXBlbGluZUxheW91dH1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lTGF5b3V0KHBpcGVsaW5lTGF5b3V0RGVzY3JpcHRvcjogR1BVUGlwZWxpbmVMYXlvdXREZXNjcmlwdG9yKTogR1BVUGlwZWxpbmVMYXlvdXQge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlUGlwZWxpbmVMYXlvdXQocGlwZWxpbmVMYXlvdXREZXNjcmlwdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX1cbiAgICogQHBhcmFtIHBpcGVsaW5lRGVzY3JpcHRvciAtIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3IgfCBHUFUgcmVuZGVyIHBpcGVsaW5lIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9XG4gICAqL1xuICBjcmVhdGVSZW5kZXJQaXBlbGluZShwaXBlbGluZURlc2NyaXB0b3I6IEdQVVJlbmRlclBpcGVsaW5lRGVzY3JpcHRvcik6IEdQVVJlbmRlclBpcGVsaW5lIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZVJlbmRlclBpcGVsaW5lKHBpcGVsaW5lRGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBjcmVhdGUgYSB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKiBAcGFyYW0gcGlwZWxpbmVEZXNjcmlwdG9yIC0ge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lRGVzY3JpcHRvciB8IEdQVSByZW5kZXIgcGlwZWxpbmUgZGVzY3JpcHRvcn1cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX1cbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJlbmRlclBpcGVsaW5lQXN5bmMocGlwZWxpbmVEZXNjcmlwdG9yOiBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3IpOiBQcm9taXNlPEdQVVJlbmRlclBpcGVsaW5lPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGV2aWNlPy5jcmVhdGVSZW5kZXJQaXBlbGluZUFzeW5jKHBpcGVsaW5lRGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lfVxuICAgKiBAcGFyYW0gcGlwZWxpbmVEZXNjcmlwdG9yIC0ge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZURlc2NyaXB0b3IgfCBHUFUgY29tcHV0ZSBwaXBlbGluZSBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX1cbiAgICovXG4gIGNyZWF0ZUNvbXB1dGVQaXBlbGluZShwaXBlbGluZURlc2NyaXB0b3I6IEdQVUNvbXB1dGVQaXBlbGluZURlc2NyaXB0b3IpOiBHUFVDb21wdXRlUGlwZWxpbmUge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlQ29tcHV0ZVBpcGVsaW5lKHBpcGVsaW5lRGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBjcmVhdGUgYSB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lfVxuICAgKiBAYXN5bmNcbiAgICogQHBhcmFtIHBpcGVsaW5lRGVzY3JpcHRvciAtIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yIHwgR1BVIGNvbXB1dGUgcGlwZWxpbmUgZGVzY3JpcHRvcn1cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9XG4gICAqL1xuICBhc3luYyBjcmVhdGVDb21wdXRlUGlwZWxpbmVBc3luYyhwaXBlbGluZURlc2NyaXB0b3I6IEdQVUNvbXB1dGVQaXBlbGluZURlc2NyaXB0b3IpOiBQcm9taXNlPEdQVUNvbXB1dGVQaXBlbGluZT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRldmljZT8uY3JlYXRlQ29tcHV0ZVBpcGVsaW5lQXN5bmMocGlwZWxpbmVEZXNjcmlwdG9yKVxuICB9XG5cbiAgLyogVEVYVFVSRVMgKi9cblxuICAvKipcbiAgICogR2V0IGFsbCBjcmVhdGVkIHtAbGluayBUZXh0dXJlfSB0cmFja2VkIGJ5IG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXMoKTogVGV4dHVyZVtdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLnRleHR1cmVzXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9IHRvIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciN0ZXh0dXJlcyB8IHRleHR1cmVzIGFycmF5fVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSB0byBhZGRcbiAgICovXG4gIGFkZFRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgIHRoaXMuZGV2aWNlTWFuYWdlci5hZGRUZXh0dXJlKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIFRleHR1cmV9IGZyb20gb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI3RleHR1cmVzIHwgdGV4dHVyZXMgYXJyYXl9XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLnJlbW92ZVRleHR1cmUodGV4dHVyZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gb3VyIHtAbGluayByZW5kZXJUZXh0dXJlc30gYXJyYXlcbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gYWRkXG4gICAqL1xuICBhZGRSZW5kZXJUZXh0dXJlKHRleHR1cmU6IFJlbmRlclRleHR1cmUpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmVzLnB1c2godGV4dHVyZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gZnJvbSBvdXIge0BsaW5rIHJlbmRlclRleHR1cmVzfSBhcnJheVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBSZW5kZXJUZXh0dXJlfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVJlbmRlclRleHR1cmUodGV4dHVyZTogUmVuZGVyVGV4dHVyZSkge1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMgPSB0aGlzLnJlbmRlclRleHR1cmVzLmZpbHRlcigodCkgPT4gdC51dWlkICE9PSB0ZXh0dXJlLnV1aWQpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVVRleHR1cmV9XG4gICAqIEBwYXJhbSB0ZXh0dXJlRGVzY3JpcHRvciAtIHtAbGluayBHUFVUZXh0dXJlRGVzY3JpcHRvciB8IEdQVSB0ZXh0dXJlIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVVGV4dHVyZX1cbiAgICovXG4gIGNyZWF0ZVRleHR1cmUodGV4dHVyZURlc2NyaXB0b3I6IEdQVVRleHR1cmVEZXNjcmlwdG9yKTogR1BVVGV4dHVyZSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlPy5jcmVhdGVUZXh0dXJlKHRleHR1cmVEZXNjcmlwdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZCBhIHtAbGluayBUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSB0byB0aGUgR1BVXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IGNsYXNzIG9iamVjdCB3aXRoIHRoZSB7QGxpbmsgVGV4dHVyZSN0ZXh0dXJlIHwgdGV4dHVyZX0gdG8gdXBsb2FkXG4gICAqL1xuICB1cGxvYWRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIudXBsb2FkVGV4dHVyZSh0ZXh0dXJlKVxuICB9XG5cbiAgLyoqXG4gICAqIEltcG9ydCBhIHtAbGluayBHUFVFeHRlcm5hbFRleHR1cmV9XG4gICAqIEBwYXJhbSB2aWRlbyAtIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2VcbiAgICogQHJldHVybnMgLSB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfVxuICAgKi9cbiAgaW1wb3J0RXh0ZXJuYWxUZXh0dXJlKHZpZGVvOiBIVE1MVmlkZW9FbGVtZW50KTogR1BVRXh0ZXJuYWxUZXh0dXJlIHtcbiAgICAvLyBUT0RPIFdlYkNvZGVjcyBtYXkgYmUgdGhlIHdheSB0byBnbyB3aGVuIHRpbWUgY29tZXMhXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9ibG9nL25ldy1pbi13ZWJncHUtMTEzLyN1c2Utd2ViY29kZWNzLXZpZGVvZnJhbWUtc291cmNlLWluLWltcG9ydGV4dGVybmFsdGV4dHVyZVxuICAgIC8vIHNlZSBvblZpZGVvRnJhbWVDYWxsYmFjayBtZXRob2QgaW4gVGV4dHVyZSBjbGFzc1xuICAgIC8vIGNvbnN0IHZpZGVvRnJhbWUgPSBuZXcgVmlkZW9GcmFtZSh2aWRlbylcbiAgICAvLyByZXR1cm4gdGhpcy5kZXZpY2U/LmltcG9ydEV4dGVybmFsVGV4dHVyZSh7IHNvdXJjZTogdmlkZW9GcmFtZSB9KVxuICAgIHJldHVybiB0aGlzLmRldmljZT8uaW1wb3J0RXh0ZXJuYWxUZXh0dXJlKHsgc291cmNlOiB2aWRlbyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEge0BsaW5rIFNhbXBsZXJ9IGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBzYW1lIHtAbGluayBTYW1wbGVyI29wdGlvbnMgfCBwYXJhbWV0ZXJzfS5cbiAgICogVXNlIGl0IGlmIGZvdW5kLCBlbHNlIGNyZWF0ZSBhIG5ldyBvbmUgYW5kIGFkZCBpdCB0byB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjc2FtcGxlcnMgfCBzYW1wbGVycyBhcnJheX0uXG4gICAqIEBwYXJhbSBzYW1wbGVyIC0ge0BsaW5rIFNhbXBsZXJ9IHRvIGNyZWF0ZVxuICAgKiBAcmV0dXJucyAtIHRoZSB7QGxpbmsgR1BVU2FtcGxlcn1cbiAgICovXG4gIGNyZWF0ZVNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcik6IEdQVVNhbXBsZXIge1xuICAgIGNvbnN0IGV4aXN0aW5nU2FtcGxlciA9IHRoaXMuc2FtcGxlcnMuZmluZCgoZXhpc3RpbmdTYW1wbGVyKSA9PiB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdTYW1wbGVyLm9wdGlvbnMpID09PSBKU09OLnN0cmluZ2lmeShzYW1wbGVyLm9wdGlvbnMpICYmIGV4aXN0aW5nU2FtcGxlci5zYW1wbGVyXG4gICAgfSlcblxuICAgIGlmIChleGlzdGluZ1NhbXBsZXIpIHtcbiAgICAgIHJldHVybiBleGlzdGluZ1NhbXBsZXIuc2FtcGxlclxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IHR5cGUsIC4uLnNhbXBsZXJPcHRpb25zIH0gPSBzYW1wbGVyLm9wdGlvbnNcbiAgICAgIGNvbnN0IGdwdVNhbXBsZXI6IEdQVVNhbXBsZXIgPSB0aGlzLmRldmljZT8uY3JlYXRlU2FtcGxlcih7XG4gICAgICAgIGxhYmVsOiBzYW1wbGVyLmxhYmVsLFxuICAgICAgICAuLi5zYW1wbGVyT3B0aW9ucyxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuZGV2aWNlTWFuYWdlci5hZGRTYW1wbGVyKHNhbXBsZXIpXG5cbiAgICAgIHJldHVybiBncHVTYW1wbGVyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBTYW1wbGVyfSBmcm9tIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNzYW1wbGVycyB8IHNhbXBsZXJzIGFycmF5fVxuICAgKiBAcGFyYW0gc2FtcGxlciAtIHtAbGluayBTYW1wbGVyfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuZGV2aWNlTWFuYWdlci5yZW1vdmVTYW1wbGVyKHNhbXBsZXIpXG4gIH1cblxuICAvKiBPQkpFQ1RTICYgVEFTS1MgKi9cblxuICAvKipcbiAgICogU2V0IGRpZmZlcmVudCB0YXNrcyBxdWV1ZSBtYW5hZ2VycyB0byBleGVjdXRlIGNhbGxiYWNrcyBhdCBkaWZmZXJlbnQgcGhhc2VzIG9mIG91ciByZW5kZXIgY2FsbDpcbiAgICogLSB7QGxpbmsgb25CZWZvcmVDb21tYW5kRW5jb2RlckNyZWF0aW9ufTogY2FsbGJhY2tzIGV4ZWN1dGVkIGJlZm9yZSB0aGUgY3JlYXRpb24gb2YgdGhlIGNvbW1hbmQgZW5jb2RlclxuICAgKiAtIHtAbGluayBvbkJlZm9yZVJlbmRlclNjZW5lfTogY2FsbGJhY2tzIGV4ZWN1dGVkIGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgY29tbWFuZCBlbmNvZGVyIGFuZCBiZWZvcmUgcmVuZGVyaW5nIHRoZSB7QGxpbmsgU2NlbmV9XG4gICAqIC0ge0BsaW5rIG9uQWZ0ZXJSZW5kZXJTY2VuZX06IGNhbGxiYWNrcyBleGVjdXRlZCBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIGNvbW1hbmQgZW5jb2RlciBhbmQgYWZ0ZXIgcmVuZGVyaW5nIHRoZSB7QGxpbmsgU2NlbmV9XG4gICAqIC0ge0BsaW5rIG9uQWZ0ZXJDb21tYW5kRW5jb2RlclN1Ym1pc3Npb259OiBjYWxsYmFja3MgZXhlY3V0ZWQgYWZ0ZXIgdGhlIHN1Ym1pc3Npb24gb2YgdGhlIGNvbW1hbmQgZW5jb2RlclxuICAgKi9cbiAgc2V0VGFza3NRdWV1ZXMoKSB7XG4gICAgdGhpcy5vbkJlZm9yZUNvbW1hbmRFbmNvZGVyQ3JlYXRpb24gPSBuZXcgVGFza3NRdWV1ZU1hbmFnZXIoKVxuICAgIHRoaXMub25CZWZvcmVSZW5kZXJTY2VuZSA9IG5ldyBUYXNrc1F1ZXVlTWFuYWdlcigpXG4gICAgdGhpcy5vbkFmdGVyUmVuZGVyU2NlbmUgPSBuZXcgVGFza3NRdWV1ZU1hbmFnZXIoKVxuICAgIHRoaXMub25BZnRlckNvbW1hbmRFbmNvZGVyU3VibWlzc2lvbiA9IG5ldyBUYXNrc1F1ZXVlTWFuYWdlcigpXG4gIH1cblxuICAvKipcbiAgICogU2V0IGFsbCBvYmplY3RzIGFycmF5cyB0aGF0IHdlJ2xsIGtlZXAgdHJhY2sgb2ZcbiAgICovXG4gIHNldFJlbmRlcmVyT2JqZWN0cygpIHtcbiAgICAvLyBrZWVwIHRyYWNrIG9mIGNvbXB1dGUgcGFzc2VzLCBtZXNoZXMsIGV0Yy5cbiAgICB0aGlzLmNvbXB1dGVQYXNzZXMgPSBbXVxuICAgIHRoaXMucGluZ1BvbmdQbGFuZXMgPSBbXVxuICAgIHRoaXMuc2hhZGVyUGFzc2VzID0gW11cbiAgICB0aGlzLnJlbmRlclRhcmdldHMgPSBbXVxuICAgIHRoaXMubWVzaGVzID0gW11cbiAgICB0aGlzLnJlbmRlclRleHR1cmVzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoaXMge0BsaW5rIEdQVVJlbmRlcmVyfSByZW5kZXJlZCBvYmplY3RzIChpLmUuIGNvbXB1dGUgcGFzc2VzLCBtZXNoZXMsIHBpbmcgcG9uZyBwbGFuZXMgYW5kIHNoYWRlciBwYXNzZXMpXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlbmRlcmVkT2JqZWN0cygpOiBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuY29tcHV0ZVBhc3NlcywgLi4udGhpcy5tZXNoZXMsIC4uLnRoaXMuc2hhZGVyUGFzc2VzLCAuLi50aGlzLnBpbmdQb25nUGxhbmVzXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyAoe0BsaW5rIFJlbmRlcmVkTWVzaCB8IHJlbmRlcmVkIG1lc2hlc30gb3Ige0BsaW5rIENvbXB1dGVQYXNzIHwgY29tcHV0ZSBwYXNzZXN9KSB1c2luZyBhIGdpdmVuIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9LlxuICAgKiBVc2VmdWwgdG8ga25vdyBpZiBhIHJlc291cmNlIGlzIHVzZWQgYnkgbXVsdGlwbGUgb2JqZWN0cyBhbmQgaWYgaXQgaXMgc2FmZSB0byBkZXN0cm95IGl0IG9yIG5vdC5cbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IHRvIGNoZWNrXG4gICAqL1xuICBnZXRPYmplY3RzQnlCaW5kR3JvdXAoYmluZEdyb3VwOiBBbGxvd2VkQmluZEdyb3Vwcyk6IHVuZGVmaW5lZCB8IFNjZW5lT2JqZWN0W10ge1xuICAgIHJldHVybiB0aGlzLmRldmljZVJlbmRlcmVkT2JqZWN0cy5maWx0ZXIoKG9iamVjdCkgPT4ge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4ub2JqZWN0Lm1hdGVyaWFsLmJpbmRHcm91cHMsXG4gICAgICAgIC4uLm9iamVjdC5tYXRlcmlhbC5pbnB1dHNCaW5kR3JvdXBzLFxuICAgICAgICAuLi5vYmplY3QubWF0ZXJpYWwuY2xvbmVkQmluZEdyb3VwcyxcbiAgICAgIF0uc29tZSgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBvYmplY3RzICh7QGxpbmsgUmVuZGVyZWRNZXNoIHwgcmVuZGVyZWQgbWVzaGVzfSBvciB7QGxpbmsgQ29tcHV0ZVBhc3MgfCBjb21wdXRlIHBhc3Nlc30pIHVzaW5nIGEgZ2l2ZW4ge0BsaW5rIFRleHR1cmV9IG9yIHtAbGluayBSZW5kZXJUZXh0dXJlfS5cbiAgICogVXNlZnVsIHRvIGtub3cgaWYgYSByZXNvdXJjZSBpcyB1c2VkIGJ5IG11bHRpcGxlIG9iamVjdHMgYW5kIGlmIGl0IGlzIHNhZmUgdG8gZGVzdHJveSBpdCBvciBub3QuXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IG9yIHtAbGluayBSZW5kZXJUZXh0dXJlfSB0byBjaGVja1xuICAgKi9cbiAgZ2V0T2JqZWN0c0J5VGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlIHwgUmVuZGVyVGV4dHVyZSk6IHVuZGVmaW5lZCB8IFNjZW5lT2JqZWN0W10ge1xuICAgIHJldHVybiB0aGlzLmRldmljZVJlbmRlcmVkT2JqZWN0cy5maWx0ZXIoKG9iamVjdCkgPT4ge1xuICAgICAgcmV0dXJuIFsuLi5vYmplY3QubWF0ZXJpYWwudGV4dHVyZXMsIC4uLm9iamVjdC5tYXRlcmlhbC5yZW5kZXJUZXh0dXJlc10uc29tZSgodCkgPT4gdC51dWlkID09PSB0ZXh0dXJlLnV1aWQpXG4gICAgfSlcbiAgfVxuXG4gIC8qIEVWRU5UUyAqL1xuXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25CZWZvcmVSZW5kZXJDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBiZWZvcmUgdGhlIHtAbGluayByZW5kZXJ9IG1ldGhvZCB3aWxsIGJlIGV4ZWN1dGVkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBHUFVSZW5kZXJlcn1cbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyKGNhbGxiYWNrOiAoY29tbWFuZEVuY29kZXI/OiBHUFVDb21tYW5kRW5jb2RlcikgPT4gdm9pZCkge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25CZWZvcmVSZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25BZnRlclJlbmRlckNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGFmdGVyIHRoZSB7QGxpbmsgcmVuZGVyfSBtZXRob2QgaGFzIGJlZW4gZXhlY3V0ZWRcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIEdQVVJlbmRlcmVyfVxuICAgKi9cbiAgb25BZnRlclJlbmRlcihjYWxsYmFjazogKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIpID0+IHZvaWQpIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25BZnRlclJlc2l6ZUNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBqdXN0IGFmdGVyIHRoZSB7QGxpbmsgR1BVUmVuZGVyZXJ9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIEdQVVJlbmRlcmVyfVxuICAgKi9cbiAgb25BZnRlclJlc2l6ZShjYWxsYmFjazogKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIpID0+IHZvaWQpIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQWZ0ZXJSZXNpemVDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQge0BsaW5rIFJlbmRlclBhc3MjZGVzY3JpcHRvciB8IHJlbmRlciBwYXNzIGRlc2NyaXB0b3J9IHRleHR1cmUge0BsaW5rIEdQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnQjdmlldyB8IHZpZXd9IGFuZCB7QGxpbmsgR1BVUmVuZGVyUGFzc0NvbG9yQXR0YWNobWVudCNyZXNvbHZlVGFyZ2V0IHwgcmVzb2x2ZVRhcmdldH0gKGRlcGVuZGluZyBvbiB3aGV0aGVyIHdlJ3JlIHVzaW5nIG11bHRpc2FtcGxpbmcpXG4gICAqIEBwYXJhbSByZW5kZXJQYXNzIC0gY3VycmVudCB7QGxpbmsgUmVuZGVyUGFzc31cbiAgICogQHBhcmFtIHJlbmRlclRleHR1cmUgLSB7QGxpbmsgR1BVVGV4dHVyZX0gdG8gdXNlLCBvciB0aGUge0BsaW5rIGNvbnRleHR9IHtAbGluayBHUFVUZXh0dXJlIHwgY3VycmVudCB0ZXh0dXJlfSBpZiBudWxsXG4gICAqIEByZXR1cm5zIC0gdGhlIHtAbGluayBHUFVUZXh0dXJlIHwgY3VycmVudCByZW5kZXIgdGV4dHVyZX1cbiAgICovXG4gIHNldFJlbmRlclBhc3NDdXJyZW50VGV4dHVyZShyZW5kZXJQYXNzOiBSZW5kZXJQYXNzLCByZW5kZXJUZXh0dXJlOiBHUFVUZXh0dXJlIHwgbnVsbCA9IG51bGwpIHtcbiAgICBpZiAoIXJlbmRlclRleHR1cmUpIHtcbiAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLmNvbnRleHQuZ2V0Q3VycmVudFRleHR1cmUoKVxuICAgICAgcmVuZGVyVGV4dHVyZS5sYWJlbCA9IGAke3RoaXMudHlwZX0gY29udGV4dCBjdXJyZW50IHRleHR1cmVgXG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclBhc3Mub3B0aW9ucy5zYW1wbGVDb3VudCA+IDEpIHtcbiAgICAgIHJlbmRlclBhc3MuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLnZpZXcgPSByZW5kZXJQYXNzLnZpZXdUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgIGxhYmVsOiByZW5kZXJQYXNzLnZpZXdUZXh0dXJlLm9wdGlvbnMubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgfSlcbiAgICAgIHJlbmRlclBhc3MuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLnJlc29sdmVUYXJnZXQgPSByZW5kZXJUZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICBsYWJlbDogcmVuZGVyVGV4dHVyZS5sYWJlbCArICcgcmVzb2x2ZSB0YXJnZXQgdmlldycsXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZW5kZXJQYXNzLmRlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXS52aWV3ID0gcmVuZGVyVGV4dHVyZS5jcmVhdGVWaWV3KHtcbiAgICAgICAgbGFiZWw6IHJlbmRlclRleHR1cmUubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNpbmdsZSB7QGxpbmsgQ29tcHV0ZVBhc3N9XG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfVxuICAgKiBAcGFyYW0gY29tcHV0ZVBhc3MgLSB7QGxpbmsgQ29tcHV0ZVBhc3N9XG4gICAqL1xuICByZW5kZXJTaW5nbGVDb21wdXRlUGFzcyhjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIsIGNvbXB1dGVQYXNzOiBDb21wdXRlUGFzcykge1xuICAgIGNvbnN0IHBhc3MgPSBjb21tYW5kRW5jb2Rlci5iZWdpbkNvbXB1dGVQYXNzKClcbiAgICBjb21wdXRlUGFzcy5yZW5kZXIocGFzcylcbiAgICBwYXNzLmVuZCgpXG5cbiAgICBjb21wdXRlUGFzcy5jb3B5QnVmZmVyVG9SZXN1bHQoY29tbWFuZEVuY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGEgc2luZ2xlIHtAbGluayBSZW5kZXJlZE1lc2ggfCBNZXNofVxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICogQHBhcmFtIG1lc2ggLSB7QGxpbmsgUmVuZGVyZWRNZXNoIHwgTWVzaH0gdG8gcmVuZGVyXG4gICAqL1xuICByZW5kZXJTaW5nbGVNZXNoKGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlciwgbWVzaDogUmVuZGVyZWRNZXNoKSB7XG4gICAgY29uc3QgcGFzcyA9IGNvbW1hbmRFbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyh0aGlzLnJlbmRlclBhc3MuZGVzY3JpcHRvcilcbiAgICBtZXNoLnJlbmRlcihwYXNzKVxuICAgIHBhc3MuZW5kKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYW4gYXJyYXkgb2Ygb2JqZWN0cyAoZWl0aGVyIHtAbGluayBSZW5kZXJlZE1lc2ggfCBNZXNoZXN9IG9yIHtAbGluayBDb21wdXRlUGFzc30pIG9uY2UuIFRoaXMgbWV0aG9kIHdvbid0IGNhbGwgYW55IG9mIHRoZSByZW5kZXJlciByZW5kZXIgaG9va3MgbGlrZSB7QGxpbmsgb25CZWZvcmVSZW5kZXJ9LCB7QGxpbmsgb25BZnRlclJlbmRlcn1cbiAgICogQHBhcmFtIG9iamVjdHMgLSBBcnJheSBvZiB7QGxpbmsgUmVuZGVyZWRNZXNoIHwgTWVzaGVzfSBvciB7QGxpbmsgQ29tcHV0ZVBhc3N9IHRvIHJlbmRlclxuICAgKi9cbiAgcmVuZGVyT25jZShvYmplY3RzOiBTY2VuZU9iamVjdFtdKSB7XG4gICAgY29uc3QgY29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZT8uY3JlYXRlQ29tbWFuZEVuY29kZXIoe1xuICAgICAgbGFiZWw6ICdSZW5kZXJlciBvbmNlIGNvbW1hbmQgZW5jb2RlcicsXG4gICAgfSlcblxuICAgIHRoaXMucGlwZWxpbmVNYW5hZ2VyLnJlc2V0Q3VycmVudFBpcGVsaW5lKClcblxuICAgIG9iamVjdHMuZm9yRWFjaCgob2JqZWN0KSA9PiB7XG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQ29tcHV0ZVBhc3MpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTaW5nbGVDb21wdXRlUGFzcyhjb21tYW5kRW5jb2Rlciwgb2JqZWN0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTaW5nbGVNZXNoKGNvbW1hbmRFbmNvZGVyLCBvYmplY3QpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IGNvbW1hbmRCdWZmZXIgPSBjb21tYW5kRW5jb2Rlci5maW5pc2goKVxuICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuXG4gICAgdGhpcy5waXBlbGluZU1hbmFnZXIucmVzZXRDdXJyZW50UGlwZWxpbmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHRvIGNsZWFyIGEge0BsaW5rIEdQVVJlbmRlcmVyfSBjb250ZW50IHRvIGl0cyB7QGxpbmsgUmVuZGVyUGFzcyNvcHRpb25zLmNsZWFyVmFsdWUgfCBjbGVhciB2YWx1ZX0gYnkgcmVuZGVyaW5nIGFuZCBlbXB0eSBwYXNzLlxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXJcbiAgICovXG4gIGZvcmNlQ2xlYXIoY29tbWFuZEVuY29kZXI/OiBHUFVDb21tYW5kRW5jb2Rlcikge1xuICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY29tbWFuZCBlbmNvZGVyIHByb3ZpZGVkLCB3ZSdsbCBoYXZlIHRvIGNyZWF0ZSBvbmUgYW5kIHN1Ym1pdCBpdCBhZnRlciB0aGUgY29weSBwcm9jZXNzXG4gICAgY29uc3QgaGFzQ29tbWFuZEVuY29kZXIgPSAhIWNvbW1hbmRFbmNvZGVyXG5cbiAgICBpZiAoIWhhc0NvbW1hbmRFbmNvZGVyKSB7XG4gICAgICBjb21tYW5kRW5jb2RlciA9IHRoaXMuZGV2aWNlPy5jcmVhdGVDb21tYW5kRW5jb2Rlcih7IGxhYmVsOiAnRm9yY2UgY2xlYXIgY29tbWFuZCBlbmNvZGVyJyB9KVxuICAgIH1cblxuICAgIHRoaXMuc2V0UmVuZGVyUGFzc0N1cnJlbnRUZXh0dXJlKHRoaXMucmVuZGVyUGFzcylcbiAgICBjb25zdCBwYXNzID0gY29tbWFuZEVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHRoaXMucmVuZGVyUGFzcy5kZXNjcmlwdG9yKVxuICAgIHBhc3MuZW5kKClcblxuICAgIGlmICghaGFzQ29tbWFuZEVuY29kZXIpIHtcbiAgICAgIGNvbnN0IGNvbW1hbmRCdWZmZXIgPSBjb21tYW5kRW5jb2Rlci5maW5pc2goKVxuICAgICAgdGhpcy5kZXZpY2U/LnF1ZXVlLnN1Ym1pdChbY29tbWFuZEJ1ZmZlcl0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjcmVuZGVyIHwgR1BVRGV2aWNlTWFuYWdlciByZW5kZXIgbWV0aG9kfSBiZWZvcmUgdGhlIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gaGFzIGJlZW4gY3JlYXRlZFxuICAgKi9cbiAgb25CZWZvcmVDb21tYW5kRW5jb2RlcigpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuICAgIC8vIG5vdyByZW5kZXIhXG4gICAgdGhpcy5vbkJlZm9yZUNvbW1hbmRFbmNvZGVyQ3JlYXRpb24uZXhlY3V0ZSgpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNyZW5kZXIgfCBHUFVEZXZpY2VNYW5hZ2VyIHJlbmRlciBtZXRob2R9IGFmdGVyIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBvbkFmdGVyQ29tbWFuZEVuY29kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSByZXR1cm5cblxuICAgIHRoaXMub25BZnRlckNvbW1hbmRFbmNvZGVyU3VibWlzc2lvbi5leGVjdXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYXQgZWFjaCBkcmF3IGNhbGwgdG8gcmVuZGVyIG91ciBzY2VuZSBhbmQgaXRzIGNvbnRlbnRcbiAgICogQHBhcmFtIGNvbW1hbmRFbmNvZGVyIC0gY3VycmVudCB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9XG4gICAqL1xuICByZW5kZXIoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSByZXR1cm5cblxuICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25CZWZvcmVSZW5kZXJDYWxsYmFjayhjb21tYW5kRW5jb2RlcilcbiAgICB0aGlzLm9uQmVmb3JlUmVuZGVyU2NlbmUuZXhlY3V0ZShjb21tYW5kRW5jb2RlcilcblxuICAgIHRoaXMuc2NlbmU/LnJlbmRlcihjb21tYW5kRW5jb2RlcilcblxuICAgIC8vIFRPRE8gbm90IHdvcmtpbmdcbiAgICAvLyBpZiAodGhpcy5vcHRpb25zLm11bHRpc2FtcGxlZCAmJiB0aGlzLm11bHRpc2FtcGxpbmdQYXNzKSB7XG4gICAgLy8gICBjb25zdCBwYXNzID0gY29tbWFuZEVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHRoaXMubXVsdGlzYW1wbGluZ1Bhc3MuZGVzY3JpcHRvcilcbiAgICAvLyAgIHBhc3MuZW5kKClcbiAgICAvLyB9XG5cbiAgICB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25BZnRlclJlbmRlckNhbGxiYWNrKGNvbW1hbmRFbmNvZGVyKVxuICAgIHRoaXMub25BZnRlclJlbmRlclNjZW5lLmV4ZWN1dGUoY29tbWFuZEVuY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIEdQVVJlbmRlcmVyfSBhbmQgZXZlcnl0aGluZyB0aGF0IG5lZWRzIHRvIGJlIGRlc3Ryb3llZCBhcyB3ZWxsXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZG9tRWxlbWVudD8uZGVzdHJveSgpXG5cbiAgICAvLyBkZXN0cm95IHJlbmRlciBwYXNzZXNcbiAgICB0aGlzLnJlbmRlclBhc3M/LmRlc3Ryb3koKVxuICAgIHRoaXMucG9zdFByb2Nlc3NpbmdQYXNzPy5kZXN0cm95KClcbiAgICAvL3RoaXMubXVsdGlzYW1wbGluZ1Bhc3M/LmRlc3Ryb3koKVxuXG4gICAgdGhpcy5yZW5kZXJUYXJnZXRzLmZvckVhY2goKHJlbmRlclRhcmdldCkgPT4gcmVuZGVyVGFyZ2V0LmRlc3Ryb3koKSlcbiAgICB0aGlzLnJlbmRlcmVkT2JqZWN0cy5mb3JFYWNoKChzY2VuZU9iamVjdCkgPT4gc2NlbmVPYmplY3QucmVtb3ZlKCkpXG5cbiAgICB0aGlzLnJlbmRlclRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHRleHR1cmUuZGVzdHJveSgpKVxuXG4gICAgdGhpcy5jb250ZXh0Py51bmNvbmZpZ3VyZSgpXG4gIH1cbn1cbiIsImltcG9ydCB7IEdQVVJlbmRlcmVyLCBHUFVSZW5kZXJlclBhcmFtcywgUHJvamVjdGVkTWVzaCwgUmVuZGVyZWRNZXNoLCBTY2VuZU9iamVjdCB9IGZyb20gJy4vR1BVUmVuZGVyZXInXG5pbXBvcnQgeyBDYW1lcmEsIENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnMgfSBmcm9tICcuLi9jYW1lcmEvQ2FtZXJhJ1xuaW1wb3J0IHsgQnVmZmVyQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcnXG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi9iaW5kR3JvdXBzL0JpbmRHcm91cCdcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBBbGxvd2VkQmluZEdyb3VwcyB9IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlcn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyBleHRlbmRzIEdQVVJlbmRlcmVyUGFyYW1zIHtcbiAgLyoqIEFuIG9iamVjdCBkZWZpbmluZyB7QGxpbmsgQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyB8IGNhbWVyYSBwZXJzcGVjdGl2ZSBwYXJhbWV0ZXJzfSAqL1xuICBjYW1lcmE6IENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnNcbn1cblxuLyoqXG4gKiBUaGlzIHJlbmRlcmVyIGFsc28gY3JlYXRlcyBhIHtAbGluayBDYW1lcmF9IGFuZCBpdHMgYXNzb2NpYXRlZCB7QGxpbmsgY2FtZXJhQnVmZmVyQmluZGluZyB8IGJpbmRpbmd9IGFuZCB7QGxpbmsgY2FtZXJhQmluZEdyb3VwIHwgYmluZCBncm91cH0uPGJyPlxuICogQ2FuIGJlIHNhZmVseSB1c2VkIHRvIHJlbmRlciBjb21wdXRlIHBhc3NlcyBhbmQgbWVzaGVzIGlmIHRoZXkgZG8gbm90IG5lZWQgdG8gYmUgdGllZCB0byB0aGUgRE9NLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBmaXJzdCwgd2UgbmVlZCBhIFdlYkdQVSBkZXZpY2UsIHRoYXQncyB3aGF0IEdQVURldmljZU1hbmFnZXIgaXMgZm9yXG4gKiBjb25zdCBncHVEZXZpY2VNYW5hZ2VyID0gbmV3IEdQVURldmljZU1hbmFnZXIoe1xuICogICBsYWJlbDogJ0N1c3RvbSBkZXZpY2UgbWFuYWdlcicsXG4gKiB9KVxuICpcbiAqIC8vIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIFdlYkdQVSBkZXZpY2UgdG8gYmUgY3JlYXRlZFxuICogYXdhaXQgZ3B1RGV2aWNlTWFuYWdlci5pbml0KClcbiAqXG4gKiAvLyB0aGVuIHdlIGNhbiBjcmVhdGUgYSBjYW1lcmEgcmVuZGVyZXJcbiAqIGNvbnN0IGdwdUNhbWVyYVJlbmRlcmVyID0gbmV3IEdQVUNhbWVyYVJlbmRlcmVyKHtcbiAqICAgZGV2aWNlTWFuYWdlcjogZ3B1RGV2aWNlTWFuYWdlciwgLy8gd2UgbmVlZCB0aGUgV2ViR1BVIGRldmljZSB0byBjcmVhdGUgdGhlIHJlbmRlcmVyIGNvbnRleHRcbiAqICAgY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzJyksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBHUFVDYW1lcmFSZW5kZXJlciBleHRlbmRzIEdQVVJlbmRlcmVyIHtcbiAgLyoqIHtAbGluayBDYW1lcmF9IHVzZWQgYnkgdGhpcyB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9ICovXG4gIGNhbWVyYTogQ2FtZXJhXG4gIC8qKiB7QGxpbmsgQnVmZmVyQmluZGluZyB8IGJpbmRpbmd9IGhhbmRsaW5nIHRoZSB7QGxpbmsgY2FtZXJhfSBtYXRyaWNlcyAqL1xuICBjYW1lcmFCdWZmZXJCaW5kaW5nOiBCdWZmZXJCaW5kaW5nXG4gIC8qKiB7QGxpbmsgQmluZEdyb3VwIHwgYmluZCBncm91cH0gaGFuZGxpbmcgdGhlIHtAbGluayBjYW1lcmFCdWZmZXJCaW5kaW5nIHwgY2FtZXJhIGJ1ZmZlciBiaW5kaW5nfSAqL1xuICBjYW1lcmFCaW5kR3JvdXA6IEJpbmRHcm91cFxuXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSAqL1xuICBvcHRpb25zOiBHUFVDYW1lcmFSZW5kZXJlclBhcmFtc1xuXG4gIC8qKlxuICAgKiBHUFVDYW1lcmFSZW5kZXJlciBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRldmljZU1hbmFnZXIsXG4gICAgY29udGFpbmVyLFxuICAgIHBpeGVsUmF0aW8gPSAxLFxuICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICBhbHBoYU1vZGUgPSAncHJlbXVsdGlwbGllZCcsXG4gICAgbXVsdGlzYW1wbGVkID0gdHJ1ZSxcbiAgICByZW5kZXJQYXNzLFxuICAgIGNhbWVyYSA9IHt9LFxuICB9OiBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcykge1xuICAgIHN1cGVyKHtcbiAgICAgIGRldmljZU1hbmFnZXIsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwaXhlbFJhdGlvLFxuICAgICAgcHJlZmVycmVkRm9ybWF0LFxuICAgICAgYWxwaGFNb2RlLFxuICAgICAgbXVsdGlzYW1wbGVkLFxuICAgICAgcmVuZGVyUGFzcyxcbiAgICB9KVxuXG4gICAgdGhpcy50eXBlID0gJ0dQVUNhbWVyYVJlbmRlcmVyJ1xuXG4gICAgY2FtZXJhID0geyAuLi57IGZvdjogNTAsIG5lYXI6IDAuMDEsIGZhcjogNTAgfSwgLi4uY2FtZXJhIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIGNhbWVyYSxcbiAgICB9XG5cbiAgICB0aGlzLnNldENhbWVyYShjYW1lcmEpXG5cbiAgICB0aGlzLnNldENhbWVyYUJpbmRHcm91cEFuZEJpbmRpbmcoKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaXMgbG9zdC5cbiAgICogUmVzZXQgYWxsIG91ciBzYW1wbGVycywgZm9yY2UgYWxsIG91ciBzY2VuZSBvYmplY3RzIGFuZCBjYW1lcmEgYmluZCBncm91cCB0byBsb3NlIGNvbnRleHQuXG4gICAqL1xuICBsb3NlQ29udGV4dCgpIHtcbiAgICBzdXBlci5sb3NlQ29udGV4dCgpXG4gICAgLy8gbG9zZSBjYW1lcmEgYmluZCBncm91cCBjb250ZXh0IGFzIHdlbGxcbiAgICB0aGlzLmNhbWVyYUJpbmRHcm91cC5sb3NlQ29udGV4dCgpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBzaG91bGQgYmUgcmVzdG9yZWQuXG4gICAqIENvbmZpZ3VyZSB0aGUgY29udGV4dCBhZ2FpbiwgcmVzaXplIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LlJlbmRlclRhcmdldCB8IHJlbmRlciB0YXJnZXRzfSBhbmQge0BsaW5rIGNvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZS5SZW5kZXJUZXh0dXJlIHwgcmVuZGVyIHRleHR1cmVzfSwgcmVzdG9yZSBvdXIge0BsaW5rIHJlbmRlcmVkT2JqZWN0cyB8IHJlbmRlcmVkIG9iamVjdHN9IGNvbnRleHQsIHJlLXdyaXRlIG91ciB7QGxpbmsgY2FtZXJhQnVmZmVyQmluZGluZyB8IGNhbWVyYSBidWZmZXIgYmluZGluZ30uXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgcmVzdG9yZUNvbnRleHQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nLnNob3VsZFVwZGF0ZSA9IHRydWVcbiAgICByZXR1cm4gc3VwZXIucmVzdG9yZUNvbnRleHQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGNhbWVyYX1cbiAgICogQHBhcmFtIGNhbWVyYVBhcmFtZXRlcnMgLSB7QGxpbmsgQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoZSB7QGxpbmsgY2FtZXJhfVxuICAgKi9cbiAgc2V0Q2FtZXJhKGNhbWVyYVBhcmFtZXRlcnM6IENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnMpIHtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuYm91bmRpbmdSZWN0ID8gdGhpcy5ib3VuZGluZ1JlY3Qud2lkdGggOiAxXG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5ib3VuZGluZ1JlY3QgPyB0aGlzLmJvdW5kaW5nUmVjdC5oZWlnaHQgOiAxXG5cbiAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoe1xuICAgICAgZm92OiBjYW1lcmFQYXJhbWV0ZXJzLmZvdixcbiAgICAgIG5lYXI6IGNhbWVyYVBhcmFtZXRlcnMubmVhcixcbiAgICAgIGZhcjogY2FtZXJhUGFyYW1ldGVycy5mYXIsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHBpeGVsUmF0aW86IHRoaXMucGl4ZWxSYXRpbyxcbiAgICAgIG9uTWF0cmljZXNDaGFuZ2VkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMub25DYW1lcmFNYXRyaWNlc0NoYW5nZWQoKVxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIFByb2plY3RlZE1lc2ggfCBwcm9qZWN0ZWQgbWVzaGVzfSBzaXplcyBhbmQgcG9zaXRpb25zIHdoZW4gdGhlIHtAbGluayBjYW1lcmF9IHtAbGluayBDYW1lcmEjcG9zaXRpb24gfCBwb3NpdGlvbn0gY2hhbmdlc1xuICAgKi9cbiAgb25DYW1lcmFNYXRyaWNlc0NoYW5nZWQoKSB7XG4gICAgdGhpcy51cGRhdGVDYW1lcmFCaW5kaW5ncygpXG5cbiAgICB0aGlzLm1lc2hlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICBpZiAoJ21vZGVsVmlld01hdHJpeCcgaW4gbWVzaCkge1xuICAgICAgICBtZXNoLnNob3VsZFVwZGF0ZU1hdHJpeFN0YWNrKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGNhbWVyYUJ1ZmZlckJpbmRpbmcgfCBjYW1lcmEgYnVmZmVyIGJpbmRpbmd9IGFuZCB7QGxpbmsgY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9XG4gICAqL1xuICBzZXRDYW1lcmFCaW5kR3JvdXBBbmRCaW5kaW5nKCkge1xuICAgIHRoaXMuY2FtZXJhQnVmZmVyQmluZGluZyA9IG5ldyBCdWZmZXJCaW5kaW5nKHtcbiAgICAgIGxhYmVsOiAnQ2FtZXJhJyxcbiAgICAgIG5hbWU6ICdjYW1lcmEnLFxuICAgICAgdmlzaWJpbGl0eTogJ3ZlcnRleCcsXG4gICAgICBzdHJ1Y3Q6IHtcbiAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAvLyBjYW1lcmEgbW9kZWwgbWF0cml4XG4gICAgICAgICAgbmFtZTogJ21vZGVsJyxcbiAgICAgICAgICB0eXBlOiAnbWF0NHg0ZicsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuY2FtZXJhLm1vZGVsTWF0cml4LFxuICAgICAgICAgIG9uQmVmb3JlVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmcuaW5wdXRzLm1vZGVsLnZhbHVlID0gdGhpcy5jYW1lcmEubW9kZWxNYXRyaXhcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB2aWV3OiB7XG4gICAgICAgICAgLy8gY2FtZXJhIHZpZXcgbWF0cml4XG4gICAgICAgICAgbmFtZTogJ3ZpZXcnLFxuICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5jYW1lcmEudmlld01hdHJpeCxcbiAgICAgICAgICBvbkJlZm9yZVVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nLmlucHV0cy52aWV3LnZhbHVlID0gdGhpcy5jYW1lcmEudmlld01hdHJpeFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHByb2plY3Rpb246IHtcbiAgICAgICAgICAvLyBjYW1lcmEgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgICAgICBuYW1lOiAncHJvamVjdGlvbicsXG4gICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4LFxuICAgICAgICAgIG9uQmVmb3JlVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmcuaW5wdXRzLnByb2plY3Rpb24udmFsdWUgPSB0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSlcblxuICAgIC8vIG5vdyBpbml0aWFsaXplIGJpbmQgZ3JvdXBcbiAgICB0aGlzLmNhbWVyYUJpbmRHcm91cCA9IG5ldyBCaW5kR3JvdXAodGhpcywge1xuICAgICAgbGFiZWw6ICdDYW1lcmEgVW5pZm9ybSBiaW5kIGdyb3VwJyxcbiAgICAgIGJpbmRpbmdzOiBbdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nXSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUge0BsaW5rIGNhbWVyYUJpbmRHcm91cCB8IGNhbWVyYSBiaW5kIGdyb3VwfSBidWZmZXJzXG4gICAqL1xuICBzZXRDYW1lcmFCaW5kR3JvdXAoKSB7XG4gICAgaWYgKHRoaXMuY2FtZXJhQmluZEdyb3VwICYmIHRoaXMuY2FtZXJhQmluZEdyb3VwLnNob3VsZENyZWF0ZUJpbmRHcm91cCkge1xuICAgICAgdGhpcy5jYW1lcmFCaW5kR3JvdXAuc2V0SW5kZXgoMClcbiAgICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRlbGwgb3VyIHtAbGluayBjYW1lcmFCdWZmZXJCaW5kaW5nIHwgY2FtZXJhIGJ1ZmZlciBiaW5kaW5nfSB0aGF0IHdlIHNob3VsZCB1cGRhdGUgaXRzIHN0cnVjdFxuICAgKi9cbiAgdXBkYXRlQ2FtZXJhQmluZGluZ3MoKSB7XG4gICAgdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nPy5zaG91bGRVcGRhdGVCaW5kaW5nKCdtb2RlbCcpXG4gICAgdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nPy5zaG91bGRVcGRhdGVCaW5kaW5nKCd2aWV3JylcbiAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmc/LnNob3VsZFVwZGF0ZUJpbmRpbmcoJ3Byb2plY3Rpb24nKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyAoe0BsaW5rIFJlbmRlcmVkTWVzaCB8IHJlbmRlcmVkIG1lc2hlc30gb3Ige0BsaW5rIGNvcmUvY29tcHV0ZVBhc3Nlcy9Db21wdXRlUGFzcy5Db21wdXRlUGFzcyB8IGNvbXB1dGUgcGFzc2VzfSkgdXNpbmcgYSBnaXZlbiB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSwgaW5jbHVkaW5nIHtAbGluayBjYW1lcmFCaW5kR3JvdXAgfCBjYW1lcmEgYmluZCBncm91cH0uXG4gICAqIFVzZWZ1bCB0byBrbm93IGlmIGEgcmVzb3VyY2UgaXMgdXNlZCBieSBtdWx0aXBsZSBvYmplY3RzIGFuZCBpZiBpdCBpcyBzYWZlIHRvIGRlc3Ryb3kgaXQgb3Igbm90LlxuICAgKiBAcGFyYW0gYmluZEdyb3VwIC0ge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdG8gY2hlY2tcbiAgICovXG4gIGdldE9iamVjdHNCeUJpbmRHcm91cChiaW5kR3JvdXA6IEFsbG93ZWRCaW5kR3JvdXBzKTogdW5kZWZpbmVkIHwgU2NlbmVPYmplY3RbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlUmVuZGVyZWRPYmplY3RzLmZpbHRlcigob2JqZWN0KSA9PiB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi5vYmplY3QubWF0ZXJpYWwuYmluZEdyb3VwcyxcbiAgICAgICAgLi4ub2JqZWN0Lm1hdGVyaWFsLmlucHV0c0JpbmRHcm91cHMsXG4gICAgICAgIC4uLm9iamVjdC5tYXRlcmlhbC5jbG9uZWRCaW5kR3JvdXBzLFxuICAgICAgICB0aGlzLmNhbWVyYUJpbmRHcm91cCxcbiAgICAgIF0uc29tZSgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgY2FtZXJhfSBwZXJzcGVjdGl2ZSBtYXRyaXggbmV3IHBhcmFtZXRlcnMgKGZvdiwgbmVhciBwbGFuZSBhbmQgZmFyIHBsYW5lKVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHwgcGFyYW1ldGVyc30gdG8gdXNlIGZvciB0aGUgcGVyc3BlY3RpdmVcbiAgICovXG4gIHNldFBlcnNwZWN0aXZlKHsgZm92LCBuZWFyLCBmYXIgfTogQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5jYW1lcmE/LnNldFBlcnNwZWN0aXZlKHtcbiAgICAgIGZvdixcbiAgICAgIG5lYXIsXG4gICAgICBmYXIsXG4gICAgICB3aWR0aDogdGhpcy5ib3VuZGluZ1JlY3Qud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgIHBpeGVsUmF0aW86IHRoaXMucGl4ZWxSYXRpbyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIGNhbWVyYX0ge0BsaW5rIENhbWVyYSNwb3NpdGlvbiB8IHBvc2l0aW9ufVxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSBuZXcge0BsaW5rIENhbWVyYSNwb3NpdGlvbiB8IHBvc2l0aW9ufVxuICAgKi9cbiAgc2V0Q2FtZXJhUG9zaXRpb24ocG9zaXRpb246IFZlYzMgPSBuZXcgVmVjMygwLCAwLCAxKSkge1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pXG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBvdXIge0BsaW5rIEdQVVJlbmRlcmVyI29uUmVzaXplIHwgR1BVUmVuZGVyZXIgb25SZXNpemUgbWV0aG9kfSBhbmQgcmVzaXplIG91ciB7QGxpbmsgY2FtZXJhfSBhcyB3ZWxsXG4gICAqL1xuICBvblJlc2l6ZSgpIHtcbiAgICBzdXBlci5vblJlc2l6ZSgpXG4gICAgdGhpcy5zZXRQZXJzcGVjdGl2ZSgpXG4gICAgdGhpcy51cGRhdGVDYW1lcmFCaW5kaW5ncygpXG4gIH1cblxuICAvKiBSRU5ERVIgKi9cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjYW1lcmEgbW9kZWwgbWF0cml4LCBjaGVjayBpZiB0aGUge0BsaW5rIGNhbWVyYUJpbmRHcm91cCB8IGNhbWVyYSBiaW5kIGdyb3VwfSBzaG91bGQgYmUgY3JlYXRlZCwgY3JlYXRlIGl0IGlmIG5lZWRlZCBhbmQgdGhlbiB1cGRhdGUgaXRcbiAgICovXG4gIHVwZGF0ZUNhbWVyYSgpIHtcbiAgICB0aGlzLmNhbWVyYT8udXBkYXRlTWF0cml4U3RhY2soKVxuICAgIHRoaXMuc2V0Q2FtZXJhQmluZEdyb3VwKClcbiAgICB0aGlzLmNhbWVyYUJpbmRHcm91cD8udXBkYXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBzaW5nbGUge0BsaW5rIFJlbmRlcmVkTWVzaCB8IG1lc2h9IChiaW5kcyB0aGUge0BsaW5rIGNhbWVyYUJpbmRHcm91cCB8IGNhbWVyYSBiaW5kIGdyb3VwfSBpZiBuZWVkZWQpXG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfVxuICAgKiBAcGFyYW0gbWVzaCAtIHtAbGluayBSZW5kZXJlZE1lc2ggfCBtZXNofSB0byByZW5kZXJcbiAgICovXG4gIHJlbmRlclNpbmdsZU1lc2goY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyLCBtZXNoOiBSZW5kZXJlZE1lc2gpIHtcbiAgICBjb25zdCBwYXNzID0gY29tbWFuZEVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHRoaXMucmVuZGVyUGFzcy5kZXNjcmlwdG9yKVxuXG4gICAgLy8gYmluZCBjYW1lcmEgaWYgbmVlZGVkXG4gICAgaWYgKG1lc2gubWF0ZXJpYWwub3B0aW9ucy5yZW5kZXJpbmcudXNlUHJvamVjdGlvbikge1xuICAgICAgcGFzcy5zZXRCaW5kR3JvdXAodGhpcy5jYW1lcmFCaW5kR3JvdXAuaW5kZXgsIHRoaXMuY2FtZXJhQmluZEdyb3VwLmJpbmRHcm91cClcbiAgICB9XG5cbiAgICBtZXNoLnJlbmRlcihwYXNzKVxuICAgIHBhc3MuZW5kKClcbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgdXBkYXRlQ2FtZXJhIHwgVXBkYXRlIHRoZSBjYW1lcmF9IGFuZCB0aGVuIGNhbGwgb3VyIHtAbGluayBHUFVSZW5kZXJlciNyZW5kZXIgfCBHUFVSZW5kZXJlciByZW5kZXIgbWV0aG9kfVxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICovXG4gIHJlbmRlcihjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy51cGRhdGVDYW1lcmEoKVxuICAgIHN1cGVyLnJlbmRlcihjb21tYW5kRW5jb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwPy5kZXN0cm95KClcbiAgICBzdXBlci5kZXN0cm95KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgdGhyb3dFcnJvciwgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBnZW5lcmF0ZU1pcHMsIFJlbmRlcmVyIH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IFNhbXBsZXIgfSBmcm9tICcuLi9zYW1wbGVycy9TYW1wbGVyJ1xuaW1wb3J0IHsgUGlwZWxpbmVNYW5hZ2VyIH0gZnJvbSAnLi4vcGlwZWxpbmVzL1BpcGVsaW5lTWFuYWdlcidcbmltcG9ydCB7IFNjZW5lT2JqZWN0IH0gZnJvbSAnLi9HUFVSZW5kZXJlcidcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9UZXh0dXJlJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHUFVEZXZpY2VNYW5hZ2VyUGFyYW1zIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9LCB1c2VkIHRvIGNyZWF0ZSB0aGUge0BsaW5rIEdQVURldmljZX0gZm9yIGRlYnVnZ2luZyBwdXJwb3NlICovXG4gIGxhYmVsPzogc3RyaW5nXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB3ZSdyZSBydW5uaW5nIHRoZSBwcm9kdWN0aW9uIG1vZGUgb3Igbm90LiBJZiBub3QsIHVzZWZ1bCB3YXJuaW5ncyBjb3VsZCBiZSBsb2dnZWQgdG8gdGhlIGNvbnNvbGUgKi9cbiAgcHJvZHVjdGlvbj86IGJvb2xlYW5cbiAgLyoqIENhbGxiYWNrIHRvIHJ1biBpZiB0aGVyZSdzIGFueSBlcnJvciB3aGlsZSB0cnlpbmcgdG8gc2V0IHVwIHRoZSB7QGxpbmsgR1BVQWRhcHRlciB8IGFkYXB0ZXJ9IG9yIHtAbGluayBHUFVEZXZpY2UgfCBkZXZpY2V9ICovXG4gIG9uRXJyb3I/OiAoKSA9PiB2b2lkXG4gIC8qKiBDYWxsYmFjayB0byBydW4gd2hlbmV2ZXIgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaXMgbG9zdCAqL1xuICBvbkRldmljZUxvc3Q/OiAoaW5mbz86IEdQVURldmljZUxvc3RJbmZvKSA9PiB2b2lkXG59XG5cbi8qKlxuICogUmVzcG9uc2libGUgZm9yIHRoZSBXZWJHUFUge0BsaW5rIEdQVUFkYXB0ZXIgfCBhZGFwdGVyfSBhbmQge0BsaW5rIEdQVURldmljZSB8IGRldmljZX0gY3JlYXRpb25zLCBsb3NpbmcgYW5kIHJlc3RvcmF0aW9uLlxuICpcbiAqIEl0IHdpbGwgY3JlYXRlIGFsbCB0aGUgR1BVIG9iamVjdHMgdGhhdCBuZWVkIGEge0BsaW5rIEdQVURldmljZSB8IGRldmljZX0gdG8gZG8gc28sIGFzIHdlbGwgYXMgYSB7QGxpbmsgUGlwZWxpbmVNYW5hZ2VyfS4gSXQgd2lsbCBhbHNvIGtlZXAgYSB0cmFjayBvZiBhbGwgdGhlIHtAbGluayBSZW5kZXJlcn0sIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSwge0BsaW5rIFNhbXBsZXJ9LCB7QGxpbmsgVGV4dHVyZX0gYW5kIHtAbGluayBHUFVCdWZmZXIgfCBHUFUgYnVmZmVyc30gY3JlYXRlZC5cbiAqXG4gKiBUaGUge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9IGlzIGFsc28gcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEJ1ZmZlcn0sIHJlbmRlcmluZyBhbGwgdGhlIHtAbGluayBSZW5kZXJlcn0gYW5kIHRoZW4gc3VibWl0dGluZyB0aGUge0BsaW5rIEdQVUNvbW1hbmRCdWZmZXJ9IGF0IGVhY2gge0BsaW5rIEdQVURldmljZU1hbmFnZXIjcmVuZGVyIHwgcmVuZGVyfSBjYWxscy5cbiAqL1xuZXhwb3J0IGNsYXNzIEdQVURldmljZU1hbmFnZXIge1xuICAvKiogTnVtYmVyIG9mIHRpbWVzIGEge0BsaW5rIEdQVURldmljZX0gaGFzIGJlZW4gY3JlYXRlZCAqL1xuICBpbmRleDogbnVtYmVyXG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSwgdXNlZCB0byBjcmVhdGUgdGhlIHtAbGluayBHUFVEZXZpY2V9IGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbDogc3RyaW5nXG5cbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdlJ3JlIHJ1bm5pbmcgdGhlIHByb2R1Y3Rpb24gbW9kZSBvciBub3QuIElmIG5vdCwgdXNlZnVsIHdhcm5pbmdzIGNvdWxkIGJlIGxvZ2dlZCB0byB0aGUgY29uc29sZSAqL1xuICBwcm9kdWN0aW9uOiBib29sZWFuXG5cbiAgLyoqIFRoZSBuYXZpZ2F0b3Ige0BsaW5rIEdQVX0gb2JqZWN0ICovXG4gIGdwdTogR1BVIHwgdW5kZWZpbmVkXG4gIC8qKiBUaGUgV2ViR1BVIHtAbGluayBHUFVBZGFwdGVyIHwgYWRhcHRlcn0gdXNlZCAqL1xuICBhZGFwdGVyOiBHUFVBZGFwdGVyIHwgdm9pZFxuICAvKiogVGhlIFdlYkdQVSB7QGxpbmsgR1BVQWRhcHRlciB8IGFkYXB0ZXJ9IGluZm9ybWF0aW9ucyAqL1xuICBhZGFwdGVySW5mb3M6IEdQVUFkYXB0ZXJJbmZvIHwgdW5kZWZpbmVkXG4gIC8qKiBUaGUgV2ViR1BVIHtAbGluayBHUFVEZXZpY2UgfCBkZXZpY2V9IHVzZWQgKi9cbiAgZGV2aWNlOiBHUFVEZXZpY2UgfCB1bmRlZmluZWRcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gaXMgcmVhZHksIGkuZS4gaXRzIHtAbGluayBhZGFwdGVyfSBhbmQge0BsaW5rIGRldmljZX0gaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBjcmVhdGVkICovXG4gIHJlYWR5OiBib29sZWFuXG5cbiAgLyoqIFRoZSB7QGxpbmsgUGlwZWxpbmVNYW5hZ2VyfSB1c2VkIHRvIGNhY2hlIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0gYW5kIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IGFuZCBzZXQgdGhlbSBvbmx5IHdoZW4gYXBwcm9wcmlhdGUgKi9cbiAgcGlwZWxpbmVNYW5hZ2VyOiBQaXBlbGluZU1hbmFnZXJcblxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlbmRlcmVyIHwgcmVuZGVyZXJzfSB1c2luZyB0aGF0IHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSAqL1xuICByZW5kZXJlcnM6IFJlbmRlcmVyW11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBBbGxvd2VkQmluZEdyb3Vwc30gKi9cbiAgYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIEdQVUJ1ZmZlcn0gKi9cbiAgYnVmZmVyczogR1BVQnVmZmVyW11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBTYW1wbGVyfSAqL1xuICBzYW1wbGVyczogU2FtcGxlcltdXG4gIC8qKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXIgY3JlYXRlZCB7QGxpbmsgVGV4dHVyZX0gKi9cbiAgdGV4dHVyZXM6IFRleHR1cmVbXVxuICAvKiogQW4gYXJyYXkgdG8ga2VlcCB0cmFjayBvZiB0aGUgbmV3bHkgdXBsb2FkZWQge0BsaW5rIFRleHR1cmUgfCB0ZXh0dXJlc30gYW5kIHNldCB0aGVpciB7QGxpbmsgVGV4dHVyZSNzb3VyY2VVcGxvYWRlZCB8IHNvdXJjZVVwbG9hZGVkfSBwcm9wZXJ0eSAqL1xuICB0ZXh0dXJlc1F1ZXVlOiBUZXh0dXJlW11cblxuICAvKiogQ2FsbGJhY2sgdG8gcnVuIGlmIHRoZXJlJ3MgYW55IGVycm9yIHdoaWxlIHRyeWluZyB0byBzZXQgdXAgdGhlIHtAbGluayBHUFVBZGFwdGVyIHwgYWRhcHRlcn0gb3Ige0BsaW5rIEdQVURldmljZSB8IGRldmljZX0gKi9cbiAgb25FcnJvcjogKCkgPT4gdm9pZFxuICAvKiogQ2FsbGJhY2sgdG8gcnVuIHdoZW5ldmVyIHRoZSB7QGxpbmsgZGV2aWNlfSBpcyBsb3N0ICovXG4gIG9uRGV2aWNlTG9zdDogKGluZm8/OiBHUFVEZXZpY2VMb3N0SW5mbykgPT4gdm9pZFxuXG4gIC8qKlxuICAgKiBHUFVEZXZpY2VNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVURldmljZU1hbmFnZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsLFxuICAgIHByb2R1Y3Rpb24gPSBmYWxzZSxcbiAgICBvbkVycm9yID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2tzICovXG4gICAgfSxcbiAgICBvbkRldmljZUxvc3QgPSAoaW5mbz86IEdQVURldmljZUxvc3RJbmZvKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFja3MgKi9cbiAgICB9LFxuICB9OiBHUFVEZXZpY2VNYW5hZ2VyUGFyYW1zKSB7XG4gICAgdGhpcy5pbmRleCA9IDBcbiAgICB0aGlzLmxhYmVsID0gbGFiZWwgPz8gJ0dQVURldmljZU1hbmFnZXIgaW5zdGFuY2UnXG4gICAgdGhpcy5wcm9kdWN0aW9uID0gcHJvZHVjdGlvblxuICAgIHRoaXMucmVhZHkgPSBmYWxzZVxuXG4gICAgdGhpcy5vbkVycm9yID0gb25FcnJvclxuICAgIHRoaXMub25EZXZpY2VMb3N0ID0gb25EZXZpY2VMb3N0XG5cbiAgICB0aGlzLmdwdSA9IG5hdmlnYXRvci5ncHVcblxuICAgIHRoaXMuc2V0UGlwZWxpbmVNYW5hZ2VyKClcbiAgICB0aGlzLnNldERldmljZU9iamVjdHMoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIGFkYXB0ZXJ9IGFuZCB7QGxpbmsgZGV2aWNlfSBpZiBwb3NzaWJsZVxuICAgKi9cbiAgYXN5bmMgc2V0QWRhcHRlckFuZERldmljZSgpIHtcbiAgICBhd2FpdCB0aGlzLnNldEFkYXB0ZXIoKVxuICAgIGF3YWl0IHRoaXMuc2V0RGV2aWNlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgb3VyIHtAbGluayBhZGFwdGVyfSBhbmQge0BsaW5rIGRldmljZX0gYW5kIGFsbCB0aGUgYWxyZWFkeSBjcmVhdGVkIHtAbGluayByZW5kZXJlcnN9IGNvbnRleHRzXG4gICAqL1xuICBhc3luYyBpbml0KCkge1xuICAgIGF3YWl0IHRoaXMuc2V0QWRhcHRlckFuZERldmljZSgpXG5cbiAgICAvLyBzZXQgY29udGV4dFxuICAgIGlmICh0aGlzLmRldmljZSkge1xuICAgICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHtcbiAgICAgICAgaWYgKCFyZW5kZXJlci5jb250ZXh0KSB7XG4gICAgICAgICAgcmVuZGVyZXIuc2V0Q29udGV4dCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIGFkYXB0ZXJ9IGlmIHBvc3NpYmxlLlxuICAgKiBUaGUgYWRhcHRlciByZXByZXNlbnRzIGEgc3BlY2lmaWMgR1BVLiBTb21lIGRldmljZXMgaGF2ZSBtdWx0aXBsZSBHUFVzLlxuICAgKiBAYXN5bmNcbiAgICovXG4gIGFzeW5jIHNldEFkYXB0ZXIoKSB7XG4gICAgaWYgKCF0aGlzLmdwdSkge1xuICAgICAgdGhpcy5vbkVycm9yKClcbiAgICAgIHRocm93RXJyb3IoXCJHUFVSZW5kZXJlcjogV2ViR1BVIGlzIG5vdCBzdXBwb3J0ZWQgb24geW91ciBicm93c2VyL09TLiBObyAnZ3B1JyBvYmplY3QgaW4gJ25hdmlnYXRvcicuXCIpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuYWRhcHRlciA9IGF3YWl0IHRoaXMuZ3B1Py5yZXF1ZXN0QWRhcHRlcigpXG4gICAgICA7KHRoaXMuYWRhcHRlciBhcyBHUFVBZGFwdGVyKT8ucmVxdWVzdEFkYXB0ZXJJbmZvKCkudGhlbigoaW5mb3MpID0+IHtcbiAgICAgICAgdGhpcy5hZGFwdGVySW5mb3MgPSBpbmZvc1xuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5vbkVycm9yKClcbiAgICAgIHRocm93RXJyb3IoXCJHUFVEZXZpY2VNYW5hZ2VyOiBXZWJHUFUgaXMgbm90IHN1cHBvcnRlZCBvbiB5b3VyIGJyb3dzZXIvT1MuICdyZXF1ZXN0QWRhcHRlcicgZmFpbGVkLlwiKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBkZXZpY2V9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgc2V0RGV2aWNlKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmRldmljZSA9IGF3YWl0ICh0aGlzLmFkYXB0ZXIgYXMgR1BVQWRhcHRlcik/LnJlcXVlc3REZXZpY2Uoe1xuICAgICAgICBsYWJlbDogdGhpcy5sYWJlbCArICcgJyArIHRoaXMuaW5kZXgsXG4gICAgICB9KVxuXG4gICAgICBpZiAodGhpcy5kZXZpY2UpIHtcbiAgICAgICAgdGhpcy5yZWFkeSA9IHRydWVcbiAgICAgICAgdGhpcy5pbmRleCsrXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMub25FcnJvcigpXG4gICAgICB0aHJvd0Vycm9yKGAke3RoaXMubGFiZWx9OiBXZWJHUFUgaXMgbm90IHN1cHBvcnRlZCBvbiB5b3VyIGJyb3dzZXIvT1MuICdyZXF1ZXN0RGV2aWNlJyBmYWlsZWQ6ICR7ZXJyb3J9YClcbiAgICB9XG5cbiAgICB0aGlzLmRldmljZT8ubG9zdC50aGVuKChpbmZvKSA9PiB7XG4gICAgICB0aHJvd1dhcm5pbmcoYCR7dGhpcy5sYWJlbH06IFdlYkdQVSBkZXZpY2Ugd2FzIGxvc3Q6ICR7aW5mby5tZXNzYWdlfWApXG5cbiAgICAgIHRoaXMubG9zZURldmljZSgpXG5cbiAgICAgIC8vIGRvIG5vdCBjYWxsIG9uRGV2aWNlTG9zdCBldmVudCBpZiB0aGUgZGV2aWNlIHdhcyBpbnRlbnRpb25hbGx5IGRlc3Ryb3llZFxuICAgICAgaWYgKGluZm8ucmVhc29uICE9PSAnZGVzdHJveWVkJykge1xuICAgICAgICB0aGlzLm9uRGV2aWNlTG9zdChpbmZvKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgcGlwZWxpbmVNYW5hZ2VyIHwgcGlwZWxpbmUgbWFuYWdlcn1cbiAgICovXG4gIHNldFBpcGVsaW5lTWFuYWdlcigpIHtcbiAgICB0aGlzLnBpcGVsaW5lTWFuYWdlciA9IG5ldyBQaXBlbGluZU1hbmFnZXIoKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgZGV2aWNlfSBpcyBsb3N0LlxuICAgKiBSZXNldCBhbGwgb3VyIHJlbmRlcmVyc1xuICAgKi9cbiAgbG9zZURldmljZSgpIHtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2VcblxuICAgIC8vIGZpcnN0IGNsZWFuIGFsbCBzYW1wbGVyc1xuICAgIHRoaXMuc2FtcGxlcnMuZm9yRWFjaCgoc2FtcGxlcikgPT4gKHNhbXBsZXIuc2FtcGxlciA9IG51bGwpKVxuXG4gICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLmxvc2VDb250ZXh0KCkpXG5cbiAgICAvLyByZXNldCB0aGUgYnVmZmVycyBhcnJheSwgaXQgd291bGQgZXZlbnR1YWxseSBiZSByZXBvcHVsYXRlZCB3aGlsZSByZXN0b3JpbmcgdGhlIGRldmljZVxuICAgIHRoaXMuYnVmZmVycyA9IFtdXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBkZXZpY2V9IHNob3VsZCBiZSByZXN0b3JlZC5cbiAgICogUmVzdG9yZSBhbGwgb3VyIHJlbmRlcmVyc1xuICAgKi9cbiAgYXN5bmMgcmVzdG9yZURldmljZSgpIHtcbiAgICBhd2FpdCB0aGlzLnNldEFkYXB0ZXJBbmREZXZpY2UoKVxuXG4gICAgaWYgKHRoaXMuZGV2aWNlKSB7XG4gICAgICAvLyBub3cgcmVjcmVhdGUgYWxsIHRoZSBzYW1wbGVyc1xuICAgICAgdGhpcy5zYW1wbGVycy5mb3JFYWNoKChzYW1wbGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgLi4uc2FtcGxlck9wdGlvbnMgfSA9IHNhbXBsZXIub3B0aW9uc1xuICAgICAgICBzYW1wbGVyLnNhbXBsZXIgPSB0aGlzLmRldmljZS5jcmVhdGVTYW1wbGVyKHtcbiAgICAgICAgICBsYWJlbDogc2FtcGxlci5sYWJlbCxcbiAgICAgICAgICAuLi5zYW1wbGVyT3B0aW9ucyxcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICAgIC8vIHRoZW4gdGhlIHJlbmRlcmVyc1xuICAgICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnJlc3RvcmVDb250ZXh0KCkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbGwgb2JqZWN0cyBhcnJheXMgdGhhdCB3ZSdsbCBrZWVwIHRyYWNrIG9mXG4gICAqL1xuICBzZXREZXZpY2VPYmplY3RzKCkge1xuICAgIC8vIGtlZXAgdHJhY2sgb2YgcmVuZGVyZXJzLCBiaW5kIGdyb3VwcywgYnVmZmVycywgc2FtcGxlcnMsIHRleHR1cmVzXG4gICAgdGhpcy5yZW5kZXJlcnMgPSBbXVxuICAgIHRoaXMuYmluZEdyb3VwcyA9IFtdXG4gICAgdGhpcy5idWZmZXJzID0gW11cbiAgICB0aGlzLnNhbXBsZXJzID0gW11cbiAgICB0aGlzLnRleHR1cmVzID0gW11cblxuICAgIC8vIGtlZXAgdHJhY2sgb2YgYWxsIHRleHR1cmVzIHRoYXQgYXJlIGJlaW5nIHVwbG9hZGVkXG4gICAgdGhpcy50ZXh0dXJlc1F1ZXVlID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUmVuZGVyZXJ9IHRvIG91ciB7QGxpbmsgcmVuZGVyZXJzfSBhcnJheVxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgUmVuZGVyZXJ9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyZXIocmVuZGVyZXI6IFJlbmRlcmVyKSB7XG4gICAgdGhpcy5yZW5kZXJlcnMucHVzaChyZW5kZXJlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgUmVuZGVyZXJ9IGZyb20gb3VyIHtAbGluayByZW5kZXJlcnN9IGFycmF5XG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVSZW5kZXJlcihyZW5kZXJlcjogUmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVycyA9IHRoaXMucmVuZGVyZXJzLmZpbHRlcigocikgPT4gci51dWlkICE9PSByZW5kZXJlci51dWlkKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIHJlbmRlcmVkIG9iamVjdHMgKGkuZS4gY29tcHV0ZSBwYXNzZXMsIG1lc2hlcywgcGluZyBwb25nIHBsYW5lcyBhbmQgc2hhZGVyIHBhc3NlcykgY3JlYXRlZCBieSB0aGlzIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBkZXZpY2VSZW5kZXJlZE9iamVjdHMoKTogU2NlbmVPYmplY3RbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzLm1hcCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnJlbmRlcmVkT2JqZWN0cykuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdG8gb3VyIHtAbGluayBiaW5kR3JvdXBzIHwgYmluZCBncm91cHMgYXJyYXl9XG4gICAqIEBwYXJhbSBiaW5kR3JvdXAgLSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byBhZGRcbiAgICovXG4gIGFkZEJpbmRHcm91cChiaW5kR3JvdXA6IEFsbG93ZWRCaW5kR3JvdXBzKSB7XG4gICAgaWYgKCF0aGlzLmJpbmRHcm91cHMuZmluZCgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKSkge1xuICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSBmcm9tIG91ciB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzIGFycmF5fVxuICAgKiBAcGFyYW0gYmluZEdyb3VwIC0ge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVCaW5kR3JvdXAoYmluZEdyb3VwOiBBbGxvd2VkQmluZEdyb3Vwcykge1xuICAgIHRoaXMuYmluZEdyb3VwcyA9IHRoaXMuYmluZEdyb3Vwcy5maWx0ZXIoKGJHKSA9PiBiRy51dWlkICE9PSBiaW5kR3JvdXAudXVpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgR1BVQnVmZmVyfSB0byBvdXIgb3VyIHtAbGluayBidWZmZXJzfSBhcnJheVxuICAgKiBAcGFyYW0gYnVmZmVyIC0ge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gYWRkXG4gICAqL1xuICBhZGRCdWZmZXIoYnVmZmVyOiBHUFVCdWZmZXIpIHtcbiAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIEdQVUJ1ZmZlcn0gZnJvbSBvdXIge0BsaW5rIGJ1ZmZlcnN9IGFycmF5XG4gICAqIEBwYXJhbSBidWZmZXIgLSB7QGxpbmsgR1BVQnVmZmVyfSB0byByZW1vdmVcbiAgICogQHBhcmFtIFtvcmlnaW5hbExhYmVsXSAtIG9yaWdpbmFsIHtAbGluayBHUFVCdWZmZXJ9IGxhYmVsIGluIGNhc2UgdGhlIGJ1ZmZlciBoYXMgYmVlbiBzd2FwcGVkIGFuZCBpdHMgbGFiZWwgaGFzIGNoYW5nZWRcbiAgICovXG4gIHJlbW92ZUJ1ZmZlcihidWZmZXI6IEdQVUJ1ZmZlciwgb3JpZ2luYWxMYWJlbD86IHN0cmluZykge1xuICAgIGlmIChidWZmZXIpIHtcbiAgICAgIHRoaXMuYnVmZmVycyA9IHRoaXMuYnVmZmVycy5maWx0ZXIoKGIpID0+IHtcbiAgICAgICAgcmV0dXJuICEoYi5sYWJlbCA9PT0gKG9yaWdpbmFsTGFiZWwgPz8gYnVmZmVyLmxhYmVsKSAmJiBiLnNpemUgPT09IGJ1ZmZlci5zaXplKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFNhbXBsZXJ9IHRvIG91ciB7QGxpbmsgc2FtcGxlcnN9IGFycmF5XG4gICAqIEBwYXJhbSBzYW1wbGVyIC0ge0BsaW5rIFNhbXBsZXJ9IHRvIGFkZFxuICAgKi9cbiAgYWRkU2FtcGxlcihzYW1wbGVyOiBTYW1wbGVyKSB7XG4gICAgdGhpcy5zYW1wbGVycy5wdXNoKHNhbXBsZXIpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIFNhbXBsZXJ9IGZyb20gb3VyIHtAbGluayBzYW1wbGVyc30gYXJyYXlcbiAgICogQHBhcmFtIHNhbXBsZXIgLSB7QGxpbmsgU2FtcGxlcn0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVTYW1wbGVyKHNhbXBsZXI6IFNhbXBsZXIpIHtcbiAgICB0aGlzLnNhbXBsZXJzID0gdGhpcy5zYW1wbGVycy5maWx0ZXIoKHMpID0+IHMudXVpZCAhPT0gc2FtcGxlci51dWlkKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBUZXh0dXJlfSB0byBvdXIge0BsaW5rIHRleHR1cmVzfSBhcnJheVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSB0byBhZGRcbiAgICovXG4gIGFkZFRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgIHRoaXMudGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZCBhIHtAbGluayBUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSB0byB0aGUgR1BVXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IGNsYXNzIG9iamVjdCB3aXRoIHRoZSB7QGxpbmsgVGV4dHVyZSN0ZXh0dXJlIHwgdGV4dHVyZX0gdG8gdXBsb2FkXG4gICAqL1xuICB1cGxvYWRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICBpZiAodGV4dHVyZS5zb3VyY2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS5jb3B5RXh0ZXJuYWxJbWFnZVRvVGV4dHVyZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2U6IHRleHR1cmUuc291cmNlIGFzIEdQVUltYWdlQ29weUV4dGVybmFsSW1hZ2VTb3VyY2UsXG4gICAgICAgICAgICBmbGlwWTogdGV4dHVyZS5vcHRpb25zLmZsaXBZLFxuICAgICAgICAgIH0gYXMgR1BVSW1hZ2VDb3B5RXh0ZXJuYWxJbWFnZSxcbiAgICAgICAgICB7IHRleHR1cmU6IHRleHR1cmUudGV4dHVyZSBhcyBHUFVUZXh0dXJlLCBwcmVtdWx0aXBsaWVkQWxwaGE6IHRleHR1cmUub3B0aW9ucy5wcmVtdWx0aXBsaWVkQWxwaGEgfSxcbiAgICAgICAgICB7IHdpZHRoOiB0ZXh0dXJlLnNpemUud2lkdGgsIGhlaWdodDogdGV4dHVyZS5zaXplLmhlaWdodCB9XG4gICAgICAgIClcblxuICAgICAgICBpZiAoKHRleHR1cmUudGV4dHVyZSBhcyBHUFVUZXh0dXJlKS5taXBMZXZlbENvdW50ID4gMSkge1xuICAgICAgICAgIGdlbmVyYXRlTWlwcyh0aGlzLmRldmljZSwgdGV4dHVyZS50ZXh0dXJlIGFzIEdQVVRleHR1cmUpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdG8gb3VyIHRleHR1cmVzIHF1ZXVlIGFycmF5IHRvIHRyYWNrIHdoZW4gaXQgaGFzIGJlZW4gdXBsb2FkZWRcbiAgICAgICAgdGhpcy50ZXh0dXJlc1F1ZXVlLnB1c2godGV4dHVyZSlcbiAgICAgIH0gY2F0Y2ggKHsgbWVzc2FnZSB9KSB7XG4gICAgICAgIHRocm93RXJyb3IoYEdQVURldmljZU1hbmFnZXI6IGNvdWxkIG5vdCB1cGxvYWQgdGV4dHVyZTogJHt0ZXh0dXJlLm9wdGlvbnMubmFtZX0gYmVjYXVzZTogJHttZXNzYWdlfWApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS53cml0ZVRleHR1cmUoXG4gICAgICAgIHsgdGV4dHVyZTogdGV4dHVyZS50ZXh0dXJlIGFzIEdQVVRleHR1cmUgfSxcbiAgICAgICAgbmV3IFVpbnQ4QXJyYXkodGV4dHVyZS5vcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IpLFxuICAgICAgICB7IGJ5dGVzUGVyUm93OiB0ZXh0dXJlLnNpemUud2lkdGggKiA0IH0sXG4gICAgICAgIHsgd2lkdGg6IHRleHR1cmUuc2l6ZS53aWR0aCwgaGVpZ2h0OiB0ZXh0dXJlLnNpemUuaGVpZ2h0IH1cbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIFRleHR1cmV9IGZyb20gb3VyIHtAbGluayB0ZXh0dXJlc30gYXJyYXlcbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmVzID0gdGhpcy50ZXh0dXJlcy5maWx0ZXIoKHQpID0+IHQudXVpZCAhPT0gdGV4dHVyZS51dWlkKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBldmVyeXRoaW5nOlxuICAgKiAtIGNhbGwgYWxsIG91ciB7QGxpbmsgcmVuZGVyZXJzfSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIjb25CZWZvcmVDb21tYW5kRW5jb2RlciB8IG9uQmVmb3JlQ29tbWFuZEVuY29kZXJ9IGNhbGxiYWNrc1xuICAgKiAtIGNyZWF0ZSBhIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICogLSByZW5kZXIgYWxsIG91ciB7QGxpbmsgcmVuZGVyZXJzfVxuICAgKiAtIHN1Ym1pdCBvdXIge0BsaW5rIEdQVUNvbW1hbmRCdWZmZXJ9XG4gICAqIC0gdXBsb2FkIHtAbGluayBUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlc30gdGhhdCBkbyBub3QgaGF2ZSBhIHBhcmVudE1lc2hcbiAgICogLSBlbXB0eSBvdXIge0BsaW5rIHRleHR1cmVzUXVldWV9IGFycmF5XG4gICAqIC0gY2FsbCBhbGwgb3VyIHtAbGluayByZW5kZXJlcnN9IHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5HUFVSZW5kZXJlciNvbkFmdGVyQ29tbWFuZEVuY29kZXIgfCBvbkFmdGVyQ29tbWFuZEVuY29kZXJ9IGNhbGxiYWNrc1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5yZWFkeSkgcmV0dXJuXG5cbiAgICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4gcmVuZGVyZXIub25CZWZvcmVDb21tYW5kRW5jb2RlcigpKVxuXG4gICAgY29uc3QgY29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZT8uY3JlYXRlQ29tbWFuZEVuY29kZXIoeyBsYWJlbDogdGhpcy5sYWJlbCArICcgY29tbWFuZCBlbmNvZGVyJyB9KVxuXG4gICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnJlbmRlcihjb21tYW5kRW5jb2RlcikpXG5cbiAgICBjb25zdCBjb21tYW5kQnVmZmVyID0gY29tbWFuZEVuY29kZXIuZmluaXNoKClcbiAgICB0aGlzLmRldmljZT8ucXVldWUuc3VibWl0KFtjb21tYW5kQnVmZmVyXSlcblxuICAgIC8vIGhhbmRsZSB0ZXh0dXJlc1xuICAgIC8vIGZpcnN0IGNoZWNrIGlmIG1lZGlhIHRleHR1cmVzIHdpdGhvdXQgcGFyZW50TWVzaCBuZWVkIHRvIGJlIHVwbG9hZGVkXG4gICAgdGhpcy50ZXh0dXJlc1xuICAgICAgLmZpbHRlcigodGV4dHVyZSkgPT4gIXRleHR1cmUucGFyZW50TWVzaCAmJiB0ZXh0dXJlLnNvdXJjZUxvYWRlZCAmJiAhdGV4dHVyZS5zb3VyY2VVcGxvYWRlZClcbiAgICAgIC5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB0aGlzLnVwbG9hZFRleHR1cmUodGV4dHVyZSkpXG5cbiAgICAvLyBubyBuZWVkIHRvIHVzZSBkZXZpY2UucXVldWUub25TdWJtaXR0ZWRXb3JrRG9uZVxuICAgIC8vIGFzIFtLYWkgTmlub21peWFdKGh0dHBzOi8vZ2l0aHViLmNvbS9rYWluaW5vMHgpIHN0YXRlZDpcbiAgICAvLyBcIkFueXRoaW5nIHlvdSBzdWJtaXQoKSBhZnRlciB0aGUgY29weUV4dGVybmFsSW1hZ2VUb1RleHR1cmUoKSBpcyBndWFyYW50ZWVkIHRvIHNlZSB0aGUgcmVzdWx0IG9mIHRoYXQgY2FsbC5cIlxuICAgIHRoaXMudGV4dHVyZXNRdWV1ZS5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkID0gdHJ1ZVxuICAgIH0pXG5cbiAgICAvLyBjbGVhciB0ZXh0dXJlIHF1ZXVlXG4gICAgdGhpcy50ZXh0dXJlc1F1ZXVlID0gW11cblxuICAgIHRoaXMucmVuZGVyZXJzLmZvckVhY2goKHJlbmRlcmVyKSA9PiByZW5kZXJlci5vbkFmdGVyQ29tbWFuZEVuY29kZXIoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gYW5kIGl0cyB7QGxpbmsgcmVuZGVyZXJzfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmRldmljZT8uZGVzdHJveSgpXG4gICAgdGhpcy5kZXZpY2UgPSBudWxsXG5cbiAgICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4gcmVuZGVyZXIuZGVzdHJveSgpKVxuXG4gICAgLy8gbm93IGNsZWFyIGV2ZXJ5dGhpbmcgdGhhdCBjb3VsZCBoYXZlIGJlZW4gbGVmdCBiZWhpbmRcbiAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiBiaW5kR3JvdXAuZGVzdHJveSgpKVxuICAgIHRoaXMuYnVmZmVycy5mb3JFYWNoKChidWZmZXIpID0+IGJ1ZmZlcj8uZGVzdHJveSgpKVxuXG4gICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLmRlc3Ryb3koKSlcblxuICAgIHRoaXMuc2V0RGV2aWNlT2JqZWN0cygpXG4gIH1cbn1cbiIsImltcG9ydCB7IEdQVUNhbWVyYVJlbmRlcmVyLCBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL0dQVUNhbWVyYVJlbmRlcmVyJ1xuaW1wb3J0IHsgRE9NUHJvamVjdGVkTWVzaCB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyJ1xuXG4vKipcbiAqIFRoaXMgcmVuZGVyZXIganVzdCBleHRlbmRzIHRoZSB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9IGJ5IGtlZXBpbmcgdHJhY2sgb2YgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBjdXJ0YWlucy9tZXNoZXMvRE9NTWVzaC5ET01NZXNoIHwgRE9NIE1lc2hlc31cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gZmlyc3QsIHdlIG5lZWQgYSBXZWJHUFUgZGV2aWNlLCB0aGF0J3Mgd2hhdCBHUFVEZXZpY2VNYW5hZ2VyIGlzIGZvclxuICogY29uc3QgZ3B1RGV2aWNlTWFuYWdlciA9IG5ldyBHUFVEZXZpY2VNYW5hZ2VyKHtcbiAqICAgbGFiZWw6ICdDdXN0b20gZGV2aWNlIG1hbmFnZXInLFxuICogfSlcbiAqXG4gKiAvLyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHRoZSBXZWJHUFUgZGV2aWNlIHRvIGJlIGNyZWF0ZWRcbiAqIGF3YWl0IGdwdURldmljZU1hbmFnZXIuaW5pdCgpXG4gKlxuICogLy8gdGhlbiB3ZSBjYW4gY3JlYXRlIGEgY3VydGFpbnMgcmVuZGVyZXJcbiAqIGNvbnN0IGdwdUN1cnRhaW5zUmVuZGVyZXIgPSBuZXcgR1BVQ3VydGFpbnNSZW5kZXJlcih7XG4gKiAgIGRldmljZU1hbmFnZXI6IGdwdURldmljZU1hbmFnZXIsIC8vIHdlIG5lZWQgdGhlIFdlYkdQVSBkZXZpY2UgdG8gY3JlYXRlIHRoZSByZW5kZXJlciBjb250ZXh0XG4gKiAgIGNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhcycpLFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgR1BVQ3VydGFpbnNSZW5kZXJlciBleHRlbmRzIEdQVUNhbWVyYVJlbmRlcmVyIHtcbiAgLyoqIEFsbCBjcmVhdGVkIHtAbGluayBjdXJ0YWlucy9tZXNoZXMvRE9NTWVzaC5ET01NZXNoIHwgRE9NIE1lc2hlc30gYW5kIHtAbGluayBjdXJ0YWlucy9tZXNoZXMvUGxhbmUuUGxhbmUgfCBwbGFuZXN9ICovXG4gIGRvbU1lc2hlczogRE9NUHJvamVjdGVkTWVzaFtdXG5cbiAgLyoqXG4gICAqIEdQVUN1cnRhaW5zUmVuZGVyZXIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRldmljZU1hbmFnZXIsXG4gICAgY29udGFpbmVyLFxuICAgIHBpeGVsUmF0aW8gPSAxLFxuICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICBhbHBoYU1vZGUgPSAncHJlbXVsdGlwbGllZCcsXG4gICAgbXVsdGlzYW1wbGVkID0gdHJ1ZSxcbiAgICByZW5kZXJQYXNzLFxuICAgIGNhbWVyYSxcbiAgfTogR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXMpIHtcbiAgICBzdXBlcih7XG4gICAgICBkZXZpY2VNYW5hZ2VyLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGFscGhhTW9kZSxcbiAgICAgIHJlbmRlclBhc3MsXG4gICAgICBtdWx0aXNhbXBsZWQsXG4gICAgICBjYW1lcmEsXG4gICAgfSBhcyBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcylcblxuICAgIHRoaXMudHlwZSA9ICdHUFVDdXJ0YWluc1JlbmRlcmVyJ1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXIjZG9tTWVzaGVzIHwgZG9tTWVzaGVzfSB0byBvdXIgdHJhY2tlZCBlbGVtZW50c1xuICAgKi9cbiAgc2V0UmVuZGVyZXJPYmplY3RzKCkge1xuICAgIHN1cGVyLnNldFJlbmRlcmVyT2JqZWN0cygpXG5cbiAgICB0aGlzLmRvbU1lc2hlcyA9IFtdXG4gIH1cbn1cbiIsImltcG9ydCB7IERPTVBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNjcm9sbE1hbmFnZXJ9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsTWFuYWdlclBhcmFtcyB7XG4gIC8qKiBDdXJyZW50IHNjcm9sbCBwb3NpdGlvbiAqL1xuICBzY3JvbGw/OiBET01Qb3NpdGlvblxuICAvKiogTGFzdCBzY3JvbGwgZGVsdGFzICovXG4gIGRlbHRhPzogRE9NUG9zaXRpb25cbiAgLyoqIFdoZXRoZXIgdGhlIHtAbGluayBTY3JvbGxNYW5hZ2VyfSBzaG91bGQgbGlzdGVuIHRvIHRoZSB3aW5kb3cgc2Nyb2xsIGV2ZW50IG9yIG5vdCAqL1xuICBzaG91bGRXYXRjaD86IGJvb2xlYW5cbiAgLyoqIENhbGxiYWNrIHRvIGV4ZWN1dGUgZWFjaCB0aW1lIHRoZSB7QGxpbmsgU2Nyb2xsTWFuYWdlciNzY3JvbGwgfCBzY3JvbGx9IHZhbHVlcyBjaGFuZ2UgKi9cbiAgb25TY3JvbGw/OiAoZGVsdGE/OiBET01Qb3NpdGlvbikgPT4gdm9pZFxufVxuXG4vKipcbiAqIFVzZWQgdG8ga2VlcCB0cmFjayBvZiBvdXIgc2Nyb2xsIHBvc2l0aW9uLCBzY3JvbGwgZGVsdGFzIGFuZCB0cmlnZ2VyIGFuIG9uU2Nyb2xsIGNhbGxiYWNrLjxicj5cbiAqIENvdWxkIGVpdGhlciBsaXN0ZW4gdG8gdGhlIG5hdGl2ZSBzY3JvbGwgZXZlbnQgb3IgYmUgaG9va2VkIHRvIGFueSBzY3JvbGwgKG5hdHVyYWwgb3IgdmlydHVhbCkgc2Nyb2xsIGV2ZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBTY3JvbGxNYW5hZ2VyIHtcbiAgLyoqIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uICovXG4gIHNjcm9sbDogRE9NUG9zaXRpb25cbiAgLyoqIExhc3Qgc2Nyb2xsIGRlbHRhcyAqL1xuICBkZWx0YTogRE9NUG9zaXRpb25cbiAgLyoqIFdoZXRoZXIgdGhlIHtAbGluayBTY3JvbGxNYW5hZ2VyfSBzaG91bGQgbGlzdGVuIHRvIHRoZSB3aW5kb3cgc2Nyb2xsIGV2ZW50IG9yIG5vdCAqL1xuICBzaG91bGRXYXRjaDogYm9vbGVhblxuICAvKiogQ2FsbGJhY2sgdG8gZXhlY3V0ZSBlYWNoIHRpbWUgdGhlIHtAbGluayBzY3JvbGx9IHZhbHVlcyBjaGFuZ2UgKi9cbiAgb25TY3JvbGw6IChkZWx0YT86IERPTVBvc2l0aW9uKSA9PiB2b2lkXG5cbiAgLyoqXG4gICAqIFNjcm9sbE1hbmFnZXIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgU2Nyb2xsTWFuYWdlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNjcm9sbE1hbmFnZXJ9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgc2Nyb2xsID0geyB4OiAwLCB5OiAwIH0sXG4gICAgZGVsdGEgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICBzaG91bGRXYXRjaCA9IHRydWUsXG4gICAgb25TY3JvbGwgPSAoZGVsdGE6IERPTVBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH0pID0+IHtcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gICAgfSxcbiAgfTogU2Nyb2xsTWFuYWdlclBhcmFtcyA9IHt9KSB7XG4gICAgdGhpcy5zY3JvbGwgPSBzY3JvbGxcbiAgICB0aGlzLmRlbHRhID0gZGVsdGFcblxuICAgIHRoaXMuc2hvdWxkV2F0Y2ggPSBzaG91bGRXYXRjaFxuXG4gICAgdGhpcy5vblNjcm9sbCA9IG9uU2Nyb2xsXG5cbiAgICBpZiAodGhpcy5zaG91bGRXYXRjaCkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2V0U2Nyb2xsLmJpbmQodGhpcyksIHsgcGFzc2l2ZTogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIHNjcm9sbCBldmVudCBsaXN0ZW5lclxuICAgKi9cbiAgc2V0U2Nyb2xsKCkge1xuICAgIHRoaXMudXBkYXRlU2Nyb2xsVmFsdWVzKHsgeDogd2luZG93LnBhZ2VYT2Zmc2V0LCB5OiB3aW5kb3cucGFnZVlPZmZzZXQgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzY3JvbGwgbWFuYWdlciBYIGFuZCBZIHNjcm9sbCB2YWx1ZXMgYXMgd2VsbCBhcyBsYXN0IFggYW5kIFkgZGVsdGFzXG4gICAqIEludGVybmFsbHkgY2FsbGVkIGJ5IHRoZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXJcbiAgICogQ291bGQgYmUgY2FsbGVkIGV4dGVybmFsbHkgYXMgd2VsbCBpZiB0aGUgdXNlciB3YW50cyB0byBoYW5kbGUgdGhlIHNjcm9sbCBieSBoaW1zZWxmXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIGNvcmUvRE9NL0RPTUVsZW1lbnQuRE9NUG9zaXRpb24gfCBzY3JvbGwgdmFsdWVzfVxuICAgKi9cbiAgdXBkYXRlU2Nyb2xsVmFsdWVzKHsgeCwgeSB9OiBET01Qb3NpdGlvbikge1xuICAgIC8vIGdldCBvdXIgc2Nyb2xsIGRlbHRhIHZhbHVlc1xuICAgIGNvbnN0IGxhc3RTY3JvbGwgPSB0aGlzLnNjcm9sbFxuICAgIHRoaXMuc2Nyb2xsID0geyB4LCB5IH1cbiAgICB0aGlzLmRlbHRhID0ge1xuICAgICAgeDogbGFzdFNjcm9sbC54IC0gdGhpcy5zY3JvbGwueCxcbiAgICAgIHk6IGxhc3RTY3JvbGwueSAtIHRoaXMuc2Nyb2xsLnksXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub25TY3JvbGwpIHtcbiAgICAgIHRoaXMub25TY3JvbGwodGhpcy5kZWx0YSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBvdXIgc2Nyb2xsIG1hbmFnZXIgKGp1c3QgcmVtb3ZlIG91ciBldmVudCBsaXN0bmVyIGlmIGl0IGhhZCBiZWVuIGFkZGVkIHByZXZpb3VzbHkpXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnNob3VsZFdhdGNoKSB7XG4gICAgICAvLyBwYXNzaXZlIHRyaWdnZXJzIGEgdHlwZXNjcmlwdCBlcnJvclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMjkxMiNpc3N1ZWNvbW1lbnQtNTIyMTQyOTY5XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zZXRTY3JvbGwuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0gYXMgQWRkRXZlbnRMaXN0ZW5lck9wdGlvbnMgJlxuICAgICAgICBFdmVudExpc3RlbmVyT3B0aW9ucylcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuL3JlbmRlcmVycy9HUFVDdXJ0YWluc1JlbmRlcmVyJ1xuaW1wb3J0IHsgU2Nyb2xsTWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL1Njcm9sbE1hbmFnZXInXG5pbXBvcnQgeyByZXNpemVNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvUmVzaXplTWFuYWdlcidcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBQaW5nUG9uZ1BsYW5lIH0gZnJvbSAnLi9tZXNoZXMvUGluZ1BvbmdQbGFuZSdcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICcuLi9jb3JlL3JlbmRlclBhc3Nlcy9TaGFkZXJQYXNzJ1xuaW1wb3J0IHsgR1BVUmVuZGVyZXIsIEdQVVJlbmRlcmVyUGFyYW1zLCBQcm9qZWN0ZWRNZXNoIH0gZnJvbSAnLi4vY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXInXG5pbXBvcnQgeyBET01NZXNoIH0gZnJvbSAnLi9tZXNoZXMvRE9NTWVzaCdcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9tZXNoZXMvUGxhbmUnXG5pbXBvcnQgeyBDb21wdXRlUGFzcyB9IGZyb20gJy4uL2NvcmUvY29tcHV0ZVBhc3Nlcy9Db21wdXRlUGFzcydcbmltcG9ydCB7IENhbWVyYSwgQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyB9IGZyb20gJy4uL2NvcmUvY2FtZXJhL0NhbWVyYSdcbmltcG9ydCB7IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIERPTUVsZW1lbnRQYXJhbXMsIERPTVBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9ET00vRE9NRWxlbWVudCdcbmltcG9ydCB7IEdQVUNhbWVyYVJlbmRlcmVyLCBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4uL2NvcmUvcmVuZGVyZXJzL0dQVUNhbWVyYVJlbmRlcmVyJ1xuaW1wb3J0IHsgR1BVRGV2aWNlTWFuYWdlciB9IGZyb20gJy4uL2NvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXInXG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uL2NvcmUvcmVuZGVyZXJzL3V0aWxzJ1xuXG4vKipcbiAqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR1BVQ3VydGFpbnNPcHRpb25zIGV4dGVuZHMgT21pdDxHUFVDYW1lcmFSZW5kZXJlclBhcmFtcywgJ2RldmljZU1hbmFnZXInPiB7XG4gIC8qKiBXaGV0aGVyIHtAbGluayBHUFVDdXJ0YWluc30gc2hvdWxkIGNyZWF0ZSBpdHMgb3duIHJlcXVlc3RBbmltYXRpb25GcmFtZSBsb29wIHRvIHJlbmRlciBvciBub3QgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbiAgLyoqIFdoZXRoZXIge0BsaW5rIEdQVUN1cnRhaW5zfSBzaG91bGQgaGFuZGxlIGFsbCByZXNpemluZyBieSBpdHNlbGYgb3Igbm90ICovXG4gIGF1dG9SZXNpemU/OiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIHtAbGluayBHUFVDdXJ0YWluc30gc2hvdWxkIGxpc3RlbiB0byBzY3JvbGwgZXZlbnQgb3Igbm90ICovXG4gIHdhdGNoU2Nyb2xsPzogYm9vbGVhblxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgd2UncmUgcnVubmluZyB0aGUgcHJvZHVjdGlvbiBtb2RlIG9yIG5vdC4gSWYgbm90LCB1c2VmdWwgd2FybmluZ3MgY291bGQgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlICovXG4gIHByb2R1Y3Rpb246IEdQVURldmljZU1hbmFnZXJbJ3Byb2R1Y3Rpb24nXVxufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR1BVQ3VydGFpbnNQYXJhbXMgZXh0ZW5kcyBQYXJ0aWFsPE9taXQ8R1BVQ3VydGFpbnNPcHRpb25zLCAnY29udGFpbmVyJz4+IHtcbiAgLyoqIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHRoYXQgd2lsbCBob2xkIHRoZSBXZWJHUFUge0BsaW5rIEhUTUxDYW52YXNFbGVtZW50fS4gQ291bGQgYmUgc2V0IGxhdGVyIGlmIG5vdCBzcGVjaWZpZWQuICovXG4gIGNvbnRhaW5lcj86IHN0cmluZyB8IEhUTUxFbGVtZW50IHwgbnVsbFxufVxuXG4vKipcbiAqIFVzZWQgYXMgYSBnbG9iYWwgY2xhc3MgdG8gY3JlYXRlIGEge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9LCBjcmVhdGUgYWxsIG9iamVjdHMgdGhhdCBuZWVkIGEgcmVmZXJlbmNlIHRvIGEgcmVuZGVyZXIsIGxpc3RlbiB0byB2YXJpb3VzIGV2ZW50cyBzdWNoIGFzIHNjcm9sbCBhbmQgcmVzaXplIGFuZCByZW5kZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBHUFVDdXJ0YWlucyB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHtAbGluayBHUFVDdXJ0YWluc30gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVUN1cnRhaW5zfSAqL1xuICBvcHRpb25zOiBHUFVDdXJ0YWluc09wdGlvbnNcbiAgLyoqIHtAbGluayBIVE1MRWxlbWVudH0gdGhhdCB3aWxsIGhvbGQgdGhlIFdlYkdQVSB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9ICovXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnRcblxuICAvKioge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9IHVzZWQgdG8gaGFuZGxlIHRoZSB7QGxpbmsgR1BVQWRhcHRlcn0gYW5kIHtAbGluayBHUFVEZXZpY2V9ICovXG4gIGRldmljZU1hbmFnZXI6IEdQVURldmljZU1hbmFnZXJcblxuICAvKiogVGlueSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgd3JhcHBlciAqL1xuICBzY3JvbGxNYW5hZ2VyOiBTY3JvbGxNYW5hZ2VyXG5cbiAgLyoqIFJlcXVlc3QgYW5pbWF0aW9uIGZyYW1lIGNhbGxiYWNrIHJldHVybmVkIGlkIGlmIHVzZWQgKi9cbiAgYW5pbWF0aW9uRnJhbWVJRDogbnVsbCB8IG51bWJlclxuXG4gIC8vIGNhbGxiYWNrcyAvIGV2ZW50c1xuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblNjcm9sbH0gY2FsbGJhY2sgKi9cbiAgX29uU2Nyb2xsQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkVycm9yfSBjYWxsYmFjayAqL1xuICBfb25FcnJvckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25Db250ZXh0TG9zdH0gY2FsbGJhY2sgKi9cbiAgX29uQ29udGV4dExvc3RDYWxsYmFjazogKGluZm8/OiBHUFVEZXZpY2VMb3N0SW5mbykgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG5cbiAgLyoqXG4gICAqIEdQVUN1cnRhaW5zIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVUN1cnRhaW5zUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgY29udGFpbmVyLFxuICAgIHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA/PyAxLFxuICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICBhbHBoYU1vZGUgPSAncHJlbXVsdGlwbGllZCcsXG4gICAgcHJvZHVjdGlvbiA9IGZhbHNlLFxuICAgIG11bHRpc2FtcGxlZCA9IHRydWUsXG4gICAgcmVuZGVyUGFzcyxcbiAgICBjYW1lcmEsXG4gICAgYXV0b1JlbmRlciA9IHRydWUsXG4gICAgYXV0b1Jlc2l6ZSA9IHRydWUsXG4gICAgd2F0Y2hTY3JvbGwgPSB0cnVlLFxuICB9OiBHUFVDdXJ0YWluc1BhcmFtcyA9IHt9KSB7XG4gICAgdGhpcy50eXBlID0gJ0N1cnRhaW5zR1BVJ1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgY29udGFpbmVyLFxuICAgICAgcGl4ZWxSYXRpbyxcbiAgICAgIGNhbWVyYSxcbiAgICAgIHByb2R1Y3Rpb24sXG4gICAgICBwcmVmZXJyZWRGb3JtYXQsXG4gICAgICBhbHBoYU1vZGUsXG4gICAgICBtdWx0aXNhbXBsZWQsXG4gICAgICByZW5kZXJQYXNzLFxuICAgICAgYXV0b1JlbmRlcixcbiAgICAgIGF1dG9SZXNpemUsXG4gICAgICB3YXRjaFNjcm9sbCxcbiAgICB9XG5cbiAgICB0aGlzLnNldERldmljZU1hbmFnZXIoKVxuXG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgdGhpcy5zZXRDb250YWluZXIoY29udGFpbmVyKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBjb250YWluZXJ9XG4gICAqIEBwYXJhbSBjb250YWluZXIgLSB7QGxpbmsgSFRNTEVsZW1lbnR9IG9yIHN0cmluZyByZXByZXNlbnRpbmcgYW4ge0BsaW5rIEhUTUxFbGVtZW50fSBzZWxlY3RvciB0byB1c2VcbiAgICovXG4gIHNldENvbnRhaW5lcihjb250YWluZXI6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSkge1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAnY3VydGFpbnMtZ3B1LWNhbnZhcycpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKVxuXG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjdXJ0YWlucy1ncHUtY2FudmFzJylcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID0gY29udGFpbmVyXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA9IGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudFxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA9IGNvbnRhaW5lciBhcyBIVE1MRWxlbWVudFxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lciBhcyBIVE1MRWxlbWVudFxuXG4gICAgdGhpcy5zZXRDdXJ0YWlucygpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBkZWZhdWx0IHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyIHwgcmVuZGVyZXJ9XG4gICAqL1xuICBzZXRNYWluUmVuZGVyZXIoKSB7XG4gICAgdGhpcy5jcmVhdGVDdXJ0YWluc1JlbmRlcmVyKHtcbiAgICAgIGRldmljZU1hbmFnZXI6IHRoaXMuZGV2aWNlTWFuYWdlcixcbiAgICAgIC8vIFRPRE8gLi4udGhpcy5vcHRpb25zP1xuICAgICAgY29udGFpbmVyOiB0aGlzLm9wdGlvbnMuY29udGFpbmVyLFxuICAgICAgcGl4ZWxSYXRpbzogdGhpcy5vcHRpb25zLnBpeGVsUmF0aW8sXG4gICAgICBwcmVmZXJyZWRGb3JtYXQ6IHRoaXMub3B0aW9ucy5wcmVmZXJyZWRGb3JtYXQsXG4gICAgICBhbHBoYU1vZGU6IHRoaXMub3B0aW9ucy5hbHBoYU1vZGUsXG4gICAgICBtdWx0aXNhbXBsZWQ6IHRoaXMub3B0aW9ucy5tdWx0aXNhbXBsZWQsXG4gICAgICByZW5kZXJQYXNzOiB0aGlzLm9wdGlvbnMucmVuZGVyUGFzcyxcbiAgICAgIGNhbWVyYTogdGhpcy5vcHRpb25zLmNhbWVyYSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFBhdGNoIHRoZSBvcHRpb25zIHdpdGggZGVmYXVsdCB2YWx1ZXMgYmVmb3JlIGNyZWF0aW5nIGEge0BsaW5rIFJlbmRlcmVyfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdG8gcGF0Y2hcbiAgICovXG4gIHBhdGNoUmVuZGVyZXJPcHRpb25zPFQgZXh0ZW5kcyBHUFVSZW5kZXJlclBhcmFtcyB8IEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zPihwYXJhbWV0ZXJzOiBUKTogVCB7XG4gICAgaWYgKHBhcmFtZXRlcnMucGl4ZWxSYXRpbyA9PT0gdW5kZWZpbmVkKSBwYXJhbWV0ZXJzLnBpeGVsUmF0aW8gPSB0aGlzLm9wdGlvbnMucGl4ZWxSYXRpb1xuXG4gICAgcmV0dXJuIHBhcmFtZXRlcnNcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIEdQVVJlbmRlcmVyfSBpbnN0YW5jZVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBHUFVSZW5kZXJlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHRvIHVzZVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyZXIocGFyYW1ldGVyczogR1BVUmVuZGVyZXJQYXJhbXMpOiBHUFVSZW5kZXJlciB7XG4gICAgcGFyYW1ldGVycyA9IHRoaXMucGF0Y2hSZW5kZXJlck9wdGlvbnMocGFyYW1ldGVycylcblxuICAgIHJldHVybiBuZXcgR1BVUmVuZGVyZXIoeyAuLi5wYXJhbWV0ZXJzLCBkZXZpY2VNYW5hZ2VyOiB0aGlzLmRldmljZU1hbmFnZXIgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSBpbnN0YW5jZVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHRvIHVzZVxuICAgKi9cbiAgY3JlYXRlQ2FtZXJhUmVuZGVyZXIocGFyYW1ldGVyczogR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXMpOiBHUFVDYW1lcmFSZW5kZXJlciB7XG4gICAgcGFyYW1ldGVycyA9IHRoaXMucGF0Y2hSZW5kZXJlck9wdGlvbnMocGFyYW1ldGVycylcblxuICAgIHJldHVybiBuZXcgR1BVQ2FtZXJhUmVuZGVyZXIoeyAuLi5wYXJhbWV0ZXJzLCBkZXZpY2VNYW5hZ2VyOiB0aGlzLmRldmljZU1hbmFnZXIgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IGluc3RhbmNlXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIHwgcGFyYW1ldGVyc30gdG8gdXNlXG4gICAqL1xuICBjcmVhdGVDdXJ0YWluc1JlbmRlcmVyKHBhcmFtZXRlcnM6IEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zKTogR1BVQ3VydGFpbnNSZW5kZXJlciB7XG4gICAgcGFyYW1ldGVycyA9IHRoaXMucGF0Y2hSZW5kZXJlck9wdGlvbnMocGFyYW1ldGVycylcblxuICAgIHJldHVybiBuZXcgR1BVQ3VydGFpbnNSZW5kZXJlcih7IC4uLnBhcmFtZXRlcnMsIGRldmljZU1hbmFnZXI6IHRoaXMuZGV2aWNlTWFuYWdlciB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqL1xuICBzZXREZXZpY2VNYW5hZ2VyKCkge1xuICAgIHRoaXMuZGV2aWNlTWFuYWdlciA9IG5ldyBHUFVEZXZpY2VNYW5hZ2VyKHtcbiAgICAgIGxhYmVsOiAnR1BVQ3VydGFpbnMgZGVmYXVsdCBkZXZpY2UnLFxuICAgICAgcHJvZHVjdGlvbjogdGhpcy5vcHRpb25zLnByb2R1Y3Rpb24sXG4gICAgICBvbkVycm9yOiAoKSA9PlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLl9vbkVycm9yQ2FsbGJhY2sgJiYgdGhpcy5fb25FcnJvckNhbGxiYWNrKClcbiAgICAgICAgfSwgMCksXG4gICAgICBvbkRldmljZUxvc3Q6IChpbmZvKSA9PiB0aGlzLl9vbkNvbnRleHRMb3N0Q2FsbGJhY2sgJiYgdGhpcy5fb25Db250ZXh0TG9zdENhbGxiYWNrKGluZm8pLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjcmVhdGVkIHtAbGluayBSZW5kZXJlcn1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyZXJzKCk6IFJlbmRlcmVyW10ge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIucmVuZGVyZXJzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBkZWZhdWx0IHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfSBjcmVhdGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlbmRlcmVyKCk6IEdQVUN1cnRhaW5zUmVuZGVyZXIge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyc1swXSBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0ge0BsaW5rIEdQVURldmljZU1hbmFnZXIjYWRhcHRlciB8IGFkYXB0ZXJ9IGFuZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGlmIHBvc3NpYmxlLCB0aGVuIHNldCBhbGwgY3JlYXRlZCB7QGxpbmsgUmVuZGVyZXJ9IGNvbnRleHRzXG4gICAqL1xuICBhc3luYyBzZXREZXZpY2UoKSB7XG4gICAgYXdhaXQgdGhpcy5kZXZpY2VNYW5hZ2VyLmluaXQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2FkYXB0ZXIgfCBhZGFwdGVyfSBhbmQge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfVxuICAgKiBAYXN5bmNcbiAgICovXG4gIGFzeW5jIHJlc3RvcmVDb250ZXh0KCkge1xuICAgIGF3YWl0IHRoaXMuZGV2aWNlTWFuYWdlci5yZXN0b3JlRGV2aWNlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhcmlvdXMgZXZlbnQgbGlzdGVuZXJzLCBzZXQgdGhlIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfSBhbmQgc3RhcnQgcmVuZGVyaW5nIGlmIG5lZWRlZFxuICAgKi9cbiAgc2V0Q3VydGFpbnMoKSB7XG4gICAgdGhpcy5pbml0RXZlbnRzKClcblxuICAgIHRoaXMuc2V0TWFpblJlbmRlcmVyKClcblxuICAgIC8vIG9ubHkgaWYgYXV0byByZW5kZXJcbiAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9SZW5kZXIpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZSgpXG4gICAgfVxuICB9XG5cbiAgLyogUkVOREVSRVIgVFJBQ0tFRCBPQkpFQ1RTICovXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGNyZWF0ZWQge0BsaW5rIFBpbmdQb25nUGxhbmV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHBpbmdQb25nUGxhbmVzKCk6IFBpbmdQb25nUGxhbmVbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzPy5tYXAoKHJlbmRlcmVyKSA9PiByZW5kZXJlci5waW5nUG9uZ1BsYW5lcykuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgU2hhZGVyUGFzc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2hhZGVyUGFzc2VzKCk6IFNoYWRlclBhc3NbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzPy5tYXAoKHJlbmRlcmVyKSA9PiByZW5kZXJlci5zaGFkZXJQYXNzZXMpLmZsYXQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGNyZWF0ZWQge0BsaW5rIFByb2plY3RlZE1lc2ggfCBwcm9qZWN0ZWQgbWVzaGVzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBtZXNoZXMoKTogUHJvamVjdGVkTWVzaFtdIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcnM/Lm1hcCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLm1lc2hlcykuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgRE9NTWVzaCB8IERPTSBNZXNoZXN9IChpbmNsdWRpbmcge0BsaW5rIFBsYW5lIHwgcGxhbmVzfSlcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgZG9tTWVzaGVzKCk6IERPTU1lc2hbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzXG4gICAgICA/LmZpbHRlcigocmVuZGVyZXIpID0+IHJlbmRlcmVyIGluc3RhbmNlb2YgR1BVQ3VydGFpbnNSZW5kZXJlcilcbiAgICAgIC5tYXAoKHJlbmRlcmVyOiBHUFVDdXJ0YWluc1JlbmRlcmVyKSA9PiByZW5kZXJlci5kb21NZXNoZXMpXG4gICAgICAuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgUGxhbmUgfCBwbGFuZXN9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHBsYW5lcygpOiBQbGFuZVtdIHtcbiAgICByZXR1cm4gdGhpcy5kb21NZXNoZXMuZmlsdGVyKChkb21NZXNoKSA9PiBkb21NZXNoIGluc3RhbmNlb2YgUGxhbmUpIGFzIFBsYW5lW11cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBDb21wdXRlUGFzcyB8IGNvbXB1dGUgcGFzc2VzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjb21wdXRlUGFzc2VzKCk6IENvbXB1dGVQYXNzW10ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVycz8ubWFwKChyZW5kZXJlcikgPT4gcmVuZGVyZXIuY29tcHV0ZVBhc3NlcykuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlciNjYW1lcmEgfCBkZWZhdWx0IEdQVUN1cnRhaW5zUmVuZGVyZXIgY2FtZXJhfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjYW1lcmEoKTogQ2FtZXJhIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcj8uY2FtZXJhXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlciNzZXRQZXJzcGVjdGl2ZSB8IGRlZmF1bHQgR1BVQ3VydGFpbnNSZW5kZXJlciBjYW1lcmF9IHBlcnNwZWN0aXZlXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnMgfCBwYXJhbWV0ZXJzfSB0byB1c2UgZm9yIHRoZSBwZXJzcGVjdGl2ZVxuICAgKi9cbiAgc2V0UGVyc3BlY3RpdmUoeyBmb3YgPSA1MCwgbmVhciA9IDAuMDEsIGZhciA9IDUwIH06IENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMucmVuZGVyZXI/LnNldFBlcnNwZWN0aXZlKHsgZm92LCBuZWFyLCBmYXIgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlZmF1bHQge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXIjc2V0UGVyc3BlY3RpdmUgfCBkZWZhdWx0IEdQVUN1cnRhaW5zUmVuZGVyZXIgY2FtZXJhfSB7QGxpbmsgQ2FtZXJhI3Bvc2l0aW9uIHwgcG9zaXRpb259XG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIG5ldyB7QGxpbmsgQ2FtZXJhI3Bvc2l0aW9uIHwgcG9zaXRpb259XG4gICAqL1xuICBzZXRDYW1lcmFQb3NpdGlvbihwb3NpdGlvbjogVmVjMyA9IG5ldyBWZWMzKDAsIDAsIDEpKSB7XG4gICAgdGhpcy5yZW5kZXJlcj8uc2V0Q2FtZXJhUG9zaXRpb24ocG9zaXRpb24pXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlciNzZXRQZXJzcGVjdGl2ZSB8IGRlZmF1bHQgR1BVQ3VydGFpbnNSZW5kZXJlciBib3VuZGluZyByZWN0YW5nbGV9XG4gICAqL1xuICBnZXQgYm91bmRpbmdSZWN0KCk6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3Qge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyPy5ib3VuZGluZ1JlY3RcbiAgfVxuXG4gIC8qIFNDUk9MTCAqL1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBzY3JvbGxNYW5hZ2VyfVxuICAgKi9cbiAgaW5pdFNjcm9sbCgpIHtcbiAgICB0aGlzLnNjcm9sbE1hbmFnZXIgPSBuZXcgU2Nyb2xsTWFuYWdlcih7XG4gICAgICAvLyBpbml0IHZhbHVlc1xuICAgICAgc2Nyb2xsOiB7XG4gICAgICAgIHg6IHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgfSxcbiAgICAgIGRlbHRhOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICB9LFxuICAgICAgc2hvdWxkV2F0Y2g6IHRoaXMub3B0aW9ucy53YXRjaFNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsOiAoZGVsdGEpID0+IHRoaXMudXBkYXRlU2Nyb2xsKGRlbHRhKSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbGwge0BsaW5rIERPTU1lc2gjdXBkYXRlU2Nyb2xsUG9zaXRpb24gfCBET01NZXNoIHNjcm9sbCBwb3NpdGlvbnN9XG4gICAqIEBwYXJhbSBkZWx0YSAtIGxhc3Qge0BsaW5rIFNjcm9sbE1hbmFnZXIjZGVsdGEgfCBzY3JvbGwgZGVsdGEgdmFsdWVzfVxuICAgKi9cbiAgdXBkYXRlU2Nyb2xsKGRlbHRhOiBET01Qb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9KSB7XG4gICAgdGhpcy5kb21NZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgaWYgKG1lc2guZG9tRWxlbWVudCkge1xuICAgICAgICBtZXNoLnVwZGF0ZVNjcm9sbFBvc2l0aW9uKGRlbHRhKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLl9vblNjcm9sbENhbGxiYWNrICYmIHRoaXMuX29uU2Nyb2xsQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBvdXIge0BsaW5rIFNjcm9sbE1hbmFnZXIjc2Nyb2xsIHwgc2Nyb2xsTWFuYWdlciBzY3JvbGwgdmFsdWVzfS4gQ2FsbGVkIGVhY2ggdGltZSB0aGUgc2Nyb2xsIGhhcyBjaGFuZ2VkIGlmIHtAbGluayBHUFVDdXJ0YWlucyNvcHRpb25zLndhdGNoU2Nyb2xsIHwgd2F0Y2hTY3JvbGwgb3B0aW9ufSBpcyBzZXQgdG8gdHJ1ZS4gQ291bGQgYmUgY2FsbGVkIGV4dGVybmFsbHkgYXMgd2VsbC5cbiAgICogQHBhcmFtIHNjcm9sbCAtIG5ldyB7QGxpbmsgRE9NUG9zaXRpb24gfCBzY3JvbGwgdmFsdWVzfVxuICAgKi9cbiAgdXBkYXRlU2Nyb2xsVmFsdWVzKHNjcm9sbDogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkge1xuICAgIHRoaXMuc2Nyb2xsTWFuYWdlci51cGRhdGVTY3JvbGxWYWx1ZXMoc2Nyb2xsKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIFNjcm9sbE1hbmFnZXIjZGVsdGEgfCBzY3JvbGxNYW5hZ2VyIGRlbHRhIHZhbHVlc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2Nyb2xsRGVsdGEoKTogRE9NUG9zaXRpb24ge1xuICAgIHJldHVybiB0aGlzLnNjcm9sbE1hbmFnZXIuZGVsdGFcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBTY3JvbGxNYW5hZ2VyI3Njcm9sbCB8IHNjcm9sbE1hbmFnZXIgc2Nyb2xsIHZhbHVlc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc2Nyb2xsVmFsdWVzKCk6IERPTVBvc2l0aW9uIHtcbiAgICByZXR1cm4gdGhpcy5zY3JvbGxNYW5hZ2VyLnNjcm9sbFxuICB9XG5cbiAgLyogRVZFTlQgTElTVEVORVJTICovXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVzaXplIGFuZCBzY3JvbGwgZXZlbnQgbGlzdGVuZXJzXG4gICAqL1xuICBpbml0RXZlbnRzKCkge1xuICAgIHJlc2l6ZU1hbmFnZXIudXNlT2JzZXJ2ZXIodGhpcy5vcHRpb25zLmF1dG9SZXNpemUpXG5cbiAgICB0aGlzLmluaXRTY3JvbGwoKVxuICB9XG5cbiAgLyogRVZFTlRTICovXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhdCBlYWNoIHJlbmRlciBmcmFtZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gYXQgZWFjaCByZW5kZXJcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIEdQVUN1cnRhaW5zfVxuICAgKi9cbiAgb25SZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBHUFVDdXJ0YWlucyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBlYWNoIHRpbWUgdGhlIHtAbGluayBTY3JvbGxNYW5hZ2VyI3Njcm9sbCB8IHNjcm9sbE1hbmFnZXIgc2Nyb2xsIHZhbHVlc30gY2hhbmdlZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gZWFjaCB0aW1lIHRoZSB7QGxpbmsgU2Nyb2xsTWFuYWdlciNzY3JvbGwgfCBzY3JvbGxNYW5hZ2VyIHNjcm9sbCB2YWx1ZXN9IGNoYW5nZWRcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIEdQVUN1cnRhaW5zfVxuICAgKi9cbiAgb25TY3JvbGwoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBHUFVDdXJ0YWlucyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblNjcm9sbENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBpZiB0aGVyZSdzIGJlZW4gYW4gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGNyZWF0ZSB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gaWYgdGhlcmUncyBiZWVuIGFuIGVycm9yIHdoaWxlIHRyeWluZyB0byBjcmVhdGUgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX1cbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIEdQVUN1cnRhaW5zfVxuICAgKi9cbiAgb25FcnJvcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IEdQVUN1cnRhaW5zIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uRXJyb3JDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbmV2ZXIgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaXMgbG9zdFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbmV2ZXIgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaXMgbG9zdFxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gICAqL1xuICBvbkNvbnRleHRMb3N0KGNhbGxiYWNrOiAoaW5mbz86IEdQVURldmljZUxvc3RJbmZvKSA9PiB2b2lkKTogR1BVQ3VydGFpbnMge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25Db250ZXh0TG9zdENhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHJlcXVlc3RBbmltYXRpb25GcmFtZSBsb29wIGFuZCBydW4gaXRcbiAgICovXG4gIGFuaW1hdGUoKSB7XG4gICAgdGhpcy5yZW5kZXIoKVxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJRCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlLmJpbmQodGhpcykpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICB0aGlzLl9vblJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2soKVxuXG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLnJlbmRlcigpXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIEdQVUN1cnRhaW5zfSBhbmQge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSUQpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lSUQpXG4gICAgfVxuXG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLmRlc3Ryb3koKVxuICAgIHRoaXMuc2Nyb2xsTWFuYWdlcj8uZGVzdHJveSgpXG4gICAgcmVzaXplTWFuYWdlci5kZXN0cm95KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5kZXhlZEdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vY29yZS9nZW9tZXRyaWVzL0luZGV4ZWRHZW9tZXRyeSdcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBHZW9tZXRyeUJhc2VQYXJhbXMgfSBmcm9tICcuLi8uLi90eXBlcy9HZW9tZXRyaWVzJ1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQm94R2VvbWV0cnl9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQm94R2VvbWV0cnlQYXJhbXMgZXh0ZW5kcyBHZW9tZXRyeUJhc2VQYXJhbXMge1xuICAvKiogTnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBYIGF4aXMgKi9cbiAgd2lkdGhTZWdtZW50cz86IG51bWJlclxuICAvKiogTnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBZIGF4aXMgKi9cbiAgaGVpZ2h0U2VnbWVudHM/OiBudW1iZXJcbiAgLyoqIE51bWJlciBvZiBzZWdtZW50cyBhbG9uZyB0aGUgWiBheGlzICovXG4gIGRlcHRoU2VnbWVudHM/OiBudW1iZXJcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZWFzaWx5IGNyZWF0ZSAzRCBib3ggaW5kZXhlZCBnZW9tZXRyaWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCBib3hHZW9tZXRyeSA9IG5ldyBCb3hHZW9tZXRyeSgpXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEJveEdlb21ldHJ5IGV4dGVuZHMgSW5kZXhlZEdlb21ldHJ5IHtcbiAgY29uc3RydWN0b3IoXG4gICAge1xuICAgICAgd2lkdGhTZWdtZW50cyA9IDEsXG4gICAgICBoZWlnaHRTZWdtZW50cyA9IDEsXG4gICAgICBkZXB0aFNlZ21lbnRzID0gMSxcbiAgICAgIGluc3RhbmNlc0NvdW50ID0gMSxcbiAgICAgIHZlcnRleEJ1ZmZlcnMgPSBbXSxcbiAgICAgIHRvcG9sb2d5LFxuICAgIH0gPSB7fSBhcyBCb3hHZW9tZXRyeVBhcmFtc1xuICApIHtcbiAgICBzdXBlcih7IHZlcnRpY2VzT3JkZXI6ICdjY3cnLCB0b3BvbG9neSwgaW5zdGFuY2VzQ291bnQsIHZlcnRleEJ1ZmZlcnMgfSlcblxuICAgIHRoaXMudHlwZSA9ICdCb3hHZW9tZXRyeSdcblxuICAgIC8vIHRha2VuIGZyb20gdGhyZWVqc1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9kZXYvc3JjL2dlb21ldHJpZXMvQm94R2VvbWV0cnkuanNcbiAgICB3aWR0aFNlZ21lbnRzID0gTWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKVxuICAgIGhlaWdodFNlZ21lbnRzID0gTWF0aC5mbG9vcihoZWlnaHRTZWdtZW50cylcbiAgICBkZXB0aFNlZ21lbnRzID0gTWF0aC5mbG9vcihkZXB0aFNlZ21lbnRzKVxuXG4gICAgY29uc3QgdmVydGljZXMgPSBbXVxuICAgIGNvbnN0IHV2cyA9IFtdXG4gICAgY29uc3Qgbm9ybWFscyA9IFtdXG4gICAgY29uc3QgaW5kaWNlcyA9IFtdXG5cbiAgICBsZXQgbnVtYmVyT2ZWZXJ0aWNlcyA9IDBcblxuICAgIGNvbnN0IGJ1aWxkUGxhbmUgPSAodSwgdiwgdywgdWRpciwgdmRpciwgd2lkdGgsIGhlaWdodCwgZGVwdGgsIGdyaWRYLCBncmlkWSkgPT4ge1xuICAgICAgY29uc3Qgc2VnbWVudFdpZHRoID0gd2lkdGggLyBncmlkWFxuICAgICAgY29uc3Qgc2VnbWVudEhlaWdodCA9IGhlaWdodCAvIGdyaWRZXG5cbiAgICAgIGNvbnN0IHdpZHRoSGFsZiA9IHdpZHRoIC8gMlxuICAgICAgY29uc3QgaGVpZ2h0SGFsZiA9IGhlaWdodCAvIDJcbiAgICAgIGNvbnN0IGRlcHRoSGFsZiA9IGRlcHRoIC8gMlxuXG4gICAgICBjb25zdCBncmlkWDEgPSBncmlkWCArIDFcbiAgICAgIGNvbnN0IGdyaWRZMSA9IGdyaWRZICsgMVxuXG4gICAgICBsZXQgdmVydGV4Q291bnRlciA9IDBcblxuICAgICAgY29uc3QgdmVjdG9yID0gbmV3IFZlYzMoKVxuXG4gICAgICAvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzXG5cbiAgICAgIGZvciAobGV0IGl5ID0gMDsgaXkgPCBncmlkWTE7IGl5KyspIHtcbiAgICAgICAgY29uc3QgeSA9IGl5ICogc2VnbWVudEhlaWdodCAtIGhlaWdodEhhbGZcblxuICAgICAgICBmb3IgKGxldCBpeCA9IDA7IGl4IDwgZ3JpZFgxOyBpeCsrKSB7XG4gICAgICAgICAgY29uc3QgeCA9IGl4ICogc2VnbWVudFdpZHRoIC0gd2lkdGhIYWxmXG5cbiAgICAgICAgICAvLyBzZXQgdmFsdWVzIHRvIGNvcnJlY3QgdmVjdG9yIGNvbXBvbmVudFxuXG4gICAgICAgICAgdmVjdG9yW3VdID0geCAqIHVkaXJcbiAgICAgICAgICB2ZWN0b3Jbdl0gPSB5ICogdmRpclxuICAgICAgICAgIHZlY3Rvclt3XSA9IGRlcHRoSGFsZlxuXG4gICAgICAgICAgLy8gbm93IGFwcGx5IHZlY3RvciB0byB2ZXJ0ZXggYnVmZmVyXG5cbiAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnopXG5cbiAgICAgICAgICAvLyBzZXQgdmFsdWVzIHRvIGNvcnJlY3QgdmVjdG9yIGNvbXBvbmVudFxuXG4gICAgICAgICAgdmVjdG9yW3VdID0gMFxuICAgICAgICAgIHZlY3Rvclt2XSA9IDBcbiAgICAgICAgICB2ZWN0b3Jbd10gPSBkZXB0aCA+IDAgPyAxIDogLTFcblxuICAgICAgICAgIC8vIG5vdyBhcHBseSB2ZWN0b3IgdG8gbm9ybWFsIGJ1ZmZlclxuXG4gICAgICAgICAgbm9ybWFscy5wdXNoKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnopXG5cbiAgICAgICAgICAvLyB1dnNcblxuICAgICAgICAgIHV2cy5wdXNoKGl4IC8gZ3JpZFgpXG4gICAgICAgICAgdXZzLnB1c2goaXkgLyBncmlkWSlcblxuICAgICAgICAgIC8vIGNvdW50ZXJzXG5cbiAgICAgICAgICB2ZXJ0ZXhDb3VudGVyICs9IDFcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpbmRpY2VzXG5cbiAgICAgIC8vIDEuIHlvdSBuZWVkIHRocmVlIGluZGljZXMgdG8gZHJhdyBhIHNpbmdsZSBmYWNlXG4gICAgICAvLyAyLiBhIHNpbmdsZSBzZWdtZW50IGNvbnNpc3RzIG9mIHR3byBmYWNlc1xuICAgICAgLy8gMy4gc28gd2UgbmVlZCB0byBnZW5lcmF0ZSBzaXggKDIqMykgaW5kaWNlcyBwZXIgc2VnbWVudFxuXG4gICAgICBmb3IgKGxldCBpeSA9IDA7IGl5IDwgZ3JpZFk7IGl5KyspIHtcbiAgICAgICAgZm9yIChsZXQgaXggPSAwOyBpeCA8IGdyaWRYOyBpeCsrKSB7XG4gICAgICAgICAgY29uc3QgYSA9IG51bWJlck9mVmVydGljZXMgKyBpeCArIGdyaWRYMSAqIGl5XG4gICAgICAgICAgY29uc3QgYiA9IG51bWJlck9mVmVydGljZXMgKyBpeCArIGdyaWRYMSAqIChpeSArIDEpXG4gICAgICAgICAgY29uc3QgYyA9IG51bWJlck9mVmVydGljZXMgKyAoaXggKyAxKSArIGdyaWRYMSAqIChpeSArIDEpXG4gICAgICAgICAgY29uc3QgZCA9IG51bWJlck9mVmVydGljZXMgKyAoaXggKyAxKSArIGdyaWRYMSAqIGl5XG5cbiAgICAgICAgICAvLyBmYWNlc1xuXG4gICAgICAgICAgaW5kaWNlcy5wdXNoKGEsIGIsIGQpXG4gICAgICAgICAgaW5kaWNlcy5wdXNoKGIsIGMsIGQpXG5cbiAgICAgICAgICAvLyB1cGRhdGUgdG90YWwgbnVtYmVyIG9mIHZlcnRpY2VzXG5cbiAgICAgICAgICBudW1iZXJPZlZlcnRpY2VzICs9IHZlcnRleENvdW50ZXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGJ1aWxkUGxhbmUoJ3onLCAneScsICd4JywgLTEsIC0xLCAyLCAyLCAyLCBkZXB0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cykgLy8gcHhcbiAgICBidWlsZFBsYW5lKCd6JywgJ3knLCAneCcsIDEsIC0xLCAyLCAyLCAtMiwgZGVwdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpIC8vIG54XG4gICAgYnVpbGRQbGFuZSgneCcsICd6JywgJ3knLCAxLCAxLCAyLCAyLCAyLCB3aWR0aFNlZ21lbnRzLCBkZXB0aFNlZ21lbnRzKSAvLyBweVxuICAgIGJ1aWxkUGxhbmUoJ3gnLCAneicsICd5JywgMSwgLTEsIDIsIDIsIC0yLCB3aWR0aFNlZ21lbnRzLCBkZXB0aFNlZ21lbnRzKSAvLyBueVxuICAgIGJ1aWxkUGxhbmUoJ3gnLCAneScsICd6JywgMSwgLTEsIDIsIDIsIDIsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKSAvLyBwelxuICAgIGJ1aWxkUGxhbmUoJ3gnLCAneScsICd6JywgLTEsIC0xLCAyLCAyLCAtMiwgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpIC8vIG56XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAncG9zaXRpb24nLFxuICAgICAgdHlwZTogJ3ZlYzNmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXG4gICAgICBzaXplOiAzLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAndXYnLFxuICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MicsXG4gICAgICBzaXplOiAyLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodXZzKSxcbiAgICB9KVxuXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoe1xuICAgICAgbmFtZTogJ25vcm1hbCcsXG4gICAgICB0eXBlOiAndmVjM2YnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcbiAgICAgIHNpemU6IDMsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheShub3JtYWxzKSxcbiAgICB9KVxuXG4gICAgdGhpcy5zZXRJbmRleEJ1ZmZlcih7XG4gICAgICBhcnJheTogdGhpcy51c2VVaW50MTZJbmRleEFycmF5ID8gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpIDogbmV3IFVpbnQzMkFycmF5KGluZGljZXMpLFxuICAgICAgYnVmZmVyRm9ybWF0OiB0aGlzLnVzZVVpbnQxNkluZGV4QXJyYXkgPyAndWludDE2JyA6ICd1aW50MzInLFxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IEluZGV4ZWRHZW9tZXRyeSB9IGZyb20gJy4uLy4uL2NvcmUvZ2VvbWV0cmllcy9JbmRleGVkR2VvbWV0cnknXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xuaW1wb3J0IHsgR2VvbWV0cnlCYXNlUGFyYW1zIH0gZnJvbSAnLi4vLi4vdHlwZXMvR2VvbWV0cmllcydcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNwaGVyZUdlb21ldHJ5fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNwaGVyZUdlb21ldHJ5UGFyYW1zIGV4dGVuZHMgR2VvbWV0cnlCYXNlUGFyYW1zIHtcbiAgLyoqIE51bWJlciBvZiBob3Jpem9udGFsIHNlZ21lbnRzICovXG4gIHdpZHRoU2VnbWVudHM/OiBudW1iZXJcbiAgLyoqIE51bWJlciBvZiB2ZXJ0aWNhbCBzZWdtZW50cyAqL1xuICBoZWlnaHRTZWdtZW50cz86IG51bWJlclxuICAvKiogSG9yaXpvbnRhbCBzdGFydGluZyBhbmdsZSAqL1xuICBwaGlTdGFydD86IG51bWJlclxuICAvKiogSG9yaXpvbnRhbCBzd2VlcCBhbmdsZSBzaXplICovXG4gIHBoaUxlbmd0aD86IG51bWJlclxuICAvKiogVmVydGljYWwgc3RhcnRpbmcgYW5nbGUgKi9cbiAgdGhldGFTdGFydD86IG51bWJlclxuICAvKiogVmVydGljYWwgc3dlZXAgYW5nbGUgc2l6ZSAqL1xuICB0aGV0YUxlbmd0aD86IG51bWJlclxufVxuXG4vKipcbiAqIEhlbHBlciB0byBlYXNpbHkgY3JlYXRlIDNEIHNwaGVyZSBpbmRleGVkIGdlb21ldHJpZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHNwaGVyZUdlb21ldHJ5ID0gbmV3IFNwaGVyZUdlb21ldHJ5KClcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU3BoZXJlR2VvbWV0cnkgZXh0ZW5kcyBJbmRleGVkR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICB3aWR0aFNlZ21lbnRzID0gMzIsXG4gICAgICBoZWlnaHRTZWdtZW50cyA9IDE2LFxuICAgICAgcGhpU3RhcnQgPSAwLFxuICAgICAgcGhpTGVuZ3RoID0gTWF0aC5QSSAqIDIsXG4gICAgICB0aGV0YVN0YXJ0ID0gMCxcbiAgICAgIHRoZXRhTGVuZ3RoID0gTWF0aC5QSSxcbiAgICAgIGluc3RhbmNlc0NvdW50ID0gMSxcbiAgICAgIHZlcnRleEJ1ZmZlcnMgPSBbXSxcbiAgICAgIHRvcG9sb2d5LFxuICAgIH0gPSB7fSBhcyBTcGhlcmVHZW9tZXRyeVBhcmFtc1xuICApIHtcbiAgICBzdXBlcih7IHZlcnRpY2VzT3JkZXI6ICdjY3cnLCB0b3BvbG9neSwgaW5zdGFuY2VzQ291bnQsIHZlcnRleEJ1ZmZlcnMgfSlcblxuICAgIHRoaXMudHlwZSA9ICdTcGhlcmVHZW9tZXRyeSdcblxuICAgIC8vIHRha2VuIGZyb20gdGhyZWVqc1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9kZXYvc3JjL2dlb21ldHJpZXMvU3BoZXJlR2VvbWV0cnkuanNcbiAgICB3aWR0aFNlZ21lbnRzID0gTWF0aC5tYXgoMywgTWF0aC5mbG9vcih3aWR0aFNlZ21lbnRzKSlcbiAgICBoZWlnaHRTZWdtZW50cyA9IE1hdGgubWF4KDIsIE1hdGguZmxvb3IoaGVpZ2h0U2VnbWVudHMpKVxuXG4gICAgY29uc3QgcmFkaXVzID0gMVxuICAgIGNvbnN0IHRoZXRhRW5kID0gTWF0aC5taW4odGhldGFTdGFydCArIHRoZXRhTGVuZ3RoLCBNYXRoLlBJKVxuXG4gICAgbGV0IGluZGV4ID0gMFxuICAgIGNvbnN0IGdyaWQgPSBbXVxuXG4gICAgY29uc3QgdmVydGV4ID0gbmV3IFZlYzMoKVxuICAgIGNvbnN0IG5vcm1hbCA9IG5ldyBWZWMzKClcblxuICAgIC8vIGJ1ZmZlcnNcblxuICAgIGNvbnN0IGluZGljZXMgPSBbXVxuICAgIGNvbnN0IHZlcnRpY2VzID0gW11cbiAgICBjb25zdCBub3JtYWxzID0gW11cbiAgICBjb25zdCB1dnMgPSBbXVxuXG4gICAgLy8gZ2VuZXJhdGUgdmVydGljZXMsIG5vcm1hbHMgYW5kIHV2c1xuXG4gICAgZm9yIChsZXQgaXkgPSAwOyBpeSA8PSBoZWlnaHRTZWdtZW50czsgaXkrKykge1xuICAgICAgY29uc3QgdmVydGljZXNSb3cgPSBbXVxuXG4gICAgICBjb25zdCB2ID0gaXkgLyBoZWlnaHRTZWdtZW50c1xuXG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIHRoZSBwb2xlc1xuXG4gICAgICBsZXQgdU9mZnNldCA9IDBcblxuICAgICAgaWYgKGl5ID09PSAwICYmIHRoZXRhU3RhcnQgPT09IDApIHtcbiAgICAgICAgdU9mZnNldCA9IDAuNSAvIHdpZHRoU2VnbWVudHNcbiAgICAgIH0gZWxzZSBpZiAoaXkgPT09IGhlaWdodFNlZ21lbnRzICYmIHRoZXRhRW5kID09PSBNYXRoLlBJKSB7XG4gICAgICAgIHVPZmZzZXQgPSAtMC41IC8gd2lkdGhTZWdtZW50c1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpeCA9IDA7IGl4IDw9IHdpZHRoU2VnbWVudHM7IGl4KyspIHtcbiAgICAgICAgY29uc3QgdSA9IGl4IC8gd2lkdGhTZWdtZW50c1xuXG4gICAgICAgIC8vIHZlcnRleFxuXG4gICAgICAgIHZlcnRleC54ID0gLXJhZGl1cyAqIE1hdGguY29zKHBoaVN0YXJ0ICsgdSAqIHBoaUxlbmd0aCkgKiBNYXRoLnNpbih0aGV0YVN0YXJ0ICsgdiAqIHRoZXRhTGVuZ3RoKVxuICAgICAgICB2ZXJ0ZXgueSA9IHJhZGl1cyAqIE1hdGguY29zKHRoZXRhU3RhcnQgKyB2ICogdGhldGFMZW5ndGgpXG4gICAgICAgIHZlcnRleC56ID0gcmFkaXVzICogTWF0aC5zaW4ocGhpU3RhcnQgKyB1ICogcGhpTGVuZ3RoKSAqIE1hdGguc2luKHRoZXRhU3RhcnQgKyB2ICogdGhldGFMZW5ndGgpXG5cbiAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXgueCwgdmVydGV4LnksIHZlcnRleC56KVxuXG4gICAgICAgIC8vIG5vcm1hbFxuXG4gICAgICAgIG5vcm1hbC5jb3B5KHZlcnRleCkubm9ybWFsaXplKClcbiAgICAgICAgbm9ybWFscy5wdXNoKG5vcm1hbC54LCBub3JtYWwueSwgbm9ybWFsLnopXG5cbiAgICAgICAgLy8gdXZcblxuICAgICAgICB1dnMucHVzaCh1ICsgdU9mZnNldCwgdilcblxuICAgICAgICB2ZXJ0aWNlc1Jvdy5wdXNoKGluZGV4KyspXG4gICAgICB9XG5cbiAgICAgIGdyaWQucHVzaCh2ZXJ0aWNlc1JvdylcbiAgICB9XG5cbiAgICAvLyBpbmRpY2VzXG5cbiAgICBmb3IgKGxldCBpeSA9IDA7IGl5IDwgaGVpZ2h0U2VnbWVudHM7IGl5KyspIHtcbiAgICAgIGZvciAobGV0IGl4ID0gMDsgaXggPCB3aWR0aFNlZ21lbnRzOyBpeCsrKSB7XG4gICAgICAgIGNvbnN0IGEgPSBncmlkW2l5XVtpeCArIDFdXG4gICAgICAgIGNvbnN0IGIgPSBncmlkW2l5XVtpeF1cbiAgICAgICAgY29uc3QgYyA9IGdyaWRbaXkgKyAxXVtpeF1cbiAgICAgICAgY29uc3QgZCA9IGdyaWRbaXkgKyAxXVtpeCArIDFdXG5cbiAgICAgICAgaWYgKGl5ICE9PSAwIHx8IHRoZXRhU3RhcnQgPiAwKSBpbmRpY2VzLnB1c2goYSwgYiwgZClcbiAgICAgICAgaWYgKGl5ICE9PSBoZWlnaHRTZWdtZW50cyAtIDEgfHwgdGhldGFFbmQgPCBNYXRoLlBJKSBpbmRpY2VzLnB1c2goYiwgYywgZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAncG9zaXRpb24nLFxuICAgICAgdHlwZTogJ3ZlYzNmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXG4gICAgICBzaXplOiAzLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAndXYnLFxuICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MicsXG4gICAgICBzaXplOiAyLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodXZzKSxcbiAgICB9KVxuXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoe1xuICAgICAgbmFtZTogJ25vcm1hbCcsXG4gICAgICB0eXBlOiAndmVjM2YnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcbiAgICAgIHNpemU6IDMsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheShub3JtYWxzKSxcbiAgICB9KVxuXG4gICAgdGhpcy5zZXRJbmRleEJ1ZmZlcih7XG4gICAgICBhcnJheTogdGhpcy51c2VVaW50MTZJbmRleEFycmF5ID8gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpIDogbmV3IFVpbnQzMkFycmF5KGluZGljZXMpLFxuICAgICAgYnVmZmVyRm9ybWF0OiB0aGlzLnVzZVVpbnQxNkluZGV4QXJyYXkgPyAndWludDE2JyA6ICd1aW50MzInLFxuICAgIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJpc1JlbmRlcmVyIiwiaXNDYW1lcmFSZW5kZXJlciIsImlzQ3VydGFpbnNSZW5kZXJlciIsImdlbmVyYXRlTWlwcyIsImFycmF5VmlldyIsInZhbHVlIiwiYmluZGluZ0tleSIsImJ1ZmZlckVsZW1lbnQiLCJfX3ByaXZhdGVBZGQiLCJfX3ByaXZhdGVHZXQiLCJfX3ByaXZhdGVTZXQiLCJfYXV0b1JlbmRlciIsImF0dHJpYnV0ZSIsIkRPTU1lc2hQYXJhbXMiLCJleGlzdGluZ1NhbXBsZXIiLCJkZWx0YSIsImNvbnRhaW5lciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0VBSU8sTUFBTSxlQUFlLE1BQWM7RUFDeEMsRUFBQSxPQUFPLHNDQUF1QyxDQUFBLE9BQUEsQ0FBUSxPQUFTLEVBQUEsQ0FBQyxDQUFNLEtBQUE7RUFDcEUsSUFBTSxNQUFBLENBQUEsR0FBSyxJQUFLLENBQUEsTUFBQSxFQUFXLEdBQUEsRUFBQSxHQUFNLENBQy9CLEVBQUEsQ0FBQSxHQUFJLENBQU0sS0FBQSxHQUFBLEdBQU0sQ0FBSyxHQUFBLENBQUEsR0FBSSxDQUFPLEdBQUEsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsT0FBTyxDQUFFLENBQUEsUUFBQSxDQUFTLEVBQUUsQ0FBQSxDQUFFLFdBQVksRUFBQSxDQUFBO0VBQUEsR0FDbkMsQ0FBQSxDQUFBO0VBQ0gsQ0FBQSxDQUFBO0VBT2EsTUFBQSxXQUFBLEdBQWMsQ0FBQyxNQUEyQixLQUFBO0VBQ3JELEVBQUEsT0FBTyxPQUNKLE9BQVEsQ0FBQSxxQkFBQSxFQUF1QixDQUFDLEdBQUEsRUFBSyxRQUFTLEdBQVEsS0FBQSxDQUFBLEdBQUksR0FBSSxDQUFBLFdBQUEsS0FBZ0IsR0FBSSxDQUFBLFdBQUEsRUFBYyxDQUNoRyxDQUFBLE9BQUEsQ0FBUSxRQUFRLEVBQUUsQ0FBQSxDQUFBO0VBQ3ZCLENBQUEsQ0FBQTtFQU9hLE1BQUEsV0FBQSxHQUFjLENBQUMsTUFB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QUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFlBQWEsRUFBQTtFQUFBLElBQzFFLEdBQUEsRUFBSyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBRXpFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFlBQWEsRUFBQTtFQUFBLElBQzVFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFVBQVcsRUFBQTtFQUFBLElBQzFFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBQzNFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBQzNFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFVBQVcsRUFBQTtFQUFBLElBQzVFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBQzdFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFlBQWEsRUFBQTtFQUFBLElBQzlFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBQzNFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFVBQVcsRUFBQTtFQUFBLElBQzVFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBLElBQzdFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLEVBQUksRUFBQSxJQUFBLEVBQU0sRUFBSSxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFlBQWEsRUFBQTtFQUFBLElBQzlFLEtBQUEsRUFBTyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLENBQUcsRUFBQSxJQUFBLEVBQU0sQ0FBRyxFQUFBLElBQUEsRUFBTSxLQUFPLEVBQUEsSUFBQSxFQUFNLFdBQVksRUFBQTtFQUFBO0VBQUEsSUFHM0UsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDL0UsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDN0UsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDL0UsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDOUUsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDL0UsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDOUUsU0FBUyxFQUFFLFdBQUEsRUFBYSxDQUFHLEVBQUEsS0FBQSxFQUFPLElBQUksSUFBTSxFQUFBLEVBQUEsRUFBSSxHQUFLLEVBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQSxFQUFHLElBQU0sRUFBQSxLQUFBLEVBQU8sTUFBTSxZQUFhLEVBQUE7RUFBQSxJQUM3RixTQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sR0FBRyxJQUFNLEVBQUEsRUFBQSxFQUFJLEdBQUssRUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLEVBQUcsSUFBTSxFQUFBLEtBQUEsRUFBTyxNQUFNLFdBQVksRUFBQTtFQUFBLElBQzNGLFNBQVMsRUFBRSxXQUFBLEVBQWEsRUFBSSxFQUFBLEtBQUEsRUFBTyxJQUFJLElBQU0sRUFBQSxFQUFBLEVBQUksR0FBSyxFQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsRUFBRyxJQUFNLEVBQUEsS0FBQSxFQUFPLE1BQU0sWUFBYSxFQUFBO0VBQUEsSUFDOUYsU0FBUyxFQUFFLFdBQUEsRUFBYSxFQUFJLEVBQUEsS0FBQSxFQUFPLEdBQUcsSUFBTSxFQUFBLEVBQUEsRUFBSSxHQUFLLEVBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQSxFQUFHLElBQU0sRUFBQSxLQUFBLEVBQU8sTUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM1RixTQUFTLEVBQUUsV0FBQSxFQUFhLEVBQUksRUFBQSxLQUFBLEVBQU8sSUFBSSxJQUFNLEVBQUEsRUFBQSxFQUFJLEdBQUssRUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLEVBQUcsSUFBTSxFQUFBLEtBQUEsRUFBTyxNQUFNLFlBQWEsRUFBQTtFQUFBLElBQzlGLFNBQVMsRUFBRSxXQUFBLEVBQWEsRUFBSSxFQUFBLEtBQUEsRUFBTyxHQUFHLElBQU0sRUFBQSxFQUFBLEVBQUksR0FBSyxFQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsRUFBRyxJQUFNLEVBQUEsS0FBQSxFQUFPLE1BQU0sV0FBWSxFQUFBO0VBQUEsSUFDNUYsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDaEYsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFB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QUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLEdBQUksQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUNuQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFFbEMsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxHQUFJLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDbkMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUNsQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBRWxDLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFRQSxLQUFBLENBQU0sTUFBWSxJQUFJLElBQUEsSUFBUSxHQUFZLEdBQUEsSUFBSSxNQUFjLEVBQUE7RUFDMUQsSUFBSyxJQUFBLENBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsR0FBQSxDQUFJLEdBQUksQ0FBQSxDQUFBLEVBQUcsSUFBSyxDQUFBLENBQUMsQ0FBQyxDQUFBLENBQUE7RUFDaEQsSUFBSyxJQUFBLENBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsR0FBQSxDQUFJLEdBQUksQ0FB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TyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQUEsS0FDeEQsTUFBQSxJQUFXLElBQUssQ0FBQSxTQUFBLEtBQWMsS0FBTyxFQUFBO0VBQ25DLE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUFBLEtBQ3hELE1BQUEsSUFBVyxJQUFLLENBQUEsU0FBQSxLQUFjLEtBQU8sRUFBQTtFQUNuQyxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENB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QUEsQ0FBRyxFQUFFLENBQ1gsRUFBQSxLQUFBLEdBQVEsTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRXRCLElBQUEsSUFBSSxRQUFRLENBQUcsRUFBQTtFQUNiLE1BQUEsTUFBTSxDQUFJLEdBQUEsR0FBQSxHQUFNLElBQUssQ0FBQSxJQUFBLENBQUssUUFBUSxDQUFHLENBQUEsQ0FBQTtFQUVyQyxNQUFLLElBQUEsQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUFBLEdBQUksSUFBTyxHQUFBLENBQUEsQ0FBQTtFQUMxQixNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUNqQyxNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUNqQyxNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUFBLEtBQ3hCLE1BQUEsSUFBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLEdBQUEsR0FBTSxHQUFLLEVBQUE7RUFDakMsTUFBQSxNQUFNLElBQUksQ0FBTSxHQUFBLElBQUEsQ0FBSyxLQUFLLENBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFHLENBQUEsQ0FBQTtFQUUvQyxNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUNqQyxNQUFLLElBQUEsQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUFBLEdBQUksSUFBTyxHQUFBLENBQUEsQ0FBQTtFQUMxQixNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUNqQyxNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFLLEdBQUEsQ0FBQSxHQUFBLEdBQU0sR0FBTyxJQUFBLENBQUEsQ0FBQTtFQUFBLEtBQ25DLE1BQUEsSUFBVyxNQUFNLEdBQUssRUFBQTtFQUNwQixNQUFBLE1BQU0sSUFBSSxDQUFNLEdBQUEsSUFBQSxDQUFLLEtBQUssQ0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQUcsQ0FBQSxDQUFBO0VBRS9DLE1BQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUssR0FBQSxDQUFBLEdBQUEsR0FBTSxHQUFPLElBQUEsQ0FBQSxDQUFBO0VBQ2pDLE1BQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUssR0FBQSxDQUFBLEdBQUEsR0FBTSxHQUFPLElBQUEsQ0FBQSxDQUFBO0VBQ2pDLE1BQUssSUFBQSxDQUFBLFFBQUEsQ0FBUyxDQUFDLENBQUEsR0FBSSxJQUFPLEdBQUEsQ0FBQSxDQUFBO0VBQzFCLE1BQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUssR0FBQSxDQUFBLEdBQUEsR0FBTSxHQUFPLElBQUEsQ0FBQSxDQUFBO0VBQUEsS0FDNUIsTUFBQTtFQUNMLE1BQUEsTUFBTSxJQUFJLENBQU0sR0FBQSxJQUFBLENBQUssS0FBSyxDQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBRyxDQUFBLENBQUE7RUFFL0MsTUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSyxHQUFBLENBQUEsR0FBQSxHQUFNLEdBQU8sSUFBQSxDQUFBLENBQUE7RUFDakMsTUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSyxHQUFBLENBQUEsR0FBQSxHQUFNLEdBQU8sSUFBQSxDQUFBLENBQUE7RUFDakMsTUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSyxHQUFBLENBQUEsR0FBQSxHQUFNLEdBQU8sSUFBQSxDQUFBLENBQUE7RUFDakMsTUFBSyxJQUFBLENBQUEsUUFBQSxDQUFTLENBQUMsQ0FBQSxHQUFJLElBQU8sR0FBQSxDQUFBLENBQUE7RUFBQSxLQUM1QjtFQUVBLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQ0Y7O0VDak9PLE1BQU0sSUFBSyxDQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBV2hCLFdBQUEsQ0FBWSxRQUF5QixHQUFBLElBQUksWUFBYSxDQUFBO0VBQUEsSUFDcEQsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLEdBQ1YsQ0FBRyxFQUFBO0VBQ0YsSUFBQSxJQUFBLENBQUssSUFBTyxHQUFBLE1BQUEsQ0FBQTtFQUNaLElBQUEsSUFBQSxDQUFLLFFBQVcsR0FBQSxRQUFBLENBQUE7RUFBQSxHQUNsQjtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUF3QkEsSUFDRSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsS0FDQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsS0FDQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsS0FDQSxHQUNNLEVBQUE7RUFDTixJQUFBLE1BQU0sS0FBSyxJQUFLLENBQUEsUUFBQSxDQUFBO0VBRWhCLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNSLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNULElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNULElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNULElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNULElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUNULElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUVULElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLFFBQWlCLEdBQUE7RUFFZixJQUFLLElBQUEsQ0FBQSxHQUFBO0VBQUEsTUFDSCxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFDVCxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFDVCxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFDVCxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsTUFBRyxDQUFBO0VBQUEsS0FDWCxDQUFBO0VBRUEsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQVFBLFlBQUEsQ0FBYSxLQUFpQyxHQUFBLElBQUksWUFBYSxDQUFBO0VBQUEsSUFDN0QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQ1QsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLElBQUcsQ0FBQTtFQUFBLEdBQ1YsQ0FBUyxFQUFBO0VBQ1IsSUFBQSxLQUFBLElBQVMsSUFBSSxDQUFHLEVBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxRQUFBLENBQVMsUUFBUSxDQUFLLEVBQUEsRUFBQTtFQUM3QyxNQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQUEsS0FDNUI7RUFFQSxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLElBQUssQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUNwQyxJQUFBLE1BQU0sUUFBUSxNQUFPLENBQUEsUUFBQSxDQUFBO0VBQ3JCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLEVBQUUsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxFQUFFLENBQUEsQ0FBQTtFQUM1QixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsRUFBRSxDQUFJLEdBQUEsS0FBQSxDQUFNLEVBQUUsQ0FBQSxDQUFBO0VBQzVCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxFQUFFLENBQUksR0FBQSxLQUFBLENBQU0sRUFBRSxDQUFBLENBQUE7RUFDNUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLEVBQUUsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxFQUFFLENBQUEsQ0FBQTtFQUM1QixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsRUFBRSxDQUFJLEdBQUEsS0FBQSxDQUFNLEVBQUUsQ0FBQSxDQUFBO0VBQzVCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxFQUFFLENBQUksR0FBQSxLQUFBLENBQU0sRUFBRSxDQUFBLENBQUE7RUFFNUIsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBTUEsS0FBYyxHQUFBO0VBQ1osSUFBQSxPQUFPLElBQUksSUFBQSxFQUFPLENBQUEsSUFBQSxDQUFLLElBQUksQ0FBQSxDQUFBO0VBQUEsR0FDN0I7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxRQUFTLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDeEMsSUFBTyxPQUFBLElBQUEsQ0FBSyxnQkFBaUIsQ0FBQSxJQUFBLEVBQU0sTUFBTSxDQUFBLENBQUE7RUFBQSxHQUMzQztFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLFdBQVksQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUMzQyxJQUFPLE9BQUEsSUFBQSxDQUFLLGdCQUFpQixDQUFBLE1BQUEsRUFBUSxJQUFJLENBQUEsQ0FBQTtFQUFBLEdBQzNDO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFRQSxnQkFBQSxDQUFpQixJQUFVLElBQUksSUFBQSxJQUFRLENBQVUsR0FBQSxJQUFJLE1BQWMsRUFBQTtFQUNqRSxJQUFBLE1BQU0sS0FBSyxDQUFFLENBQUEsUUFBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEtBQUssQ0FBRSxDQUFBLFFBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFaEIsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUViLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFFYixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRW5ELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFbkQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbkQsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUVuRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNuRCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRW5ELElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0Esb0JBQXFCLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFPcEQsSUFBQSxNQUFNLEdBQU0sR0FBQSxDQUFBLENBQUE7RUFDWixJQUFBLE1BQU0sR0FBTSxHQUFBLENBQUEsQ0FBQTtFQUNaLElBQUEsTUFBTSxHQUFNLEdBQUEsQ0FBQSxDQUFBO0VBQ1osSUFBQSxNQUFNLEdBQU0sR0FBQSxDQUFBLENBQUE7RUFHWixJQUFBLE1BQU0sTUFBTSxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ25CLElBQUEsTUFBTSxNQUFNLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDbkIsSUFBQSxNQUFNLE1BQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUVuQixJQUFBLE1BQU0sS0FBSyxJQUFLLENBQUEsUUFBQSxDQUFBO0VBQ2hCLElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFaEIsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUViLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMxQixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDMUIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUUzQixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDMUIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMxQixJQUFBLEVBQUEsQ0FBRyxFQUFFLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFM0IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMxQixJQUFBLEVBQUEsQ0FBRyxFQUFFLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDM0IsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRTNCLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNmLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRWYsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxnQkFBaUIsQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUtoRCxJQUFBLE1BQU0sS0FBSyxJQUFLLENBQUEsUUFBQSxDQUFBO0VBQ2hCLElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFaEIsSUFBQSxNQUFNLE1BQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNuQixJQUFBLE1BQU0sTUFBTSxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ25CLElBQUEsTUFBTSxNQUFNLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDbkIsSUFBQSxNQUFNLEdBQU0sR0FBQSxDQUFBLENBQUE7RUFFWixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBRWIsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFZixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUVmLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNmLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRWYsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2YsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFZixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFNQSxNQUFTLEdBQUE7RUFFUCxJQUFBLE1BQU0sRUFBSyxHQUFBLElBQUEsQ0FBSyxRQUNkLEVBQUEsR0FBQSxHQUFNLEdBQUcsQ0FBQyxDQUFBLEVBQ1YsR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDVixHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLEdBQ1YsR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDVixHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNWLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsQ0FBQyxDQUFBLEVBQ1YsR0FBTSxHQUFBLEVBQUEsQ0FBRyxFQUFFLENBQUEsRUFDWCxHQUFNLEdBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLEdBQ1gsR0FBTSxHQUFBLEVBQUEsQ0FBRyxFQUFFLENBQUEsRUFDWCxHQUFNLEdBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxFQUNYLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sS0FDNUcsR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUM1RyxFQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxFQUM1RyxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFOUcsSUFBQSxNQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRXRELElBQUEsSUFBSSxHQUFRLEtBQUEsQ0FBQTtFQUFHLE1BQUEsT0FBTyxLQUFLLEdBQUksQ0FBQSxDQUFBLEVBQUcsQ0FBRyxFQUFBLENBQUEsRUFBRyxHQUFHLENBQUcsRUFBQSxDQUFBLEVBQUcsQ0FBRyxFQUFBLENBQUEsRUFBRyxHQUFHLENBQUcsRUFBQSxDQUFBLEVBQUcsR0FBRyxDQUFHLEVBQUEsQ0FBQSxFQUFHLEdBQUcsQ0FBQyxDQUFBLENBQUE7RUFFN0UsSUFBQSxNQUFNLFNBQVMsQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUVuQixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLE1BQUEsQ0FBQTtFQUNkLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FDRCxHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FDRCxHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FDRCxHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUVGLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsTUFBQSxDQUFBO0VBQ2QsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBRUYsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxNQUFBLENBQUE7RUFDZCxJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQ0QsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFDRixJQUFBLEVBQUEsQ0FBRyxFQUFFLENBQ0YsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFDRixJQUFBLEVBQUEsQ0FBRyxFQUFFLENBQ0YsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFFRixJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLE1BQUEsQ0FBQTtFQUNmLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDRixHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDRixHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDRixHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUVGLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLFVBQW1CLEdBQUE7RUFDakIsSUFBTyxPQUFBLElBQUEsQ0FBSyxLQUFNLEVBQUEsQ0FBRSxNQUFPLEVBQUEsQ0FBQTtFQUFBLEdBQzdCO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsU0FBVSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ3pDLElBQUEsTUFBTSxJQUFJLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFZixJQUFBLENBQUEsQ0FBRSxFQUFFLENBQUksR0FBQSxDQUFBLENBQUUsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUUsQ0FBQSxDQUFDLElBQUksTUFBTyxDQUFBLENBQUEsR0FBSSxFQUFFLEVBQUUsQ0FBQSxDQUFBO0VBQ2xFLElBQUEsQ0FBQSxDQUFFLEVBQUUsQ0FBSSxHQUFBLENBQUEsQ0FBRSxDQUFDLENBQUksR0FBQSxNQUFBLENBQU8sSUFBSSxDQUFFLENBQUEsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLENBQUMsSUFBSSxNQUFPLENBQUEsQ0FBQSxHQUFJLEVBQUUsRUFBRSxDQUFBLENBQUE7RUFDbEUsSUFBQSxDQUFBLENBQUUsRUFBRSxDQUFJLEdBQUEsQ0FBQSxDQUFFLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUUsQ0FBQSxDQUFDLENBQUksR0FBQSxNQUFBLENBQU8sSUFBSSxDQUFFLENBQUEsRUFBRSxJQUFJLE1BQU8sQ0FBQSxDQUFBLEdBQUksRUFBRSxFQUFFLENBQUEsQ0FBQTtFQUNuRSxJQUFBLENBQUEsQ0FBRSxFQUFFLENBQUksR0FBQSxDQUFBLENBQUUsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUUsQ0FBQSxFQUFFLElBQUksTUFBTyxDQUFBLENBQUEsR0FBSSxFQUFFLEVBQUUsQ0FBQSxDQUFBO0VBRW5FLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsS0FBTSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ3JDLElBQUEsTUFBTSxJQUFJLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLEVBQUUsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2hCLElBQUUsQ0FBQSxDQUFBLEVBQUUsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBRWhCLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtF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QUEsQ0FBQTtFQUVoQyxJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxDQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxDQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUksR0FBQSxJQUFBLENBQUE7RUFDWixJQUFBLE1BQUEsQ0FBTyxFQUFFLENBQUksR0FBQSxLQUFBLENBQUE7RUFDYixJQUFBLE1BQUEsQ0FBTyxFQUFFLENBQUksR0FBQSxDQUFBLENBQUE7RUFDYixJQUFPLE1BQUEsQ0FBQSxFQUFFLElBQUksV0FBWSxDQUFBLENBQUEsR0FBSSxNQUFNLElBQU8sR0FBQSxFQUFBLEdBQUssSUFBTyxHQUFBLEVBQUEsR0FBSyxJQUFPLEdBQUEsRUFBQSxDQUFBLENBQUE7RUFDbEUsSUFBTyxNQUFBLENBQUEsRUFBRSxJQUFJLFdBQVksQ0FBQSxDQUFBLEdBQUksTUFBTSxJQUFPLEdBQUEsRUFBQSxHQUFLLElBQU8sR0FBQSxFQUFBLEdBQUssSUFBTyxHQUFBLEVBQUEsQ0FBQSxDQUFBO0VBQ2xFLElBQU8sTUFBQSxDQUFBLEVBQUUsSUFBSSxXQUFZLENBQUEsQ0FBQSxHQUFJLE1BQU0sSUFBTyxHQUFBLEVBQUEsR0FBSyxJQUFPLEdBQUEsRUFBQSxHQUFLLEtBQVEsR0FBQSxFQUFB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Q0FBQTtFQUVoQixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFNQSxLQUFjLEdBQUE7RUFDWixJQUFBLE9BQU8sSUFBSSxJQUFLLENBQUEsSUFBQSxDQUFLLEdBQUcsSUFBSyxDQUFBLENBQUEsRUFBRyxLQUFLLENBQUMsQ0FBQSxDQUFBO0VBQUEsR0FDeEM7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxHQUFJLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDbkMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUNsQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFFbEMsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxHQUFJLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDbkMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUNsQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFFbEMsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQVFBLEtBQUEsQ0FBTSxNQUFZLElBQUksSUFBQSxJQUFRLEdBQVksR0FBQSxJQUFJLE1BQWMsRUFBQTtFQUMxRCxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsQ0FBQyxDQUFDLENBQUEsQ0FBQTtFQUNoRCxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsQ0FBQyxDQUFDLENBQUEsQ0FBQTtFQUNoRCxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsQ0FBQyxDQUFDLENBQUEsQ0FBQTtFQUVoRCxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLE1BQU8sQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWlCLEVBQUE7RUFDekMsSUFBTyxPQUFBLElBQUEsQ0FBSyxDQUFNLEtBQUEsTUFBQSxDQUFPLENBQUssSUFBQSxJQUFBLENBQUssTUFBTSxNQUFPLENBQUEsQ0FBQSxJQUFLLElBQUssQ0FBQSxDQUFBLEtBQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUFBLEdBQ3pFO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLFFBQW1CLEdBQUE7RUFDakIsSUFBTyxPQUFBLElBQUEsQ0FBSyxDQUFJLEdBQUEsSUFBQSxDQUFLLENBQUksR0FBQSxJQUFBLENBQUssSUFBSSxJ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QUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBU0EsU0FBVSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ3pDLElBQUEsTUFBTSxJQUFJLElBQUssQ0FBQSxFQUFBLEVBQ2IsSUFBSSxJQUFLLENBQUEsRUFBQSxFQUNULElBQUksSUFBSyxDQUFBLEVBQUEsQ0FBQTtFQUNYLElBQUEsTUFBTSxTQUFTLE1BQU8sQ0FBQSxRQUFBLENBQUE7RUFFdEIsSUFBQSxJQUFJLENBQUksR0FBQSxNQUFBLENBQU8sQ0FBQyxDQUFBLEdBQUksSUFBSSxNQUFPLENBQUEsQ0FBQyxDQUFJLEdBQUEsQ0FBQSxHQUFJLE1BQU8sQ0FBQSxFQUFFLENBQUksR0FBQSxDQUFBLEdBQUksT0FBTyxFQUFFLENBQUEsQ0FBQTtFQUNsRSxJQUFBLENBQUEsR0FBSSxDQUFLLElBQUEsQ0FBQSxDQUFBO0VBRVQsSUFBQSxJQUFBLENBQUssQ0FBSyxHQUFBLENBQUEsTUFBQSxDQUFPLENBQUMsQ0FBQSxHQUFJLElBQUksTUFBTyxDQUFBLENBQUMsQ0FBSSxHQUFBLENBQUEsR0FBSSxPQUFPLENBQUMsQ0FBQSxHQUFJLENBQUksR0FBQSxNQUFBLENBQU8sRUFBRSxDQUFLLElBQUEsQ0FBQSxDQUFBO0VBQ3hFLElBQUEsSUFBQSxDQUFLLENBQUssR0FBQSxDQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsR0FBSSxJQUFJLE1BQU8sQ0FBQSxDQUFDLENBQUksR0FBQSxDQUFBLEdBQUksT0FBTyxDQUFDLENBQUEsR0FBSSxDQUFJLEdBQUEsTUFBQSxDQUFPLEVBQUUsQ0FBSyxJQUFBLENBQUEsQ0FBQTtFQUN4RSxJQUFBLElBQUEsQ0FBSyxDQUFLLEdBQUEsQ0FBQSxNQUFBLENBQU8sQ0FBQyxDQUFBLEdBQUksSUFBSSxNQUFPLENBQUEsQ0FBQyxDQUFJLEdBQUEsQ0FBQSxHQUFJLE9BQU8sRUFBRSxDQUFBLEdBQUksQ0FBSSxHQUFBLE1BQUEsQ0FBTyxFQUFFLENBQUssSUFBQSxDQUFBLENBQUE7RUFFekUsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxTQUFVLENBQUEsVUFBQSxHQUFtQixJQUFJLElBQUEsRUFBYyxFQUFBO0VBQzdDLElBQUEsTUFBTSxJQUFJLElBQUssQ0FBQSxDQUFBLEVBQ2IsSUFBSSxJQUFLLENBQUEsQ0FBQSxFQUNULElBQUksSUFBSyxDQUFBLENBQUEsQ0FBQTtFQUNYLElBQUEsTUFBTSxLQUFLLFVBQVcsQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUM5QixFQUFBLEVBQUEsR0FBSyxXQUFXLFFBQVMsQ0FBQSxDQUFDLENBQzFCLEVBQUEsRUFBQSxHQUFLLFdBQVcsUUFBUyxDQUFBLENBQUMsR0FDMUIsRUFBSyxHQUFBLFVBQUEsQ0FBVyxTQUFTLENBQUMsQ0FBQSxDQUFBO0VBSTVCLElBQUEsTUFBTSxFQUFLLEdBQUEsRUFBQSxHQUFLLENBQUksR0FBQSxFQUFBLEdBQUssSUFBSSxFQUFLLEdBQUEsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsTUFBTSxFQUFLLEdBQUEsRUFBQSxHQUFLLENBQUksR0FBQSxFQUFBLEdBQUssSUFBSSxFQUFLLEdBQUEsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsTUFBTSxFQUFLLEdBQUEsRUFBQSxHQUFLLENBQUksR0FBQSxFQUFBLEdBQUssSUFBSSxFQUFLLEdBQUEsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsTUFBTSxLQUFLLENBQUMsRUFBQSxHQUFLLENBQUksR0FBQSxFQUFBLEdBQUssSUFBSSxFQUFLLEdBQUEsQ0FBQSxDQUFBO0VBSW5DLElBQUssSUFBQSxDQUFBLENBQUEsR0FBSSxFQUFLLEdBQUEsRUFBQSxHQUFLLEVBQUssR0FBQSxDQUFDLEtBQUssRUFBSyxHQUFBLENBQUMsRUFBSyxHQUFBLEVBQUEsR0FBSyxDQUFDLEVBQUEsQ0FBQTtFQUMvQyxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksRUFBSyxHQUFBLEVBQUEsR0FBSyxFQUFLLEdBQUEsQ0FBQyxLQUFL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QVEsS0FBSyxJQUFLLENBQUEsTUFBQSxDQUFBO0VBRTNDLElBQU0sTUFBQSxHQUFBLEdBQU0sSUFBSyxDQUFBLElBQUEsR0FBTyxJQUFLLENBQUEsR0FBQSxDQUFLLEtBQUssRUFBSyxHQUFBLEdBQUEsR0FBTyxHQUFNLEdBQUEsSUFBQSxDQUFLLEdBQUcsQ0FBQSxDQUFBO0VBQ2pFLElBQUEsTUFBTSxTQUFTLENBQUksR0FBQSxHQUFBLENBQUE7RUFDbkIsSUFBQSxNQUFNLFFBQVEsTUFBUyxHQUFBLE1BQUEsQ0FBQTtFQUN2QixJQUFBLE1BQU0sT0FBTyxDQUFPLEdBQUEsR0FBQSxLQUFBLENBQUE7RUFFcEIsSUFBQSxNQUFNLFFBQVEsSUFBTyxHQUFBLEtBQUEsQ0FBQTtFQUNyQixJQUFBLE1BQU0sU0FBUyxHQUFNLEdBQUEsTUFBQSxDQUFBO0VBRXJCLElBQUEsTUFBTSxDQUFLLEdBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxJQUFBLElBQVMsS0FBUSxHQUFBLElBQUEsQ0FBQSxDQUFBO0VBQ3JDLElBQUEsTUFBTSxDQUFLLEdBQUEsQ0FBQSxHQUFJLElBQUssQ0FBQSxJQUFBLElBQVMsR0FBTSxHQUFBLE1BQUEsQ0FBQSxDQUFBO0VBRW5DLElBQU0sTUFBQSxDQUFBLEdBQUEsQ0FBSyxLQUFRLEdBQUEsSUFBQSxLQUFTLEtBQVEsR0FBQSxJQUFBLENBQUEsQ0FBQTtFQUNwQyxJQUFNLE1BQUEsQ0FBQSxHQUFBLENBQUssR0FBTSxHQUFBLE1BQUEsS0FBVyxHQUFNLEdBQUEsTUFBQSxDQUFBLENBQUE7RUFDbEMsSUFBTSxNQUFBLENBQUEsR0FBSSxFQUFFLElBQUssQ0FBQSxHQUFBLEdBQU0sS0FBSyxJQUFTLENBQUEsSUFBQSxJQUFBLENBQUssTUFBTSxJQUFLLENBQUEsSUFBQSxDQUFBLENBQUE7RUFDckQsSUFBTSxNQUFBLENBQUEsR0FBSyxLQUFLLElBQUssQ0FBQSxHQUFBLEdBQU0sS0FBSyxJQUFTLElBQUEsSUFBQSxDQUFLLE1BQU0sSUFBSyxDQUFBLElBQUEsQ0FBQSxDQUFBO0VBR3pE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QUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQUEsS0FDMUUsTUFBQTtFQUNMLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxD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
