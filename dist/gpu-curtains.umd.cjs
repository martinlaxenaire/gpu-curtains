(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :
  typeof define === 'function' && define.amd ? define(['exports'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.window = global.window || {}));
})(this, (function (exports) { 'use strict';

  const generateUUID = () => {
    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (c) => {
      const r = Math.random() * 16 | 0, v = c === "x" ? r : r & 3 | 8;
      return v.toString(16).toUpperCase();
    });
  };
  const toCamelCase = (string) => {
    return string.replace(/(?:^\w|[A-Z]|\b\w)/g, (ltr, idx) => idx === 0 ? ltr.toLowerCase() : ltr.toUpperCase()).replace(/\s+/g, "");
  };
  const toKebabCase = (string) => {
    const camelCase = toCamelCase(string);
    return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);
  };
  let warningThrown = 0;
  const throwWarning = (warning) => {
    if (warningThrown > 100) {
      return;
    } else if (warningThrown === 100) {
      console.warn("GPUCurtains: too many warnings thrown, stop logging.");
    } else {
      console.warn(warning);
    }
    warningThrown++;
  };
  const throwError = (error) => {
    throw new Error(error);
  };

  const formatRendererError = (renderer, rendererType = "GPURenderer", type) => {
    const error = type ? `Unable to create ${type} because the ${rendererType} is not defined: ${renderer}` : `The ${rendererType} is not defined: ${renderer}`;
    throwError(error);
  };
  const isRenderer = (renderer, type) => {
    const isRenderer2 = renderer && (renderer.type === "GPURenderer" || renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer");
    if (!isRenderer2) {
      formatRendererError(renderer, "GPURenderer", type);
    }
    return isRenderer2;
  };
  const isCameraRenderer = (renderer, type) => {
    const isCameraRenderer2 = renderer && (renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer");
    if (!isCameraRenderer2) {
      formatRendererError(renderer, "GPUCameraRenderer", type);
    }
    return isCameraRenderer2;
  };
  const isCurtainsRenderer = (renderer, type) => {
    const isCurtainsRenderer2 = renderer && renderer.type === "GPUCurtainsRenderer";
    if (!isCurtainsRenderer2) {
      formatRendererError(renderer, "GPUCurtainsRenderer", type);
    }
    return isCurtainsRenderer2;
  };
  const generateMips = /* @__PURE__ */ (() => {
    let sampler;
    let module;
    const pipelineByFormat = {};
    return function generateMips2(device, texture) {
      if (!module) {
        module = device.createShaderModule({
          label: "textured quad shaders for mip level generation",
          code: `
            struct VSOutput {
              @builtin(position) position: vec4f,
              @location(0) texcoord: vec2f,
            };

            @vertex fn vs(
              @builtin(vertex_index) vertexIndex : u32
            ) -> VSOutput {
              var pos = array<vec2f, 6>(

                vec2f( 0.0,  0.0),  // center
                vec2f( 1.0,  0.0),  // right, center
                vec2f( 0.0,  1.0),  // center, top

                // 2st triangle
                vec2f( 0.0,  1.0),  // center, top
                vec2f( 1.0,  0.0),  // right, center
                vec2f( 1.0,  1.0),  // right, top
              );

              var vsOutput: VSOutput;
              let xy = pos[vertexIndex];
              vsOutput.position = vec4f(xy * 2.0 - 1.0, 0.0, 1.0);
              vsOutput.texcoord = vec2f(xy.x, 1.0 - xy.y);
              return vsOutput;
            }

            @group(0) @binding(0) var ourSampler: sampler;
            @group(0) @binding(1) var ourTexture: texture_2d<f32>;

            @fragment fn fs(fsInput: VSOutput) -> @location(0) vec4f {
              return textureSample(ourTexture, ourSampler, fsInput.texcoord);
            }
          `
        });
        sampler = device.createSampler({
          minFilter: "linear"
        });
      }
      if (!pipelineByFormat[texture.format]) {
        pipelineByFormat[texture.format] = device.createRenderPipeline({
          label: "mip level generator pipeline",
          layout: "auto",
          vertex: {
            module,
            entryPoint: "vs"
          },
          fragment: {
            module,
            entryPoint: "fs",
            targets: [{ format: texture.format }]
          }
        });
      }
      const pipeline = pipelineByFormat[texture.format];
      const encoder = device.createCommandEncoder({
        label: "mip gen encoder"
      });
      let width = texture.width;
      let height = texture.height;
      let baseMipLevel = 0;
      while (width > 1 || height > 1) {
        width = Math.max(1, width / 2 | 0);
        height = Math.max(1, height / 2 | 0);
        const bindGroup = device.createBindGroup({
          layout: pipeline.getBindGroupLayout(0),
          entries: [
            { binding: 0, resource: sampler },
            {
              binding: 1,
              resource: texture.createView({
                baseMipLevel,
                mipLevelCount: 1
              })
            }
          ]
        });
        ++baseMipLevel;
        const renderPassDescriptor = {
          label: "our basic canvas renderPass",
          colorAttachments: [
            {
              view: texture.createView({ baseMipLevel, mipLevelCount: 1 }),
              loadOp: "clear",
              storeOp: "store"
            }
          ]
        };
        const pass = encoder.beginRenderPass(renderPassDescriptor);
        pass.setPipeline(pipeline);
        pass.setBindGroup(0, bindGroup);
        pass.draw(6);
        pass.end();
      }
      const commandBuffer = encoder.finish();
      device.queue.submit([commandBuffer]);
    };
  })();

  class Binding {
    /**
     * Binding constructor
     * @param parameters - {@link BindingParams | parameters} used to create our {@link Binding}
     */
    constructor({ label = "Uniform", name = "uniform", bindingType = "uniform", visibility }) {
      this.label = label;
      this.name = toCamelCase(name);
      this.bindingType = bindingType;
      this.visibility = visibility ? (() => {
        switch (visibility) {
          case "vertex":
            return GPUShaderStage.VERTEX;
          case "fragment":
            return GPUShaderStage.FRAGMENT;
          case "compute":
            return GPUShaderStage.COMPUTE;
          default:
            return GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
        }
      })() : GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
      this.options = {
        label,
        name,
        bindingType,
        visibility
      };
      this.shouldResetBindGroup = false;
      this.shouldResetBindGroupLayout = false;
    }
  }

  const getBufferLayout = (bufferType) => {
    const bufferLayouts = {
      i32: { numElements: 1, align: 4, size: 4, type: "i32", View: Int32Array },
      u32: { numElements: 1, align: 4, size: 4, type: "u32", View: Uint32Array },
      f32: { numElements: 1, align: 4, size: 4, type: "f32", View: Float32Array },
      f16: { numElements: 1, align: 2, size: 2, type: "u16", View: Uint16Array },
      vec2f: { numElements: 2, align: 8, size: 8, type: "f32", View: Float32Array },
      vec2i: { numElements: 2, align: 8, size: 8, type: "i32", View: Int32Array },
      vec2u: { numElements: 2, align: 8, size: 8, type: "u32", View: Uint32Array },
      vec2h: { numElements: 2, align: 4, size: 4, type: "u16", View: Uint16Array },
      vec3i: { numElements: 3, align: 16, size: 12, type: "i32", View: Int32Array },
      vec3u: { numElements: 3, align: 16, size: 12, type: "u32", View: Uint32Array },
      vec3f: { numElements: 3, align: 16, size: 12, type: "f32", View: Float32Array },
      vec3h: { numElements: 3, align: 8, size: 6, type: "u16", View: Uint16Array },
      vec4i: { numElements: 4, align: 16, size: 16, type: "i32", View: Int32Array },
      vec4u: { numElements: 4, align: 16, size: 16, type: "u32", View: Uint32Array },
      vec4f: { numElements: 4, align: 16, size: 16, type: "f32", View: Float32Array },
      vec4h: { numElements: 4, align: 8, size: 8, type: "u16", View: Uint16Array },
      // AlignOf(vecR)	SizeOf(array<vecR, C>)
      mat2x2f: { numElements: 4, align: 8, size: 16, type: "f32", View: Float32Array },
      mat2x2h: { numElements: 4, align: 4, size: 8, type: "u16", View: Uint16Array },
      mat3x2f: { numElements: 6, align: 8, size: 24, type: "f32", View: Float32Array },
      mat3x2h: { numElements: 6, align: 4, size: 12, type: "u16", View: Uint16Array },
      mat4x2f: { numElements: 8, align: 8, size: 32, type: "f32", View: Float32Array },
      mat4x2h: { numElements: 8, align: 4, size: 16, type: "u16", View: Uint16Array },
      mat2x3f: { numElements: 8, align: 16, size: 32, pad: [3, 1], type: "f32", View: Float32Array },
      mat2x3h: { numElements: 8, align: 8, size: 16, pad: [3, 1], type: "u16", View: Uint16Array },
      mat3x3f: { numElements: 12, align: 16, size: 48, pad: [3, 1], type: "f32", View: Float32Array },
      mat3x3h: { numElements: 12, align: 8, size: 24, pad: [3, 1], type: "u16", View: Uint16Array },
      mat4x3f: { numElements: 16, align: 16, size: 64, pad: [3, 1], type: "f32", View: Float32Array },
      mat4x3h: { numElements: 16, align: 8, size: 32, pad: [3, 1], type: "u16", View: Uint16Array },
      mat2x4f: { numElements: 8, align: 16, size: 32, type: "f32", View: Float32Array },
      mat2x4h: { numElements: 8, align: 8, size: 16, type: "u16", View: Uint16Array },
      mat3x4f: { numElements: 12, align: 16, size: 48, pad: [3, 1], type: "f32", View: Float32Array },
      mat3x4h: { numElements: 12, align: 8, size: 24, pad: [3, 1], type: "u16", View: Uint16Array },
      mat4x4f: { numElements: 16, align: 16, size: 64, type: "f32", View: Float32Array },
      mat4x4h: { numElements: 16, align: 8, size: 32, type: "u16", View: Uint16Array }
    };
    return bufferLayouts[bufferType];
  };
  const getBindingWGSLVarType = (binding) => {
    return (() => {
      switch (binding.bindingType) {
        case "storage":
          return `var<${binding.bindingType}, ${binding.options.access}>`;
        case "uniform":
        default:
          return "var<uniform>";
      }
    })();
  };
  const getTextureBindingWGSLVarType = (binding) => {
    if (binding.bindingType === "externalTexture") {
      return `var ${binding.name}: texture_external;`;
    }
    return binding.bindingType === "storageTexture" ? `var ${binding.name}: texture_storage_${binding.options.viewDimension}<${binding.options.format}, ${binding.options.access}>;` : binding.bindingType === "depthTexture" ? `var ${binding.name}: texture_depth${binding.options.multisampled ? "_multisampled" : ""}_${binding.options.viewDimension};` : `var ${binding.name}: texture${binding.options.multisampled ? "_multisampled" : ""}_${binding.options.viewDimension}<f32>;`;
  };
  const getBindGroupLayoutBindingType = (binding) => {
    if (binding.bindingType === "storage" && binding.options.access === "read_write") {
      return "storage";
    } else if (binding.bindingType === "storage") {
      return "read-only-storage";
    } else {
      return "uniform";
    }
  };
  const getBindGroupLayoutTextureBindingType = (binding) => {
    return (() => {
      switch (binding.bindingType) {
        case "externalTexture":
          return { externalTexture: {} };
        case "storageTexture":
          return {
            storageTexture: {
              format: binding.options.format,
              viewDimension: binding.options.viewDimension
            }
          };
        case "texture":
          return {
            texture: {
              multisampled: binding.options.multisampled,
              viewDimension: binding.options.viewDimension
            }
          };
        case "depthTexture":
          return {
            texture: {
              multisampled: binding.options.multisampled,
              format: binding.options.format,
              viewDimension: binding.options.viewDimension,
              sampleType: "depth"
            }
          };
        default:
          return null;
      }
    })();
  };

  class Vec2 {
    /**
     * Vec2 constructor
     * @param x - X component of our {@link Vec2}
     * @param y - Y component of our {@link Vec2}
     */
    constructor(x = 0, y = x) {
      this.type = "Vec2";
      this._x = x;
      this._y = y;
    }
    /**
     * Get the X component of the {@link Vec2}
     */
    get x() {
      return this._x;
    }
    /**
     * Set the X component of the {@link Vec2}
     * Can trigger {@link onChange} callback
     * @param value - X component to set
     */
    set x(value) {
      const changed = value !== this._x;
      this._x = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Y component of the {@link Vec2}
     */
    get y() {
      return this._y;
    }
    /**
     * Set the Y component of the {@link Vec2}
     * Can trigger {@link onChange} callback
     * @param value - Y component to set
     */
    set y(value) {
      const changed = value !== this._y;
      this._y = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Called when at least one component of the {@link Vec2} has changed
     * @param callback - callback to run when at least one component of the {@link Vec2} has changed
     * @returns - our {@link Vec2}
     */
    onChange(callback) {
      if (callback) {
        this._onChangeCallback = callback;
      }
      return this;
    }
    /**
     * Set the {@link Vec2} from values
     * @param x - new X component to set
     * @param y - new Y component to set
     * @returns - this {@link Vec2} after being set
     */
    set(x = 0, y = x) {
      this.x = x;
      this.y = y;
      return this;
    }
    /**
     * Add a {@link Vec2} to this {@link Vec2}
     * @param vector - {@link Vec2} to add
     * @returns - this {@link Vec2} after addition
     */
    add(vector = new Vec2()) {
      this.x += vector.x;
      this.y += vector.y;
      return this;
    }
    /**
     * Add a scalar to all the components of this {@link Vec2}
     * @param value - number to add
     * @returns - this {@link Vec2} after addition
     */
    addScalar(value = 0) {
      this.x += value;
      this.y += value;
      return this;
    }
    /**
     * Subtract a {@link Vec2} from this {@link Vec2}
     * @param vector - {@link Vec2} to subtract
     * @returns - this {@link Vec2} after subtraction
     */
    sub(vector = new Vec2()) {
      this.x -= vector.x;
      this.y -= vector.y;
      return this;
    }
    /**
     * Subtract a scalar to all the components of this {@link Vec2}
     * @param value - number to subtract
     * @returns - this {@link Vec2} after subtraction
     */
    subScalar(value = 0) {
      this.x -= value;
      this.y -= value;
      return this;
    }
    /**
     * Multiply a {@link Vec2} with this {@link Vec2}
     * @param vector - {@link Vec2} to multiply with
     * @returns - this {@link Vec2} after multiplication
     */
    multiply(vector = new Vec2(1)) {
      this.x *= vector.x;
      this.y *= vector.y;
      return this;
    }
    /**
     * Multiply all components of this {@link Vec2} with a scalar
     * @param value - number to multiply with
     * @returns - this {@link Vec2} after multiplication
     */
    multiplyScalar(value = 1) {
      this.x *= value;
      this.y *= value;
      return this;
    }
    /**
     * Copy a {@link Vec2} into this {@link Vec2}
     * @param vector - {@link Vec2} to copy
     * @returns - this {@link Vec2} after copy
     */
    copy(vector = new Vec2()) {
      this.x = vector.x;
      this.y = vector.y;
      return this;
    }
    /**
     * Clone this {@link Vec2}
     * @returns - cloned {@link Vec2}
     */
    clone() {
      return new Vec2(this.x, this.y);
    }
    /**
     * Apply max values to this {@link Vec2} components
     * @param vector - {@link Vec2} representing max values
     * @returns - {@link Vec2} with max values applied
     */
    max(vector = new Vec2()) {
      this.x = Math.max(this.x, vector.x);
      this.y = Math.max(this.y, vector.y);
      return this;
    }
    /**
     * Apply min values to this {@link Vec2} components
     * @param vector - {@link Vec2} representing min values
     * @returns - {@link Vec2} with min values applied
     */
    min(vector = new Vec2()) {
      this.x = Math.min(this.x, vector.x);
      this.y = Math.min(this.y, vector.y);
      return this;
    }
    /**
     * Clamp this {@link Vec2} components by min and max {@link Vec2} vectors
     * @param min - minimum {@link Vec2} components to compare with
     * @param max - maximum {@link Vec2} components to compare with
     * @returns - clamped {@link Vec2}
     */
    clamp(min = new Vec2(), max = new Vec2()) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      return this;
    }
    /**
     * Check if 2 {@link Vec2} are equal
     * @param vector - {@link Vec2} to compare
     * @returns - whether the {@link Vec2} are equals or not
     */
    equals(vector = new Vec2()) {
      return this.x === vector.x && this.y === vector.y;
    }
    /**
     * Get the square length of this {@link Vec2}
     * @returns - square length of this {@link Vec2}
     */
    lengthSq() {
      return this.x * this.x + this.y * this.y;
    }
    /**
     * Get the length of this {@link Vec2}
     * @returns - length of this {@link Vec2}
     */
    length() {
      return Math.sqrt(this.lengthSq());
    }
    /**
     * Normalize this {@link Vec2}
     * @returns - normalized {@link Vec2}
     */
    normalize() {
      let len = this.x * this.x + this.y * this.y;
      if (len > 0) {
        len = 1 / Math.sqrt(len);
      }
      this.x *= len;
      this.y *= len;
      return this;
    }
    /**
     * Calculate the dot product of 2 {@link Vec2}
     * @param vector - {@link Vec2} to use for dot product
     * @returns - dot product of the 2 {@link Vec2}
     */
    dot(vector = new Vec2()) {
      return this.x * vector.x + this.y * vector.y;
    }
    /**
     * Calculate the linear interpolation of this {@link Vec2} by given {@link Vec2} and alpha, where alpha is the percent distance along the line
     * @param vector - {@link Vec2} to interpolate towards
     * @param [alpha=1] - interpolation factor in the [0, 1] interval
     * @returns - this {@link Vec2} after linear interpolation
     */
    lerp(vector = new Vec2(), alpha = 1) {
      this.x += (vector.x - this.x) * alpha;
      this.y += (vector.y - this.y) * alpha;
      return this;
    }
  }

  class Quat {
    /**
     * Quat constructor
     * @param [elements] - initial array to use
     * @param [axisOrder='XYZ'] - axis order to use
     */
    constructor(elements = new Float32Array([0, 0, 0, 1]), axisOrder = "XYZ") {
      this.type = "Quat";
      this.elements = elements;
      this.axisOrder = axisOrder;
    }
    /**
     * Sets the {@link Quat} values from an array
     * @param array - an array of at least 4 elements
     * @returns - this {@link Quat} after being set
     */
    setFromArray(array = new Float32Array([0, 0, 0, 1])) {
      this.elements[0] = array[0];
      this.elements[1] = array[1];
      this.elements[2] = array[2];
      this.elements[3] = array[3];
      return this;
    }
    /**
     * Sets the {@link Quat} axis order
     * @param axisOrder - axis order to use
     * @returns - this {@link Quat} after axis order has been set
     */
    setAxisOrder(axisOrder = "XYZ") {
      axisOrder = axisOrder.toUpperCase();
      switch (axisOrder) {
        case "XYZ":
        case "YXZ":
        case "ZXY":
        case "ZYX":
        case "YZX":
        case "XZY":
          this.axisOrder = axisOrder;
          break;
        default:
          this.axisOrder = "XYZ";
      }
      return this;
    }
    /**
     * Copy a {@link Quat} into this {@link Quat}
     * @param quaternion - {@link Quat} to copy
     * @returns - this {@link Quat} after copy
     */
    copy(quaternion = new Quat()) {
      this.elements = quaternion.elements;
      this.axisOrder = quaternion.axisOrder;
      return this;
    }
    /**
     * Clone a {@link Quat}
     * @returns - cloned {@link Quat}
     */
    clone() {
      return new Quat().copy(this);
    }
    /**
     * Check if 2 {@link Quat} are equal
     * @param quaternion - {@link Quat} to check against
     * @returns - whether the {@link Quat} are equal or not
     */
    equals(quaternion = new Quat()) {
      return this.elements[0] === quaternion.elements[0] && this.elements[1] === quaternion.elements[1] && this.elements[2] === quaternion.elements[2] && this.elements[3] === quaternion.elements[3] && this.axisOrder === quaternion.axisOrder;
    }
    /**
     * Sets a rotation {@link Quat} using Euler angles {@link Vec3 | vector} and its axis order
     * @param vector - rotation {@link Vec3 | vector} to set our {@link Quat} from
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromVec3(vector = new Vec3()) {
      const ax = vector.x * 0.5;
      const ay = vector.y * 0.5;
      const az = vector.z * 0.5;
      const cosx = Math.cos(ax);
      const cosy = Math.cos(ay);
      const cosz = Math.cos(az);
      const sinx = Math.sin(ax);
      const siny = Math.sin(ay);
      const sinz = Math.sin(az);
      if (this.axisOrder === "XYZ") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "YXZ") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      } else if (this.axisOrder === "ZXY") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "ZYX") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      } else if (this.axisOrder === "YZX") {
        this.elements[0] = sinx * cosy * cosz + cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz + sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz - sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz - sinx * siny * sinz;
      } else if (this.axisOrder === "XZY") {
        this.elements[0] = sinx * cosy * cosz - cosx * siny * sinz;
        this.elements[1] = cosx * siny * cosz - sinx * cosy * sinz;
        this.elements[2] = cosx * cosy * sinz + sinx * siny * cosz;
        this.elements[3] = cosx * cosy * cosz + sinx * siny * sinz;
      }
      return this;
    }
    /**
     * Set a {@link Quat} from a rotation axis {@link Vec3 | vector} and an angle
     * @param axis - normalized {@link Vec3 | vector} around which to rotate
     * @param angle - angle (in radians) to rotate
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromAxisAngle(axis = new Vec3(), angle = 0) {
      const halfAngle = angle / 2, s = Math.sin(halfAngle);
      this.elements[0] = axis.x * s;
      this.elements[1] = axis.y * s;
      this.elements[2] = axis.z * s;
      this.elements[3] = Math.cos(halfAngle);
      return this;
    }
    /**
     * Set a {@link Quat} from a rotation {@link Mat4 | matrix}
     * @param matrix - rotation {@link Mat4 | matrix} to use
     * @returns - {@link Quat} after having applied the rotation
     */
    setFromRotationMatrix(matrix) {
      const te = matrix.elements, m11 = te[0], m12 = te[4], m13 = te[8], m21 = te[1], m22 = te[5], m23 = te[9], m31 = te[2], m32 = te[6], m33 = te[10], trace = m11 + m22 + m33;
      if (trace > 0) {
        const s = 0.5 / Math.sqrt(trace + 1);
        this.elements[3] = 0.25 / s;
        this.elements[0] = (m32 - m23) * s;
        this.elements[1] = (m13 - m31) * s;
        this.elements[2] = (m21 - m12) * s;
      } else if (m11 > m22 && m11 > m33) {
        const s = 2 * Math.sqrt(1 + m11 - m22 - m33);
        this.elements[3] = (m32 - m23) / s;
        this.elements[0] = 0.25 * s;
        this.elements[1] = (m12 + m21) / s;
        this.elements[2] = (m13 + m31) / s;
      } else if (m22 > m33) {
        const s = 2 * Math.sqrt(1 + m22 - m11 - m33);
        this.elements[3] = (m13 - m31) / s;
        this.elements[0] = (m12 + m21) / s;
        this.elements[1] = 0.25 * s;
        this.elements[2] = (m23 + m32) / s;
      } else {
        const s = 2 * Math.sqrt(1 + m33 - m11 - m22);
        this.elements[3] = (m21 - m12) / s;
        this.elements[0] = (m13 + m31) / s;
        this.elements[1] = (m23 + m32) / s;
        this.elements[2] = 0.25 * s;
      }
      return this;
    }
  }

  class Mat4 {
    // prettier-ignore
    /**
     * Mat4 constructor
     * @param elements - initial array to use, default to identity matrix
     */
    constructor(elements = new Float32Array([
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ])) {
      this.type = "Mat4";
      this.elements = elements;
    }
    /***
     * Sets the matrix from 16 numbers
     *
     * @param n11 number
     * @param n12 number
     * @param n13 number
     * @param n14 number
     * @param n21 number
     * @param n22 number
     * @param n23 number
     * @param n24 number
     * @param n31 number
     * @param n32 number
     * @param n33 number
     * @param n34 number
     * @param n41 number
     * @param n42 number
     * @param n43 number
     * @param n44 number
     *
     * @returns - this {@link Mat4} after being set
     */
    set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {
      const te = this.elements;
      te[0] = n11;
      te[1] = n12;
      te[2] = n13;
      te[3] = n14;
      te[4] = n21;
      te[5] = n22;
      te[6] = n23;
      te[7] = n24;
      te[8] = n31;
      te[9] = n32;
      te[10] = n33;
      te[11] = n34;
      te[12] = n41;
      te[13] = n42;
      te[14] = n43;
      te[15] = n44;
      return this;
    }
    /**
     * Sets the {@link Mat4} to an identity matrix
     * @returns - this {@link Mat4} after being set
     */
    identity() {
      this.set(
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      );
      return this;
    }
    /**
     * Sets the {@link Mat4} values from an array
     * @param array - array to use
     * @returns - this {@link Mat4} after being set
     */
    // prettier-ignore
    setFromArray(array = new Float32Array([
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ])) {
      for (let i = 0; i < this.elements.length; i++) {
        this.elements[i] = array[i];
      }
      return this;
    }
    /**
     * Copy another {@link Mat4}
     * @param matrix
     * @returns - this {@link Mat4} after being set
     */
    copy(matrix = new Mat4()) {
      const array = matrix.elements;
      this.elements[0] = array[0];
      this.elements[1] = array[1];
      this.elements[2] = array[2];
      this.elements[3] = array[3];
      this.elements[4] = array[4];
      this.elements[5] = array[5];
      this.elements[6] = array[6];
      this.elements[7] = array[7];
      this.elements[8] = array[8];
      this.elements[9] = array[9];
      this.elements[10] = array[10];
      this.elements[11] = array[11];
      this.elements[12] = array[12];
      this.elements[13] = array[13];
      this.elements[14] = array[14];
      this.elements[15] = array[15];
      return this;
    }
    /**
     * Clone a {@link Mat4}
     * @returns - cloned {@link Mat4}
     */
    clone() {
      return new Mat4().copy(this);
    }
    /**
     * Multiply this {@link Mat4} with another {@link Mat4}
     * @param matrix - {@link Mat4} to multiply with
     * @returns - this {@link Mat4} after multiplication
     */
    multiply(matrix = new Mat4()) {
      return this.multiplyMatrices(this, matrix);
    }
    /**
     * Multiply another {@link Mat4} with this {@link Mat4}
     * @param matrix - {@link Mat4} to multiply with
     * @returns - this {@link Mat4} after multiplication
     */
    premultiply(matrix = new Mat4()) {
      return this.multiplyMatrices(matrix, this);
    }
    /**
     * Multiply two {@link Mat4}
     * @param a - first {@link Mat4}
     * @param b - second {@link Mat4}
     * @returns - {@link Mat4} resulting from the multiplication
     */
    multiplyMatrices(a = new Mat4(), b = new Mat4()) {
      const ae = a.elements;
      const be = b.elements;
      const te = this.elements;
      const a11 = ae[0], a12 = ae[4], a13 = ae[8], a14 = ae[12];
      const a21 = ae[1], a22 = ae[5], a23 = ae[9], a24 = ae[13];
      const a31 = ae[2], a32 = ae[6], a33 = ae[10], a34 = ae[14];
      const a41 = ae[3], a42 = ae[7], a43 = ae[11], a44 = ae[15];
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;
      te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;
      te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;
      te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;
      te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;
      te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;
      te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;
      te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;
      te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;
      te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;
      te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;
      te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;
      te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;
      te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;
      te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;
      te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;
      return this;
    }
    /**
     * {@link premultiply} this {@link Mat4} by a translate matrix (i.e. translateMatrix = new Mat4().translate(vector))
     * @param vector - translation {@link Vec3 | vector} to use
     * @returns - this {@link Mat4} after the premultiply translate operation
     */
    premultiplyTranslate(vector = new Vec3()) {
      const a11 = 1;
      const a22 = 1;
      const a33 = 1;
      const a44 = 1;
      const a14 = vector.x;
      const a24 = vector.y;
      const a34 = vector.z;
      const be = this.elements;
      const te = this.elements;
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11 + a14 * b41;
      te[4] = a11 * b12 + a14 * b42;
      te[8] = a11 * b13 + a14 * b43;
      te[12] = a11 * b14 + a14 * b44;
      te[1] = a22 * b21 + a24 * b41;
      te[5] = a22 * b22 + a24 * b42;
      te[9] = a22 * b23 + a24 * b43;
      te[13] = a22 * b24 + a24 * b44;
      te[2] = a33 * b31 + a34 * b41;
      te[6] = a33 * b32 + a34 * b42;
      te[10] = a33 * b33 + a34 * b43;
      te[14] = a33 * b34 + a34 * b44;
      te[3] = a44 * b41;
      te[7] = a44 * b42;
      te[11] = a44 * b43;
      te[15] = a44 * b44;
      return this;
    }
    /**
     * {@link premultiply} this {@link Mat4} by a scale matrix (i.e. translateMatrix = new Mat4().scale(vector))
     * @param vector - scale {@link Vec3 | vector} to use
     * @returns - this {@link Mat4} after the premultiply scale operation
     */
    premultiplyScale(vector = new Vec3()) {
      const be = this.elements;
      const te = this.elements;
      const a11 = vector.x;
      const a22 = vector.y;
      const a33 = vector.z;
      const a44 = 1;
      const b11 = be[0], b12 = be[4], b13 = be[8], b14 = be[12];
      const b21 = be[1], b22 = be[5], b23 = be[9], b24 = be[13];
      const b31 = be[2], b32 = be[6], b33 = be[10], b34 = be[14];
      const b41 = be[3], b42 = be[7], b43 = be[11], b44 = be[15];
      te[0] = a11 * b11;
      te[4] = a11 * b12;
      te[8] = a11 * b13;
      te[12] = a11 * b14;
      te[1] = a22 * b21;
      te[5] = a22 * b22;
      te[9] = a22 * b23;
      te[13] = a22 * b24;
      te[2] = a33 * b31;
      te[6] = a33 * b32;
      te[10] = a33 * b33;
      te[14] = a33 * b34;
      te[3] = a44 * b41;
      te[7] = a44 * b42;
      te[11] = a44 * b43;
      te[15] = a44 * b44;
      return this;
    }
    /**
     * Get the {@link Mat4} inverse
     * @returns - the {@link Mat4} inverted
     */
    invert() {
      const te = this.elements, n11 = te[0], n21 = te[1], n31 = te[2], n41 = te[3], n12 = te[4], n22 = te[5], n32 = te[6], n42 = te[7], n13 = te[8], n23 = te[9], n33 = te[10], n43 = te[11], n14 = te[12], n24 = te[13], n34 = te[14], n44 = te[15], t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44, t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44, t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44, t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;
      const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;
      if (det === 0)
        return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
      const detInv = 1 / det;
      te[0] = t11 * detInv;
      te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;
      te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;
      te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;
      te[4] = t12 * detInv;
      te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;
      te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;
      te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;
      te[8] = t13 * detInv;
      te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;
      te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;
      te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;
      te[12] = t14 * detInv;
      te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;
      te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;
      te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;
      return this;
    }
    /**
     * Clone and invert the {@link Mat4}
     * @returns - inverted cloned {@link Mat4}
     */
    getInverse() {
      return this.clone().invert();
    }
    /**
     * Translate a {@link Mat4}
     * @param vector - translation {@link Vec3 | vector} to use
     * @returns - translated {@link Mat4}
     */
    translate(vector = new Vec3()) {
      const a = this.elements;
      a[12] = a[0] * vector.x + a[4] * vector.y + a[8] * vector.z + a[12];
      a[13] = a[1] * vector.x + a[5] * vector.y + a[9] * vector.z + a[13];
      a[14] = a[2] * vector.x + a[6] * vector.y + a[10] * vector.z + a[14];
      a[15] = a[3] * vector.x + a[7] * vector.y + a[11] * vector.z + a[15];
      return this;
    }
    /**
     * Scale a {@link Mat4}
     * @param vector - scale {@link Vec3 | vector} to use
     * @returns - scaled {@link Mat4}
     */
    scale(vector = new Vec3()) {
      const a = this.elements;
      a[0] *= vector.x;
      a[1] *= vector.x;
      a[2] *= vector.x;
      a[3] *= vector.x;
      a[4] *= vector.y;
      a[5] *= vector.y;
      a[6] *= vector.y;
      a[7] *= vector.y;
      a[8] *= vector.z;
      a[9] *= vector.z;
      a[10] *= vector.z;
      a[11] *= vector.z;
      return this;
    }
    /**
     * Rotate a {@link Mat4} from a {@link Quat | quaternion}
     * @param quaternion - {@link Quat | quaternion} to use
     * @returns - rotated {@link Mat4}
     */
    rotateFromQuaternion(quaternion = new Quat()) {
      const te = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x, y2 = y + y, z2 = z + z;
      const xx = x * x2, xy = x * y2, xz = x * z2;
      const yy = y * y2, yz = y * z2, zz = z * z2;
      const wx = w * x2, wy = w * y2, wz = w * z2;
      te[0] = 1 - (yy + zz);
      te[4] = xy - wz;
      te[8] = xz + wy;
      te[1] = xy + wz;
      te[5] = 1 - (xx + zz);
      te[9] = yz - wx;
      te[2] = xz - wy;
      te[6] = yz + wx;
      te[10] = 1 - (xx + yy);
      return this;
    }
    /**
     * Set this {@link Mat4} as a rotation matrix based on an eye, target and up {@link Vec3 | vectors}
     * @param eye - {@link Vec3 | position vector} of the object that should be rotated
     * @param target - {@link Vec3 | target vector} to look at
     * @param up - up {@link Vec3 | vector}
     * @returns - rotated {@link Mat4}
     */
    lookAt(eye = new Vec3(), target = new Vec3(), up = new Vec3(0, 1, 0)) {
      const te = this.elements;
      const _z = eye.clone().sub(target);
      if (_z.lengthSq() === 0) {
        _z.z = 1;
      }
      _z.normalize();
      const _x = new Vec3().crossVectors(up, _z);
      if (_x.lengthSq() === 0) {
        if (Math.abs(up.z) === 1) {
          _z.x += 1e-4;
        } else {
          _z.z += 1e-4;
        }
        _z.normalize();
        _x.crossVectors(up, _z);
      }
      _x.normalize();
      const _y = new Vec3().crossVectors(_z, _x);
      te[0] = _x.x;
      te[4] = _y.x;
      te[8] = _z.x;
      te[1] = _x.y;
      te[5] = _y.y;
      te[9] = _z.y;
      te[2] = _x.z;
      te[6] = _y.z;
      te[10] = _z.z;
      return this;
    }
    /**
     * Creates a {@link Mat4} from a {@link Quat | quaternion} rotation, {@link Vec3 | vector} translation and {@link Vec3 | vector} scale
     * Equivalent for applying translation, rotation and scale matrices but much faster
     * Source code from: http://glmatrix.net/docs/mat4.js.html
     *
     * @param translation - translation {@link Vec3 | vector} to use
     * @param quaternion - {@link Quat | quaternion} to use
     * @param scale - translation {@link Vec3 | vector} to use
     * @returns - transformed {@link Mat4}
     */
    compose(translation = new Vec3(), quaternion = new Quat(), scale = new Vec3(1)) {
      const matrix = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x;
      const y2 = y + y;
      const z2 = z + z;
      const xx = x * x2;
      const xy = x * y2;
      const xz = x * z2;
      const yy = y * y2;
      const yz = y * z2;
      const zz = z * z2;
      const wx = w * x2;
      const wy = w * y2;
      const wz = w * z2;
      const sx = scale.x;
      const sy = scale.y;
      const sz = scale.z;
      matrix[0] = (1 - (yy + zz)) * sx;
      matrix[1] = (xy + wz) * sx;
      matrix[2] = (xz - wy) * sx;
      matrix[3] = 0;
      matrix[4] = (xy - wz) * sy;
      matrix[5] = (1 - (xx + zz)) * sy;
      matrix[6] = (yz + wx) * sy;
      matrix[7] = 0;
      matrix[8] = (xz + wy) * sz;
      matrix[9] = (yz - wx) * sz;
      matrix[10] = (1 - (xx + yy)) * sz;
      matrix[11] = 0;
      matrix[12] = translation.x;
      matrix[13] = translation.y;
      matrix[14] = translation.z;
      matrix[15] = 1;
      return this;
    }
    /**
     * Creates a {@link Mat4} from a {@link Quat | quaternion} rotation, {@link Vec3 | vector} translation and {@link Vec3 | vector} scale, rotating and scaling around the given {@link Vec3 | origin vector}
     * Equivalent for applying translation, rotation and scale matrices but much faster
     * Source code from: http://glmatrix.net/docs/mat4.js.html
     *
     * @param translation - translation {@link Vec3 | vector} to use
     * @param quaternion - {@link Quat | quaternion} to use
     * @param scale - translation {@link Vec3 | vector} to use
     * @param origin - origin {@link Vec3 | vector} around which to scale and rotate
     * @returns - transformed {@link Mat4}
     */
    composeFromOrigin(translation = new Vec3(), quaternion = new Quat(), scale = new Vec3(1), origin = new Vec3()) {
      const matrix = this.elements;
      const x = quaternion.elements[0], y = quaternion.elements[1], z = quaternion.elements[2], w = quaternion.elements[3];
      const x2 = x + x;
      const y2 = y + y;
      const z2 = z + z;
      const xx = x * x2;
      const xy = x * y2;
      const xz = x * z2;
      const yy = y * y2;
      const yz = y * z2;
      const zz = z * z2;
      const wx = w * x2;
      const wy = w * y2;
      const wz = w * z2;
      const sx = scale.x;
      const sy = scale.y;
      const sz = scale.z;
      const ox = origin.x;
      const oy = origin.y;
      const oz = origin.z;
      const out0 = (1 - (yy + zz)) * sx;
      const out1 = (xy + wz) * sx;
      const out2 = (xz - wy) * sx;
      const out4 = (xy - wz) * sy;
      const out5 = (1 - (xx + zz)) * sy;
      const out6 = (yz + wx) * sy;
      const out8 = (xz + wy) * sz;
      const out9 = (yz - wx) * sz;
      const out10 = (1 - (xx + yy)) * sz;
      matrix[0] = out0;
      matrix[1] = out1;
      matrix[2] = out2;
      matrix[3] = 0;
      matrix[4] = out4;
      matrix[5] = out5;
      matrix[6] = out6;
      matrix[7] = 0;
      matrix[8] = out8;
      matrix[9] = out9;
      matrix[10] = out10;
      matrix[11] = 0;
      matrix[12] = translation.x + ox - (out0 * ox + out4 * oy + out8 * oz);
      matrix[13] = translation.y + oy - (out1 * ox + out5 * oy + out9 * oz);
      matrix[14] = translation.z + oz - (out2 * ox + out6 * oy + out10 * oz);
      matrix[15] = 1;
      return this;
    }
    /**
     * Get the translation {@link Vec3} component of a {@link Mat4}
     * @param position - {@link Vec3} to set
     * @returns - translation {@link Vec3} component of this {@link Mat4}
     */
    getTranslation(position = new Vec3()) {
      return position.set(this.elements[12], this.elements[13], this.elements[14]);
    }
  }

  class Vec3 {
    /**
     * Vec3 constructor
     * @param x - X component of our {@link Vec3}
     * @param y - Y component of our {@link Vec3}
     * @param z - Z component of our {@link Vec3}
     */
    constructor(x = 0, y = x, z = x) {
      this.type = "Vec3";
      this._x = x;
      this._y = y;
      this._z = z;
    }
    /**
     * Get the X component of the {@link Vec3}
     */
    get x() {
      return this._x;
    }
    /**
     * Set the X component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - X component to set
     */
    set x(value) {
      const changed = value !== this._x;
      this._x = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Y component of the {@link Vec3}
     */
    get y() {
      return this._y;
    }
    /**
     * Set the Y component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - Y component to set
     */
    set y(value) {
      const changed = value !== this._y;
      this._y = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Get the Z component of the {@link Vec3}
     */
    get z() {
      return this._z;
    }
    /**
     * Set the Z component of the {@link Vec3}
     * Can trigger {@link onChange} callback
     * @param value - Z component to set
     */
    set z(value) {
      const changed = value !== this._z;
      this._z = value;
      changed && this._onChangeCallback && this._onChangeCallback();
    }
    /**
     * Called when at least one component of the {@link Vec3} has changed
     * @param callback - callback to run when at least one component of the {@link Vec3} has changed
     * @returns - our {@link Vec3}
     */
    onChange(callback) {
      if (callback) {
        this._onChangeCallback = callback;
      }
      return this;
    }
    /**
     * Set the {@link Vec3} from values
     * @param x - new X component to set
     * @param y - new Y component to set
     * @param z - new Z component to set
     * @returns - this {@link Vec3} after being set
     */
    set(x = 0, y = x, z = x) {
      this.x = x;
      this.y = y;
      this.z = z;
      return this;
    }
    /**
     * Add a {@link Vec3} to this {@link Vec3}
     * @param vector - {@link Vec3} to add
     * @returns - this {@link Vec3} after addition
     */
    add(vector = new Vec3()) {
      this.x += vector.x;
      this.y += vector.y;
      this.z += vector.z;
      return this;
    }
    /**
     * Add a scalar to all the components of this {@link Vec3}
     * @param value - number to add
     * @returns - this {@link Vec3} after addition
     */
    addScalar(value = 0) {
      this.x += value;
      this.y += value;
      this.z += value;
      return this;
    }
    /**
     * Subtract a {@link Vec3} from this {@link Vec3}
     * @param vector - {@link Vec3} to subtract
     * @returns - this {@link Vec3} after subtraction
     */
    sub(vector = new Vec3()) {
      this.x -= vector.x;
      this.y -= vector.y;
      this.z -= vector.z;
      return this;
    }
    /**
     * Subtract a scalar to all the components of this {@link Vec3}
     * @param value - number to subtract
     * @returns - this {@link Vec3} after subtraction
     */
    subScalar(value = 0) {
      this.x -= value;
      this.y -= value;
      this.z -= value;
      return this;
    }
    /**
     * Multiply a {@link Vec3} with this {@link Vec3}
     * @param vector - {@link Vec3} to multiply with
     * @returns - this {@link Vec3} after multiplication
     */
    multiply(vector = new Vec3(1)) {
      this.x *= vector.x;
      this.y *= vector.y;
      this.z *= vector.z;
      return this;
    }
    /**
     * Multiply all components of this {@link Vec3} with a scalar
     * @param value - number to multiply with
     * @returns - this {@link Vec3} after multiplication
     */
    multiplyScalar(value = 1) {
      this.x *= value;
      this.y *= value;
      this.z *= value;
      return this;
    }
    /**
     * Copy a {@link Vec3} into this {@link Vec3}
     * @param vector - {@link Vec3} to copy
     * @returns - this {@link Vec3} after copy
     */
    copy(vector = new Vec3()) {
      this.x = vector.x;
      this.y = vector.y;
      this.z = vector.z;
      return this;
    }
    /**
     * Clone this {@link Vec3}
     * @returns - cloned {@link Vec3}
     */
    clone() {
      return new Vec3(this.x, this.y, this.z);
    }
    /**
     * Apply max values to this {@link Vec3} components
     * @param vector - {@link Vec3} representing max values
     * @returns - {@link Vec3} with max values applied
     */
    max(vector = new Vec3()) {
      this.x = Math.max(this.x, vector.x);
      this.y = Math.max(this.y, vector.y);
      this.z = Math.max(this.z, vector.z);
      return this;
    }
    /**
     * Apply min values to this {@link Vec3} components
     * @param vector - {@link Vec3} representing min values
     * @returns - {@link Vec3} with min values applied
     */
    min(vector = new Vec3()) {
      this.x = Math.min(this.x, vector.x);
      this.y = Math.min(this.y, vector.y);
      this.z = Math.min(this.z, vector.z);
      return this;
    }
    /**
     * Clamp this {@link Vec3} components by min and max {@link Vec3} vectors
     * @param min - minimum {@link Vec3} components to compare with
     * @param max - maximum {@link Vec3} components to compare with
     * @returns - clamped {@link Vec3}
     */
    clamp(min = new Vec3(), max = new Vec3()) {
      this.x = Math.max(min.x, Math.min(max.x, this.x));
      this.y = Math.max(min.y, Math.min(max.y, this.y));
      this.z = Math.max(min.z, Math.min(max.z, this.z));
      return this;
    }
    /**
     * Check if 2 {@link Vec3} are equal
     * @param vector - {@link Vec3} to compare
     * @returns - whether the {@link Vec3} are equals or not
     */
    equals(vector = new Vec3()) {
      return this.x === vector.x && this.y === vector.y && this.z === vector.z;
    }
    /**
     * Get the square length of this {@link Vec3}
     * @returns - square length of this {@link Vec3}
     */
    lengthSq() {
      return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    /**
     * Get the length of this {@link Vec3}
     * @returns - length of this {@link Vec3}
     */
    length() {
      return Math.sqrt(this.lengthSq());
    }
    /**
     * Normalize this {@link Vec3}
     * @returns - normalized {@link Vec3}
     */
    normalize() {
      let len = this.lengthSq();
      if (len > 0) {
        len = 1 / Math.sqrt(len);
      }
      this.x *= len;
      this.y *= len;
      this.z *= len;
      return this;
    }
    /**
     * Calculate the dot product of 2 {@link Vec3}
     * @param vector - {@link Vec3} to use for dot product
     * @returns - dot product of the 2 {@link Vec3}
     */
    dot(vector = new Vec3()) {
      return this.x * vector.x + this.y * vector.y + this.z * vector.z;
    }
    /**
     * Get the cross product of this {@link Vec3} with another {@link Vec3}
     * @param vector - {@link Vec3} to use for cross product
     * @returns - this {@link Vec3} after cross product
     */
    cross(vector = new Vec3()) {
      return this.crossVectors(this, vector);
    }
    /**
     * Set this {@link Vec3} as the result of the cross product of two {@link Vec3}
     * @param a - first {@link Vec3} to use for cross product
     * @param b - second {@link Vec3} to use for cross product
     * @returns - this {@link Vec3} after cross product
     */
    crossVectors(a = new Vec3(), b = new Vec3()) {
      const ax = a.x, ay = a.y, az = a.z;
      const bx = b.x, by = b.y, bz = b.z;
      this.x = ay * bz - az * by;
      this.y = az * bx - ax * bz;
      this.z = ax * by - ay * bx;
      return this;
    }
    /**
     * Calculate the linear interpolation of this {@link Vec3} by given {@link Vec3} and alpha, where alpha is the percent distance along the line
     * @param vector - {@link Vec3} to interpolate towards
     * @param alpha - interpolation factor in the [0, 1] interval
     * @returns - this {@link Vec3} after linear interpolation
     */
    lerp(vector = new Vec3(), alpha = 1) {
      this.x += (vector.x - this.x) * alpha;
      this.y += (vector.y - this.y) * alpha;
      this.z += (vector.z - this.z) * alpha;
      return this;
    }
    /**
     * Apply a {@link Mat4 | matrix} to a {@link Vec3}
     * Useful to convert a position {@link Vec3} from plane local world to webgl space using projection view matrix for example
     * Source code from: http://glmatrix.net/docs/vec3.js.html
     * @param matrix - {@link Mat4 | matrix} to use
     * @returns - this {@link Vec3} after {@link Mat4 | matrix} application
     */
    applyMat4(matrix = new Mat4()) {
      const x = this._x, y = this._y, z = this._z;
      const mArray = matrix.elements;
      let w = mArray[3] * x + mArray[7] * y + mArray[11] * z + mArray[15];
      w = w || 1;
      this.x = (mArray[0] * x + mArray[4] * y + mArray[8] * z + mArray[12]) / w;
      this.y = (mArray[1] * x + mArray[5] * y + mArray[9] * z + mArray[13]) / w;
      this.z = (mArray[2] * x + mArray[6] * y + mArray[10] * z + mArray[14]) / w;
      return this;
    }
    /**
     * Apply a {@link Quat | quaternion} (rotation in 3D space) to this {@link Vec3}
     * @param quaternion - {@link Quat | quaternion} to use
     * @returns - this {@link Vec3} with the transformation applied
     */
    applyQuat(quaternion = new Quat()) {
      const x = this.x, y = this.y, z = this.z;
      const qx = quaternion.elements[0], qy = quaternion.elements[1], qz = quaternion.elements[2], qw = quaternion.elements[3];
      const ix = qw * x + qy * z - qz * y;
      const iy = qw * y + qz * x - qx * z;
      const iz = qw * z + qx * y - qy * x;
      const iw = -qx * x - qy * y - qz * z;
      this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
      this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
      this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
      return this;
    }
    /**
     * Rotate a {@link Vec3} around and axis by a given angle
     * @param axis - normalized {@link Vec3} around which to rotate
     * @param angle - angle (in radians) to rotate
     * @param quaternion - optional {@link Quat | quaternion} to use for rotation computations
     * @returns - this {@link Vec3} with the rotation applied
     */
    applyAxisAngle(axis = new Vec3(), angle = 0, quaternion = new Quat()) {
      return this.applyQuat(quaternion.setFromAxisAngle(axis, angle));
    }
    /**
     * Project a 3D coordinate {@link Vec3} to a 2D coordinate {@link Vec3}
     * @param camera - {@link Camera} to use for projection
     * @returns - projected {@link Vec3}
     */
    project(camera) {
      this.applyMat4(camera.viewMatrix).applyMat4(camera.projectionMatrix);
      return this;
    }
    /**
     * Unproject a 2D coordinate {@link Vec3} to 3D coordinate {@link Vec3}
     * @param camera - {@link Camera} to use for projection
     * @returns - unprojected {@link Vec3}
     */
    unproject(camera) {
      this.applyMat4(camera.projectionMatrix.getInverse()).applyMat4(camera.modelMatrix);
      return this;
    }
  }

  const slotsPerRow = 4;
  const bytesPerSlot = 4;
  const bytesPerRow = slotsPerRow * bytesPerSlot;
  class BufferElement {
    /**
     * BufferElement constructor
     * @param parameters - {@link BufferElementParams | parameters} used to create our {@link BufferElement}
     */
    constructor({ name, key, type = "f32" }) {
      this.name = name;
      this.key = key;
      this.type = type;
      this.bufferLayout = getBufferLayout(this.type.replace("array", "").replace("<", "").replace(">", ""));
      this.alignment = {
        start: {
          row: 0,
          byte: 0
        },
        end: {
          row: 0,
          byte: 0
        }
      };
    }
    /**
     * Get the total number of rows used by this {@link BufferElement}
     * @readonly
     */
    get rowCount() {
      return this.alignment.end.row - this.alignment.start.row + 1;
    }
    /**
     * Get the total number of bytes used by this {@link BufferElement} based on {@link BufferElementAlignment | alignment} start and end offsets
     * @readonly
     */
    get byteCount() {
      return Math.abs(this.endOffset - this.startOffset) + 1;
    }
    /**
     * Get the total number of bytes used by this {@link BufferElement}, including final padding
     * @readonly
     */
    get paddedByteCount() {
      return (this.alignment.end.row + 1) * bytesPerRow;
    }
    /**
     * Get the offset (i.e. byte index) at which our {@link BufferElement} starts
     * @readonly
     */
    get startOffset() {
      return this.getByteCountAtPosition(this.alignment.start);
    }
    /**
     * Get the array offset (i.e. array index) at which our {@link BufferElement} starts
     * @readonly
     */
    get startOffsetToIndex() {
      return this.startOffset / bytesPerSlot;
    }
    /**
     * Get the offset (i.e. byte index) at which our {@link BufferElement} ends
     * @readonly
     */
    get endOffset() {
      return this.getByteCountAtPosition(this.alignment.end);
    }
    /**
     * Get the array offset (i.e. array index) at which our {@link BufferElement} ends
     * @readonly
     */
    get endOffsetToIndex() {
      return Math.floor(this.endOffset / bytesPerSlot);
    }
    /**
     * Get the position at given offset (i.e. byte index)
     * @param offset - byte index to use
     */
    getPositionAtOffset(offset = 0) {
      return {
        row: Math.floor(offset / bytesPerRow),
        byte: offset % bytesPerRow
      };
    }
    /**
     * Get the number of bytes at a given {@link BufferElementAlignmentPosition | position}
     * @param position - {@link BufferElementAlignmentPosition | position} from which to count
     * @returns - byte count at the given {@link BufferElementAlignmentPosition | position}
     */
    getByteCountAtPosition(position = { row: 0, byte: 0 }) {
      return position.row * bytesPerRow + position.byte;
    }
    /**
     * Check that a {@link BufferElementAlignmentPosition#byte | byte position} does not overflow its max value (16)
     * @param position - {@link BufferElementAlignmentPosition | position}
     * @returns - updated {@link BufferElementAlignmentPosition | position}
     */
    applyOverflowToPosition(position = { row: 0, byte: 0 }) {
      if (position.byte > bytesPerRow - 1) {
        const overflow = position.byte % bytesPerRow;
        position.row += Math.floor(position.byte / bytesPerRow);
        position.byte = overflow;
      }
      return position;
    }
    /**
     * Get the number of bytes between two {@link BufferElementAlignmentPosition | positions}
     * @param p1 - first {@link BufferElementAlignmentPosition | position}
     * @param p2 - second {@link BufferElementAlignmentPosition | position}
     * @returns - number of bytes
     */
    getByteCountBetweenPositions(p1 = { row: 0, byte: 0 }, p2 = { row: 0, byte: 0 }) {
      return Math.abs(this.getByteCountAtPosition(p2) - this.getByteCountAtPosition(p1));
    }
    /**
     * Compute the right alignment (i.e. start and end rows and bytes) given the size and align properties and the next available {@link BufferElementAlignmentPosition | position}
     * @param nextPositionAvailable - next {@link BufferElementAlignmentPosition | position} at which we should insert this element
     * @returns - computed {@link BufferElementAlignment | alignment}
     */
    getElementAlignment(nextPositionAvailable = { row: 0, byte: 0 }) {
      const alignment = {
        start: nextPositionAvailable,
        end: nextPositionAvailable
      };
      const { size, align } = this.bufferLayout;
      if (nextPositionAvailable.byte % align !== 0) {
        nextPositionAvailable.byte += nextPositionAvailable.byte % align;
      }
      if (size <= bytesPerRow && nextPositionAvailable.byte + size > bytesPerRow) {
        nextPositionAvailable.row += 1;
        nextPositionAvailable.byte = 0;
      }
      alignment.end = {
        row: nextPositionAvailable.row + Math.ceil(size / bytesPerRow) - 1,
        byte: nextPositionAvailable.byte + (size % bytesPerRow === 0 ? bytesPerRow - 1 : size % bytesPerRow - 1)
        // end of row ? then it ends on slot (bytesPerRow - 1)
      };
      alignment.end = this.applyOverflowToPosition(alignment.end);
      return alignment;
    }
    /**
     * Set the {@link BufferElementAlignment | alignment} from a {@link BufferElementAlignmentPosition | position}
     * @param position - {@link BufferElementAlignmentPosition | position} at which to start inserting the values in the {@link !core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     */
    setAlignmentFromPosition(position = { row: 0, byte: 0 }) {
      this.alignment = this.getElementAlignment(position);
    }
    /**
     * Set the {@link BufferElementAlignment | alignment} from an offset (byte count)
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     */
    setAlignment(startOffset = 0) {
      this.setAlignmentFromPosition(this.getPositionAtOffset(startOffset));
    }
    /**
     * Set the {@link view}
     * @param arrayBuffer - the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param arrayView - the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view}
     */
    setView(arrayBuffer, arrayView) {
      this.view = new this.bufferLayout.View(
        arrayBuffer,
        this.startOffset,
        this.byteCount / this.bufferLayout.View.BYTES_PER_ELEMENT
      );
    }
    /**
     * Update the {@link view} based on the new value
     * @param value - new value to use
     */
    update(value) {
      if (this.type === "f32" || this.type === "u32" || this.type === "i32") {
        this.view[0] = value;
      } else if (this.type === "vec2f") {
        this.view[0] = value.x ?? value[0] ?? 0;
        this.view[1] = value.y ?? value[1] ?? 0;
      } else if (this.type === "vec3f") {
        this.view[0] = value.x ?? value[0] ?? 0;
        this.view[1] = value.y ?? value[1] ?? 0;
        this.view[2] = value.z ?? value[2] ?? 0;
      } else if (value.elements) {
        this.view.set(value.elements);
      } else if (ArrayBuffer.isView(value) || Array.isArray(value)) {
        this.view.set(value);
      }
    }
    /**
     * Extract the data corresponding to this specific {@link BufferElement} from a {@link Float32Array} holding the {@link GPUBuffer} data of the parentMesh {@link core/bindings/BufferBinding.BufferBinding | BufferBinding}
     * @param result - {@link Float32Array} holding {@link GPUBuffer} data
     * @returns - extracted data from the {@link Float32Array}
     */
    extractDataFromBufferResult(result) {
      return result.slice(this.startOffsetToIndex, this.endOffsetToIndex);
    }
  }

  class BufferArrayElement extends BufferElement {
    /**
     * BufferArrayElement constructor
     * @param parameters - {@link BufferArrayElementParams | parameters} used to create our {@link BufferArrayElement}
     */
    constructor({ name, key, type = "f32", arrayLength = 1 }) {
      super({ name, key, type });
      this.arrayLength = arrayLength;
      this.numElements = this.arrayLength / this.bufferLayout.numElements;
    }
    /**
     * Get the array stride between two elements of the array, in indices
     * @readonly
     */
    get arrayStrideToIndex() {
      return this.arrayStride / bytesPerSlot;
    }
    /**
     * Set the {@link core/bindings/bufferElements/BufferElement.BufferElementAlignment | alignment}
     * To compute how arrays are packed, we get the second item alignment as well and use it to calculate the arrayStride between two array elements. Using the arrayStride and the total number of elements, we can easily get the end alignment position.
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array buffer}
     */
    setAlignment(startOffset = 0) {
      super.setAlignment(startOffset);
      const nextAlignment = this.getElementAlignment(this.getPositionAtOffset(this.endOffset + 1));
      this.arrayStride = this.getByteCountBetweenPositions(this.alignment.end, nextAlignment.end);
      this.alignment.end = this.getPositionAtOffset(this.endOffset + this.arrayStride * (this.numElements - 1));
    }
    /**
     * Update the {@link view} based on the new value
     * @param value - new value to use
     */
    update(value) {
      if (ArrayBuffer.isView(value) || Array.isArray(value)) {
        let valueIndex = 0;
        const viewLength = this.byteCount / this.bufferLayout.View.BYTES_PER_ELEMENT;
        const stride = Math.ceil(viewLength / this.numElements);
        for (let i = 0; i < this.numElements; i++) {
          for (let j = 0; j < this.bufferLayout.numElements; j++) {
            this.view[j + i * stride] = value[valueIndex];
            valueIndex++;
          }
        }
      } else {
        throwWarning(`BufferArrayElement: value passed to ${this.name} is not an array: ${value}`);
      }
    }
  }

  class BufferInterleavedArrayElement extends BufferArrayElement {
    /**
     * BufferInterleavedArrayElement constructor
     * @param parameters - {@link BufferArrayElementParams | parameters} used to create our {@link BufferInterleavedArrayElement}
     */
    constructor({ name, key, type = "f32", arrayLength = 1 }) {
      super({ name, key, type, arrayLength });
      this.arrayStride = 1;
      this.arrayLength = arrayLength;
      this.numElements = this.arrayLength / this.bufferLayout.numElements;
    }
    /**
     * Get the total number of slots used by this {@link BufferInterleavedArrayElement} based on buffer layout size and total number of elements
     * @readonly
     */
    get byteCount() {
      return this.bufferLayout.size * this.numElements;
    }
    /**
     * Set the {@link core/bindings/bufferElements/BufferElement.BufferElementAlignment | alignment}
     * To compute how arrays are packed, we need to compute the arrayStride between two elements beforehand and pass it here. Using the arrayStride and the total number of elements, we can easily get the end alignment position.
     * @param startOffset - offset at which to start inserting the values in the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param stride - Stride in the {@link ArrayBuffer} between two elements of the array
     */
    setAlignment(startOffset = 0, stride = 0) {
      this.alignment = this.getElementAlignment(this.getPositionAtOffset(startOffset));
      this.arrayStride = stride;
      this.alignment.end = this.getPositionAtOffset(this.endOffset + stride * (this.numElements - 1));
    }
    /**
     * Set the {@link view} and {@link viewSetFunction}
     * @param arrayBuffer - the {@link core/bindings/BufferBinding.BufferBinding#arrayBuffer | buffer binding array}
     * @param arrayView - the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view}
     */
    setView(arrayBuffer, arrayView) {
      this.view = new this.bufferLayout.View(this.bufferLayout.numElements * this.numElements);
      this.viewSetFunction = ((arrayView2) => {
        switch (this.bufferLayout.View) {
          case Int32Array:
            return arrayView2.setInt32.bind(arrayView2);
          case Uint16Array:
            return arrayView2.setUint16.bind(arrayView2);
          case Uint32Array:
            return arrayView2.setUint32.bind(arrayView2);
          case Float32Array:
          default:
            return arrayView2.setFloat32.bind(arrayView2);
        }
      })(arrayView);
    }
    /**
     * Update the {@link view} based on the new value, and then update the {@link core/bindings/BufferBinding.BufferBinding#arrayView | buffer binding array view} using sub arrays
     * @param value - new value to use
     */
    update(value) {
      super.update(value);
      for (let i = 0; i < this.numElements; i++) {
        const subarray = this.view.subarray(
          i * this.bufferLayout.numElements,
          i * this.bufferLayout.numElements + this.bufferLayout.numElements
        );
        const startByteOffset = this.startOffset + i * this.arrayStride;
        subarray.forEach((value2, index) => {
          this.viewSetFunction(startByteOffset + index * this.bufferLayout.View.BYTES_PER_ELEMENT, value2, true);
        });
      }
    }
    /**
     * Extract the data corresponding to this specific {@link BufferInterleavedArrayElement} from a {@link Float32Array} holding the {@link GPUBuffer} data of the parentMesh {@link core/bindings/BufferBinding.BufferBinding | BufferBinding}
     * @param result - {@link Float32Array} holding {@link GPUBuffer} data
     */
    extractDataFromBufferResult(result) {
      const interleavedResult = new Float32Array(this.arrayLength);
      for (let i = 0; i < this.numElements; i++) {
        const resultOffset = this.startOffsetToIndex + i * this.arrayStrideToIndex;
        for (let j = 0; j < this.bufferLayout.numElements; j++) {
          interleavedResult[i * this.bufferLayout.numElements + j] = result[resultOffset + j];
        }
      }
      return interleavedResult;
    }
  }

  class BufferBinding extends Binding {
    /**
     * BufferBinding constructor
     * @param parameters - {@link BufferBindingParams | parameters} used to create our BufferBindings
     */
    constructor({
      label = "Uniform",
      name = "uniform",
      bindingType,
      visibility,
      useStruct = true,
      access = "read",
      struct = {}
    }) {
      bindingType = bindingType ?? "uniform";
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        useStruct,
        access,
        struct
      };
      this.arrayBufferSize = 0;
      this.shouldUpdate = false;
      this.useStruct = useStruct;
      this.bufferElements = [];
      this.inputs = {};
      this.buffer = null;
      this.setBindings(struct);
      this.setBufferAttributes();
      this.setWGSLFragment();
    }
    /**
     * Get {@link GPUBindGroupLayoutEntry#buffer | bind group layout entry resource}
     * @readonly
     */
    get resourceLayout() {
      return {
        buffer: {
          type: getBindGroupLayoutBindingType(this)
        }
      };
    }
    /**
     * Get {@link GPUBindGroupEntry#resource | bind group resource}
     * @readonly
     */
    get resource() {
      return { buffer: this.buffer };
    }
    /**
     * Format bindings struct and set our {@link inputs}
     * @param bindings - bindings inputs
     */
    setBindings(bindings) {
      Object.keys(bindings).forEach((bindingKey) => {
        const binding = {};
        for (const key in bindings[bindingKey]) {
          if (key !== "value") {
            binding[key] = bindings[bindingKey][key];
          }
        }
        Object.defineProperty(binding, "value", {
          get() {
            return binding._value;
          },
          set(v) {
            binding._value = v;
            binding.shouldUpdate = true;
          }
        });
        binding.value = bindings[bindingKey].value;
        if (binding.value instanceof Vec2 || binding.value instanceof Vec3) {
          binding.value.onChange(() => binding.shouldUpdate = true);
        }
        this.inputs[bindingKey] = binding;
      });
    }
    /**
     * Set our buffer attributes:
     * Takes all the {@link inputs} and adds them to the {@link bufferElements} array with the correct start and end offsets (padded), then fill our {@link arrayBuffer} typed array accordingly.
     */
    setBufferAttributes() {
      const arrayBindings = Object.keys(this.inputs).filter(
        (bindingKey) => this.inputs[bindingKey].type.indexOf("array") !== -1
      );
      let orderedBindings = Object.keys(this.inputs).sort((bindingKeyA, bindingKeyB) => {
        const isBindingAArray = Math.min(0, this.inputs[bindingKeyA].type.indexOf("array"));
        const isBindingBArray = Math.min(0, this.inputs[bindingKeyB].type.indexOf("array"));
        return isBindingAArray - isBindingBArray;
      });
      if (arrayBindings.length > 1) {
        orderedBindings = orderedBindings.filter((bindingKey) => !arrayBindings.includes(bindingKey));
      }
      orderedBindings.forEach((bindingKey) => {
        const binding = this.inputs[bindingKey];
        const bufferElementOptions = {
          name: toCamelCase(binding.name ?? bindingKey),
          key: bindingKey,
          type: binding.type
        };
        const isArray = binding.type.indexOf("array") !== -1 && (Array.isArray(binding.value) || ArrayBuffer.isView(binding.value));
        this.bufferElements.push(
          isArray ? new BufferArrayElement({
            ...bufferElementOptions,
            arrayLength: binding.value.length
          }) : new BufferElement(bufferElementOptions)
        );
      });
      this.bufferElements.forEach((bufferElement, index) => {
        const startOffset = index === 0 ? 0 : this.bufferElements[index - 1].endOffset + 1;
        bufferElement.setAlignment(startOffset);
      });
      if (arrayBindings.length > 1) {
        const arraySizes = arrayBindings.map((bindingKey) => {
          const binding = this.inputs[bindingKey];
          const bufferLayout = getBufferLayout(binding.type.replace("array", "").replace("<", "").replace(">", ""));
          return binding.value.length / bufferLayout.numElements;
        });
        const equalSize = arraySizes.every((size, i, array) => size === array[0]);
        if (equalSize) {
          const interleavedBufferElements = arrayBindings.map((bindingKey) => {
            const binding = this.inputs[bindingKey];
            return new BufferInterleavedArrayElement({
              name: toCamelCase(binding.name ?? bindingKey),
              key: bindingKey,
              type: binding.type,
              arrayLength: binding.value.length
            });
          });
          const tempBufferElements = arrayBindings.map((bindingKey) => {
            const binding = this.inputs[bindingKey];
            return new BufferElement({
              name: toCamelCase(binding.name ?? bindingKey),
              key: bindingKey,
              type: binding.type.replace("array", "").replace("<", "").replace(">", "")
            });
          });
          tempBufferElements.forEach((bufferElement, index) => {
            if (index === 0) {
              if (this.bufferElements.length) {
                bufferElement.setAlignmentFromPosition({
                  row: this.bufferElements[this.bufferElements.length - 1].alignment.end.row + 1,
                  byte: 0
                });
              } else {
                bufferElement.setAlignment(0);
              }
            } else {
              bufferElement.setAlignment(tempBufferElements[index - 1].endOffset + 1);
            }
          });
          const totalStride = tempBufferElements[tempBufferElements.length - 1].endOffset + 1 - tempBufferElements[0].startOffset;
          interleavedBufferElements.forEach((bufferElement, index) => {
            bufferElement.setAlignment(tempBufferElements[index].startOffset, totalStride);
          });
          this.bufferElements = [...this.bufferElements, ...interleavedBufferElements];
        } else {
          throwWarning(
            `BufferBinding: "${this.label}" contains multiple array inputs that should use an interleaved array, but their sizes do not match. These inputs cannot be added to the BufferBinding: "${arrayBindings.join(
            ", "
          )}"`
          );
        }
      }
      this.arrayBufferSize = this.bufferElements.length ? this.bufferElements[this.bufferElements.length - 1].paddedByteCount : 0;
      this.arrayBuffer = new ArrayBuffer(this.arrayBufferSize);
      this.arrayView = new DataView(this.arrayBuffer, 0, this.arrayBuffer.byteLength);
      this.bufferElements.forEach((bufferElement) => {
        bufferElement.setView(this.arrayBuffer, this.arrayView);
      });
      this.shouldUpdate = this.arrayBufferSize > 0;
    }
    /**
     * Set the WGSL code snippet to append to the shaders code. It consists of variable (and Struct structures if needed) declarations.
     */
    setWGSLFragment() {
      const kebabCaseLabel = toKebabCase(this.label);
      if (this.useStruct) {
        const bufferElements = this.bufferElements.filter(
          (bufferElement) => !(bufferElement instanceof BufferInterleavedArrayElement)
        );
        const interleavedBufferElements = this.bufferElements.filter(
          (bufferElement) => bufferElement instanceof BufferInterleavedArrayElement
        );
        if (interleavedBufferElements.length) {
          const arrayLength = this.bindingType === "uniform" ? `, ${interleavedBufferElements[0].numElements}` : "";
          if (bufferElements.length) {
            this.wgslStructFragment = `struct ${kebabCaseLabel}Element {
	${interleavedBufferElements.map((binding) => binding.name + ": " + binding.type.replace("array", "").replace("<", "").replace(">", "")).join(",\n	")}
};

`;
            const interleavedBufferStructDeclaration = `${this.name}Element: array<${kebabCaseLabel}Element${arrayLength}>,`;
            this.wgslStructFragment += `struct ${kebabCaseLabel} {
	${bufferElements.map((bufferElement) => bufferElement.name + ": " + bufferElement.type).join(",\n	")}
	${interleavedBufferStructDeclaration}
};`;
            const varType = getBindingWGSLVarType(this);
            this.wgslGroupFragment = [`${varType} ${this.name}: ${kebabCaseLabel};`];
          } else {
            this.wgslStructFragment = `struct ${kebabCaseLabel} {
	${this.bufferElements.map((binding) => binding.name + ": " + binding.type.replace("array", "").replace("<", "").replace(">", "")).join(",\n	")}
};`;
            const varType = getBindingWGSLVarType(this);
            this.wgslGroupFragment = [`${varType} ${this.name}: array<${kebabCaseLabel}${arrayLength}>;`];
          }
        } else {
          this.wgslStructFragment = `struct ${kebabCaseLabel} {
	${this.bufferElements.map((binding) => {
          const bindingType = this.bindingType === "uniform" && "numElements" in binding ? `array<${binding.type.replace("array", "").replace("<", "").replace(">", "")}, ${binding.numElements}>` : binding.type;
          return binding.name + ": " + bindingType;
        }).join(",\n	")}
};`;
          const varType = getBindingWGSLVarType(this);
          this.wgslGroupFragment = [`${varType} ${this.name}: ${kebabCaseLabel};`];
        }
      } else {
        this.wgslStructFragment = "";
        this.wgslGroupFragment = this.bufferElements.map((binding) => {
          const varType = getBindingWGSLVarType(this);
          return `${varType} ${binding.name}: ${binding.type};`;
        });
      }
    }
    /**
     * Set a binding shouldUpdate flag to true to update our {@link arrayBuffer} array during next render.
     * @param bindingName - the binding name/key to update
     */
    shouldUpdateBinding(bindingName = "") {
      const bindingKey = Object.keys(this.inputs).find((bindingKey2) => this.inputs[bindingKey2].name === bindingName);
      if (bindingKey)
        this.inputs[bindingKey].shouldUpdate = true;
    }
    /**
     * Executed at the beginning of a Material render call.
     * If any of the {@link inputs} has changed, run its onBeforeUpdate callback then updates our {@link arrayBuffer} array.
     * Also sets the {@link shouldUpdate} property to true so the {@link core/bindGroups/BindGroup.BindGroup | BindGroup} knows it will need to update the {@link GPUBuffer}.
     */
    update() {
      Object.keys(this.inputs).forEach((bindingKey) => {
        const binding = this.inputs[bindingKey];
        const bufferElement = this.bufferElements.find((bufferEl) => bufferEl.key === bindingKey);
        if (binding.shouldUpdate && bufferElement) {
          binding.onBeforeUpdate && binding.onBeforeUpdate();
          bufferElement.update(binding.value);
          this.shouldUpdate = true;
          binding.shouldUpdate = false;
        }
      });
    }
    /**
     * Extract the data corresponding to a specific {@link BufferElement} from a {@link Float32Array} holding the {@link BufferBinding#buffer | GPU buffer} data of this {@link BufferBinding}
     * @param parameters - parameters used to extract the data
     * @param parameters.result - {@link Float32Array} holding {@link GPUBuffer} data
     * @param parameters.bufferElementName - name of the {@link BufferElement} to use to extract the data
     * @returns - extracted data from the {@link Float32Array}
     */
    extractBufferElementDataFromBufferResult({
      result,
      bufferElementName
    }) {
      const bufferElement = this.bufferElements.find((bufferElement2) => bufferElement2.name === bufferElementName);
      if (bufferElement) {
        return bufferElement.extractDataFromBufferResult(result);
      } else {
        return result;
      }
    }
  }

  class WritableBufferBinding extends BufferBinding {
    /**
     * WritableBufferBinding constructor
     * @param parameters - {@link WritableBufferBindingParams | parameters} used to create our {@link WritableBufferBinding}
     */
    constructor({
      label = "Work",
      name = "work",
      bindingType,
      useStruct = true,
      struct = {},
      visibility,
      access = "read_write",
      shouldCopyResult = false
    }) {
      bindingType = "storage";
      visibility = "compute";
      super({ label, name, bindingType, useStruct, struct, visibility, access });
      this.options = {
        ...this.options,
        shouldCopyResult
      };
      this.shouldCopyResult = shouldCopyResult;
      this.resultBuffer = null;
    }
  }

  class BindGroup {
    /**
     * BindGroup constructor
     * @param renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link BindGroupParams | parameters} used to create our {@link BindGroup}
     */
    constructor(renderer, { label = "BindGroup", index = 0, bindings = [], uniforms, storages } = {}) {
      this.type = "BindGroup";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, this.type);
      this.renderer = renderer;
      this.options = {
        label,
        index,
        bindings,
        ...uniforms && { uniforms },
        ...storages && { storages }
      };
      this.index = index;
      this.uuid = generateUUID();
      this.bindings = [];
      bindings.length && this.addBindings(bindings);
      if (this.options.uniforms || this.options.storages)
        this.setInputBindings();
      this.resetEntries();
      this.bindGroupLayout = null;
      this.bindGroup = null;
      this.needsPipelineFlush = false;
      this.renderer.addBindGroup(this);
    }
    /**
     * Sets our {@link BindGroup#index | bind group index}
     * @param index - {@link BindGroup#index | bind group index} to set
     */
    setIndex(index) {
      this.index = index;
    }
    /**
     * Adds an array of already created {@link bindings} (buffers, texture, etc.) to the {@link bindings} array
     * @param bindings - {@link bindings} to add
     */
    addBindings(bindings = []) {
      this.bindings = [...this.bindings, ...bindings];
    }
    /**
     * Adds an already created {@link bindings} (buffers, texture, etc.) to the {@link bindings} array
     * @param binding - binding to add
     */
    addBinding(binding) {
      this.bindings.push(binding);
    }
    /**
     * Creates Bindings based on a list of inputs
     * @param bindingType - {@link core/bindings/Binding.Binding#bindingType | binding type}
     * @param inputs - {@link ReadOnlyInputBindings | inputs (uniform or storage)} that will be used to create the binding
     * @returns - a {@link bindings} array
     */
    createInputBindings(bindingType = "uniform", inputs = {}) {
      return [
        ...Object.keys(inputs).map((inputKey) => {
          const binding = inputs[inputKey];
          const bindingParams = {
            label: toKebabCase(binding.label || inputKey),
            name: inputKey,
            bindingType,
            useStruct: true,
            // by default
            visibility: binding.access === "read_write" ? "compute" : binding.visibility,
            access: binding.access ?? "read",
            // read by default
            struct: binding.struct,
            ...binding.shouldCopyResult !== void 0 && { shouldCopyResult: binding.shouldCopyResult }
          };
          const BufferBindingConstructor = bindingParams.access === "read_write" ? WritableBufferBinding : BufferBinding;
          return binding.useStruct !== false ? new BufferBindingConstructor(bindingParams) : Object.keys(binding.struct).map((bindingKey) => {
            bindingParams.label = toKebabCase(binding.label ? binding.label + bindingKey : inputKey + bindingKey);
            bindingParams.name = inputKey + bindingKey;
            bindingParams.useStruct = false;
            bindingParams.struct = { [bindingKey]: binding.struct[bindingKey] };
            return new BufferBindingConstructor(bindingParams);
          });
        })
      ].flat();
    }
    /**
     * Create and adds {@link bindings} based on inputs provided upon creation
     */
    setInputBindings() {
      this.addBindings([
        ...this.createInputBindings("uniform", this.options.uniforms),
        ...this.createInputBindings("storage", this.options.storages)
      ]);
    }
    /**
     * Get whether the GPU bind group is ready to be created
     * It can be created if it has {@link bindings} and has not been created yet
     * @readonly
     */
    get shouldCreateBindGroup() {
      return !this.bindGroup && !!this.bindings.length;
    }
    /**
     * Reset our {@link BindGroup} {@link entries}
     */
    resetEntries() {
      this.entries = {
        bindGroupLayout: [],
        bindGroup: []
      };
    }
    /**
     * Create the GPU buffers, {@link bindings}, {@link entries}, {@link bindGroupLayout} and {@link bindGroup}
     */
    createBindGroup() {
      this.fillEntries();
      this.setBindGroupLayout();
      this.setBindGroup();
    }
    /**
     * Reset the {@link BindGroup#entries.bindGroup | bindGroup entries}, recreates them and then recreate the {@link BindGroup#bindGroup | GPU bind group}
     */
    resetBindGroup() {
      this.entries.bindGroup = [];
      this.bindings.forEach((binding) => {
        this.entries.bindGroup.push({
          binding: this.entries.bindGroup.length,
          resource: binding.resource
        });
      });
      this.setBindGroup();
    }
    /**
     * Reset the {@link BindGroup#entries.bindGroupLayout | bindGroupLayout entries}, recreates them and then recreate the {@link BindGroup#bindGroupLayout | GPU bind group layout}
     */
    resetBindGroupLayout() {
      this.entries.bindGroupLayout = [];
      this.bindings.forEach((binding) => {
        this.entries.bindGroupLayout.push({
          binding: this.entries.bindGroupLayout.length,
          ...binding.resourceLayout,
          visibility: binding.visibility
        });
      });
      this.setBindGroupLayout();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration
     */
    loseContext() {
      this.resetEntries();
      this.bufferBindings.forEach((binding) => {
        binding.buffer = null;
        if ("resultBuffer" in binding) {
          binding.resultBuffer = null;
        }
      });
      this.bindGroup = null;
      this.bindGroupLayout = null;
      this.needsPipelineFlush = true;
    }
    /**
     * Get all {@link BindGroup#bindings | bind group bindings} that handle a {@link GPUBuffer}
     */
    get bufferBindings() {
      return this.bindings.filter(
        (binding) => binding instanceof BufferBinding || binding instanceof WritableBufferBinding
      );
    }
    /**
     * Creates binding GPUBuffer with correct params
     * @param binding - the binding element
     */
    createBindingBuffer(binding) {
      binding.buffer = this.renderer.createBuffer({
        label: this.options.label + ": " + binding.bindingType + " buffer from: " + binding.label,
        size: binding.arrayBuffer.byteLength,
        usage: binding.bindingType === "uniform" ? GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST | GPUBufferUsage.COPY_SRC | GPUBufferUsage.VERTEX : GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST | GPUBufferUsage.COPY_SRC | GPUBufferUsage.VERTEX
      });
      if ("resultBuffer" in binding) {
        binding.resultBuffer = this.renderer.createBuffer({
          label: this.options.label + ": Result buffer from: " + binding.label,
          size: binding.arrayBuffer.byteLength,
          usage: GPUBufferUsage.MAP_READ | GPUBufferUsage.COPY_DST
        });
      }
    }
    /**
     * Fill in our entries bindGroupLayout and bindGroup arrays with the correct binding resources.
     * For buffer struct, create a GPUBuffer first if needed
     */
    fillEntries() {
      this.bindings.forEach((binding) => {
        if (!binding.visibility) {
          binding.visibility = GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE;
        }
        if ("buffer" in binding && !binding.buffer) {
          this.createBindingBuffer(binding);
        }
        this.entries.bindGroupLayout.push({
          binding: this.entries.bindGroupLayout.length,
          ...binding.resourceLayout,
          visibility: binding.visibility
        });
        this.entries.bindGroup.push({
          binding: this.entries.bindGroup.length,
          resource: binding.resource
        });
      });
    }
    /**
     * Get a bind group binding by name/key
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBindingByName(bindingName = "") {
      return this.bindings.find((binding) => binding.name === bindingName);
    }
    /**
     * Create a GPUBindGroupLayout and set our {@link bindGroupLayout}
     */
    setBindGroupLayout() {
      this.bindGroupLayout = this.renderer.createBindGroupLayout({
        label: this.options.label + " layout",
        entries: this.entries.bindGroupLayout
      });
    }
    /**
     * Create a GPUBindGroup and set our {@link bindGroup}
     */
    setBindGroup() {
      this.bindGroup = this.renderer.createBindGroup({
        label: this.options.label,
        layout: this.bindGroupLayout,
        entries: this.entries.bindGroup
      });
    }
    /**
     * Check whether we should update (write) our {@link GPUBuffer} or not.
     */
    updateBufferBindings() {
      this.bufferBindings.forEach((binding, index) => {
        binding.update();
        if (binding.shouldUpdate) {
          if (!binding.useStruct && binding.bufferElements.length > 1) {
            this.renderer.queueWriteBuffer(binding.buffer, 0, binding.bufferElements[index].view);
          } else {
            this.renderer.queueWriteBuffer(binding.buffer, 0, binding.arrayBuffer);
          }
        }
        binding.shouldUpdate = false;
      });
    }
    /**
     * Update the {@link BindGroup}, which means update its {@link BindGroup#bufferBindings | buffer bindings} and {@link BindGroup#resetBindGroup | reset it} if needed.
     * Called at each render from the parentMesh {@link core/materials/Material.Material | material}
     */
    update() {
      this.updateBufferBindings();
      const needBindGroupReset = this.bindings.some((binding) => binding.shouldResetBindGroup);
      const needBindGroupLayoutReset = this.bindings.some((binding) => binding.shouldResetBindGroupLayout);
      if (needBindGroupReset || needBindGroupLayoutReset) {
        this.renderer.onAfterCommandEncoderSubmission.add(
          () => {
            this.bindings.forEach((binding) => {
              binding.shouldResetBindGroup = false;
              binding.shouldResetBindGroupLayout = false;
            });
          },
          { once: true }
        );
      }
      if (needBindGroupLayoutReset) {
        this.resetBindGroupLayout();
        this.needsPipelineFlush = true;
      }
      if (needBindGroupReset) {
        this.resetBindGroup();
      }
    }
    /**
     * Clones a {@link BindGroup} from a list of {@link bindings}
     * Useful to create a new bind group with already created buffers, but swapped
     * @param parameters - parameters to use for cloning
     * @param parameters.bindings - our input {@link bindings}
     * @param [parameters.keepLayout=false] - whether we should keep original {@link bindGroupLayout} or not
     * @returns - the cloned {@link BindGroup}
     */
    clone({
      bindings = [],
      keepLayout = false
    } = {}) {
      const params = { ...this.options };
      params.label += " (copy)";
      const bindGroupCopy = new this.constructor(this.renderer, {
        label: params.label
      });
      bindGroupCopy.setIndex(this.index);
      bindGroupCopy.options = params;
      const bindingsRef = bindings.length ? bindings : this.bindings;
      bindingsRef.forEach((binding, index) => {
        bindGroupCopy.addBinding(binding);
        if ("buffer" in binding && !binding.buffer) {
          bindGroupCopy.createBindingBuffer(binding);
        }
        if (!keepLayout) {
          bindGroupCopy.entries.bindGroupLayout.push({
            binding: bindGroupCopy.entries.bindGroupLayout.length,
            ...binding.resourceLayout,
            visibility: binding.visibility
          });
        }
        bindGroupCopy.entries.bindGroup.push({
          binding: bindGroupCopy.entries.bindGroup.length,
          resource: binding.resource
        });
      });
      if (keepLayout) {
        bindGroupCopy.entries.bindGroupLayout = [...this.entries.bindGroupLayout];
      }
      bindGroupCopy.setBindGroupLayout();
      bindGroupCopy.setBindGroup();
      return bindGroupCopy;
    }
    /**
     * Destroy our {@link BindGroup}
     * Most important is to destroy the GPUBuffers to free the memory
     */
    destroy() {
      this.renderer.removeBindGroup(this);
      this.bufferBindings.forEach((binding) => {
        if ("buffer" in binding) {
          this.renderer.removeBuffer(binding.buffer);
          binding.buffer?.destroy();
          binding.buffer = null;
        }
        if ("resultBuffer" in binding) {
          this.renderer.removeBuffer(binding.resultBuffer);
          binding.resultBuffer?.destroy();
          binding.resultBuffer = null;
        }
      });
      this.bindings = [];
      this.bindGroupLayout = null;
      this.bindGroup = null;
      this.resetEntries();
    }
  }

  class TextureBinding extends Binding {
    /**
     * TextureBinding constructor
     * @param parameters - {@link TextureBindingParams | parameters} used to create our {@link TextureBinding}
     */
    constructor({
      label = "Texture",
      name = "texture",
      bindingType,
      visibility,
      texture,
      format = "rgba8unorm",
      access = "write",
      viewDimension = "2d",
      multisampled = false
    }) {
      bindingType = bindingType ?? "texture";
      if (bindingType === "storageTexture") {
        visibility = "compute";
      }
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        texture,
        format,
        access,
        viewDimension,
        multisampled
      };
      this.resource = texture;
      this.setWGSLFragment();
    }
    /**
     * Get bind group layout entry resource, either for {@link GPUBindGroupLayoutEntry#texture | texture} or {@link GPUBindGroupLayoutEntry#externalTexture | external texture}
     * @readonly
     */
    get resourceLayout() {
      return getBindGroupLayoutTextureBindingType(this);
    }
    /**
     * Get the {@link GPUBindGroupEntry#resource | bind group resource}
     */
    get resource() {
      return this.texture instanceof GPUTexture ? this.texture.createView({ label: this.options.label + " view" }) : this.texture instanceof GPUExternalTexture ? this.texture : null;
    }
    /**
     * Set the {@link GPUBindGroupEntry#resource | bind group resource}
     * @param value - new bind group resource
     */
    set resource(value) {
      if (value || this.texture)
        this.shouldResetBindGroup = true;
      this.texture = value;
    }
    /**
     * Set or update our {@link Binding#bindingType | bindingType} and our WGSL code snippet
     * @param bindingType - the new {@link Binding#bindingType | binding type}
     */
    setBindingType(bindingType) {
      if (bindingType !== this.bindingType) {
        if (bindingType)
          this.shouldResetBindGroupLayout = true;
        this.bindingType = bindingType;
        this.setWGSLFragment();
      }
    }
    /**
     * Set the correct WGSL code snippet.
     */
    setWGSLFragment() {
      this.wgslGroupFragment = [`${getTextureBindingWGSLVarType(this)}`];
    }
  }

  let objectIndex = 0;
  class Object3D {
    /**
     * Object3D constructor
     */
    constructor() {
      this.parent = null;
      this.children = [];
      Object.defineProperty(this, "object3DIndex", { value: objectIndex++ });
      this.setMatrices();
      this.setTransforms();
    }
    /* PARENT */
    /**
     * Get the parent of this {@link Object3D} if any
     */
    get parent() {
      return this._parent;
    }
    /**
     * Set the parent of this {@link Object3D}
     * @param value - new parent to set, could be an {@link Object3D} or null
     */
    set parent(value) {
      if (this.parent) {
        this.parent.children = this.parent.children.filter((child) => child.object3DIndex !== this.object3DIndex);
      }
      this._parent = value;
      this._parent?.children.push(this);
    }
    /* TRANSFORMS */
    /**
     * Set our transforms properties and {@link Vec3#onChange | vectors onChange} callbacks
     */
    setTransforms() {
      this.transforms = {
        origin: {
          model: new Vec3()
        },
        quaternion: new Quat(),
        rotation: new Vec3(),
        position: {
          world: new Vec3()
        },
        scale: new Vec3(1)
      };
      this.rotation.onChange(() => this.applyRotation());
      this.position.onChange(() => this.applyPosition());
      this.scale.onChange(() => this.applyScale());
      this.transformOrigin.onChange(() => this.applyTransformOrigin());
    }
    /**
     * Get our rotation {@link Vec3 | vector}
     */
    get rotation() {
      return this.transforms.rotation;
    }
    /**
     * Set our rotation {@link Vec3 | vector}
     * @param value - new rotation {@link Vec3 | vector}
     */
    set rotation(value) {
      this.transforms.rotation = value;
      this.applyRotation();
    }
    /**
     * Get our {@link Quat | quaternion}
     */
    get quaternion() {
      return this.transforms.quaternion;
    }
    /**
     * Set our {@link Quat | quaternion}
     * @param value - new {@link Quat | quaternion}
     */
    set quaternion(value) {
      this.transforms.quaternion = value;
    }
    /**
     * Get our position {@link Vec3 | vector}
     */
    get position() {
      return this.transforms.position.world;
    }
    /**
     * Set our position {@link Vec3 | vector}
     * @param value - new position {@link Vec3 | vector}
     */
    set position(value) {
      this.transforms.position.world = value;
    }
    /**
     * Get our scale {@link Vec3 | vector}
     */
    get scale() {
      return this.transforms.scale;
    }
    /**
     * Set our scale {@link Vec3 | vector}
     * @param value - new scale {@link Vec3 | vector}
     */
    set scale(value) {
      this.transforms.scale = value;
      this.applyScale();
    }
    /**
     * Get our transform origin {@link Vec3 | vector}
     */
    get transformOrigin() {
      return this.transforms.origin.model;
    }
    /**
     * Set our transform origin {@link Vec3 | vector}
     * @param value - new transform origin {@link Vec3 | vector}
     */
    set transformOrigin(value) {
      this.transforms.origin.model = value;
    }
    /**
     * Apply our rotation and tell our {@link modelMatrix | model matrix} to update
     */
    applyRotation() {
      this.quaternion.setFromVec3(this.rotation);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyPosition() {
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyScale() {
      this.shouldUpdateModelMatrix();
    }
    /**
     * Tell our {@link modelMatrix | model matrix} to update
     */
    applyTransformOrigin() {
      this.shouldUpdateModelMatrix();
    }
    /* MATRICES */
    /**
     * Set our {@link modelMatrix | model matrix} and {@link worldMatrix | world matrix}
     */
    setMatrices() {
      this.matrices = {
        model: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateModelMatrix()
        },
        world: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateWorldMatrix()
        }
      };
    }
    /**
     * Get our {@link Mat4 | model matrix}
     */
    get modelMatrix() {
      return this.matrices.model.matrix;
    }
    /**
     * Set our {@link Mat4 | model matrix}
     * @param value - new {@link Mat4 | model matrix}
     */
    set modelMatrix(value) {
      this.matrices.model.matrix = value;
      this.shouldUpdateModelMatrix();
    }
    /**
     * Set our {@link modelMatrix | model matrix} shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateModelMatrix() {
      this.matrices.model.shouldUpdate = true;
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Get our {@link Mat4 | world matrix}
     */
    get worldMatrix() {
      return this.matrices.world.matrix;
    }
    /**
     * Set our {@link Mat4 | world matrix}
     * @param value - new {@link Mat4 | world matrix}
     */
    set worldMatrix(value) {
      this.matrices.world.matrix = value;
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Set our {@link worldMatrix | world matrix} shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateWorldMatrix() {
      this.matrices.world.shouldUpdate = true;
    }
    /**
     * Rotate this {@link Object3D} so it looks at the {@link Vec3 | target}
     * @param target - {@link Vec3 | target} to look at
     */
    lookAt(target = new Vec3()) {
      const rotationMatrix = new Mat4().lookAt(target, this.position);
      this.quaternion.setFromRotationMatrix(rotationMatrix);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Update our {@link modelMatrix | model matrix}
     */
    updateModelMatrix() {
      this.modelMatrix = this.modelMatrix.composeFromOrigin(
        this.position,
        this.quaternion,
        this.scale,
        this.transformOrigin
      );
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Update our {@link worldMatrix | model matrix}
     */
    updateWorldMatrix() {
      if (!this.parent) {
        this.worldMatrix.copy(this.modelMatrix);
      } else {
        this.worldMatrix.multiplyMatrices(this.parent.worldMatrix, this.modelMatrix);
      }
      this.children.forEach((child) => {
        child.shouldUpdateWorldMatrix();
      });
    }
    /**
     * Callback to run if at least one matrix of the stack has been updated
     */
    onAfterMatrixStackUpdate() {
    }
    /**
     * Check at each render whether we should update our matrices, and update them if needed
     */
    updateMatrixStack() {
      if (this.parent && this.parent.constructor.name === "Object3D") {
        this.parent.updateMatrixStack();
      }
      const matrixShouldUpdate = !!Object.keys(this.matrices).find((matrixName) => this.matrices[matrixName].shouldUpdate);
      if (matrixShouldUpdate) {
        for (const matrixName in this.matrices) {
          if (this.matrices[matrixName].shouldUpdate) {
            this.matrices[matrixName].onUpdate();
            this.matrices[matrixName].shouldUpdate = false;
          }
        }
        this.onAfterMatrixStackUpdate();
      }
    }
  }

  var __accessCheck$7 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$6 = (obj, member, getter) => {
    __accessCheck$7(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$7 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var _parentRatio, _sourceRatio, _coverScale, _rotationMatrix;
  const defaultTextureParams = {
    name: "texture",
    generateMips: false,
    flipY: false,
    format: "rgba8unorm",
    premultipliedAlpha: true,
    placeholderColor: [0, 0, 0, 255],
    // default to black
    useExternalTextures: true,
    fromTexture: null,
    viewDimension: "2d",
    cache: true
  };
  class Texture extends Object3D {
    /**
     * Texture constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Texture}
     * @param parameters - {@link TextureParams | parameters} used to create this {@link Texture}
     */
    constructor(renderer, parameters = defaultTextureParams) {
      super();
      /** Private {@link Vec3 | vector} used for {@link#modelMatrix} calculations, based on {@link parentMesh} {@link RectSize | size} */
      __privateAdd$7(this, _parentRatio, new Vec3(1));
      /** Private {@link Vec3 | vector} used for {@link modelMatrix} calculations, based on {@link size | source size} */
      __privateAdd$7(this, _sourceRatio, new Vec3(1));
      /** Private {@link Vec3 | vector} used for {@link modelMatrix} calculations, based on #parentRatio and #sourceRatio */
      __privateAdd$7(this, _coverScale, new Vec3(1));
      /** Private rotation {@link Mat4 | matrix} based on texture {@link quaternion} */
      __privateAdd$7(this, _rotationMatrix, new Mat4());
      // callbacks / events
      /** function assigned to the {@link onSourceLoaded} callback */
      this._onSourceLoadedCallback = () => {
      };
      /** function assigned to the {@link onSourceUploaded} callback */
      this._onSourceUploadedCallback = () => {
      };
      this.type = "Texture";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
      this.renderer = renderer;
      this.uuid = generateUUID();
      const defaultOptions = {
        ...defaultTextureParams,
        source: parameters.fromTexture ? parameters.fromTexture.options.source : null,
        sourceType: parameters.fromTexture ? parameters.fromTexture.options.sourceType : null
      };
      this.options = { ...defaultOptions, ...parameters };
      this.options.label = this.options.label ?? this.options.name;
      this.texture = null;
      this.externalTexture = null;
      this.source = null;
      this.size = {
        width: 1,
        height: 1,
        depth: 1
      };
      this.textureMatrix = new BufferBinding({
        label: this.options.label + ": model matrix",
        name: this.options.name + "Matrix",
        useStruct: false,
        struct: {
          matrix: {
            name: this.options.name + "Matrix",
            type: "mat4x4f",
            value: this.modelMatrix
          }
        }
      });
      this.setBindings();
      this._parentMesh = null;
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.shouldUpdate = false;
      this.renderer.addTexture(this);
      this.createTexture();
    }
    /**
     * Set our {@link bindings}
     */
    setBindings() {
      this.bindings = [
        new TextureBinding({
          label: this.options.label + ": texture",
          name: this.options.name,
          texture: this.options.sourceType === "externalVideo" ? this.externalTexture : this.texture,
          bindingType: this.options.sourceType === "externalVideo" ? "externalTexture" : "texture",
          viewDimension: this.options.viewDimension
        }),
        this.textureMatrix
      ];
    }
    /**
     * Get our {@link TextureBinding | GPU texture binding}
     * @readonly
     */
    get textureBinding() {
      return this.bindings[0];
    }
    /**
     * Get our texture {@link parentMesh}
     */
    get parentMesh() {
      return this._parentMesh;
    }
    /**
     * Set our texture {@link parentMesh}
     * @param value - texture {@link parentMesh} to set (i.e. any kind of {@link core/renderers/GPURenderer.RenderedMesh | Mesh}
     */
    set parentMesh(value) {
      this._parentMesh = value;
      this.resize();
    }
    /**
     * Get whether our {@link source} has been loaded
     */
    get sourceLoaded() {
      return this._sourceLoaded;
    }
    /**
     * Set whether our {@link source} has been loaded
     * @param value - boolean flag indicating if the {@link source} has been loaded
     */
    set sourceLoaded(value) {
      if (value && !this.sourceLoaded) {
        this._onSourceLoadedCallback && this._onSourceLoadedCallback();
      }
      this._sourceLoaded = value;
    }
    /**
     * Get whether our {@link source} has been uploaded
     */
    get sourceUploaded() {
      return this._sourceUploaded;
    }
    /**
     * Set whether our {@link source} has been uploaded
     * @param value - boolean flag indicating if the {@link source} has been uploaded
     */
    set sourceUploaded(value) {
      if (value && !this.sourceUploaded) {
        this._onSourceUploadedCallback && this._onSourceUploadedCallback();
      }
      this._sourceUploaded = value;
    }
    /**
     * Set our texture {@link transforms} object
     */
    setTransforms() {
      super.setTransforms();
      this.transforms.quaternion.setAxisOrder("ZXY");
      this.transforms.origin.model.set(0.5, 0.5, 0);
    }
    /* TEXTURE MATRIX */
    /**
     * Update the {@link modelMatrix}
     */
    updateModelMatrix() {
      if (!this.parentMesh)
        return;
      const parentScale = this.parentMesh.scale ? this.parentMesh.scale : new Vec3(1, 1, 1);
      const parentWidth = this.parentMesh.boundingRect ? this.parentMesh.boundingRect.width * parentScale.x : this.size.width;
      const parentHeight = this.parentMesh.boundingRect ? this.parentMesh.boundingRect.height * parentScale.y : this.size.height;
      const parentRatio = parentWidth / parentHeight;
      const sourceRatio = this.size.width / this.size.height;
      if (parentWidth > parentHeight) {
        __privateGet$6(this, _parentRatio).set(parentRatio, 1, 1);
        __privateGet$6(this, _sourceRatio).set(1 / sourceRatio, 1, 1);
      } else {
        __privateGet$6(this, _parentRatio).set(1, 1 / parentRatio, 1);
        __privateGet$6(this, _sourceRatio).set(1, sourceRatio, 1);
      }
      const coverRatio = parentRatio > sourceRatio !== parentWidth > parentHeight ? 1 : parentWidth > parentHeight ? __privateGet$6(this, _parentRatio).x * __privateGet$6(this, _sourceRatio).x : __privateGet$6(this, _sourceRatio).y * __privateGet$6(this, _parentRatio).y;
      __privateGet$6(this, _coverScale).set(1 / (coverRatio * this.scale.x), 1 / (coverRatio * this.scale.y), 1);
      __privateGet$6(this, _rotationMatrix).rotateFromQuaternion(this.quaternion);
      this.modelMatrix.identity().premultiplyTranslate(this.transformOrigin.clone().multiplyScalar(-1)).premultiplyScale(__privateGet$6(this, _coverScale)).premultiplyScale(__privateGet$6(this, _parentRatio)).premultiply(__privateGet$6(this, _rotationMatrix)).premultiplyScale(__privateGet$6(this, _sourceRatio)).premultiplyTranslate(this.transformOrigin).translate(this.position);
    }
    /**
     * If our {@link modelMatrix} has been updated, tell the {@link textureMatrix | texture matrix binding} to update as well
     */
    onAfterMatrixStackUpdate() {
      this.textureMatrix.shouldUpdateBinding(this.options.name + "Matrix");
    }
    /**
     * Resize our {@link Texture}
     */
    resize() {
      if (this.source && this.source instanceof HTMLCanvasElement && (this.source.width !== this.size.width || this.source.height !== this.size.height)) {
        this.setSourceSize();
        this.createTexture();
      }
      this.shouldUpdateModelMatrix();
    }
    /**
     * Get the number of mip levels create based on {@link size}
     * @param sizes - Array containing our texture width, height and depth
     * @returns - number of mip levels
     */
    getNumMipLevels(...sizes) {
      const maxSize = Math.max(...sizes);
      return 1 + Math.log2(maxSize) | 0;
    }
    /**
     * Tell the {@link Renderer} to upload or texture
     */
    uploadTexture() {
      this.renderer.uploadTexture(this);
      this.shouldUpdate = false;
    }
    /**
     * Import a {@link GPUExternalTexture} from the {@link Renderer}, update the  {@link textureBinding} and its {@link core/bindGroups/TextureBindGroup.TextureBindGroup | bind group}
     */
    uploadVideoTexture() {
      this.externalTexture = this.renderer.importExternalTexture(this.source);
      this.textureBinding.resource = this.externalTexture;
      this.textureBinding.setBindingType("externalTexture");
      this.shouldUpdate = false;
      this.sourceUploaded = true;
    }
    /**
     * Copy a {@link Texture}
     * @param texture - {@link Texture} to copy
     */
    copy(texture) {
      if (this.options.sourceType === "externalVideo" && texture.options.sourceType !== "externalVideo") {
        throwWarning(`${this.options.label}: cannot copy a GPUTexture to a GPUExternalTexture`);
        return;
      } else if (this.options.sourceType !== "externalVideo" && texture.options.sourceType === "externalVideo") {
        throwWarning(`${this.options.label}: cannot copy a GPUExternalTexture to a GPUTexture`);
        return;
      }
      this.options.fromTexture = texture;
      this.options.sourceType = texture.options.sourceType;
      this.options.generateMips = texture.options.generateMips;
      this.options.flipY = texture.options.flipY;
      this.options.format = texture.options.format;
      this.options.premultipliedAlpha = texture.options.premultipliedAlpha;
      this.options.placeholderColor = texture.options.placeholderColor;
      this.options.useExternalTextures = texture.options.useExternalTextures;
      this.sourceLoaded = texture.sourceLoaded;
      this.sourceUploaded = texture.sourceUploaded;
      if (texture.texture) {
        if (texture.sourceLoaded) {
          this.size = texture.size;
          this.source = texture.source;
          this.resize();
        }
        if (texture.sourceUploaded) {
          this.texture = texture.texture;
          this.textureBinding.resource = this.texture;
        } else {
          this.createTexture();
        }
      }
    }
    /**
     * Set the {@link texture | GPU texture}
     */
    createTexture() {
      const options = {
        label: this.options.label,
        format: this.options.format,
        size: [this.size.width, this.size.height, this.size.depth],
        // [1, 1] if no source
        dimensions: this.options.viewDimension === "1d" ? "1d" : this.options.viewDimension === "3d" ? "3d" : "2d",
        //sampleCount: this.source ? this.renderer.sampleCount : 1,
        usage: !!this.source ? GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT : GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
      };
      if (this.options.sourceType !== "externalVideo") {
        options.mipLevelCount = this.options.generateMips ? this.getNumMipLevels(this.size.width, this.size.height) : 1;
        this.texture?.destroy();
        this.texture = this.renderer.createTexture(options);
        this.textureBinding.resource = this.texture;
      }
      this.shouldUpdate = true;
    }
    /* SOURCES */
    /**
     * Set the {@link size} based on the {@link source}
     */
    setSourceSize() {
      this.size = {
        width: this.source.naturalWidth || this.source.width || this.source.videoWidth,
        height: this.source.naturalHeight || this.source.height || this.source.videoHeight,
        depth: 1
      };
    }
    /**
     * Load an {@link HTMLImageElement} from a URL and create an {@link ImageBitmap} to use as a {@link source}
     * @async
     * @param url - URL of the image to load
     * @returns - the newly created {@link ImageBitmap}
     */
    async loadImageBitmap(url) {
      const res = await fetch(url);
      const blob = await res.blob();
      return await createImageBitmap(blob, { colorSpaceConversion: "none" });
    }
    /**
     * Load and create an {@link ImageBitmap} from a URL or {@link HTMLImageElement}, use it as a {@link source} and create the {@link GPUTexture}
     * @async
     * @param source - the image URL or {@link HTMLImageElement} to load
     * @returns - the newly created {@link ImageBitmap}
     */
    async loadImage(source) {
      const url = typeof source === "string" ? source : source.getAttribute("src");
      this.options.source = url;
      this.options.sourceType = "image";
      const cachedTexture = this.renderer.textures.find((t) => t.options.source === url);
      if (cachedTexture && cachedTexture.texture && cachedTexture.sourceUploaded) {
        this.copy(cachedTexture);
        return;
      }
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.source = await this.loadImageBitmap(this.options.source);
      this.setSourceSize();
      this.resize();
      this.sourceLoaded = true;
      this.createTexture();
    }
    // weirldy enough, we don't have to do anything in that callback
    // because the <video> is not visible in the viewport, the video playback is throttled
    // and the rendering is janky
    // using requestVideoFrameCallback helps preventing this but is unsupported in Firefox at the moment
    // WebCodecs may be the way to go when time comes!
    // https://developer.chrome.com/blog/new-in-webgpu-113/#use-webcodecs-videoframe-source-in-importexternaltexture
    /**
     * Set our {@link shouldUpdate} flag to true at each new video frame
     */
    onVideoFrameCallback() {
      if (this.videoFrameCallbackId) {
        this.shouldUpdate = true;
        this.source.requestVideoFrameCallback(this.onVideoFrameCallback.bind(this));
      }
    }
    /**
     * Callback to run when a {@link HTMLVideoElement} has loaded (when it has enough data to play).
     * Set the {@link HTMLVideoElement} as a {@link source} and create the {@link GPUTexture} or {@link GPUExternalTexture}
     * @param video - the newly loaded {@link HTMLVideoElement}
     */
    onVideoLoaded(video) {
      if (!this.sourceLoaded) {
        this.source = video;
        this.setSourceSize();
        this.resize();
        if (this.options.useExternalTextures) {
          this.options.sourceType = "externalVideo";
          this.texture?.destroy();
        } else {
          this.options.sourceType = "video";
          this.createTexture();
        }
        if ("requestVideoFrameCallback" in HTMLVideoElement.prototype) {
          this.videoFrameCallbackId = this.source.requestVideoFrameCallback(
            this.onVideoFrameCallback.bind(this)
          );
        }
        this.sourceLoaded = true;
      }
    }
    /**
     * Get whether the {@link source} is a video
     * @readonly
     */
    get isVideoSource() {
      return this.source && (this.options.sourceType === "video" || this.options.sourceType === "externalVideo");
    }
    /**
     * Load a video from a URL or {@link HTMLVideoElement} and register {@link onVideoLoaded} callback
     * @param source - the video URL or {@link HTMLVideoElement} to load
     */
    loadVideo(source) {
      let video;
      if (typeof source === "string") {
        video = document.createElement("video");
        video.src = source;
      } else {
        video = source;
      }
      video.preload = "auto";
      video.muted = true;
      video.loop = true;
      video.crossOrigin = "anonymous";
      video.setAttribute("playsinline", "");
      this.options.source = video.src;
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      if (video.readyState >= video.HAVE_ENOUGH_DATA) {
        this.onVideoLoaded(video);
      } else {
        video.addEventListener("canplaythrough", this.onVideoLoaded.bind(this, video), {
          once: true
        });
      }
      if (isNaN(video.duration)) {
        video.load();
      }
    }
    /**
     * Load a {@link HTMLCanvasElement}, use it as a {@link source} and create the {@link GPUTexture}
     * @param source - the {@link HTMLCanvasElement} to use
     */
    loadCanvas(source) {
      this.options.source = source;
      this.options.sourceType = "canvas";
      this.sourceLoaded = false;
      this.sourceUploaded = false;
      this.source = source;
      this.setSourceSize();
      this.resize();
      this.sourceLoaded = true;
      this.createTexture();
    }
    /* EVENTS */
    /**
     * Callback to run when the {@link source} has been loaded
     * @param callback - callback to run when the {@link source} has been loaded
     * @returns - our {@link Texture}
     */
    onSourceLoaded(callback) {
      if (callback) {
        this._onSourceLoadedCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run when the {@link source} has been uploaded
     * @param callback - callback to run when the {@link source} been uploaded
     * @returns - our {@link Texture}
     */
    onSourceUploaded(callback) {
      if (callback) {
        this._onSourceUploadedCallback = callback;
      }
      return this;
    }
    /* RENDER */
    /**
     * Render a {@link Texture}:
     * - Update its {@link modelMatrix} and {@link bindings} if needed
     * - Upload the texture if it needs to be done
     */
    render() {
      this.updateMatrixStack();
      this.textureMatrix.update();
      if (this.options.sourceType === "externalVideo") {
        this.shouldUpdate = true;
      }
      if (this.isVideoSource && !this.videoFrameCallbackId && this.source.readyState >= this.source.HAVE_CURRENT_DATA && !this.source.paused) {
        this.shouldUpdate = true;
      }
      if (this.shouldUpdate && this.options.sourceType && this.options.sourceType !== "externalVideo") {
        this.uploadTexture();
      }
    }
    /* DESTROY */
    /**
     * Destroy the {@link Texture}
     */
    destroy() {
      if (this.videoFrameCallbackId) {
        this.source.cancelVideoFrameCallback(this.videoFrameCallbackId);
      }
      if (this.isVideoSource) {
        this.source.removeEventListener(
          "canplaythrough",
          this.onVideoLoaded.bind(this, this.source),
          {
            once: true
          }
        );
      }
      this.renderer.removeTexture(this);
      this.texture?.destroy();
      this.texture = null;
    }
  }
  _parentRatio = new WeakMap();
  _sourceRatio = new WeakMap();
  _coverScale = new WeakMap();
  _rotationMatrix = new WeakMap();

  class TextureBindGroup extends BindGroup {
    /**
     * TextureBindGroup constructor
     * @param  renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link TextureBindGroupParams | parameters} used to create our {@link TextureBindGroup}
     */
    constructor(renderer, { label, index = 0, bindings = [], uniforms, storages, textures = [], samplers = [] } = {}) {
      const type = "TextureBindGroup";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, type);
      super(renderer, { label, index, bindings, uniforms, storages });
      this.options = {
        ...this.options,
        // will be filled after
        textures: [],
        samplers: []
      };
      if (textures.length) {
        textures.forEach((texture) => this.addTexture(texture));
      }
      if (samplers.length) {
        samplers.forEach((sampler) => this.addSampler(sampler));
      }
      this.type = type;
    }
    /**
     * Adds a texture to the textures array and the struct
     * @param texture - texture to add
     */
    addTexture(texture) {
      this.textures.push(texture);
      this.addBindings([...texture.bindings]);
    }
    /**
     * Get the current textures array
     * @readonly
     */
    get textures() {
      return this.options.textures;
    }
    /**
     * Adds a sampler to the samplers array and the struct
     * @param sampler
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
      this.addBindings([sampler.binding]);
    }
    /**
     * Get the current samplers array
     * @readonly
     */
    get samplers() {
      return this.options.samplers;
    }
    /**
     * Get whether the GPU bind group is ready to be created
     * It can be created if it has {@link BindGroup#bindings} and has not been created yet and all GPU textures and samplers are created
     * @readonly
     */
    get shouldCreateBindGroup() {
      return !this.bindGroup && !!this.bindings.length && !this.textures.find((texture) => !(texture.texture || texture.externalTexture)) && !this.samplers.find((sampler) => !sampler.sampler);
    }
    /**
     * Update the {@link TextureBindGroup#textures | bind group textures}:
     * - Check if they need to copy their source texture
     * - Upload video texture if needed
     */
    updateTextures() {
      this.textures.forEach((texture, textureIndex) => {
        if (texture instanceof Texture) {
          if (texture.options.fromTexture && texture.options.fromTexture.sourceUploaded && !texture.sourceUploaded) {
            texture.copy(texture.options.fromTexture);
          }
          if (texture.shouldUpdate && texture.options.sourceType && texture.options.sourceType === "externalVideo") {
            texture.uploadVideoTexture();
          }
        }
      });
    }
    /**
     * Update the {@link TextureBindGroup}, which means update its {@link TextureBindGroup#textures | textures}, then update its {@link TextureBindGroup#bufferBindings | buffer bindings} and finally {@link TextureBindGroup#resetBindGroup | reset it} if needed
     */
    update() {
      this.updateTextures();
      super.update();
    }
    /**
     * Destroy our {@link TextureBindGroup}
     */
    destroy() {
      super.destroy();
      this.options.textures = [];
      this.options.samplers = [];
    }
  }

  class SamplerBinding extends Binding {
    /**
     * SamplerBinding constructor
     * @param parameters - {@link SamplerBindingParams | parameters} used to create our SamplerBindings
     */
    constructor({
      label = "Sampler",
      name = "sampler",
      bindingType,
      visibility,
      sampler,
      type = "filtering"
    }) {
      bindingType = bindingType ?? "sampler";
      super({ label, name, bindingType, visibility });
      this.options = {
        ...this.options,
        sampler,
        type
      };
      this.resource = sampler;
      this.setWGSLFragment();
    }
    /**
     * Get {@link GPUBindGroupLayoutEntry#sampler | bind group layout entry resource}
     * @readonly
     */
    get resourceLayout() {
      return {
        sampler: {
          type: this.options.type
          // TODO set shouldResetBindGroupLayout to true if it changes afterwards
        }
      };
    }
    /**
     * Get the {@link GPUBindGroupEntry#resource | bind group resource}
     */
    get resource() {
      return this.sampler;
    }
    /**
     * Set the {@link GPUBindGroupEntry#resource | bind group resource}
     * @param value - new bind group resource
     */
    set resource(value) {
      if (value && this.sampler)
        this.shouldResetBindGroup = true;
      this.sampler = value;
    }
    /**
     * Set the correct WGSL code snippet.
     */
    setWGSLFragment() {
      this.wgslGroupFragment = [`var ${this.name}: ${this.bindingType};`];
    }
  }

  var __accessCheck$6 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$5 = (obj, member, getter) => {
    __accessCheck$6(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$6 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$4 = (obj, member, value, setter) => {
    __accessCheck$6(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _fov, _near, _far, _pixelRatio;
  class Camera extends Object3D {
    /**
     * Camera constructor
     * @param parameters - {@link CameraParams | parameters} used to create our {@link Camera}
     */
    constructor({
      fov = 50,
      near = 0.01,
      far = 150,
      width = 1,
      height = 1,
      pixelRatio = 1,
      onMatricesChanged = () => {
      }
    } = {}) {
      super();
      /** Private {@link Camera} field of view */
      __privateAdd$6(this, _fov, void 0);
      /** Private {@link Camera} near plane */
      __privateAdd$6(this, _near, void 0);
      /** Private {@link Camera} far plane */
      __privateAdd$6(this, _far, void 0);
      /** Private {@link Camera} pixel ratio, used in {@link CSSPerspective} calcs */
      __privateAdd$6(this, _pixelRatio, void 0);
      this.position.set(0, 0, 10);
      this.onMatricesChanged = onMatricesChanged;
      this.size = {
        width: 1,
        height: 1
      };
      this.setPerspective({ fov, near, far, width, height, pixelRatio });
    }
    /**
     * Set our transform and projection matrices
     */
    setMatrices() {
      super.setMatrices();
      this.matrices = {
        ...this.matrices,
        view: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.viewMatrix.copy(this.modelMatrix).invert();
          }
        },
        projection: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => this.updateProjectionMatrix()
        }
      };
    }
    /**
     * Get our view matrix
     * @readonly
     */
    get viewMatrix() {
      return this.matrices.view.matrix;
    }
    set viewMatrix(value) {
      this.matrices.view.matrix = value;
      this.matrices.view.shouldUpdate = true;
    }
    /**
     * Get our projection matrix
     * @readonly
     */
    get projectionMatrix() {
      return this.matrices.projection.matrix;
    }
    set projectionMatrix(value) {
      this.matrices.projection.matrix = value;
      this.shouldUpdateProjectionMatrix();
    }
    /**
     * Set our projection matrix shouldUpdate flag to true (tell it to update)
     */
    shouldUpdateProjectionMatrix() {
      this.matrices.projection.shouldUpdate = true;
    }
    /**
     * Update our model matrix and tell our view matrix to update as well
     */
    updateModelMatrix() {
      super.updateModelMatrix();
      this.setScreenRatios();
      this.matrices.view.shouldUpdate = true;
    }
    /**
     * Get the {@link Camera} {@link fov | field of view}
     */
    get fov() {
      return __privateGet$5(this, _fov);
    }
    /**
     * Set the {@link Camera} {@link fov | field of view}. Update the {@link projectionMatrix} only if the field of view actually changed
     * @param fov - new field of view
     */
    set fov(fov) {
      fov = Math.max(1, Math.min(fov ?? this.fov, 179));
      if (fov !== this.fov) {
        __privateSet$4(this, _fov, fov);
        this.shouldUpdateProjectionMatrix();
      }
      this.setScreenRatios();
      this.setCSSPerspective();
    }
    /**
     * Get the {@link Camera} {@link near} plane value.
     */
    get near() {
      return __privateGet$5(this, _near);
    }
    /**
     * Set the {@link Camera} {@link near} plane value. Update the {@link projectionMatrix} only if the near plane actually changed
     * @param near - new near plane value
     */
    set near(near) {
      near = Math.max(near ?? this.near, 0.01);
      if (near !== this.near) {
        __privateSet$4(this, _near, near);
        this.shouldUpdateProjectionMatrix();
      }
    }
    /**
     * Get / set the {@link Camera} {@link far} plane value.
     */
    get far() {
      return __privateGet$5(this, _far);
    }
    /**
     * Set the {@link Camera} {@link far} plane value. Update {@link projectionMatrix} only if the far plane actually changed
     * @param far - new far plane value
     */
    set far(far) {
      far = Math.max(far ?? this.far, this.near + 1);
      if (far !== this.far) {
        __privateSet$4(this, _far, far);
        this.shouldUpdateProjectionMatrix();
      }
    }
    /**
     * Get the {@link Camera} {@link pixelRatio} value.
     */
    get pixelRatio() {
      return __privateGet$5(this, _pixelRatio);
    }
    /**
     * Set the {@link Camera} {@link pixelRatio} value. Update the {@link CSSPerspective} only if the pixel ratio actually changed
     * @param pixelRatio - new pixel ratio value
     */
    set pixelRatio(pixelRatio) {
      __privateSet$4(this, _pixelRatio, pixelRatio ?? this.pixelRatio);
      this.setCSSPerspective();
    }
    /**
     * Set the {@link Camera} {@link width} and {@link height}. Update the {@link projectionMatrix} only if the width or height actually changed
     * @param size - {@link width} and {@link height} values to use
     */
    setSize({ width, height }) {
      if (width !== this.size.width || height !== this.size.height) {
        this.shouldUpdateProjectionMatrix();
      }
      this.size.width = width;
      this.size.height = height;
      this.setScreenRatios();
      this.setCSSPerspective();
    }
    /**
     * Sets the {@link Camera} perspective. Update the {@link projectionMatrix} if needed.
     * @param parameters - {@link CameraPerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({
      fov = this.fov,
      near = this.near,
      far = this.far,
      width = this.size.width,
      height = this.size.height,
      pixelRatio = this.pixelRatio
    } = {}) {
      this.setSize({ width, height });
      this.pixelRatio = pixelRatio;
      this.fov = fov;
      this.near = near;
      this.far = far;
    }
    /**
     * Callback to run when the camera {@link modelMatrix | model matrix} has been updated
     */
    onAfterMatrixStackUpdate() {
      this.onMatricesChanged();
    }
    /**
     * Sets a {@link CSSPerspective} property based on {@link size}, {@link pixelRatio} and {@link fov}.<br>
     * Used to translate planes along the Z axis using pixel units as CSS would do.<br>
     * {@link https://stackoverflow.com/questions/22421439/convert-field-of-view-value-to-css3d-perspective-value | See reference}
     */
    setCSSPerspective() {
      this.CSSPerspective = Math.pow(
        Math.pow(this.size.width / (2 * this.pixelRatio), 2) + Math.pow(this.size.height / (2 * this.pixelRatio), 2),
        0.5
      ) / Math.tan(this.fov * 0.5 * Math.PI / 180);
    }
    /**
     * Sets visible width / height at a given z-depth from our {@link Camera} parameters.<br>
     * {@link https://discourse.threejs.org/t/functions-to-calculate-the-visible-width-height-at-a-given-z-depth-from-a-perspective-camera/269 | See reference}
     * @param depth - depth to use for calculations
     */
    setScreenRatios(depth = 0) {
      const cameraOffset = this.position.z;
      if (depth < cameraOffset) {
        depth -= cameraOffset;
      } else {
        depth += cameraOffset;
      }
      const vFOV = this.fov * Math.PI / 180;
      const height = 2 * Math.tan(vFOV / 2) * Math.abs(depth);
      this.screenRatio = {
        width: height * this.size.width / this.size.height,
        height
      };
    }
    /**
     * Rotate this {@link Camera} so it looks at the {@link Vec3 | target}
     * @param target - {@link Vec3 | target} to look at
     */
    lookAt(target = new Vec3()) {
      const rotationMatrix = new Mat4().lookAt(this.position, target);
      this.quaternion.setFromRotationMatrix(rotationMatrix);
      this.shouldUpdateModelMatrix();
    }
    /**
     * Updates the {@link Camera} {@link projectionMatrix}
     */
    updateProjectionMatrix() {
      const aspect = this.size.width / this.size.height;
      const top = this.near * Math.tan(Math.PI / 180 * 0.5 * this.fov);
      const height = 2 * top;
      const width = aspect * height;
      const left = -0.5 * width;
      const right = left + width;
      const bottom = top - height;
      const x = 2 * this.near / (right - left);
      const y = 2 * this.near / (top - bottom);
      const a = (right + left) / (right - left);
      const b = (top + bottom) / (top - bottom);
      const c = -(this.far + this.near) / (this.far - this.near);
      const d = -2 * this.far * this.near / (this.far - this.near);
      this.projectionMatrix.set(
        x,
        0,
        0,
        0,
        0,
        y,
        0,
        0,
        a,
        b,
        c,
        -1,
        0,
        0,
        d,
        0
      );
    }
  }
  _fov = new WeakMap();
  _near = new WeakMap();
  _far = new WeakMap();
  _pixelRatio = new WeakMap();

  class Sampler {
    /**
     * Sampler constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Sampler}
     * @param parameters - {@link SamplerParams | parameters} used to create this {@link Sampler}
     */
    constructor(renderer, {
      label = "Sampler",
      name,
      addressModeU = "repeat",
      addressModeV = "repeat",
      magFilter = "linear",
      minFilter = "linear",
      mipmapFilter = "linear",
      maxAnisotropy = 1,
      type = "filtering"
    } = {}) {
      this.type = "Sampler";
      this.uuid = generateUUID();
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, label ? label + " " + this.type : this.type);
      this.renderer = renderer;
      this.label = label;
      if (!name && !this.renderer.production) {
        name = "sampler" + this.renderer.samplers.length;
        throwWarning(
          `Sampler: you are trying to create a sampler without the mandatory name parameter. A default name will be used instead: ${name}`
        );
      }
      this.name = name;
      this.options = {
        addressModeU,
        addressModeV,
        magFilter,
        minFilter,
        mipmapFilter,
        maxAnisotropy,
        type
      };
      this.createSampler();
      this.createBinding();
    }
    /**
     * Set the {@link GPUSampler}
     */
    createSampler() {
      this.sampler = this.renderer.createSampler(this);
    }
    /**
     * Set the {@link SamplerBinding | binding}
     */
    createBinding() {
      this.binding = new SamplerBinding({
        label: this.label,
        name: this.name,
        bindingType: "sampler",
        sampler: this.sampler,
        type: this.options.type
      });
    }
  }

  const defaultRenderTextureParams = {
    label: "RenderTexture",
    name: "renderTexture",
    usage: "texture",
    access: "write",
    fromTexture: null,
    viewDimension: "2d",
    sampleCount: 1
  };
  class RenderTexture {
    /**
     * RenderTexture constructor
     * @param renderer - {@link Renderer | renderer} object or {@link GPUCurtains} class object used to create this {@link RenderTexture}
     * @param parameters - {@link RenderTextureParams | parameters} used to create this {@link RenderTexture}
     */
    constructor(renderer, parameters = defaultRenderTextureParams) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " RenderTexture" : "RenderTexture");
      this.type = "RenderTexture";
      this.renderer = renderer;
      this.uuid = generateUUID();
      this.options = { ...defaultRenderTextureParams, ...parameters };
      if (!this.options.format) {
        this.options.format = this.renderer.options.preferredFormat;
      }
      this.size = this.options.size ?? {
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      };
      this.setBindings();
      this.renderer.addRenderTexture(this);
      this.createTexture();
    }
    /**
     * Copy another {@link RenderTexture} into this {@link RenderTexture}
     * @param texture - {@link RenderTexture} to copy
     */
    copy(texture) {
      this.options.fromTexture = texture;
      this.createTexture();
    }
    /**
     * Copy a {@link GPUTexture} directly into this {@link RenderTexture}. Mainly used for depth textures.
     * @param texture - {@link GPUTexture} to copy
     */
    copyGPUTexture(texture) {
      this.size = {
        width: texture.width,
        height: texture.height,
        depth: texture.depthOrArrayLayers
      };
      this.texture = texture;
      this.textureBinding.resource = this.texture;
    }
    /**
     * Create the {@link GPUTexture | texture} (or copy it from source) and update the {@link TextureBinding#resource | binding resource}
     */
    createTexture() {
      if (this.options.fromTexture) {
        this.copyGPUTexture(this.options.fromTexture.texture);
        return;
      }
      this.texture?.destroy();
      this.texture = this.renderer.createTexture({
        label: this.options.label,
        format: this.options.format,
        size: [this.size.width, this.size.height, this.size.depth],
        dimensions: this.options.viewDimension === "1d" ? "1d" : this.options.viewDimension === "3d" ? "3d" : "2d",
        sampleCount: this.options.sampleCount,
        usage: (
          // TODO let user chose?
          // see https://matrix.to/#/!MFogdGJfnZLrDmgkBN:matrix.org/$vESU70SeCkcsrJQdyQGMWBtCgVd3XqnHcBxFDKTKKSQ?via=matrix.org&via=mozilla.org&via=hej.im
          this.options.usage !== "storageTexture" ? GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT : GPUTextureUsage.STORAGE_BINDING | GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
        )
      });
      this.textureBinding.resource = this.texture;
    }
    /**
     * Set our {@link RenderTexture#bindings | bindings}
     */
    setBindings() {
      this.bindings = [
        new TextureBinding({
          label: this.options.label + ": " + this.options.name + " render texture",
          name: this.options.name,
          texture: this.texture,
          bindingType: this.options.usage,
          format: this.options.format,
          viewDimension: this.options.viewDimension,
          multisampled: this.options.sampleCount > 1
        })
      ];
    }
    /**
     * Get our {@link TextureBinding | texture binding}
     * @readonly
     */
    get textureBinding() {
      return this.bindings[0];
    }
    /**
     * Force a {@link RenderTexture} to be recreated with the new size
     * @param size - new {@link TextureSize | size} to set
     */
    forceResize(size) {
      this.size = size;
      this.createTexture();
    }
    /**
     * Resize our {@link RenderTexture}, which means recreate it/copy it again and tell the {@link core/bindGroups/TextureBindGroup.TextureBindGroup | texture bind group} to update
     * @param size - the optional new {@link TextureSize | size} to set
     */
    resize(size = null) {
      if (!size) {
        size = {
          width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
          height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
          depth: 1
        };
      }
      if (size.width === this.size.width && size.height === this.size.height && size.depth === this.size.depth) {
        return;
      }
      this.forceResize(size);
    }
    /**
     * Destroy our {@link RenderTexture}
     */
    destroy() {
      this.renderer.removeRenderTexture(this);
      if (!this.options.fromTexture) {
        this.texture?.destroy();
      }
      this.texture = null;
    }
  }

  class Material {
    /**
     * Material constructor
     * @param renderer - our renderer class object
     * @param parameters - {@link types/Materials.MaterialParams | parameters} used to create our Material
     */
    constructor(renderer, parameters) {
      this.type = "Material";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, this.type);
      this.renderer = renderer;
      this.uuid = generateUUID();
      const { shaders, label, useAsyncPipeline, uniforms, storages, bindGroups, samplers, textures, renderTextures } = parameters;
      this.options = {
        shaders,
        label,
        ...useAsyncPipeline !== void 0 && { useAsyncPipeline },
        ...uniforms !== void 0 && { uniforms },
        ...storages !== void 0 && { storages },
        ...bindGroups !== void 0 && { bindGroups },
        ...samplers !== void 0 && { samplers },
        ...textures !== void 0 && { textures },
        ...renderTextures !== void 0 && { renderTextures }
      };
      this.bindGroups = [];
      this.texturesBindGroups = [];
      this.clonedBindGroups = [];
      this.setBindGroups();
      this.setTextures();
      this.setSamplers();
    }
    /**
     * Check if all bind groups are ready, and create them if needed
     */
    compileMaterial() {
      const texturesBindGroupLength = this.texturesBindGroup.bindings.length ? 1 : 0;
      const bindGroupsReady = this.bindGroups.length >= this.inputsBindGroups.length + texturesBindGroupLength;
      if (!bindGroupsReady) {
        this.createBindGroups();
      }
    }
    /**
     * Get whether the renderer is ready, our pipeline entry and pipeline have been created and successfully compiled
     * @readonly
     */
    get ready() {
      return !!(this.renderer.ready && this.pipelineEntry && this.pipelineEntry.pipeline && this.pipelineEntry.ready);
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
     * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to render
     */
    loseContext() {
      this.textures.forEach((texture) => {
        texture.texture = null;
        texture.sourceUploaded = false;
      });
      this.renderTextures.forEach((texture) => {
        texture.texture = null;
      });
      [...this.bindGroups, ...this.clonedBindGroups, ...this.inputsBindGroups].forEach(
        (bindGroup) => bindGroup.loseContext()
      );
      this.pipelineEntry.pipeline = null;
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored to recreate our bind groups.
     */
    restoreContext() {
      this.samplers.forEach((sampler) => {
        sampler.createSampler();
        sampler.binding.resource = sampler.sampler;
      });
      this.textures.forEach((texture) => {
        texture.createTexture();
        texture.resize();
      });
      this.renderTextures.forEach((texture) => {
        texture.resize(texture.size);
      });
      [...this.bindGroups, ...this.clonedBindGroups, ...this.inputsBindGroups].forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.createBindGroup();
        }
        bindGroup.bufferBindings.forEach((bufferBinding) => bufferBinding.shouldUpdate = true);
      });
    }
    /**
     * Get the complete code of a given shader including all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="full"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getShaderCode(shaderType = "full") {
      if (!this.pipelineEntry)
        return "";
      shaderType = (() => {
        switch (shaderType) {
          case "vertex":
          case "fragment":
          case "compute":
          case "full":
            return shaderType;
          default:
            return "full";
        }
      })();
      return this.pipelineEntry.shaders[shaderType].code;
    }
    /**
     * Get the added code of a given shader, i.e. all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="vertex"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getAddedShaderCode(shaderType = "vertex") {
      if (!this.pipelineEntry)
        return "";
      shaderType = (() => {
        switch (shaderType) {
          case "vertex":
          case "fragment":
          case "compute":
            return shaderType;
          default:
            return "vertex";
        }
      })();
      return this.pipelineEntry.shaders[shaderType].head;
    }
    /* BIND GROUPS */
    /**
     * Prepare and set our bind groups based on inputs and bindGroups Material parameters
     */
    setBindGroups() {
      this.uniforms = {};
      this.storages = {};
      this.inputsBindGroups = [];
      this.inputsBindings = [];
      if (this.options.uniforms || this.options.storages) {
        const inputsBindGroup = new BindGroup(this.renderer, {
          label: this.options.label + ": Bindings bind group",
          uniforms: this.options.uniforms,
          storages: this.options.storages
        });
        this.processBindGroupBindings(inputsBindGroup);
        this.inputsBindGroups.push(inputsBindGroup);
      }
      this.options.bindGroups?.forEach((bindGroup) => {
        this.processBindGroupBindings(bindGroup);
        this.inputsBindGroups.push(bindGroup);
      });
    }
    /**
     * Get the main {@link TextureBindGroup | texture bind group} created by this {@link Material} to manage all textures related struct
     * @readonly
     */
    get texturesBindGroup() {
      return this.texturesBindGroups[0];
    }
    /**
     * Process all {@link BindGroup} struct and add them to the corresponding objects based on their binding types. Also store them in a inputsBindings array to facilitate further access to struct.
     * @param bindGroup - The {@link BindGroup} to process
     */
    processBindGroupBindings(bindGroup) {
      bindGroup.bindings.forEach((inputBinding) => {
        if (inputBinding.bindingType === "uniform")
          this.uniforms = {
            ...this.uniforms,
            [inputBinding.name]: inputBinding.inputs
          };
        if (inputBinding.bindingType === "storage")
          this.storages = {
            ...this.storages,
            [inputBinding.name]: inputBinding.inputs
          };
        this.inputsBindings.push(inputBinding);
      });
    }
    /**
     * Create the bind groups if they need to be created
     */
    createBindGroups() {
      if (this.texturesBindGroup.shouldCreateBindGroup) {
        this.texturesBindGroup.setIndex(this.bindGroups.length);
        this.texturesBindGroup.createBindGroup();
        this.bindGroups.push(this.texturesBindGroup);
      }
      this.inputsBindGroups.forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.setIndex(this.bindGroups.length);
          bindGroup.createBindGroup();
          this.bindGroups.push(bindGroup);
        }
      });
      this.options.bindGroups?.forEach((bindGroup) => {
        if (!bindGroup.shouldCreateBindGroup && !this.bindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
          bindGroup.setIndex(this.bindGroups.length);
          this.bindGroups.push(bindGroup);
        }
        if (bindGroup instanceof TextureBindGroup && !this.texturesBindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
          this.texturesBindGroups.push(bindGroup);
          bindGroup.textures.forEach((texture) => {
            if (texture instanceof Texture && !this.textures.find((t) => t.uuid === texture.uuid)) {
              this.textures.push(texture);
            } else if (texture instanceof RenderTexture && !this.renderTextures.find((t) => t.uuid === texture.uuid)) {
              this.renderTextures.push(texture);
            }
          });
        }
      });
    }
    /**
     * Clones a {@link BindGroup} from a list of buffers
     * Useful to create a new bind group with already created buffers, but swapped
     * @param parameters - parameters used to clone the {@link BindGroup | bind group}
     * @param parameters.bindGroup - the BindGroup to clone
     * @param parameters.bindings - our input binding buffers
     * @param parameters.keepLayout - whether we should keep original bind group layout or not
     * @returns - the cloned BindGroup
     */
    cloneBindGroup({
      bindGroup,
      bindings = [],
      keepLayout = true
    }) {
      if (!bindGroup)
        return null;
      const clone = bindGroup.clone({ bindings, keepLayout });
      this.clonedBindGroups.push(clone);
      return clone;
    }
    /**
     * Get a corresponding {@link BindGroup} or {@link TextureBindGroup} from one of its binding name/key
     * @param bindingName - the binding name/key to look for
     * @returns - bind group found or null if not found
     */
    getBindGroupByBindingName(bindingName = "") {
      return (this.ready ? this.bindGroups : this.inputsBindGroups).find((bindGroup) => {
        return bindGroup.bindings.find((binding) => binding.name === bindingName);
      });
    }
    /**
     * Destroy a bind group, only if it is not used by another object
     * @param bindGroup - bind group to eventually destroy
     */
    destroyBindGroup(bindGroup) {
      const objectsUsingBindGroup = this.renderer.getObjectsByBindGroup(bindGroup);
      const shouldDestroy = !objectsUsingBindGroup || !objectsUsingBindGroup.find((object) => object.material.uuid !== this.uuid);
      if (shouldDestroy) {
        bindGroup.destroy();
      }
    }
    /**
     * Destroy all bind groups
     */
    destroyBindGroups() {
      this.bindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.clonedBindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.texturesBindGroups.forEach((bindGroup) => this.destroyBindGroup(bindGroup));
      this.texturesBindGroups = [];
      this.inputsBindGroups = [];
      this.bindGroups = [];
      this.clonedBindGroups = [];
    }
    /**
     * {@link BindGroup#update | Update} all bind groups:
     * - Update all {@link texturesBindGroups | textures bind groups} textures
     * - Update its {@link BindGroup#bufferBindings | buffer bindings}
     * - Check if it eventually needs a {@link BindGroup#resetBindGroup | reset}
     * - Check if we need to flush the pipeline
     */
    updateBindGroups() {
      this.bindGroups.forEach((bindGroup) => {
        bindGroup.update();
        if (bindGroup.needsPipelineFlush && this.pipelineEntry.ready) {
          this.pipelineEntry.flushPipelineEntry(this.bindGroups);
          bindGroup.needsPipelineFlush = false;
        }
      });
    }
    /* INPUTS */
    /**
     * Look for a {@link BindGroupBindingElement | binding} by name in all {@link inputsBindings | input bindings}
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBindingByName(bindingName = "") {
      return this.inputsBindings.find((binding) => binding.name === bindingName);
    }
    /**
     * Look for a {@link BindGroupBufferBindingElement | buffer binding} by name in all {@link inputsBindings | input bindings}
     * @param bindingName - the binding name or key
     * @returns - the found binding, or null if not found
     */
    getBufferBindingByName(bindingName = "") {
      return this.inputsBindings.find((binding) => binding.name === bindingName && "buffer" in binding);
    }
    /**
     * Force a given buffer binding update flag to update it at next render
     * @param bufferBindingName - the buffer binding name
     * @param bindingName - the binding name
     */
    shouldUpdateInputsBindings(bufferBindingName, bindingName) {
      if (!bufferBindingName)
        return;
      const bufferBinding = this.getBindingByName(bufferBindingName);
      if (bufferBinding) {
        if (!bindingName) {
          Object.keys(bufferBinding.inputs).forEach(
            (bindingKey) => bufferBinding.shouldUpdateBinding(bindingKey)
          );
        } else {
          bufferBinding.shouldUpdateBinding(bindingName);
        }
      }
    }
    /* SAMPLERS & TEXTURES */
    /**
     * Prepare our textures array and set the {@link TextureBindGroup}
     */
    setTextures() {
      this.textures = [];
      this.renderTextures = [];
      this.texturesBindGroups.push(
        new TextureBindGroup(this.renderer, {
          label: this.options.label + ": Textures bind group"
        })
      );
      this.options.textures?.forEach((texture) => {
        this.addTexture(texture);
      });
      this.options.renderTextures?.forEach((texture) => {
        this.addTexture(texture);
      });
    }
    /**
     * Add a texture to our array, and add it to the textures bind group only if used in the shaders (avoid binding useless data)
     * @param texture - texture to add
     */
    addTexture(texture) {
      if (texture instanceof Texture) {
        this.textures.push(texture);
      } else if (texture instanceof RenderTexture) {
        this.renderTextures.push(texture);
      }
      if (this.options.shaders.vertex && this.options.shaders.vertex.code.indexOf(texture.options.name) !== -1 || this.options.shaders.fragment && this.options.shaders.fragment.code.indexOf(texture.options.name) !== -1 || this.options.shaders.compute && this.options.shaders.compute.code.indexOf(texture.options.name) !== -1) {
        this.texturesBindGroup.addTexture(texture);
      }
    }
    /**
     * Destroy a {@link Texture} or {@link RenderTexture}, only if it is not used by another object or cached.
     * @param texture - {@link Texture} or {@link RenderTexture} to eventually destroy
     */
    destroyTexture(texture) {
      if (texture.options.cache)
        return;
      const objectsUsingTexture = this.renderer.getObjectsByTexture(texture);
      const shouldDestroy = !objectsUsingTexture || !objectsUsingTexture.some((object) => object.material.uuid !== this.uuid);
      if (shouldDestroy) {
        texture.destroy();
      }
    }
    /**
     * Destroy all the Material textures
     */
    destroyTextures() {
      this.textures?.forEach((texture) => this.destroyTexture(texture));
      this.renderTextures?.forEach((texture) => this.destroyTexture(texture));
      this.textures = [];
      this.renderTextures = [];
    }
    /**
     * Prepare our samplers array and always add a default sampler if not already passed as parameter
     */
    setSamplers() {
      this.samplers = [];
      this.options.samplers?.forEach((sampler) => {
        this.addSampler(sampler);
      });
      const hasDefaultSampler = this.samplers.find((sampler) => sampler.name === "defaultSampler");
      if (!hasDefaultSampler) {
        const sampler = new Sampler(this.renderer, { name: "defaultSampler" });
        this.addSampler(sampler);
      }
    }
    /**
     * Add a sampler to our array, and add it to the textures bind group only if used in the shaders (avoid binding useless data)
     * @param sampler - sampler to add
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
      if (this.options.shaders.vertex && this.options.shaders.vertex.code.indexOf(sampler.name) !== -1 || this.options.shaders.fragment && this.options.shaders.fragment.code.indexOf(sampler.name) !== -1 || this.options.shaders.compute && this.options.shaders.compute.code.indexOf(sampler.name) !== -1) {
        this.texturesBindGroup.addSampler(sampler);
      }
    }
    /* BUFFER RESULTS */
    /**
     * Map a {@link GPUBuffer} and put a copy of the data into a {@link Float32Array}
     * @param buffer - {@link GPUBuffer} to map
     * @async
     * @returns - {@link Float32Array} holding the {@link GPUBuffer} data
     */
    async getBufferResult(buffer) {
      await buffer.mapAsync(GPUMapMode.READ);
      const result = new Float32Array(buffer.getMappedRange().slice(0));
      buffer.unmap();
      return result;
    }
    /**
     * Map the content of a {@link BufferBinding#buffer | GPU buffer} and put a copy of the data into a {@link Float32Array}
     * @param bindingName - The name of the {@link inputsBindings | input bindings} from which to map the {@link BufferBinding#buffer | GPU buffer}
     * @async
     * @returns - {@link Float32Array} holding the {@link GPUBuffer} data
     */
    async getBufferBindingResultByBindingName(bindingName = "") {
      const binding = this.getBufferBindingByName(bindingName);
      if (binding && "buffer" in binding) {
        const dstBuffer = this.renderer.copyBufferToBuffer({
          srcBuffer: binding.buffer
        });
        return await this.getBufferResult(dstBuffer);
      } else {
        return new Float32Array(0);
      }
    }
    /**
     * Map the content of a specific {@link BufferElement | buffer element} belonging to a {@link BufferBinding#buffer | GPU buffer} and put a copy of the data into a {@link Float32Array}
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - The name of the {@link inputsBindings | input bindings} from which to map the {@link BufferBinding#buffer | GPU buffer}
     * @param parameters.bufferElementName - The name of the {@link BufferElement | buffer element} from which to extract the data afterwards
     * @returns - {@link Float32Array} holding {@link GPUBuffer} data
     */
    async getBufferElementResultByNames({
      bindingName,
      bufferElementName
    }) {
      const result = await this.getBufferBindingResultByBindingName(bindingName);
      if (!bufferElementName || result.length) {
        return result;
      } else {
        const binding = this.getBufferBindingByName(bindingName);
        if (binding) {
          return binding.extractBufferElementDataFromBufferResult({ result, bufferElementName });
        } else {
          return result;
        }
      }
    }
    /* RENDER */
    /**
     * Called before rendering the Material.
     * First, check if we need to create our bind groups or pipeline
     * Then render the {@link textures}
     * Finally updates all the {@link bindGroups | bind groups}
     */
    onBeforeRender() {
      this.compileMaterial();
      this.textures.forEach((texture) => {
        texture.render();
      });
      this.updateBindGroups();
    }
    /**
     * Set the current pipeline
     * @param pass - current pass encoder
     */
    setPipeline(pass) {
      this.renderer.pipelineManager.setCurrentPipeline(pass, this.pipelineEntry);
    }
    /**
     * Render the material if it is ready:
     * Set the current pipeline and set the bind groups
     * @param pass - current pass encoder
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setPipeline(pass);
      this.bindGroups.forEach((bindGroup) => {
        pass.setBindGroup(bindGroup.index, bindGroup.bindGroup);
      });
    }
    /**
     * Destroy the Material
     */
    destroy() {
      this.destroyBindGroups();
      this.destroyTextures();
    }
  }

  class ComputeMaterial extends Material {
    /**
     * ComputeMaterial constructor
     * @param renderer - our {@link Renderer} class object
     * @param parameters - {@link ComputeMaterialParams | parameters} used to create our {@link ComputeMaterial}
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      const type = "ComputeMaterial";
      isRenderer(renderer, type);
      super(renderer, parameters);
      this.type = type;
      this.renderer = renderer;
      let { shaders, dispatchSize } = parameters;
      if (!shaders || !shaders.compute) {
        shaders = {
          compute: {
            code: "",
            entryPoint: "main"
          }
        };
      }
      if (!shaders.compute.code) {
        shaders.compute.code = "@compute @workgroup_size(1) fn main(){}";
      }
      if (!shaders.compute.entryPoint) {
        shaders.compute.entryPoint = "main";
      }
      this.options = {
        ...this.options,
        shaders,
        ...parameters.dispatchSize !== void 0 && { dispatchSize: parameters.dispatchSize }
      };
      if (!dispatchSize) {
        dispatchSize = 1;
      }
      if (Array.isArray(dispatchSize)) {
        dispatchSize[0] = Math.ceil(dispatchSize[0] ?? 1);
        dispatchSize[1] = Math.ceil(dispatchSize[1] ?? 1);
        dispatchSize[2] = Math.ceil(dispatchSize[2] ?? 1);
      } else if (!isNaN(dispatchSize)) {
        dispatchSize = [Math.ceil(dispatchSize), 1, 1];
      }
      this.dispatchSize = dispatchSize;
      this.pipelineEntry = this.renderer.pipelineManager.createComputePipeline({
        renderer: this.renderer,
        label: this.options.label + " compute pipeline",
        shaders: this.options.shaders,
        useAsync: this.options.useAsyncPipeline
      });
    }
    /**
     * When all bind groups are created, add them to the {@link ComputePipelineEntry}
     */
    setPipelineEntryProperties() {
      this.pipelineEntry.setPipelineEntryProperties({
        bindGroups: this.bindGroups
      });
    }
    /**
     * Compile the {@link ComputePipelineEntry}
     * @async
     */
    async compilePipelineEntry() {
      await this.pipelineEntry.compilePipelineEntry();
    }
    /**
     * Check if all bind groups are ready, create them if needed, set {@link ComputePipelineEntry} bind group buffers and compile the pipeline
     * @async
     */
    async compileMaterial() {
      super.compileMaterial();
      if (this.pipelineEntry && this.pipelineEntry.canCompile) {
        this.setPipelineEntryProperties();
        await this.compilePipelineEntry();
      }
    }
    /**
     * Get the complete code of a given shader including all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="compute"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getShaderCode(shaderType = "compute") {
      return super.getShaderCode(shaderType);
    }
    /**
     * Get the added code of a given shader, i.e. all the WGSL fragment code snippets added by the pipeline
     * @param [shaderType="compute"] - shader to get the code from
     * @returns - The corresponding shader code
     */
    getAddedShaderCode(shaderType = "compute") {
      return super.getAddedShaderCode(shaderType);
    }
    /* RENDER */
    /**
     * If a custom render function has been defined instead of the default one, register the callback
     * @param callback - callback to run instead of the default render behaviour, which is to set the {@link bindGroups | bind groups} and dispatch the work groups based on the {@link dispatchSize | default dispatch size}. This is where you will have to set all the {@link core/bindGroups/BindGroup.BindGroup | bind groups} and dispatch the workgroups by yourself.
     */
    useCustomRender(callback) {
      if (callback) {
        this._useCustomRenderCallback = callback;
      }
    }
    /**
     * Render the material if it is ready:
     * Set the current pipeline, set the bind groups and dispatch the work groups
     * @param pass - current compute pass encoder
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setPipeline(pass);
      if (this._useCustomRenderCallback !== void 0) {
        this._useCustomRenderCallback(pass);
      } else {
        this.bindGroups.forEach((bindGroup) => {
          pass.setBindGroup(bindGroup.index, bindGroup.bindGroup);
        });
        pass.dispatchWorkgroups(this.dispatchSize[0], this.dispatchSize[1], this.dispatchSize[2]);
      }
    }
    /* RESULT BUFFER */
    /**
     * Copy all writable binding buffers that need it
     * @param commandEncoder - current command encoder
     */
    copyBufferToResult(commandEncoder) {
      this.bindGroups.forEach((bindGroup) => {
        bindGroup.bufferBindings.forEach((binding) => {
          if (binding.shouldCopyResult && binding.resultBuffer.mapState === "unmapped") {
            commandEncoder.copyBufferToBuffer(binding.buffer, 0, binding.resultBuffer, 0, binding.resultBuffer.size);
          }
        });
      });
    }
    /**
     * Get the {@link core/bindings/WritableBufferBinding.WritableBufferBinding#resultBuffer | result GPU buffer} content by {@link core/bindings/WritableBufferBinding.WritableBufferBinding | binding} and {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} names
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - {@link core/bindings/WritableBufferBinding.WritableBufferBinding#name | binding name} from which to get the result
     * @param parameters.bufferElementName - optional {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} (i.e. struct member) name if the result needs to be restrained to only one element
     * @async
     * @returns - the mapped content of the {@link GPUBuffer} as a {@link Float32Array}
     */
    async getComputeResult({
      bindingName = "",
      bufferElementName = ""
    }) {
      const binding = this.getBufferBindingByName(bindingName);
      if (binding && "resultBuffer" in binding && binding.resultBuffer.mapState === "unmapped") {
        const result = await this.getBufferResult(binding.resultBuffer);
        if (bufferElementName) {
          return binding.extractBufferElementDataFromBufferResult({ result, bufferElementName });
        } else {
          return result;
        }
      } else {
        return new Float32Array(0);
      }
    }
  }

  var __accessCheck$5 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$4 = (obj, member, getter) => {
    __accessCheck$5(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$5 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$3 = (obj, member, value, setter) => {
    __accessCheck$5(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _autoRender$1;
  let computePassIndex = 0;
  class ComputePass {
    /**
     * ComputePass constructor
     * @param renderer - a {@link Renderer} class object or a {@link GPUCurtains} class object
     * @param parameters - {@link ComputePassParams | parameters} used to create our {@link ComputePass}
     */
    constructor(renderer, parameters = {}) {
      /**
       * Whether this {@link ComputePass} should be added to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically
       * @private
       */
      __privateAdd$5(this, _autoRender$1, true);
      // callbacks / events
      /** function assigned to the {@link onReady} callback */
      this._onReadyCallback = () => {
      };
      /** function assigned to the {@link onBeforeRender} callback */
      this._onBeforeRenderCallback = () => {
      };
      /** function assigned to the {@link onRender} callback */
      this._onRenderCallback = () => {
      };
      /** function assigned to the {@link onAfterRender} callback */
      this._onAfterRenderCallback = () => {
      };
      /** function assigned to the {@link onAfterResize} callback */
      this._onAfterResizeCallback = () => {
      };
      const type = "ComputePass";
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? `${parameters.label} ${type}` : type);
      parameters.label = parameters.label ?? "ComputePass " + renderer.computePasses?.length;
      this.renderer = renderer;
      this.type = type;
      this.uuid = generateUUID();
      Object.defineProperty(this, "index", { value: computePassIndex++ });
      const {
        label,
        shaders,
        renderOrder,
        uniforms,
        storages,
        bindGroups,
        samplers,
        textures,
        renderTextures,
        autoRender,
        useAsyncPipeline,
        texturesOptions,
        dispatchSize
      } = parameters;
      this.options = {
        label,
        shaders,
        ...autoRender !== void 0 && { autoRender },
        ...renderOrder !== void 0 && { renderOrder },
        ...useAsyncPipeline !== void 0 && { useAsyncPipeline },
        ...dispatchSize !== void 0 && { dispatchSize },
        texturesOptions
        // TODO default
      };
      this.renderOrder = renderOrder ?? 0;
      if (autoRender !== void 0) {
        __privateSet$3(this, _autoRender$1, autoRender);
      }
      this.userData = {};
      this.ready = false;
      this.setComputeMaterial({
        label: this.options.label,
        shaders: this.options.shaders,
        uniforms,
        storages,
        bindGroups,
        samplers,
        textures,
        renderTextures,
        useAsyncPipeline,
        dispatchSize
      });
      this.addToScene();
    }
    /**
     * Get or set whether the compute pass is ready to render (the material has been successfully compiled)
     * @readonly
     */
    get ready() {
      return this._ready;
    }
    set ready(value) {
      if (value) {
        this._onReadyCallback && this._onReadyCallback();
      }
      this._ready = value;
    }
    /**
     * Add our compute pass to the scene and the renderer
     */
    addToScene() {
      this.renderer.computePasses.push(this);
      if (__privateGet$4(this, _autoRender$1)) {
        this.renderer.scene.addComputePass(this);
      }
    }
    /**
     * Remove our compute pass from the scene and the renderer
     */
    removeFromScene() {
      if (__privateGet$4(this, _autoRender$1)) {
        this.renderer.scene.removeComputePass(this);
      }
      this.renderer.computePasses = this.renderer.computePasses.filter((computePass) => computePass.uuid !== this.uuid);
    }
    /**
     * Create the compute pass material
     * @param computeParameters - {@link ComputeMaterial} parameters
     */
    setComputeMaterial(computeParameters) {
      this.material = new ComputeMaterial(this.renderer, computeParameters);
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
     * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to render
     */
    loseContext() {
      this.material.loseContext();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored
     */
    restoreContext() {
      this.material.restoreContext();
    }
    /* TEXTURES */
    /**
     * Get our {@link ComputeMaterial#textures | ComputeMaterial textures array}
     * @readonly
     */
    get textures() {
      return this.material?.textures || [];
    }
    /**
     * Get our {@link ComputeMaterial#renderTextures | ComputeMaterial render textures array}
     * @readonly
     */
    get renderTextures() {
      return this.material?.renderTextures || [];
    }
    /**
     * Create a new {@link Texture}
     * @param options - {@link TextureParams | Texture parameters}
     * @returns - newly created {@link Texture}
     */
    createTexture(options) {
      if (!options.name) {
        options.name = "texture" + this.textures.length;
      }
      if (!options.label) {
        options.label = this.options.label + " " + options.name;
      }
      const texture = new Texture(this.renderer, { ...options, ...this.options.texturesOptions });
      this.addTexture(texture);
      return texture;
    }
    /**
     * Add a {@link Texture}
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.material.addTexture(texture);
    }
    /**
     * Create a new {@link RenderTexture}
     * @param  options - {@link RenderTextureParams | RenderTexture parameters}
     * @returns - newly created {@link RenderTexture}
     */
    createRenderTexture(options) {
      if (!options.name) {
        options.name = "renderTexture" + this.renderTextures.length;
      }
      const renderTexture = new RenderTexture(this.renderer, options);
      this.addRenderTexture(renderTexture);
      return renderTexture;
    }
    /**
     * Add a {@link RenderTexture}
     * @param renderTexture - {@link RenderTexture} to add
     */
    addRenderTexture(renderTexture) {
      this.material.addTexture(renderTexture);
    }
    /**
     * Get our {@link ComputeMaterial#uniforms | ComputeMaterial uniforms}
     * @readonly
     */
    get uniforms() {
      return this.material?.uniforms;
    }
    /**
     * Get our {@link ComputeMaterial#storages | ComputeMaterial storages}
     * @readonly
     */
    get storages() {
      return this.material?.storages;
    }
    /**
     * Called from the renderer, useful to trigger an after resize callback.
     */
    resize() {
      this._onAfterResizeCallback && this._onAfterResizeCallback();
    }
    /** EVENTS **/
    /**
     * Callback to run when the {@link ComputePass} is ready
     * @param callback - callback to run when {@link ComputePass} is ready
     */
    onReady(callback) {
      if (callback) {
        this._onReadyCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run before the {@link ComputePass} is rendered
     * @param callback - callback to run just before {@link ComputePass} will be rendered
     */
    onBeforeRender(callback) {
      if (callback) {
        this._onBeforeRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run when the {@link ComputePass} is rendered
     * @param callback - callback to run when {@link ComputePass} is rendered
     */
    onRender(callback) {
      if (callback) {
        this._onRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback to run after the {@link ComputePass} has been rendered
     * @param callback - callback to run just after {@link ComputePass} has been rendered
     */
    onAfterRender(callback) {
      if (callback) {
        this._onAfterRenderCallback = callback;
      }
      return this;
    }
    /**
     * Callback used to run a custom render function instead of the default one.
     * @param callback - Your custom render function where you will have to set all the {@link core/bindGroups/BindGroup.BindGroup | bind groups} and dispatch the workgroups by yourself.
     */
    useCustomRender(callback) {
      this.material.useCustomRender(callback);
      return this;
    }
    /**
     * Callback to run after the {@link core/renderers/GPURenderer.GPURenderer | renderer} has been resized
     * @param callback - callback to run just after {@link core/renderers/GPURenderer.GPURenderer | renderer} has been resized
     */
    onAfterResize(callback) {
      if (callback) {
        this._onAfterResizeCallback = callback;
      }
      return this;
    }
    /**
     * Called before rendering the ComputePass
     * Checks if the material is ready and eventually update its struct
     */
    onBeforeRenderPass() {
      if (!this.renderer.ready)
        return;
      if (this.material && this.material.ready && !this.ready) {
        this.ready = true;
      }
      this._onBeforeRenderCallback && this._onBeforeRenderCallback();
      this.material.onBeforeRender();
    }
    /**
     * Render our {@link ComputeMaterial}
     * @param pass - current compute pass encoder
     */
    onRenderPass(pass) {
      if (!this.material.ready)
        return;
      this._onRenderCallback && this._onRenderCallback();
      this.material.render(pass);
    }
    /**
     * Called after having rendered the ComputePass
     */
    onAfterRenderPass() {
      this._onAfterRenderCallback && this._onAfterRenderCallback();
    }
    /**
     * Render our compute pass
     * Basically just check if our {@link core/renderers/GPURenderer.GPURenderer | renderer} is ready, and then render our {@link ComputeMaterial}
     * @param pass
     */
    render(pass) {
      this.onBeforeRenderPass();
      if (!this.renderer.ready)
        return;
      !this.renderer.production && pass.pushDebugGroup(this.options.label);
      this.onRenderPass(pass);
      !this.renderer.production && pass.popDebugGroup();
      this.onAfterRenderPass();
    }
    /**
     * Copy the result of our read/write GPUBuffer into our result binding array
     * @param commandEncoder - current GPU command encoder
     */
    copyBufferToResult(commandEncoder) {
      this.material?.copyBufferToResult(commandEncoder);
    }
    /**
     * Get the {@link core/bindings/WritableBufferBinding.WritableBufferBinding#resultBuffer | result GPU buffer} content by {@link core/bindings/WritableBufferBinding.WritableBufferBinding | binding} and {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} names
     * @param parameters - parameters used to get the result
     * @param parameters.bindingName - {@link core/bindings/WritableBufferBinding.WritableBufferBinding#name | binding name} from which to get the result
     * @param parameters.bufferElementName - optional {@link core/bindings/bufferElements/BufferElement.BufferElement | buffer element} (i.e. struct member) name if the result needs to be restrained to only one element
     * @async
     * @returns - the mapped content of the {@link GPUBuffer} as a {@link Float32Array}
     */
    async getComputeResult({
      bindingName,
      bufferElementName
    }) {
      return await this.material?.getComputeResult({ bindingName, bufferElementName });
    }
    /**
     * Remove the ComputePass from the scene and destroy it
     */
    remove() {
      this.removeFromScene();
      this.destroy();
    }
    /**
     * Destroy the ComputePass
     */
    destroy() {
      this.material?.destroy();
    }
  }
  _autoRender$1 = new WeakMap();

  const points = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];
  class Box3 {
    /**
     * Box3 constructor
     * @param min - min {@link Vec3 | vector} of the {@link Box3}
     * @param max - max {@link Vec3 | vector} of the {@link Box3}
     */
    constructor(min = new Vec3(Infinity), max = new Vec3(-Infinity)) {
      this.min = min;
      this.max = max;
    }
    /**
     * Set a {@link Box3} from two min and max {@link Vec3 | vectors}
     * @param min - min {@link Vec3 | vector} of the {@link Box3}
     * @param max - max {@link Vec3 | vector} of the {@link Box3}
     */
    set(min = new Vec3(Infinity), max = new Vec3(-Infinity)) {
      this.min.copy(min);
      this.max.copy(max);
      return this;
    }
    /**
     * Clone this {@link Box3}
     * @returns - cloned {@link Box3}
     */
    clone() {
      return new Box3().set(this.min, this.max);
    }
    /**
     * Get the {@link Box3} center
     * @returns - {@link Vec3 | center vector} of the {@link Box3}
     */
    getCenter() {
      return this.max.clone().add(this.min).multiplyScalar(0.5);
    }
    /**
     * Get the {@link Box3} size
     * @returns - {@link Vec3 | size vector} of the {@link Box3}
     */
    getSize() {
      return this.max.clone().sub(this.min);
    }
    /**
     * Apply a {@link Mat4 | matrix} to a {@link Box3}
     * Useful to apply a transformation {@link Mat4 | matrix} to a {@link Box3}
     * @param matrix - {@link Mat4 | matrix} to use
     * @returns - this {@link Box3} after {@link Mat4 | matrix} application
     */
    applyMat4(matrix = new Mat4()) {
      const corners = [];
      if (this.min.z === this.max.z) {
        corners[0] = points[0].set(this.min.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[1] = points[2].set(this.min.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[2] = points[4].set(this.max.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[3] = points[6].set(this.max.x, this.max.y, this.min.z).applyMat4(matrix);
      } else {
        corners[0] = points[0].set(this.min.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[1] = points[1].set(this.min.x, this.min.y, this.max.z).applyMat4(matrix);
        corners[2] = points[2].set(this.min.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[3] = points[3].set(this.min.x, this.max.y, this.max.z).applyMat4(matrix);
        corners[4] = points[4].set(this.max.x, this.min.y, this.min.z).applyMat4(matrix);
        corners[5] = points[5].set(this.max.x, this.min.y, this.max.z).applyMat4(matrix);
        corners[6] = points[6].set(this.max.x, this.max.y, this.min.z).applyMat4(matrix);
        corners[7] = points[7].set(this.max.x, this.max.y, this.max.z).applyMat4(matrix);
      }
      const transFormedBox = new Box3();
      for (let i = 0, cornersCount = corners.length; i < cornersCount; i++) {
        transFormedBox.min.min(corners[i]);
        transFormedBox.max.max(corners[i]);
      }
      return transFormedBox;
    }
  }

  const defaultDOMFrustumMargins = {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0
  };
  class DOMFrustum {
    /**
     * DOMFrustum constructor
     * @param {DOMFrustumParams} parameters - {@link DOMFrustumParams | parameters} used to create our {@link DOMFrustum}
     */
    constructor({
      boundingBox = new Box3(),
      modelViewProjectionMatrix = new Mat4(),
      containerBoundingRect = {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        width: 0,
        height: 0,
        x: 0,
        y: 0
      },
      DOMFrustumMargins = defaultDOMFrustumMargins,
      onReEnterView = () => {
      },
      onLeaveView = () => {
      }
    }) {
      this.boundingBox = boundingBox;
      this.modelViewProjectionMatrix = modelViewProjectionMatrix;
      this.containerBoundingRect = containerBoundingRect;
      this.DOMFrustumMargins = { ...defaultDOMFrustumMargins, ...DOMFrustumMargins };
      this.projectedBoundingRect = {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        width: 0,
        height: 0,
        x: 0,
        y: 0
      };
      this.onReEnterView = onReEnterView;
      this.onLeaveView = onLeaveView;
      this.isIntersecting = false;
      this.shouldUpdate = false;
    }
    /**
     * Set our {@link containerBoundingRect} (called on resize)
     * @param boundingRect - new bounding rectangle
     */
    setContainerBoundingRect(boundingRect) {
      this.containerBoundingRect = boundingRect;
    }
    /**
     * Get our DOM frustum bounding rectangle, i.e. our {@link containerBoundingRect} with the {@link DOMFrustumMargins} applied
     * @readonly
     */
    get DOMFrustumBoundingRect() {
      return {
        top: this.projectedBoundingRect.top - this.DOMFrustumMargins.top,
        right: this.projectedBoundingRect.right + this.DOMFrustumMargins.right,
        bottom: this.projectedBoundingRect.bottom + this.DOMFrustumMargins.bottom,
        left: this.projectedBoundingRect.left - this.DOMFrustumMargins.left
      };
    }
    /**
     * Applies all {@link modelViewProjectionMatrix} transformations to our {@link boundingBox} and then check against intersections
     */
    computeProjectedToDocumentCoords() {
      const projectedBox = this.boundingBox.applyMat4(this.modelViewProjectionMatrix);
      projectedBox.min.x = (projectedBox.min.x + 1) * 0.5;
      projectedBox.max.x = (projectedBox.max.x + 1) * 0.5;
      projectedBox.min.y = 1 - (projectedBox.min.y + 1) * 0.5;
      projectedBox.max.y = 1 - (projectedBox.max.y + 1) * 0.5;
      const { width, height, top, left } = this.containerBoundingRect;
      this.projectedBoundingRect = {
        left: projectedBox.min.x * width + left,
        x: projectedBox.min.x * width + left,
        top: projectedBox.max.y * height + top,
        y: projectedBox.max.y * height + top,
        right: projectedBox.max.x * width + left,
        bottom: projectedBox.min.y * height + top,
        width: projectedBox.max.x * width + left - (projectedBox.min.x * width + left),
        height: projectedBox.min.y * height + top - (projectedBox.max.y * height + top)
      };
      this.intersectsContainer();
    }
    /**
     * Check whether our {@link projectedBoundingRect} intersects with our {@link DOMFrustumBoundingRect}
     */
    intersectsContainer() {
      if (Math.round(this.DOMFrustumBoundingRect.right) <= this.containerBoundingRect.left || Math.round(this.DOMFrustumBoundingRect.left) >= this.containerBoundingRect.left + this.containerBoundingRect.width || Math.round(this.DOMFrustumBoundingRect.bottom) <= this.containerBoundingRect.top || Math.round(this.DOMFrustumBoundingRect.top) >= this.containerBoundingRect.top + this.containerBoundingRect.height) {
        if (this.isIntersecting) {
          this.onLeaveView();
        }
        this.isIntersecting = false;
      } else {
        if (!this.isIntersecting) {
          this.onReEnterView();
        }
        this.isIntersecting = true;
      }
    }
  }

  var __accessCheck$4 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateAdd$4 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateMethod = (obj, member, method) => {
    __accessCheck$4(obj, member, "access private method");
    return method;
  };
  var _setWGSLFragment, setWGSLFragment_fn;
  class Geometry {
    /**
     * Geometry constructor
     * @param parameters - {@link GeometryParams | parameters} used to create our Geometry
     */
    constructor({
      verticesOrder = "ccw",
      topology = "triangle-list",
      instancesCount = 1,
      vertexBuffers = []
    } = {}) {
      /**
       * Set the WGSL code snippet that will be appended to the vertex shader.
       * @private
       */
      __privateAdd$4(this, _setWGSLFragment);
      this.verticesCount = 0;
      this.verticesOrder = verticesOrder;
      this.topology = topology;
      this.instancesCount = instancesCount;
      this.boundingBox = new Box3();
      this.type = "Geometry";
      this.vertexBuffers = [];
      this.addVertexBuffer({
        name: "attributes"
      });
      this.options = {
        verticesOrder,
        instancesCount,
        vertexBuffers,
        topology
      };
      vertexBuffers.forEach((vertexBuffer) => {
        this.addVertexBuffer({
          stepMode: vertexBuffer.stepMode ?? "vertex",
          name: vertexBuffer.name,
          attributes: vertexBuffer.attributes
        });
      });
    }
    /**
     * Get whether this Geometry is ready to compute, i.e. if its first vertex buffer array has not been created yet
     * @readonly
     */
    get shouldCompute() {
      return this.vertexBuffers.length && !this.vertexBuffers[0].array;
    }
    /**
     * Get whether this geometry is ready to draw, i.e. it has been computed and all its vertex buffers have been created
     * @readonly
     */
    get ready() {
      return !this.shouldCompute && !this.vertexBuffers.find((vertexBuffer) => !vertexBuffer.buffer);
    }
    /**
     * Add a vertex buffer to our Geometry, set its attributes and return it
     * @param parameters - vertex buffer {@link VertexBufferParams | parameters}
     * @returns - newly created {@link VertexBuffer | vertex buffer}
     */
    addVertexBuffer({ stepMode = "vertex", name, attributes = [] } = {}) {
      const vertexBuffer = {
        name: name ?? "attributes" + this.vertexBuffers.length,
        stepMode,
        arrayStride: 0,
        bufferLength: 0,
        attributes: [],
        buffer: null
      };
      attributes?.forEach((attribute) => {
        this.setAttribute({
          vertexBuffer,
          ...attribute
        });
      });
      this.vertexBuffers.push(vertexBuffer);
      return vertexBuffer;
    }
    /**
     * Get a vertex buffer by name
     * @param name - our vertex buffer name
     * @returns - found {@link VertexBuffer | vertex buffer} or null if not found
     */
    getVertexBufferByName(name = "") {
      return this.vertexBuffers.find((vertexBuffer) => vertexBuffer.name === name);
    }
    /**
     * Set a vertex buffer attribute
     * @param parameters - attributes {@link VertexBufferAttributeParams | parameters}
     */
    setAttribute({
      vertexBuffer = this.vertexBuffers[0],
      name,
      type = "vec3f",
      bufferFormat = "float32x3",
      size = 3,
      array = new Float32Array(this.verticesCount * size),
      verticesStride = 1
    }) {
      const attributes = vertexBuffer.attributes;
      const attributesLength = attributes.length;
      if (!name)
        name = "geometryAttribute" + attributesLength;
      if (name === "position" && (type !== "vec3f" || bufferFormat !== "float32x3" || size !== 3)) {
        throwWarning(
          `Geometry 'position' attribute must have this exact properties set:
	type: 'vec3f',
	bufferFormat: 'float32x3',
	size: 3`
        );
        type = "vec3f";
        bufferFormat = "float32x3";
        size = 3;
      }
      const attributeCount = array.length / size;
      if (name === "position") {
        this.verticesCount = attributeCount;
      }
      if (vertexBuffer.stepMode === "vertex" && this.verticesCount && this.verticesCount !== attributeCount * verticesStride) {
        throwError(
          `Geometry vertex attribute error. Attribute array of size ${size} must be of length: ${this.verticesCount * size}, current given: ${array.length}. (${this.verticesCount} vertices).`
        );
      } else if (vertexBuffer.stepMode === "instance" && attributeCount !== this.instancesCount) {
        throwError(
          `Geometry instance attribute error. Attribute array of size ${size} must be of length: ${this.instancesCount * size}, current given: ${array.length}. (${this.instancesCount} instances).`
        );
      }
      const attribute = {
        name,
        type,
        bufferFormat,
        size,
        bufferLength: array.length,
        offset: attributesLength ? attributes.reduce((accumulator, currentValue) => {
          return accumulator + currentValue.bufferLength;
        }, 0) : 0,
        bufferOffset: attributesLength ? attributes[attributesLength - 1].bufferOffset + attributes[attributesLength - 1].size * 4 : 0,
        array,
        verticesStride
      };
      vertexBuffer.bufferLength += attribute.bufferLength * verticesStride;
      vertexBuffer.arrayStride += attribute.size;
      vertexBuffer.attributes.push(attribute);
    }
    /**
     * Get an attribute by name
     * @param name - name of the attribute to find
     * @returns - found {@link VertexBufferAttribute | attribute} or null if not found
     */
    getAttributeByName(name) {
      let attribute;
      this.vertexBuffers.forEach((vertexBuffer) => {
        attribute = vertexBuffer.attributes.find((attribute2) => attribute2.name === name);
      });
      return attribute;
    }
    /**
     * Compute a Geometry, which means iterate through all vertex buffers and create the attributes array that will be sent as buffers.
     * Also compute the Geometry bounding box.
     */
    computeGeometry() {
      if (!this.shouldCompute)
        return;
      this.vertexBuffers.forEach((vertexBuffer, index) => {
        if (index === 0) {
          const hasPositionAttribute = vertexBuffer.attributes.find(
            (attribute) => attribute.name === "position"
          );
          if (!hasPositionAttribute) {
            throwError(`Geometry must have a 'position' attribute`);
          }
          if (hasPositionAttribute.type !== "vec3f" || hasPositionAttribute.bufferFormat !== "float32x3" || hasPositionAttribute.size !== 3) {
            throwWarning(
              `Geometry 'position' attribute must have this exact properties set:
	type: 'vec3f',
	bufferFormat: 'float32x3',
	size: 3`
            );
            hasPositionAttribute.type = "vec3f";
            hasPositionAttribute.bufferFormat = "float32x3";
            hasPositionAttribute.size = 3;
          }
        }
        vertexBuffer.array = new Float32Array(vertexBuffer.bufferLength);
        let currentIndex = 0;
        let attributeIndex = 0;
        for (let i = 0; i < vertexBuffer.bufferLength; i += vertexBuffer.arrayStride) {
          for (let j = 0; j < vertexBuffer.attributes.length; j++) {
            const { name, size, array, verticesStride } = vertexBuffer.attributes[j];
            for (let s = 0; s < size; s++) {
              const attributeValue = array[Math.floor(attributeIndex / verticesStride) * size + s];
              vertexBuffer.array[currentIndex] = attributeValue;
              if (name === "position") {
                if (s % 3 === 0) {
                  if (this.boundingBox.min.x > attributeValue)
                    this.boundingBox.min.x = attributeValue;
                  if (this.boundingBox.max.x < attributeValue)
                    this.boundingBox.max.x = attributeValue;
                } else if (s % 3 === 1) {
                  if (this.boundingBox.min.y > attributeValue)
                    this.boundingBox.min.y = attributeValue;
                  if (this.boundingBox.max.y < attributeValue)
                    this.boundingBox.max.y = attributeValue;
                } else if (s % 3 === 2) {
                  if (this.boundingBox.min.z > attributeValue)
                    this.boundingBox.min.z = attributeValue;
                  if (this.boundingBox.max.z < attributeValue)
                    this.boundingBox.max.z = attributeValue;
                }
              }
              currentIndex++;
            }
          }
          attributeIndex++;
        }
      });
      __privateMethod(this, _setWGSLFragment, setWGSLFragment_fn).call(this);
    }
    /** RENDER **/
    /**
     * Set our render pass geometry vertex buffers
     * @param pass - current render pass
     */
    setGeometryBuffers(pass) {
      this.vertexBuffers.forEach((vertexBuffer, index) => {
        pass.setVertexBuffer(index, vertexBuffer.buffer);
      });
    }
    /**
     * Draw our geometry
     * @param pass - current render pass
     */
    drawGeometry(pass) {
      pass.draw(this.verticesCount, this.instancesCount);
    }
    /**
     * Set our vertex buffers then draw the geometry
     * @param pass - current render pass
     */
    render(pass) {
      if (!this.ready)
        return;
      this.setGeometryBuffers(pass);
      this.drawGeometry(pass);
    }
    /**
     * Destroy our geometry vertex buffers
     */
    destroy() {
      this.vertexBuffers.forEach((vertexBuffer) => {
        vertexBuffer.buffer?.destroy();
        vertexBuffer.buffer = null;
      });
    }
  }
  _setWGSLFragment = new WeakSet();
  setWGSLFragment_fn = function() {
    let locationIndex = -1;
    this.wgslStructFragment = `struct Attributes {
	@builtin(vertex_index) vertexIndex : u32,
	@builtin(instance_index) instanceIndex : u32,${this.vertexBuffers.map((vertexBuffer) => {
    return vertexBuffer.attributes.map((attribute) => {
      locationIndex++;
      return `
	@location(${locationIndex}) ${attribute.name}: ${attribute.type}`;
    });
  }).join(",")}
};`;
  };

  class IndexedGeometry extends Geometry {
    /**
     * IndexedGeometry constructor
     * @param parameters - {@link GeometryParams | parameters} used to create our IndexedGeometry
     */
    constructor({
      verticesOrder = "ccw",
      topology = "triangle-list",
      instancesCount = 1,
      vertexBuffers = []
    } = {}) {
      super({ verticesOrder, topology, instancesCount, vertexBuffers });
      this.type = "IndexedGeometry";
    }
    /**
     * Get whether this geometry is ready to draw, i.e. it has been computed, all its vertex buffers have been created and its index buffer has been created as well
     * @readonly
     */
    get ready() {
      return !this.shouldCompute && !this.vertexBuffers.find((vertexBuffer) => !vertexBuffer.buffer) && this.indexBuffer && !!this.indexBuffer.buffer;
    }
    /**
     * If we have less than 65.536 vertices, we should use a Uin16Array to hold our index buffer values
     * @readonly
     */
    get useUint16IndexArray() {
      return this.verticesCount < 256 * 256;
    }
    /**
     * Set our {@link indexBuffer}
     * @param parameters - {@link IndexedGeometryIndexBufferOptions | parameters} used to create our index buffer
     */
    setIndexBuffer({ bufferFormat = "uint32", array = new Uint32Array(0) }) {
      this.indexBuffer = {
        array,
        bufferFormat,
        bufferLength: array.length,
        buffer: null
      };
    }
    /** RENDER **/
    /**
     * First, set our render pass geometry vertex buffers
     * Then, set our render pass geometry index buffer
     * @param pass - current render pass
     */
    setGeometryBuffers(pass) {
      super.setGeometryBuffers(pass);
      pass.setIndexBuffer(this.indexBuffer.buffer, this.indexBuffer.bufferFormat);
    }
    /**
     * Override the parentMesh draw method to draw indexed geometry
     * @param pass - current render pass
     */
    drawGeometry(pass) {
      pass.drawIndexed(this.indexBuffer.bufferLength, this.instancesCount);
    }
    /**
     * Destroy our indexed geometry vertex buffers and index buffer
     */
    destroy() {
      super.destroy();
      this.indexBuffer?.buffer?.destroy();
      this.indexBuffer.buffer = null;
    }
  }

  class PlaneGeometry extends IndexedGeometry {
    /**
     * PlaneGeometry constructor
     * @param parameters - {@link PlaneGeometryParams | parameters} used to create our PlaneGeometry
     */
    constructor({
      widthSegments = 1,
      heightSegments = 1,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "cw", topology, instancesCount, vertexBuffers });
      this.type = "PlaneGeometry";
      widthSegments = Math.floor(widthSegments);
      heightSegments = Math.floor(heightSegments);
      this.definition = {
        id: widthSegments * heightSegments + widthSegments,
        width: widthSegments,
        height: heightSegments,
        count: widthSegments * heightSegments
      };
      const verticesCount = (this.definition.width + 1) * (this.definition.height + 1);
      const attributes = this.getIndexedVerticesAndUVs(verticesCount);
      Object.keys(attributes).forEach((attributeKey) => {
        this.setAttribute(attributes[attributeKey]);
      });
      this.setIndexArray();
    }
    /**
     * Set our PlaneGeometry index array
     */
    setIndexArray() {
      const indexArray = this.useUint16IndexArray ? new Uint16Array(this.definition.count * 6) : new Uint32Array(this.definition.count * 6);
      let index = 0;
      for (let y = 0; y < this.definition.height; y++) {
        for (let x = 0; x < this.definition.width; x++) {
          indexArray[index++] = x + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 1 + y * (this.definition.width + 1);
          indexArray[index++] = this.definition.width + x + 2 + y * (this.definition.width + 1);
        }
      }
      this.setIndexBuffer({
        array: indexArray,
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
    /**
     * Compute the UV and position arrays based on our plane widthSegments and heightSegments values and return the corresponding attributes
     * @param verticesCount - {@link Geometry#verticesCount | number of vertices} of our {@link PlaneGeometry}
     * @returns - our position and uv {@link VertexBufferAttributeParams | attributes}
     */
    getIndexedVerticesAndUVs(verticesCount) {
      const uv = {
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(verticesCount * 2)
      };
      const position = {
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        // nb of triangles * 3 vertices per triangle * 3 coordinates per triangle
        size: 3,
        array: new Float32Array(verticesCount * 3)
      };
      const normal = {
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        // nb of triangles * 3 vertices per triangle * 3 coordinates per triangle
        size: 3,
        array: new Float32Array(verticesCount * 3)
      };
      let positionOffset = 0;
      let normalOffset = 0;
      let uvOffset = 0;
      for (let y = 0; y <= this.definition.height; y++) {
        for (let x = 0; x <= this.definition.width; x++) {
          uv.array[uvOffset++] = x / this.definition.width;
          uv.array[uvOffset++] = 1 - y / this.definition.height;
          position.array[positionOffset++] = x * 2 / this.definition.width - 1;
          position.array[positionOffset++] = y * 2 / this.definition.height - 1;
          position.array[positionOffset++] = 0;
          normal.array[normalOffset++] = 0;
          normal.array[normalOffset++] = 0;
          normal.array[normalOffset++] = 1;
        }
      }
      return { position, uv, normal };
    }
  }

  class RenderMaterial extends Material {
    /**
     * RenderMaterial constructor
     * @param renderer - our renderer class object
     * @param parameters - {@link RenderMaterialParams | parameters} used to create our RenderMaterial
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      const type = "RenderMaterial";
      isRenderer(renderer, type);
      super(renderer, parameters);
      this.type = type;
      this.renderer = renderer;
      const { shaders, label, useAsyncPipeline, uniforms, storages, bindGroups, ...renderingOptions } = parameters;
      if (!shaders.vertex.entryPoint) {
        shaders.vertex.entryPoint = "main";
      }
      if (!shaders.fragment.entryPoint) {
        shaders.fragment.entryPoint = "main";
      }
      this.options = {
        ...this.options,
        shaders,
        rendering: renderingOptions
      };
      this.pipelineEntry = this.renderer.pipelineManager.createRenderPipeline({
        renderer: this.renderer,
        label: this.options.label + " render pipeline",
        shaders: this.options.shaders,
        useAsync: this.options.useAsyncPipeline,
        ...this.options.rendering
      });
      this.attributes = null;
    }
    /**
     * When all bind groups and attributes are created, add them to the {@link RenderPipelineEntry}
     */
    setPipelineEntryProperties() {
      this.pipelineEntry.setPipelineEntryProperties({
        attributes: this.attributes,
        bindGroups: this.bindGroups
      });
    }
    /**
     * Compile the {@link RenderPipelineEntry}
     * @async
     */
    async compilePipelineEntry() {
      await this.pipelineEntry.compilePipelineEntry();
    }
    /**
     * Check if attributes and all bind groups are ready, create them if needed and set {@link RenderPipelineEntry} bind group buffers and compile the pipeline
     * @async
     */
    async compileMaterial() {
      super.compileMaterial();
      if (this.attributes && this.pipelineEntry && this.pipelineEntry.canCompile) {
        this.setPipelineEntryProperties();
        await this.compilePipelineEntry();
      }
    }
    /**
     * Set or reset one of the {@link RenderMaterialRenderingOptions | rendering options}. Should be use with great caution, because if the {@link RenderPipelineEntry#pipeline | render pipeline} has already been compiled, it can cause a pipeline flush.
     * @param renderingOptions - new {@link RenderMaterialRenderingOptions | rendering options} properties to be set
     */
    setRenderingOptions(renderingOptions = {}) {
      const newProperties = Object.keys(renderingOptions).filter(
        (key) => renderingOptions[key] !== this.options.rendering[key]
      );
      this.options.rendering = { ...this.options.rendering, ...renderingOptions };
      if (this.pipelineEntry) {
        this.pipelineEntry.options = { ...this.pipelineEntry.options, ...this.options.rendering };
        if (this.pipelineEntry.ready && newProperties.length) {
          throwWarning(
            `${this.options.label}: the change of rendering options is causing this RenderMaterial pipeline to be flushed and recompiled. This should be avoided. Rendering options that caused this: { ${newProperties.map((key) => `"${key}": ${renderingOptions[key]}`).join(", ")} }`
          );
          this.pipelineEntry.flushPipelineEntry(this.bindGroups);
        }
      }
    }
    /* ATTRIBUTES */
    /**
     * Compute geometry if needed and get all useful geometry properties needed to create attributes buffers
     * @param geometry - the geometry to draw
     */
    setAttributesFromGeometry(geometry) {
      this.attributes = {
        wgslStructFragment: geometry.wgslStructFragment,
        vertexBuffers: geometry.vertexBuffers
      };
    }
    /* BIND GROUPS */
    /**
     * Create the bind groups if they need to be created, but first add Camera bind group if needed
     */
    createBindGroups() {
      const bindGroupStartIndex = this.options.rendering.useProjection ? 1 : 0;
      if (this.texturesBindGroup.shouldCreateBindGroup) {
        this.texturesBindGroup.setIndex(this.bindGroups.length + bindGroupStartIndex);
        this.texturesBindGroup.createBindGroup();
        this.bindGroups.push(this.texturesBindGroup);
      }
      this.inputsBindGroups.forEach((bindGroup) => {
        if (bindGroup.shouldCreateBindGroup) {
          bindGroup.setIndex(this.bindGroups.length + bindGroupStartIndex);
          bindGroup.createBindGroup();
          this.bindGroups.push(bindGroup);
        }
      });
    }
  }

  var default_vsWgsl = (
    /* wgsl */
    `
struct VertexOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
};

@vertex fn main(
  attributes: Attributes,
) -> VertexOutput {
  var vsOutput: VertexOutput;

  vsOutput.position = vec4f(attributes.position, 1.0);
  vsOutput.uv = attributes.uv;
  
  return vsOutput;
}`
  );

  var default_fsWgsl = (
    /* wgsl */
    `
@fragment fn main() -> @location(0) vec4f {
  return vec4(0.0, 0.0, 0.0, 1.0);
}`
  );

  var __accessCheck$3 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$3 = (obj, member, getter) => {
    __accessCheck$3(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$3 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$2 = (obj, member, value, setter) => {
    __accessCheck$3(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  let meshIndex = 0;
  const defaultMeshBaseParams = {
    // geometry
    geometry: new Geometry(),
    // material
    shaders: {},
    autoRender: true,
    useProjection: false,
    // rendering
    cullMode: "back",
    depth: true,
    depthWriteEnabled: true,
    depthCompare: "less",
    transparent: false,
    visible: true,
    renderOrder: 0,
    // textures
    texturesOptions: {}
  };
  function MeshBaseMixin(Base) {
    var _autoRender, _a;
    return _a = class extends Base {
      /**
       * MeshBase constructor
       *
       * @typedef MeshBaseArrayParams
       * @type {array}
       * @property {(Renderer|GPUCurtains)} 0 - our {@link Renderer} class object
       * @property {(string|HTMLElement|null)} 1 - a DOM HTML Element that can be bound to a Mesh
       * @property {MeshBaseParams} 2 - {@link MeshBaseParams | Mesh base parameters}
       *
       * @param {MeshBaseArrayParams} params - our MeshBaseMixin parameters
       */
      constructor(...params) {
        super(
          params[0],
          params[1],
          { ...defaultMeshBaseParams, ...params[2] }
        );
        /** Whether we should add this {@link MeshBase} to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically */
        __privateAdd$3(this, _autoRender, true);
        // callbacks / events
        /** function assigned to the {@link onReady} callback */
        this._onReadyCallback = () => {
        };
        /** function assigned to the {@link onBeforeRender} callback */
        this._onBeforeRenderCallback = () => {
        };
        /** function assigned to the {@link onRender} callback */
        this._onRenderCallback = () => {
        };
        /** function assigned to the {@link onAfterRender} callback */
        this._onAfterRenderCallback = () => {
        };
        /** function assigned to the {@link onAfterResize} callback */
        this._onAfterResizeCallback = () => {
        };
        let renderer = params[0];
        const parameters = { ...defaultMeshBaseParams, ...params[2] };
        this.type = "MeshBase";
        this.uuid = generateUUID();
        Object.defineProperty(this, "index", { value: meshIndex++ });
        renderer = renderer && renderer.renderer || renderer;
        isRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
        this.renderer = renderer;
        const {
          label,
          shaders,
          geometry,
          visible,
          renderOrder,
          renderTarget,
          texturesOptions,
          autoRender,
          ...meshParameters
        } = parameters;
        meshParameters.sampleCount = meshParameters.sampleCount ?? (this.renderer && this.renderer.renderPass) ? this.renderer.renderPass.options.sampleCount : 1;
        this.options = {
          ...this.options ?? {},
          // merge possible lower options?
          label: label ?? "Mesh " + this.renderer.meshes.length,
          shaders,
          texturesOptions,
          ...renderTarget !== void 0 && { renderTarget },
          ...autoRender !== void 0 && { autoRender },
          ...meshParameters.useAsyncPipeline !== void 0 && { useAsyncPipeline: meshParameters.useAsyncPipeline }
        };
        this.renderTarget = renderTarget ?? null;
        this.geometry = geometry;
        if (autoRender !== void 0) {
          __privateSet$2(this, _autoRender, autoRender);
        }
        this.visible = visible;
        this.renderOrder = renderOrder;
        this.ready = false;
        this.userData = {};
        this.computeGeometry();
        this.setMaterial({
          label: this.options.label,
          shaders: this.options.shaders,
          ...{ ...meshParameters, verticesOrder: geometry.verticesOrder, topology: geometry.topology }
        });
        this.addToScene();
      }
      /**
       * Get private #autoRender value
       * @readonly
       */
      get autoRender() {
        return __privateGet$3(this, _autoRender);
      }
      /**
       * Get/set whether a Mesh is ready or not
       * @readonly
       */
      get ready() {
        return this._ready;
      }
      set ready(value) {
        if (value) {
          this._onReadyCallback && this._onReadyCallback();
        }
        this._ready = value;
      }
      /* SCENE */
      /**
       * Add a Mesh to the renderer and the {@link core/scenes/Scene.Scene | Scene}
       */
      addToScene() {
        this.renderer.meshes.push(this);
        this.material?.setRenderingOptions({
          sampleCount: this.renderTarget ? this.renderTarget.renderPass.options.sampleCount : this.renderer.renderPass.options.sampleCount
        });
        if (__privateGet$3(this, _autoRender)) {
          this.renderer.scene.addMesh(this);
        }
      }
      /**
       * Remove a Mesh from the renderer and the {@link core/scenes/Scene.Scene | Scene}
       */
      removeFromScene() {
        if (__privateGet$3(this, _autoRender)) {
          this.renderer.scene.removeMesh(this);
        }
        this.renderer.meshes = this.renderer.meshes.filter((m) => m.uuid !== this.uuid);
      }
      /**
       * Set a new {@link Renderer} for this Mesh
       * @param renderer - new {@link Renderer} to set
       */
      setRenderer(renderer) {
        renderer = renderer && renderer.renderer || renderer;
        if (!renderer || !(renderer.type === "GPURenderer" || renderer.type === "GPUCameraRenderer" || renderer.type === "GPUCurtainsRenderer")) {
          throwWarning(
            `${this.options.label}: Cannot set ${renderer} as a renderer because it is not of a valid Renderer type.`
          );
          return;
        }
        const oldRenderer = this.renderer;
        this.removeFromScene();
        this.renderer = renderer;
        this.addToScene();
        if (!oldRenderer.meshes.length) {
          oldRenderer.onBeforeRenderScene.add(
            (commandEncoder) => {
              oldRenderer.forceClear(commandEncoder);
            },
            { once: true }
          );
        }
      }
      /**
       * Assign or remove a {@link RenderTarget} to this Mesh
       * Since this manipulates the {@link core/scenes/Scene.Scene | Scene} stacks, it can be used to remove a RenderTarget as well.
       * @param renderTarget - the RenderTarget to assign or null if we want to remove the current RenderTarget
       */
      setRenderTarget(renderTarget) {
        if (renderTarget && renderTarget.type !== "RenderTarget") {
          throwWarning(`${this.options.label ?? this.type}: renderTarget is not a RenderTarget: ${renderTarget}`);
          return;
        }
        this.removeFromScene();
        this.renderTarget = renderTarget;
        this.addToScene();
      }
      /**
       * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been lost to prepare everything for restoration.
       * Basically set all the {@link GPUBuffer} to null so they will be reset next time we try to draw the Mesh
       */
      loseContext() {
        this.geometry.vertexBuffers.forEach((vertexBuffer) => {
          vertexBuffer.buffer = null;
        });
        if ("indexBuffer" in this.geometry) {
          this.geometry.indexBuffer.buffer = null;
        }
        this.material.loseContext();
      }
      /**
       * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} has been restored
       */
      restoreContext() {
        this.material.restoreContext();
      }
      /* SHADERS */
      /**
       * Set default shaders if one or both of them are missing
       */
      setShaders() {
        let { shaders } = this.options;
        if (!shaders) {
          shaders = {
            vertex: {
              code: default_vsWgsl,
              entryPoint: "main"
            },
            fragment: {
              code: default_fsWgsl,
              entryPoint: "main"
            }
          };
        } else {
          if (!shaders.vertex || !shaders.vertex.code) {
            shaders.vertex = {
              code: default_vsWgsl,
              entryPoint: "main"
            };
          }
          if (!shaders.fragment || !shaders.fragment.code) {
            shaders.fragment = {
              code: default_fsWgsl,
              entryPoint: "main"
            };
          }
        }
      }
      /* GEOMETRY */
      /**
       * Compute the Mesh geometry if needed
       */
      computeGeometry() {
        if (this.geometry.shouldCompute) {
          this.geometry.computeGeometry();
        }
      }
      /**
       * Create the Mesh Geometry vertex and index buffers if needed
       */
      createGeometryBuffers() {
        if (!this.geometry.ready) {
          this.geometry.vertexBuffers.forEach((vertexBuffer) => {
            if (!vertexBuffer.buffer) {
              vertexBuffer.buffer = this.renderer.createBuffer({
                label: this.options.label + " geometry: " + vertexBuffer.name + " buffer",
                size: vertexBuffer.array.byteLength,
                usage: GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST
              });
              this.renderer.queueWriteBuffer(vertexBuffer.buffer, 0, vertexBuffer.array);
            }
          });
          if ("indexBuffer" in this.geometry && this.geometry.indexBuffer && !this.geometry.indexBuffer.buffer) {
            this.geometry.indexBuffer.buffer = this.renderer.createBuffer({
              label: this.options.label + " geometry: index buffer",
              size: this.geometry.indexBuffer.array.byteLength,
              usage: GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST
            });
            this.renderer.queueWriteBuffer(this.geometry.indexBuffer.buffer, 0, this.geometry.indexBuffer.array);
          }
        }
      }
      /**
       * Set our Mesh geometry: create buffers and add attributes to material
       */
      setGeometry() {
        if (this.geometry && this.renderer.ready) {
          this.createGeometryBuffers();
          this.setMaterialGeometryAttributes();
        }
      }
      /* MATERIAL */
      /**
       * Set a Mesh transparent property, then set its material
       * @param meshParameters - {@link RenderMaterialParams | RenderMaterial parameters}
       */
      setMaterial(meshParameters) {
        this.transparent = meshParameters.transparent;
        this.setShaders();
        this.material = new RenderMaterial(this.renderer, meshParameters);
        this.material.options.textures?.filter((texture) => texture instanceof Texture).forEach((texture) => this.onTextureAdded(texture));
      }
      /**
       * Set Mesh material attributes
       */
      setMaterialGeometryAttributes() {
        if (this.material && !this.material.attributes) {
          this.material.setAttributesFromGeometry(this.geometry);
        }
      }
      /* TEXTURES */
      /**
       * Get our {@link RenderMaterial#textures | RenderMaterial textures array}
       * @readonly
       */
      get textures() {
        return this.material?.textures || [];
      }
      /**
       * Get our {@link RenderMaterial#renderTextures | RenderMaterial render textures array}
       * @readonly
       */
      get renderTextures() {
        return this.material?.renderTextures || [];
      }
      /**
       * Create a new {@link Texture}
       * @param options - {@link TextureParams | Texture parameters}
       * @returns - newly created {@link Texture}
       */
      createTexture(options) {
        if (!options.name) {
          options.name = "texture" + this.textures.length;
        }
        if (!options.label) {
          options.label = this.options.label + " " + options.name;
        }
        const texture = new Texture(this.renderer, { ...options, ...this.options.texturesOptions });
        this.addTexture(texture);
        return texture;
      }
      /**
       * Add a {@link Texture}
       * @param texture - {@link Texture} to add
       */
      addTexture(texture) {
        this.material.addTexture(texture);
        this.onTextureAdded(texture);
      }
      /**
       * Callback run when a new {@link Texture} has been added
       * @param texture - newly created Texture
       */
      onTextureAdded(texture) {
        texture.parentMesh = this;
      }
      /**
       * Create a new {@link RenderTexture}
       * @param  options - {@link RenderTextureParams | RenderTexture parameters}
       * @returns - newly created {@link RenderTexture}
       */
      createRenderTexture(options) {
        if (!options.name) {
          options.name = "renderTexture" + this.renderTextures.length;
        }
        const renderTexture = new RenderTexture(this.renderer, options);
        this.addRenderTexture(renderTexture);
        return renderTexture;
      }
      /**
       * Add a {@link RenderTexture}
       * @param renderTexture - {@link RenderTexture} to add
       */
      addRenderTexture(renderTexture) {
        this.material.addTexture(renderTexture);
      }
      /* BINDINGS */
      /**
       * Get the current {@link RenderMaterial} uniforms
       * @readonly
       */
      get uniforms() {
        return this.material?.uniforms;
      }
      /**
       * Get the current {@link RenderMaterial} storages
       * @readonly
       */
      get storages() {
        return this.material?.storages;
      }
      /* RESIZE */
      /**
       * Resize the Mesh's render textures only if they're not storage textures
       */
      resizeRenderTextures() {
        this.renderTextures?.filter((renderTexture) => renderTexture.options.usage !== "storageTexture").forEach((renderTexture) => renderTexture.resize());
      }
      /**
       * Resize the Mesh's textures
       * @param boundingRect
       */
      resize(boundingRect) {
        this.resizeRenderTextures();
        if (super.resize) {
          super.resize(boundingRect);
        }
        this.textures?.forEach((texture) => {
          texture.resize();
        });
        this._onAfterResizeCallback && this._onAfterResizeCallback();
      }
      /* EVENTS */
      /**
       * Assign a callback function to _onReadyCallback
       * @param callback - callback to run when {@link MeshBase} is ready
       * @returns - our Mesh
       */
      onReady(callback) {
        if (callback) {
          this._onReadyCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onBeforeRenderCallback
       * @param callback - callback to run just before {@link MeshBase} will be rendered
       * @returns - our Mesh
       */
      onBeforeRender(callback) {
        if (callback) {
          this._onBeforeRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onRenderCallback
       * @param callback - callback to run when {@link MeshBase} is rendered
       * @returns - our Mesh
       */
      onRender(callback) {
        if (callback) {
          this._onRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onAfterRenderCallback
       * @param callback - callback to run just after {@link MeshBase} has been rendered
       * @returns - our Mesh
       */
      onAfterRender(callback) {
        if (callback) {
          this._onAfterRenderCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onBeforeRenderCallback
       * @param callback - callback to run just after {@link MeshBase} has been resized
       * @returns - our Mesh
       */
      onAfterResize(callback) {
        if (callback) {
          this._onAfterResizeCallback = callback;
        }
        return this;
      }
      /* RENDER */
      /**
       * Called before rendering the Mesh
       * Set the geometry if needed (create buffers and add attributes to the {@link RenderMaterial})
       * Then executes {@link RenderMaterial#onBeforeRender}: create its bind groups and pipeline if needed and eventually update its struct
       */
      onBeforeRenderPass() {
        if (!this.renderer.ready)
          return;
        if (this.material && this.material.ready && this.geometry && this.geometry.ready && !this.ready) {
          this.ready = true;
        }
        this.setGeometry();
        this._onBeforeRenderCallback && this._onBeforeRenderCallback();
        this.material.onBeforeRender();
      }
      /**
       * Render our {@link MeshBase} if the {@link RenderMaterial} is ready
       * @param pass - current render pass encoder
       */
      onRenderPass(pass) {
        if (!this.material.ready)
          return;
        this._onRenderCallback && this._onRenderCallback();
        this.material.render(pass);
        this.geometry.render(pass);
      }
      /**
       * Called after having rendered the Mesh
       */
      onAfterRenderPass() {
        this._onAfterRenderCallback && this._onAfterRenderCallback();
      }
      /**
       * Render our Mesh
       * - Execute {@link onBeforeRenderPass}
       * - Stop here if {@link Renderer} is not ready or Mesh is not {@link visible}
       * - Execute super render call if it exists
       * - {@link onRenderPass | render} our {@link material} and {@link geometry}
       * - Execute {@link onAfterRenderPass}
       * @param pass - current render pass encoder
       */
      render(pass) {
        this.onBeforeRenderPass();
        if (!this.renderer.ready || !this.visible)
          return;
        if (super.render) {
          super.render();
        }
        !this.renderer.production && pass.pushDebugGroup(this.options.label);
        this.onRenderPass(pass);
        !this.renderer.production && pass.popDebugGroup();
        this.onAfterRenderPass();
      }
      /* DESTROY */
      /**
       * Remove the Mesh from the {@link core/scenes/Scene.Scene | Scene} and destroy it
       */
      remove() {
        this.removeFromScene();
        this.destroy();
        if (!this.renderer.meshes.length) {
          this.renderer.onBeforeRenderScene.add(
            (commandEncoder) => {
              this.renderer.forceClear(commandEncoder);
            },
            { once: true }
          );
        }
      }
      /**
       * Destroy the Mesh
       */
      destroy() {
        if (super.destroy) {
          super.destroy();
        }
        this.material?.destroy();
        this.geometry.vertexBuffers.forEach((vertexBuffer) => {
          this.renderer.removeBuffer(
            vertexBuffer.buffer,
            this.options.label + " geometry: " + vertexBuffer.name + " buffer"
          );
        });
        if ("indexBuffer" in this.geometry) {
          this.renderer.removeBuffer(this.geometry.indexBuffer.buffer);
        }
        this.geometry?.destroy();
      }
    }, _autoRender = new WeakMap(), _a;
  }

  class CacheManager {
    /**
     * CacheManager constructor
     */
    constructor() {
      this.planeGeometries = [];
    }
    /**
     * Check if a given {@link PlaneGeometry} is already cached based on its {@link PlaneGeometry#definition.id | definition id}
     * @param planeGeometry - {@link PlaneGeometry} to check
     * @returns - {@link PlaneGeometry} found or null if not found
     */
    getPlaneGeometry(planeGeometry) {
      return this.planeGeometries.find((element) => element.definition.id === planeGeometry.definition.id);
    }
    /**
     * Check if a given {@link PlaneGeometry} is already cached based on its {@link PlaneGeometry#definition | definition id}
     * @param planeGeometryID - {@link PlaneGeometry#definition.id | PlaneGeometry definition id}
     * @returns - {@link PlaneGeometry} found or null if not found
     */
    getPlaneGeometryByID(planeGeometryID) {
      return this.planeGeometries.find((element) => element.definition.id === planeGeometryID);
    }
    /**
     * Add a {@link PlaneGeometry} to our cache {@link planeGeometries} array
     * @param planeGeometry
     */
    addPlaneGeometry(planeGeometry) {
      this.planeGeometries.push(planeGeometry);
    }
    /**
     * Destroy our {@link CacheManager}
     */
    destroy() {
      this.planeGeometries = [];
    }
  }
  const cacheManager = new CacheManager();

  class FullscreenPlane extends MeshBaseMixin(class {
  }) {
    /**
     * FullscreenPlane constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link FullscreenPlane}
     * @param parameters - {@link MeshBaseRenderParams | parameters} use to create this {@link FullscreenPlane}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " FullscreenQuadMesh" : "FullscreenQuadMesh");
      let geometry = cacheManager.getPlaneGeometryByID(2);
      if (!geometry) {
        geometry = new PlaneGeometry({ widthSegments: 1, heightSegments: 1 });
        cacheManager.addPlaneGeometry(geometry);
      }
      super(renderer, null, { geometry, ...parameters });
      this.size = {
        document: {
          width: this.renderer.boundingRect.width,
          height: this.renderer.boundingRect.height,
          top: this.renderer.boundingRect.top,
          left: this.renderer.boundingRect.left
        }
      };
      this.type = "FullscreenQuadMesh";
    }
    /**
     * Resize our {@link FullscreenPlane}
     * @param boundingRect - the new bounding rectangle
     */
    resize(boundingRect = null) {
      this.size.document = boundingRect ?? this.renderer.boundingRect;
      super.resize(boundingRect);
    }
    /**
     * Take the pointer {@link Vec2 | vector} position relative to the document and returns it relative to our {@link FullscreenPlane}
     * It ranges from -1 to 1 on both axis
     * @param mouseCoords - pointer {@link Vec2 | vector} coordinates
     * @returns - the mapped {@link Vec2 | vector} coordinates in the [-1, 1] range
     */
    mouseToPlaneCoords(mouseCoords = new Vec2()) {
      return new Vec2(
        (mouseCoords.x - this.size.document.left) / this.size.document.width * 2 - 1,
        1 - (mouseCoords.y - this.size.document.top) / this.size.document.height * 2
      );
    }
  }

  class ProjectedObject3D extends Object3D {
    /**
     * ProjectedObject3D constructor
     * @param renderer - {@link CameraRenderer} object or {@link GPUCurtains} class object used to create this {@link ProjectedObject3D}
     */
    constructor(renderer) {
      super();
      renderer = renderer && renderer.renderer || renderer;
      isCameraRenderer(renderer, "ProjectedObject3D");
      this.camera = renderer.camera;
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyPosition() {
      super.applyPosition();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyRotation() {
      super.applyRotation();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyScale() {
      super.applyScale();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell our projection matrix stack to update
     */
    applyTransformOrigin() {
      super.applyTransformOrigin();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Set our transform and projection matrices
     */
    setMatrices() {
      super.setMatrices();
      this.matrices = {
        ...this.matrices,
        modelView: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.modelViewMatrix.multiplyMatrices(this.viewMatrix, this.worldMatrix);
          }
        },
        modelViewProjection: {
          matrix: new Mat4(),
          shouldUpdate: false,
          onUpdate: () => {
            this.modelViewProjectionMatrix.multiplyMatrices(this.projectionMatrix, this.modelViewMatrix);
          }
        }
      };
    }
    /**
     * Get our {@link modelViewMatrix | model view matrix}
     */
    get modelViewMatrix() {
      return this.matrices.modelView.matrix;
    }
    /**
     * Set our {@link modelViewMatrix | model view matrix}
     * @param value - new {@link modelViewMatrix | model view matrix}
     */
    set modelViewMatrix(value) {
      this.matrices.modelView.matrix = value;
      this.matrices.modelView.shouldUpdate = true;
    }
    /**
     * Get our {@link Camera#viewMatrix | camera view matrix}
     * @readonly
     */
    get viewMatrix() {
      return this.camera.viewMatrix;
    }
    /**
     * Get our {@link Camera#projectionMatrix | camera projection matrix}
     * @readonly
     */
    get projectionMatrix() {
      return this.camera.projectionMatrix;
    }
    /**
     * Get our {@link modelViewProjectionMatrix | model view projection matrix}
     */
    get modelViewProjectionMatrix() {
      return this.matrices.modelViewProjection.matrix;
    }
    /**
     * Set our {@link modelViewProjectionMatrix | model view projection matrix}
     * @param value - new {@link modelViewProjectionMatrix | model view projection matrix}s
     */
    set modelViewProjectionMatrix(value) {
      this.matrices.modelViewProjection.matrix = value;
      this.matrices.modelViewProjection.shouldUpdate = true;
    }
    /**
     * Set our projection matrices shouldUpdate flags to true (tell them to update)
     */
    shouldUpdateProjectionMatrixStack() {
      this.matrices.modelView.shouldUpdate = true;
      this.matrices.modelViewProjection.shouldUpdate = true;
    }
    /**
     * When the world matrix update, tell our projection matrix to update as well
     */
    shouldUpdateWorldMatrix() {
      super.shouldUpdateWorldMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Tell all our matrices to update
     */
    shouldUpdateMatrixStack() {
      this.shouldUpdateModelMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
  }

  var default_projected_vsWgsl = (
    /* wgsl */
    `
struct VertexOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
  @location(1) normal: vec3f,
};

@vertex fn main(
  attributes: Attributes,
) -> VertexOutput {
  var vsOutput: VertexOutput;

  vsOutput.position = getOutputPosition(attributes.position);
  vsOutput.uv = attributes.uv;
  vsOutput.normal = attributes.normal;
  
  return vsOutput;
}`
  );

  var default_normal_fsWgsl = (
    /* wgsl */
    `
struct VSOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
  @location(1) normal: vec3f,
};

@fragment fn main(fsInput: VSOutput) -> @location(0) vec4f {
  // normals
  return vec4(normalize(fsInput.normal) * 0.5 + 0.5, 1.0);
}`
  );

  const defaultProjectedMeshParams = {
    // frustum culling and visibility
    frustumCulled: true,
    DOMFrustumMargins: {
      top: 0,
      right: 0,
      bottom: 0,
      left: 0
    }
  };
  function ProjectedMeshBaseMixin(Base) {
    return class ProjectedMeshBase extends MeshBaseMixin(Base) {
      /**
       * ProjectedMeshBase constructor
       *
       * @typedef MeshBaseArrayParams
       * @type {array}
       * @property {(CameraRenderer|GPUCurtains)} 0 - our renderer class object
       * @property {(string|HTMLElement|null)} 1 - the DOM HTML Element that can be bound to a Mesh
       * @property {ProjectedMeshParameters} 2 - Projected Mesh parameters
       *
       * @param {MeshBaseArrayParams} params - our MeshBaseMixin parameters
       */
      constructor(...params) {
        super(
          params[0],
          params[1],
          { ...defaultProjectedMeshParams, ...params[2], ...{ useProjection: true } }
        );
        // callbacks / events
        /** function assigned to the {@link onReEnterView} callback */
        this._onReEnterViewCallback = () => {
        };
        /** function assigned to the {@link onLeaveView} callback */
        this._onLeaveViewCallback = () => {
        };
        let renderer = params[0];
        const parameters = {
          ...defaultProjectedMeshParams,
          ...params[2],
          ...{ useProjection: true }
        };
        this.type = "MeshTransformed";
        renderer = renderer && renderer.renderer || renderer;
        isCameraRenderer(renderer, parameters.label ? parameters.label + " " + this.type : this.type);
        this.renderer = renderer;
        const { geometry, frustumCulled, DOMFrustumMargins } = parameters;
        this.options = {
          ...this.options ?? {},
          // merge possible lower options?
          frustumCulled,
          DOMFrustumMargins
        };
        this.setDOMFrustum();
        this.geometry = geometry;
        this.shouldUpdateMatrixStack();
      }
      /* SHADERS */
      /**
       * Set default shaders if one or both of them are missing
       */
      setShaders() {
        let { shaders } = this.options;
        if (!shaders) {
          shaders = {
            vertex: {
              code: default_projected_vsWgsl,
              entryPoint: "main"
            },
            fragment: {
              code: default_normal_fsWgsl,
              entryPoint: "main"
            }
          };
        } else {
          if (!shaders.vertex || !shaders.vertex.code) {
            shaders.vertex = {
              code: default_projected_vsWgsl,
              entryPoint: "main"
            };
          }
          if (!shaders.fragment || !shaders.fragment.code) {
            shaders.fragment = {
              code: default_normal_fsWgsl,
              entryPoint: "main"
            };
          }
        }
      }
      /* GEOMETRY */
      /**
       * Set the Mesh frustum culling
       */
      setDOMFrustum() {
        this.domFrustum = new DOMFrustum({
          boundingBox: this.geometry.boundingBox,
          modelViewProjectionMatrix: this.modelViewProjectionMatrix,
          containerBoundingRect: this.renderer.boundingRect,
          DOMFrustumMargins: this.options.DOMFrustumMargins,
          onReEnterView: () => {
            this._onReEnterViewCallback && this._onReEnterViewCallback();
          },
          onLeaveView: () => {
            this._onLeaveViewCallback && this._onLeaveViewCallback();
          }
        });
        this.DOMFrustumMargins = this.domFrustum.DOMFrustumMargins;
        this.frustumCulled = this.options.frustumCulled;
        this.domFrustum.shouldUpdate = this.frustumCulled;
      }
      /* MATERIAL */
      /**
       * Set a Mesh matrices uniforms inputs then call {@link MeshBaseClass} super method
       * @param meshParameters - {@link RenderMaterialParams | RenderMaterial parameters}
       */
      setMaterial(meshParameters) {
        const matricesUniforms = {
          label: "Matrices",
          struct: {
            model: {
              name: "model",
              type: "mat4x4f",
              value: this.modelMatrix
            },
            world: {
              name: "world",
              type: "mat4x4f",
              value: this.worldMatrix
            },
            modelView: {
              // model view matrix (world matrix multiplied by camera view matrix)
              name: "modelView",
              type: "mat4x4f",
              value: this.modelViewMatrix
            },
            modelViewProjection: {
              name: "modelViewProjection",
              type: "mat4x4f",
              value: this.modelViewProjectionMatrix
            }
          }
        };
        if (!meshParameters.uniforms)
          meshParameters.uniforms = {};
        meshParameters.uniforms.matrices = matricesUniforms;
        super.setMaterial(meshParameters);
      }
      /* SIZE & TRANSFORMS */
      /**
       * Resize our {@link ProjectedMeshBaseClass}
       * @param boundingRect - the new bounding rectangle
       */
      resize(boundingRect) {
        if (this.domFrustum)
          this.domFrustum.setContainerBoundingRect(this.renderer.boundingRect);
        super.resize(boundingRect);
      }
      /**
       * Apply scale and resize textures
       */
      applyScale() {
        super.applyScale();
        this.textures.forEach((texture) => texture.resize());
      }
      /**
       * Get our {@link DOMFrustum} projected bounding rectangle
       * @readonly
       */
      get projectedBoundingRect() {
        return this.domFrustum?.projectedBoundingRect;
      }
      /**
       * At least one of the matrix has been updated, update according uniforms and frustum
       */
      onAfterMatrixStackUpdate() {
        if (this.material) {
          this.material.shouldUpdateInputsBindings("matrices");
        }
        if (this.domFrustum)
          this.domFrustum.shouldUpdate = true;
      }
      /* EVENTS */
      /**
       * Assign a callback function to _onReEnterViewCallback
       * @param callback - callback to run when {@link ProjectedMeshBaseClass} is reentering the view frustum
       * @returns - our Mesh
       */
      onReEnterView(callback) {
        if (callback) {
          this._onReEnterViewCallback = callback;
        }
        return this;
      }
      /**
       * Assign a callback function to _onLeaveViewCallback
       * @param callback - callback to run when {@link ProjectedMeshBaseClass} is leaving the view frustum
       * @returns - our Mesh
       */
      onLeaveView(callback) {
        if (callback) {
          this._onLeaveViewCallback = callback;
        }
        return this;
      }
      /* RENDER */
      /**
       * Called before rendering the Mesh to update matrices and {@link DOMFrustum}.
       * First, we update our matrices to have fresh results. It eventually calls onAfterMatrixStackUpdate() if at least one matrix has been updated.
       * Then we check if we need to update the {@link DOMFrustum} projected bounding rectangle.
       * Finally we call {@link MeshBaseClass#onBeforeRenderPass | Mesh base onBeforeRenderPass} super
       */
      onBeforeRenderPass() {
        this.updateMatrixStack();
        if (this.domFrustum && this.domFrustum.shouldUpdate && this.frustumCulled) {
          this.domFrustum.computeProjectedToDocumentCoords();
          this.domFrustum.shouldUpdate = false;
        }
        super.onBeforeRenderPass();
      }
      /**
       * Only render the Mesh if it is in view frustum.
       * Since render() is actually called before onRenderPass(), we are sure to have fresh frustum bounding rectangle values here.
       * @param pass - current render pass
       */
      onRenderPass(pass) {
        if (!this.material.ready)
          return;
        this._onRenderCallback && this._onRenderCallback();
        if (this.domFrustum && this.domFrustum.isIntersecting || !this.frustumCulled) {
          this.material.render(pass);
          this.geometry.render(pass);
        }
      }
    };
  }

  class Mesh extends ProjectedMeshBaseMixin(ProjectedObject3D) {
    /**
     * Mesh constructor
     * @param renderer - {@link CameraRenderer} object or {@link GPUCurtains} class object used to create this {@link Mesh}
     * @param parameters - {@link MeshBaseParams | parameters} use to create this {@link Mesh}
     */
    constructor(renderer, parameters) {
      renderer = renderer && renderer.renderer || renderer;
      isCameraRenderer(renderer, parameters.label ? parameters.label + " Mesh" : "Mesh");
      super(renderer, null, parameters);
      this.type = "Mesh";
    }
  }

  let pipelineId = 0;
  class PipelineEntry {
    /**
     * PipelineEntry constructor
     * @param parameters - {@link PipelineEntryParams | parameters} used to create this {@link PipelineEntry}
     */
    constructor(parameters) {
      this.type = "PipelineEntry";
      let { renderer } = parameters;
      const { label, shaders, useAsync } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, label ? label + " " + this.type : this.type);
      this.renderer = renderer;
      Object.defineProperty(this, "index", { value: pipelineId++ });
      this.layout = null;
      this.pipeline = null;
      this.status = {
        compiling: false,
        compiled: false,
        error: null
      };
      this.options = {
        label,
        shaders,
        useAsync: useAsync !== void 0 ? useAsync : true
      };
    }
    /**
     * Get whether the {@link pipeline} is ready, i.e. successfully compiled
     * @readonly
     */
    get ready() {
      return !this.status.compiling && this.status.compiled && !this.status.error;
    }
    /**
     * Get whether the {@link pipeline} is ready to be compiled, i.e. we have not already tried to compile it, and it's not currently compiling neither
     * @readonly
     */
    get canCompile() {
      return !this.status.compiling && !this.status.compiled && !this.status.error;
    }
    /**
     * Set our {@link PipelineEntry#bindGroups | pipeline entry bind groups}
     * @param bindGroups - {@link core/materials/Material.Material#bindGroups | bind groups} to use with this {@link PipelineEntry}
     */
    setPipelineEntryBindGroups(bindGroups) {
      this.bindGroups = bindGroups;
    }
    /* SHADERS */
    /**
     * Create a {@link GPUShaderModule}
     * @param parameters - Parameters used
     * @param parameters.code - patched WGSL code string
     * @param parameters.type - {@link MaterialShadersType | shader type}
     * @returns - compiled {@link GPUShaderModule} if successful
     */
    createShaderModule({ code = "", type = "vertex" }) {
      const shaderModule = this.renderer.createShaderModule({
        label: this.options.label + ": " + type + "Shader module",
        code
      });
      if ("getCompilationInfo" in shaderModule && !this.renderer.production) {
        shaderModule.getCompilationInfo().then((compilationInfo) => {
          for (const message of compilationInfo.messages) {
            let formattedMessage = "";
            if (message.lineNum) {
              formattedMessage += `Line ${message.lineNum}:${message.linePos} - ${code.substring(
              message.offset,
              message.offset + message.length
            )}
`;
            }
            formattedMessage += message.message;
            switch (message.type) {
              case "error":
                console.error(`${this.options.label} compilation error:
${formattedMessage}`);
                break;
              case "warning":
                console.warn(`${this.options.label} compilation warning:
${formattedMessage}`);
                break;
              case "info":
                console.log(`${this.options.label} compilation information:
${formattedMessage}`);
                break;
            }
          }
        });
      }
      return shaderModule;
    }
    /* SETUP */
    /**
     * Create the {@link PipelineEntry} shaders
     */
    createShaders() {
    }
    /**
     * Create the pipeline entry {@link layout}
     */
    createPipelineLayout() {
      this.layout = this.renderer.createPipelineLayout({
        label: this.options.label + " layout",
        bindGroupLayouts: this.bindGroups.map((bindGroup) => bindGroup.bindGroupLayout)
      });
    }
    /**
     * Create the {@link PipelineEntry} descriptor
     */
    createPipelineDescriptor() {
    }
    /**
     * Flush a {@link PipelineEntry}, i.e. reset its {@link bindGroups | bind groups}, {@link layout} and descriptor and recompile the {@link pipeline}
     * Used when one of the bind group or rendering property has changed
     * @param newBindGroups - new {@link bindGroups | bind groups} in case they have changed
     */
    flushPipelineEntry(newBindGroups = []) {
      this.status.compiling = false;
      this.status.compiled = false;
      this.status.error = null;
      this.setPipelineEntryBindGroups(newBindGroups);
      this.compilePipelineEntry();
    }
    /**
     * Set up a {@link pipeline} by creating the shaders, the {@link layout} and the descriptor
     */
    compilePipelineEntry() {
      this.status.compiling = true;
      this.createShaders();
      this.createPipelineLayout();
      this.createPipelineDescriptor();
    }
  }

  var get_output_position = (
    /* wgsl */
    `
fn getOutputPosition(position: vec3f) -> vec4f {
  return matrices.modelViewProjection * vec4f(position, 1.0);
}`
  );

  var get_uv_cover = (
    /* wgsl */
    `
fn getUVCover(uv: vec2f, textureMatrix: mat4x4f) -> vec2f {
  return (textureMatrix * vec4f(uv, 0.0, 1.0)).xy;
}`
  );

  var get_vertex_to_uv_coords = (
    /* wgsl */
    `
fn getVertex2DToUVCoords(vertex: vec2f) -> vec2f {
  return vec2(
    vertex.x * 0.5 + 0.5,
    0.5 - vertex.y * 0.5
  );
}

fn getVertex3DToUVCoords(vertex: vec3f) -> vec2f {
  return vec2(
    vertex.x * 0.5 + 0.5,
    0.5 - vertex.y * 0.5
  );
}
`
  );

  const ShaderChunks = {
    /** WGSL code chunks added to the vertex shader */
    vertex: {
      /** Applies given texture matrix to given uv coordinates */
      get_uv_cover
    },
    /** WGSL code chunks added to the fragment shader */
    fragment: {
      /** Applies given texture matrix to given uv coordinates */
      get_uv_cover,
      /** Convert vertex position to uv coordinates */
      get_vertex_to_uv_coords
    }
  };
  const ProjectedShaderChunks = {
    /** WGSL code chunks added to the vertex shader */
    vertex: {
      /** Get output vec4f position vector by applying model view projection matrix to vec3f attribute position vector */
      get_output_position
    },
    /** WGSL code chunks added to the fragment shader */
    fragment: {}
  };

  class RenderPipelineEntry extends PipelineEntry {
    /**
     * RenderPipelineEntry constructor
     * @param parameters - {@link RenderPipelineEntryParams | parameters} used to create this {@link RenderPipelineEntry}
     */
    constructor(parameters) {
      let { renderer } = parameters;
      const { label, ...renderingOptions } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      const type = "RenderPipelineEntry";
      isRenderer(renderer, label ? label + " " + type : type);
      super(parameters);
      this.type = type;
      this.shaders = {
        vertex: {
          head: "",
          code: "",
          module: null
        },
        fragment: {
          head: "",
          code: "",
          module: null
        },
        full: {
          head: "",
          code: "",
          module: null
        }
      };
      this.descriptor = null;
      this.options = {
        ...this.options,
        ...renderingOptions
      };
    }
    // TODO! need to chose whether we should silently add the camera bind group here
    // or explicitly in the RenderMaterial class createBindGroups() method
    /**
     * Merge our {@link bindGroups | pipeline entry bind groups} with the {@link CameraRenderer#cameraBindGroup | camera bind group} if needed and set them
     * @param bindGroups - {@link core/materials/RenderMaterial.RenderMaterial#bindGroups | bind groups} to use with this {@link RenderPipelineEntry}
     */
    setPipelineEntryBindGroups(bindGroups) {
      this.bindGroups = "cameraBindGroup" in this.renderer && this.options.useProjection ? [this.renderer.cameraBindGroup, ...bindGroups] : bindGroups;
    }
    /**
     * Set {@link RenderPipelineEntry} properties (in this case the {@link bindGroups | bind groups} and {@link attributes})
     * @param parameters - the {@link core/materials/RenderMaterial.RenderMaterial#bindGroups | bind groups} and {@link core/materials/RenderMaterial.RenderMaterial#attributes | attributes} to use
     */
    setPipelineEntryProperties(parameters) {
      const { attributes, bindGroups } = parameters;
      this.attributes = attributes;
      this.setPipelineEntryBindGroups(bindGroups);
    }
    /* SHADERS */
    /**
     * Patch the shaders by appending all the necessary shader chunks, {@link bindGroups | bind groups}) and {@link attributes} WGSL code fragments to the given {@link PipelineEntryParams#shaders | parameter shader code}
     */
    patchShaders() {
      this.shaders.vertex.head = "";
      this.shaders.vertex.code = "";
      this.shaders.fragment.head = "";
      this.shaders.fragment.code = "";
      this.shaders.full.head = "";
      this.shaders.full.code = "";
      for (const chunk in ShaderChunks.vertex) {
        this.shaders.vertex.head = `${ShaderChunks.vertex[chunk]}
${this.shaders.vertex.head}`;
        this.shaders.full.head = `${ShaderChunks.vertex[chunk]}
${this.shaders.full.head}`;
      }
      for (const chunk in ShaderChunks.fragment) {
        this.shaders.fragment.head = `${ShaderChunks.fragment[chunk]}
${this.shaders.fragment.head}`;
        if (this.shaders.full.head.indexOf(ShaderChunks.fragment[chunk]) === -1) {
          this.shaders.full.head = `${ShaderChunks.fragment[chunk]}
${this.shaders.full.head}`;
        }
      }
      if (this.options.useProjection) {
        for (const chunk in ProjectedShaderChunks.vertex) {
          this.shaders.vertex.head = `${ProjectedShaderChunks.vertex[chunk]}
${this.shaders.vertex.head}`;
          this.shaders.full.head = `${ProjectedShaderChunks.vertex[chunk]}
${this.shaders.full.head}`;
        }
        for (const chunk in ProjectedShaderChunks.fragment) {
          this.shaders.fragment.head = `${ProjectedShaderChunks.fragment[chunk]}
${this.shaders.fragment.head}`;
          if (this.shaders.full.head.indexOf(ProjectedShaderChunks.fragment[chunk]) === -1) {
            this.shaders.full.head = `${ProjectedShaderChunks.fragment[chunk]}
${this.shaders.full.head}`;
          }
        }
      }
      const groupsBindings = [];
      this.bindGroups.forEach((bindGroup) => {
        let bindIndex = 0;
        bindGroup.bindings.forEach((binding, bindingIndex) => {
          binding.wgslGroupFragment.forEach((groupFragment, groupFragmentIndex) => {
            groupsBindings.push({
              groupIndex: bindGroup.index,
              visibility: binding.visibility,
              bindIndex,
              wgslStructFragment: binding.wgslStructFragment,
              wgslGroupFragment: groupFragment,
              newLine: bindingIndex === bindGroup.bindings.length - 1 && groupFragmentIndex === binding.wgslGroupFragment.length - 1
            });
            bindIndex++;
          });
        });
      });
      groupsBindings.forEach((groupBinding) => {
        if (groupBinding.visibility === GPUShaderStage.VERTEX || groupBinding.visibility === (GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE)) {
          if (groupBinding.wgslStructFragment && this.shaders.vertex.head.indexOf(groupBinding.wgslStructFragment) === -1) {
            this.shaders.vertex.head = `
${groupBinding.wgslStructFragment}
${this.shaders.vertex.head}`;
          }
          if (this.shaders.vertex.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
            this.shaders.vertex.head = `${this.shaders.vertex.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
            if (groupBinding.newLine)
              this.shaders.vertex.head += `
`;
          }
        }
        if (groupBinding.visibility === GPUShaderStage.FRAGMENT || groupBinding.visibility === (GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT | GPUShaderStage.COMPUTE)) {
          if (groupBinding.wgslStructFragment && this.shaders.fragment.head.indexOf(groupBinding.wgslStructFragment) === -1) {
            this.shaders.fragment.head = `
${groupBinding.wgslStructFragment}
${this.shaders.fragment.head}`;
          }
          if (this.shaders.fragment.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
            this.shaders.fragment.head = `${this.shaders.fragment.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
            if (groupBinding.newLine)
              this.shaders.fragment.head += `
`;
          }
        }
        if (groupBinding.wgslStructFragment && this.shaders.full.head.indexOf(groupBinding.wgslStructFragment) === -1) {
          this.shaders.full.head = `
${groupBinding.wgslStructFragment}
${this.shaders.full.head}`;
        }
        if (this.shaders.full.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
          this.shaders.full.head = `${this.shaders.full.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
          if (groupBinding.newLine)
            this.shaders.full.head += `
`;
        }
      });
      this.shaders.vertex.head = `${this.attributes.wgslStructFragment}
${this.shaders.vertex.head}`;
      this.shaders.full.head = `${this.attributes.wgslStructFragment}
${this.shaders.full.head}`;
      this.shaders.vertex.code = this.shaders.vertex.head + this.options.shaders.vertex.code;
      this.shaders.fragment.code = this.shaders.fragment.head + this.options.shaders.fragment.code;
      if (this.options.shaders.vertex.entryPoint !== this.options.shaders.fragment.entryPoint && this.options.shaders.vertex.code.localeCompare(this.options.shaders.fragment.code) === 0) {
        this.shaders.full.code = this.shaders.full.head + this.options.shaders.vertex.code;
      } else {
        this.shaders.full.code = this.shaders.full.head + this.options.shaders.vertex.code + this.options.shaders.fragment.code;
      }
    }
    /* SETUP */
    /**
     * Create the {@link shaders}: patch them and create the {@link GPUShaderModule}
     */
    createShaders() {
      this.patchShaders();
      const isSameShader = this.options.shaders.vertex.entryPoint !== this.options.shaders.fragment.entryPoint && this.options.shaders.vertex.code.localeCompare(this.options.shaders.fragment.code) === 0;
      this.shaders.vertex.module = this.createShaderModule({
        code: this.shaders[isSameShader ? "full" : "vertex"].code,
        type: "vertex"
      });
      this.shaders.fragment.module = this.createShaderModule({
        code: this.shaders[isSameShader ? "full" : "fragment"].code,
        type: "fragment"
      });
    }
    /**
     * Create the render pipeline {@link descriptor}
     */
    createPipelineDescriptor() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      let vertexLocationIndex = -1;
      const blend = this.options.blend ?? (this.options.transparent && {
        color: {
          srcFactor: "src-alpha",
          dstFactor: "one-minus-src-alpha"
        },
        alpha: {
          srcFactor: "one",
          dstFactor: "one-minus-src-alpha"
        }
      });
      this.descriptor = {
        label: this.options.label,
        layout: this.layout,
        vertex: {
          module: this.shaders.vertex.module,
          entryPoint: this.options.shaders.vertex.entryPoint,
          buffers: this.attributes.vertexBuffers.map((vertexBuffer) => {
            return {
              stepMode: vertexBuffer.stepMode,
              arrayStride: vertexBuffer.arrayStride * 4,
              // 4 bytes each
              attributes: vertexBuffer.attributes.map((attribute) => {
                vertexLocationIndex++;
                return {
                  shaderLocation: vertexLocationIndex,
                  offset: attribute.bufferOffset,
                  // previous attribute size * 4
                  format: attribute.bufferFormat
                };
              })
            };
          })
        },
        fragment: {
          module: this.shaders.fragment.module,
          entryPoint: this.options.shaders.fragment.entryPoint,
          targets: [
            {
              format: this.options.targetFormat ?? this.renderer.options.preferredFormat,
              ...blend && {
                blend
              }
            }
          ]
        },
        primitive: {
          topology: this.options.topology,
          frontFace: this.options.verticesOrder,
          cullMode: this.options.cullMode
        },
        ...this.options.depth && {
          depthStencil: {
            depthWriteEnabled: this.options.depthWriteEnabled,
            depthCompare: this.options.depthCompare,
            format: "depth24plus"
          }
        },
        ...this.options.sampleCount > 1 && {
          multisample: {
            count: this.options.sampleCount
          }
        }
      };
    }
    /**
     * Create the render {@link pipeline}
     */
    createRenderPipeline() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      try {
        this.pipeline = this.renderer.createRenderPipeline(this.descriptor);
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Asynchronously create the render {@link pipeline}
     * @async
     * @returns - void promise result
     */
    async createRenderPipelineAsync() {
      if (!this.shaders.vertex.module || !this.shaders.fragment.module)
        return;
      try {
        this.pipeline = await this.renderer.createRenderPipelineAsync(this.descriptor);
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Call {@link PipelineEntry#compilePipelineEntry | PipelineEntry compilePipelineEntry} method, then create our render {@link pipeline}
     * @async
     */
    async compilePipelineEntry() {
      super.compilePipelineEntry();
      if (this.options.useAsync) {
        await this.createRenderPipelineAsync();
      } else {
        this.createRenderPipeline();
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      }
    }
  }

  class ComputePipelineEntry extends PipelineEntry {
    /**
     * ComputePipelineEntry constructor
     * @param parameters - {@link PipelineEntryParams | parameters} used to create this {@link ComputePipelineEntry}
     */
    constructor(parameters) {
      let { renderer } = parameters;
      const { label } = parameters;
      renderer = renderer && renderer.renderer || renderer;
      const type = "ComputePipelineEntry";
      isRenderer(renderer, label ? label + " " + type : type);
      super(parameters);
      this.type = type;
      this.shaders = {
        compute: {
          head: "",
          code: "",
          module: null
        }
      };
      this.descriptor = null;
    }
    /**
     * Set {@link ComputePipelineEntry} properties (in this case the {@link bindGroups | bind groups})
     * @param parameters - the {@link core/materials/ComputeMaterial.ComputeMaterial#bindGroups | bind groups} to use
     */
    setPipelineEntryProperties(parameters) {
      const { bindGroups } = parameters;
      this.setPipelineEntryBindGroups(bindGroups);
    }
    /* SHADERS */
    /**
     * Patch the shaders by appending all the {@link bindGroups | bind groups}) WGSL code fragments to the given {@link PipelineEntryParams#shaders | parameter shader code}
     */
    patchShaders() {
      this.shaders.compute.head = "";
      this.shaders.compute.code = "";
      const groupsBindings = [];
      this.bindGroups.forEach((bindGroup) => {
        let bindIndex = 0;
        bindGroup.bindings.forEach((binding, bindingIndex) => {
          binding.wgslGroupFragment.forEach((groupFragment, groupFragmentIndex) => {
            groupsBindings.push({
              groupIndex: bindGroup.index,
              visibility: binding.visibility,
              bindIndex,
              wgslStructFragment: binding.wgslStructFragment,
              wgslGroupFragment: groupFragment,
              newLine: bindingIndex === bindGroup.bindings.length - 1 && groupFragmentIndex === binding.wgslGroupFragment.length - 1
            });
            bindIndex++;
          });
        });
      });
      groupsBindings.forEach((groupBinding) => {
        if (groupBinding.wgslStructFragment && this.shaders.compute.head.indexOf(groupBinding.wgslStructFragment) === -1) {
          this.shaders.compute.head = `
${groupBinding.wgslStructFragment}
${this.shaders.compute.head}`;
        }
        if (this.shaders.compute.head.indexOf(groupBinding.wgslGroupFragment) === -1) {
          this.shaders.compute.head = `${this.shaders.compute.head}
@group(${groupBinding.groupIndex}) @binding(${groupBinding.bindIndex}) ${groupBinding.wgslGroupFragment}`;
        }
        if (groupBinding.newLine)
          this.shaders.compute.head += `
`;
      });
      this.shaders.compute.code = this.shaders.compute.head + this.options.shaders.compute.code;
    }
    /* SETUP */
    /**
     * Create the {@link shaders}: patch them and create the {@link GPUShaderModule}
     */
    createShaders() {
      this.patchShaders();
      this.shaders.compute.module = this.createShaderModule({
        code: this.shaders.compute.code,
        type: "compute"
      });
    }
    /**
     * Create the compute pipeline {@link descriptor}
     */
    createPipelineDescriptor() {
      if (!this.shaders.compute.module)
        return;
      this.descriptor = {
        label: this.options.label,
        layout: this.layout,
        compute: {
          module: this.shaders.compute.module,
          entryPoint: this.options.shaders.compute.entryPoint
        }
      };
    }
    /**
     * Create the compute {@link pipeline}
     */
    createComputePipeline() {
      if (!this.shaders.compute.module)
        return;
      try {
        this.pipeline = this.renderer.createComputePipeline(this.descriptor);
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Asynchronously create the compute {@link pipeline}
     * @async
     * @returns - void promise result
     */
    async createComputePipelineAsync() {
      if (!this.shaders.compute.module)
        return;
      try {
        this.pipeline = await this.renderer.createComputePipelineAsync(this.descriptor);
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      } catch (error) {
        this.status.error = error;
        throwError(error);
      }
    }
    /**
     * Call {@link PipelineEntry#compilePipelineEntry | PipelineEntry compilePipelineEntry} method, then create our compute {@link pipeline}
     * @async
     */
    async compilePipelineEntry() {
      super.compilePipelineEntry();
      if (this.options.useAsync) {
        await this.createComputePipelineAsync();
      } else {
        this.createComputePipeline();
        this.status.compiled = true;
        this.status.compiling = false;
        this.status.error = null;
      }
    }
  }

  class PipelineManager {
    constructor() {
      this.type = "PipelineManager";
      this.currentPipelineIndex = null;
      this.pipelineEntries = [];
    }
    /**
     * Checks if the provided {@link RenderPipelineEntryBaseParams | RenderPipelineEntry parameters} belongs to an already created {@link RenderPipelineEntry}.
     * @param parameters - {@link RenderPipelineEntryBaseParams | RenderPipelineEntry parameters}
     * @returns - the found {@link RenderPipelineEntry}, or null if not found
     */
    isSameRenderPipeline(parameters) {
      const {
        shaders,
        cullMode,
        depth,
        depthWriteEnabled,
        depthCompare,
        transparent,
        verticesOrder,
        topology,
        sampleCount
      } = parameters;
      return this.pipelineEntries.filter((pipelineEntry) => pipelineEntry instanceof RenderPipelineEntry).find((pipelineEntry) => {
        const { options } = pipelineEntry;
        return shaders.vertex.code.localeCompare(options.shaders.vertex.code) === 0 && shaders.vertex.entryPoint === options.shaders.vertex.entryPoint && shaders.fragment.code.localeCompare(options.shaders.fragment.code) === 0 && shaders.fragment.entryPoint === options.shaders.fragment.entryPoint && cullMode === options.cullMode && depth === options.depth && depthWriteEnabled === options.depthWriteEnabled && depthCompare === options.depthCompare && transparent === options.transparent && sampleCount === options.sampleCount && verticesOrder === options.verticesOrder && topology === options.topology;
      });
    }
    /**
     * Check if a {@link RenderPipelineEntry} has already been created with the given {@link RenderPipelineEntryParams | parameters}.
     * Use it if found, else create a new one and add it to the {@link pipelineEntries} array.
     * @param parameters - {@link RenderPipelineEntryParams | RenderPipelineEntry parameters}
     * @returns - {@link RenderPipelineEntry}, either from cache or newly created
     */
    createRenderPipeline(parameters) {
      const existingPipelineEntry = this.isSameRenderPipeline(parameters);
      if (existingPipelineEntry) {
        return existingPipelineEntry;
      } else {
        const pipelineEntry = new RenderPipelineEntry(parameters);
        this.pipelineEntries.push(pipelineEntry);
        return pipelineEntry;
      }
    }
    /**
     * Checks if the provided {@link PipelineEntryParams | parameters} belongs to an already created {@link ComputePipelineEntry}.
     * @param parameters - {@link PipelineEntryParams | PipelineEntry parameters}
     * @returns - the found {@link ComputePipelineEntry}, or null if not found
     */
    isSameComputePipeline(parameters) {
      const { shaders } = parameters;
      return this.pipelineEntries.filter((pipelineEntry) => pipelineEntry instanceof ComputePipelineEntry).find((pipelineEntry) => {
        const { options } = pipelineEntry;
        return shaders.compute.code.localeCompare(options.shaders.compute.code) === 0 && shaders.compute.entryPoint === options.shaders.compute.entryPoint;
      });
    }
    /**
     * Check if a {@link ComputePipelineEntry} has already been created with the given {@link PipelineEntryParams | parameters}.
     * Use it if found, else create a new one and add it to the {@link pipelineEntries} array.
     * @param parameters - {@link PipelineEntryParams | PipelineEntry parameters}
     * @returns - newly created {@link ComputePipelineEntry}
     */
    createComputePipeline(parameters) {
      const existingPipelineEntry = this.isSameComputePipeline(parameters);
      if (existingPipelineEntry) {
        return existingPipelineEntry;
      } else {
        const pipelineEntry = new ComputePipelineEntry(parameters);
        this.pipelineEntries.push(pipelineEntry);
        return pipelineEntry;
      }
    }
    /**
     * Check if the given {@link AllowedPipelineEntries | PipelineEntry} is already set, if not set it
     * @param pass - current pass encoder
     * @param pipelineEntry - the {@link AllowedPipelineEntries | PipelineEntry} to set
     */
    setCurrentPipeline(pass, pipelineEntry) {
      if (pipelineEntry.index !== this.currentPipelineIndex) {
        pass.setPipeline(pipelineEntry.pipeline);
        this.currentPipelineIndex = pipelineEntry.index;
      }
    }
    /**
     * Reset the {@link PipelineManager#currentPipelineIndex | current pipeline index} so the next {@link AllowedPipelineEntries | PipelineEntry} will be set for sure
     */
    resetCurrentPipeline() {
      this.currentPipelineIndex = null;
    }
  }

  class ResizeManager {
    /**
     * ResizeManager constructor
     */
    constructor() {
      this.shouldWatch = true;
      this.entries = [];
      this.resizeObserver = new ResizeObserver((observedEntries) => {
        const allEntries = observedEntries.map((observedEntry) => {
          return this.entries.filter((e) => e.element.isSameNode(observedEntry.target));
        }).flat().sort((a, b) => b.priority - a.priority);
        allEntries?.forEach((entry) => {
          if (entry && entry.callback) {
            entry.callback();
          }
        });
      });
    }
    /**
     * Set {@link shouldWatch}
     * @param shouldWatch - whether to watch or not
     */
    useObserver(shouldWatch = true) {
      this.shouldWatch = shouldWatch;
    }
    /**
     * Track an {@link HTMLElement} size change and execute a callback function when it happens
     * @param entry - {@link ResizeManagerEntry | entry} to watch
     */
    observe({ element, priority, callback }) {
      if (!element || !this.shouldWatch)
        return;
      this.resizeObserver.observe(element);
      const entry = {
        element,
        priority,
        callback
      };
      this.entries.push(entry);
    }
    /**
     * Unobserve an {@link HTMLElement} and remove it from our {@link entries} array
     * @param element - {@link HTMLElement} to unobserve
     */
    unobserve(element) {
      this.resizeObserver.unobserve(element);
      this.entries = this.entries.filter((e) => !e.element.isSameNode(element));
    }
    /**
     * Destroy our {@link ResizeManager}
     */
    destroy() {
      this.resizeObserver.disconnect();
    }
  }
  const resizeManager = new ResizeManager();

  class DOMElement {
    /**
     * DOMElement constructor
     * @param parameters - {@link DOMElementParams | parameters} used to create our DOMElement
     */
    constructor({
      element = document.body,
      priority = 1,
      onSizeChanged = (boundingRect = null) => {
      },
      onPositionChanged = (boundingRect = null) => {
      }
    } = {}) {
      if (typeof element === "string") {
        this.element = document.querySelector(element);
        if (!this.element) {
          const notFoundEl = typeof element === "string" ? `'${element}' selector` : `${element} HTMLElement`;
          throwError(`DOMElement: corresponding ${notFoundEl} not found.`);
        }
      } else {
        this.element = element;
      }
      this.priority = priority;
      this.isResizing = false;
      this.onSizeChanged = onSizeChanged;
      this.onPositionChanged = onPositionChanged;
      this.resizeManager = resizeManager;
      this.resizeManager.observe({
        element: this.element,
        priority: this.priority,
        callback: () => {
          this.setSize();
        }
      });
      this.setSize();
    }
    /**
     * Check whether 2 bounding rectangles are equals
     * @param rect1 - first bounding rectangle
     * @param rect2 - second bounding rectangle
     * @returns - whether the rectangles are equals or not
     */
    compareBoundingRect(rect1, rect2) {
      return !["x", "y", "left", "top", "right", "bottom", "width", "height"].some((k) => rect1[k] !== rect2[k]);
    }
    /**
     * Get our element bounding rectangle
     */
    get boundingRect() {
      return this._boundingRect;
    }
    /**
     * Set our element bounding rectangle
     * @param boundingRect - new bounding rectangle
     */
    set boundingRect(boundingRect) {
      const isSameRect = !!this.boundingRect && this.compareBoundingRect(boundingRect, this.boundingRect);
      this._boundingRect = {
        top: boundingRect.top,
        right: boundingRect.right,
        bottom: boundingRect.bottom,
        left: boundingRect.left,
        width: boundingRect.width,
        height: boundingRect.height,
        x: boundingRect.x,
        y: boundingRect.y
      };
      if (!isSameRect) {
        this.onSizeChanged(this.boundingRect);
      }
    }
    /**
     * Update our element bounding rectangle because the scroll position has changed
     * @param delta - scroll delta values along X and Y axis
     */
    updateScrollPosition(delta = { x: 0, y: 0 }) {
      if (this.isResizing)
        return;
      this._boundingRect.top += delta.y;
      this._boundingRect.left += delta.x;
      if (delta.x || delta.y) {
        this.onPositionChanged(this.boundingRect);
      }
    }
    /**
     * Set our element bounding rectangle, either by a value or a getBoundingClientRect call
     * @param boundingRect - new bounding rectangle
     */
    setSize(boundingRect = null) {
      if (!this.element)
        return;
      this.boundingRect = boundingRect ?? this.element.getBoundingClientRect();
      this.isResizing = false;
    }
    /**
     * Destroy our DOMElement - remove from resize observer and clear throttle timeout
     */
    destroy() {
      this.resizeManager.unobserve(this.element);
    }
  }

  var default_pass_fsWGSl = (
    /* wgsl */
    `
struct VSOutput {
  @builtin(position) position: vec4f,
  @location(0) uv: vec2f,
};

@fragment fn main(fsInput: VSOutput) -> @location(0) vec4f {
  return textureSample(renderTexture, defaultSampler, fsInput.uv);
}`
  );

  class ShaderPass extends FullscreenPlane {
    /**
     * ShaderPass constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link ShaderPass}
     * @param parameters - {@link ShaderPassParams | parameters} use to create this {@link ShaderPass}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " ShaderPass" : "ShaderPass");
      parameters.transparent = true;
      parameters.label = parameters.label ?? "ShaderPass " + renderer.shaderPasses?.length;
      if (!parameters.shaders) {
        parameters.shaders = {};
      }
      if (!parameters.shaders.fragment) {
        parameters.shaders.fragment = {
          code: default_pass_fsWGSl,
          entryPoint: "main"
        };
      }
      parameters.depth = false;
      super(renderer, parameters);
      this.type = "ShaderPass";
      this.createRenderTexture({
        label: parameters.label ? `${parameters.label} render texture` : "Shader pass render texture",
        name: "renderTexture",
        fromTexture: this.renderTarget ? this.renderTarget.renderTexture : null
      });
    }
    /**
     * Get our main {@link RenderTexture}, the one that contains our post processed content
     * @readonly
     */
    get renderTexture() {
      return this.renderTextures.find((texture) => texture.options.name === "renderTexture");
    }
    /**
     * Assign or remove a {@link RenderTarget} to this {@link ShaderPass}
     * Since this manipulates the {@link core/scenes/Scene.Scene | Scene} stacks, it can be used to remove a RenderTarget as well.
     * Also copy or remove the {@link RenderTarget#renderTexture | render target render texture} into the {@link ShaderPass} {@link renderTexture}
     * @param renderTarget - the {@link RenderTarget} to assign or null if we want to remove the current {@link RenderTarget}
     */
    setRenderTarget(renderTarget) {
      super.setRenderTarget(renderTarget);
      if (renderTarget) {
        this.renderTexture.copy(this.renderTarget.renderTexture);
      } else {
        this.renderTexture.options.fromTexture = null;
        this.renderTexture.createTexture();
      }
    }
    /**
     * Add the {@link ShaderPass} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.shaderPasses.push(this);
      if (this.autoRender) {
        this.renderer.scene.addShaderPass(this);
      }
    }
    /**
     * Remove the {@link ShaderPass} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (this.renderTarget) {
        this.renderTarget.destroy();
      }
      if (this.autoRender) {
        this.renderer.scene.removeShaderPass(this);
      }
      this.renderer.shaderPasses = this.renderer.shaderPasses.filter((sP) => sP.uuid !== this.uuid);
    }
  }

  class RenderPass {
    /**
     * RenderPass constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link RenderPass}
     * @param parameters - {@link RenderPassParams | parameters} used to create this {@link RenderPass}
     */
    constructor(renderer, {
      label = "Render Pass",
      sampleCount = 4,
      loadOp = "clear",
      clearValue = [0, 0, 0, 0],
      targetFormat,
      depth = true,
      depthTexture,
      depthLoadOp = "clear",
      depthClearValue = 1
    } = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "RenderPass");
      this.type = "RenderPass";
      this.uuid = generateUUID();
      this.renderer = renderer;
      this.options = {
        label,
        sampleCount,
        // color
        loadOp,
        clearValue,
        targetFormat: targetFormat ?? this.renderer.options.preferredFormat,
        // depth
        depth,
        ...depthTexture !== void 0 && { depthTexture },
        depthLoadOp,
        depthClearValue
      };
      this.setClearValue(clearValue);
      if (this.options.depth) {
        this.createDepthTexture();
      }
      this.viewTexture = new RenderTexture(this.renderer, {
        label: this.options.label + " view texture",
        name: "viewTexture",
        format: this.options.targetFormat,
        sampleCount: this.options.sampleCount
      });
      this.setRenderPassDescriptor();
    }
    /**
     * Set our {@link depthTexture | depth texture}
     */
    createDepthTexture() {
      this.depthTexture = new RenderTexture(this.renderer, {
        label: this.options.label + " depth texture",
        name: "depthTexture",
        usage: "depthTexture",
        format: "depth24plus",
        sampleCount: this.options.sampleCount,
        ...this.options.depthTexture && { fromTexture: this.options.depthTexture }
      });
    }
    /**
     * Reset our {@link depthTexture | depth texture}
     */
    resetRenderPassDepth() {
      this.depthTexture.forceResize({
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      });
      this.descriptor.depthStencilAttachment.view = this.depthTexture.texture.createView({
        label: this.depthTexture.options.label + " view"
      });
    }
    /**
     * Reset our {@link viewTexture | view texture}
     */
    resetRenderPassView() {
      this.viewTexture.forceResize({
        width: Math.floor(this.renderer.pixelRatioBoundingRect.width),
        height: Math.floor(this.renderer.pixelRatioBoundingRect.height),
        depth: 1
      });
      this.descriptor.colorAttachments[0].view = this.viewTexture.texture.createView({
        label: this.viewTexture.options.label + " view"
      });
    }
    /**
     * Set our render pass {@link descriptor}
     */
    setRenderPassDescriptor() {
      this.descriptor = {
        label: this.options.label + " descriptor",
        colorAttachments: [
          {
            // view: <- to be filled out when we set our render pass view
            view: this.viewTexture.texture.createView({
              label: this.viewTexture.options.label + " view"
            }),
            // ...(this.options.sampleCount > 1 && {
            //   resolveTarget: this.resolveTexture.texture.createView({
            //     label: this.resolveTexture.options.label + ' view',
            //   }),
            // }),
            // clear values
            clearValue: this.options.clearValue,
            // loadOp: 'clear' specifies to clear the texture to the clear value before drawing
            // The other option is 'load' which means load the existing contents of the texture into the GPU so we can draw over what's already there.
            loadOp: this.options.loadOp,
            // storeOp: 'store' means store the result of what we draw.
            // We could also pass 'discard' which would throw away what we draw.
            // see https://webgpufundamentals.org/webgpu/lessons/webgpu-multisampling.html
            storeOp: "store"
          }
        ],
        ...this.options.depth && {
          depthStencilAttachment: {
            view: this.depthTexture.texture.createView({
              label: this.depthTexture.options.label + " view"
            }),
            depthClearValue: this.options.depthClearValue,
            // the same way loadOp is working, we can specify if we want to clear or load the previous depth buffer result
            depthLoadOp: this.options.depthLoadOp,
            depthStoreOp: "store"
          }
        }
      };
    }
    /**
     * Resize our {@link RenderPass}: reset its {@link RenderTexture}
     */
    resize() {
      if (this.options.depth)
        this.resetRenderPassDepth();
      this.resetRenderPassView();
    }
    /**
     * Set the {@link descriptor} {@link GPULoadOp | load operation}
     * @param loadOp - new {@link GPULoadOp | load operation} to use
     */
    setLoadOp(loadOp = "clear") {
      this.options.loadOp = loadOp;
      if (this.descriptor) {
        if (this.descriptor.colorAttachments) {
          this.descriptor.colorAttachments[0].loadOp = loadOp;
        }
      }
    }
    /**
     * Set the {@link descriptor} {@link GPULoadOp | depth load operation}
     * @param depthLoadOp - new {@link GPULoadOp | depth load operation} to use
     */
    setDepthLoadOp(depthLoadOp = "clear") {
      this.options.depthLoadOp = depthLoadOp;
      if (this.options.depth && this.descriptor.depthStencilAttachment) {
        this.descriptor.depthStencilAttachment.depthLoadOp = depthLoadOp;
      }
    }
    /**
     * Set our {@link GPUColor | clear colors value}.<br>
     * Beware that if the {@link renderer} is using {@link core/renderers/GPURenderer.GPURenderer#alphaMode | premultiplied alpha mode}, your R, G and B channels should be premultiplied by your alpha channel.
     * @param clearValue - new {@link GPUColor | clear colors value} to use
     */
    setClearValue(clearValue = [0, 0, 0, 0]) {
      if (this.renderer.alphaMode === "premultiplied") {
        const alpha = clearValue[3];
        clearValue[0] = Math.min(clearValue[0], alpha);
        clearValue[1] = Math.min(clearValue[1], alpha);
        clearValue[2] = Math.min(clearValue[2], alpha);
      } else {
        this.options.clearValue = clearValue;
      }
      if (this.descriptor && this.descriptor.colorAttachments) {
        this.descriptor.colorAttachments[0].clearValue = clearValue;
      }
    }
    /**
     * Destroy our {@link RenderPass}
     */
    destroy() {
      this.viewTexture?.destroy();
      if (!this.options.depthTexture && this.depthTexture) {
        this.depthTexture.destroy();
      }
    }
  }

  var __accessCheck$2 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$2 = (obj, member, getter) => {
    __accessCheck$2(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$2 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet$1 = (obj, member, value, setter) => {
    __accessCheck$2(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var _autoRender;
  class RenderTarget {
    /**
     * RenderTarget constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link RenderTarget}
     * @param parameters - {@link RenderTargetParams | parameters} use to create this {@link RenderTarget}
     */
    constructor(renderer, parameters) {
      /** Whether we should add this {@link RenderTarget} to our {@link core/scenes/Scene.Scene | Scene} to let it handle the rendering process automatically */
      __privateAdd$2(this, _autoRender, true);
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "RenderTarget");
      this.type = "RenderTarget";
      this.renderer = renderer;
      this.uuid = generateUUID();
      const { label, targetFormat, autoRender, ...renderPassParams } = parameters;
      this.options = {
        label,
        ...renderPassParams,
        targetFormat: targetFormat ?? this.renderer.options.preferredFormat,
        autoRender
      };
      if (autoRender !== void 0) {
        __privateSet$1(this, _autoRender, autoRender);
      }
      this.renderPass = new RenderPass(this.renderer, {
        label: this.options.label ? `${this.options.label} Render Pass` : "Render Target Render Pass",
        targetFormat: this.options.targetFormat,
        depthTexture: this.renderer.renderPass.depthTexture,
        // reuse renderer depth texture for every pass
        ...renderPassParams
      });
      this.renderTexture = new RenderTexture(this.renderer, {
        label: this.options.label ? `${this.options.label} Render Texture` : "Render Target Render Texture",
        name: "renderTexture",
        format: this.options.targetFormat
      });
      this.addToScene();
    }
    /**
     * Add the {@link RenderTarget} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.renderTargets.push(this);
      if (__privateGet$2(this, _autoRender)) {
        this.renderer.scene.addRenderTarget(this);
      }
    }
    /**
     * Remove the {@link RenderTarget} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (__privateGet$2(this, _autoRender)) {
        this.renderer.scene.removeRenderTarget(this);
      }
      this.renderer.renderTargets = this.renderer.renderTargets.filter((renderTarget) => renderTarget.uuid !== this.uuid);
    }
    /**
     * Resize our {@link renderPass} and {@link renderTexture}
     * @param boundingRect - new {@link DOMElementBoundingRect | bounding rectangle}
     */
    resize(boundingRect) {
      this.renderPass.options.depthTexture.texture = this.renderer.renderPass.depthTexture.texture;
      this.renderPass?.resize();
      this.renderTexture?.resize();
    }
    /**
     * Remove our {@link RenderTarget}. Alias of {@link RenderTarget#destroy}
     */
    remove() {
      this.destroy();
    }
    /**
     * Destroy our {@link RenderTarget}
     */
    destroy() {
      this.renderer.meshes.forEach((mesh) => {
        if (mesh.renderTarget && mesh.renderTarget.uuid === this.uuid) {
          mesh.setRenderTarget(null);
        }
      });
      this.renderer.shaderPasses.forEach((shaderPass) => {
        if (shaderPass.renderTarget && shaderPass.renderTarget.uuid === this.uuid) {
          shaderPass.renderTarget = null;
          shaderPass.setRenderTarget(null);
        }
      });
      this.removeFromScene();
      this.renderPass?.destroy();
      this.renderTexture?.destroy();
    }
  }
  _autoRender = new WeakMap();

  class PingPongPlane extends FullscreenPlane {
    /**
     * PingPongPlane constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link PingPongPlane}
     * @param parameters - {@link MeshBaseRenderParams | parameters} use to create this {@link PingPongPlane}
     */
    constructor(renderer, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, parameters.label ? parameters.label + " PingPongPlane" : "PingPongPlane");
      parameters.renderTarget = new RenderTarget(renderer, {
        label: parameters.label ? parameters.label + " render target" : "Ping Pong render target",
        depth: false,
        ...parameters.targetFormat && { targetFormat: parameters.targetFormat }
      });
      parameters.transparent = false;
      parameters.depth = false;
      parameters.label = parameters.label ?? "PingPongPlane " + renderer.pingPongPlanes?.length;
      super(renderer, parameters);
      this.type = "PingPongPlane";
      this.createRenderTexture({
        label: parameters.label ? `${parameters.label} render texture` : "PingPongPlane render texture",
        name: "renderTexture",
        ...parameters.targetFormat && { format: parameters.targetFormat }
      });
    }
    /**
     * Get our main {@link RenderTexture}, the one that contains our ping pong content
     * @readonly
     */
    get renderTexture() {
      return this.renderTextures.find((texture) => texture.options.name === "renderTexture");
    }
    /**
     * Add the {@link PingPongPlane} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      this.renderer.pingPongPlanes.push(this);
      if (this.autoRender) {
        this.renderer.scene.addPingPongPlane(this);
      }
    }
    /**
     * Remove the {@link PingPongPlane} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      if (this.renderTarget) {
        this.renderTarget.destroy();
      }
      if (this.autoRender) {
        this.renderer.scene.removePingPongPlane(this);
      }
      this.renderer.pingPongPlanes = this.renderer.pingPongPlanes.filter((pPP) => pPP.uuid !== this.uuid);
    }
  }

  var __accessCheck$1 = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet$1 = (obj, member, getter) => {
    __accessCheck$1(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd$1 = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var _DOMObjectWorldPosition, _DOMObjectWorldScale;
  class DOMObject3D extends ProjectedObject3D {
    /**
     * DOMObject3D constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link DOMObject3D}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link DOMObject3D}
     * @param parameters - {@link DOMObject3DParams | parameters} used to create this {@link DOMObject3D}
     */
    constructor(renderer, element, parameters) {
      super(renderer);
      /** Private {@link Vec3 | vector} used to keep track of the actual {@link DOMObject3DTransforms#position.world | world position} accounting the {@link DOMObject3DTransforms#position.document | additional document translation} converted into world space */
      __privateAdd$1(this, _DOMObjectWorldPosition, new Vec3());
      /** Private {@link Vec3 | vector} used to keep track of the actual {@link DOMObject3D} world scale accounting the {@link DOMObject3D#size.world | DOMObject3D world size} */
      __privateAdd$1(this, _DOMObjectWorldScale, new Vec3());
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, "DOM3DObject");
      this.renderer = renderer;
      this.size = {
        world: {
          width: 0,
          height: 0,
          top: 0,
          left: 0
        },
        document: {
          width: 0,
          height: 0,
          top: 0,
          left: 0
        }
      };
      this.watchScroll = parameters.watchScroll;
      this.camera = this.renderer.camera;
      this.setDOMElement(element);
    }
    /**
     * Set the {@link domElement | DOM Element}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    setDOMElement(element) {
      this.domElement = new DOMElement({
        element,
        onSizeChanged: (boundingRect) => this.resize(boundingRect),
        onPositionChanged: (boundingRect) => this.onPositionChanged(boundingRect)
      });
    }
    /**
     * Update size and position when the {@link domElement | DOM Element} position changed
     * @param boundingRect - the new bounding rectangle
     */
    onPositionChanged(boundingRect) {
      if (this.watchScroll) {
        this.size.document = boundingRect ?? this.domElement.element.getBoundingClientRect();
        this.updateSizeAndPosition();
      }
    }
    /**
     * Reset the {@link domElement | DOMElement}
     * @param element - the new {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    resetDOMElement(element) {
      if (this.domElement) {
        this.domElement.destroy();
      }
      this.setDOMElement(element);
    }
    /**
     * Update the {@link DOMObject3D} sizes and position
     */
    updateSizeAndPosition() {
      this.setWorldSizes();
      this.applyPosition();
      this.shouldUpdateModelMatrix();
    }
    /**
     * Update the {@link DOMObject3D} sizes, position and projection
     */
    shouldUpdateMatrixStack() {
      this.updateSizeAndPosition();
      super.shouldUpdateMatrixStack();
    }
    /**
     * Resize the {@link DOMObject3D}
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    resize(boundingRect) {
      if (!boundingRect && (!this.domElement || this.domElement?.isResizing))
        return;
      this.size.document = boundingRect ?? this.domElement.element.getBoundingClientRect();
      this.shouldUpdateMatrixStack();
    }
    /* BOUNDING BOXES GETTERS */
    /**
     * Get the {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     * @readonly
     */
    get boundingRect() {
      return this.domElement.boundingRect;
    }
    /* TRANSFOMS */
    /**
     * Set our transforms properties and {@link Vec3#onChange | onChange vector} callbacks
     */
    setTransforms() {
      super.setTransforms();
      this.transforms.origin.model.set(0.5, 0.5, 0);
      this.transforms.origin.world = new Vec3();
      this.transforms.position.document = new Vec3();
      this.documentPosition.onChange(() => this.applyPosition());
      this.transformOrigin.onChange(() => this.setWorldTransformOrigin());
    }
    /**
     * Get the {@link DOMObject3DTransforms#position.document | additional translation relative to the document}
     */
    get documentPosition() {
      return this.transforms.position.document;
    }
    /**
     * Set the {@link DOMObject3DTransforms#position.document | additional translation relative to the document}
     * @param value - additional translation relative to the document to apply
     */
    set documentPosition(value) {
      this.transforms.position.document = value;
      this.applyPosition();
    }
    /**
     * Get the {@link domElement | DOM element} scale in world space
     * @readonly
     */
    get DOMObjectWorldScale() {
      return __privateGet$1(this, _DOMObjectWorldScale).clone();
    }
    /**
     * Get the {@link DOMObject3D} scale in world space (accounting for {@link scale})
     * @readonly
     */
    get worldScale() {
      return this.DOMObjectWorldScale.multiply(this.scale);
    }
    /**
     * Get the {@link DOMObject3D} position in world space
     * @readonly
     */
    get worldPosition() {
      return __privateGet$1(this, _DOMObjectWorldPosition).clone();
    }
    /**
     * Get the {@link DOMObject3D} transform origin relative to the {@link DOMObject3D}
     */
    get transformOrigin() {
      return this.transforms.origin.model;
    }
    /**
     * Set the {@link DOMObject3D} transform origin relative to the {@link DOMObject3D}
     * @param value - new transform origin
     */
    set transformOrigin(value) {
      this.transforms.origin.model = value;
      this.setWorldTransformOrigin();
    }
    /**
     * Get the {@link DOMObject3D} transform origin in world space
     */
    get worldTransformOrigin() {
      return this.transforms.origin.world;
    }
    /**
     * Set the {@link DOMObject3D} transform origin in world space
     * @param value - new world space transform origin
     */
    set worldTransformOrigin(value) {
      this.transforms.origin.world = value;
    }
    /**
     * Set the {@link DOMObject3D} world position using its world position and document translation converted to world space
     */
    applyPosition() {
      this.applyDocumentPosition();
      super.applyPosition();
    }
    /**
     * Compute the {@link DOMObject3D} world position using its world position and document translation converted to world space
     */
    applyDocumentPosition() {
      let worldPosition = new Vec3(0, 0, 0);
      if (!this.documentPosition.equals(worldPosition)) {
        worldPosition = this.documentToWorldSpace(this.documentPosition);
      }
      __privateGet$1(this, _DOMObjectWorldPosition).set(
        this.position.x + this.size.world.left + worldPosition.x,
        this.position.y + this.size.world.top + worldPosition.y,
        this.position.z + this.documentPosition.z / this.camera.CSSPerspective
      );
    }
    /**
     * Apply the transform origin and set the {@link DOMObject3D} world transform origin
     */
    applyTransformOrigin() {
      if (!this.size)
        return;
      this.setWorldTransformOrigin();
      super.applyTransformOrigin();
    }
    /* MATRICES */
    /**
     * Update the {@link modelMatrix | model matrix} accounting the {@link DOMObject3D} world position and {@link DOMObject3D} world scale
     */
    updateModelMatrix() {
      this.modelMatrix.composeFromOrigin(
        __privateGet$1(this, _DOMObjectWorldPosition),
        this.quaternion,
        this.scale,
        this.worldTransformOrigin
      );
      this.modelMatrix.scale(__privateGet$1(this, _DOMObjectWorldScale));
      this.shouldUpdateWorldMatrix();
    }
    /**
     * Convert a document position {@link Vec3 | vector} to a world position {@link Vec3 | vector}
     * @param vector - document position {@link Vec3 | vector} converted to world space
     */
    documentToWorldSpace(vector = new Vec3()) {
      return new Vec3(
        vector.x * this.renderer.pixelRatio / this.renderer.boundingRect.width * this.camera.screenRatio.width,
        -(vector.y * this.renderer.pixelRatio / this.renderer.boundingRect.height) * this.camera.screenRatio.height,
        vector.z
      );
    }
    /**
     * Set the {@link DOMObject3D#size.world | world size} and set the {@link DOMObject3D} world transform origin
     */
    setWorldSizes() {
      const containerBoundingRect = this.renderer.boundingRect;
      const planeCenter = {
        x: this.size.document.width / 2 + this.size.document.left,
        y: this.size.document.height / 2 + this.size.document.top
      };
      const containerCenter = {
        x: containerBoundingRect.width / 2 + containerBoundingRect.left,
        y: containerBoundingRect.height / 2 + containerBoundingRect.top
      };
      this.size.world = {
        width: this.size.document.width / containerBoundingRect.width * this.camera.screenRatio.width / 2,
        height: this.size.document.height / containerBoundingRect.height * this.camera.screenRatio.height / 2,
        top: (containerCenter.y - planeCenter.y) / containerBoundingRect.height * this.camera.screenRatio.height,
        left: (planeCenter.x - containerCenter.x) / containerBoundingRect.width * this.camera.screenRatio.width
      };
      __privateGet$1(this, _DOMObjectWorldScale).set(this.size.world.width, this.size.world.height, 1);
      this.setWorldTransformOrigin();
    }
    /**
     * Set the {@link DOMObject3D} world transform origin and tell the matrices to update
     */
    setWorldTransformOrigin() {
      this.transforms.origin.world = new Vec3(
        (this.transformOrigin.x * 2 - 1) * // between -1 and 1
        this.size.world.width,
        -(this.transformOrigin.y * 2 - 1) * // between -1 and 1
        this.size.world.height,
        this.transformOrigin.z
      );
      this.shouldUpdateModelMatrix();
      this.shouldUpdateProjectionMatrixStack();
    }
    /**
     * Update the {@link domElement | DOM Element} scroll position
     * @param delta - last {@link utils/ScrollManager.ScrollManager.delta | scroll delta values}
     */
    updateScrollPosition(delta = { x: 0, y: 0 }) {
      if (delta.x || delta.y) {
        this.domElement.updateScrollPosition(delta);
      }
    }
    /**
     * Destroy our {@link DOMObject3D}
     */
    destroy() {
      this.domElement?.destroy();
    }
  }
  _DOMObjectWorldPosition = new WeakMap();
  _DOMObjectWorldScale = new WeakMap();

  const defaultDOMMeshParams = {
    autoloadSources: true,
    watchScroll: true
  };
  class DOMMesh extends ProjectedMeshBaseMixin(DOMObject3D) {
    /**
     * DOMMesh constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link DOMMesh}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link DOMMesh}
     * @param parameters - {@link DOMMeshParams | parameters} used to create this {@link DOMMesh}
     */
    constructor(renderer, element, parameters) {
      super(renderer, element, { ...defaultDOMMeshParams, ...parameters });
      // callbacks / events
      /** function assigned to the {@link onLoading} callback */
      this._onLoadingCallback = (texture) => {
      };
      parameters = { ...defaultDOMMeshParams, ...parameters };
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, parameters.label ? parameters.label + " DOMMesh" : "DOMMesh");
      this.type = "DOMMesh";
      const { autoloadSources } = parameters;
      this.autoloadSources = autoloadSources;
      this.sourcesReady = false;
      this.setInitSources();
    }
    /**
     * Get/set whether our {@link material} and {@link geometry} are ready
     * @readonly
     */
    get ready() {
      return this._ready;
    }
    set ready(value) {
      this._ready = value;
      if (this.DOMMeshReady) {
        this._onReadyCallback && this._onReadyCallback();
      }
    }
    /**
     * Get/set whether all the initial {@link DOMMesh} sources have been successfully loaded
     * @readonly
     */
    get sourcesReady() {
      return this._sourcesReady;
    }
    set sourcesReady(value) {
      this._sourcesReady = value;
      if (this.DOMMeshReady) {
        this._onReadyCallback && this._onReadyCallback();
      }
    }
    /**
     * Get whether our {@link DOMMesh} is ready. A {@link DOMMesh} is ready when its {@link sourcesReady | sources are ready} and its {@link material} and {@link geometry} are ready.
     * @readonly
     */
    get DOMMeshReady() {
      return this.ready && this.sourcesReady;
    }
    /**
     * Add a {@link DOMMesh} to the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    addToScene() {
      super.addToScene();
      this.renderer.domMeshes.push(this);
    }
    /**
     * Remove a {@link DOMMesh} from the renderer and the {@link core/scenes/Scene.Scene | Scene}
     */
    removeFromScene() {
      super.removeFromScene();
      this.renderer.domMeshes = this.renderer.domMeshes.filter(
        (m) => m.uuid !== this.uuid
      );
    }
    /**
     * Load initial {@link DOMMesh} sources if needed and create associated {@link Texture}
     */
    setInitSources() {
      let loaderSize = 0;
      let sourcesLoaded = 0;
      if (this.autoloadSources) {
        const images = this.domElement.element.querySelectorAll("img");
        const videos = this.domElement.element.querySelectorAll("video");
        const canvases = this.domElement.element.querySelectorAll("canvas");
        loaderSize = images.length + videos.length + canvases.length;
        const onSourceUploaded = (texture) => {
          sourcesLoaded++;
          this._onLoadingCallback && this._onLoadingCallback(texture);
          if (sourcesLoaded === loaderSize) {
            this.sourcesReady = true;
          }
        };
        if (!loaderSize) {
          this.sourcesReady = true;
        }
        if (images.length) {
          images.forEach((image) => {
            const texture = this.createTexture({
              name: image.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadImage(image.src);
          });
        }
        if (videos.length) {
          videos.forEach((video) => {
            const texture = this.createTexture({
              name: video.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadVideo(video);
          });
        }
        if (canvases.length) {
          canvases.forEach((canvas) => {
            const texture = this.createTexture({
              name: canvas.getAttribute("data-texture-name") ?? "texture" + this.textures.length
            });
            texture.onSourceUploaded(() => onSourceUploaded(texture)).loadCanvas(canvas);
          });
        }
      } else {
        this.sourcesReady = true;
      }
    }
    /**
     * Reset/change the {@link domElement | DOM Element}
     * @param element - new {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    resetDOMElement(element) {
      if (!!element) {
        super.resetDOMElement(element);
      } else if (!element && !this.renderer.production) {
        throwWarning(
          `${this.options.label}: You are trying to reset a ${this.type} with a HTML element that does not exist. The old HTML element will be kept instead.`
        );
      }
    }
    /**
     * Get our {@link DOMMesh#domElement | DOM Element} {@link core/DOM/DOMElement.DOMElement#boundingRect | bounding rectangle} accounting for current {@link core/renderers/GPURenderer.GPURenderer#pixelRatio | renderer pixel ratio}
     */
    get pixelRatioBoundingRect() {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.renderer.pixelRatio / devicePixelRatio;
      return Object.keys(this.domElement.boundingRect).reduce(
        (a, key) => ({ ...a, [key]: this.domElement.boundingRect[key] * scaleBoundingRect }),
        {
          x: 0,
          y: 0,
          width: 0,
          height: 0,
          top: 0,
          right: 0,
          bottom: 0,
          left: 0
        }
      );
    }
    /**
     * Create a new {@link RenderTexture}
     * @param  options - {@link RenderTextureParams | RenderTexture parameters}
     * @returns - newly created {@link RenderTexture}
     */
    createRenderTexture(options) {
      options = {
        ...options,
        size: { width: this.pixelRatioBoundingRect.width, height: this.pixelRatioBoundingRect.height }
      };
      return super.createRenderTexture(options);
    }
    /**
     * Resize the Mesh's render textures only if they're not storage textures
     */
    resizeRenderTextures() {
      this.renderTextures?.filter((renderTexture) => renderTexture.options.usage === "texture").forEach(
        (renderTexture) => renderTexture.resize({ width: this.pixelRatioBoundingRect.width, height: this.pixelRatioBoundingRect.height })
      );
    }
    /* EVENTS */
    /**
     * Called each time one of the initial sources associated {@link Texture#texture | GPU texture} has been uploaded to the GPU
     * @param callback - callback to call each time a {@link Texture#texture | GPU texture} has been uploaded to the GPU
     * @returns - our {@link DOMMesh}
     */
    onLoading(callback) {
      if (callback) {
        this._onLoadingCallback = callback;
      }
      return this;
    }
  }

  const defaultPlaneParams = {
    label: "Plane",
    // geometry
    instancesCount: 1,
    vertexBuffers: []
  };
  class Plane extends DOMMesh {
    /**
     * Plane constructor
     * @param renderer - {@link GPUCurtainsRenderer} object or {@link GPUCurtains} class object used to create this {@link Plane}
     * @param element - {@link HTMLElement} or string representing an {@link HTMLElement} selector used to scale and position the {@link Plane}
     * @param parameters - {@link PlaneParams | parameters} used to create this {@link Plane}
     */
    constructor(renderer, element, parameters = {}) {
      renderer = renderer && renderer.renderer || renderer;
      isCurtainsRenderer(renderer, parameters.label ? parameters.label + " Plane" : "Plane");
      const params = { ...defaultPlaneParams, ...parameters };
      let { geometry, widthSegments, heightSegments, ...DOMMeshParams2 } = params;
      const { instancesCount, vertexBuffers, ...materialParams } = DOMMeshParams2;
      if (!geometry || geometry.type !== "PlaneGeometry") {
        widthSegments = widthSegments ?? 1;
        heightSegments = heightSegments ?? 1;
        const geometryID = widthSegments * heightSegments + widthSegments;
        if (!vertexBuffers.length) {
          geometry = cacheManager.getPlaneGeometryByID(geometryID);
        }
        if (!geometry) {
          geometry = new PlaneGeometry({ widthSegments, heightSegments, instancesCount, vertexBuffers });
          cacheManager.addPlaneGeometry(geometry);
        } else {
          geometry.instancesCount = instancesCount;
        }
      }
      super(renderer, element, { geometry, ...materialParams });
      this.type = "Plane";
    }
    /**
     * Take the pointer {@link Vec2 | vector} position relative to the document and returns it relative to our {@link Plane}
     * It ranges from -1 to 1 on both axis
     * @param mouseCoords - pointer {@link Vec2 | vector} coordinates
     * @returns - raycasted {@link Vec2 | vector} coordinates relative to the {@link Plane}
     */
    mouseToPlaneCoords(mouseCoords = new Vec2()) {
      const worldMouse = {
        x: 2 * (mouseCoords.x / this.renderer.pixelRatioBoundingRect.width) - 1,
        y: 2 * (1 - mouseCoords.y / this.renderer.pixelRatioBoundingRect.height) - 1
      };
      const rayOrigin = this.camera.position.clone();
      const rayDirection = new Vec3(worldMouse.x, worldMouse.y, -0.5);
      rayDirection.unproject(this.camera);
      rayDirection.sub(rayOrigin).normalize();
      const planeNormals = new Vec3(0, 0, 1);
      planeNormals.applyQuat(this.quaternion).normalize();
      const result = new Vec3(0, 0, 0);
      const denominator = planeNormals.dot(rayDirection);
      if (Math.abs(denominator) >= 1e-4) {
        const inverseViewMatrix = this.modelMatrix.getInverse().premultiply(this.camera.viewMatrix);
        const planeOrigin = this.worldTransformOrigin.clone().add(this.worldPosition);
        const rotatedOrigin = new Vec3(
          this.worldPosition.x - planeOrigin.x,
          this.worldPosition.y - planeOrigin.y,
          this.worldPosition.z - planeOrigin.z
        );
        rotatedOrigin.applyQuat(this.quaternion);
        planeOrigin.add(rotatedOrigin);
        const distance = planeNormals.dot(planeOrigin.clone().sub(rayOrigin)) / denominator;
        result.copy(rayOrigin.add(rayDirection.multiplyScalar(distance)));
        result.applyMat4(inverseViewMatrix);
      } else {
        result.set(Infinity, Infinity, Infinity);
      }
      return new Vec2(result.x, result.y);
    }
  }

  class Scene {
    /**
     * Scene constructor
     * @param renderer - {@link Renderer} object or {@link GPUCurtains} class object used to create this {@link Scene}
     */
    constructor({ renderer }) {
      renderer = renderer && renderer.renderer || renderer;
      isRenderer(renderer, "Scene");
      this.renderer = renderer;
      this.computePassEntries = [];
      this.renderPassEntries = {
        /** Array of {@link RenderPassEntry} that will handle {@link PingPongPlane}. Each {@link PingPongPlane} will be added as a distinct {@link RenderPassEntry} here */
        pingPong: [],
        /** Array of {@link RenderPassEntry} that will render to a specific {@link RenderTarget}. Each {@link RenderTarget} will be added as a distinct {@link RenderPassEntry} here */
        renderTarget: [],
        /** Array of {@link RenderPassEntry} that will render directly to the screen. Our first entry will contain all the Meshes that do not have any {@link RenderTarget} assigned. Following entries will be created for every global {@link ShaderPass} */
        screen: [
          // add our basic scene entry
          {
            renderPass: this.renderer.renderPass,
            renderTexture: null,
            onBeforeRenderPass: null,
            onAfterRenderPass: null,
            element: null,
            // explicitly set to null
            stack: {
              unProjected: {
                opaque: [],
                transparent: []
              },
              projected: {
                opaque: [],
                transparent: []
              }
            }
          }
        ]
      };
    }
    /**
     * Get the number of meshes a {@link RenderPassEntry | render pass entry} should draw.
     * @param renderPassEntry - The {@link RenderPassEntry | render pass entry} to test
     */
    getRenderPassEntryLength(renderPassEntry) {
      if (!renderPassEntry) {
        return 0;
      } else {
        return renderPassEntry.element ? 1 : renderPassEntry.stack.unProjected.opaque.length + renderPassEntry.stack.unProjected.transparent.length + renderPassEntry.stack.projected.opaque.length + renderPassEntry.stack.projected.transparent.length;
      }
    }
    /**
     * Add a {@link ComputePass} to our scene {@link computePassEntries} array
     * @param computePass - {@link ComputePass} to add
     */
    addComputePass(computePass) {
      this.computePassEntries.push(computePass);
      this.computePassEntries.sort((a, b) => {
        if (a.renderOrder !== b.renderOrder) {
          return a.renderOrder - b.renderOrder;
        } else {
          return a.index - b.index;
        }
      });
    }
    /**
     * Remove a {@link ComputePass} from our scene {@link computePassEntries} array
     * @param computePass - {@link ComputePass} to remove
     */
    removeComputePass(computePass) {
      this.computePassEntries = this.computePassEntries.filter((cP) => cP.uuid !== computePass.uuid);
    }
    /**
     * Add a {@link RenderTarget} to our scene {@link renderPassEntries} renderTarget array.
     * Every Meshes later added to this {@link RenderTarget} will be rendered to the {@link RenderTarget#renderTexture | RenderTarget RenderTexture} using the {@link RenderTarget#renderPass.descriptor | RenderTarget RenderPass descriptor}
     * @param renderTarget - {@link RenderTarget} to add
     */
    addRenderTarget(renderTarget) {
      if (!this.renderPassEntries.renderTarget.find((entry) => entry.renderPass.uuid === renderTarget.renderPass.uuid))
        this.renderPassEntries.renderTarget.push({
          renderPass: renderTarget.renderPass,
          renderTexture: renderTarget.renderTexture,
          onBeforeRenderPass: null,
          onAfterRenderPass: null,
          element: null,
          // explicitly set to null
          stack: {
            unProjected: {
              opaque: [],
              transparent: []
            },
            projected: {
              opaque: [],
              transparent: []
            }
          }
        });
    }
    /**
     * Remove a {@link RenderTarget} from our scene {@link renderPassEntries} renderTarget array.
     * @param renderTarget - {@link RenderTarget} to add
     */
    removeRenderTarget(renderTarget) {
      this.renderPassEntries.renderTarget = this.renderPassEntries.renderTarget.filter(
        (entry) => entry.renderPass.uuid !== renderTarget.renderPass.uuid
      );
    }
    /**
     * Get the correct {@link renderPassEntries | render pass entry} (either {@link renderPassEntries} renderTarget or {@link renderPassEntries} screen) {@link Stack} onto which this Mesh should be added, depending on whether it's projected or not
     * @param mesh - Mesh to check
     * @returns - the corresponding render pass entry {@link Stack}
     */
    getMeshProjectionStack(mesh) {
      const renderPassEntry = mesh.renderTarget ? this.renderPassEntries.renderTarget.find(
        (passEntry) => passEntry.renderPass.uuid === mesh.renderTarget.renderPass.uuid
      ) : this.renderPassEntries.screen[0];
      const { stack } = renderPassEntry;
      return mesh.material.options.rendering.useProjection ? stack.projected : stack.unProjected;
    }
    /**
     * Add a Mesh to the correct {@link renderPassEntries | render pass entry} {@link Stack} array.
     * Meshes are then ordered by their {@link core/meshes/mixins/MeshBaseMixin.MeshBaseClass#index | indexes (order of creation]}, position along the Z axis in case they are transparent and then {@link core/meshes/mixins/MeshBaseMixin.MeshBaseClass#renderOrder | renderOrder}
     * @param mesh - Mesh to add
     */
    addMesh(mesh) {
      const projectionStack = this.getMeshProjectionStack(mesh);
      const similarMeshes = mesh.transparent ? [...projectionStack.transparent] : [...projectionStack.opaque];
      let siblingMeshIndex = -1;
      for (let i = similarMeshes.length - 1; i >= 0; i--) {
        if (similarMeshes[i].material.pipelineEntry.index === mesh.material.pipelineEntry.index) {
          siblingMeshIndex = i + 1;
          break;
        }
      }
      siblingMeshIndex = Math.max(0, siblingMeshIndex);
      similarMeshes.splice(siblingMeshIndex, 0, mesh);
      similarMeshes.sort((a, b) => a.index - b.index);
      if ((mesh instanceof DOMMesh || mesh instanceof Plane) && mesh.transparent) {
        similarMeshes.sort(
          (a, b) => b.documentPosition.z - a.documentPosition.z
        );
      }
      similarMeshes.sort((a, b) => a.renderOrder - b.renderOrder);
      mesh.transparent ? projectionStack.transparent = similarMeshes : projectionStack.opaque = similarMeshes;
    }
    /**
     * Remove a Mesh from our {@link Scene}
     * @param mesh - Mesh to remove
     */
    removeMesh(mesh) {
      const projectionStack = this.getMeshProjectionStack(mesh);
      if (mesh.transparent) {
        projectionStack.transparent = projectionStack.transparent.filter((m) => m.uuid !== mesh.uuid);
      } else {
        projectionStack.opaque = projectionStack.opaque.filter((m) => m.uuid !== mesh.uuid);
      }
    }
    /**
     * Add a {@link ShaderPass} to our scene {@link renderPassEntries} screen array.
     * Before rendering the {@link ShaderPass}, we will copy the correct input texture into its {@link ShaderPass#renderTexture | renderTexture}
     * This also handles the {@link renderPassEntries} screen array entries order: We will first draw selective passes, then our main screen pass and finally global post processing passes.
     * @see {@link https://codesandbox.io/p/sandbox/webgpu-render-to-2-textures-without-texture-copy-c4sx4s?file=%2Fsrc%2Findex.js%3A10%2C4 | minimal code example}
     * @param shaderPass - {@link ShaderPass} to add
     */
    addShaderPass(shaderPass) {
      const onBeforeRenderPass = shaderPass.renderTarget ? null : (commandEncoder, swapChainTexture) => {
        if (shaderPass.renderTexture) {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: shaderPass.renderTexture.texture
            },
            [shaderPass.renderTexture.size.width, shaderPass.renderTexture.size.height]
          );
        }
        this.renderer.postProcessingPass.setLoadOp("clear");
      };
      const onAfterRenderPass = shaderPass.renderTarget ? (commandEncoder, swapChainTexture) => {
        if (shaderPass.renderTarget && shaderPass.renderTarget.renderTexture) {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: shaderPass.renderTarget.renderTexture.texture
            },
            [shaderPass.renderTarget.renderTexture.size.width, shaderPass.renderTarget.renderTexture.size.height]
          );
        }
      } : null;
      const shaderPassEntry = {
        renderPass: this.renderer.postProcessingPass,
        // render directly to screen
        renderTexture: null,
        onBeforeRenderPass,
        onAfterRenderPass,
        element: shaderPass,
        stack: null
        // explicitly set to null
      };
      this.renderPassEntries.screen.push(shaderPassEntry);
      this.renderPassEntries.screen.sort((a, b) => {
        const isPostProA = a.element && !a.element.renderTarget;
        const renderOrderA = a.element ? a.element.renderOrder : 0;
        const indexA = a.element ? a.element.index : 0;
        const isPostProB = b.element && !b.element.renderTarget;
        const renderOrderB = b.element ? b.element.renderOrder : 0;
        const indexB = b.element ? b.element.index : 0;
        if (isPostProA && !isPostProB) {
          return 1;
        } else if (!isPostProA && isPostProB) {
          return -1;
        } else if (renderOrderA !== renderOrderB) {
          return renderOrderA - renderOrderB;
        } else {
          return indexA - indexB;
        }
      });
    }
    /**
     * Remove a {@link ShaderPass} from our scene {@link renderPassEntries} screen array
     * @param shaderPass - {@link ShaderPass} to remove
     */
    removeShaderPass(shaderPass) {
      this.renderPassEntries.screen = this.renderPassEntries.screen.filter(
        (entry) => !entry.element || entry.element.uuid !== shaderPass.uuid
      );
    }
    /**
     * Add a {@link PingPongPlane} to our scene {@link renderPassEntries} pingPong array.
     * After rendering the {@link PingPongPlane}, we will copy the context current texture into its {@link PingPongPlane#renderTexture | renderTexture} so we'll be able to use it as an input for the next pass
     * @see {@link https://codesandbox.io/p/sandbox/webgpu-render-ping-pong-to-texture-use-in-quad-gwjx9p | minimal code example}
     * @param pingPongPlane
     */
    addPingPongPlane(pingPongPlane) {
      this.renderPassEntries.pingPong.push({
        renderPass: pingPongPlane.renderTarget.renderPass,
        renderTexture: pingPongPlane.renderTarget.renderTexture,
        onBeforeRenderPass: null,
        onAfterRenderPass: (commandEncoder, swapChainTexture) => {
          commandEncoder.copyTextureToTexture(
            {
              texture: swapChainTexture
            },
            {
              texture: pingPongPlane.renderTexture.texture
            },
            [pingPongPlane.renderTexture.size.width, pingPongPlane.renderTexture.size.height]
          );
        },
        element: pingPongPlane,
        stack: null
        // explicitly set to null
      });
      this.renderPassEntries.pingPong.sort((a, b) => a.element.renderOrder - b.element.renderOrder);
    }
    /**
     * Remove a {@link PingPongPlane} from our scene {@link renderPassEntries} pingPong array.
     * @param pingPongPlane - {@link PingPongPlane} to remove
     */
    removePingPongPlane(pingPongPlane) {
      this.renderPassEntries.pingPong = this.renderPassEntries.pingPong.filter(
        (entry) => entry.element.uuid !== pingPongPlane.uuid
      );
    }
    /**
     * Get any rendered object or {@link RenderTarget} {@link RenderPassEntry}. Useful to override a {@link RenderPassEntry#onBeforeRenderPass | RenderPassEntry onBeforeRenderPass} or {@link RenderPassEntry#onAfterRenderPass | RenderPassEntry onAfterRenderPass} default behavior.
     * @param object - The object from which we want to get the parentMesh {@link RenderPassEntry}
     * @returns - the {@link RenderPassEntry} if found
     */
    getObjectRenderPassEntry(object) {
      if (object instanceof RenderTarget) {
        return this.renderPassEntries.renderTarget.find((entry) => entry.renderPass.uuid === object.renderPass.uuid);
      } else if (object instanceof PingPongPlane) {
        return this.renderPassEntries.pingPong.find((entry) => entry.element.uuid === object.uuid);
      } else if (object instanceof ShaderPass) {
        return this.renderPassEntries.screen.find((entry) => entry.element?.uuid === object.uuid);
      } else {
        const entryType = object.renderTarget ? "renderTarget" : "screen";
        return this.renderPassEntries[entryType].find((entry) => {
          return [
            ...entry.stack.unProjected.opaque,
            ...entry.stack.unProjected.transparent,
            ...entry.stack.projected.opaque,
            ...entry.stack.projected.transparent
          ].some((mesh) => mesh.uuid === object.uuid);
        });
      }
    }
    /**
     * Here we render a {@link RenderPassEntry}:
     * - Set its {@link RenderPass#descriptor | renderPass descriptor} view or resolveTarget and get it at as swap chain texture
     * - Execute {@link RenderPassEntry#onBeforeRenderPass | onBeforeRenderPass} callback if specified
     * - Begin the {@link GPURenderPassEncoder | GPU render pass encoder} using our {@link RenderPass#descriptor | renderPass descriptor}
     * - Render the single element if specified or the render pass entry {@link Stack}: draw unprojected opaque / transparent meshes first, then set the {@link CameraRenderer#cameraBindGroup | camera bind group} and draw projected opaque / transparent meshes
     * - End the {@link GPURenderPassEncoder | GPU render pass encoder}
     * - Execute {@link RenderPassEntry#onAfterRenderPass | onAfterRenderPass} callback if specified
     * - Reset {@link core/pipelines/PipelineManager.PipelineManager#currentPipelineIndex | pipeline manager current pipeline}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param renderPassEntry - {@link RenderPassEntry} to render
     */
    renderSinglePassEntry(commandEncoder, renderPassEntry) {
      const swapChainTexture = this.renderer.setRenderPassCurrentTexture(
        renderPassEntry.renderPass,
        renderPassEntry.renderTexture?.texture
      );
      renderPassEntry.onBeforeRenderPass && renderPassEntry.onBeforeRenderPass(commandEncoder, swapChainTexture);
      const pass = commandEncoder.beginRenderPass(renderPassEntry.renderPass.descriptor);
      !this.renderer.production && pass.pushDebugGroup(
        renderPassEntry.element ? `${renderPassEntry.element.options.label} render pass using ${renderPassEntry.renderPass.options.label} descriptor` : `Render stack pass using ${renderPassEntry.renderPass.options.label}${renderPassEntry.renderTexture ? " onto " + renderPassEntry.renderTexture.options.label : ""}`
      );
      if (renderPassEntry.element) {
        renderPassEntry.element.render(pass);
      } else if (renderPassEntry.stack) {
        renderPassEntry.stack.unProjected.opaque.forEach((mesh) => mesh.render(pass));
        renderPassEntry.stack.unProjected.transparent.forEach((mesh) => mesh.render(pass));
        if (renderPassEntry.stack.projected.opaque.length || renderPassEntry.stack.projected.transparent.length) {
          if (this.renderer.cameraBindGroup) {
            pass.setBindGroup(
              this.renderer.cameraBindGroup.index,
              this.renderer.cameraBindGroup.bindGroup
            );
          }
          renderPassEntry.stack.projected.opaque.forEach((mesh) => mesh.render(pass));
          renderPassEntry.stack.projected.transparent.forEach((mesh) => mesh.render(pass));
        }
      }
      !this.renderer.production && pass.popDebugGroup();
      pass.end();
      renderPassEntry.onAfterRenderPass && renderPassEntry.onAfterRenderPass(commandEncoder, swapChainTexture);
      this.renderer.pipelineManager.resetCurrentPipeline();
    }
    /**
     * Render our {@link Scene}
     * - Render {@link computePassEntries} first
     * - Then our {@link renderPassEntries}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      this.computePassEntries.forEach((computePass) => {
        const pass = commandEncoder.beginComputePass();
        computePass.render(pass);
        pass.end();
        computePass.copyBufferToResult(commandEncoder);
        this.renderer.pipelineManager.resetCurrentPipeline();
      });
      for (const renderPassEntryType in this.renderPassEntries) {
        let passDrawnCount = 0;
        this.renderPassEntries[renderPassEntryType].forEach((renderPassEntry) => {
          if (!this.getRenderPassEntryLength(renderPassEntry))
            return;
          renderPassEntry.renderPass.setLoadOp(
            renderPassEntryType === "screen" && passDrawnCount !== 0 ? "load" : "clear"
          );
          passDrawnCount++;
          this.renderSinglePassEntry(commandEncoder, renderPassEntry);
        });
      }
    }
    /**
     * Logs all the main commands executed during each {@link Scene#render | Scene render} calls.
     */
    logRenderCommands() {
      const renderCommands = [];
      this.computePassEntries.forEach((computePass) => {
        renderCommands.push({
          command: "Render ComputePass",
          content: computePass.options.label
        });
        computePass.material.bindGroups.forEach((bindGroup) => {
          bindGroup.bufferBindings.forEach((binding) => {
            if (binding.shouldCopyResult) {
              renderCommands.push({
                command: `Copy buffer to buffer`,
                source: `${binding.name} buffer`,
                destination: `${binding.name} result buffer`
              });
            }
          });
        });
      });
      for (const renderPassEntryType in this.renderPassEntries) {
        let passDrawnCount = 0;
        this.renderPassEntries[renderPassEntryType].forEach((renderPassEntry) => {
          if (!this.getRenderPassEntryLength(renderPassEntry))
            return;
          const destination = renderPassEntry.renderTexture ? `${renderPassEntry.renderTexture.options.label}` : "Context current texture";
          let descriptor = renderPassEntry.renderPass.options.label;
          const operations = {
            loadOp: renderPassEntryType === "screen" && passDrawnCount > 0 ? "load" : renderPassEntry.renderPass.options.loadOp,
            depthLoadOp: void 0
          };
          if (renderPassEntry.renderPass.options.depth) {
            operations.depthLoadOp = renderPassEntry.renderPass.options.depthLoadOp;
          }
          passDrawnCount++;
          if (renderPassEntry.element) {
            if (renderPassEntry.element.type === "ShaderPass" && !renderPassEntry.element.renderTarget) {
              renderCommands.push({
                command: `Copy texture to texture`,
                source: destination,
                destination: `${renderPassEntry.element.options.label} renderTexture`
              });
              operations.loadOp = "clear";
            }
            descriptor += " " + JSON.stringify(operations);
            renderCommands.push({
              command: `Render ${renderPassEntry.element.type}`,
              source: renderPassEntry.element.options.label,
              destination,
              descriptor
            });
            if (renderPassEntry.element.type === "ShaderPass" && renderPassEntry.element.renderTarget) {
              renderCommands.push({
                command: `Copy texture to texture`,
                source: destination,
                destination: `${renderPassEntry.element.renderTarget.options.label} renderTexture`
              });
            } else if (renderPassEntry.element.type === "PingPongPlane") {
              renderCommands.push({
                command: `Copy texture to texture`,
                source: destination,
                destination: `${renderPassEntry.element.renderTexture.options.label}`
              });
            }
          } else if (renderPassEntry.stack) {
            descriptor += " " + JSON.stringify(operations);
            for (const stackType in renderPassEntry.stack) {
              for (const objectType in renderPassEntry.stack[stackType]) {
                if (renderPassEntry.stack[stackType][objectType].length) {
                  renderCommands.push({
                    command: `Render stack (${stackType} ${objectType} objects)`,
                    source: renderPassEntry.stack[stackType][objectType],
                    destination,
                    descriptor
                  });
                }
              }
            }
          }
        });
      }
      console.table(renderCommands);
    }
  }

  var __accessCheck = (obj, member, msg) => {
    if (!member.has(obj))
      throw TypeError("Cannot " + msg);
  };
  var __privateGet = (obj, member, getter) => {
    __accessCheck(obj, member, "read from private field");
    return getter ? getter.call(obj) : member.get(obj);
  };
  var __privateAdd = (obj, member, value) => {
    if (member.has(obj))
      throw TypeError("Cannot add the same private member more than once");
    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
  };
  var __privateSet = (obj, member, value, setter) => {
    __accessCheck(obj, member, "write to private field");
    setter ? setter.call(obj, value) : member.set(obj, value);
    return value;
  };
  var __privateWrapper = (obj, member, setter, getter) => ({
    set _(value) {
      __privateSet(obj, member, value, setter);
    },
    get _() {
      return __privateGet(obj, member, getter);
    }
  });
  var _taskCount;
  class TasksQueueManager {
    /**
     * TaskQueueManager constructor
     */
    constructor() {
      /** Private number to assign a unique id to each {@link TaskQueueItem | task queue item} */
      __privateAdd(this, _taskCount, 0);
      this.queue = [];
    }
    /**
     * Add a {@link TaskQueueItem | task queue item} to the queue
     * @param callback - callback to add to the {@link TaskQueueItem | task queue item}
     * @param parameters - {@link TaskQueueItemParams | parameters} of the {@link TaskQueueItem | task queue item} to add
     * @returns - {@link TaskQueueItem#id | id} of the new {@link TaskQueueItem | task queue item}, useful to later remove the task if needed
     */
    add(callback = (args) => {
    }, { order = this.queue.length, once = false } = {}) {
      const task = {
        callback,
        order,
        once,
        id: __privateGet(this, _taskCount)
      };
      __privateWrapper(this, _taskCount)._++;
      this.queue.push(task);
      this.queue.sort((a, b) => {
        return a.order - b.order;
      });
      return task.id;
    }
    /**
     * Remove a {@link TaskQueueItem | task queue item} from the queue
     * @param taskId - {@link TaskQueueItem#id | id} of the new {@link TaskQueueItem | task queue item} to remove
     */
    remove(taskId = 0) {
      this.queue = this.queue.filter((task) => task.id !== taskId);
    }
    /**
     * Execute the {@link TasksQueueManager#queue | tasks queue array}
     */
    execute(args) {
      this.queue.forEach((task) => {
        task.callback(args);
        if (task.once) {
          this.remove(task.id);
        }
      });
    }
  }
  _taskCount = new WeakMap();

  class GPURenderer {
    /**
     * GPURenderer constructor
     * @param parameters - {@link GPURendererParams | parameters} used to create this {@link GPURenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass
    }) {
      // callbacks / events
      /** function assigned to the {@link onBeforeRender} callback */
      this._onBeforeRenderCallback = (commandEncoder) => {
      };
      /** function assigned to the {@link onAfterRender} callback */
      this._onAfterRenderCallback = (commandEncoder) => {
      };
      /** function assigned to the {@link onAfterResize} callback */
      this._onAfterResizeCallback = () => {
      };
      this.type = "GPURenderer";
      this.uuid = generateUUID();
      this.deviceManager = deviceManager;
      this.deviceManager.addRenderer(this);
      renderPass = { ...{ depth: true, sampleCount: 4, clearValue: [0, 0, 0, 0] }, ...renderPass };
      preferredFormat = preferredFormat ?? this.deviceManager.gpu?.getPreferredCanvasFormat();
      this.options = {
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass
      };
      this.pixelRatio = pixelRatio ?? window.devicePixelRatio ?? 1;
      this.alphaMode = alphaMode;
      this.setTasksQueues();
      this.setRendererObjects();
      const isContainerCanvas = container instanceof HTMLCanvasElement;
      this.canvas = isContainerCanvas ? container : document.createElement("canvas");
      this.domElement = new DOMElement({
        element: container,
        priority: 5,
        // renderer callback need to be called first
        onSizeChanged: (boundingRect) => this.resize(boundingRect)
      });
      if (!isContainerCanvas) {
        this.domElement.element.appendChild(this.canvas);
      }
      if (this.deviceManager.device) {
        this.setContext();
      }
    }
    /**
     * Set {@link canvas} size
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    setSize(boundingRect) {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.pixelRatio / devicePixelRatio;
      this.canvas.style.width = Math.floor(boundingRect.width) + "px";
      this.canvas.style.height = Math.floor(boundingRect.height) + "px";
      const renderingSize = {
        width: Math.floor(boundingRect.width * scaleBoundingRect),
        height: Math.floor(boundingRect.height * scaleBoundingRect)
      };
      this.canvas.width = this.device ? Math.min(renderingSize.width, this.device.limits.maxTextureDimension2D) : renderingSize.width;
      this.canvas.height = this.device ? Math.min(renderingSize.height, this.device.limits.maxTextureDimension2D) : renderingSize.height;
    }
    /**
     * Resize our {@link GPURenderer}
     * @param boundingRect - new {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    resize(boundingRect = null) {
      if (!this.domElement && !boundingRect)
        return;
      if (!boundingRect)
        boundingRect = this.domElement.element.getBoundingClientRect();
      this.setSize(boundingRect);
      this.onResize();
      this._onAfterResizeCallback && this._onAfterResizeCallback();
    }
    /**
     * Resize all tracked objects
     */
    onResize() {
      this.renderPass?.resize();
      this.postProcessingPass?.resize();
      this.renderTargets.forEach((renderTarget) => renderTarget.resize(this.pixelRatioBoundingRect));
      this.renderTextures.forEach((renderTexture) => renderTexture.resize());
      this.computePasses.forEach((computePass) => computePass.resize());
      this.pingPongPlanes.forEach((pingPongPlane) => pingPongPlane.resize(this.boundingRect));
      this.shaderPasses.forEach((shaderPass) => shaderPass.resize(this.boundingRect));
      this.meshes.forEach((mesh) => {
        if (!("domElement" in mesh)) {
          mesh.resize(this.boundingRect);
        } else {
          this.onBeforeCommandEncoderCreation.add(
            () => {
              if (!mesh.domElement.isResizing) {
                mesh.domElement.setSize();
              }
            },
            { once: true }
          );
        }
      });
    }
    /**
     * Get our {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle}
     */
    get boundingRect() {
      if (!!this.domElement.boundingRect) {
        return this.domElement.boundingRect;
      } else {
        const boundingRect = this.domElement.element?.getBoundingClientRect();
        return {
          top: boundingRect.top,
          right: boundingRect.right,
          bottom: boundingRect.bottom,
          left: boundingRect.left,
          width: boundingRect.width,
          height: boundingRect.height,
          x: boundingRect.x,
          y: boundingRect.y
        };
      }
    }
    /**
     * Get our {@link domElement | DOM Element} {@link DOMElement#boundingRect | bounding rectangle} accounting for current {@link pixelRatio | pixel ratio}
     */
    get pixelRatioBoundingRect() {
      const devicePixelRatio = window.devicePixelRatio ?? 1;
      const scaleBoundingRect = this.pixelRatio / devicePixelRatio;
      return Object.keys(this.boundingRect).reduce(
        (a, key) => ({ ...a, [key]: this.boundingRect[key] * scaleBoundingRect }),
        {
          x: 0,
          y: 0,
          width: 0,
          height: 0,
          top: 0,
          right: 0,
          bottom: 0,
          left: 0
        }
      );
    }
    /* USEFUL DEVICE MANAGER OBJECTS */
    /**
     * Get our {@link GPUDeviceManager#device | device}
     * @readonly
     */
    get device() {
      return this.deviceManager.device;
    }
    /**
     * Get whether our {@link GPUDeviceManager} is ready (i.e. its {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device} are set) its {@link context} is set and its size is set
     * @readonly
     */
    get ready() {
      return this.deviceManager.ready && !!this.context && !!this.canvas.style.width;
    }
    /**
     * Get our {@link GPUDeviceManager#production | GPUDeviceManager production flag}
     * @readonly
     */
    get production() {
      return this.deviceManager.production;
    }
    /**
     * Get all the created {@link GPUDeviceManager#samplers | samplers}
     * @readonly
     */
    get samplers() {
      return this.deviceManager.samplers;
    }
    /**
     * Get all the created {@link GPUDeviceManager#buffers | GPU buffers}
     * @readonly
     */
    get buffers() {
      return this.deviceManager.buffers;
    }
    /**
     * Get the {@link GPUDeviceManager#pipelineManager | pipeline manager}
     * @readonly
     */
    get pipelineManager() {
      return this.deviceManager.pipelineManager;
    }
    /**
     * Get all the rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes) created by the {@link GPUDeviceManager}
     * @readonly
     */
    get deviceRenderedObjects() {
      return this.deviceManager.deviceRenderedObjects;
    }
    /**
     * Configure our {@link context} with the given options
     */
    configureContext() {
      this.context.configure({
        device: this.device,
        format: this.options.preferredFormat,
        alphaMode: this.alphaMode,
        // needed so we can copy textures for post processing usage
        usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC | GPUTextureUsage.COPY_DST
        //viewFormats: []
      });
    }
    /**
     * Set our {@link context} if possible and set {@link renderPass | main render pass} and {@link scene}
     */
    setContext() {
      this.context = this.canvas.getContext("webgpu");
      if (this.device) {
        this.configureContext();
        this.setMainRenderPasses();
        this.setScene();
      }
    }
    /**
     * Called when the {@link GPUDeviceManager#device | device} is lost.
     * Force all our scene objects to lose context.
     */
    loseContext() {
      this.renderedObjects.forEach((sceneObject) => sceneObject.loseContext());
    }
    /**
     * Called when the {@link GPUDeviceManager#device | device} should be restored.
     * Configure the context again, resize the {@link RenderTarget | render targets} and {@link RenderTexture | render textures}, restore our {@link renderedObjects | rendered objects} context.
     * @async
     */
    restoreContext() {
      this.configureContext();
      this.renderTextures.forEach((renderTexture) => {
        renderTexture.forceResize({
          width: Math.floor(this.pixelRatioBoundingRect.width),
          height: Math.floor(this.pixelRatioBoundingRect.height),
          depth: 1
        });
      });
      this.renderPass?.resize();
      this.postProcessingPass?.resize();
      this.renderTargets.forEach((renderTarget) => renderTarget.resize(this.pixelRatioBoundingRect));
      this.renderedObjects.forEach((sceneObject) => sceneObject.restoreContext());
    }
    /* PIPELINES, SCENE & MAIN RENDER PASS */
    /**
     * Set our {@link renderPass | main render pass} that will be used to render the result of our draw commands back to the screen
     */
    setMainRenderPasses() {
      this.renderPass = new RenderPass(this, {
        label: "Main render pass",
        targetFormat: this.options.preferredFormat,
        ...this.options.renderPass
      });
      this.postProcessingPass = new RenderPass(this, {
        label: "Post processing render pass",
        targetFormat: this.options.preferredFormat,
        depth: false,
        sampleCount: this.options.renderPass.sampleCount
        // TODO?
      });
    }
    /**
     * Set our {@link scene}
     */
    setScene() {
      this.scene = new Scene({ renderer: this });
    }
    /* BUFFERS & BINDINGS */
    /**
     * Create a {@link GPUBuffer}
     * @param bufferDescriptor - {@link GPUBufferDescriptor | GPU buffer descriptor}
     * @returns - newly created {@link GPUBuffer}
     */
    createBuffer(bufferDescriptor) {
      const buffer = this.device?.createBuffer(bufferDescriptor);
      this.deviceManager.addBuffer(buffer);
      return buffer;
    }
    /**
     * Remove a {@link GPUBuffer} from our {@link GPUDeviceManager#buffers | GPU buffers array}
     * @param buffer - {@link GPUBuffer} to remove
     * @param [originalLabel] - original {@link GPUBuffer} label in case the buffer has been swapped and its label has changed
     */
    removeBuffer(buffer, originalLabel) {
      this.deviceManager.removeBuffer(buffer, originalLabel);
    }
    /**
     * Write to a {@link GPUBuffer}
     * @param buffer - {@link GPUBuffer} to write to
     * @param bufferOffset - {@link GPUSize64 | buffer offset}
     * @param data - {@link BufferSource | data} to write
     */
    queueWriteBuffer(buffer, bufferOffset, data) {
      this.device?.queue.writeBuffer(buffer, bufferOffset, data);
    }
    /**
     * Copy a source {@link GPUBuffer} into a destination {@link GPUBuffer}
     * @param parameters - parameters used to realize the copy
     * @param parameters.srcBuffer - source {@link GPUBuffer}
     * @param [parameters.dstBuffer] - destination {@link GPUBuffer}. Will create a new one if none provided.
     * @param [parameters.commandEncoder] - {@link GPUCommandEncoder} to use for the copy. Will create a new one and submit the command buffer if none provided.
     * @returns - destination {@link GPUBuffer} after copy
     */
    copyBufferToBuffer({
      srcBuffer,
      dstBuffer,
      commandEncoder
    }) {
      if (!srcBuffer) {
        throwWarning(`${this.type}: cannot copy to buffer because the source buffer has not been provided`);
        return null;
      }
      if (!dstBuffer) {
        dstBuffer = this.createBuffer({
          label: this.type + ": destination copy buffer from: " + srcBuffer.label,
          size: srcBuffer.size,
          usage: GPUBufferUsage.MAP_READ | GPUBufferUsage.COPY_DST
        });
      }
      if (srcBuffer.mapState !== "unmapped") {
        throwWarning(`${this.type}: Cannot copy from ${srcBuffer} because it is currently mapped`);
        return;
      }
      if (dstBuffer.mapState !== "unmapped") {
        throwWarning(`${this.type}: Cannot copy from ${dstBuffer} because it is currently mapped`);
        return;
      }
      const hasCommandEncoder = !!commandEncoder;
      if (!hasCommandEncoder) {
        commandEncoder = this.device?.createCommandEncoder({ label: "Copy buffer command encoder" });
        !this.production && commandEncoder.pushDebugGroup("Copy buffer command encoder");
      }
      commandEncoder.copyBufferToBuffer(srcBuffer, 0, dstBuffer, 0, dstBuffer.size);
      if (!hasCommandEncoder) {
        !this.production && commandEncoder.popDebugGroup();
        const commandBuffer = commandEncoder.finish();
        this.device?.queue.submit([commandBuffer]);
      }
      return dstBuffer;
    }
    /* BIND GROUPS & LAYOUTS */
    /**
     * Get all created {@link AllowedBindGroups | bind group} tracked by our {@link GPUDeviceManager}
     * @readonly
     */
    get bindGroups() {
      return this.deviceManager.bindGroups;
    }
    /**
     * Add a {@link AllowedBindGroups | bind group} to our {@link GPUDeviceManager#bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to add
     */
    addBindGroup(bindGroup) {
      this.deviceManager.addBindGroup(bindGroup);
    }
    /**
     * Remove a {@link AllowedBindGroups | bind group} from our {@link GPUDeviceManager#bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to remove
     */
    removeBindGroup(bindGroup) {
      this.deviceManager.removeBindGroup(bindGroup);
    }
    /**
     * Create a {@link GPUBindGroupLayout}
     * @param bindGroupLayoutDescriptor - {@link GPUBindGroupLayoutDescriptor | GPU bind group layout descriptor}
     * @returns - newly created {@link GPUBindGroupLayout}
     */
    createBindGroupLayout(bindGroupLayoutDescriptor) {
      return this.device?.createBindGroupLayout(bindGroupLayoutDescriptor);
    }
    /**
     * Create a {@link GPUBindGroup}
     * @param bindGroupDescriptor - {@link GPUBindGroupDescriptor | GPU bind group descriptor}
     * @returns - newly created {@link GPUBindGroup}
     */
    createBindGroup(bindGroupDescriptor) {
      return this.device?.createBindGroup(bindGroupDescriptor);
    }
    /* SHADERS & PIPELINES */
    /**
     * Create a {@link GPUShaderModule}
     * @param shaderModuleDescriptor - {@link shaderModuleDescriptor | shader module descriptor}
     * @returns - newly created {@link GPUShaderModule}
     */
    createShaderModule(shaderModuleDescriptor) {
      return this.device?.createShaderModule(shaderModuleDescriptor);
    }
    /**
     * Create a {@link GPUPipelineLayout}
     * @param pipelineLayoutDescriptor - {@link GPUPipelineLayoutDescriptor | GPU pipeline layout descriptor}
     * @returns - newly created {@link GPUPipelineLayout}
     */
    createPipelineLayout(pipelineLayoutDescriptor) {
      return this.device?.createPipelineLayout(pipelineLayoutDescriptor);
    }
    /**
     * Create a {@link GPURenderPipeline}
     * @param pipelineDescriptor - {@link GPURenderPipelineDescriptor | GPU render pipeline descriptor}
     * @returns - newly created {@link GPURenderPipeline}
     */
    createRenderPipeline(pipelineDescriptor) {
      return this.device?.createRenderPipeline(pipelineDescriptor);
    }
    /**
     * Asynchronously create a {@link GPURenderPipeline}
     * @async
     * @param pipelineDescriptor - {@link GPURenderPipelineDescriptor | GPU render pipeline descriptor}
     * @returns - newly created {@link GPURenderPipeline}
     */
    async createRenderPipelineAsync(pipelineDescriptor) {
      return await this.device?.createRenderPipelineAsync(pipelineDescriptor);
    }
    /**
     * Create a {@link GPUComputePipeline}
     * @param pipelineDescriptor - {@link GPUComputePipelineDescriptor | GPU compute pipeline descriptor}
     * @returns - newly created {@link GPUComputePipeline}
     */
    createComputePipeline(pipelineDescriptor) {
      return this.device?.createComputePipeline(pipelineDescriptor);
    }
    /**
     * Asynchronously create a {@link GPUComputePipeline}
     * @async
     * @param pipelineDescriptor - {@link GPUComputePipelineDescriptor | GPU compute pipeline descriptor}
     * @returns - newly created {@link GPUComputePipeline}
     */
    async createComputePipelineAsync(pipelineDescriptor) {
      return await this.device?.createComputePipelineAsync(pipelineDescriptor);
    }
    /* TEXTURES */
    /**
     * Get all created {@link Texture} tracked by our {@link GPUDeviceManager}
     * @readonly
     */
    get textures() {
      return this.deviceManager.textures;
    }
    /**
     * Add a {@link Texture} to our {@link GPUDeviceManager#textures | textures array}
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.deviceManager.addTexture(texture);
    }
    /**
     * Remove a {@link Texture} from our {@link GPUDeviceManager#textures | textures array}
     * @param texture - {@link Texture} to remove
     */
    removeTexture(texture) {
      this.deviceManager.removeTexture(texture);
    }
    /**
     * Add a {@link RenderTexture} to our {@link renderTextures} array
     * @param texture - {@link RenderTexture} to add
     */
    addRenderTexture(texture) {
      this.renderTextures.push(texture);
    }
    /**
     * Remove a {@link RenderTexture} from our {@link renderTextures} array
     * @param texture - {@link RenderTexture} to remove
     */
    removeRenderTexture(texture) {
      this.renderTextures = this.renderTextures.filter((t) => t.uuid !== texture.uuid);
    }
    /**
     * Create a {@link GPUTexture}
     * @param textureDescriptor - {@link GPUTextureDescriptor | GPU texture descriptor}
     * @returns - newly created {@link GPUTexture}
     */
    createTexture(textureDescriptor) {
      return this.device?.createTexture(textureDescriptor);
    }
    /**
     * Upload a {@link Texture#texture | texture} to the GPU
     * @param texture - {@link Texture} class object with the {@link Texture#texture | texture} to upload
     */
    uploadTexture(texture) {
      this.deviceManager.uploadTexture(texture);
    }
    /**
     * Import a {@link GPUExternalTexture}
     * @param video - {@link HTMLVideoElement} source
     * @returns - {@link GPUExternalTexture}
     */
    importExternalTexture(video) {
      return this.device?.importExternalTexture({ source: video });
    }
    /**
     * Check if a {@link Sampler} has already been created with the same {@link Sampler#options | parameters}.
     * Use it if found, else create a new one and add it to the {@link GPUDeviceManager#samplers | samplers array}.
     * @param sampler - {@link Sampler} to create
     * @returns - the {@link GPUSampler}
     */
    createSampler(sampler) {
      const existingSampler = this.samplers.find((existingSampler2) => {
        return JSON.stringify(existingSampler2.options) === JSON.stringify(sampler.options) && existingSampler2.sampler;
      });
      if (existingSampler) {
        return existingSampler.sampler;
      } else {
        const { type, ...samplerOptions } = sampler.options;
        const gpuSampler = this.device?.createSampler({
          label: sampler.label,
          ...samplerOptions
        });
        this.deviceManager.addSampler(sampler);
        return gpuSampler;
      }
    }
    /**
     * Remove a {@link Sampler} from our {@link GPUDeviceManager#samplers | samplers array}
     * @param sampler - {@link Sampler} to remove
     */
    removeSampler(sampler) {
      this.deviceManager.removeSampler(sampler);
    }
    /* OBJECTS & TASKS */
    /**
     * Set different tasks queue managers to execute callbacks at different phases of our render call:
     * - {@link onBeforeCommandEncoderCreation}: callbacks executed before the creation of the command encoder
     * - {@link onBeforeRenderScene}: callbacks executed after the creation of the command encoder and before rendering the {@link Scene}
     * - {@link onAfterRenderScene}: callbacks executed after the creation of the command encoder and after rendering the {@link Scene}
     * - {@link onAfterCommandEncoderSubmission}: callbacks executed after the submission of the command encoder
     */
    setTasksQueues() {
      this.onBeforeCommandEncoderCreation = new TasksQueueManager();
      this.onBeforeRenderScene = new TasksQueueManager();
      this.onAfterRenderScene = new TasksQueueManager();
      this.onAfterCommandEncoderSubmission = new TasksQueueManager();
    }
    /**
     * Set all objects arrays that we'll keep track of
     */
    setRendererObjects() {
      this.computePasses = [];
      this.pingPongPlanes = [];
      this.shaderPasses = [];
      this.renderTargets = [];
      this.meshes = [];
      this.renderTextures = [];
    }
    /**
     * Get all this {@link GPURenderer} rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes)
     * @readonly
     */
    get renderedObjects() {
      return [...this.computePasses, ...this.meshes, ...this.shaderPasses, ...this.pingPongPlanes];
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link ComputePass | compute passes}) using a given {@link AllowedBindGroups | bind group}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param bindGroup - {@link AllowedBindGroups | bind group} to check
     */
    getObjectsByBindGroup(bindGroup) {
      return this.deviceRenderedObjects.filter((object) => {
        return [
          ...object.material.bindGroups,
          ...object.material.inputsBindGroups,
          ...object.material.clonedBindGroups
        ].some((bG) => bG.uuid === bindGroup.uuid);
      });
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link ComputePass | compute passes}) using a given {@link Texture} or {@link RenderTexture}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param texture - {@link Texture} or {@link RenderTexture} to check
     */
    getObjectsByTexture(texture) {
      return this.deviceRenderedObjects.filter((object) => {
        return [...object.material.textures, ...object.material.renderTextures].some((t) => t.uuid === texture.uuid);
      });
    }
    /* EVENTS */
    /**
     * Assign a callback function to _onBeforeRenderCallback
     * @param callback - callback to run just before the {@link render} method will be executed
     * @returns - our {@link GPURenderer}
     */
    onBeforeRender(callback) {
      if (callback) {
        this._onBeforeRenderCallback = callback;
      }
      return this;
    }
    /**
     * Assign a callback function to _onAfterRenderCallback
     * @param callback - callback to run just after the {@link render} method has been executed
     * @returns - our {@link GPURenderer}
     */
    onAfterRender(callback) {
      if (callback) {
        this._onAfterRenderCallback = callback;
      }
      return this;
    }
    /**
     * Assign a callback function to _onAfterResizeCallback
     * @param callback - callback to run just after the {@link GPURenderer} has been resized
     * @returns - our {@link GPURenderer}
     */
    onAfterResize(callback) {
      if (callback) {
        this._onAfterResizeCallback = callback;
      }
      return this;
    }
    /* RENDER */
    /**
     * Set the current {@link RenderPass#descriptor | render pass descriptor} texture {@link GPURenderPassColorAttachment#view | view} and {@link GPURenderPassColorAttachment#resolveTarget | resolveTarget} (depending on whether we're using multisampling)
     * @param renderPass - current {@link RenderPass}
     * @param renderTexture - {@link GPUTexture} to use, or the {@link context} {@link GPUTexture | current texture} if null
     * @returns - the {@link GPUTexture | current render texture}
     */
    setRenderPassCurrentTexture(renderPass, renderTexture = null) {
      if (!renderTexture) {
        renderTexture = this.context.getCurrentTexture();
        renderTexture.label = `${this.type} context current texture`;
      }
      if (renderPass.options.sampleCount > 1) {
        renderPass.descriptor.colorAttachments[0].view = renderPass.viewTexture.texture.createView({
          label: renderPass.viewTexture.options.label + " view"
        });
        renderPass.descriptor.colorAttachments[0].resolveTarget = renderTexture.createView({
          label: renderTexture.label + " resolve target view"
        });
      } else {
        renderPass.descriptor.colorAttachments[0].view = renderTexture.createView({
          label: renderTexture.label + " view"
        });
      }
      return renderTexture;
    }
    /**
     * Render a single {@link ComputePass}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param computePass - {@link ComputePass}
     */
    renderSingleComputePass(commandEncoder, computePass) {
      const pass = commandEncoder.beginComputePass();
      computePass.render(pass);
      pass.end();
      computePass.copyBufferToResult(commandEncoder);
    }
    /**
     * Render a single {@link RenderedMesh | Mesh}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param mesh - {@link RenderedMesh | Mesh} to render
     */
    renderSingleMesh(commandEncoder, mesh) {
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      mesh.render(pass);
      pass.end();
    }
    /**
     * Render an array of objects (either {@link RenderedMesh | Meshes} or {@link ComputePass}) once. This method won't call any of the renderer render hooks like {@link onBeforeRender}, {@link onAfterRender}
     * @param objects - Array of {@link RenderedMesh | Meshes} or {@link ComputePass} to render
     */
    renderOnce(objects) {
      const commandEncoder = this.device?.createCommandEncoder({
        label: "Render once command encoder"
      });
      !this.production && commandEncoder.pushDebugGroup("Render once command encoder");
      this.pipelineManager.resetCurrentPipeline();
      objects.forEach((object) => {
        if (object instanceof ComputePass) {
          this.renderSingleComputePass(commandEncoder, object);
        } else {
          this.renderSingleMesh(commandEncoder, object);
        }
      });
      !this.production && commandEncoder.popDebugGroup();
      const commandBuffer = commandEncoder.finish();
      this.device?.queue.submit([commandBuffer]);
      this.pipelineManager.resetCurrentPipeline();
    }
    /**
     * Force to clear a {@link GPURenderer} content to its {@link RenderPass#options.clearValue | clear value} by rendering and empty pass.
     * @param commandEncoder
     */
    forceClear(commandEncoder) {
      const hasCommandEncoder = !!commandEncoder;
      if (!hasCommandEncoder) {
        commandEncoder = this.device?.createCommandEncoder({ label: "Force clear command encoder" });
        !this.production && commandEncoder.pushDebugGroup("Force clear command encoder");
      }
      this.setRenderPassCurrentTexture(this.renderPass);
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      pass.end();
      if (!hasCommandEncoder) {
        !this.production && commandEncoder.popDebugGroup();
        const commandBuffer = commandEncoder.finish();
        this.device?.queue.submit([commandBuffer]);
      }
    }
    /**
     * Called by the {@link GPUDeviceManager#render | GPUDeviceManager render method} before the {@link GPUCommandEncoder} has been created
     */
    onBeforeCommandEncoder() {
      if (!this.ready)
        return;
      this.onBeforeCommandEncoderCreation.execute();
    }
    /**
     * Called by the {@link GPUDeviceManager#render | GPUDeviceManager render method} after the {@link GPUCommandEncoder} has been created.
     */
    onAfterCommandEncoder() {
      if (!this.ready)
        return;
      this.onAfterCommandEncoderSubmission.execute();
    }
    /**
     * Called at each draw call to render our scene and its content
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      if (!this.ready)
        return;
      this._onBeforeRenderCallback && this._onBeforeRenderCallback(commandEncoder);
      this.onBeforeRenderScene.execute(commandEncoder);
      this.scene?.render(commandEncoder);
      this._onAfterRenderCallback && this._onAfterRenderCallback(commandEncoder);
      this.onAfterRenderScene.execute(commandEncoder);
    }
    /**
     * Destroy our {@link GPURenderer} and everything that needs to be destroyed as well
     */
    destroy() {
      this.domElement?.destroy();
      this.renderPass?.destroy();
      this.postProcessingPass?.destroy();
      this.renderTargets.forEach((renderTarget) => renderTarget.destroy());
      this.renderedObjects.forEach((sceneObject) => sceneObject.remove());
      this.renderTextures.forEach((texture) => texture.destroy());
      this.context?.unconfigure();
    }
  }

  class GPUCameraRenderer extends GPURenderer {
    /**
     * GPUCameraRenderer constructor
     * @param parameters - {@link GPUCameraRendererParams | parameters} used to create this {@link GPUCameraRenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass,
      camera = {}
    }) {
      super({
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass
      });
      this.type = "GPUCameraRenderer";
      camera = { ...{ fov: 50, near: 0.01, far: 50 }, ...camera };
      this.options = {
        ...this.options,
        camera
      };
      this.setCamera(camera);
      this.setCameraBindGroupAndBinding();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} is lost.
     * Reset all our samplers, force all our scene objects and camera bind group to lose context.
     */
    loseContext() {
      super.loseContext();
      this.cameraBindGroup.loseContext();
    }
    /**
     * Called when the {@link core/renderers/GPUDeviceManager.GPUDeviceManager#device | device} should be restored.
     * Configure the context again, resize the {@link core/renderPasses/RenderTarget.RenderTarget | render targets} and {@link core/textures/RenderTexture.RenderTexture | render textures}, restore our {@link renderedObjects | rendered objects} context, re-write our {@link cameraBufferBinding | camera buffer binding}.
     * @async
     */
    async restoreContext() {
      this.cameraBufferBinding.shouldUpdate = true;
      return super.restoreContext();
    }
    /**
     * Set the {@link camera}
     * @param cameraParameters - {@link CameraBasePerspectiveOptions | parameters} used to create the {@link camera}
     */
    setCamera(cameraParameters) {
      const width = this.boundingRect ? this.boundingRect.width : 1;
      const height = this.boundingRect ? this.boundingRect.height : 1;
      this.camera = new Camera({
        fov: cameraParameters.fov,
        near: cameraParameters.near,
        far: cameraParameters.far,
        width,
        height,
        pixelRatio: this.pixelRatio,
        onMatricesChanged: () => {
          this.onCameraMatricesChanged();
        }
      });
    }
    /**
     * Update the {@link ProjectedMesh | projected meshes} sizes and positions when the {@link camera} {@link Camera#position | position} changes
     */
    onCameraMatricesChanged() {
      this.updateCameraBindings();
      this.meshes.forEach((mesh) => {
        if ("modelViewMatrix" in mesh) {
          mesh.shouldUpdateMatrixStack();
        }
      });
    }
    /**
     * Set the {@link cameraBufferBinding | camera buffer binding} and {@link cameraBindGroup | camera bind group}
     */
    setCameraBindGroupAndBinding() {
      this.cameraBufferBinding = new BufferBinding({
        label: "Camera",
        name: "camera",
        visibility: "vertex",
        struct: {
          model: {
            // camera model matrix
            name: "model",
            type: "mat4x4f",
            value: this.camera.modelMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.model.value = this.camera.modelMatrix;
            }
          },
          view: {
            // camera view matrix
            name: "view",
            type: "mat4x4f",
            value: this.camera.viewMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.view.value = this.camera.viewMatrix;
            }
          },
          projection: {
            // camera projection matrix
            name: "projection",
            type: "mat4x4f",
            value: this.camera.projectionMatrix,
            onBeforeUpdate: () => {
              this.cameraBufferBinding.inputs.projection.value = this.camera.projectionMatrix;
            }
          }
        }
      });
      this.cameraBindGroup = new BindGroup(this, {
        label: "Camera Uniform bind group",
        bindings: [this.cameraBufferBinding]
      });
    }
    /**
     * Create the {@link cameraBindGroup | camera bind group} buffers
     */
    setCameraBindGroup() {
      if (this.cameraBindGroup && this.cameraBindGroup.shouldCreateBindGroup) {
        this.cameraBindGroup.setIndex(0);
        this.cameraBindGroup.createBindGroup();
      }
    }
    /**
     * Tell our {@link cameraBufferBinding | camera buffer binding} that we should update its struct
     */
    updateCameraBindings() {
      this.cameraBufferBinding?.shouldUpdateBinding("model");
      this.cameraBufferBinding?.shouldUpdateBinding("view");
      this.cameraBufferBinding?.shouldUpdateBinding("projection");
    }
    /**
     * Get all objects ({@link RenderedMesh | rendered meshes} or {@link core/computePasses/ComputePass.ComputePass | compute passes}) using a given {@link AllowedBindGroups | bind group}, including {@link cameraBindGroup | camera bind group}.
     * Useful to know if a resource is used by multiple objects and if it is safe to destroy it or not.
     * @param bindGroup - {@link AllowedBindGroups | bind group} to check
     */
    getObjectsByBindGroup(bindGroup) {
      return this.deviceRenderedObjects.filter((object) => {
        return [
          ...object.material.bindGroups,
          ...object.material.inputsBindGroups,
          ...object.material.clonedBindGroups,
          this.cameraBindGroup
        ].some((bG) => bG.uuid === bindGroup.uuid);
      });
    }
    /**
     * Set our {@link camera} perspective matrix new parameters (fov, near plane and far plane)
     * @param parameters - {@link CameraBasePerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({ fov, near, far } = {}) {
      this.camera?.setPerspective({
        fov,
        near,
        far,
        width: this.boundingRect.width,
        height: this.boundingRect.height,
        pixelRatio: this.pixelRatio
      });
    }
    /**
     * Set our {@link camera} {@link Camera#position | position}
     * @param position - new {@link Camera#position | position}
     */
    setCameraPosition(position = new Vec3(0, 0, 1)) {
      this.camera.position.copy(position);
    }
    /**
     * Call our {@link GPURenderer#onResize | GPURenderer onResize method} and resize our {@link camera} as well
     */
    onResize() {
      super.onResize();
      this.setPerspective();
      this.updateCameraBindings();
    }
    /* RENDER */
    /**
     * Update the camera model matrix, check if the {@link cameraBindGroup | camera bind group} should be created, create it if needed and then update it
     */
    updateCamera() {
      this.camera?.updateMatrixStack();
      this.setCameraBindGroup();
      this.cameraBindGroup?.update();
    }
    /**
     * Render a single {@link RenderedMesh | mesh} (binds the {@link cameraBindGroup | camera bind group} if needed)
     * @param commandEncoder - current {@link GPUCommandEncoder}
     * @param mesh - {@link RenderedMesh | mesh} to render
     */
    renderSingleMesh(commandEncoder, mesh) {
      const pass = commandEncoder.beginRenderPass(this.renderPass.descriptor);
      if (mesh.material.options.rendering.useProjection) {
        pass.setBindGroup(this.cameraBindGroup.index, this.cameraBindGroup.bindGroup);
      }
      mesh.render(pass);
      pass.end();
    }
    /**
     * {@link updateCamera | Update the camera} and then call our {@link GPURenderer#render | GPURenderer render method}
     * @param commandEncoder - current {@link GPUCommandEncoder}
     */
    render(commandEncoder) {
      if (!this.ready)
        return;
      this.updateCamera();
      super.render(commandEncoder);
    }
    /**
     * Destroy our {@link GPUCameraRenderer}
     */
    destroy() {
      this.cameraBindGroup?.destroy();
      super.destroy();
    }
  }

  class GPUDeviceManager {
    /**
     * GPUDeviceManager constructor
     * @param parameters - {@link GPUDeviceManagerParams | parameters} used to create this {@link GPUDeviceManager}
     */
    constructor({
      label,
      production = false,
      onError = () => {
      },
      onDeviceLost = (info) => {
      }
    }) {
      this.index = 0;
      this.label = label ?? "GPUDeviceManager instance";
      this.production = production;
      this.ready = false;
      this.onError = onError;
      this.onDeviceLost = onDeviceLost;
      this.gpu = navigator.gpu;
      this.setPipelineManager();
      this.setDeviceObjects();
    }
    /**
     * Set our {@link adapter} and {@link device} if possible
     */
    async setAdapterAndDevice() {
      await this.setAdapter();
      await this.setDevice();
    }
    /**
     * Set up our {@link adapter} and {@link device} and all the already created {@link renderers} contexts
     */
    async init() {
      await this.setAdapterAndDevice();
      if (this.device) {
        this.renderers.forEach((renderer) => {
          if (!renderer.context) {
            renderer.setContext();
          }
        });
      }
    }
    /**
     * Set our {@link adapter} if possible.
     * The adapter represents a specific GPU. Some devices have multiple GPUs.
     * @async
     */
    async setAdapter() {
      if (!this.gpu) {
        this.onError();
        throwError("GPURenderer: WebGPU is not supported on your browser/OS. No 'gpu' object in 'navigator'.");
      }
      try {
        this.adapter = await this.gpu?.requestAdapter();
        this.adapter?.requestAdapterInfo().then((infos) => {
          this.adapterInfos = infos;
        });
      } catch (error) {
        this.onError();
        throwError("GPUDeviceManager: WebGPU is not supported on your browser/OS. 'requestAdapter' failed.");
      }
    }
    /**
     * Set our {@link device}
     * @async
     */
    async setDevice() {
      try {
        this.device = await this.adapter?.requestDevice({
          label: this.label + " " + this.index
        });
        if (this.device) {
          this.ready = true;
          this.index++;
        }
      } catch (error) {
        this.onError();
        throwError(`${this.label}: WebGPU is not supported on your browser/OS. 'requestDevice' failed: ${error}`);
      }
      this.device?.lost.then((info) => {
        throwWarning(`${this.label}: WebGPU device was lost: ${info.message}`);
        this.loseDevice();
        if (info.reason !== "destroyed") {
          this.onDeviceLost(info);
        }
      });
    }
    /**
     * Set our {@link pipelineManager | pipeline manager}
     */
    setPipelineManager() {
      this.pipelineManager = new PipelineManager();
    }
    /**
     * Called when the {@link device} is lost.
     * Reset all our renderers
     */
    loseDevice() {
      this.ready = false;
      this.samplers.forEach((sampler) => sampler.sampler = null);
      this.renderers.forEach((renderer) => renderer.loseContext());
      this.buffers = [];
    }
    /**
     * Called when the {@link device} should be restored.
     * Restore all our renderers
     */
    async restoreDevice() {
      await this.setAdapterAndDevice();
      if (this.device) {
        this.samplers.forEach((sampler) => {
          const { type, ...samplerOptions } = sampler.options;
          sampler.sampler = this.device.createSampler({
            label: sampler.label,
            ...samplerOptions
          });
        });
        this.renderers.forEach((renderer) => renderer.restoreContext());
      }
    }
    /**
     * Set all objects arrays that we'll keep track of
     */
    setDeviceObjects() {
      this.renderers = [];
      this.bindGroups = [];
      this.buffers = [];
      this.samplers = [];
      this.textures = [];
      this.texturesQueue = [];
    }
    /**
     * Add a {@link Renderer} to our {@link renderers} array
     * @param renderer - {@link Renderer} to add
     */
    addRenderer(renderer) {
      this.renderers.push(renderer);
    }
    /**
     * Remove a {@link Renderer} from our {@link renderers} array
     * @param renderer - {@link Renderer} to remove
     */
    removeRenderer(renderer) {
      this.renderers = this.renderers.filter((r) => r.uuid !== renderer.uuid);
    }
    /**
     * Get all the rendered objects (i.e. compute passes, meshes, ping pong planes and shader passes) created by this {@link GPUDeviceManager}
     * @readonly
     */
    get deviceRenderedObjects() {
      return this.renderers.map((renderer) => renderer.renderedObjects).flat();
    }
    /**
     * Add a {@link AllowedBindGroups | bind group} to our {@link bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to add
     */
    addBindGroup(bindGroup) {
      if (!this.bindGroups.find((bG) => bG.uuid === bindGroup.uuid)) {
        this.bindGroups.push(bindGroup);
      }
    }
    /**
     * Remove a {@link AllowedBindGroups | bind group} from our {@link bindGroups | bind groups array}
     * @param bindGroup - {@link AllowedBindGroups | bind group} to remove
     */
    removeBindGroup(bindGroup) {
      this.bindGroups = this.bindGroups.filter((bG) => bG.uuid !== bindGroup.uuid);
    }
    /**
     * Add a {@link GPUBuffer} to our our {@link buffers} array
     * @param buffer - {@link GPUBuffer} to add
     */
    addBuffer(buffer) {
      this.buffers.push(buffer);
    }
    /**
     * Remove a {@link GPUBuffer} from our {@link buffers} array
     * @param buffer - {@link GPUBuffer} to remove
     * @param [originalLabel] - original {@link GPUBuffer} label in case the buffer has been swapped and its label has changed
     */
    removeBuffer(buffer, originalLabel) {
      if (buffer) {
        this.buffers = this.buffers.filter((b) => {
          return !(b.label === (originalLabel ?? buffer.label) && b.size === buffer.size);
        });
      }
    }
    /**
     * Add a {@link Sampler} to our {@link samplers} array
     * @param sampler - {@link Sampler} to add
     */
    addSampler(sampler) {
      this.samplers.push(sampler);
    }
    /**
     * Remove a {@link Sampler} from our {@link samplers} array
     * @param sampler - {@link Sampler} to remove
     */
    removeSampler(sampler) {
      this.samplers = this.samplers.filter((s) => s.uuid !== sampler.uuid);
    }
    /**
     * Add a {@link Texture} to our {@link textures} array
     * @param texture - {@link Texture} to add
     */
    addTexture(texture) {
      this.textures.push(texture);
    }
    /**
     * Upload a {@link Texture#texture | texture} to the GPU
     * @param texture - {@link Texture} class object with the {@link Texture#texture | texture} to upload
     */
    uploadTexture(texture) {
      if (texture.source) {
        try {
          this.device?.queue.copyExternalImageToTexture(
            {
              source: texture.source,
              flipY: texture.options.flipY
            },
            { texture: texture.texture, premultipliedAlpha: texture.options.premultipliedAlpha },
            { width: texture.size.width, height: texture.size.height }
          );
          if (texture.texture.mipLevelCount > 1) {
            generateMips(this.device, texture.texture);
          }
          this.texturesQueue.push(texture);
        } catch ({ message }) {
          throwError(`GPUDeviceManager: could not upload texture: ${texture.options.name} because: ${message}`);
        }
      } else {
        this.device?.queue.writeTexture(
          { texture: texture.texture },
          new Uint8Array(texture.options.placeholderColor),
          { bytesPerRow: texture.size.width * 4 },
          { width: texture.size.width, height: texture.size.height }
        );
      }
    }
    /**
     * Remove a {@link Texture} from our {@link textures} array
     * @param texture - {@link Texture} to remove
     */
    removeTexture(texture) {
      this.textures = this.textures.filter((t) => t.uuid !== texture.uuid);
    }
    /**
     * Render everything:
     * - call all our {@link renderers} {@link core/renderers/GPURenderer.GPURenderer#onBeforeCommandEncoder | onBeforeCommandEncoder} callbacks
     * - create a {@link GPUCommandEncoder}
     * - render all our {@link renderers}
     * - submit our {@link GPUCommandBuffer}
     * - upload {@link Texture#texture | textures} that do not have a parentMesh
     * - empty our {@link texturesQueue} array
     * - call all our {@link renderers} {@link core/renderers/GPURenderer.GPURenderer#onAfterCommandEncoder | onAfterCommandEncoder} callbacks
     */
    render() {
      if (!this.ready)
        return;
      this.renderers.forEach((renderer) => renderer.onBeforeCommandEncoder());
      const commandEncoder = this.device?.createCommandEncoder({ label: this.label + " command encoder" });
      !this.production && commandEncoder.pushDebugGroup(this.label + " command encoder: main render loop");
      this.renderers.forEach((renderer) => renderer.render(commandEncoder));
      !this.production && commandEncoder.popDebugGroup();
      const commandBuffer = commandEncoder.finish();
      this.device?.queue.submit([commandBuffer]);
      this.textures.filter((texture) => !texture.parentMesh && texture.sourceLoaded && !texture.sourceUploaded).forEach((texture) => this.uploadTexture(texture));
      this.texturesQueue.forEach((texture) => {
        texture.sourceUploaded = true;
      });
      this.texturesQueue = [];
      this.renderers.forEach((renderer) => renderer.onAfterCommandEncoder());
    }
    /**
     * Destroy the {@link GPUDeviceManager} and its {@link renderers}
     */
    destroy() {
      this.device?.destroy();
      this.device = null;
      this.renderers.forEach((renderer) => renderer.destroy());
      this.bindGroups.forEach((bindGroup) => bindGroup.destroy());
      this.buffers.forEach((buffer) => buffer?.destroy());
      this.textures.forEach((texture) => texture.destroy());
      this.setDeviceObjects();
    }
  }

  class GPUCurtainsRenderer extends GPUCameraRenderer {
    /**
     * GPUCurtainsRenderer constructor
     * @param parameters - {@link GPUCameraRendererParams | parameters} used to create this {@link GPUCurtainsRenderer}
     */
    constructor({
      deviceManager,
      container,
      pixelRatio = 1,
      preferredFormat,
      alphaMode = "premultiplied",
      multisampled = true,
      renderPass,
      camera
    }) {
      super({
        deviceManager,
        container,
        pixelRatio,
        preferredFormat,
        alphaMode,
        renderPass,
        multisampled,
        camera
      });
      this.type = "GPUCurtainsRenderer";
    }
    /**
     * Add the {@link GPUCurtainsRenderer#domMeshes | domMeshes} to our tracked elements
     */
    setRendererObjects() {
      super.setRendererObjects();
      this.domMeshes = [];
    }
  }

  class ScrollManager {
    /**
     * ScrollManager constructor
     * @param parameters - {@link ScrollManagerParams | parameters} used to create this {@link ScrollManager}
     */
    constructor({
      scroll = { x: 0, y: 0 },
      delta = { x: 0, y: 0 },
      shouldWatch = true,
      onScroll = (delta2 = { x: 0, y: 0 }) => {
      }
    } = {}) {
      this.scroll = scroll;
      this.delta = delta;
      this.shouldWatch = shouldWatch;
      this.onScroll = onScroll;
      if (this.shouldWatch) {
        window.addEventListener("scroll", this.setScroll.bind(this), { passive: true });
      }
    }
    /**
     * Called by the scroll event listener
     */
    setScroll() {
      this.updateScrollValues({ x: window.pageXOffset, y: window.pageYOffset });
    }
    /**
     * Updates the scroll manager X and Y scroll values as well as last X and Y deltas
     * Internally called by the scroll event listener
     * Could be called externally as well if the user wants to handle the scroll by himself
     * @param parameters - {@link core/DOM/DOMElement.DOMPosition | scroll values}
     */
    updateScrollValues({ x, y }) {
      const lastScroll = this.scroll;
      this.scroll = { x, y };
      this.delta = {
        x: lastScroll.x - this.scroll.x,
        y: lastScroll.y - this.scroll.y
      };
      if (this.onScroll) {
        this.onScroll(this.delta);
      }
    }
    /**
     * Destroy our scroll manager (just remove our event listner if it had been added previously)
     */
    destroy() {
      if (this.shouldWatch) {
        window.removeEventListener("scroll", this.setScroll.bind(this), { passive: true });
      }
    }
  }

  class GPUCurtains {
    /**
     * GPUCurtains constructor
     * @param parameters - {@link GPUCurtainsParams | parameters} used to create this {@link GPUCurtains}
     */
    constructor({
      container,
      pixelRatio = window.devicePixelRatio ?? 1,
      preferredFormat,
      alphaMode = "premultiplied",
      production = false,
      multisampled = true,
      renderPass,
      camera,
      autoRender = true,
      autoResize = true,
      watchScroll = true
    } = {}) {
      // callbacks / events
      /** function assigned to the {@link onRender} callback */
      this._onRenderCallback = () => {
      };
      /** function assigned to the {@link onScroll} callback */
      this._onScrollCallback = () => {
      };
      /** function assigned to the {@link onError} callback */
      this._onErrorCallback = () => {
      };
      /** function assigned to the {@link onContextLost} callback */
      this._onContextLostCallback = () => {
      };
      this.type = "CurtainsGPU";
      this.options = {
        container,
        pixelRatio,
        camera,
        production,
        preferredFormat,
        alphaMode,
        multisampled,
        renderPass,
        autoRender,
        autoResize,
        watchScroll
      };
      this.setDeviceManager();
      if (container) {
        this.setContainer(container);
      }
    }
    /**
     * Set the {@link container}
     * @param container - {@link HTMLElement} or string representing an {@link HTMLElement} selector to use
     */
    setContainer(container) {
      if (!container) {
        const container2 = document.createElement("div");
        container2.setAttribute("id", "curtains-gpu-canvas");
        document.body.appendChild(container2);
        this.options.container = container2;
      } else {
        if (typeof container === "string") {
          container = document.querySelector(container);
          if (!container) {
            const container2 = document.createElement("div");
            container2.setAttribute("id", "curtains-gpu-canvas");
            document.body.appendChild(container2);
            this.options.container = container2;
          } else {
            this.options.container = container;
          }
        } else if (container instanceof Element) {
          this.options.container = container;
        }
      }
      this.container = this.options.container;
      this.setCurtains();
    }
    /**
     * Set the default {@link GPUCurtainsRenderer | renderer}
     */
    setMainRenderer() {
      this.createCurtainsRenderer({
        deviceManager: this.deviceManager,
        // TODO ...this.options?
        container: this.options.container,
        pixelRatio: this.options.pixelRatio,
        preferredFormat: this.options.preferredFormat,
        alphaMode: this.options.alphaMode,
        multisampled: this.options.multisampled,
        renderPass: this.options.renderPass,
        camera: this.options.camera
      });
    }
    /**
     * Patch the options with default values before creating a {@link Renderer}
     * @param parameters - parameters to patch
     */
    patchRendererOptions(parameters) {
      if (parameters.pixelRatio === void 0)
        parameters.pixelRatio = this.options.pixelRatio;
      return parameters;
    }
    /**
     * Create a new {@link GPURenderer} instance
     * @param parameters - {@link GPURendererParams | parameters} to use
     */
    createRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPURenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Create a new {@link GPUCameraRenderer} instance
     * @param parameters - {@link GPUCameraRendererParams | parameters} to use
     */
    createCameraRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPUCameraRenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Create a new {@link GPUCurtainsRenderer} instance
     * @param parameters - {@link GPUCameraRendererParams | parameters} to use
     */
    createCurtainsRenderer(parameters) {
      parameters = this.patchRendererOptions(parameters);
      return new GPUCurtainsRenderer({ ...parameters, deviceManager: this.deviceManager });
    }
    /**
     * Set our {@link GPUDeviceManager}
     */
    setDeviceManager() {
      this.deviceManager = new GPUDeviceManager({
        label: "GPUCurtains default device",
        production: this.options.production,
        onError: () => setTimeout(() => {
          this._onErrorCallback && this._onErrorCallback();
        }, 0),
        onDeviceLost: (info) => this._onContextLostCallback && this._onContextLostCallback(info)
      });
    }
    /**
     * Get all created {@link Renderer}
     * @readonly
     */
    get renderers() {
      return this.deviceManager.renderers;
    }
    /**
     * Get the default {@link GPUCurtainsRenderer} created
     * @readonly
     */
    get renderer() {
      return this.renderers[0];
    }
    /**
     * Set the {@link GPUDeviceManager} {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device} if possible, then set all created {@link Renderer} contexts
     */
    async setDevice() {
      await this.deviceManager.init();
    }
    /**
     * Restore the {@link GPUDeviceManager#adapter | adapter} and {@link GPUDeviceManager#device | device}
     * @async
     */
    async restoreContext() {
      await this.deviceManager.restoreDevice();
    }
    /**
     * Set the various event listeners, set the {@link GPUCurtainsRenderer} and start rendering if needed
     */
    setCurtains() {
      this.initEvents();
      this.setMainRenderer();
      if (this.options.autoRender) {
        this.animate();
      }
    }
    /* RENDERER TRACKED OBJECTS */
    /**
     * Get all the created {@link PingPongPlane}
     * @readonly
     */
    get pingPongPlanes() {
      return this.renderers?.map((renderer) => renderer.pingPongPlanes).flat();
    }
    /**
     * Get all the created {@link ShaderPass}
     * @readonly
     */
    get shaderPasses() {
      return this.renderers?.map((renderer) => renderer.shaderPasses).flat();
    }
    /**
     * Get all the created {@link ProjectedMesh | projected meshes}
     * @readonly
     */
    get meshes() {
      return this.renderers?.map((renderer) => renderer.meshes).flat();
    }
    /**
     * Get all the created {@link DOMMesh | DOM Meshes} (including {@link Plane | planes})
     * @readonly
     */
    get domMeshes() {
      return this.renderers?.filter((renderer) => renderer instanceof GPUCurtainsRenderer).map((renderer) => renderer.domMeshes).flat();
    }
    /**
     * Get all the created {@link Plane | planes}
     * @readonly
     */
    get planes() {
      return this.domMeshes.filter((domMesh) => domMesh instanceof Plane);
    }
    /**
     * Get all the created {@link ComputePass | compute passes}
     * @readonly
     */
    get computePasses() {
      return this.renderers?.map((renderer) => renderer.computePasses).flat();
    }
    /**
     * Get the {@link GPUCurtainsRenderer#camera | default GPUCurtainsRenderer camera}
     * @readonly
     */
    get camera() {
      return this.renderer?.camera;
    }
    /**
     * Set the {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer camera} perspective
     * @param parameters - {@link CameraBasePerspectiveOptions | parameters} to use for the perspective
     */
    setPerspective({ fov = 50, near = 0.01, far = 50 } = {}) {
      this.renderer?.setPerspective({ fov, near, far });
    }
    /**
     * Set the default {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer camera} {@link Camera#position | position}
     * @param position - new {@link Camera#position | position}
     */
    setCameraPosition(position = new Vec3(0, 0, 1)) {
      this.renderer?.setCameraPosition(position);
    }
    /**
     * Get our {@link GPUCurtainsRenderer#setPerspective | default GPUCurtainsRenderer bounding rectangle}
     */
    get boundingRect() {
      return this.renderer?.boundingRect;
    }
    /* SCROLL */
    /**
     * Set the {@link scrollManager}
     */
    initScroll() {
      this.scrollManager = new ScrollManager({
        // init values
        scroll: {
          x: window.pageXOffset,
          y: window.pageYOffset
        },
        delta: {
          x: 0,
          y: 0
        },
        shouldWatch: this.options.watchScroll,
        onScroll: (delta) => this.updateScroll(delta)
      });
    }
    /**
     * Update all {@link DOMMesh#updateScrollPosition | DOMMesh scroll positions}
     * @param delta - last {@link ScrollManager#delta | scroll delta values}
     */
    updateScroll(delta = { x: 0, y: 0 }) {
      this.domMeshes.forEach((mesh) => {
        if (mesh.domElement) {
          mesh.updateScrollPosition(delta);
        }
      });
      this._onScrollCallback && this._onScrollCallback();
    }
    /**
     * Update our {@link ScrollManager#scroll | scrollManager scroll values}. Called each time the scroll has changed if {@link GPUCurtains#options.watchScroll | watchScroll option} is set to true. Could be called externally as well.
     * @param scroll - new {@link DOMPosition | scroll values}
     */
    updateScrollValues(scroll = { x: 0, y: 0 }) {
      this.scrollManager.updateScrollValues(scroll);
    }
    /**
     * Get our {@link ScrollManager#delta | scrollManager delta values}
     * @readonly
     */
    get scrollDelta() {
      return this.scrollManager.delta;
    }
    /**
     * Get our {@link ScrollManager#scroll | scrollManager scroll values}
     * @readonly
     */
    get scrollValues() {
      return this.scrollManager.scroll;
    }
    /* EVENT LISTENERS */
    /**
     * Set the resize and scroll event listeners
     */
    initEvents() {
      resizeManager.useObserver(this.options.autoResize);
      this.initScroll();
    }
    /* EVENTS */
    /**
     * Called at each render frame
     * @param callback - callback to run at each render
     * @returns - our {@link GPUCurtains}
     */
    onRender(callback) {
      if (callback) {
        this._onRenderCallback = callback;
      }
      return this;
    }
    /**
     * Called each time the {@link ScrollManager#scroll | scrollManager scroll values} changed
     * @param callback - callback to run each time the {@link ScrollManager#scroll | scrollManager scroll values} changed
     * @returns - our {@link GPUCurtains}
     */
    onScroll(callback) {
      if (callback) {
        this._onScrollCallback = callback;
      }
      return this;
    }
    /**
     * Called if there's been an error while trying to create the {@link GPUDeviceManager#device | device}
     * @param callback - callback to run if there's been an error while trying to create the {@link GPUDeviceManager#device | device}
     * @returns - our {@link GPUCurtains}
     */
    onError(callback) {
      if (callback) {
        this._onErrorCallback = callback;
      }
      return this;
    }
    /**
     * Called whenever the {@link GPUDeviceManager#device | device} is lost
     * @param callback - callback to run whenever the {@link GPUDeviceManager#device | device} is lost
     * @returns - our {@link GPUCurtains}
     */
    onContextLost(callback) {
      if (callback) {
        this._onContextLostCallback = callback;
      }
      return this;
    }
    /**
     * Create a requestAnimationFrame loop and run it
     */
    animate() {
      this.render();
      this.animationFrameID = window.requestAnimationFrame(this.animate.bind(this));
    }
    /**
     * Render our {@link GPUDeviceManager}
     */
    render() {
      this._onRenderCallback && this._onRenderCallback();
      this.deviceManager.render();
    }
    /**
     * Destroy our {@link GPUCurtains} and {@link GPUDeviceManager}
     */
    destroy() {
      if (this.animationFrameID) {
        window.cancelAnimationFrame(this.animationFrameID);
      }
      this.deviceManager.destroy();
      this.scrollManager?.destroy();
      resizeManager.destroy();
    }
  }

  class BoxGeometry extends IndexedGeometry {
    constructor({
      widthSegments = 1,
      heightSegments = 1,
      depthSegments = 1,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "ccw", topology, instancesCount, vertexBuffers });
      this.type = "BoxGeometry";
      widthSegments = Math.floor(widthSegments);
      heightSegments = Math.floor(heightSegments);
      depthSegments = Math.floor(depthSegments);
      const vertices = [];
      const uvs = [];
      const normals = [];
      const indices = [];
      let numberOfVertices = 0;
      const buildPlane = (u, v, w, udir, vdir, width, height, depth, gridX, gridY) => {
        const segmentWidth = width / gridX;
        const segmentHeight = height / gridY;
        const widthHalf = width / 2;
        const heightHalf = height / 2;
        const depthHalf = depth / 2;
        const gridX1 = gridX + 1;
        const gridY1 = gridY + 1;
        let vertexCounter = 0;
        const vector = new Vec3();
        for (let iy = 0; iy < gridY1; iy++) {
          const y = iy * segmentHeight - heightHalf;
          for (let ix = 0; ix < gridX1; ix++) {
            const x = ix * segmentWidth - widthHalf;
            vector[u] = x * udir;
            vector[v] = y * vdir;
            vector[w] = depthHalf;
            vertices.push(vector.x, vector.y, vector.z);
            vector[u] = 0;
            vector[v] = 0;
            vector[w] = depth > 0 ? 1 : -1;
            normals.push(vector.x, vector.y, vector.z);
            uvs.push(ix / gridX);
            uvs.push(iy / gridY);
            vertexCounter += 1;
          }
        }
        for (let iy = 0; iy < gridY; iy++) {
          for (let ix = 0; ix < gridX; ix++) {
            const a = numberOfVertices + ix + gridX1 * iy;
            const b = numberOfVertices + ix + gridX1 * (iy + 1);
            const c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);
            const d = numberOfVertices + (ix + 1) + gridX1 * iy;
            indices.push(a, b, d);
            indices.push(b, c, d);
            numberOfVertices += vertexCounter;
          }
        }
      };
      buildPlane("z", "y", "x", -1, -1, 2, 2, 2, depthSegments, heightSegments);
      buildPlane("z", "y", "x", 1, -1, 2, 2, -2, depthSegments, heightSegments);
      buildPlane("x", "z", "y", 1, 1, 2, 2, 2, widthSegments, depthSegments);
      buildPlane("x", "z", "y", 1, -1, 2, 2, -2, widthSegments, depthSegments);
      buildPlane("x", "y", "z", 1, -1, 2, 2, 2, widthSegments, heightSegments);
      buildPlane("x", "y", "z", -1, -1, 2, 2, -2, widthSegments, heightSegments);
      this.setAttribute({
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(vertices)
      });
      this.setAttribute({
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(uvs)
      });
      this.setAttribute({
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(normals)
      });
      this.setIndexBuffer({
        array: this.useUint16IndexArray ? new Uint16Array(indices) : new Uint32Array(indices),
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
  }

  class SphereGeometry extends IndexedGeometry {
    constructor({
      widthSegments = 32,
      heightSegments = 16,
      phiStart = 0,
      phiLength = Math.PI * 2,
      thetaStart = 0,
      thetaLength = Math.PI,
      instancesCount = 1,
      vertexBuffers = [],
      topology
    } = {}) {
      super({ verticesOrder: "ccw", topology, instancesCount, vertexBuffers });
      this.type = "SphereGeometry";
      widthSegments = Math.max(3, Math.floor(widthSegments));
      heightSegments = Math.max(2, Math.floor(heightSegments));
      const radius = 1;
      const thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);
      let index = 0;
      const grid = [];
      const vertex = new Vec3();
      const normal = new Vec3();
      const indices = [];
      const vertices = [];
      const normals = [];
      const uvs = [];
      for (let iy = 0; iy <= heightSegments; iy++) {
        const verticesRow = [];
        const v = iy / heightSegments;
        let uOffset = 0;
        if (iy === 0 && thetaStart === 0) {
          uOffset = 0.5 / widthSegments;
        } else if (iy === heightSegments && thetaEnd === Math.PI) {
          uOffset = -0.5 / widthSegments;
        }
        for (let ix = 0; ix <= widthSegments; ix++) {
          const u = ix / widthSegments;
          vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
          vertex.y = radius * Math.cos(thetaStart + v * thetaLength);
          vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);
          vertices.push(vertex.x, vertex.y, vertex.z);
          normal.copy(vertex).normalize();
          normals.push(normal.x, normal.y, normal.z);
          uvs.push(u + uOffset, v);
          verticesRow.push(index++);
        }
        grid.push(verticesRow);
      }
      for (let iy = 0; iy < heightSegments; iy++) {
        for (let ix = 0; ix < widthSegments; ix++) {
          const a = grid[iy][ix + 1];
          const b = grid[iy][ix];
          const c = grid[iy + 1][ix];
          const d = grid[iy + 1][ix + 1];
          if (iy !== 0 || thetaStart > 0)
            indices.push(a, b, d);
          if (iy !== heightSegments - 1 || thetaEnd < Math.PI)
            indices.push(b, c, d);
        }
      }
      this.setAttribute({
        name: "position",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(vertices)
      });
      this.setAttribute({
        name: "uv",
        type: "vec2f",
        bufferFormat: "float32x2",
        size: 2,
        array: new Float32Array(uvs)
      });
      this.setAttribute({
        name: "normal",
        type: "vec3f",
        bufferFormat: "float32x3",
        size: 3,
        array: new Float32Array(normals)
      });
      this.setIndexBuffer({
        array: this.useUint16IndexArray ? new Uint16Array(indices) : new Uint32Array(indices),
        bufferFormat: this.useUint16IndexArray ? "uint16" : "uint32"
      });
    }
  }

  exports.BindGroup = BindGroup;
  exports.Binding = Binding;
  exports.Box3 = Box3;
  exports.BoxGeometry = BoxGeometry;
  exports.BufferBinding = BufferBinding;
  exports.Camera = Camera;
  exports.ComputeMaterial = ComputeMaterial;
  exports.ComputePass = ComputePass;
  exports.ComputePipelineEntry = ComputePipelineEntry;
  exports.DOMElement = DOMElement;
  exports.DOMFrustum = DOMFrustum;
  exports.DOMMesh = DOMMesh;
  exports.DOMObject3D = DOMObject3D;
  exports.FullscreenPlane = FullscreenPlane;
  exports.GPUCameraRenderer = GPUCameraRenderer;
  exports.GPUCurtains = GPUCurtains;
  exports.GPUCurtainsRenderer = GPUCurtainsRenderer;
  exports.GPUDeviceManager = GPUDeviceManager;
  exports.GPURenderer = GPURenderer;
  exports.Geometry = Geometry;
  exports.IndexedGeometry = IndexedGeometry;
  exports.Mat4 = Mat4;
  exports.Material = Material;
  exports.Mesh = Mesh;
  exports.Object3D = Object3D;
  exports.PingPongPlane = PingPongPlane;
  exports.PipelineEntry = PipelineEntry;
  exports.PipelineManager = PipelineManager;
  exports.Plane = Plane;
  exports.PlaneGeometry = PlaneGeometry;
  exports.ProjectedObject3D = ProjectedObject3D;
  exports.Quat = Quat;
  exports.RenderMaterial = RenderMaterial;
  exports.RenderPass = RenderPass;
  exports.RenderPipelineEntry = RenderPipelineEntry;
  exports.RenderTarget = RenderTarget;
  exports.RenderTexture = RenderTexture;
  exports.Sampler = Sampler;
  exports.SamplerBinding = SamplerBinding;
  exports.Scene = Scene;
  exports.ShaderPass = ShaderPass;
  exports.SphereGeometry = SphereGeometry;
  exports.Texture = Texture;
  exports.TextureBindGroup = TextureBindGroup;
  exports.TextureBinding = TextureBinding;
  exports.Vec2 = Vec2;
  exports.Vec3 = Vec3;
  exports.WritableBufferBinding = WritableBufferBinding;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3B1LWN1cnRhaW5zLnVtZC5janMiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy91dGlscy50cyIsIi4uL3NyYy9jb3JlL3JlbmRlcmVycy91dGlscy50cyIsIi4uL3NyYy9jb3JlL2JpbmRpbmdzL0JpbmRpbmcudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy91dGlscy50cyIsIi4uL3NyYy9tYXRoL1ZlYzIudHMiLCIuLi9zcmMvbWF0aC9RdWF0LnRzIiwiLi4vc3JjL21hdGgvTWF0NC50cyIsIi4uL3NyYy9tYXRoL1ZlYzMudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVyQXJyYXlFbGVtZW50LnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLnRzIiwiLi4vc3JjL2NvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLnRzIiwiLi4vc3JjL2NvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9UZXh0dXJlQmluZGluZy50cyIsIi4uL3NyYy9jb3JlL29iamVjdHMzRC9PYmplY3QzRC50cyIsIi4uL3NyYy9jb3JlL3RleHR1cmVzL1RleHR1cmUudHMiLCIuLi9zcmMvY29yZS9iaW5kR3JvdXBzL1RleHR1cmVCaW5kR3JvdXAudHMiLCIuLi9zcmMvY29yZS9iaW5kaW5ncy9TYW1wbGVyQmluZGluZy50cyIsIi4uL3NyYy9jb3JlL2NhbWVyYS9DYW1lcmEudHMiLCIuLi9zcmMvY29yZS9zYW1wbGVycy9TYW1wbGVyLnRzIiwiLi4vc3JjL2NvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZS50cyIsIi4uL3NyYy9jb3JlL21hdGVyaWFscy9NYXRlcmlhbC50cyIsIi4uL3NyYy9jb3JlL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwudHMiLCIuLi9zcmMvY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzLnRzIiwiLi4vc3JjL21hdGgvQm94My50cyIsIi4uL3NyYy9jb3JlL0RPTS9ET01GcnVzdHVtLnRzIiwiLi4vc3JjL2NvcmUvZ2VvbWV0cmllcy9HZW9tZXRyeS50cyIsIi4uL3NyYy9jb3JlL2dlb21ldHJpZXMvSW5kZXhlZEdlb21ldHJ5LnRzIiwiLi4vc3JjL2NvcmUvZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5LnRzIiwiLi4vc3JjL2NvcmUvbWF0ZXJpYWxzL1JlbmRlck1hdGVyaWFsLnRzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF92cy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF9mcy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluLnRzIiwiLi4vc3JjL3V0aWxzL0NhY2hlTWFuYWdlci50cyIsIi4uL3NyYy9jb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUudHMiLCIuLi9zcmMvY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Byb2plY3RlZF92cy53Z3NsLmpzIiwiLi4vc3JjL2NvcmUvc2hhZGVycy9jaHVua3MvZGVmYXVsdF9ub3JtYWxfZnMud2dzbC5qcyIsIi4uL3NyYy9jb3JlL21lc2hlcy9taXhpbnMvUHJvamVjdGVkTWVzaEJhc2VNaXhpbi50cyIsIi4uL3NyYy9jb3JlL21lc2hlcy9NZXNoLnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL1BpcGVsaW5lRW50cnkudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9nZXRfb3V0cHV0X3Bvc2l0aW9uLndnc2wuanMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9nZXRfdXZfY292ZXIud2dzbC5qcyIsIi4uL3NyYy9jb3JlL3NoYWRlcnMvY2h1bmtzL2dldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLndnc2wuanMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL1NoYWRlckNodW5rcy50cyIsIi4uL3NyYy9jb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL0NvbXB1dGVQaXBlbGluZUVudHJ5LnRzIiwiLi4vc3JjL2NvcmUvcGlwZWxpbmVzL1BpcGVsaW5lTWFuYWdlci50cyIsIi4uL3NyYy91dGlscy9SZXNpemVNYW5hZ2VyLnRzIiwiLi4vc3JjL2NvcmUvRE9NL0RPTUVsZW1lbnQudHMiLCIuLi9zcmMvY29yZS9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Bhc3NfZnMud2dzbC5qcyIsIi4uL3NyYy9jb3JlL3JlbmRlclBhc3Nlcy9TaGFkZXJQYXNzLnRzIiwiLi4vc3JjL2NvcmUvcmVuZGVyUGFzc2VzL1JlbmRlclBhc3MudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LnRzIiwiLi4vc3JjL2N1cnRhaW5zL21lc2hlcy9QaW5nUG9uZ1BsYW5lLnRzIiwiLi4vc3JjL2N1cnRhaW5zL29iamVjdHMzRC9ET01PYmplY3QzRC50cyIsIi4uL3NyYy9jdXJ0YWlucy9tZXNoZXMvRE9NTWVzaC50cyIsIi4uL3NyYy9jdXJ0YWlucy9tZXNoZXMvUGxhbmUudHMiLCIuLi9zcmMvY29yZS9zY2VuZXMvU2NlbmUudHMiLCIuLi9zcmMvdXRpbHMvVGFza3NRdWV1ZU1hbmFnZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXIudHMiLCIuLi9zcmMvY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci50cyIsIi4uL3NyYy9jdXJ0YWlucy9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlci50cyIsIi4uL3NyYy91dGlscy9TY3JvbGxNYW5hZ2VyLnRzIiwiLi4vc3JjL2N1cnRhaW5zL0dQVUN1cnRhaW5zLnRzIiwiLi4vc3JjL2V4dHJhcy9nZW9tZXRyaWVzL0JveEdlb21ldHJ5LnRzIiwiLi4vc3JjL2V4dHJhcy9nZW9tZXRyaWVzL1NwaGVyZUdlb21ldHJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGUgYSB1bmlxdWUgdW5pdmVyc2FsIGlkXG4gKiBAcmV0dXJucyAtIHVuaXF1ZSB1bml2ZXJzYWwgaWQgZ2VuZXJhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVVVSUQgPSAoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDhcbiAgICByZXR1cm4gdi50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG4vKipcbiAqIFR1cm5zIGEgc3RyaW5nIGludG8gYSBjYW1lbCBjYXNlIHN0cmluZ1xuICogQHBhcmFtIHN0cmluZyAtIHN0cmluZyB0byB0cmFuc2Zvcm1cbiAqIEByZXR1cm5zIC0gY2FtZWwgY2FzZSBzdHJpbmcgY3JlYXRlZFxuICovXG5leHBvcnQgY29uc3QgdG9DYW1lbENhc2UgPSAoc3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gc3RyaW5nXG4gICAgLnJlcGxhY2UoLyg/Ol5cXHd8W0EtWl18XFxiXFx3KS9nLCAobHRyLCBpZHgpID0+IChpZHggPT09IDAgPyBsdHIudG9Mb3dlckNhc2UoKSA6IGx0ci50b1VwcGVyQ2FzZSgpKSlcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnJylcbn1cblxuLyoqXG4gKiBUdXJucyBhIHN0cmluZyBpbnRvIGEga2ViYWIgY2FzZSBzdHJpbmdcbiAqIEBwYXJhbSBzdHJpbmcgLSBzdHJpbmcgdG8gdHJhbnNmb3JtXG4gKiBAcmV0dXJucyAtIGtlYmFiIGNhc2Ugc3RyaW5nIGNyZWF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IHRvS2ViYWJDYXNlID0gKHN0cmluZzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyaW5nKVxuICByZXR1cm4gY2FtZWxDYXNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2FtZWxDYXNlLnNsaWNlKDEpXG59XG5cbmxldCB3YXJuaW5nVGhyb3duID0gMFxuXG4vKipcbiAqIFRocm93IGEgY29uc29sZSB3YXJuaW5nIHdpdGggdGhlIHBhc3NlZCBhcmd1bWVudHNcbiAqIEBwYXJhbSB3YXJuaW5nIC0gd2FybmluZyB0byBiZSB0aHJvd25cbiAqL1xuZXhwb3J0IGNvbnN0IHRocm93V2FybmluZyA9ICh3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgaWYgKHdhcm5pbmdUaHJvd24gPiAxMDApIHtcbiAgICByZXR1cm5cbiAgfSBlbHNlIGlmICh3YXJuaW5nVGhyb3duID09PSAxMDApIHtcbiAgICBjb25zb2xlLndhcm4oJ0dQVUN1cnRhaW5zOiB0b28gbWFueSB3YXJuaW5ncyB0aHJvd24sIHN0b3AgbG9nZ2luZy4nKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKVxuICB9XG5cbiAgd2FybmluZ1Rocm93bisrXG59XG5cbi8qKlxuICogVGhyb3cgYSBqYXZhc2NyaXB0IGVycm9yIHdpdGggdGhlIHBhc3NlZCBhcmd1bWVudHNcbiAqIEBwYXJhbSBlcnJvciAtIGVycm9yIHRvIGJlIHRocm93blxuICovXG5leHBvcnQgY29uc3QgdGhyb3dFcnJvciA9IChlcnJvcjogc3RyaW5nKSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcihlcnJvcilcbn1cbiIsImltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVVJlbmRlcmVyIH0gZnJvbSAnLi9HUFVSZW5kZXJlcidcbmltcG9ydCB7IEdQVUNhbWVyYVJlbmRlcmVyIH0gZnJvbSAnLi9HUFVDYW1lcmFSZW5kZXJlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcblxuLyoqXG4gKiBBIFJlbmRlcmVyIGNvdWxkIGJlIGVpdGhlciBhIHtAbGluayBHUFVSZW5kZXJlcn0sIGEge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSBvciBhIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfVxuICogQHR5cGUge1JlbmRlcmVyfVxuICovXG5leHBvcnQgdHlwZSBSZW5kZXJlciA9IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlciB8IEdQVVJlbmRlcmVyXG4vKipcbiAqIEEgQ2FtZXJhUmVuZGVyZXIgY291bGQgYmUgZWl0aGVyIGEge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfSBvciBhIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfVxuICogQHR5cGUge0NhbWVyYVJlbmRlcmVyfVxuICovXG5leHBvcnQgdHlwZSBDYW1lcmFSZW5kZXJlciA9IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlclxuXG4vKipcbiAqIEZvcm1hdCBhIHJlbmRlcmVyIGVycm9yIGJhc2VkIG9uIGdpdmVuIHJlbmRlcmVyLCByZW5kZXJlciB0eXBlIGFuZCBvYmplY3QgdHlwZVxuICogQHBhcmFtIHJlbmRlcmVyIC0gcmVuZGVyZXIgdGhhdCBmYWlsZWQgdGhlIHRlc3RcbiAqIEBwYXJhbSByZW5kZXJlclR5cGUgLSBleHBlY3RlZCByZW5kZXJlciB0eXBlXG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlXG4gKi9cbmNvbnN0IGZvcm1hdFJlbmRlcmVyRXJyb3IgPSAocmVuZGVyZXI6IFJlbmRlcmVyLCByZW5kZXJlclR5cGUgPSAnR1BVUmVuZGVyZXInLCB0eXBlOiBzdHJpbmcgfCBudWxsKTogdm9pZCA9PiB7XG4gIGNvbnN0IGVycm9yID0gdHlwZVxuICAgID8gYFVuYWJsZSB0byBjcmVhdGUgJHt0eXBlfSBiZWNhdXNlIHRoZSAke3JlbmRlcmVyVHlwZX0gaXMgbm90IGRlZmluZWQ6ICR7cmVuZGVyZXJ9YFxuICAgIDogYFRoZSAke3JlbmRlcmVyVHlwZX0gaXMgbm90IGRlZmluZWQ6ICR7cmVuZGVyZXJ9YFxuICB0aHJvd0Vycm9yKGVycm9yKVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiByZW5kZXJlciBpcyBhIHtAbGluayBSZW5kZXJlcn1cbiAqIEBwYXJhbSByZW5kZXJlciAtIHJlbmRlcmVyIHRvIHRlc3RcbiAqIEBwYXJhbSB0eXBlIC0gb2JqZWN0IHR5cGUgdXNlZCB0byBmb3JtYXQgdGhlIGVycm9yIGlmIG5lZWRlZFxuICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSBnaXZlbiByZW5kZXJlciBpcyBhIHtAbGluayBSZW5kZXJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVuZGVyZXIgPSAocmVuZGVyZXI6IFJlbmRlcmVyIHwgdW5kZWZpbmVkLCB0eXBlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IGlzUmVuZGVyZXIgPVxuICAgIHJlbmRlcmVyICYmXG4gICAgKHJlbmRlcmVyLnR5cGUgPT09ICdHUFVSZW5kZXJlcicgfHxcbiAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVDYW1lcmFSZW5kZXJlcicgfHxcbiAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVDdXJ0YWluc1JlbmRlcmVyJylcblxuICBpZiAoIWlzUmVuZGVyZXIpIHtcbiAgICBmb3JtYXRSZW5kZXJlckVycm9yKHJlbmRlcmVyLCAnR1BVUmVuZGVyZXInLCB0eXBlKVxuICB9XG5cbiAgcmV0dXJuIGlzUmVuZGVyZXJcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9XG4gKiBAcGFyYW0gcmVuZGVyZXIgLSByZW5kZXJlciB0byB0ZXN0XG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlIHVzZWQgdG8gZm9ybWF0IHRoZSBlcnJvciBpZiBuZWVkZWRcbiAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBpc0NhbWVyYVJlbmRlcmVyID0gKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciB8IHVuZGVmaW5lZCwgdHlwZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpc0NhbWVyYVJlbmRlcmVyID1cbiAgICByZW5kZXJlciAmJiAocmVuZGVyZXIudHlwZSA9PT0gJ0dQVUNhbWVyYVJlbmRlcmVyJyB8fCByZW5kZXJlci50eXBlID09PSAnR1BVQ3VydGFpbnNSZW5kZXJlcicpXG5cbiAgaWYgKCFpc0NhbWVyYVJlbmRlcmVyKSB7XG4gICAgZm9ybWF0UmVuZGVyZXJFcnJvcihyZW5kZXJlciwgJ0dQVUNhbWVyYVJlbmRlcmVyJywgdHlwZSlcbiAgfVxuXG4gIHJldHVybiBpc0NhbWVyYVJlbmRlcmVyXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHJlbmRlcmVyIGlzIGEge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9XG4gKiBAcGFyYW0gcmVuZGVyZXIgLSByZW5kZXJlciB0byB0ZXN0XG4gKiBAcGFyYW0gdHlwZSAtIG9iamVjdCB0eXBlIHVzZWQgdG8gZm9ybWF0IHRoZSBlcnJvciBpZiBuZWVkZWRcbiAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgZ2l2ZW4gcmVuZGVyZXIgaXMgYSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ3VydGFpbnNSZW5kZXJlciA9IChyZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IHVuZGVmaW5lZCwgdHlwZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpc0N1cnRhaW5zUmVuZGVyZXIgPSByZW5kZXJlciAmJiByZW5kZXJlci50eXBlID09PSAnR1BVQ3VydGFpbnNSZW5kZXJlcidcblxuICBpZiAoIWlzQ3VydGFpbnNSZW5kZXJlcikge1xuICAgIGZvcm1hdFJlbmRlcmVyRXJyb3IocmVuZGVyZXIsICdHUFVDdXJ0YWluc1JlbmRlcmVyJywgdHlwZSlcbiAgfVxuXG4gIHJldHVybiBpc0N1cnRhaW5zUmVuZGVyZXJcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2VuZXJhdGUgbWlwcyBvbiB0aGUgR1BVXG4gKiBUYWtlbiBmcm9tIGh0dHBzOi8vd2ViZ3B1ZnVuZGFtZW50YWxzLm9yZy93ZWJncHUvbGVzc29ucy93ZWJncHUtaW1wb3J0aW5nLXRleHR1cmVzLmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTWlwcyA9ICgoKSA9PiB7XG4gIGxldCBzYW1wbGVyXG4gIGxldCBtb2R1bGVcbiAgY29uc3QgcGlwZWxpbmVCeUZvcm1hdCA9IHt9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGdlbmVyYXRlTWlwcyhkZXZpY2U6IEdQVURldmljZSwgdGV4dHVyZTogR1BVVGV4dHVyZSkge1xuICAgIGlmICghbW9kdWxlKSB7XG4gICAgICBtb2R1bGUgPSBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcbiAgICAgICAgbGFiZWw6ICd0ZXh0dXJlZCBxdWFkIHNoYWRlcnMgZm9yIG1pcCBsZXZlbCBnZW5lcmF0aW9uJyxcbiAgICAgICAgY29kZTogYFxuICAgICAgICAgICAgc3RydWN0IFZTT3V0cHV0IHtcbiAgICAgICAgICAgICAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0ZixcbiAgICAgICAgICAgICAgQGxvY2F0aW9uKDApIHRleGNvb3JkOiB2ZWMyZixcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIEB2ZXJ0ZXggZm4gdnMoXG4gICAgICAgICAgICAgIEBidWlsdGluKHZlcnRleF9pbmRleCkgdmVydGV4SW5kZXggOiB1MzJcbiAgICAgICAgICAgICkgLT4gVlNPdXRwdXQge1xuICAgICAgICAgICAgICB2YXIgcG9zID0gYXJyYXk8dmVjMmYsIDY+KFxuXG4gICAgICAgICAgICAgICAgdmVjMmYoIDAuMCwgIDAuMCksICAvLyBjZW50ZXJcbiAgICAgICAgICAgICAgICB2ZWMyZiggMS4wLCAgMC4wKSwgIC8vIHJpZ2h0LCBjZW50ZXJcbiAgICAgICAgICAgICAgICB2ZWMyZiggMC4wLCAgMS4wKSwgIC8vIGNlbnRlciwgdG9wXG5cbiAgICAgICAgICAgICAgICAvLyAyc3QgdHJpYW5nbGVcbiAgICAgICAgICAgICAgICB2ZWMyZiggMC4wLCAgMS4wKSwgIC8vIGNlbnRlciwgdG9wXG4gICAgICAgICAgICAgICAgdmVjMmYoIDEuMCwgIDAuMCksICAvLyByaWdodCwgY2VudGVyXG4gICAgICAgICAgICAgICAgdmVjMmYoIDEuMCwgIDEuMCksICAvLyByaWdodCwgdG9wXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgdmFyIHZzT3V0cHV0OiBWU091dHB1dDtcbiAgICAgICAgICAgICAgbGV0IHh5ID0gcG9zW3ZlcnRleEluZGV4XTtcbiAgICAgICAgICAgICAgdnNPdXRwdXQucG9zaXRpb24gPSB2ZWM0Zih4eSAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICB2c091dHB1dC50ZXhjb29yZCA9IHZlYzJmKHh5LngsIDEuMCAtIHh5LnkpO1xuICAgICAgICAgICAgICByZXR1cm4gdnNPdXRwdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgwKSBAYmluZGluZygwKSB2YXIgb3VyU2FtcGxlcjogc2FtcGxlcjtcbiAgICAgICAgICAgIEBncm91cCgwKSBAYmluZGluZygxKSB2YXIgb3VyVGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xuXG4gICAgICAgICAgICBAZnJhZ21lbnQgZm4gZnMoZnNJbnB1dDogVlNPdXRwdXQpIC0+IEBsb2NhdGlvbigwKSB2ZWM0ZiB7XG4gICAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlU2FtcGxlKG91clRleHR1cmUsIG91clNhbXBsZXIsIGZzSW5wdXQudGV4Y29vcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGAsXG4gICAgICB9KVxuXG4gICAgICBzYW1wbGVyID0gZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICBtaW5GaWx0ZXI6ICdsaW5lYXInLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoIXBpcGVsaW5lQnlGb3JtYXRbdGV4dHVyZS5mb3JtYXRdKSB7XG4gICAgICBwaXBlbGluZUJ5Rm9ybWF0W3RleHR1cmUuZm9ybWF0XSA9IGRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XG4gICAgICAgIGxhYmVsOiAnbWlwIGxldmVsIGdlbmVyYXRvciBwaXBlbGluZScsXG4gICAgICAgIGxheW91dDogJ2F1dG8nLFxuICAgICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgZW50cnlQb2ludDogJ3ZzJyxcbiAgICAgICAgfSxcbiAgICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgZW50cnlQb2ludDogJ2ZzJyxcbiAgICAgICAgICB0YXJnZXRzOiBbeyBmb3JtYXQ6IHRleHR1cmUuZm9ybWF0IH1dLFxuICAgICAgICB9LFxuICAgICAgfSlcbiAgICB9XG4gICAgY29uc3QgcGlwZWxpbmUgPSBwaXBlbGluZUJ5Rm9ybWF0W3RleHR1cmUuZm9ybWF0XVxuXG4gICAgY29uc3QgZW5jb2RlciA9IGRldmljZS5jcmVhdGVDb21tYW5kRW5jb2Rlcih7XG4gICAgICBsYWJlbDogJ21pcCBnZW4gZW5jb2RlcicsXG4gICAgfSlcblxuICAgIGxldCB3aWR0aCA9IHRleHR1cmUud2lkdGhcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZS5oZWlnaHRcbiAgICBsZXQgYmFzZU1pcExldmVsID0gMFxuICAgIHdoaWxlICh3aWR0aCA+IDEgfHwgaGVpZ2h0ID4gMSkge1xuICAgICAgd2lkdGggPSBNYXRoLm1heCgxLCAod2lkdGggLyAyKSB8IDApXG4gICAgICBoZWlnaHQgPSBNYXRoLm1heCgxLCAoaGVpZ2h0IC8gMikgfCAwKVxuXG4gICAgICBjb25zdCBiaW5kR3JvdXAgPSBkZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcbiAgICAgICAgbGF5b3V0OiBwaXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksXG4gICAgICAgIGVudHJpZXM6IFtcbiAgICAgICAgICB7IGJpbmRpbmc6IDAsIHJlc291cmNlOiBzYW1wbGVyIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYmluZGluZzogMSxcbiAgICAgICAgICAgIHJlc291cmNlOiB0ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICAgICAgICBiYXNlTWlwTGV2ZWwsXG4gICAgICAgICAgICAgIG1pcExldmVsQ291bnQ6IDEsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSlcblxuICAgICAgKytiYXNlTWlwTGV2ZWxcblxuICAgICAgY29uc3QgcmVuZGVyUGFzc0Rlc2NyaXB0b3IgPSB7XG4gICAgICAgIGxhYmVsOiAnb3VyIGJhc2ljIGNhbnZhcyByZW5kZXJQYXNzJyxcbiAgICAgICAgY29sb3JBdHRhY2htZW50czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZpZXc6IHRleHR1cmUuY3JlYXRlVmlldyh7IGJhc2VNaXBMZXZlbCwgbWlwTGV2ZWxDb3VudDogMSB9KSxcbiAgICAgICAgICAgIGxvYWRPcDogJ2NsZWFyJyxcbiAgICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFzcyA9IGVuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHJlbmRlclBhc3NEZXNjcmlwdG9yIGFzIEdQVVJlbmRlclBhc3NEZXNjcmlwdG9yKVxuICAgICAgcGFzcy5zZXRQaXBlbGluZShwaXBlbGluZSlcbiAgICAgIHBhc3Muc2V0QmluZEdyb3VwKDAsIGJpbmRHcm91cClcbiAgICAgIHBhc3MuZHJhdyg2KSAvLyBjYWxsIG91ciB2ZXJ0ZXggc2hhZGVyIDYgdGltZXNcbiAgICAgIHBhc3MuZW5kKClcbiAgICB9XG5cbiAgICBjb25zdCBjb21tYW5kQnVmZmVyID0gZW5jb2Rlci5maW5pc2goKVxuICAgIGRldmljZS5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuICB9XG59KSgpXG4iLCJpbXBvcnQgeyB0b0NhbWVsQ2FzZSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xyXG5pbXBvcnQgeyBNYXRlcmlhbFNoYWRlcnNUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMvTWF0ZXJpYWxzJ1xyXG5pbXBvcnQgeyBUZXh0dXJlQmluZGluZyB9IGZyb20gJy4vVGV4dHVyZUJpbmRpbmcnXHJcbmltcG9ydCB7IFNhbXBsZXJCaW5kaW5nIH0gZnJvbSAnLi9TYW1wbGVyQmluZGluZydcclxuXHJcbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHRleHR1cmUgYmluZGluZyB0eXBlcyAqL1xyXG5leHBvcnQgdHlwZSBUZXh0dXJlQmluZGluZ1R5cGUgPSAndGV4dHVyZScgfCAnZXh0ZXJuYWxUZXh0dXJlJyB8ICdzdG9yYWdlVGV4dHVyZScgfCAnZGVwdGhUZXh0dXJlJ1xyXG4vKiogRGVmaW5lcyBhbGwga2luZCBvZiBiaW5kaW5nIHR5cGVzICAqL1xyXG5leHBvcnQgdHlwZSBCaW5kaW5nVHlwZSA9ICd1bmlmb3JtJyB8ICdzdG9yYWdlJyB8IFRleHR1cmVCaW5kaW5nVHlwZSB8ICdzYW1wbGVyJ1xyXG5cclxuLy8gc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XR1NMLyNtZW1vcnktYWNjZXNzLW1vZGVcclxuLyoqIERlZmluZXMgYnVmZmVyIGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlcyAocmVhZCBvbmx5IG9yIHJlYWQvd3JpdGUpICovXHJcbmV4cG9ydCB0eXBlIEJ1ZmZlckJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlID0gJ3JlYWQnIHwgJ3JlYWRfd3JpdGUnXHJcbi8qKiBEZWZpbmVzIHRleHR1cmUgYmluZGluZyBtZW1vcnkgYWNjZXNzIHR5cGVzIChyZWFkIG9ubHksIHdyaXRlIG9ubHkgb3IgcmVhZC93cml0ZSkgKi9cclxuZXhwb3J0IHR5cGUgQmluZGluZ01lbW9yeUFjY2Vzc1R5cGUgPSBCdWZmZXJCaW5kaW5nTWVtb3J5QWNjZXNzVHlwZSB8ICd3cml0ZSdcclxuXHJcbi8qKlxyXG4gKiBEZWZpbmVzIGFsbCBraW5kIG9mIHtAbGluayBCaW5kaW5nfSB0aGF0IGFyZSByZWxhdGVkIHRvIHRleHR1cmVzIG9yIHNhbXBsZXJzXHJcbiAqL1xyXG5leHBvcnQgdHlwZSBUZXh0dXJlU2FtcGxlckJpbmRpbmdzID0gVGV4dHVyZUJpbmRpbmcgfCBTYW1wbGVyQmluZGluZ1xyXG5cclxuLyoqXHJcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIEJpbmRpbmd9IGNsYXNzIGluc3RhbmNpbmcgcGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBCaW5kaW5nUGFyYW1zIHtcclxuICAvKioge0BsaW5rIEJpbmRpbmd9IGxhYmVsICovXHJcbiAgbGFiZWw/OiBzdHJpbmdcclxuICAvKioge0BsaW5rIEJpbmRpbmd9IG5hbWUva2V5ICovXHJcbiAgbmFtZT86IHN0cmluZ1xyXG4gIC8qKiB7QGxpbmsgQmluZGluZ1R5cGUgfCBiaW5kaW5nIHR5cGV9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIEJpbmRpbmd9ICovXHJcbiAgYmluZGluZ1R5cGU/OiBCaW5kaW5nVHlwZVxyXG4gIC8qKiB7QGxpbmsgQmluZGluZ30gdmFyaWFibGVzIHNoYWRlcnMgdmlzaWJpbGl0eSAqL1xyXG4gIHZpc2liaWxpdHk/OiBNYXRlcmlhbFNoYWRlcnNUeXBlIHwgbnVsbFxyXG59XHJcblxyXG4vKipcclxuICogVXNlZCBhcyBhIHNoZWxsIHRvIGJ1aWxkIGFjdHVhbCBiaW5kaW5ncyB1cG9uLCBsaWtlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9LCB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nIHwgV3JpdGFibGVCdWZmZXJCaW5kaW5nfSwge0BsaW5rIFRleHR1cmVCaW5kaW5nfSBhbmQge0BsaW5rIFNhbXBsZXJCaW5kaW5nfS5cclxuICpcclxuICogVWx0aW1hdGVseSB0aGUgZ29hbCBvZiBhIHtAbGluayBCaW5kaW5nfSBlbGVtZW50IGlzIHRvIHByb3ZpZGUgY29ycmVjdCByZXNvdXJjZXMgZm9yIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXRFbnRyeX0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeX1cclxuICpcclxuICogIyMgV0dTTFxyXG4gKlxyXG4gKiBFYWNoIHtAbGluayBCaW5kaW5nfSBjcmVhdGVzIGl0cyBvd24gV0dTTCBjb2RlIHNuaXBwZXQgdmFyaWFibGUgZGVjbGFyYXRpb24sIHVzaW5nIHN0cnVjdHVyZWQgdHlwZXMgb3Igbm90LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEJpbmRpbmcge1xyXG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBCaW5kaW5nfSAqL1xyXG4gIGxhYmVsOiBzdHJpbmdcclxuICAvKiogVGhlIG5hbWUva2V5IG9mIHRoZSB7QGxpbmsgQmluZGluZ30gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIGJpbmRpbmcgdHlwZSBvZiB0aGUge0BsaW5rIEJpbmRpbmd9ICovXHJcbiAgYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlXHJcbiAgLyoqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSB7QGxpbmsgQmluZGluZ30gaW4gdGhlIHNoYWRlcnMgKi9cclxuICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZUZsYWdzXHJcbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQmluZGluZ30gKi9cclxuICBvcHRpb25zOiBCaW5kaW5nUGFyYW1zXHJcblxyXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB3ZSBzaG91bGQgcmVjcmVhdGUgdGhlIHBhcmVudE1lc2gge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwI2JpbmRHcm91cCB8IGJpbmQgZ3JvdXB9LCB1c3VhbGx5IHdoZW4gYSByZXNvdXJjZSBoYXMgY2hhbmdlZCAqL1xyXG4gIHNob3VsZFJlc2V0QmluZEdyb3VwOiBib29sZWFuXHJcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdlIHNob3VsZCByZWNyZWF0ZSB0aGUgcGFyZW50TWVzaCB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAjYmluZEdyb3VwTGF5b3V0IHwgR1BVIGJpbmQgZ3JvdXAgbGF5b3V0fSwgdXN1YWxseSB3aGVuIGEgcmVzb3VyY2UgbGF5b3V0IGhhcyBjaGFuZ2VkICovXHJcbiAgc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQ6IGJvb2xlYW5cclxuXHJcbiAgLyoqXHJcbiAgICogQmluZGluZyBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJpbmRpbmdQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIEJpbmRpbmd9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyBsYWJlbCA9ICdVbmlmb3JtJywgbmFtZSA9ICd1bmlmb3JtJywgYmluZGluZ1R5cGUgPSAndW5pZm9ybScsIHZpc2liaWxpdHkgfTogQmluZGluZ1BhcmFtcykge1xyXG4gICAgdGhpcy5sYWJlbCA9IGxhYmVsXHJcbiAgICB0aGlzLm5hbWUgPSB0b0NhbWVsQ2FzZShuYW1lKVxyXG4gICAgdGhpcy5iaW5kaW5nVHlwZSA9IGJpbmRpbmdUeXBlXHJcblxyXG4gICAgdGhpcy52aXNpYmlsaXR5ID0gdmlzaWJpbGl0eVxyXG4gICAgICA/ICgoKSA9PiB7XHJcbiAgICAgICAgICBzd2l0Y2ggKHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVydGV4JzpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuVkVSVEVYXHJcbiAgICAgICAgICAgIGNhc2UgJ2ZyYWdtZW50JzpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlRcclxuICAgICAgICAgICAgY2FzZSAnY29tcHV0ZSc6XHJcbiAgICAgICAgICAgICAgcmV0dXJuIEdQVVNoYWRlclN0YWdlLkNPTVBVVEVcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICByZXR1cm4gR1BVU2hhZGVyU3RhZ2UuVkVSVEVYIHwgR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQgfCBHUFVTaGFkZXJTdGFnZS5DT01QVVRFXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKVxyXG4gICAgICA6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHwgR1BVU2hhZGVyU3RhZ2UuQ09NUFVURVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHtcclxuICAgICAgbGFiZWwsXHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGJpbmRpbmdUeXBlLFxyXG4gICAgICB2aXNpYmlsaXR5LFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSBmYWxzZVxyXG4gICAgdGhpcy5zaG91bGRSZXNldEJpbmRHcm91cExheW91dCA9IGZhbHNlXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmdUeXBlIH0gZnJvbSAnLi9CaW5kaW5nJ1xuaW1wb3J0IHsgQnVmZmVyQmluZGluZyB9IGZyb20gJy4vQnVmZmVyQmluZGluZydcbmltcG9ydCB7IFRleHR1cmVCaW5kaW5nIH0gZnJvbSAnLi9UZXh0dXJlQmluZGluZydcblxuLyoqIERlZmluZXMgYSB0eXBlZCBhcnJheSAqL1xuZXhwb3J0IHR5cGUgVHlwZWRBcnJheSA9XG4gIHwgSW50OEFycmF5XG4gIHwgVWludDhBcnJheVxuICB8IFVpbnQ4Q2xhbXBlZEFycmF5XG4gIHwgSW50MTZBcnJheVxuICB8IFVpbnQxNkFycmF5XG4gIHwgSW50MzJBcnJheVxuICB8IFVpbnQzMkFycmF5XG4gIHwgRmxvYXQzMkFycmF5XG4gIHwgRmxvYXQ2NEFycmF5XG5cbi8qKiBEZWZpbmVzIGEgdHlwZWQgYXJyYXkgY29uc3RydWN0b3IgKi9cbmV4cG9ydCB0eXBlIFR5cGVkQXJyYXlDb25zdHJ1Y3RvciA9XG4gIHwgSW50OEFycmF5Q29uc3RydWN0b3JcbiAgfCBVaW50OEFycmF5Q29uc3RydWN0b3JcbiAgfCBJbnQxNkFycmF5Q29uc3RydWN0b3JcbiAgfCBVaW50MTZBcnJheUNvbnN0cnVjdG9yXG4gIHwgSW50MzJBcnJheUNvbnN0cnVjdG9yXG4gIHwgVWludDMyQXJyYXlDb25zdHJ1Y3RvclxuICB8IEZsb2F0MzJBcnJheUNvbnN0cnVjdG9yXG4gIHwgRmxvYXQ2NEFycmF5Q29uc3RydWN0b3JcblxuLyoqIERlZmluZXMgdGhlIHBvc3NpYmxlIFdHU0wgdmFyaWFibGUgdHlwZXMgKi9cbmV4cG9ydCB0eXBlIFdHU0xWYXJpYWJsZVR5cGUgPSBzdHJpbmcgLy8gVE9ETyAnbWF0NHg0ZicsICdtYXQzeDNmJywgJ3ZlYzNmJywgJ3ZlYzJmJywgJ2YzMicgZXRjXG5cbi8qKlxuICogRGVmaW5lcyBhIHtAbGluayBCdWZmZXJMYXlvdXR9IG9iamVjdCB1c2VkIHRvIHBhZCBvdXIge0BsaW5rIEdQVUJ1ZmZlcn0gYXJyYXlzXG4gKi9cbmV4cG9ydCB0eXBlIEJ1ZmZlckxheW91dCA9IHtcbiAgLyoqIE51bWJlciBvZiBlbGVtZW50cyBob2xkIGJ5IHRoaXMgdmFyaWFibGUgdHlwZSAqL1xuICBudW1FbGVtZW50czogbnVtYmVyXG4gIC8qKiBSZXF1aXJlZCBhbGlnbm1lbnQgYnkgdGhpcyB2YXJpYWJsZSB0eXBlICovXG4gIGFsaWduOiBudW1iZXJcbiAgLyoqIFNpemUgaW4gYnl0ZXMgb2YgdGhpcyB2YXJpYWJsZSB0eXBlICovXG4gIHNpemU6IG51bWJlclxuICAvKiogVmFyaWFibGUgdHlwZSAqL1xuICB0eXBlOiBXR1NMVmFyaWFibGVUeXBlXG4gIC8qKiBUeXBlZCBhcnJheSBjb25zdHJ1Y3RvciByZXF1aXJlZCBieSB0aGlzIHZhcmlhYmxlIHR5cGUgKi9cbiAgVmlldzogVHlwZWRBcnJheUNvbnN0cnVjdG9yXG4gIC8qKiBQYWQgdmFsdWVzIHJlcXVpcmVkIGJ5IHRoaXMgdmFyaWFibGUgdHlwZSAqL1xuICBwYWQ/OiBudW1iZXJbXVxufVxuXG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmVnZ21hbi93ZWJncHUtdXRpbHMvYmxvYi9tYWluL3NyYy9idWZmZXItdmlld3MudHNcbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFtidWZmZXIgbGF5b3V0XXtAbGluayBCdWZmZXJMYXlvdXR9IGZvciBnaXZlbiBbdmFyaWFibGUgdHlwZV17QGxpbmsgV0dTTFZhcmlhYmxlVHlwZX1cbiAqIEBwYXJhbSBidWZmZXJUeXBlIC0gW3ZhcmlhYmxlIHR5cGVde0BsaW5rIFdHU0xWYXJpYWJsZVR5cGV9IHRvIHVzZVxuICogQHJldHVybnMgLSB0aGUgW2J1ZmZlciBsYXlvdXRde0BsaW5rIEJ1ZmZlckxheW91dH1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEJ1ZmZlckxheW91dCA9IChidWZmZXJUeXBlOiBXR1NMVmFyaWFibGVUeXBlKTogQnVmZmVyTGF5b3V0ID0+IHtcbiAgY29uc3QgYnVmZmVyTGF5b3V0cyA9IHtcbiAgICBpMzI6IHsgbnVtRWxlbWVudHM6IDEsIGFsaWduOiA0LCBzaXplOiA0LCB0eXBlOiAnaTMyJywgVmlldzogSW50MzJBcnJheSB9LFxuICAgIHUzMjogeyBudW1FbGVtZW50czogMSwgYWxpZ246IDQsIHNpemU6IDQsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIGYzMjogeyBudW1FbGVtZW50czogMSwgYWxpZ246IDQsIHNpemU6IDQsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBmMTY6IHsgbnVtRWxlbWVudHM6IDEsIGFsaWduOiAyLCBzaXplOiAyLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcblxuICAgIHZlYzJmOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogOCwgc2l6ZTogOCwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIHZlYzJpOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogOCwgc2l6ZTogOCwgdHlwZTogJ2kzMicsIFZpZXc6IEludDMyQXJyYXkgfSxcbiAgICB2ZWMydTogeyBudW1FbGVtZW50czogMiwgYWxpZ246IDgsIHNpemU6IDgsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIHZlYzJoOiB7IG51bUVsZW1lbnRzOiAyLCBhbGlnbjogNCwgc2l6ZTogNCwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgdmVjM2k6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiAxNiwgc2l6ZTogMTIsIHR5cGU6ICdpMzInLCBWaWV3OiBJbnQzMkFycmF5IH0sXG4gICAgdmVjM3U6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiAxNiwgc2l6ZTogMTIsIHR5cGU6ICd1MzInLCBWaWV3OiBVaW50MzJBcnJheSB9LFxuICAgIHZlYzNmOiB7IG51bUVsZW1lbnRzOiAzLCBhbGlnbjogMTYsIHNpemU6IDEyLCB0eXBlOiAnZjMyJywgVmlldzogRmxvYXQzMkFycmF5IH0sXG4gICAgdmVjM2g6IHsgbnVtRWxlbWVudHM6IDMsIGFsaWduOiA4LCBzaXplOiA2LCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICB2ZWM0aTogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDE2LCBzaXplOiAxNiwgdHlwZTogJ2kzMicsIFZpZXc6IEludDMyQXJyYXkgfSxcbiAgICB2ZWM0dTogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDE2LCBzaXplOiAxNiwgdHlwZTogJ3UzMicsIFZpZXc6IFVpbnQzMkFycmF5IH0sXG4gICAgdmVjNGY6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiAxNiwgc2l6ZTogMTYsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICB2ZWM0aDogeyBudW1FbGVtZW50czogNCwgYWxpZ246IDgsIHNpemU6IDgsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuXG4gICAgLy8gQWxpZ25PZih2ZWNSKVx0U2l6ZU9mKGFycmF5PHZlY1IsIEM+KVxuICAgIG1hdDJ4MmY6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiA4LCBzaXplOiAxNiwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDJ4Mmg6IHsgbnVtRWxlbWVudHM6IDQsIGFsaWduOiA0LCBzaXplOiA4LCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQzeDJmOiB7IG51bUVsZW1lbnRzOiA2LCBhbGlnbjogOCwgc2l6ZTogMjQsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQzeDJoOiB7IG51bUVsZW1lbnRzOiA2LCBhbGlnbjogNCwgc2l6ZTogMTIsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDR4MmY6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiA4LCBzaXplOiAzMiwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDR4Mmg6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiA0LCBzaXplOiAxNiwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgbWF0MngzZjogeyBudW1FbGVtZW50czogOCwgYWxpZ246IDE2LCBzaXplOiAzMiwgcGFkOiBbMywgMV0sIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQyeDNoOiB7IG51bUVsZW1lbnRzOiA4LCBhbGlnbjogOCwgc2l6ZTogMTYsIHBhZDogWzMsIDFdLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQzeDNmOiB7IG51bUVsZW1lbnRzOiAxMiwgYWxpZ246IDE2LCBzaXplOiA0OCwgcGFkOiBbMywgMV0sIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQzeDNoOiB7IG51bUVsZW1lbnRzOiAxMiwgYWxpZ246IDgsIHNpemU6IDI0LCBwYWQ6IFszLCAxXSwgdHlwZTogJ3UxNicsIFZpZXc6IFVpbnQxNkFycmF5IH0sXG4gICAgbWF0NHgzZjogeyBudW1FbGVtZW50czogMTYsIGFsaWduOiAxNiwgc2l6ZTogNjQsIHBhZDogWzMsIDFdLCB0eXBlOiAnZjMyJywgVmlldzogRmxvYXQzMkFycmF5IH0sXG4gICAgbWF0NHgzaDogeyBudW1FbGVtZW50czogMTYsIGFsaWduOiA4LCBzaXplOiAzMiwgcGFkOiBbMywgMV0sIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDJ4NGY6IHsgbnVtRWxlbWVudHM6IDgsIGFsaWduOiAxNiwgc2l6ZTogMzIsIHR5cGU6ICdmMzInLCBWaWV3OiBGbG9hdDMyQXJyYXkgfSxcbiAgICBtYXQyeDRoOiB7IG51bUVsZW1lbnRzOiA4LCBhbGlnbjogOCwgc2l6ZTogMTYsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICAgIG1hdDN4NGY6IHsgbnVtRWxlbWVudHM6IDEyLCBhbGlnbjogMTYsIHNpemU6IDQ4LCBwYWQ6IFszLCAxXSwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDN4NGg6IHsgbnVtRWxlbWVudHM6IDEyLCBhbGlnbjogOCwgc2l6ZTogMjQsIHBhZDogWzMsIDFdLCB0eXBlOiAndTE2JywgVmlldzogVWludDE2QXJyYXkgfSxcbiAgICBtYXQ0eDRmOiB7IG51bUVsZW1lbnRzOiAxNiwgYWxpZ246IDE2LCBzaXplOiA2NCwgdHlwZTogJ2YzMicsIFZpZXc6IEZsb2F0MzJBcnJheSB9LFxuICAgIG1hdDR4NGg6IHsgbnVtRWxlbWVudHM6IDE2LCBhbGlnbjogOCwgc2l6ZTogMzIsIHR5cGU6ICd1MTYnLCBWaWV3OiBVaW50MTZBcnJheSB9LFxuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlckxheW91dHNbYnVmZmVyVHlwZV1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNvcnJlY3QgV0dTTCB2YXJpYWJsZSBkZWNsYXJhdGlvbiBjb2RlIGZyYWdtZW50IGJhc2VkIG9uIHRoZSBnaXZlbiBbYnVmZmVyIGJpbmRpbmdde0BsaW5rIEJ1ZmZlckJpbmRpbmd9XG4gKiBAcGFyYW0gYmluZGluZyAtIFtidWZmZXIgYmluZGluZ117QGxpbmsgQnVmZmVyQmluZGluZ30gdG8gdXNlXG4gKiBAcmV0dXJucyAtIFdHU0wgdmFyaWFibGUgZGVjbGFyYXRpb24gY29kZSBmcmFnbWVudFxuICovXG5leHBvcnQgY29uc3QgZ2V0QmluZGluZ1dHU0xWYXJUeXBlID0gKGJpbmRpbmc6IEJ1ZmZlckJpbmRpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gKCgpID0+IHtcbiAgICBzd2l0Y2ggKGJpbmRpbmcuYmluZGluZ1R5cGUpIHtcbiAgICAgIGNhc2UgJ3N0b3JhZ2UnOlxuICAgICAgICByZXR1cm4gYHZhcjwke2JpbmRpbmcuYmluZGluZ1R5cGV9LCAke2JpbmRpbmcub3B0aW9ucy5hY2Nlc3N9PmBcbiAgICAgIGNhc2UgJ3VuaWZvcm0nOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd2YXI8dW5pZm9ybT4nXG4gICAgfVxuICB9KSgpXG59XG5cbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFdHU0wgdmFyaWFibGUgZGVjbGFyYXRpb24gY29kZSBmcmFnbWVudCBiYXNlZCBvbiB0aGUgZ2l2ZW4gW3RleHR1cmUgYmluZGluZ117QGxpbmsgVGV4dHVyZUJpbmRpbmd9XG4gKiBAcGFyYW0gYmluZGluZyAtIFt0ZXh0dXJlIGJpbmRpbmdde0BsaW5rIFRleHR1cmVCaW5kaW5nfSB0byB1c2VcbiAqIEByZXR1cm5zIC0gV0dTTCB2YXJpYWJsZSBkZWNsYXJhdGlvbiBjb2RlIGZyYWdtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUZXh0dXJlQmluZGluZ1dHU0xWYXJUeXBlID0gKGJpbmRpbmc6IFRleHR1cmVCaW5kaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdleHRlcm5hbFRleHR1cmUnKSB7XG4gICAgcmV0dXJuIGB2YXIgJHtiaW5kaW5nLm5hbWV9OiB0ZXh0dXJlX2V4dGVybmFsO2BcbiAgfVxuXG4gIHJldHVybiBiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAnc3RvcmFnZVRleHR1cmUnXG4gICAgPyBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZV9zdG9yYWdlXyR7YmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb259PCR7YmluZGluZy5vcHRpb25zLmZvcm1hdH0sICR7YmluZGluZy5vcHRpb25zLmFjY2Vzc30+O2BcbiAgICA6IGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdkZXB0aFRleHR1cmUnXG4gICAgPyBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZV9kZXB0aCR7YmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCA/ICdfbXVsdGlzYW1wbGVkJyA6ICcnfV8ke1xuICAgICAgICBiaW5kaW5nLm9wdGlvbnMudmlld0RpbWVuc2lvblxuICAgICAgfTtgXG4gICAgOiBgdmFyICR7YmluZGluZy5uYW1lfTogdGV4dHVyZSR7YmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCA/ICdfbXVsdGlzYW1wbGVkJyA6ICcnfV8ke1xuICAgICAgICBiaW5kaW5nLm9wdGlvbnMudmlld0RpbWVuc2lvblxuICAgICAgfTxmMzI+O2Bcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGNvcnJlY3QgW2JpbmQgZ3JvdXAgbGF5b3V0XXtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IHJlc291cmNlIHR5cGUgYmFzZWQgb24gdGhlIGdpdmVuIFtiaW5kaW5nIHR5cGVde0BsaW5rIEJpbmRpbmdUeXBlfVxuICogQHBhcmFtIGJpbmRpbmcgLSBbYnVmZmVyIGJpbmRpbmdde0BsaW5rIEJ1ZmZlckJpbmRpbmd9IHRvIHVzZVxuICogQHJldHVybnMgLSB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0IHwgYmluZCBncm91cCBsYXlvdXR9IHJlc291cmNlIHR5cGVcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEJpbmRHcm91cExheW91dEJpbmRpbmdUeXBlID0gKGJpbmRpbmc6IEJ1ZmZlckJpbmRpbmcpOiBHUFVCdWZmZXJCaW5kaW5nVHlwZSA9PiB7XG4gIGlmIChiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAnc3RvcmFnZScgJiYgYmluZGluZy5vcHRpb25zLmFjY2VzcyA9PT0gJ3JlYWRfd3JpdGUnKSB7XG4gICAgcmV0dXJuICdzdG9yYWdlJ1xuICB9IGVsc2UgaWYgKGJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICdzdG9yYWdlJykge1xuICAgIHJldHVybiAncmVhZC1vbmx5LXN0b3JhZ2UnXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICd1bmlmb3JtJ1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBjb3JyZWN0IFtiaW5kIGdyb3VwIGxheW91dF17QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fSByZXNvdXJjZSB0eXBlIGJhc2VkIG9uIHRoZSBnaXZlbiBbdGV4dHVyZSBiaW5kaW5nIHR5cGVde0BsaW5rIEJpbmRpbmdUeXBlfVxuICogQHBhcmFtIGJpbmRpbmcgLSBbdGV4dHVyZSBiaW5kaW5nXXtAbGluayBUZXh0dXJlQmluZGluZ30gdG8gdXNlXG4gKiBAcmV0dXJucyAtIFtiaW5kIGdyb3VwIGxheW91dF17QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0fSByZXNvdXJjZSB0eXBlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRCaW5kR3JvdXBMYXlvdXRUZXh0dXJlQmluZGluZ1R5cGUgPSAoXG4gIGJpbmRpbmc6IFRleHR1cmVCaW5kaW5nXG4pOiBHUFVUZXh0dXJlQmluZGluZ0xheW91dCB8IEdQVUV4dGVybmFsVGV4dHVyZUJpbmRpbmdMYXlvdXQgfCBHUFVTdG9yYWdlVGV4dHVyZUJpbmRpbmdMYXlvdXQgfCBudWxsID0+IHtcbiAgcmV0dXJuICgoKSA9PiB7XG4gICAgc3dpdGNoIChiaW5kaW5nLmJpbmRpbmdUeXBlKSB7XG4gICAgICBjYXNlICdleHRlcm5hbFRleHR1cmUnOlxuICAgICAgICByZXR1cm4geyBleHRlcm5hbFRleHR1cmU6IHt9IH1cbiAgICAgIGNhc2UgJ3N0b3JhZ2VUZXh0dXJlJzpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdG9yYWdlVGV4dHVyZToge1xuICAgICAgICAgICAgZm9ybWF0OiBiaW5kaW5nLm9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgdmlld0RpbWVuc2lvbjogYmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb24sXG4gICAgICAgICAgfSBhcyBHUFVTdG9yYWdlVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ3RleHR1cmUnOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRleHR1cmU6IHtcbiAgICAgICAgICAgIG11bHRpc2FtcGxlZDogYmluZGluZy5vcHRpb25zLm11bHRpc2FtcGxlZCxcbiAgICAgICAgICAgIHZpZXdEaW1lbnNpb246IGJpbmRpbmcub3B0aW9ucy52aWV3RGltZW5zaW9uLFxuICAgICAgICAgIH0gYXMgR1BVVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGNhc2UgJ2RlcHRoVGV4dHVyZSc6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGV4dHVyZToge1xuICAgICAgICAgICAgbXVsdGlzYW1wbGVkOiBiaW5kaW5nLm9wdGlvbnMubXVsdGlzYW1wbGVkLFxuICAgICAgICAgICAgZm9ybWF0OiBiaW5kaW5nLm9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgICAgdmlld0RpbWVuc2lvbjogYmluZGluZy5vcHRpb25zLnZpZXdEaW1lbnNpb24sXG4gICAgICAgICAgICBzYW1wbGVUeXBlOiAnZGVwdGgnLFxuICAgICAgICAgIH0gYXMgR1BVVGV4dHVyZUJpbmRpbmdMYXlvdXQsXG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9KSgpXG59XG4iLCIvKipcbiAqIFJlYWxseSBiYXNpYyAyRCB2ZWN0b3IgY2xhc3MgdXNlZCBmb3IgdmVjdG9yIGNhbGN1bGF0aW9uc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1ZlY3RvcjIuanNcbiAqIEBzZWUgaHR0cDovL2dsbWF0cml4Lm5ldC9kb2NzL3ZlYzIuanMuaHRtbFxuICovXG5leHBvcnQgY2xhc3MgVmVjMiB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFZlYzJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMyfSAqL1xuICBwcml2YXRlIF94OiBudW1iZXJcbiAgLyoqIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjMn0gKi9cbiAgcHJpdmF0ZSBfeTogbnVtYmVyXG5cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrICovXG4gIF9vbkNoYW5nZUNhbGxiYWNrPygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFZlYzIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHggLSBYIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB5IC0gWSBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSB4KSB7XG4gICAgdGhpcy50eXBlID0gJ1ZlYzInXG5cbiAgICB0aGlzLl94ID0geFxuICAgIHRoaXMuX3kgPSB5XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBYIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBnZXQgeCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl94XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBYIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9XG4gICAqIENhbiB0cmlnZ2VyIHtAbGluayBvbkNoYW5nZX0gY2FsbGJhY2tcbiAgICogQHBhcmFtIHZhbHVlIC0gWCBjb21wb25lbnQgdG8gc2V0XG4gICAqL1xuICBzZXQgeCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHZhbHVlICE9PSB0aGlzLl94XG4gICAgdGhpcy5feCA9IHZhbHVlXG4gICAgY2hhbmdlZCAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWSBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMyfVxuICAgKi9cbiAgZ2V0IHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5feVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgWSBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMyfVxuICAgKiBDYW4gdHJpZ2dlciB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFkgY29tcG9uZW50IHRvIHNldFxuICAgKi9cbiAgc2V0IHkodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IGNoYW5nZWQgPSB2YWx1ZSAhPT0gdGhpcy5feVxuICAgIHRoaXMuX3kgPSB2YWx1ZVxuICAgIGNoYW5nZWQgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjayAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhdCBsZWFzdCBvbmUgY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjMn0gaGFzIGNoYW5nZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gYXQgbGVhc3Qgb25lIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzJ9IGhhcyBjaGFuZ2VkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBWZWMyfVxuICAgKi9cbiAgb25DaGFuZ2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBWZWMyIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgVmVjMn0gZnJvbSB2YWx1ZXNcbiAgICogQHBhcmFtIHggLSBuZXcgWCBjb21wb25lbnQgdG8gc2V0XG4gICAqIEBwYXJhbSB5IC0gbmV3IFkgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGJlaW5nIHNldFxuICAgKi9cbiAgc2V0KHggPSAwLCB5ID0geCk6IFZlYzIge1xuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBWZWMyfSB0byB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGFkZFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGFkZGl0aW9uXG4gICAqL1xuICBhZGQodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCArPSB2ZWN0b3IueFxuICAgIHRoaXMueSArPSB2ZWN0b3IueVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBhZGRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBhZGRpdGlvblxuICAgKi9cbiAgYWRkU2NhbGFyKHZhbHVlID0gMCk6IFZlYzIge1xuICAgIHRoaXMueCArPSB2YWx1ZVxuICAgIHRoaXMueSArPSB2YWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHtAbGluayBWZWMyfSBmcm9tIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gdG8gc3VidHJhY3RcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBzdWJ0cmFjdGlvblxuICAgKi9cbiAgc3ViKHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICB0aGlzLnggLT0gdmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gdmVjdG9yLnlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU3VidHJhY3QgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBzdWJ0cmFjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIHN1YnRyYWN0aW9uXG4gICAqL1xuICBzdWJTY2FsYXIodmFsdWUgPSAwKTogVmVjMiB7XG4gICAgdGhpcy54IC09IHZhbHVlXG4gICAgdGhpcy55IC09IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGEge0BsaW5rIFZlYzJ9IHdpdGggdGhpcyB7QGxpbmsgVmVjMn1cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMyfSB0byBtdWx0aXBseSB3aXRoXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjMn0gYWZ0ZXIgbXVsdGlwbGljYXRpb25cbiAgICovXG4gIG11bHRpcGx5KHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKDEpKTogVmVjMiB7XG4gICAgdGhpcy54ICo9IHZlY3Rvci54XG4gICAgdGhpcy55ICo9IHZlY3Rvci55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGFsbCBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzJ9IHdpdGggYSBzY2FsYXJcbiAgICogQHBhcmFtIHZhbHVlIC0gbnVtYmVyIHRvIG11bHRpcGx5IHdpdGhcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBtdWx0aXBsaWNhdGlvblxuICAgKi9cbiAgbXVsdGlwbHlTY2FsYXIodmFsdWUgPSAxKTogVmVjMiB7XG4gICAgdGhpcy54ICo9IHZhbHVlXG4gICAgdGhpcy55ICo9IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgVmVjMn0gaW50byB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGNvcHlcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMyfSBhZnRlciBjb3B5XG4gICAqL1xuICBjb3B5KHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICB0aGlzLnggPSB2ZWN0b3IueFxuICAgIHRoaXMueSA9IHZlY3Rvci55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEByZXR1cm5zIC0gY2xvbmVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY2xvbmUoKTogVmVjMiB7XG4gICAgcmV0dXJuIG5ldyBWZWMyKHRoaXMueCwgdGhpcy55KVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IG1heCB2YWx1ZXMgdG8gdGhpcyB7QGxpbmsgVmVjMn0gY29tcG9uZW50c1xuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHJlcHJlc2VudGluZyBtYXggdmFsdWVzXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFZlYzJ9IHdpdGggbWF4IHZhbHVlcyBhcHBsaWVkXG4gICAqL1xuICBtYXgodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCA9IE1hdGgubWF4KHRoaXMueCwgdmVjdG9yLngpXG4gICAgdGhpcy55ID0gTWF0aC5tYXgodGhpcy55LCB2ZWN0b3IueSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgbWluIHZhbHVlcyB0byB0aGlzIHtAbGluayBWZWMyfSBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gcmVwcmVzZW50aW5nIG1pbiB2YWx1ZXNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVmVjMn0gd2l0aCBtaW4gdmFsdWVzIGFwcGxpZWRcbiAgICovXG4gIG1pbih2ZWN0b3I6IFZlYzIgPSBuZXcgVmVjMigpKTogVmVjMiB7XG4gICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2ZWN0b3IueClcbiAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHZlY3Rvci55KVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFtcCB0aGlzIHtAbGluayBWZWMyfSBjb21wb25lbnRzIGJ5IG1pbiBhbmQgbWF4IHtAbGluayBWZWMyfSB2ZWN0b3JzXG4gICAqIEBwYXJhbSBtaW4gLSBtaW5pbXVtIHtAbGluayBWZWMyfSBjb21wb25lbnRzIHRvIGNvbXBhcmUgd2l0aFxuICAgKiBAcGFyYW0gbWF4IC0gbWF4aW11bSB7QGxpbmsgVmVjMn0gY29tcG9uZW50cyB0byBjb21wYXJlIHdpdGhcbiAgICogQHJldHVybnMgLSBjbGFtcGVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgY2xhbXAobWluOiBWZWMyID0gbmV3IFZlYzIoKSwgbWF4OiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSlcbiAgICB0aGlzLnkgPSBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIDIge0BsaW5rIFZlYzJ9IGFyZSBlcXVhbFxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzJ9IHRvIGNvbXBhcmVcbiAgICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSB7QGxpbmsgVmVjMn0gYXJlIGVxdWFscyBvciBub3RcbiAgICovXG4gIGVxdWFscyh2ZWN0b3I6IFZlYzIgPSBuZXcgVmVjMigpKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMueCA9PT0gdmVjdG9yLnggJiYgdGhpcy55ID09PSB2ZWN0b3IueVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3F1YXJlIGxlbmd0aCBvZiB0aGlzIHtAbGluayBWZWMyfVxuICAgKiBAcmV0dXJucyAtIHNxdWFyZSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjMn1cbiAgICovXG4gIGxlbmd0aFNxKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqIEByZXR1cm5zIC0gbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHRoaXMubGVuZ3RoU3EoKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhpcyB7QGxpbmsgVmVjMn1cbiAgICogQHJldHVybnMgLSBub3JtYWxpemVkIHtAbGluayBWZWMyfVxuICAgKi9cbiAgbm9ybWFsaXplKCk6IFZlYzIge1xuICAgIC8vIG5vcm1hbGl6ZVxuICAgIGxldCBsZW4gPSB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnlcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pXG4gICAgfVxuICAgIHRoaXMueCAqPSBsZW5cbiAgICB0aGlzLnkgKj0gbGVuXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgMiB7QGxpbmsgVmVjMn1cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMyfSB0byB1c2UgZm9yIGRvdCBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gZG90IHByb2R1Y3Qgb2YgdGhlIDIge0BsaW5rIFZlYzJ9XG4gICAqL1xuICBkb3QodmVjdG9yOiBWZWMyID0gbmV3IFZlYzIoKSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9mIHRoaXMge0BsaW5rIFZlYzJ9IGJ5IGdpdmVuIHtAbGluayBWZWMyfSBhbmQgYWxwaGEsIHdoZXJlIGFscGhhIGlzIHRoZSBwZXJjZW50IGRpc3RhbmNlIGFsb25nIHRoZSBsaW5lXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjMn0gdG8gaW50ZXJwb2xhdGUgdG93YXJkc1xuICAgKiBAcGFyYW0gW2FscGhhPTFdIC0gaW50ZXJwb2xhdGlvbiBmYWN0b3IgaW4gdGhlIFswLCAxXSBpbnRlcnZhbFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzJ9IGFmdGVyIGxpbmVhciBpbnRlcnBvbGF0aW9uXG4gICAqL1xuICBsZXJwKHZlY3RvcjogVmVjMiA9IG5ldyBWZWMyKCksIGFscGhhID0gMSk6IFZlYzIge1xuICAgIHRoaXMueCArPSAodmVjdG9yLnggLSB0aGlzLngpICogYWxwaGFcbiAgICB0aGlzLnkgKz0gKHZlY3Rvci55IC0gdGhpcy55KSAqIGFscGhhXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJpbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi9WZWMzJ1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4vTWF0NCdcblxuLyoqIERlZmluZXMgYWxsIHBvc3NpYmxlIHJvdGF0aW9ucyBheGlzIG9yZGVycyAqL1xuZXhwb3J0IHR5cGUgQXhpc09yZGVyID0gJ1hZWicgfCAnWFpZJyB8ICdZWFonIHwgJ1laWCcgfCAnWlhZJyB8ICdaWVgnXG5cbi8qKlxuICogUmVhbGx5IGJhc2ljIHF1YXRlcm5pb24gY2xhc3MgdXNlZCBmb3IgM0Qgcm90YXRpb24gY2FsY3VsYXRpb25zXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb3NiL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1F1YXRlcm5pb24uanNcbiAqL1xuZXhwb3J0IGNsYXNzIFF1YXQge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBRdWF0fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIE91ciBxdWF0ZXJuaW9uIGFycmF5ICovXG4gIGVsZW1lbnRzOiBGbG9hdDMyQXJyYXlcbiAgLyoqIFJvdGF0aW9uIGF4aXMgb3JkZXIgKi9cbiAgYXhpc09yZGVyOiBBeGlzT3JkZXJcblxuICAvKipcbiAgICogUXVhdCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gW2VsZW1lbnRzXSAtIGluaXRpYWwgYXJyYXkgdG8gdXNlXG4gICAqIEBwYXJhbSBbYXhpc09yZGVyPSdYWVonXSAtIGF4aXMgb3JkZXIgdG8gdXNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50czogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbMCwgMCwgMCwgMV0pLCBheGlzT3JkZXI6IEF4aXNPcmRlciA9ICdYWVonKSB7XG4gICAgdGhpcy50eXBlID0gJ1F1YXQnXG4gICAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzXG4gICAgLy8gcm90YXRpb24gYXhpcyBvcmRlclxuICAgIHRoaXMuYXhpc09yZGVyID0gYXhpc09yZGVyXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUge0BsaW5rIFF1YXR9IHZhbHVlcyBmcm9tIGFuIGFycmF5XG4gICAqIEBwYXJhbSBhcnJheSAtIGFuIGFycmF5IG9mIGF0IGxlYXN0IDQgZWxlbWVudHNcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBRdWF0fSBhZnRlciBiZWluZyBzZXRcbiAgICovXG4gIHNldEZyb21BcnJheShhcnJheTogRmxvYXQzMkFycmF5IHwgbnVtYmVyW10gPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxXSkpOiBRdWF0IHtcbiAgICB0aGlzLmVsZW1lbnRzWzBdID0gYXJyYXlbMF1cbiAgICB0aGlzLmVsZW1lbnRzWzFdID0gYXJyYXlbMV1cbiAgICB0aGlzLmVsZW1lbnRzWzJdID0gYXJyYXlbMl1cbiAgICB0aGlzLmVsZW1lbnRzWzNdID0gYXJyYXlbM11cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUge0BsaW5rIFF1YXR9IGF4aXMgb3JkZXJcbiAgICogQHBhcmFtIGF4aXNPcmRlciAtIGF4aXMgb3JkZXIgdG8gdXNlXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgUXVhdH0gYWZ0ZXIgYXhpcyBvcmRlciBoYXMgYmVlbiBzZXRcbiAgICovXG4gIHNldEF4aXNPcmRlcihheGlzT3JkZXI6IEF4aXNPcmRlciB8IHN0cmluZyA9ICdYWVonKTogUXVhdCB7XG4gICAgLy8gZm9yY2UgdXBwZXJjYXNlIGZvciBzdHJpY3QgZXF1YWxpdHkgdGVzdHNcbiAgICBheGlzT3JkZXIgPSBheGlzT3JkZXIudG9VcHBlckNhc2UoKVxuXG4gICAgc3dpdGNoIChheGlzT3JkZXIpIHtcbiAgICAgIGNhc2UgJ1hZWic6XG4gICAgICBjYXNlICdZWFonOlxuICAgICAgY2FzZSAnWlhZJzpcbiAgICAgIGNhc2UgJ1pZWCc6XG4gICAgICBjYXNlICdZWlgnOlxuICAgICAgY2FzZSAnWFpZJzpcbiAgICAgICAgdGhpcy5heGlzT3JkZXIgPSBheGlzT3JkZXJcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGFwcGx5IGEgZGVmYXVsdCBheGlzIG9yZGVyXG4gICAgICAgIHRoaXMuYXhpc09yZGVyID0gJ1hZWidcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgUXVhdH0gaW50byB0aGlzIHtAbGluayBRdWF0fVxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0fSB0byBjb3B5XG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgUXVhdH0gYWZ0ZXIgY29weVxuICAgKi9cbiAgY29weShxdWF0ZXJuaW9uOiBRdWF0ID0gbmV3IFF1YXQoKSk6IFF1YXQge1xuICAgIHRoaXMuZWxlbWVudHMgPSBxdWF0ZXJuaW9uLmVsZW1lbnRzXG4gICAgdGhpcy5heGlzT3JkZXIgPSBxdWF0ZXJuaW9uLmF4aXNPcmRlclxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSBhIHtAbGluayBRdWF0fVxuICAgKiBAcmV0dXJucyAtIGNsb25lZCB7QGxpbmsgUXVhdH1cbiAgICovXG4gIGNsb25lKCk6IFF1YXQge1xuICAgIHJldHVybiBuZXcgUXVhdCgpLmNvcHkodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiAyIHtAbGluayBRdWF0fSBhcmUgZXF1YWxcbiAgICogQHBhcmFtIHF1YXRlcm5pb24gLSB7QGxpbmsgUXVhdH0gdG8gY2hlY2sgYWdhaW5zdFxuICAgKiBAcmV0dXJucyAtIHdoZXRoZXIgdGhlIHtAbGluayBRdWF0fSBhcmUgZXF1YWwgb3Igbm90XG4gICAqL1xuICBlcXVhbHMocXVhdGVybmlvbjogUXVhdCA9IG5ldyBRdWF0KCkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5lbGVtZW50c1swXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1swXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1syXSAmJlxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9PT0gcXVhdGVybmlvbi5lbGVtZW50c1szXSAmJlxuICAgICAgdGhpcy5heGlzT3JkZXIgPT09IHF1YXRlcm5pb24uYXhpc09yZGVyXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSByb3RhdGlvbiB7QGxpbmsgUXVhdH0gdXNpbmcgRXVsZXIgYW5nbGVzIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhbmQgaXRzIGF4aXMgb3JkZXJcbiAgICogQHBhcmFtIHZlY3RvciAtIHJvdGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byBzZXQgb3VyIHtAbGluayBRdWF0fSBmcm9tXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFF1YXR9IGFmdGVyIGhhdmluZyBhcHBsaWVkIHRoZSByb3RhdGlvblxuICAgKi9cbiAgc2V0RnJvbVZlYzModmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFF1YXQge1xuICAgIGNvbnN0IGF4ID0gdmVjdG9yLnggKiAwLjVcbiAgICBjb25zdCBheSA9IHZlY3Rvci55ICogMC41XG4gICAgY29uc3QgYXogPSB2ZWN0b3IueiAqIDAuNVxuXG4gICAgY29uc3QgY29zeCA9IE1hdGguY29zKGF4KVxuICAgIGNvbnN0IGNvc3kgPSBNYXRoLmNvcyhheSlcbiAgICBjb25zdCBjb3N6ID0gTWF0aC5jb3MoYXopXG4gICAgY29uc3Qgc2lueCA9IE1hdGguc2luKGF4KVxuICAgIGNvbnN0IHNpbnkgPSBNYXRoLnNpbihheSlcbiAgICBjb25zdCBzaW56ID0gTWF0aC5zaW4oYXopXG5cbiAgICAvLyBYWVogb3JkZXJcbiAgICBpZiAodGhpcy5heGlzT3JkZXIgPT09ICdYWVonKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gc2lueCAqIGNvc3kgKiBjb3N6ICsgY29zeCAqIHNpbnkgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzFdID0gY29zeCAqIHNpbnkgKiBjb3N6IC0gc2lueCAqIGNvc3kgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzJdID0gY29zeCAqIGNvc3kgKiBzaW56ICsgc2lueCAqIHNpbnkgKiBjb3N6XG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gY29zeCAqIGNvc3kgKiBjb3N6IC0gc2lueCAqIHNpbnkgKiBzaW56XG4gICAgfSBlbHNlIGlmICh0aGlzLmF4aXNPcmRlciA9PT0gJ1lYWicpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSBzaW54ICogY29zeSAqIGNvc3ogKyBjb3N4ICogc2lueSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSBjb3N4ICogc2lueSAqIGNvc3ogLSBzaW54ICogY29zeSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSBjb3N4ICogY29zeSAqIHNpbnogLSBzaW54ICogc2lueSAqIGNvc3pcbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSBjb3N4ICogY29zeSAqIGNvc3ogKyBzaW54ICogc2lueSAqIHNpbnpcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXhpc09yZGVyID09PSAnWlhZJykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IHNpbnggKiBjb3N5ICogY29zeiAtIGNvc3ggKiBzaW55ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IGNvc3ggKiBzaW55ICogY29zeiArIHNpbnggKiBjb3N5ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IGNvc3ggKiBjb3N5ICogc2lueiArIHNpbnggKiBzaW55ICogY29zelxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IGNvc3ggKiBjb3N5ICogY29zeiAtIHNpbnggKiBzaW55ICogc2luelxuICAgIH0gZWxzZSBpZiAodGhpcy5heGlzT3JkZXIgPT09ICdaWVgnKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gc2lueCAqIGNvc3kgKiBjb3N6IC0gY29zeCAqIHNpbnkgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzFdID0gY29zeCAqIHNpbnkgKiBjb3N6ICsgc2lueCAqIGNvc3kgKiBzaW56XG4gICAgICB0aGlzLmVsZW1lbnRzWzJdID0gY29zeCAqIGNvc3kgKiBzaW56IC0gc2lueCAqIHNpbnkgKiBjb3N6XG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gY29zeCAqIGNvc3kgKiBjb3N6ICsgc2lueCAqIHNpbnkgKiBzaW56XG4gICAgfSBlbHNlIGlmICh0aGlzLmF4aXNPcmRlciA9PT0gJ1laWCcpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSBzaW54ICogY29zeSAqIGNvc3ogKyBjb3N4ICogc2lueSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSBjb3N4ICogc2lueSAqIGNvc3ogKyBzaW54ICogY29zeSAqIHNpbnpcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSBjb3N4ICogY29zeSAqIHNpbnogLSBzaW54ICogc2lueSAqIGNvc3pcbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSBjb3N4ICogY29zeSAqIGNvc3ogLSBzaW54ICogc2lueSAqIHNpbnpcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXhpc09yZGVyID09PSAnWFpZJykge1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IHNpbnggKiBjb3N5ICogY29zeiAtIGNvc3ggKiBzaW55ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IGNvc3ggKiBzaW55ICogY29zeiAtIHNpbnggKiBjb3N5ICogc2luelxuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IGNvc3ggKiBjb3N5ICogc2lueiArIHNpbnggKiBzaW55ICogY29zelxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IGNvc3ggKiBjb3N5ICogY29zeiArIHNpbnggKiBzaW55ICogc2luelxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEge0BsaW5rIFF1YXR9IGZyb20gYSByb3RhdGlvbiBheGlzIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhbmQgYW4gYW5nbGVcbiAgICogQHBhcmFtIGF4aXMgLSBub3JtYWxpemVkIHtAbGluayBWZWMzIHwgdmVjdG9yfSBhcm91bmQgd2hpY2ggdG8gcm90YXRlXG4gICAqIEBwYXJhbSBhbmdsZSAtIGFuZ2xlIChpbiByYWRpYW5zKSB0byByb3RhdGVcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUXVhdH0gYWZ0ZXIgaGF2aW5nIGFwcGxpZWQgdGhlIHJvdGF0aW9uXG4gICAqL1xuICBzZXRGcm9tQXhpc0FuZ2xlKGF4aXM6IFZlYzMgPSBuZXcgVmVjMygpLCBhbmdsZSA9IDApOiBRdWF0IHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1F1YXRlcm5pb24uanMjTDI3NVxuICAgIC8vIGh0dHA6Ly93d3cuZXVjbGlkZWFuc3BhY2UuY29tL21hdGhzL2dlb21ldHJ5L3JvdGF0aW9ucy9jb252ZXJzaW9ucy9hbmdsZVRvUXVhdGVybmlvbi9pbmRleC5odG1cblxuICAgIC8vIGFzc3VtZXMgYXhpcyBpcyBub3JtYWxpemVkXG5cbiAgICBjb25zdCBoYWxmQW5nbGUgPSBhbmdsZSAvIDIsXG4gICAgICBzID0gTWF0aC5zaW4oaGFsZkFuZ2xlKVxuXG4gICAgdGhpcy5lbGVtZW50c1swXSA9IGF4aXMueCAqIHNcbiAgICB0aGlzLmVsZW1lbnRzWzFdID0gYXhpcy55ICogc1xuICAgIHRoaXMuZWxlbWVudHNbMl0gPSBheGlzLnogKiBzXG4gICAgdGhpcy5lbGVtZW50c1szXSA9IE1hdGguY29zKGhhbGZBbmdsZSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEge0BsaW5rIFF1YXR9IGZyb20gYSByb3RhdGlvbiB7QGxpbmsgTWF0NCB8IG1hdHJpeH1cbiAgICogQHBhcmFtIG1hdHJpeCAtIHJvdGF0aW9uIHtAbGluayBNYXQ0IHwgbWF0cml4fSB0byB1c2VcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUXVhdH0gYWZ0ZXIgaGF2aW5nIGFwcGxpZWQgdGhlIHJvdGF0aW9uXG4gICAqL1xuICBzZXRGcm9tUm90YXRpb25NYXRyaXgobWF0cml4OiBNYXQ0KTogUXVhdCB7XG4gICAgLy8gaHR0cDovL3d3dy5ldWNsaWRlYW5zcGFjZS5jb20vbWF0aHMvZ2VvbWV0cnkvcm90YXRpb25zL2NvbnZlcnNpb25zL21hdHJpeFRvUXVhdGVybmlvbi9pbmRleC5odG1cbiAgICAvLyBhc3N1bWVzIHRoZSB1cHBlciAzeDMgb2YgbSBpcyBhIHB1cmUgcm90YXRpb24gbWF0cml4IChpLmUsIHVuc2NhbGVkKVxuICAgIGNvbnN0IHRlID0gbWF0cml4LmVsZW1lbnRzLFxuICAgICAgbTExID0gdGVbMF0sXG4gICAgICBtMTIgPSB0ZVs0XSxcbiAgICAgIG0xMyA9IHRlWzhdLFxuICAgICAgbTIxID0gdGVbMV0sXG4gICAgICBtMjIgPSB0ZVs1XSxcbiAgICAgIG0yMyA9IHRlWzldLFxuICAgICAgbTMxID0gdGVbMl0sXG4gICAgICBtMzIgPSB0ZVs2XSxcbiAgICAgIG0zMyA9IHRlWzEwXSxcbiAgICAgIHRyYWNlID0gbTExICsgbTIyICsgbTMzXG5cbiAgICBpZiAodHJhY2UgPiAwKSB7XG4gICAgICBjb25zdCBzID0gMC41IC8gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKVxuXG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gMC4yNSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSAobTMyIC0gbTIzKSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAobTEzIC0gbTMxKSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSAobTIxIC0gbTEyKSAqIHNcbiAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMpIHtcbiAgICAgIGNvbnN0IHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTExIC0gbTIyIC0gbTMzKVxuXG4gICAgICB0aGlzLmVsZW1lbnRzWzNdID0gKG0zMiAtIG0yMykgLyBzXG4gICAgICB0aGlzLmVsZW1lbnRzWzBdID0gMC4yNSAqIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAobTEyICsgbTIxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMl0gPSAobTEzICsgbTMxKSAvIHNcbiAgICB9IGVsc2UgaWYgKG0yMiA+IG0zMykge1xuICAgICAgY29uc3QgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMjIgLSBtMTEgLSBtMzMpXG5cbiAgICAgIHRoaXMuZWxlbWVudHNbM10gPSAobTEzIC0gbTMxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMF0gPSAobTEyICsgbTIxKSAvIHNcbiAgICAgIHRoaXMuZWxlbWVudHNbMV0gPSAwLjI1ICogc1xuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IChtMjMgKyBtMzIpIC8gc1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0zMyAtIG0xMSAtIG0yMilcblxuICAgICAgdGhpcy5lbGVtZW50c1szXSA9IChtMjEgLSBtMTIpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1swXSA9IChtMTMgKyBtMzEpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1sxXSA9IChtMjMgKyBtMzIpIC8gc1xuICAgICAgdGhpcy5lbGVtZW50c1syXSA9IDAuMjUgKiBzXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4vVmVjMydcclxuaW1wb3J0IHsgUXVhdCB9IGZyb20gJy4vUXVhdCdcclxuXHJcbi8qKlxyXG4gKiBSZWFsbHkgYmFzaWMgNHg0IG1hdHJpeCBjbGFzcyB1c2VkIGZvciBtYXRyaXggY2FsY3VsYXRpb25zLlxyXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9kZXYvc3JjL21hdGgvTWF0cml4NC5qc1xyXG4gKiBAc2VlIGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXQ0IHtcclxuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNYXQ0fSAqL1xyXG4gIHR5cGU6IHN0cmluZ1xyXG4gIC8qKiBPdXIgbWF0cml4IGFycmF5ICovXHJcbiAgZWxlbWVudHM6IEZsb2F0MzJBcnJheVxyXG5cclxuICAvLyBwcmV0dGllci1pZ25vcmVcclxuICAvKipcclxuICAgKiBNYXQ0IGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIGVsZW1lbnRzIC0gaW5pdGlhbCBhcnJheSB0byB1c2UsIGRlZmF1bHQgdG8gaWRlbnRpdHkgbWF0cml4XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZWxlbWVudHM6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgMSwgMCwgMCwgMCxcclxuICAgIDAsIDEsIDAsIDAsXHJcbiAgICAwLCAwLCAxLCAwLFxyXG4gICAgMCwgMCwgMCwgMVxyXG4gIF0pKSB7XHJcbiAgICB0aGlzLnR5cGUgPSAnTWF0NCdcclxuICAgIHRoaXMuZWxlbWVudHMgPSBlbGVtZW50c1xyXG4gIH1cclxuXHJcbiAgLyoqKlxyXG4gICAqIFNldHMgdGhlIG1hdHJpeCBmcm9tIDE2IG51bWJlcnNcclxuICAgKlxyXG4gICAqIEBwYXJhbSBuMTEgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4xMiBudW1iZXJcclxuICAgKiBAcGFyYW0gbjEzIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMTQgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4yMSBudW1iZXJcclxuICAgKiBAcGFyYW0gbjIyIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMjMgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4yNCBudW1iZXJcclxuICAgKiBAcGFyYW0gbjMxIG51bWJlclxyXG4gICAqIEBwYXJhbSBuMzIgbnVtYmVyXHJcbiAgICogQHBhcmFtIG4zMyBudW1iZXJcclxuICAgKiBAcGFyYW0gbjM0IG51bWJlclxyXG4gICAqIEBwYXJhbSBuNDEgbnVtYmVyXHJcbiAgICogQHBhcmFtIG40MiBudW1iZXJcclxuICAgKiBAcGFyYW0gbjQzIG51bWJlclxyXG4gICAqIEBwYXJhbSBuNDQgbnVtYmVyXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIGJlaW5nIHNldFxyXG4gICAqL1xyXG4gIHNldChcclxuICAgIG4xMTogbnVtYmVyLFxyXG4gICAgbjEyOiBudW1iZXIsXHJcbiAgICBuMTM6IG51bWJlcixcclxuICAgIG4xNDogbnVtYmVyLFxyXG4gICAgbjIxOiBudW1iZXIsXHJcbiAgICBuMjI6IG51bWJlcixcclxuICAgIG4yMzogbnVtYmVyLFxyXG4gICAgbjI0OiBudW1iZXIsXHJcbiAgICBuMzE6IG51bWJlcixcclxuICAgIG4zMjogbnVtYmVyLFxyXG4gICAgbjMzOiBudW1iZXIsXHJcbiAgICBuMzQ6IG51bWJlcixcclxuICAgIG40MTogbnVtYmVyLFxyXG4gICAgbjQyOiBudW1iZXIsXHJcbiAgICBuNDM6IG51bWJlcixcclxuICAgIG40NDogbnVtYmVyXHJcbiAgKTogTWF0NCB7XHJcbiAgICBjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICB0ZVswXSA9IG4xMVxyXG4gICAgdGVbMV0gPSBuMTJcclxuICAgIHRlWzJdID0gbjEzXHJcbiAgICB0ZVszXSA9IG4xNFxyXG4gICAgdGVbNF0gPSBuMjFcclxuICAgIHRlWzVdID0gbjIyXHJcbiAgICB0ZVs2XSA9IG4yM1xyXG4gICAgdGVbN10gPSBuMjRcclxuICAgIHRlWzhdID0gbjMxXHJcbiAgICB0ZVs5XSA9IG4zMlxyXG4gICAgdGVbMTBdID0gbjMzXHJcbiAgICB0ZVsxMV0gPSBuMzRcclxuICAgIHRlWzEyXSA9IG40MVxyXG4gICAgdGVbMTNdID0gbjQyXHJcbiAgICB0ZVsxNF0gPSBuNDNcclxuICAgIHRlWzE1XSA9IG40NFxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB7QGxpbmsgTWF0NH0gdG8gYW4gaWRlbnRpdHkgbWF0cml4XHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciBiZWluZyBzZXRcclxuICAgKi9cclxuICBpZGVudGl0eSgpOiBNYXQ0IHtcclxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxyXG4gICAgdGhpcy5zZXQoXHJcbiAgICAgIDEsIDAsIDAsIDAsXHJcbiAgICAgIDAsIDEsIDAsIDAsXHJcbiAgICAgIDAsIDAsIDEsIDAsXHJcbiAgICAgIDAsIDAsIDAsIDFcclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUge0BsaW5rIE1hdDR9IHZhbHVlcyBmcm9tIGFuIGFycmF5XHJcbiAgICogQHBhcmFtIGFycmF5IC0gYXJyYXkgdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciBiZWluZyBzZXRcclxuICAgKi9cclxuICAvLyBwcmV0dGllci1pZ25vcmVcclxuICBzZXRGcm9tQXJyYXkoYXJyYXk6IEZsb2F0MzJBcnJheSB8IG51bWJlcltdID0gbmV3IEZsb2F0MzJBcnJheShbXHJcbiAgICAxLCAwLCAwLCAwLFxyXG4gICAgMCwgMSwgMCwgMCxcclxuICAgIDAsIDAsIDEsIDAsXHJcbiAgICAwLCAwLCAwLCAxXHJcbiAgXSkpOiBNYXQ0IHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLmVsZW1lbnRzW2ldID0gYXJyYXlbaV1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29weSBhbm90aGVyIHtAbGluayBNYXQ0fVxyXG4gICAqIEBwYXJhbSBtYXRyaXhcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIGJlaW5nIHNldFxyXG4gICAqL1xyXG4gIGNvcHkobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgY29uc3QgYXJyYXkgPSBtYXRyaXguZWxlbWVudHNcclxuICAgIHRoaXMuZWxlbWVudHNbMF0gPSBhcnJheVswXVxyXG4gICAgdGhpcy5lbGVtZW50c1sxXSA9IGFycmF5WzFdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzJdID0gYXJyYXlbMl1cclxuICAgIHRoaXMuZWxlbWVudHNbM10gPSBhcnJheVszXVxyXG4gICAgdGhpcy5lbGVtZW50c1s0XSA9IGFycmF5WzRdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzVdID0gYXJyYXlbNV1cclxuICAgIHRoaXMuZWxlbWVudHNbNl0gPSBhcnJheVs2XVxyXG4gICAgdGhpcy5lbGVtZW50c1s3XSA9IGFycmF5WzddXHJcbiAgICB0aGlzLmVsZW1lbnRzWzhdID0gYXJyYXlbOF1cclxuICAgIHRoaXMuZWxlbWVudHNbOV0gPSBhcnJheVs5XVxyXG4gICAgdGhpcy5lbGVtZW50c1sxMF0gPSBhcnJheVsxMF1cclxuICAgIHRoaXMuZWxlbWVudHNbMTFdID0gYXJyYXlbMTFdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzEyXSA9IGFycmF5WzEyXVxyXG4gICAgdGhpcy5lbGVtZW50c1sxM10gPSBhcnJheVsxM11cclxuICAgIHRoaXMuZWxlbWVudHNbMTRdID0gYXJyYXlbMTRdXHJcbiAgICB0aGlzLmVsZW1lbnRzWzE1XSA9IGFycmF5WzE1XVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZSBhIHtAbGluayBNYXQ0fVxyXG4gICAqIEByZXR1cm5zIC0gY2xvbmVkIHtAbGluayBNYXQ0fVxyXG4gICAqL1xyXG4gIGNsb25lKCk6IE1hdDQge1xyXG4gICAgcmV0dXJuIG5ldyBNYXQ0KCkuY29weSh0aGlzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTXVsdGlwbHkgdGhpcyB7QGxpbmsgTWF0NH0gd2l0aCBhbm90aGVyIHtAbGluayBNYXQ0fVxyXG4gICAqIEBwYXJhbSBtYXRyaXggLSB7QGxpbmsgTWF0NH0gdG8gbXVsdGlwbHkgd2l0aFxyXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgTWF0NH0gYWZ0ZXIgbXVsdGlwbGljYXRpb25cclxuICAgKi9cclxuICBtdWx0aXBseShtYXRyaXg6IE1hdDQgPSBuZXcgTWF0NCgpKTogTWF0NCB7XHJcbiAgICByZXR1cm4gdGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsIG1hdHJpeClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IGFub3RoZXIge0BsaW5rIE1hdDR9IHdpdGggdGhpcyB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gbWF0cml4IC0ge0BsaW5rIE1hdDR9IHRvIG11bHRpcGx5IHdpdGhcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIG11bHRpcGxpY2F0aW9uXHJcbiAgICovXHJcbiAgcHJlbXVsdGlwbHkobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXgsIHRoaXMpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNdWx0aXBseSB0d28ge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgTWF0NH1cclxuICAgKiBAcmV0dXJucyAtIHtAbGluayBNYXQ0fSByZXN1bHRpbmcgZnJvbSB0aGUgbXVsdGlwbGljYXRpb25cclxuICAgKi9cclxuICBtdWx0aXBseU1hdHJpY2VzKGE6IE1hdDQgPSBuZXcgTWF0NCgpLCBiOiBNYXQ0ID0gbmV3IE1hdDQoKSk6IE1hdDQge1xyXG4gICAgY29uc3QgYWUgPSBhLmVsZW1lbnRzXHJcbiAgICBjb25zdCBiZSA9IGIuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGExMSA9IGFlWzBdLFxyXG4gICAgICBhMTIgPSBhZVs0XSxcclxuICAgICAgYTEzID0gYWVbOF0sXHJcbiAgICAgIGExNCA9IGFlWzEyXVxyXG4gICAgY29uc3QgYTIxID0gYWVbMV0sXHJcbiAgICAgIGEyMiA9IGFlWzVdLFxyXG4gICAgICBhMjMgPSBhZVs5XSxcclxuICAgICAgYTI0ID0gYWVbMTNdXHJcbiAgICBjb25zdCBhMzEgPSBhZVsyXSxcclxuICAgICAgYTMyID0gYWVbNl0sXHJcbiAgICAgIGEzMyA9IGFlWzEwXSxcclxuICAgICAgYTM0ID0gYWVbMTRdXHJcbiAgICBjb25zdCBhNDEgPSBhZVszXSxcclxuICAgICAgYTQyID0gYWVbN10sXHJcbiAgICAgIGE0MyA9IGFlWzExXSxcclxuICAgICAgYTQ0ID0gYWVbMTVdXHJcblxyXG4gICAgY29uc3QgYjExID0gYmVbMF0sXHJcbiAgICAgIGIxMiA9IGJlWzRdLFxyXG4gICAgICBiMTMgPSBiZVs4XSxcclxuICAgICAgYjE0ID0gYmVbMTJdXHJcbiAgICBjb25zdCBiMjEgPSBiZVsxXSxcclxuICAgICAgYjIyID0gYmVbNV0sXHJcbiAgICAgIGIyMyA9IGJlWzldLFxyXG4gICAgICBiMjQgPSBiZVsxM11cclxuICAgIGNvbnN0IGIzMSA9IGJlWzJdLFxyXG4gICAgICBiMzIgPSBiZVs2XSxcclxuICAgICAgYjMzID0gYmVbMTBdLFxyXG4gICAgICBiMzQgPSBiZVsxNF1cclxuICAgIGNvbnN0IGI0MSA9IGJlWzNdLFxyXG4gICAgICBiNDIgPSBiZVs3XSxcclxuICAgICAgYjQzID0gYmVbMTFdLFxyXG4gICAgICBiNDQgPSBiZVsxNV1cclxuXHJcbiAgICB0ZVswXSA9IGExMSAqIGIxMSArIGExMiAqIGIyMSArIGExMyAqIGIzMSArIGExNCAqIGI0MVxyXG4gICAgdGVbNF0gPSBhMTEgKiBiMTIgKyBhMTIgKiBiMjIgKyBhMTMgKiBiMzIgKyBhMTQgKiBiNDJcclxuICAgIHRlWzhdID0gYTExICogYjEzICsgYTEyICogYjIzICsgYTEzICogYjMzICsgYTE0ICogYjQzXHJcbiAgICB0ZVsxMl0gPSBhMTEgKiBiMTQgKyBhMTIgKiBiMjQgKyBhMTMgKiBiMzQgKyBhMTQgKiBiNDRcclxuXHJcbiAgICB0ZVsxXSA9IGEyMSAqIGIxMSArIGEyMiAqIGIyMSArIGEyMyAqIGIzMSArIGEyNCAqIGI0MVxyXG4gICAgdGVbNV0gPSBhMjEgKiBiMTIgKyBhMjIgKiBiMjIgKyBhMjMgKiBiMzIgKyBhMjQgKiBiNDJcclxuICAgIHRlWzldID0gYTIxICogYjEzICsgYTIyICogYjIzICsgYTIzICogYjMzICsgYTI0ICogYjQzXHJcbiAgICB0ZVsxM10gPSBhMjEgKiBiMTQgKyBhMjIgKiBiMjQgKyBhMjMgKiBiMzQgKyBhMjQgKiBiNDRcclxuXHJcbiAgICB0ZVsyXSA9IGEzMSAqIGIxMSArIGEzMiAqIGIyMSArIGEzMyAqIGIzMSArIGEzNCAqIGI0MVxyXG4gICAgdGVbNl0gPSBhMzEgKiBiMTIgKyBhMzIgKiBiMjIgKyBhMzMgKiBiMzIgKyBhMzQgKiBiNDJcclxuICAgIHRlWzEwXSA9IGEzMSAqIGIxMyArIGEzMiAqIGIyMyArIGEzMyAqIGIzMyArIGEzNCAqIGI0M1xyXG4gICAgdGVbMTRdID0gYTMxICogYjE0ICsgYTMyICogYjI0ICsgYTMzICogYjM0ICsgYTM0ICogYjQ0XHJcblxyXG4gICAgdGVbM10gPSBhNDEgKiBiMTEgKyBhNDIgKiBiMjEgKyBhNDMgKiBiMzEgKyBhNDQgKiBiNDFcclxuICAgIHRlWzddID0gYTQxICogYjEyICsgYTQyICogYjIyICsgYTQzICogYjMyICsgYTQ0ICogYjQyXHJcbiAgICB0ZVsxMV0gPSBhNDEgKiBiMTMgKyBhNDIgKiBiMjMgKyBhNDMgKiBiMzMgKyBhNDQgKiBiNDNcclxuICAgIHRlWzE1XSA9IGE0MSAqIGIxNCArIGE0MiAqIGIyNCArIGE0MyAqIGIzNCArIGE0NCAqIGI0NFxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB7QGxpbmsgcHJlbXVsdGlwbHl9IHRoaXMge0BsaW5rIE1hdDR9IGJ5IGEgdHJhbnNsYXRlIG1hdHJpeCAoaS5lLiB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnRyYW5zbGF0ZSh2ZWN0b3IpKVxyXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB0cmFuc2xhdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBNYXQ0fSBhZnRlciB0aGUgcHJlbXVsdGlwbHkgdHJhbnNsYXRlIG9wZXJhdGlvblxyXG4gICAqL1xyXG4gIHByZW11bHRpcGx5VHJhbnNsYXRlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIC8vIHByZW11bHRpcGx5IGJ5IGEgdHJhbnNsYXRlTWF0cml4LCBpZSB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnRyYW5zbGF0ZSh2ZWN0b3IpXHJcbiAgICAvLyB3aGVyZSB0cmFuc2xhdGVNYXRyaXhbMF0gPSAxLCB0cmFuc2xhdGVNYXRyaXhbNV0gPSAxLCBzY2FsZU1hdHJpeFsxMF0gPSAxLCB0cmFuc2xhdGVNYXRyaXhbMTVdID0gMSBmcm9tIGlkZW50aXR5XHJcbiAgICAvLyBhbmQgdHJhbnNsYXRlTWF0cml4WzEyXSA9IHZlY3Rvci54LCB0cmFuc2xhdGVNYXRyaXhbMTNdID0gdmVjdG9yLnksIHRyYW5zbGF0ZU1hdHJpeFsxNF0gPSB2ZWN0b3IueiBmcm9tIHRyYW5zbGF0aW9uXHJcbiAgICAvLyBlcXVpdmFsZW50IChidXQgZmFzdGVyKSB0byB0aGlzLm11bHRpcGx5KHRyYW5zbGF0ZU1hdHJpeCwgdGhpcylcclxuXHJcbiAgICAvLyBmcm9tIGlkZW50aXR5IG1hdHJpeFxyXG4gICAgY29uc3QgYTExID0gMVxyXG4gICAgY29uc3QgYTIyID0gMVxyXG4gICAgY29uc3QgYTMzID0gMVxyXG4gICAgY29uc3QgYTQ0ID0gMVxyXG5cclxuICAgIC8vIGZyb20gdHJhbnNsYXRpb25cclxuICAgIGNvbnN0IGExNCA9IHZlY3Rvci54XHJcbiAgICBjb25zdCBhMjQgPSB2ZWN0b3IueVxyXG4gICAgY29uc3QgYTM0ID0gdmVjdG9yLnpcclxuXHJcbiAgICBjb25zdCBiZSA9IHRoaXMuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGIxMSA9IGJlWzBdLFxyXG4gICAgICBiMTIgPSBiZVs0XSxcclxuICAgICAgYjEzID0gYmVbOF0sXHJcbiAgICAgIGIxNCA9IGJlWzEyXVxyXG4gICAgY29uc3QgYjIxID0gYmVbMV0sXHJcbiAgICAgIGIyMiA9IGJlWzVdLFxyXG4gICAgICBiMjMgPSBiZVs5XSxcclxuICAgICAgYjI0ID0gYmVbMTNdXHJcbiAgICBjb25zdCBiMzEgPSBiZVsyXSxcclxuICAgICAgYjMyID0gYmVbNl0sXHJcbiAgICAgIGIzMyA9IGJlWzEwXSxcclxuICAgICAgYjM0ID0gYmVbMTRdXHJcbiAgICBjb25zdCBiNDEgPSBiZVszXSxcclxuICAgICAgYjQyID0gYmVbN10sXHJcbiAgICAgIGI0MyA9IGJlWzExXSxcclxuICAgICAgYjQ0ID0gYmVbMTVdXHJcblxyXG4gICAgdGVbMF0gPSBhMTEgKiBiMTEgKyBhMTQgKiBiNDFcclxuICAgIHRlWzRdID0gYTExICogYjEyICsgYTE0ICogYjQyXHJcbiAgICB0ZVs4XSA9IGExMSAqIGIxMyArIGExNCAqIGI0M1xyXG4gICAgdGVbMTJdID0gYTExICogYjE0ICsgYTE0ICogYjQ0XHJcblxyXG4gICAgdGVbMV0gPSBhMjIgKiBiMjEgKyBhMjQgKiBiNDFcclxuICAgIHRlWzVdID0gYTIyICogYjIyICsgYTI0ICogYjQyXHJcbiAgICB0ZVs5XSA9IGEyMiAqIGIyMyArIGEyNCAqIGI0M1xyXG4gICAgdGVbMTNdID0gYTIyICogYjI0ICsgYTI0ICogYjQ0XHJcblxyXG4gICAgdGVbMl0gPSBhMzMgKiBiMzEgKyBhMzQgKiBiNDFcclxuICAgIHRlWzZdID0gYTMzICogYjMyICsgYTM0ICogYjQyXHJcbiAgICB0ZVsxMF0gPSBhMzMgKiBiMzMgKyBhMzQgKiBiNDNcclxuICAgIHRlWzE0XSA9IGEzMyAqIGIzNCArIGEzNCAqIGI0NFxyXG5cclxuICAgIHRlWzNdID0gYTQ0ICogYjQxXHJcbiAgICB0ZVs3XSA9IGE0NCAqIGI0MlxyXG4gICAgdGVbMTFdID0gYTQ0ICogYjQzXHJcbiAgICB0ZVsxNV0gPSBhNDQgKiBiNDRcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICoge0BsaW5rIHByZW11bHRpcGx5fSB0aGlzIHtAbGluayBNYXQ0fSBieSBhIHNjYWxlIG1hdHJpeCAoaS5lLiB0cmFuc2xhdGVNYXRyaXggPSBuZXcgTWF0NCgpLnNjYWxlKHZlY3RvcikpXHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIE1hdDR9IGFmdGVyIHRoZSBwcmVtdWx0aXBseSBzY2FsZSBvcGVyYXRpb25cclxuICAgKi9cclxuICBwcmVtdWx0aXBseVNjYWxlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIC8vIHByZW11bHRpcGx5IGJ5IGEgc2NhbGVNYXRyaXgsIGllIHNjYWxlTWF0cml4ID0gbmV3IE1hdDQoKS5zY2FsZSh2ZWN0b3IpXHJcbiAgICAvLyB3aGVyZSBzY2FsZU1hdHJpeFswXSA9IHZlY3Rvci54LCBzY2FsZU1hdHJpeFs1XSA9IHZlY3Rvci55LCBzY2FsZU1hdHJpeFsxMF0gPSB2ZWN0b3Iueiwgc2NhbGVNYXRyaXhbMTVdID0gMVxyXG4gICAgLy8gZXF1aXZhbGVudCAoYnV0IGZhc3RlcikgdG8gdGhpcy5tdWx0aXBseShzY2FsZU1hdHJpeCwgdGhpcylcclxuXHJcbiAgICBjb25zdCBiZSA9IHRoaXMuZWxlbWVudHNcclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGNvbnN0IGExMSA9IHZlY3Rvci54XHJcbiAgICBjb25zdCBhMjIgPSB2ZWN0b3IueVxyXG4gICAgY29uc3QgYTMzID0gdmVjdG9yLnpcclxuICAgIGNvbnN0IGE0NCA9IDFcclxuXHJcbiAgICBjb25zdCBiMTEgPSBiZVswXSxcclxuICAgICAgYjEyID0gYmVbNF0sXHJcbiAgICAgIGIxMyA9IGJlWzhdLFxyXG4gICAgICBiMTQgPSBiZVsxMl1cclxuICAgIGNvbnN0IGIyMSA9IGJlWzFdLFxyXG4gICAgICBiMjIgPSBiZVs1XSxcclxuICAgICAgYjIzID0gYmVbOV0sXHJcbiAgICAgIGIyNCA9IGJlWzEzXVxyXG4gICAgY29uc3QgYjMxID0gYmVbMl0sXHJcbiAgICAgIGIzMiA9IGJlWzZdLFxyXG4gICAgICBiMzMgPSBiZVsxMF0sXHJcbiAgICAgIGIzNCA9IGJlWzE0XVxyXG4gICAgY29uc3QgYjQxID0gYmVbM10sXHJcbiAgICAgIGI0MiA9IGJlWzddLFxyXG4gICAgICBiNDMgPSBiZVsxMV0sXHJcbiAgICAgIGI0NCA9IGJlWzE1XVxyXG5cclxuICAgIHRlWzBdID0gYTExICogYjExXHJcbiAgICB0ZVs0XSA9IGExMSAqIGIxMlxyXG4gICAgdGVbOF0gPSBhMTEgKiBiMTNcclxuICAgIHRlWzEyXSA9IGExMSAqIGIxNFxyXG5cclxuICAgIHRlWzFdID0gYTIyICogYjIxXHJcbiAgICB0ZVs1XSA9IGEyMiAqIGIyMlxyXG4gICAgdGVbOV0gPSBhMjIgKiBiMjNcclxuICAgIHRlWzEzXSA9IGEyMiAqIGIyNFxyXG5cclxuICAgIHRlWzJdID0gYTMzICogYjMxXHJcbiAgICB0ZVs2XSA9IGEzMyAqIGIzMlxyXG4gICAgdGVbMTBdID0gYTMzICogYjMzXHJcbiAgICB0ZVsxNF0gPSBhMzMgKiBiMzRcclxuXHJcbiAgICB0ZVszXSA9IGE0NCAqIGI0MVxyXG4gICAgdGVbN10gPSBhNDQgKiBiNDJcclxuICAgIHRlWzExXSA9IGE0NCAqIGI0M1xyXG4gICAgdGVbMTVdID0gYTQ0ICogYjQ0XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIE1hdDR9IGludmVyc2VcclxuICAgKiBAcmV0dXJucyAtIHRoZSB7QGxpbmsgTWF0NH0gaW52ZXJ0ZWRcclxuICAgKi9cclxuICBpbnZlcnQoKSB7XHJcbiAgICAvLyBiYXNlZCBvbiBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9hbGdlYnJhL21hdHJpeC9mdW5jdGlvbnMvaW52ZXJzZS9mb3VyRC9pbmRleC5odG1cclxuICAgIGNvbnN0IHRlID0gdGhpcy5lbGVtZW50cyxcclxuICAgICAgbjExID0gdGVbMF0sXHJcbiAgICAgIG4yMSA9IHRlWzFdLFxyXG4gICAgICBuMzEgPSB0ZVsyXSxcclxuICAgICAgbjQxID0gdGVbM10sXHJcbiAgICAgIG4xMiA9IHRlWzRdLFxyXG4gICAgICBuMjIgPSB0ZVs1XSxcclxuICAgICAgbjMyID0gdGVbNl0sXHJcbiAgICAgIG40MiA9IHRlWzddLFxyXG4gICAgICBuMTMgPSB0ZVs4XSxcclxuICAgICAgbjIzID0gdGVbOV0sXHJcbiAgICAgIG4zMyA9IHRlWzEwXSxcclxuICAgICAgbjQzID0gdGVbMTFdLFxyXG4gICAgICBuMTQgPSB0ZVsxMl0sXHJcbiAgICAgIG4yNCA9IHRlWzEzXSxcclxuICAgICAgbjM0ID0gdGVbMTRdLFxyXG4gICAgICBuNDQgPSB0ZVsxNV0sXHJcbiAgICAgIHQxMSA9IG4yMyAqIG4zNCAqIG40MiAtIG4yNCAqIG4zMyAqIG40MiArIG4yNCAqIG4zMiAqIG40MyAtIG4yMiAqIG4zNCAqIG40MyAtIG4yMyAqIG4zMiAqIG40NCArIG4yMiAqIG4zMyAqIG40NCxcclxuICAgICAgdDEyID0gbjE0ICogbjMzICogbjQyIC0gbjEzICogbjM0ICogbjQyIC0gbjE0ICogbjMyICogbjQzICsgbjEyICogbjM0ICogbjQzICsgbjEzICogbjMyICogbjQ0IC0gbjEyICogbjMzICogbjQ0LFxyXG4gICAgICB0MTMgPSBuMTMgKiBuMjQgKiBuNDIgLSBuMTQgKiBuMjMgKiBuNDIgKyBuMTQgKiBuMjIgKiBuNDMgLSBuMTIgKiBuMjQgKiBuNDMgLSBuMTMgKiBuMjIgKiBuNDQgKyBuMTIgKiBuMjMgKiBuNDQsXHJcbiAgICAgIHQxNCA9IG4xNCAqIG4yMyAqIG4zMiAtIG4xMyAqIG4yNCAqIG4zMiAtIG4xNCAqIG4yMiAqIG4zMyArIG4xMiAqIG4yNCAqIG4zMyArIG4xMyAqIG4yMiAqIG4zNCAtIG4xMiAqIG4yMyAqIG4zNFxyXG5cclxuICAgIGNvbnN0IGRldCA9IG4xMSAqIHQxMSArIG4yMSAqIHQxMiArIG4zMSAqIHQxMyArIG40MSAqIHQxNFxyXG5cclxuICAgIGlmIChkZXQgPT09IDApIHJldHVybiB0aGlzLnNldCgwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwKVxyXG5cclxuICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXRcclxuXHJcbiAgICB0ZVswXSA9IHQxMSAqIGRldEludlxyXG4gICAgdGVbMV0gPVxyXG4gICAgICAobjI0ICogbjMzICogbjQxIC0gbjIzICogbjM0ICogbjQxIC0gbjI0ICogbjMxICogbjQzICsgbjIxICogbjM0ICogbjQzICsgbjIzICogbjMxICogbjQ0IC0gbjIxICogbjMzICogbjQ0KSAqXHJcbiAgICAgIGRldEludlxyXG4gICAgdGVbMl0gPVxyXG4gICAgICAobjIyICogbjM0ICogbjQxIC0gbjI0ICogbjMyICogbjQxICsgbjI0ICogbjMxICogbjQyIC0gbjIxICogbjM0ICogbjQyIC0gbjIyICogbjMxICogbjQ0ICsgbjIxICogbjMyICogbjQ0KSAqXHJcbiAgICAgIGRldEludlxyXG4gICAgdGVbM10gPVxyXG4gICAgICAobjIzICogbjMyICogbjQxIC0gbjIyICogbjMzICogbjQxIC0gbjIzICogbjMxICogbjQyICsgbjIxICogbjMzICogbjQyICsgbjIyICogbjMxICogbjQzIC0gbjIxICogbjMyICogbjQzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHRlWzRdID0gdDEyICogZGV0SW52XHJcbiAgICB0ZVs1XSA9XHJcbiAgICAgIChuMTMgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzMgKiBuNDEgKyBuMTQgKiBuMzEgKiBuNDMgLSBuMTEgKiBuMzQgKiBuNDMgLSBuMTMgKiBuMzEgKiBuNDQgKyBuMTEgKiBuMzMgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVs2XSA9XHJcbiAgICAgIChuMTQgKiBuMzIgKiBuNDEgLSBuMTIgKiBuMzQgKiBuNDEgLSBuMTQgKiBuMzEgKiBuNDIgKyBuMTEgKiBuMzQgKiBuNDIgKyBuMTIgKiBuMzEgKiBuNDQgLSBuMTEgKiBuMzIgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVs3XSA9XHJcbiAgICAgIChuMTIgKiBuMzMgKiBuNDEgLSBuMTMgKiBuMzIgKiBuNDEgKyBuMTMgKiBuMzEgKiBuNDIgLSBuMTEgKiBuMzMgKiBuNDIgLSBuMTIgKiBuMzEgKiBuNDMgKyBuMTEgKiBuMzIgKiBuNDMpICpcclxuICAgICAgZGV0SW52XHJcblxyXG4gICAgdGVbOF0gPSB0MTMgKiBkZXRJbnZcclxuICAgIHRlWzldID1cclxuICAgICAgKG4xNCAqIG4yMyAqIG40MSAtIG4xMyAqIG4yNCAqIG40MSAtIG4xNCAqIG4yMSAqIG40MyArIG4xMSAqIG4yNCAqIG40MyArIG4xMyAqIG4yMSAqIG40NCAtIG4xMSAqIG4yMyAqIG40NCkgKlxyXG4gICAgICBkZXRJbnZcclxuICAgIHRlWzEwXSA9XHJcbiAgICAgIChuMTIgKiBuMjQgKiBuNDEgLSBuMTQgKiBuMjIgKiBuNDEgKyBuMTQgKiBuMjEgKiBuNDIgLSBuMTEgKiBuMjQgKiBuNDIgLSBuMTIgKiBuMjEgKiBuNDQgKyBuMTEgKiBuMjIgKiBuNDQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVsxMV0gPVxyXG4gICAgICAobjEzICogbjIyICogbjQxIC0gbjEyICogbjIzICogbjQxIC0gbjEzICogbjIxICogbjQyICsgbjExICogbjIzICogbjQyICsgbjEyICogbjIxICogbjQzIC0gbjExICogbjIyICogbjQzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHRlWzEyXSA9IHQxNCAqIGRldEludlxyXG4gICAgdGVbMTNdID1cclxuICAgICAgKG4xMyAqIG4yNCAqIG4zMSAtIG4xNCAqIG4yMyAqIG4zMSArIG4xNCAqIG4yMSAqIG4zMyAtIG4xMSAqIG4yNCAqIG4zMyAtIG4xMyAqIG4yMSAqIG4zNCArIG4xMSAqIG4yMyAqIG4zNCkgKlxyXG4gICAgICBkZXRJbnZcclxuICAgIHRlWzE0XSA9XHJcbiAgICAgIChuMTQgKiBuMjIgKiBuMzEgLSBuMTIgKiBuMjQgKiBuMzEgLSBuMTQgKiBuMjEgKiBuMzIgKyBuMTEgKiBuMjQgKiBuMzIgKyBuMTIgKiBuMjEgKiBuMzQgLSBuMTEgKiBuMjIgKiBuMzQpICpcclxuICAgICAgZGV0SW52XHJcbiAgICB0ZVsxNV0gPVxyXG4gICAgICAobjEyICogbjIzICogbjMxIC0gbjEzICogbjIyICogbjMxICsgbjEzICogbjIxICogbjMyIC0gbjExICogbjIzICogbjMyIC0gbjEyICogbjIxICogbjMzICsgbjExICogbjIyICogbjMzKSAqXHJcbiAgICAgIGRldEludlxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZSBhbmQgaW52ZXJ0IHRoZSB7QGxpbmsgTWF0NH1cclxuICAgKiBAcmV0dXJucyAtIGludmVydGVkIGNsb25lZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBnZXRJbnZlcnNlKCk6IE1hdDQge1xyXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pbnZlcnQoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJhbnNsYXRlIGEge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHRyYW5zbGF0ZWQge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgdHJhbnNsYXRlKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBNYXQ0IHtcclxuICAgIGNvbnN0IGEgPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgYVsxMl0gPSBhWzBdICogdmVjdG9yLnggKyBhWzRdICogdmVjdG9yLnkgKyBhWzhdICogdmVjdG9yLnogKyBhWzEyXVxyXG4gICAgYVsxM10gPSBhWzFdICogdmVjdG9yLnggKyBhWzVdICogdmVjdG9yLnkgKyBhWzldICogdmVjdG9yLnogKyBhWzEzXVxyXG4gICAgYVsxNF0gPSBhWzJdICogdmVjdG9yLnggKyBhWzZdICogdmVjdG9yLnkgKyBhWzEwXSAqIHZlY3Rvci56ICsgYVsxNF1cclxuICAgIGFbMTVdID0gYVszXSAqIHZlY3Rvci54ICsgYVs3XSAqIHZlY3Rvci55ICsgYVsxMV0gKiB2ZWN0b3IueiArIGFbMTVdXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNjYWxlIGEge0BsaW5rIE1hdDR9XHJcbiAgICogQHBhcmFtIHZlY3RvciAtIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcmV0dXJucyAtIHNjYWxlZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBzY2FsZSh2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogTWF0NCB7XHJcbiAgICBjb25zdCBhID0gdGhpcy5lbGVtZW50c1xyXG5cclxuICAgIGFbMF0gKj0gdmVjdG9yLnhcclxuICAgIGFbMV0gKj0gdmVjdG9yLnhcclxuICAgIGFbMl0gKj0gdmVjdG9yLnhcclxuICAgIGFbM10gKj0gdmVjdG9yLnhcclxuICAgIGFbNF0gKj0gdmVjdG9yLnlcclxuICAgIGFbNV0gKj0gdmVjdG9yLnlcclxuICAgIGFbNl0gKj0gdmVjdG9yLnlcclxuICAgIGFbN10gKj0gdmVjdG9yLnlcclxuICAgIGFbOF0gKj0gdmVjdG9yLnpcclxuICAgIGFbOV0gKj0gdmVjdG9yLnpcclxuICAgIGFbMTBdICo9IHZlY3Rvci56XHJcbiAgICBhWzExXSAqPSB2ZWN0b3IuelxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3RhdGUgYSB7QGxpbmsgTWF0NH0gZnJvbSBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn1cclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHJldHVybnMgLSByb3RhdGVkIHtAbGluayBNYXQ0fVxyXG4gICAqL1xyXG4gIHJvdGF0ZUZyb21RdWF0ZXJuaW9uKHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpKTogTWF0NCB7XHJcbiAgICBjb25zdCB0ZSA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICBjb25zdCB4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcclxuICAgICAgeSA9IHF1YXRlcm5pb24uZWxlbWVudHNbMV0sXHJcbiAgICAgIHogPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzJdLFxyXG4gICAgICB3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxyXG5cclxuICAgIGNvbnN0IHgyID0geCArIHgsXHJcbiAgICAgIHkyID0geSArIHksXHJcbiAgICAgIHoyID0geiArIHpcclxuICAgIGNvbnN0IHh4ID0geCAqIHgyLFxyXG4gICAgICB4eSA9IHggKiB5MixcclxuICAgICAgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyLFxyXG4gICAgICB5eiA9IHkgKiB6MixcclxuICAgICAgenogPSB6ICogejJcclxuICAgIGNvbnN0IHd4ID0gdyAqIHgyLFxyXG4gICAgICB3eSA9IHcgKiB5MixcclxuICAgICAgd3ogPSB3ICogejJcclxuXHJcbiAgICB0ZVswXSA9IDEgLSAoeXkgKyB6eilcclxuICAgIHRlWzRdID0geHkgLSB3elxyXG4gICAgdGVbOF0gPSB4eiArIHd5XHJcblxyXG4gICAgdGVbMV0gPSB4eSArIHd6XHJcbiAgICB0ZVs1XSA9IDEgLSAoeHggKyB6eilcclxuICAgIHRlWzldID0geXogLSB3eFxyXG5cclxuICAgIHRlWzJdID0geHogLSB3eVxyXG4gICAgdGVbNl0gPSB5eiArIHd4XHJcbiAgICB0ZVsxMF0gPSAxIC0gKHh4ICsgeXkpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGlzIHtAbGluayBNYXQ0fSBhcyBhIHJvdGF0aW9uIG1hdHJpeCBiYXNlZCBvbiBhbiBleWUsIHRhcmdldCBhbmQgdXAge0BsaW5rIFZlYzMgfCB2ZWN0b3JzfVxyXG4gICAqIEBwYXJhbSBleWUgLSB7QGxpbmsgVmVjMyB8IHBvc2l0aW9uIHZlY3Rvcn0gb2YgdGhlIG9iamVjdCB0aGF0IHNob3VsZCBiZSByb3RhdGVkXHJcbiAgICogQHBhcmFtIHRhcmdldCAtIHtAbGluayBWZWMzIHwgdGFyZ2V0IHZlY3Rvcn0gdG8gbG9vayBhdFxyXG4gICAqIEBwYXJhbSB1cCAtIHVwIHtAbGluayBWZWMzIHwgdmVjdG9yfVxyXG4gICAqIEByZXR1cm5zIC0gcm90YXRlZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBsb29rQXQoZXllOiBWZWMzID0gbmV3IFZlYzMoKSwgdGFyZ2V0OiBWZWMzID0gbmV3IFZlYzMoKSwgdXA6IFZlYzMgPSBuZXcgVmVjMygwLCAxLCAwKSk6IE1hdDQge1xyXG4gICAgY29uc3QgdGUgPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgLy8gVE9ETyBvcHRpbWl6ZSBhbGwgdGhvc2UgdmVjdG9ycyBjcmVhdGVkIGVhY2ggdGltZVxyXG5cclxuICAgIGNvbnN0IF96ID0gZXllLmNsb25lKCkuc3ViKHRhcmdldClcclxuXHJcbiAgICBpZiAoX3oubGVuZ3RoU3EoKSA9PT0gMCkge1xyXG4gICAgICAvLyBleWUgYW5kIHRhcmdldCBhcmUgaW4gdGhlIHNhbWUgcG9zaXRpb25cclxuICAgICAgX3oueiA9IDFcclxuICAgIH1cclxuXHJcbiAgICBfei5ub3JtYWxpemUoKVxyXG4gICAgY29uc3QgX3ggPSBuZXcgVmVjMygpLmNyb3NzVmVjdG9ycyh1cCwgX3opXHJcblxyXG4gICAgaWYgKF94Lmxlbmd0aFNxKCkgPT09IDApIHtcclxuICAgICAgLy8gdXAgYW5kIHogYXJlIHBhcmFsbGVsXHJcbiAgICAgIGlmIChNYXRoLmFicyh1cC56KSA9PT0gMSkge1xyXG4gICAgICAgIF96LnggKz0gMC4wMDAxXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgX3oueiArPSAwLjAwMDFcclxuICAgICAgfVxyXG5cclxuICAgICAgX3oubm9ybWFsaXplKClcclxuICAgICAgX3guY3Jvc3NWZWN0b3JzKHVwLCBfeilcclxuICAgIH1cclxuXHJcbiAgICBfeC5ub3JtYWxpemUoKVxyXG4gICAgY29uc3QgX3kgPSBuZXcgVmVjMygpLmNyb3NzVmVjdG9ycyhfeiwgX3gpXHJcblxyXG4gICAgdGVbMF0gPSBfeC54XHJcbiAgICB0ZVs0XSA9IF95LnhcclxuICAgIHRlWzhdID0gX3oueFxyXG4gICAgdGVbMV0gPSBfeC55XHJcbiAgICB0ZVs1XSA9IF95LnlcclxuICAgIHRlWzldID0gX3oueVxyXG4gICAgdGVbMl0gPSBfeC56XHJcbiAgICB0ZVs2XSA9IF95LnpcclxuICAgIHRlWzEwXSA9IF96LnpcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIHtAbGluayBNYXQ0fSBmcm9tIGEge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSByb3RhdGlvbiwge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRyYW5zbGF0aW9uIGFuZCB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gc2NhbGVcclxuICAgKiBFcXVpdmFsZW50IGZvciBhcHBseWluZyB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxlIG1hdHJpY2VzIGJ1dCBtdWNoIGZhc3RlclxyXG4gICAqIFNvdXJjZSBjb2RlIGZyb206IGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICAgKlxyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHBhcmFtIHNjYWxlIC0gdHJhbnNsYXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRvIHVzZVxyXG4gICAqIEByZXR1cm5zIC0gdHJhbnNmb3JtZWQge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgY29tcG9zZSh0cmFuc2xhdGlvbjogVmVjMyA9IG5ldyBWZWMzKCksIHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpLCBzY2FsZTogVmVjMyA9IG5ldyBWZWMzKDEpKTogTWF0NCB7XHJcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmVsZW1lbnRzXHJcblxyXG4gICAgLy8gUXVhdGVybmlvbiBtYXRoXHJcbiAgICBjb25zdCB4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcclxuICAgICAgeSA9IHF1YXRlcm5pb24uZWxlbWVudHNbMV0sXHJcbiAgICAgIHogPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzJdLFxyXG4gICAgICB3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxyXG5cclxuICAgIGNvbnN0IHgyID0geCArIHhcclxuICAgIGNvbnN0IHkyID0geSArIHlcclxuICAgIGNvbnN0IHoyID0geiArIHpcclxuICAgIGNvbnN0IHh4ID0geCAqIHgyXHJcbiAgICBjb25zdCB4eSA9IHggKiB5MlxyXG4gICAgY29uc3QgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyXHJcbiAgICBjb25zdCB5eiA9IHkgKiB6MlxyXG4gICAgY29uc3QgenogPSB6ICogejJcclxuICAgIGNvbnN0IHd4ID0gdyAqIHgyXHJcbiAgICBjb25zdCB3eSA9IHcgKiB5MlxyXG4gICAgY29uc3Qgd3ogPSB3ICogejJcclxuICAgIGNvbnN0IHN4ID0gc2NhbGUueFxyXG4gICAgY29uc3Qgc3kgPSBzY2FsZS55XHJcbiAgICBjb25zdCBzeiA9IHNjYWxlLnpcclxuXHJcbiAgICBtYXRyaXhbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeFxyXG4gICAgbWF0cml4WzFdID0gKHh5ICsgd3opICogc3hcclxuICAgIG1hdHJpeFsyXSA9ICh4eiAtIHd5KSAqIHN4XHJcbiAgICBtYXRyaXhbM10gPSAwXHJcbiAgICBtYXRyaXhbNF0gPSAoeHkgLSB3eikgKiBzeVxyXG4gICAgbWF0cml4WzVdID0gKDEgLSAoeHggKyB6eikpICogc3lcclxuICAgIG1hdHJpeFs2XSA9ICh5eiArIHd4KSAqIHN5XHJcbiAgICBtYXRyaXhbN10gPSAwXHJcbiAgICBtYXRyaXhbOF0gPSAoeHogKyB3eSkgKiBzelxyXG4gICAgbWF0cml4WzldID0gKHl6IC0gd3gpICogc3pcclxuICAgIG1hdHJpeFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzelxyXG4gICAgbWF0cml4WzExXSA9IDBcclxuICAgIG1hdHJpeFsxMl0gPSB0cmFuc2xhdGlvbi54XHJcbiAgICBtYXRyaXhbMTNdID0gdHJhbnNsYXRpb24ueVxyXG4gICAgbWF0cml4WzE0XSA9IHRyYW5zbGF0aW9uLnpcclxuICAgIG1hdHJpeFsxNV0gPSAxXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSB7QGxpbmsgTWF0NH0gZnJvbSBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gcm90YXRpb24sIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0cmFuc2xhdGlvbiBhbmQge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIHtAbGluayBWZWMzIHwgb3JpZ2luIHZlY3Rvcn1cclxuICAgKiBFcXVpdmFsZW50IGZvciBhcHBseWluZyB0cmFuc2xhdGlvbiwgcm90YXRpb24gYW5kIHNjYWxlIG1hdHJpY2VzIGJ1dCBtdWNoIGZhc3RlclxyXG4gICAqIFNvdXJjZSBjb2RlIGZyb206IGh0dHA6Ly9nbG1hdHJpeC5uZXQvZG9jcy9tYXQ0LmpzLmh0bWxcclxuICAgKlxyXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byB1c2VcclxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlXHJcbiAgICogQHBhcmFtIHNjYWxlIC0gdHJhbnNsYXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHRvIHVzZVxyXG4gICAqIEBwYXJhbSBvcmlnaW4gLSBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXHJcbiAgICogQHJldHVybnMgLSB0cmFuc2Zvcm1lZCB7QGxpbmsgTWF0NH1cclxuICAgKi9cclxuICBjb21wb3NlRnJvbU9yaWdpbihcclxuICAgIHRyYW5zbGF0aW9uOiBWZWMzID0gbmV3IFZlYzMoKSxcclxuICAgIHF1YXRlcm5pb246IFF1YXQgPSBuZXcgUXVhdCgpLFxyXG4gICAgc2NhbGU6IFZlYzMgPSBuZXcgVmVjMygxKSxcclxuICAgIG9yaWdpbjogVmVjMyA9IG5ldyBWZWMzKClcclxuICApOiBNYXQ0IHtcclxuICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMuZWxlbWVudHNcclxuXHJcbiAgICAvLyBRdWF0ZXJuaW9uIG1hdGhcclxuICAgIGNvbnN0IHggPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzBdLFxyXG4gICAgICB5ID0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSxcclxuICAgICAgeiA9IHF1YXRlcm5pb24uZWxlbWVudHNbMl0sXHJcbiAgICAgIHcgPSBxdWF0ZXJuaW9uLmVsZW1lbnRzWzNdXHJcblxyXG4gICAgY29uc3QgeDIgPSB4ICsgeFxyXG4gICAgY29uc3QgeTIgPSB5ICsgeVxyXG4gICAgY29uc3QgejIgPSB6ICsgelxyXG5cclxuICAgIGNvbnN0IHh4ID0geCAqIHgyXHJcbiAgICBjb25zdCB4eSA9IHggKiB5MlxyXG4gICAgY29uc3QgeHogPSB4ICogejJcclxuICAgIGNvbnN0IHl5ID0geSAqIHkyXHJcbiAgICBjb25zdCB5eiA9IHkgKiB6MlxyXG4gICAgY29uc3QgenogPSB6ICogejJcclxuXHJcbiAgICBjb25zdCB3eCA9IHcgKiB4MlxyXG4gICAgY29uc3Qgd3kgPSB3ICogeTJcclxuICAgIGNvbnN0IHd6ID0gdyAqIHoyXHJcblxyXG4gICAgY29uc3Qgc3ggPSBzY2FsZS54XHJcbiAgICBjb25zdCBzeSA9IHNjYWxlLnlcclxuICAgIGNvbnN0IHN6ID0gc2NhbGUuelxyXG5cclxuICAgIGNvbnN0IG94ID0gb3JpZ2luLnhcclxuICAgIGNvbnN0IG95ID0gb3JpZ2luLnlcclxuICAgIGNvbnN0IG96ID0gb3JpZ2luLnpcclxuXHJcbiAgICBjb25zdCBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3hcclxuICAgIGNvbnN0IG91dDEgPSAoeHkgKyB3eikgKiBzeFxyXG4gICAgY29uc3Qgb3V0MiA9ICh4eiAtIHd5KSAqIHN4XHJcbiAgICBjb25zdCBvdXQ0ID0gKHh5IC0gd3opICogc3lcclxuICAgIGNvbnN0IG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeVxyXG4gICAgY29uc3Qgb3V0NiA9ICh5eiArIHd4KSAqIHN5XHJcbiAgICBjb25zdCBvdXQ4ID0gKHh6ICsgd3kpICogc3pcclxuICAgIGNvbnN0IG91dDkgPSAoeXogLSB3eCkgKiBzelxyXG4gICAgY29uc3Qgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzelxyXG5cclxuICAgIG1hdHJpeFswXSA9IG91dDBcclxuICAgIG1hdHJpeFsxXSA9IG91dDFcclxuICAgIG1hdHJpeFsyXSA9IG91dDJcclxuICAgIG1hdHJpeFszXSA9IDBcclxuICAgIG1hdHJpeFs0XSA9IG91dDRcclxuICAgIG1hdHJpeFs1XSA9IG91dDVcclxuICAgIG1hdHJpeFs2XSA9IG91dDZcclxuICAgIG1hdHJpeFs3XSA9IDBcclxuICAgIG1hdHJpeFs4XSA9IG91dDhcclxuICAgIG1hdHJpeFs5XSA9IG91dDlcclxuICAgIG1hdHJpeFsxMF0gPSBvdXQxMFxyXG4gICAgbWF0cml4WzExXSA9IDBcclxuICAgIG1hdHJpeFsxMl0gPSB0cmFuc2xhdGlvbi54ICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KVxyXG4gICAgbWF0cml4WzEzXSA9IHRyYW5zbGF0aW9uLnkgKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opXHJcbiAgICBtYXRyaXhbMTRdID0gdHJhbnNsYXRpb24ueiArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opXHJcbiAgICBtYXRyaXhbMTVdID0gMVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzfSBjb21wb25lbnQgb2YgYSB7QGxpbmsgTWF0NH1cclxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSB7QGxpbmsgVmVjM30gdG8gc2V0XHJcbiAgICogQHJldHVybnMgLSB0cmFuc2xhdGlvbiB7QGxpbmsgVmVjM30gY29tcG9uZW50IG9mIHRoaXMge0BsaW5rIE1hdDR9XHJcbiAgICovXHJcbiAgZ2V0VHJhbnNsYXRpb24ocG9zaXRpb24gPSBuZXcgVmVjMygpKTogVmVjMyB7XHJcbiAgICByZXR1cm4gcG9zaXRpb24uc2V0KHRoaXMuZWxlbWVudHNbMTJdLCB0aGlzLmVsZW1lbnRzWzEzXSwgdGhpcy5lbGVtZW50c1sxNF0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IE1hdDQgfSBmcm9tICcuL01hdDQnXG5pbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi9RdWF0J1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi4vY29yZS9jYW1lcmEvQ2FtZXJhJ1xuXG4vKipcbiAqIFJlYWxseSBiYXNpYyAzRCB2ZWN0b3IgY2xhc3MgdXNlZCBmb3IgdmVjdG9yIGNhbGN1bGF0aW9uc1xuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2Jsb2IvZGV2L3NyYy9tYXRoL1ZlY3RvcjMuanNcbiAqIEBzZWUgaHR0cDovL2dsbWF0cml4Lm5ldC9kb2NzL3ZlYzMuanMuaHRtbFxuICovXG5leHBvcnQgY2xhc3MgVmVjMyB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFZlYzN9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMzfSAqL1xuICBwcml2YXRlIF94OiBudW1iZXJcbiAgLyoqIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjM30gKi9cbiAgcHJpdmF0ZSBfeTogbnVtYmVyXG4gIC8qKiBaIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzN9ICovXG4gIHByaXZhdGUgX3o6IG51bWJlclxuXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQ2hhbmdlfSBjYWxsYmFjayAqL1xuICBfb25DaGFuZ2VDYWxsYmFjaz8oKTogdm9pZFxuXG4gIC8qKlxuICAgKiBWZWMzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB4IC0gWCBjb21wb25lbnQgb2Ygb3VyIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0geSAtIFkgY29tcG9uZW50IG9mIG91ciB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHogLSBaIGNvbXBvbmVudCBvZiBvdXIge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IHgsIHogPSB4KSB7XG4gICAgdGhpcy50eXBlID0gJ1ZlYzMnXG5cbiAgICB0aGlzLl94ID0geFxuICAgIHRoaXMuX3kgPSB5XG4gICAgdGhpcy5feiA9IHpcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFggY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM31cbiAgICovXG4gIGdldCB4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3hcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFggY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM31cbiAgICogQ2FuIHRyaWdnZXIge0BsaW5rIG9uQ2hhbmdlfSBjYWxsYmFja1xuICAgKiBAcGFyYW0gdmFsdWUgLSBYIGNvbXBvbmVudCB0byBzZXRcbiAgICovXG4gIHNldCB4KHZhbHVlOiBudW1iZXIpIHtcbiAgICBjb25zdCBjaGFuZ2VkID0gdmFsdWUgIT09IHRoaXMuX3hcbiAgICB0aGlzLl94ID0gdmFsdWVcbiAgICBjaGFuZ2VkICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjaygpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBZIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9XG4gICAqL1xuICBnZXQgeSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl95XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBZIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9XG4gICAqIENhbiB0cmlnZ2VyIHtAbGluayBvbkNoYW5nZX0gY2FsbGJhY2tcbiAgICogQHBhcmFtIHZhbHVlIC0gWSBjb21wb25lbnQgdG8gc2V0XG4gICAqL1xuICBzZXQgeSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgY2hhbmdlZCA9IHZhbHVlICE9PSB0aGlzLl95XG4gICAgdGhpcy5feSA9IHZhbHVlXG4gICAgY2hhbmdlZCAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrICYmIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgWiBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMzfVxuICAgKi9cbiAgZ2V0IHooKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5felxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgWiBjb21wb25lbnQgb2YgdGhlIHtAbGluayBWZWMzfVxuICAgKiBDYW4gdHJpZ2dlciB7QGxpbmsgb25DaGFuZ2V9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFogY29tcG9uZW50IHRvIHNldFxuICAgKi9cbiAgc2V0IHoodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IGNoYW5nZWQgPSB2YWx1ZSAhPT0gdGhpcy5felxuICAgIHRoaXMuX3ogPSB2YWx1ZVxuICAgIGNoYW5nZWQgJiYgdGhpcy5fb25DaGFuZ2VDYWxsYmFjayAmJiB0aGlzLl9vbkNoYW5nZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhdCBsZWFzdCBvbmUgY29tcG9uZW50IG9mIHRoZSB7QGxpbmsgVmVjM30gaGFzIGNoYW5nZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gYXQgbGVhc3Qgb25lIGNvbXBvbmVudCBvZiB0aGUge0BsaW5rIFZlYzN9IGhhcyBjaGFuZ2VkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBWZWMzfVxuICAgKi9cbiAgb25DaGFuZ2UoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBWZWMzIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgVmVjM30gZnJvbSB2YWx1ZXNcbiAgICogQHBhcmFtIHggLSBuZXcgWCBjb21wb25lbnQgdG8gc2V0XG4gICAqIEBwYXJhbSB5IC0gbmV3IFkgY29tcG9uZW50IHRvIHNldFxuICAgKiBAcGFyYW0geiAtIG5ldyBaIGNvbXBvbmVudCB0byBzZXRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBiZWluZyBzZXRcbiAgICovXG4gIHNldCh4ID0gMCwgeSA9IHgsIHogPSB4KTogVmVjMyB7XG4gICAgdGhpcy54ID0geFxuICAgIHRoaXMueSA9IHlcbiAgICB0aGlzLnogPSB6XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBWZWMzfSB0byB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGFkZFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIGFkZGl0aW9uXG4gICAqL1xuICBhZGQodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xuICAgIHRoaXMueCArPSB2ZWN0b3IueFxuICAgIHRoaXMueSArPSB2ZWN0b3IueVxuICAgIHRoaXMueiArPSB2ZWN0b3IuelxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBhZGRcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBhZGRpdGlvblxuICAgKi9cbiAgYWRkU2NhbGFyKHZhbHVlID0gMCk6IFZlYzMge1xuICAgIHRoaXMueCArPSB2YWx1ZVxuICAgIHRoaXMueSArPSB2YWx1ZVxuICAgIHRoaXMueiArPSB2YWx1ZVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJ0cmFjdCBhIHtAbGluayBWZWMzfSBmcm9tIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gc3VidHJhY3RcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBzdWJ0cmFjdGlvblxuICAgKi9cbiAgc3ViKHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggLT0gdmVjdG9yLnhcbiAgICB0aGlzLnkgLT0gdmVjdG9yLnlcbiAgICB0aGlzLnogLT0gdmVjdG9yLnpcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogU3VidHJhY3QgYSBzY2FsYXIgdG8gYWxsIHRoZSBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG51bWJlciB0byBzdWJ0cmFjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIHN1YnRyYWN0aW9uXG4gICAqL1xuICBzdWJTY2FsYXIodmFsdWUgPSAwKTogVmVjMyB7XG4gICAgdGhpcy54IC09IHZhbHVlXG4gICAgdGhpcy55IC09IHZhbHVlXG4gICAgdGhpcy56IC09IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGEge0BsaW5rIFZlYzN9IHdpdGggdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSB0byBtdWx0aXBseSB3aXRoXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgbXVsdGlwbGljYXRpb25cbiAgICovXG4gIG11bHRpcGx5KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKDEpKTogVmVjMyB7XG4gICAgdGhpcy54ICo9IHZlY3Rvci54XG4gICAgdGhpcy55ICo9IHZlY3Rvci55XG4gICAgdGhpcy56ICo9IHZlY3Rvci56XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIE11bHRpcGx5IGFsbCBjb21wb25lbnRzIG9mIHRoaXMge0BsaW5rIFZlYzN9IHdpdGggYSBzY2FsYXJcbiAgICogQHBhcmFtIHZhbHVlIC0gbnVtYmVyIHRvIG11bHRpcGx5IHdpdGhcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBtdWx0aXBsaWNhdGlvblxuICAgKi9cbiAgbXVsdGlwbHlTY2FsYXIodmFsdWUgPSAxKTogVmVjMyB7XG4gICAgdGhpcy54ICo9IHZhbHVlXG4gICAgdGhpcy55ICo9IHZhbHVlXG4gICAgdGhpcy56ICo9IHZhbHVlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgVmVjM30gaW50byB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGNvcHlcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSBhZnRlciBjb3B5XG4gICAqL1xuICBjb3B5KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggPSB2ZWN0b3IueFxuICAgIHRoaXMueSA9IHZlY3Rvci55XG4gICAgdGhpcy56ID0gdmVjdG9yLnpcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHJldHVybnMgLSBjbG9uZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjbG9uZSgpOiBWZWMzIHtcbiAgICByZXR1cm4gbmV3IFZlYzModGhpcy54LCB0aGlzLnksIHRoaXMueilcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBtYXggdmFsdWVzIHRvIHRoaXMge0BsaW5rIFZlYzN9IGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSByZXByZXNlbnRpbmcgbWF4IHZhbHVlc1xuICAgKiBAcmV0dXJucyAtIHtAbGluayBWZWMzfSB3aXRoIG1heCB2YWx1ZXMgYXBwbGllZFxuICAgKi9cbiAgbWF4KHZlY3RvcjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICB0aGlzLnggPSBNYXRoLm1heCh0aGlzLngsIHZlY3Rvci54KVxuICAgIHRoaXMueSA9IE1hdGgubWF4KHRoaXMueSwgdmVjdG9yLnkpXG4gICAgdGhpcy56ID0gTWF0aC5tYXgodGhpcy56LCB2ZWN0b3IueilcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgbWluIHZhbHVlcyB0byB0aGlzIHtAbGluayBWZWMzfSBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gcmVwcmVzZW50aW5nIG1pbiB2YWx1ZXNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVmVjM30gd2l0aCBtaW4gdmFsdWVzIGFwcGxpZWRcbiAgICovXG4gIG1pbih2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogVmVjMyB7XG4gICAgdGhpcy54ID0gTWF0aC5taW4odGhpcy54LCB2ZWN0b3IueClcbiAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIHZlY3Rvci55KVxuICAgIHRoaXMueiA9IE1hdGgubWluKHRoaXMueiwgdmVjdG9yLnopXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wIHRoaXMge0BsaW5rIFZlYzN9IGNvbXBvbmVudHMgYnkgbWluIGFuZCBtYXgge0BsaW5rIFZlYzN9IHZlY3RvcnNcbiAgICogQHBhcmFtIG1pbiAtIG1pbmltdW0ge0BsaW5rIFZlYzN9IGNvbXBvbmVudHMgdG8gY29tcGFyZSB3aXRoXG4gICAqIEBwYXJhbSBtYXggLSBtYXhpbXVtIHtAbGluayBWZWMzfSBjb21wb25lbnRzIHRvIGNvbXBhcmUgd2l0aFxuICAgKiBAcmV0dXJucyAtIGNsYW1wZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBjbGFtcChtaW46IFZlYzMgPSBuZXcgVmVjMygpLCBtYXg6IFZlYzMgPSBuZXcgVmVjMygpKTogVmVjMyB7XG4gICAgdGhpcy54ID0gTWF0aC5tYXgobWluLngsIE1hdGgubWluKG1heC54LCB0aGlzLngpKVxuICAgIHRoaXMueSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdGhpcy55KSlcbiAgICB0aGlzLnogPSBNYXRoLm1heChtaW4ueiwgTWF0aC5taW4obWF4LnosIHRoaXMueikpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIDIge0BsaW5rIFZlYzN9IGFyZSBlcXVhbFxuICAgKiBAcGFyYW0gdmVjdG9yIC0ge0BsaW5rIFZlYzN9IHRvIGNvbXBhcmVcbiAgICogQHJldHVybnMgLSB3aGV0aGVyIHRoZSB7QGxpbmsgVmVjM30gYXJlIGVxdWFscyBvciBub3RcbiAgICovXG4gIGVxdWFscyh2ZWN0b3I6IFZlYzMgPSBuZXcgVmVjMygpKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMueCA9PT0gdmVjdG9yLnggJiYgdGhpcy55ID09PSB2ZWN0b3IueSAmJiB0aGlzLnogPT09IHZlY3Rvci56XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzcXVhcmUgbGVuZ3RoIG9mIHRoaXMge0BsaW5rIFZlYzN9XG4gICAqIEByZXR1cm5zIC0gc3F1YXJlIGxlbmd0aCBvZiB0aGlzIHtAbGluayBWZWMzfVxuICAgKi9cbiAgbGVuZ3RoU3EoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55ICsgdGhpcy56ICogdGhpcy56XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHJldHVybnMgLSBsZW5ndGggb2YgdGhpcyB7QGxpbmsgVmVjM31cbiAgICovXG4gIGxlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcSgpKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGlzIHtAbGluayBWZWMzfVxuICAgKiBAcmV0dXJucyAtIG5vcm1hbGl6ZWQge0BsaW5rIFZlYzN9XG4gICAqL1xuICBub3JtYWxpemUoKTogVmVjMyB7XG4gICAgLy8gbm9ybWFsaXplXG4gICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoU3EoKVxuICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbilcbiAgICB9XG4gICAgdGhpcy54ICo9IGxlblxuICAgIHRoaXMueSAqPSBsZW5cbiAgICB0aGlzLnogKj0gbGVuXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgZG90IHByb2R1Y3Qgb2YgMiB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHZlY3RvciAtIHtAbGluayBWZWMzfSB0byB1c2UgZm9yIGRvdCBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gZG90IHByb2R1Y3Qgb2YgdGhlIDIge0BsaW5rIFZlYzN9XG4gICAqL1xuICBkb3QodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMueCAqIHZlY3Rvci54ICsgdGhpcy55ICogdmVjdG9yLnkgKyB0aGlzLnogKiB2ZWN0b3IuelxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGlzIHtAbGluayBWZWMzfSB3aXRoIGFub3RoZXIge0BsaW5rIFZlYzN9XG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gdXNlIGZvciBjcm9zcyBwcm9kdWN0XG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgY3Jvc3MgcHJvZHVjdFxuICAgKi9cbiAgY3Jvc3ModmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLmNyb3NzVmVjdG9ycyh0aGlzLCB2ZWN0b3IpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoaXMge0BsaW5rIFZlYzN9IGFzIHRoZSByZXN1bHQgb2YgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHtAbGluayBWZWMzfVxuICAgKiBAcGFyYW0gYSAtIGZpcnN0IHtAbGluayBWZWMzfSB0byB1c2UgZm9yIGNyb3NzIHByb2R1Y3RcbiAgICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFZlYzN9IHRvIHVzZSBmb3IgY3Jvc3MgcHJvZHVjdFxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IGFmdGVyIGNyb3NzIHByb2R1Y3RcbiAgICovXG4gIGNyb3NzVmVjdG9ycyhhOiBWZWMzID0gbmV3IFZlYzMoKSwgYjogVmVjMyA9IG5ldyBWZWMzKCkpOiBWZWMzIHtcbiAgICBjb25zdCBheCA9IGEueCxcbiAgICAgIGF5ID0gYS55LFxuICAgICAgYXogPSBhLnpcbiAgICBjb25zdCBieCA9IGIueCxcbiAgICAgIGJ5ID0gYi55LFxuICAgICAgYnogPSBiLnpcblxuICAgIHRoaXMueCA9IGF5ICogYnogLSBheiAqIGJ5XG4gICAgdGhpcy55ID0gYXogKiBieCAtIGF4ICogYnpcbiAgICB0aGlzLnogPSBheCAqIGJ5IC0gYXkgKiBieFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIG9mIHRoaXMge0BsaW5rIFZlYzN9IGJ5IGdpdmVuIHtAbGluayBWZWMzfSBhbmQgYWxwaGEsIHdoZXJlIGFscGhhIGlzIHRoZSBwZXJjZW50IGRpc3RhbmNlIGFsb25nIHRoZSBsaW5lXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSB7QGxpbmsgVmVjM30gdG8gaW50ZXJwb2xhdGUgdG93YXJkc1xuICAgKiBAcGFyYW0gYWxwaGEgLSBpbnRlcnBvbGF0aW9uIGZhY3RvciBpbiB0aGUgWzAsIDFdIGludGVydmFsXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIgbGluZWFyIGludGVycG9sYXRpb25cbiAgICovXG4gIGxlcnAodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSwgYWxwaGEgPSAxKTogVmVjMyB7XG4gICAgdGhpcy54ICs9ICh2ZWN0b3IueCAtIHRoaXMueCkgKiBhbHBoYVxuICAgIHRoaXMueSArPSAodmVjdG9yLnkgLSB0aGlzLnkpICogYWxwaGFcbiAgICB0aGlzLnogKz0gKHZlY3Rvci56IC0gdGhpcy56KSAqIGFscGhhXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEge0BsaW5rIE1hdDQgfCBtYXRyaXh9IHRvIGEge0BsaW5rIFZlYzN9XG4gICAqIFVzZWZ1bCB0byBjb252ZXJ0IGEgcG9zaXRpb24ge0BsaW5rIFZlYzN9IGZyb20gcGxhbmUgbG9jYWwgd29ybGQgdG8gd2ViZ2wgc3BhY2UgdXNpbmcgcHJvamVjdGlvbiB2aWV3IG1hdHJpeCBmb3IgZXhhbXBsZVxuICAgKiBTb3VyY2UgY29kZSBmcm9tOiBodHRwOi8vZ2xtYXRyaXgubmV0L2RvY3MvdmVjMy5qcy5odG1sXG4gICAqIEBwYXJhbSBtYXRyaXggLSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gdG8gdXNlXG4gICAqIEByZXR1cm5zIC0gdGhpcyB7QGxpbmsgVmVjM30gYWZ0ZXIge0BsaW5rIE1hdDQgfCBtYXRyaXh9IGFwcGxpY2F0aW9uXG4gICAqL1xuICBhcHBseU1hdDQobWF0cml4OiBNYXQ0ID0gbmV3IE1hdDQoKSk6IFZlYzMge1xuICAgIGNvbnN0IHggPSB0aGlzLl94LFxuICAgICAgeSA9IHRoaXMuX3ksXG4gICAgICB6ID0gdGhpcy5felxuICAgIGNvbnN0IG1BcnJheSA9IG1hdHJpeC5lbGVtZW50c1xuXG4gICAgbGV0IHcgPSBtQXJyYXlbM10gKiB4ICsgbUFycmF5WzddICogeSArIG1BcnJheVsxMV0gKiB6ICsgbUFycmF5WzE1XVxuICAgIHcgPSB3IHx8IDFcblxuICAgIHRoaXMueCA9IChtQXJyYXlbMF0gKiB4ICsgbUFycmF5WzRdICogeSArIG1BcnJheVs4XSAqIHogKyBtQXJyYXlbMTJdKSAvIHdcbiAgICB0aGlzLnkgPSAobUFycmF5WzFdICogeCArIG1BcnJheVs1XSAqIHkgKyBtQXJyYXlbOV0gKiB6ICsgbUFycmF5WzEzXSkgLyB3XG4gICAgdGhpcy56ID0gKG1BcnJheVsyXSAqIHggKyBtQXJyYXlbNl0gKiB5ICsgbUFycmF5WzEwXSAqIHogKyBtQXJyYXlbMTRdKSAvIHdcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXBwbHkgYSB7QGxpbmsgUXVhdCB8IHF1YXRlcm5pb259IChyb3RhdGlvbiBpbiAzRCBzcGFjZSkgdG8gdGhpcyB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIHF1YXRlcm5pb24gLSB7QGxpbmsgUXVhdCB8IHF1YXRlcm5pb259IHRvIHVzZVxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIFZlYzN9IHdpdGggdGhlIHRyYW5zZm9ybWF0aW9uIGFwcGxpZWRcbiAgICovXG4gIGFwcGx5UXVhdChxdWF0ZXJuaW9uOiBRdWF0ID0gbmV3IFF1YXQoKSk6IFZlYzMge1xuICAgIGNvbnN0IHggPSB0aGlzLngsXG4gICAgICB5ID0gdGhpcy55LFxuICAgICAgeiA9IHRoaXMuelxuICAgIGNvbnN0IHF4ID0gcXVhdGVybmlvbi5lbGVtZW50c1swXSxcbiAgICAgIHF5ID0gcXVhdGVybmlvbi5lbGVtZW50c1sxXSxcbiAgICAgIHF6ID0gcXVhdGVybmlvbi5lbGVtZW50c1syXSxcbiAgICAgIHF3ID0gcXVhdGVybmlvbi5lbGVtZW50c1szXVxuXG4gICAgLy8gY2FsY3VsYXRlIHF1YXQgKiB2ZWN0b3JcblxuICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5XG4gICAgY29uc3QgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHpcbiAgICBjb25zdCBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeFxuICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogelxuXG4gICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gICAgdGhpcy54ID0gaXggKiBxdyArIGl3ICogLXF4ICsgaXkgKiAtcXogLSBpeiAqIC1xeVxuICAgIHRoaXMueSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXpcbiAgICB0aGlzLnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSBhIHtAbGluayBWZWMzfSBhcm91bmQgYW5kIGF4aXMgYnkgYSBnaXZlbiBhbmdsZVxuICAgKiBAcGFyYW0gYXhpcyAtIG5vcm1hbGl6ZWQge0BsaW5rIFZlYzN9IGFyb3VuZCB3aGljaCB0byByb3RhdGVcbiAgICogQHBhcmFtIGFuZ2xlIC0gYW5nbGUgKGluIHJhZGlhbnMpIHRvIHJvdGF0ZVxuICAgKiBAcGFyYW0gcXVhdGVybmlvbiAtIG9wdGlvbmFsIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gdG8gdXNlIGZvciByb3RhdGlvbiBjb21wdXRhdGlvbnNcbiAgICogQHJldHVybnMgLSB0aGlzIHtAbGluayBWZWMzfSB3aXRoIHRoZSByb3RhdGlvbiBhcHBsaWVkXG4gICAqL1xuICBhcHBseUF4aXNBbmdsZShheGlzID0gbmV3IFZlYzMoKSwgYW5nbGUgPSAwLCBxdWF0ZXJuaW9uID0gbmV3IFF1YXQoKSkge1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvYmxvYi9tYXN0ZXIvc3JjL21hdGgvVmVjdG9yMy5qcyNMMjEyXG4gICAgcmV0dXJuIHRoaXMuYXBwbHlRdWF0KHF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShheGlzLCBhbmdsZSkpXG4gIH1cblxuICAvKipcbiAgICogUHJvamVjdCBhIDNEIGNvb3JkaW5hdGUge0BsaW5rIFZlYzN9IHRvIGEgMkQgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIGNhbWVyYSAtIHtAbGluayBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvblxuICAgKiBAcmV0dXJucyAtIHByb2plY3RlZCB7QGxpbmsgVmVjM31cbiAgICovXG4gIHByb2plY3QoY2FtZXJhOiBDYW1lcmEpOiBWZWMzIHtcbiAgICB0aGlzLmFwcGx5TWF0NChjYW1lcmEudmlld01hdHJpeCkuYXBwbHlNYXQ0KGNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVW5wcm9qZWN0IGEgMkQgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM30gdG8gM0QgY29vcmRpbmF0ZSB7QGxpbmsgVmVjM31cbiAgICogQHBhcmFtIGNhbWVyYSAtIHtAbGluayBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvblxuICAgKiBAcmV0dXJucyAtIHVucHJvamVjdGVkIHtAbGluayBWZWMzfVxuICAgKi9cbiAgdW5wcm9qZWN0KGNhbWVyYTogQ2FtZXJhKTogVmVjMyB7XG4gICAgdGhpcy5hcHBseU1hdDQoY2FtZXJhLnByb2plY3Rpb25NYXRyaXguZ2V0SW52ZXJzZSgpKS5hcHBseU1hdDQoY2FtZXJhLm1vZGVsTWF0cml4KVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IEJ1ZmZlckxheW91dCwgZ2V0QnVmZmVyTGF5b3V0LCBUeXBlZEFycmF5LCBXR1NMVmFyaWFibGVUeXBlIH0gZnJvbSAnLi4vdXRpbHMnXHJcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1ZlYzInXHJcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1ZlYzMnXHJcbmltcG9ydCB7IFF1YXQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL1F1YXQnXHJcbmltcG9ydCB7IE1hdDQgfSBmcm9tICcuLi8uLi8uLi9tYXRoL01hdDQnXHJcblxyXG4vKiogTnVtYmVyIG9mIHNsb3RzIHBlciByb3cgKi9cclxuZXhwb3J0IGNvbnN0IHNsb3RzUGVyUm93ID0gNFxyXG4vKiogTnVtYmVyIG9mIGJ5dGVzIHBlciBzbG90ICovXHJcbmV4cG9ydCBjb25zdCBieXRlc1BlclNsb3QgPSA0XHJcbi8qKiBOdW1iZXIgb2YgYnl0ZXMgcGVyIHJvdyAqL1xyXG5leHBvcnQgY29uc3QgYnl0ZXNQZXJSb3cgPSBzbG90c1BlclJvdyAqIGJ5dGVzUGVyU2xvdFxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYSBwb3NpdGlvbiBpbiBvdXIgYXJyYXkgYnVmZmVyIHdpdGggYSByb3cgaW5kZXggYW5kIGEgYnl0ZSBpbmRleFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24ge1xyXG4gIC8qKiByb3cgaW5kZXggb2YgdGhhdCBwb3NpdGlvbiAqL1xyXG4gIHJvdzogbnVtYmVyXHJcbiAgLyoqIGJ5dGUgaW5kZXggb2YgdGhhdCBwb3NpdGlvbiAqL1xyXG4gIGJ5dGU6IG51bWJlclxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGFsaWdubWVudDpcclxuICogS2VlcCB0cmFjayBvZiBhbiBlbnRyeSBzdGFydCBhbmQgZW5kIHJvdyBhbmQgYnl0ZXMgaW5kZXhlcyAoMTYgYnl0ZXMgcGVyIHJvdylcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyRWxlbWVudEFsaWdubWVudCB7XHJcbiAgLyoqIFRoZSByb3cgYW5kIGJ5dGUgaW5kZXhlcyBhdCB3aGljaCB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSBzdGFydHMgKi9cclxuICBzdGFydDogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uXHJcbiAgLyoqIFRoZSByb3cgYW5kIGJ5dGUgaW5kZXhlcyBhdCB3aGljaCB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSBlbmRzICovXHJcbiAgZW5kOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb25cclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQnVmZmVyRWxlbWVudH1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyRWxlbWVudFBhcmFtcyB7XHJcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIGtleSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAga2V5OiBzdHJpbmdcclxuICAvKiogVGhlIFdHU0wgdmFyaWFibGUgdHlwZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAgdHlwZTogV0dTTFZhcmlhYmxlVHlwZVxyXG59XHJcblxyXG4vKipcclxuICogVXNlZCB0byBoYW5kbGUgZWFjaCB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX0gdmlldyBhbmQgZGF0YSBsYXlvdXQgYWxpZ25tZW50LlxyXG4gKiBDb21wdXRlIHRoZSBleGFjdCBhbGlnbm1lbnQgb2Zmc2V0cyBuZWVkZWQgdG8gZmlsbCBhbiB7QGxpbmsgQXJyYXlCdWZmZXJ9IHRoYXQgd2lsbCBiZSBzZW50IHRvIGEge0BsaW5rIEdQVUJ1ZmZlcn0sIGJhc2VkIG9uIGFuIGlucHV0IHR5cGUgYW5kIHZhbHVlLlxyXG4gKiBBbHNvIHVwZGF0ZSB0aGUgdmlldyBhcnJheSBhdCB0aGUgY29ycmVjdCBvZmZzZXQuXHJcbiAqXHJcbiAqIFNvIGFsbCBvdXIgc3RydWN0IG5lZWQgdG8gYmUgcGFja2VkIGludG8gb3VyIGFycmF5QnVmZmVyIHVzaW5nIGEgcHJlY2lzZSBsYXlvdXQuXHJcbiAqIFRoZXkgd2lsbCBiZSBzdG9yZWQgaW4gcm93cywgZWFjaCByb3cgbWFkZSBvZiA0IHNsb3RzIGFuZCBlYWNoIHNsb3RzIG1hZGUgb2YgNCBieXRlcy4gRGVwZW5kaW5nIG9uIHRoZSBiaW5kaW5nIGVsZW1lbnQgdHlwZSwgaXRzIHJvdyBhbmQgc2xvdCBtYXkgdmFyeSBhbmQgd2UgbWF5IGhhdmUgdG8gaW5zZXJ0IGVtcHR5IHBhZGRlZCB2YWx1ZXMuXHJcbiAqIEFsbCBpbiBhbGwgaXQgbG9va3MgbGlrZSB0aGF0Ojxicj5cclxuICogPHByZT5cclxuICogICAgICAgICAgc2xvdCAwICAgIHNsb3QgMSAgICBzbG90IDIgICAgc2xvdCAzXHJcbiAqIHJvdyAwIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIHJvdyAxIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIHJvdyAyIHwgXyBfIF8gXyB8IF8gXyBfIF8gfCBfIF8gXyBfIHwgXyBfIF8gXyB8XHJcbiAqIDwvcHJlPlxyXG4gKiBzZWUgaHR0cHM6Ly93ZWJncHVmdW5kYW1lbnRhbHMub3JnL3dlYmdwdS9sZXNzb25zL3Jlc291cmNlcy93Z3NsLW9mZnNldC1jb21wdXRlci5odG1sXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQnVmZmVyRWxlbWVudCB7XHJcbiAgLyoqIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBuYW1lOiBzdHJpbmdcclxuICAvKiogVGhlIFdHU0wgdmFyaWFibGUgdHlwZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9ICovXHJcbiAgdHlwZTogV0dTTFZhcmlhYmxlVHlwZVxyXG4gIC8qKiBUaGUga2V5IG9mIHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudH0gKi9cclxuICBrZXk6IHN0cmluZ1xyXG5cclxuICAvKioge0BsaW5rIEJ1ZmZlckxheW91dH0gdXNlZCB0byBmaWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX0gYXQgdGhlIHJpZ2h0IG9mZnNldHMgKi9cclxuICBidWZmZXJMYXlvdXQ6IEJ1ZmZlckxheW91dFxyXG5cclxuICAvKipcclxuICAgKiBPYmplY3QgZGVmaW5pbmcgZXhhY3RseSBhdCB3aGljaCBwbGFjZSBhIGJpbmRpbmcgc2hvdWxkIGJlIGluc2VydGVkIGludG8gdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyNhcnJheUJ1ZmZlciB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5fVxyXG4gICAqL1xyXG4gIGFsaWdubWVudDogQnVmZmVyRWxlbWVudEFsaWdubWVudFxyXG5cclxuICAvKiogQXJyYXkgY29udGFpbmluZyB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHZhbHVlcyAqL1xyXG4gIHZpZXc/OiBUeXBlZEFycmF5XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ1ZmZlckVsZW1lbnQgY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBCdWZmZXJFbGVtZW50UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBCdWZmZXJFbGVtZW50fVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwga2V5LCB0eXBlID0gJ2YzMicgfTogQnVmZmVyRWxlbWVudFBhcmFtcykge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZVxyXG4gICAgdGhpcy5rZXkgPSBrZXlcclxuICAgIHRoaXMudHlwZSA9IHR5cGVcclxuXHJcbiAgICB0aGlzLmJ1ZmZlckxheW91dCA9IGdldEJ1ZmZlckxheW91dCh0aGlzLnR5cGUucmVwbGFjZSgnYXJyYXknLCAnJykucmVwbGFjZSgnPCcsICcnKS5yZXBsYWNlKCc+JywgJycpKVxyXG5cclxuICAgIC8vIHNldCBpbml0IGFsaWdubWVudFxyXG4gICAgdGhpcy5hbGlnbm1lbnQgPSB7XHJcbiAgICAgIHN0YXJ0OiB7XHJcbiAgICAgICAgcm93OiAwLFxyXG4gICAgICAgIGJ5dGU6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGVuZDoge1xyXG4gICAgICAgIHJvdzogMCxcclxuICAgICAgICBieXRlOiAwLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2Ygcm93cyB1c2VkIGJ5IHRoaXMge0BsaW5rIEJ1ZmZlckVsZW1lbnR9XHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IHJvd0NvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5hbGlnbm1lbnQuZW5kLnJvdyAtIHRoaXMuYWxpZ25tZW50LnN0YXJ0LnJvdyArIDFcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQnVmZmVyRWxlbWVudH0gYmFzZWQgb24ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9IHN0YXJ0IGFuZCBlbmQgb2Zmc2V0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBieXRlQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh0aGlzLmVuZE9mZnNldCAtIHRoaXMuc3RhcnRPZmZzZXQpICsgMVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgdXNlZCBieSB0aGlzIHtAbGluayBCdWZmZXJFbGVtZW50fSwgaW5jbHVkaW5nIGZpbmFsIHBhZGRpbmdcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgcGFkZGVkQnl0ZUNvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gKHRoaXMuYWxpZ25tZW50LmVuZC5yb3cgKyAxKSAqIGJ5dGVzUGVyUm93XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHN0YXJ0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzdGFydE9mZnNldCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Qnl0ZUNvdW50QXRQb3NpdGlvbih0aGlzLmFsaWdubWVudC5zdGFydClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXJyYXkgb2Zmc2V0IChpLmUuIGFycmF5IGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IHN0YXJ0c1xyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzdGFydE9mZnNldFRvSW5kZXgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2Zmc2V0IC8gYnl0ZXNQZXJTbG90XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGVuZHNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgZW5kT2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5nZXRCeXRlQ291bnRBdFBvc2l0aW9uKHRoaXMuYWxpZ25tZW50LmVuZClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgYXJyYXkgb2Zmc2V0IChpLmUuIGFycmF5IGluZGV4KSBhdCB3aGljaCBvdXIge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGVuZHNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgZW5kT2Zmc2V0VG9JbmRleCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy5lbmRPZmZzZXQgLyBieXRlc1BlclNsb3QpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHBvc2l0aW9uIGF0IGdpdmVuIG9mZnNldCAoaS5lLiBieXRlIGluZGV4KVxyXG4gICAqIEBwYXJhbSBvZmZzZXQgLSBieXRlIGluZGV4IHRvIHVzZVxyXG4gICAqL1xyXG4gIGdldFBvc2l0aW9uQXRPZmZzZXQob2Zmc2V0ID0gMCk6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByb3c6IE1hdGguZmxvb3Iob2Zmc2V0IC8gYnl0ZXNQZXJSb3cpLFxyXG4gICAgICBieXRlOiBvZmZzZXQgJSBieXRlc1BlclJvdyxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIGF0IGEgZ2l2ZW4ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn0gZnJvbSB3aGljaCB0byBjb3VudFxyXG4gICAqIEByZXR1cm5zIC0gYnl0ZSBjb3VudCBhdCB0aGUgZ2l2ZW4ge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqL1xyXG4gIGdldEJ5dGVDb3VudEF0UG9zaXRpb24ocG9zaXRpb246IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH0pOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uLnJvdyAqIGJ5dGVzUGVyUm93ICsgcG9zaXRpb24uYnl0ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2sgdGhhdCBhIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24jYnl0ZSB8IGJ5dGUgcG9zaXRpb259IGRvZXMgbm90IG92ZXJmbG93IGl0cyBtYXggdmFsdWUgKDE2KVxyXG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn1cclxuICAgKiBAcmV0dXJucyAtIHVwZGF0ZWQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqL1xyXG4gIGFwcGx5T3ZlcmZsb3dUb1Bvc2l0aW9uKFxyXG4gICAgcG9zaXRpb246IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH1cclxuICApOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24ge1xyXG4gICAgaWYgKHBvc2l0aW9uLmJ5dGUgPiBieXRlc1BlclJvdyAtIDEpIHtcclxuICAgICAgY29uc3Qgb3ZlcmZsb3cgPSBwb3NpdGlvbi5ieXRlICUgYnl0ZXNQZXJSb3dcclxuICAgICAgcG9zaXRpb24ucm93ICs9IE1hdGguZmxvb3IocG9zaXRpb24uYnl0ZSAvIGJ5dGVzUGVyUm93KVxyXG4gICAgICBwb3NpdGlvbi5ieXRlID0gb3ZlcmZsb3dcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcG9zaXRpb25cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGJ5dGVzIGJldHdlZW4gdHdvIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbnN9XHJcbiAgICogQHBhcmFtIHAxIC0gZmlyc3Qge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufVxyXG4gICAqIEBwYXJhbSBwMiAtIHNlY29uZCB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259XHJcbiAgICogQHJldHVybnMgLSBudW1iZXIgb2YgYnl0ZXNcclxuICAgKi9cclxuICBnZXRCeXRlQ291bnRCZXR3ZWVuUG9zaXRpb25zKFxyXG4gICAgcDE6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiA9IHsgcm93OiAwLCBieXRlOiAwIH0sXHJcbiAgICBwMjogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uID0geyByb3c6IDAsIGJ5dGU6IDAgfVxyXG4gICk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCeXRlQ291bnRBdFBvc2l0aW9uKHAyKSAtIHRoaXMuZ2V0Qnl0ZUNvdW50QXRQb3NpdGlvbihwMSkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wdXRlIHRoZSByaWdodCBhbGlnbm1lbnQgKGkuZS4gc3RhcnQgYW5kIGVuZCByb3dzIGFuZCBieXRlcykgZ2l2ZW4gdGhlIHNpemUgYW5kIGFsaWduIHByb3BlcnRpZXMgYW5kIHRoZSBuZXh0IGF2YWlsYWJsZSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259XHJcbiAgICogQHBhcmFtIG5leHRQb3NpdGlvbkF2YWlsYWJsZSAtIG5leHQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnRQb3NpdGlvbiB8IHBvc2l0aW9ufSBhdCB3aGljaCB3ZSBzaG91bGQgaW5zZXJ0IHRoaXMgZWxlbWVudFxyXG4gICAqIEByZXR1cm5zIC0gY29tcHV0ZWQge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9XHJcbiAgICovXHJcbiAgZ2V0RWxlbWVudEFsaWdubWVudChcclxuICAgIG5leHRQb3NpdGlvbkF2YWlsYWJsZTogQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uID0geyByb3c6IDAsIGJ5dGU6IDAgfVxyXG4gICk6IEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQge1xyXG4gICAgY29uc3QgYWxpZ25tZW50ID0ge1xyXG4gICAgICBzdGFydDogbmV4dFBvc2l0aW9uQXZhaWxhYmxlLFxyXG4gICAgICBlbmQ6IG5leHRQb3NpdGlvbkF2YWlsYWJsZSxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IHNpemUsIGFsaWduIH0gPSB0aGlzLmJ1ZmZlckxheW91dFxyXG5cclxuICAgIC8vIGNoZWNrIHRoZSBhbGlnbm1lbnQsIGkuZS4gZXZlbiBpZiB0aGVyZSdzIGVub3VnaCBzcGFjZSBmb3Igb3VyIGJpbmRpbmdcclxuICAgIC8vIHdlIG1pZ2h0IGhhdmUgdG8gcGFkIHRoZSBzbG90IGJlY2F1c2Ugc29tZSB0eXBlcyBuZWVkIGEgc3BlY2lmaWMgYWxpZ25tZW50XHJcbiAgICBpZiAobmV4dFBvc2l0aW9uQXZhaWxhYmxlLmJ5dGUgJSBhbGlnbiAhPT0gMCkge1xyXG4gICAgICBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArPSBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSAlIGFsaWduXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaW4gdGhlIGNhc2Ugb2YgYSBiaW5kaW5nIHRoYXQgY291bGQgZml0IG9uIG9uZSByb3dcclxuICAgIC8vIGJ1dCB3ZSBkb24ndCBoYXZlIHNwYWNlIG9uIHRoZSBjdXJyZW50IHJvdyBmb3IgdGhpcyBiaW5kaW5nIGVsZW1lbnRcclxuICAgIC8vIGdvIHRvIG5leHQgcm93XHJcbiAgICBpZiAoc2l6ZSA8PSBieXRlc1BlclJvdyAmJiBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArIHNpemUgPiBieXRlc1BlclJvdykge1xyXG4gICAgICBuZXh0UG9zaXRpb25BdmFpbGFibGUucm93ICs9IDFcclxuICAgICAgbmV4dFBvc2l0aW9uQXZhaWxhYmxlLmJ5dGUgPSAwXHJcbiAgICB9XHJcblxyXG4gICAgYWxpZ25tZW50LmVuZCA9IHtcclxuICAgICAgcm93OiBuZXh0UG9zaXRpb25BdmFpbGFibGUucm93ICsgTWF0aC5jZWlsKHNpemUgLyBieXRlc1BlclJvdykgLSAxLFxyXG4gICAgICBieXRlOiBuZXh0UG9zaXRpb25BdmFpbGFibGUuYnl0ZSArIChzaXplICUgYnl0ZXNQZXJSb3cgPT09IDAgPyBieXRlc1BlclJvdyAtIDEgOiAoc2l6ZSAlIGJ5dGVzUGVyUm93KSAtIDEpLCAvLyBlbmQgb2Ygcm93ID8gdGhlbiBpdCBlbmRzIG9uIHNsb3QgKGJ5dGVzUGVyUm93IC0gMSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBub3cgZmluYWwgY2hlY2ssIGlmIGVuZCBzbG90IGhhcyBvdmVyZmxvd25cclxuICAgIGFsaWdubWVudC5lbmQgPSB0aGlzLmFwcGx5T3ZlcmZsb3dUb1Bvc2l0aW9uKGFsaWdubWVudC5lbmQpXHJcblxyXG4gICAgcmV0dXJuIGFsaWdubWVudFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudCB8IGFsaWdubWVudH0gZnJvbSBhIHtAbGluayBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gfCBwb3NpdGlvbn1cclxuICAgKiBAcGFyYW0gcG9zaXRpb24gLSB7QGxpbmsgQnVmZmVyRWxlbWVudEFsaWdubWVudFBvc2l0aW9uIHwgcG9zaXRpb259IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgIWNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICovXHJcbiAgc2V0QWxpZ25tZW50RnJvbVBvc2l0aW9uKHBvc2l0aW9uOiBCdWZmZXJFbGVtZW50QWxpZ25tZW50UG9zaXRpb24gPSB7IHJvdzogMCwgYnl0ZTogMCB9KSB7XHJcbiAgICB0aGlzLmFsaWdubWVudCA9IHRoaXMuZ2V0RWxlbWVudEFsaWdubWVudChwb3NpdGlvbilcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIEJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9IGZyb20gYW4gb2Zmc2V0IChieXRlIGNvdW50KVxyXG4gICAqIEBwYXJhbSBzdGFydE9mZnNldCAtIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBpbnNlcnRpbmcgdGhlIHZhbHVlcyBpbiB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICovXHJcbiAgc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0ID0gMCkge1xyXG4gICAgdGhpcy5zZXRBbGlnbm1lbnRGcm9tUG9zaXRpb24odGhpcy5nZXRQb3NpdGlvbkF0T2Zmc2V0KHN0YXJ0T2Zmc2V0KSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIHZpZXd9XHJcbiAgICogQHBhcmFtIGFycmF5QnVmZmVyIC0gdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyNhcnJheUJ1ZmZlciB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5fVxyXG4gICAqIEBwYXJhbSBhcnJheVZpZXcgLSB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5VmlldyB8IGJ1ZmZlciBiaW5kaW5nIGFycmF5IHZpZXd9XHJcbiAgICovXHJcbiAgc2V0VmlldyhhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIsIGFycmF5VmlldzogRGF0YVZpZXcpIHtcclxuICAgIHRoaXMudmlldyA9IG5ldyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3KFxyXG4gICAgICBhcnJheUJ1ZmZlcixcclxuICAgICAgdGhpcy5zdGFydE9mZnNldCxcclxuICAgICAgdGhpcy5ieXRlQ291bnQgLyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3LkJZVEVTX1BFUl9FTEVNRU5UXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayB2aWV3fSBiYXNlZCBvbiB0aGUgbmV3IHZhbHVlXHJcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHZhbHVlIHRvIHVzZVxyXG4gICAqL1xyXG4gIHVwZGF0ZSh2YWx1ZSkge1xyXG4gICAgaWYgKHRoaXMudHlwZSA9PT0gJ2YzMicgfHwgdGhpcy50eXBlID09PSAndTMyJyB8fCB0aGlzLnR5cGUgPT09ICdpMzInKSB7XHJcbiAgICAgIHRoaXMudmlld1swXSA9IHZhbHVlIGFzIG51bWJlclxyXG4gICAgfSBlbHNlIGlmICh0aGlzLnR5cGUgPT09ICd2ZWMyZicpIHtcclxuICAgICAgdGhpcy52aWV3WzBdID0gKHZhbHVlIGFzIFZlYzIpLnggPz8gdmFsdWVbMF0gPz8gMFxyXG4gICAgICB0aGlzLnZpZXdbMV0gPSAodmFsdWUgYXMgVmVjMikueSA/PyB2YWx1ZVsxXSA/PyAwXHJcbiAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3ZlYzNmJykge1xyXG4gICAgICB0aGlzLnZpZXdbMF0gPSAodmFsdWUgYXMgVmVjMykueCA/PyB2YWx1ZVswXSA/PyAwXHJcbiAgICAgIHRoaXMudmlld1sxXSA9ICh2YWx1ZSBhcyBWZWMzKS55ID8/IHZhbHVlWzFdID8/IDBcclxuICAgICAgdGhpcy52aWV3WzJdID0gKHZhbHVlIGFzIFZlYzMpLnogPz8gdmFsdWVbMl0gPz8gMFxyXG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgUXVhdCB8IE1hdDQpLmVsZW1lbnRzKSB7XHJcbiAgICAgIHRoaXMudmlldy5zZXQoKHZhbHVlIGFzIFF1YXQgfCBNYXQ0KS5lbGVtZW50cylcclxuICAgIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICB0aGlzLnZpZXcuc2V0KHZhbHVlIGFzIG51bWJlcltdKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXh0cmFjdCB0aGUgZGF0YSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgc3BlY2lmaWMge0BsaW5rIEJ1ZmZlckVsZW1lbnR9IGZyb20gYSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhIG9mIHRoZSBwYXJlbnRNZXNoIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9XHJcbiAgICogQHBhcmFtIHJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxyXG4gICAqIEByZXR1cm5zIC0gZXh0cmFjdGVkIGRhdGEgZnJvbSB0aGUge0BsaW5rIEZsb2F0MzJBcnJheX1cclxuICAgKi9cclxuICBleHRyYWN0RGF0YUZyb21CdWZmZXJSZXN1bHQocmVzdWx0OiBGbG9hdDMyQXJyYXkpIHtcclxuICAgIHJldHVybiByZXN1bHQuc2xpY2UodGhpcy5zdGFydE9mZnNldFRvSW5kZXgsIHRoaXMuZW5kT2Zmc2V0VG9JbmRleClcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQnVmZmVyRWxlbWVudCwgQnVmZmVyRWxlbWVudFBhcmFtcywgYnl0ZXNQZXJTbG90IH0gZnJvbSAnLi9CdWZmZXJFbGVtZW50J1xuaW1wb3J0IHsgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdXRpbHMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBCdWZmZXJBcnJheUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnVmZmVyQXJyYXlFbGVtZW50UGFyYW1zIGV4dGVuZHMgQnVmZmVyRWxlbWVudFBhcmFtcyB7XG4gIC8qKiBJbml0aWFsIGxlbmd0aCBvZiB0aGUgaW5wdXQge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIGFycmF5TGVuZ3RoOiBudW1iZXJcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGhhbmRsZSBzcGVjaWZpYyBhcnJheSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcgfCBCdWZmZXJCaW5kaW5nfSB0eXBlc1xuICovXG5leHBvcnQgY2xhc3MgQnVmZmVyQXJyYXlFbGVtZW50IGV4dGVuZHMgQnVmZmVyRWxlbWVudCB7XG4gIC8qKiBJbml0aWFsIGxlbmd0aCBvZiB0aGUgaW5wdXQge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIGFycmF5TGVuZ3RoOiBudW1iZXJcbiAgLyoqIFRvdGFsIG51bWJlciBvZiBlbGVtZW50cyAoaS5lLiB7QGxpbmsgYXJyYXlMZW5ndGh9IGRpdmlkZWQgYnkge0BsaW5rIGNvcmUvYmluZGluZ3MvdXRpbHMuQnVmZmVyTGF5b3V0IHwgYnVmZmVyIGxheW91dH0gbnVtYmVyIG9mIGVsZW1lbnRzICovXG4gIG51bUVsZW1lbnRzOiBudW1iZXJcbiAgLyoqIE51bWJlciBvZiBieXRlcyBpbiB0aGUge0BsaW5rIEFycmF5QnVmZmVyfSBiZXR3ZWVuIHR3byBlbGVtZW50cyB7QGxpbmsgc3RhcnRPZmZzZXR9ICovXG4gIGFycmF5U3RyaWRlOiBudW1iZXJcblxuICAvKipcbiAgICogQnVmZmVyQXJyYXlFbGVtZW50IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQnVmZmVyQXJyYXlFbGVtZW50fVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBuYW1lLCBrZXksIHR5cGUgPSAnZjMyJywgYXJyYXlMZW5ndGggPSAxIH06IEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcykge1xuICAgIHN1cGVyKHsgbmFtZSwga2V5LCB0eXBlIH0pXG5cbiAgICB0aGlzLmFycmF5TGVuZ3RoID0gYXJyYXlMZW5ndGhcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gdGhpcy5hcnJheUxlbmd0aCAvIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhcnJheSBzdHJpZGUgYmV0d2VlbiB0d28gZWxlbWVudHMgb2YgdGhlIGFycmF5LCBpbiBpbmRpY2VzXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGFycmF5U3RyaWRlVG9JbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmFycmF5U3RyaWRlIC8gYnl0ZXNQZXJTbG90XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50LkJ1ZmZlckVsZW1lbnRBbGlnbm1lbnQgfCBhbGlnbm1lbnR9XG4gICAqIFRvIGNvbXB1dGUgaG93IGFycmF5cyBhcmUgcGFja2VkLCB3ZSBnZXQgdGhlIHNlY29uZCBpdGVtIGFsaWdubWVudCBhcyB3ZWxsIGFuZCB1c2UgaXQgdG8gY2FsY3VsYXRlIHRoZSBhcnJheVN0cmlkZSBiZXR3ZWVuIHR3byBhcnJheSBlbGVtZW50cy4gVXNpbmcgdGhlIGFycmF5U3RyaWRlIGFuZCB0aGUgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzLCB3ZSBjYW4gZWFzaWx5IGdldCB0aGUgZW5kIGFsaWdubWVudCBwb3NpdGlvbi5cbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IC0gb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheSBidWZmZXJ9XG4gICAqL1xuICBzZXRBbGlnbm1lbnQoc3RhcnRPZmZzZXQgPSAwKSB7XG4gICAgc3VwZXIuc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0KVxuXG4gICAgLy8gcmVwZWF0IGZvciBhIHNlY29uZCBlbGVtZW50IHRvIGtub3cgaG93IHRoaW5ncyBhcmUgbGFpZCBvdXRcbiAgICBjb25zdCBuZXh0QWxpZ25tZW50ID0gdGhpcy5nZXRFbGVtZW50QWxpZ25tZW50KHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIDEpKVxuICAgIHRoaXMuYXJyYXlTdHJpZGUgPSB0aGlzLmdldEJ5dGVDb3VudEJldHdlZW5Qb3NpdGlvbnModGhpcy5hbGlnbm1lbnQuZW5kLCBuZXh0QWxpZ25tZW50LmVuZClcblxuICAgIHRoaXMuYWxpZ25tZW50LmVuZCA9IHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIHRoaXMuYXJyYXlTdHJpZGUgKiAodGhpcy5udW1FbGVtZW50cyAtIDEpKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIHZpZXd9IGJhc2VkIG9uIHRoZSBuZXcgdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHZhbHVlIHRvIHVzZVxuICAgKi9cbiAgdXBkYXRlKHZhbHVlKSB7XG4gICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyh2YWx1ZSkgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGxldCB2YWx1ZUluZGV4ID0gMFxuXG4gICAgICBjb25zdCB2aWV3TGVuZ3RoID0gdGhpcy5ieXRlQ291bnQgLyB0aGlzLmJ1ZmZlckxheW91dC5WaWV3LkJZVEVTX1BFUl9FTEVNRU5UXG4gICAgICAvLyBhcnJheVN0cmlkZSBpcyBvdXIgdmlldyBsZW5ndGggZGl2aWRlZCBieSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIG91ciBhcnJheVxuICAgICAgY29uc3Qgc3RyaWRlID0gTWF0aC5jZWlsKHZpZXdMZW5ndGggLyB0aGlzLm51bUVsZW1lbnRzKVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRWxlbWVudHM7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzOyBqKyspIHtcbiAgICAgICAgICB0aGlzLnZpZXdbaiArIGkgKiBzdHJpZGVdID0gdmFsdWVbdmFsdWVJbmRleF1cblxuICAgICAgICAgIHZhbHVlSW5kZXgrK1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93V2FybmluZyhgQnVmZmVyQXJyYXlFbGVtZW50OiB2YWx1ZSBwYXNzZWQgdG8gJHt0aGlzLm5hbWV9IGlzIG5vdCBhbiBhcnJheTogJHt2YWx1ZX1gKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVmZmVyQXJyYXlFbGVtZW50LCBCdWZmZXJBcnJheUVsZW1lbnRQYXJhbXMgfSBmcm9tICcuL0J1ZmZlckFycmF5RWxlbWVudCdcclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGNvbXB1dGUgYWxpZ25tZW50IHdoZW4gZGVhbGluZyB3aXRoIGFycmF5cyBvZiBTdHJ1Y3RcclxuICovXHJcbmV4cG9ydCBjbGFzcyBCdWZmZXJJbnRlcmxlYXZlZEFycmF5RWxlbWVudCBleHRlbmRzIEJ1ZmZlckFycmF5RWxlbWVudCB7XHJcbiAgLyoqIENvcnJlc3BvbmRpbmcge0BsaW5rIERhdGFWaWV3fSBzZXQgZnVuY3Rpb24gYmFzZWQgb24ge0BsaW5rIHZpZXd9IHR5cGUgKi9cclxuICB2aWV3U2V0RnVuY3Rpb246IERhdGFWaWV3WydzZXRJbnQzMiddIHwgRGF0YVZpZXdbJ3NldFVpbnQxNiddIHwgRGF0YVZpZXdbJ3NldFVpbnQzMiddIHwgRGF0YVZpZXdbJ3NldEZsb2F0MzInXVxyXG5cclxuICAvKipcclxuICAgKiBCdWZmZXJJbnRlcmxlYXZlZEFycmF5RWxlbWVudCBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBrZXksIHR5cGUgPSAnZjMyJywgYXJyYXlMZW5ndGggPSAxIH06IEJ1ZmZlckFycmF5RWxlbWVudFBhcmFtcykge1xyXG4gICAgc3VwZXIoeyBuYW1lLCBrZXksIHR5cGUsIGFycmF5TGVuZ3RoIH0pXHJcblxyXG4gICAgdGhpcy5hcnJheVN0cmlkZSA9IDFcclxuXHJcbiAgICB0aGlzLmFycmF5TGVuZ3RoID0gYXJyYXlMZW5ndGhcclxuICAgIHRoaXMubnVtRWxlbWVudHMgPSB0aGlzLmFycmF5TGVuZ3RoIC8gdGhpcy5idWZmZXJMYXlvdXQubnVtRWxlbWVudHNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIHNsb3RzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9IGJhc2VkIG9uIGJ1ZmZlciBsYXlvdXQgc2l6ZSBhbmQgdG90YWwgbnVtYmVyIG9mIGVsZW1lbnRzXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IGJ5dGVDb3VudCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyTGF5b3V0LnNpemUgKiB0aGlzLm51bUVsZW1lbnRzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudEFsaWdubWVudCB8IGFsaWdubWVudH1cclxuICAgKiBUbyBjb21wdXRlIGhvdyBhcnJheXMgYXJlIHBhY2tlZCwgd2UgbmVlZCB0byBjb21wdXRlIHRoZSBhcnJheVN0cmlkZSBiZXR3ZWVuIHR3byBlbGVtZW50cyBiZWZvcmVoYW5kIGFuZCBwYXNzIGl0IGhlcmUuIFVzaW5nIHRoZSBhcnJheVN0cmlkZSBhbmQgdGhlIHRvdGFsIG51bWJlciBvZiBlbGVtZW50cywgd2UgY2FuIGVhc2lseSBnZXQgdGhlIGVuZCBhbGlnbm1lbnQgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IC0gb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IGluc2VydGluZyB0aGUgdmFsdWVzIGluIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlCdWZmZXIgfCBidWZmZXIgYmluZGluZyBhcnJheX1cclxuICAgKiBAcGFyYW0gc3RyaWRlIC0gU3RyaWRlIGluIHRoZSB7QGxpbmsgQXJyYXlCdWZmZXJ9IGJldHdlZW4gdHdvIGVsZW1lbnRzIG9mIHRoZSBhcnJheVxyXG4gICAqL1xyXG4gIHNldEFsaWdubWVudChzdGFydE9mZnNldCA9IDAsIHN0cmlkZSA9IDApIHtcclxuICAgIHRoaXMuYWxpZ25tZW50ID0gdGhpcy5nZXRFbGVtZW50QWxpZ25tZW50KHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldChzdGFydE9mZnNldCkpXHJcblxyXG4gICAgdGhpcy5hcnJheVN0cmlkZSA9IHN0cmlkZVxyXG5cclxuICAgIHRoaXMuYWxpZ25tZW50LmVuZCA9IHRoaXMuZ2V0UG9zaXRpb25BdE9mZnNldCh0aGlzLmVuZE9mZnNldCArIHN0cmlkZSAqICh0aGlzLm51bUVsZW1lbnRzIC0gMSkpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayB2aWV3fSBhbmQge0BsaW5rIHZpZXdTZXRGdW5jdGlvbn1cclxuICAgKiBAcGFyYW0gYXJyYXlCdWZmZXIgLSB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvQnVmZmVyQmluZGluZy5CdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9XHJcbiAgICogQHBhcmFtIGFycmF5VmlldyAtIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlWaWV3IHwgYnVmZmVyIGJpbmRpbmcgYXJyYXkgdmlld31cclxuICAgKi9cclxuICBzZXRWaWV3KGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlciwgYXJyYXlWaWV3OiBEYXRhVmlldykge1xyXG4gICAgLy8gb3VyIHZpZXcgd2lsbCBiZSBhIHNpbXBsZSB0eXBlZCBhcnJheSwgbm90IGxpbmtlZCB0byB0aGUgYXJyYXkgYnVmZmVyXHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgdGhpcy5idWZmZXJMYXlvdXQuVmlldyh0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50cyAqIHRoaXMubnVtRWxlbWVudHMpXHJcblxyXG4gICAgLy8gYnV0IG91ciB2aWV3U2V0RnVuY3Rpb24gaXMgbGlua2VkIHRvIHRoZSBhcnJheSB2aWV3XHJcbiAgICB0aGlzLnZpZXdTZXRGdW5jdGlvbiA9ICgoYXJyYXlWaWV3KSA9PiB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy5idWZmZXJMYXlvdXQuVmlldykge1xyXG4gICAgICAgIGNhc2UgSW50MzJBcnJheTpcclxuICAgICAgICAgIHJldHVybiBhcnJheVZpZXcuc2V0SW50MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRJbnQzMiddXHJcbiAgICAgICAgY2FzZSBVaW50MTZBcnJheTpcclxuICAgICAgICAgIHJldHVybiBhcnJheVZpZXcuc2V0VWludDE2LmJpbmQoYXJyYXlWaWV3KSBhcyBEYXRhVmlld1snc2V0VWludDE2J11cclxuICAgICAgICBjYXNlIFVpbnQzMkFycmF5OlxyXG4gICAgICAgICAgcmV0dXJuIGFycmF5Vmlldy5zZXRVaW50MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRVaW50MzInXVxyXG4gICAgICAgIGNhc2UgRmxvYXQzMkFycmF5OlxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXlWaWV3LnNldEZsb2F0MzIuYmluZChhcnJheVZpZXcpIGFzIERhdGFWaWV3WydzZXRGbG9hdDMyJ11cclxuICAgICAgfVxyXG4gICAgfSkoYXJyYXlWaWV3KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSB7QGxpbmsgdmlld30gYmFzZWQgb24gdGhlIG5ldyB2YWx1ZSwgYW5kIHRoZW4gdXBkYXRlIHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nLkJ1ZmZlckJpbmRpbmcjYXJyYXlWaWV3IHwgYnVmZmVyIGJpbmRpbmcgYXJyYXkgdmlld30gdXNpbmcgc3ViIGFycmF5c1xyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyB2YWx1ZSB0byB1c2VcclxuICAgKi9cclxuICB1cGRhdGUodmFsdWUpIHtcclxuICAgIHN1cGVyLnVwZGF0ZSh2YWx1ZSlcclxuXHJcbiAgICAvLyBub3cgdXNlIG91ciB2aWV3U2V0RnVuY3Rpb24gdG8gZmlsbCB0aGUgYXJyYXkgdmlldyB3aXRoIGludGVybGVhdmVkIGFsaWdubWVudFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bUVsZW1lbnRzOyBpKyspIHtcclxuICAgICAgY29uc3Qgc3ViYXJyYXkgPSB0aGlzLnZpZXcuc3ViYXJyYXkoXHJcbiAgICAgICAgaSAqIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzLFxyXG4gICAgICAgIGkgKiB0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50cyArIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGNvbnN0IHN0YXJ0Qnl0ZU9mZnNldCA9IHRoaXMuc3RhcnRPZmZzZXQgKyBpICogdGhpcy5hcnJheVN0cmlkZVxyXG5cclxuICAgICAgLy8gdmlldyBzZXQgZnVuY3Rpb24gbmVlZCB0byBiZSBjYWxsZWQgZm9yIGVhY2ggc3ViYXJyYXkgZW50cnksIHNvIGxvb3Agb3ZlciBzdWJhcnJheSBlbnRyaWVzXHJcbiAgICAgIHN1YmFycmF5LmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHRoaXMudmlld1NldEZ1bmN0aW9uKHN0YXJ0Qnl0ZU9mZnNldCArIGluZGV4ICogdGhpcy5idWZmZXJMYXlvdXQuVmlldy5CWVRFU19QRVJfRUxFTUVOVCwgdmFsdWUsIHRydWUpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHRyYWN0IHRoZSBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBzcGVjaWZpYyB7QGxpbmsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnR9IGZyb20gYSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhIG9mIHRoZSBwYXJlbnRNZXNoIHtAbGluayBjb3JlL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcuQnVmZmVyQmluZGluZyB8IEJ1ZmZlckJpbmRpbmd9XHJcbiAgICogQHBhcmFtIHJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxyXG4gICAqL1xyXG4gIGV4dHJhY3REYXRhRnJvbUJ1ZmZlclJlc3VsdChyZXN1bHQ6IEZsb2F0MzJBcnJheSkge1xyXG4gICAgY29uc3QgaW50ZXJsZWF2ZWRSZXN1bHQgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlMZW5ndGgpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtRWxlbWVudHM7IGkrKykge1xyXG4gICAgICBjb25zdCByZXN1bHRPZmZzZXQgPSB0aGlzLnN0YXJ0T2Zmc2V0VG9JbmRleCArIGkgKiB0aGlzLmFycmF5U3RyaWRlVG9JbmRleFxyXG5cclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmJ1ZmZlckxheW91dC5udW1FbGVtZW50czsgaisrKSB7XHJcbiAgICAgICAgaW50ZXJsZWF2ZWRSZXN1bHRbaSAqIHRoaXMuYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzICsgal0gPSByZXN1bHRbcmVzdWx0T2Zmc2V0ICsgal1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGludGVybGVhdmVkUmVzdWx0XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdQYXJhbXMsIEJ1ZmZlckJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlIH0gZnJvbSAnLi9CaW5kaW5nJ1xuaW1wb3J0IHsgZ2V0QmluZEdyb3VwTGF5b3V0QmluZGluZ1R5cGUsIGdldEJpbmRpbmdXR1NMVmFyVHlwZSwgZ2V0QnVmZmVyTGF5b3V0LCBUeXBlZEFycmF5IH0gZnJvbSAnLi91dGlscydcbmltcG9ydCB7IHRocm93V2FybmluZywgdG9DYW1lbENhc2UsIHRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBWZWMyIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMyJ1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uL21hdGgvVmVjMydcbmltcG9ydCB7IElucHV0LCBJbnB1dEJhc2UsIElucHV0VmFsdWUgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgQnVmZmVyRWxlbWVudCB9IGZyb20gJy4vYnVmZmVyRWxlbWVudHMvQnVmZmVyRWxlbWVudCdcbmltcG9ydCB7IEJ1ZmZlckFycmF5RWxlbWVudCB9IGZyb20gJy4vYnVmZmVyRWxlbWVudHMvQnVmZmVyQXJyYXlFbGVtZW50J1xuaW1wb3J0IHsgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQgfSBmcm9tICcuL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50J1xuXG4vKipcbiAqIERlZmluZXMgYSB7QGxpbmsgQnVmZmVyQmluZGluZ30gaW5wdXQgb2JqZWN0IHRoYXQgY2FuIHNldCBhIHZhbHVlIGFuZCBydW4gYSBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIHRoaXMgaGFwcGVuc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZlckJpbmRpbmdJbnB1dCBleHRlbmRzIElucHV0QmFzZSB7XG4gIC8qKiBPcmlnaW5hbCB7QGxpbmsgSW5wdXRWYWx1ZSB8IGlucHV0IHZhbHVlfSAqL1xuICBfdmFsdWU6IElucHV0VmFsdWVcblxuICAvKiogR2V0IHRoZSB7QGxpbmsgSW5wdXRWYWx1ZSB8IGlucHV0IHZhbHVlfSAqL1xuICBnZXQgdmFsdWUoKTogSW5wdXRWYWx1ZVxuXG4gIC8qKiBTZXQgdGhlIHtAbGluayBJbnB1dFZhbHVlIHwgaW5wdXQgdmFsdWV9ICovXG4gIHNldCB2YWx1ZSh2YWx1ZTogSW5wdXRWYWx1ZSlcblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIElucHV0VmFsdWUgfCBpbnB1dCB2YWx1ZX0gaGFzIGNoYW5nZWQgYW5kIHdlIHNob3VsZCB1cGRhdGUgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nI2FycmF5QnVmZmVyIHwgYnVmZmVyIGJpbmRpbmcgYXJyYXl9ICovXG4gIHNob3VsZFVwZGF0ZTogYm9vbGVhblxufVxuXG4vKipcbiAqIEJhc2UgcGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBCdWZmZXJCaW5kaW5nfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZlckJpbmRpbmdCYXNlUGFyYW1zIHtcbiAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30gc2hvdWxkIHVzZSBzdHJ1Y3R1cmVkIFdHU0wgdmFyaWFibGVzICovXG4gIHVzZVN0cnVjdD86IGJvb2xlYW5cbiAgLyoqIHtAbGluayBCdWZmZXJCaW5kaW5nfSBtZW1vcnkgYWNjZXNzIHR5cGVzIChyZWFkIG9ubHkgb3IgcmVhZC93cml0ZSkgKi9cbiAgYWNjZXNzPzogQnVmZmVyQmluZGluZ01lbW9yeUFjY2Vzc1R5cGVcbiAgLyoqIE9iamVjdCBjb250YWluaW5nIG9uZSBvciBtdWx0aXBsZSB7QGxpbmsgSW5wdXQgfCBpbnB1dHN9IGRlc2NyaWJpbmcgdGhlIHN0cnVjdHVyZSBvZiB0aGUge0BsaW5rIEJ1ZmZlckJpbmRpbmd9ICovXG4gIHN0cnVjdD86IFJlY29yZDxzdHJpbmcsIElucHV0PlxufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQnVmZmVyQmluZGluZ31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCdWZmZXJCaW5kaW5nUGFyYW1zIGV4dGVuZHMgQmluZGluZ1BhcmFtcywgQnVmZmVyQmluZGluZ0Jhc2VQYXJhbXMge31cblxuLyoqIEFsbCBhbGxvd2VkIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnRzfSAqL1xuZXhwb3J0IHR5cGUgQWxsb3dlZEJ1ZmZlckVsZW1lbnQgPSBCdWZmZXJFbGVtZW50IHwgQnVmZmVyQXJyYXlFbGVtZW50IHwgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnRcblxuLyoqXG4gKiBVc2VkIHRvIGZvcm1hdCB7QGxpbmsgQnVmZmVyQmluZGluZ1BhcmFtcyNzdHJ1Y3QgfCB1bmlmb3JtcyBvciBzdG9yYWdlcyBzdHJ1Y3QgaW5wdXRzfSBhbmQgY3JlYXRlIGEgc2luZ2xlIHR5cGVkIGFycmF5IHRoYXQgd2lsbCBob2xkIGFsbCB0aG9zZSBpbnB1dHMgdmFsdWVzLiBUaGUgYXJyYXkgbmVlZHMgdG8gYmUgY29ycmVjdGx5IHBhZGRlZCBkZXBlbmRpbmcgb24gZXZlcnkgdmFsdWUgdHlwZSwgc28gaXQgY2FuIGJlIHNhZmVseSB1c2VkIGFzIGEgR1BVQnVmZmVyIGlucHV0Ljxicj5cbiAqIEl0IHdpbGwgYWxzbyBjcmVhdGUgV0dTTCBTdHJ1Y3RzIGFuZCB2YXJpYWJsZXMgYWNjb3JkaW5nIHRvIHRoZSBCdWZmZXJCaW5kaW5ncyBpbnB1dHMgcGFyYW1ldGVycy48YnI+XG4gKiBUaGUgV0dTTCBzdHJ1Y3RzIGFuZCB2YXJpYWJsZXMgZGVjbGFyYXRpb24gbWF5IHZhcnkgYmFzZWQgb24gdGhlIGlucHV0IHR5cGVzLCBlc3BlY2lhbGx5IGlmIHRoZXJlJ3Mgb25lIG9yIG1vcmUgYXJyYXlzIGludm9sdmVkIChpLmUuIGBhcnJheTxmMzI+YCwgYGFycmF5PHZlYzNmPmAgZXRjLikuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIGNyZWF0ZSBhIEdQVSBidWZmZXIgYmluZGluZ1xuICogY29uc3QgYnVmZmVyQmluZGluZyA9IG5ldyBCdWZmZXJCaW5kaW5nKHtcbiAqICAgbmFtZTogJ3BhcmFtcycsIC8vIG5hbWUgb2YgdGhlIFdHU0wgb2JqZWN0XG4gKiAgIGJpbmRpbmdUeXBlOiAndW5pZm9ybScsIC8vIHNob3VsZCBiZSAnc3RvcmFnZScgZm9yIGxhcmdlIGFycmF5c1xuICogICBzdHJ1Y3Q6IHtcbiAqICAgICBvcGFjaXR5OiB7XG4gKiAgICAgICB0eXBlOiAnZjMyJyxcbiAqICAgICAgIHZhbHVlOiAxLFxuICogICAgIH0sXG4gKiAgICAgbW91c2VQb3NpdGlvbjoge1xuICogICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAqICAgICAgIHZhbHVlOiBuZXcgVmVjMigpLFxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBCdWZmZXJCaW5kaW5nIGV4dGVuZHMgQmluZGluZyB7XG4gIC8qKiBGbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30ge0BsaW5rIGJ1ZmZlckVsZW1lbnRzIHwgYnVmZmVyIGVsZW1lbnRzfSBzaG91bGQgYmUgcGFja2VkIGluIGEgc2luZ2xlIHN0cnVjdHVyZWQgb2JqZWN0IG9yIGlmIGVhY2ggb25lIG9mIHRoZW0gc2hvdWxkIGJlIGEgc2VwYXJhdGUgYmluZGluZy4gKi9cbiAgdXNlU3RydWN0OiBib29sZWFuXG4gIC8qKiBBbGwgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nfSBkYXRhIGlucHV0cyAqL1xuICBpbnB1dHM6IFJlY29yZDxzdHJpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dD5cblxuICAvKiogRmxhZyB0byBpbmRpY2F0ZSB3aGV0aGVyIG9uZSBvZiB0aGUge0BsaW5rIGlucHV0c30gdmFsdWUgaGFzIGNoYW5nZWQgYW5kIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBHUFVCdWZmZXIgbGlua2VkIHRvIHRoZSB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5ICovXG4gIHNob3VsZFVwZGF0ZTogYm9vbGVhblxuXG4gIC8qKiBBbiBhcnJheSBkZXNjcmliaW5nIGhvdyBlYWNoIGNvcnJlc3BvbmRpbmcge0BsaW5rIGlucHV0c30gc2hvdWxkIGJlIGluc2VydGVkIGludG8gb3VyIHtAbGluayBhcnJheVZpZXd9IGFycmF5ICovXG4gIGJ1ZmZlckVsZW1lbnRzOiBBbGxvd2VkQnVmZmVyRWxlbWVudFtdXG5cbiAgLyoqIFRvdGFsIHNpemUgb2Ygb3VyIHtAbGluayBhcnJheUJ1ZmZlcn0gYXJyYXkgaW4gYnl0ZXMgKi9cbiAgYXJyYXlCdWZmZXJTaXplOiBudW1iZXJcbiAgLyoqIEFycmF5IGJ1ZmZlciB0aGF0IHdpbGwgYmUgc2VudCB0byB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gKi9cbiAgYXJyYXlCdWZmZXI6IEFycmF5QnVmZmVyXG4gIC8qKiBEYXRhIHZpZXcgb2Ygb3VyIHtAbGluayBhcnJheUJ1ZmZlciB8IGFycmF5IGJ1ZmZlcn0gKi9cbiAgYXJyYXlWaWV3OiBEYXRhVmlld1xuXG4gIC8qKiBUaGUgR1BVQnVmZmVyICovXG4gIGJ1ZmZlcjogR1BVQnVmZmVyIHwgbnVsbFxuXG4gIC8qKiBBIHN0cmluZyB0byBhcHBlbmQgdG8gb3VyIHNoYWRlcnMgY29kZSBkZXNjcmliaW5nIHRoZSBXR1NMIHN0cnVjdHVyZSByZXByZXNlbnRpbmcgdGhpcyB7QGxpbmsgQnVmZmVyQmluZGluZ30gKi9cbiAgd2dzbFN0cnVjdEZyYWdtZW50OiBzdHJpbmdcbiAgLyoqIEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gYXBwZW5kIHRvIG91ciBzaGFkZXJzIGNvZGUgZGVjbGFyaW5nIGFsbCB0aGUgV0dTTCB2YXJpYWJsZXMgcmVwcmVzZW50aW5nIHRoaXMge0BsaW5rIEJ1ZmZlckJpbmRpbmd9ICovXG4gIHdnc2xHcm91cEZyYWdtZW50OiBzdHJpbmdbXVxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBCdWZmZXJCaW5kaW5nfSAqL1xuICBvcHRpb25zOiBCdWZmZXJCaW5kaW5nUGFyYW1zXG5cbiAgLyoqXG4gICAqIEJ1ZmZlckJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgQnVmZmVyQmluZGluZ1BhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBCdWZmZXJCaW5kaW5nc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1VuaWZvcm0nLFxuICAgIG5hbWUgPSAndW5pZm9ybScsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICB1c2VTdHJ1Y3QgPSB0cnVlLFxuICAgIGFjY2VzcyA9ICdyZWFkJyxcbiAgICBzdHJ1Y3QgPSB7fSxcbiAgfTogQnVmZmVyQmluZGluZ1BhcmFtcykge1xuICAgIGJpbmRpbmdUeXBlID0gYmluZGluZ1R5cGUgPz8gJ3VuaWZvcm0nXG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdmlzaWJpbGl0eSB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgdXNlU3RydWN0LFxuICAgICAgYWNjZXNzLFxuICAgICAgc3RydWN0OiBzdHJ1Y3QsXG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlclNpemUgPSAwXG5cbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXG4gICAgdGhpcy51c2VTdHJ1Y3QgPSB1c2VTdHJ1Y3RcblxuICAgIHRoaXMuYnVmZmVyRWxlbWVudHMgPSBbXVxuICAgIHRoaXMuaW5wdXRzID0ge31cbiAgICB0aGlzLmJ1ZmZlciA9IG51bGxcblxuICAgIHRoaXMuc2V0QmluZGluZ3Moc3RydWN0KVxuICAgIHRoaXMuc2V0QnVmZmVyQXR0cmlidXRlcygpXG4gICAgdGhpcy5zZXRXR1NMRnJhZ21lbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0RW50cnkjYnVmZmVyIHwgYmluZCBncm91cCBsYXlvdXQgZW50cnkgcmVzb3VyY2V9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlTGF5b3V0KCk6IHtcbiAgICAvKioge0BsaW5rIEdQVUJpbmRHcm91cExheW91dCB8IGJpbmQgZ3JvdXAgbGF5b3V0fSByZXNvdXJjZSAqL1xuICAgIGJ1ZmZlcjogR1BVQnVmZmVyQmluZGluZ0xheW91dFxuICB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgYnVmZmVyOiB7XG4gICAgICAgIHR5cGU6IGdldEJpbmRHcm91cExheW91dEJpbmRpbmdUeXBlKHRoaXMpLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlKCk6IHtcbiAgICAvKioge0BsaW5rIEdQVUJpbmRHcm91cCB8IGJpbmQgZ3JvdXB9IHJlc291cmNlICovXG4gICAgYnVmZmVyOiBHUFVCdWZmZXIgfCBudWxsXG4gIH0ge1xuICAgIHJldHVybiB7IGJ1ZmZlcjogdGhpcy5idWZmZXIgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdCBiaW5kaW5ncyBzdHJ1Y3QgYW5kIHNldCBvdXIge0BsaW5rIGlucHV0c31cbiAgICogQHBhcmFtIGJpbmRpbmdzIC0gYmluZGluZ3MgaW5wdXRzXG4gICAqL1xuICBzZXRCaW5kaW5ncyhiaW5kaW5nczogUmVjb3JkPHN0cmluZywgSW5wdXQ+KSB7XG4gICAgT2JqZWN0LmtleXMoYmluZGluZ3MpLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB7fSBhcyBCdWZmZXJCaW5kaW5nSW5wdXRcblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYmluZGluZ3NbYmluZGluZ0tleV0pIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ3ZhbHVlJykge1xuICAgICAgICAgIGJpbmRpbmdba2V5XSA9IGJpbmRpbmdzW2JpbmRpbmdLZXldW2tleV1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkZWZpbmUgYSBcInZhbHVlXCIgZ2V0dGVyL3NldHRlciBzbyB3ZSBjYW4gbm93IHdoZW4gdG8gdXBkYXRlIHRoZSBidWZmZXIgYmluZGluZ1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJpbmRpbmcsICd2YWx1ZScsIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBiaW5kaW5nLl92YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgIGJpbmRpbmcuX3ZhbHVlID0gdlxuICAgICAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgYmluZGluZy52YWx1ZSA9IGJpbmRpbmdzW2JpbmRpbmdLZXldLnZhbHVlXG5cbiAgICAgIGlmIChiaW5kaW5nLnZhbHVlIGluc3RhbmNlb2YgVmVjMiB8fCBiaW5kaW5nLnZhbHVlIGluc3RhbmNlb2YgVmVjMykge1xuICAgICAgICBiaW5kaW5nLnZhbHVlLm9uQ2hhbmdlKCgpID0+IChiaW5kaW5nLnNob3VsZFVwZGF0ZSA9IHRydWUpKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XSA9IGJpbmRpbmdcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgYnVmZmVyIGF0dHJpYnV0ZXM6XG4gICAqIFRha2VzIGFsbCB0aGUge0BsaW5rIGlucHV0c30gYW5kIGFkZHMgdGhlbSB0byB0aGUge0BsaW5rIGJ1ZmZlckVsZW1lbnRzfSBhcnJheSB3aXRoIHRoZSBjb3JyZWN0IHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyAocGFkZGVkKSwgdGhlbiBmaWxsIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IHR5cGVkIGFycmF5IGFjY29yZGluZ2x5LlxuICAgKi9cbiAgc2V0QnVmZmVyQXR0cmlidXRlcygpIHtcbiAgICAvLyBlYXJseSBvbiwgY2hlY2sgaWYgdGhlcmUncyBhdCBsZWFzdCBvbmUgYXJyYXkgYmluZGluZ1xuICAgIC8vIElmIHRoZXJlJ3Mgb25lIGFuZCBvbmx5IG9uZSwgcHV0IGl0IGF0IHRoZSBlbmQgb2YgdGhlIGJpbmRpbmcgZWxlbWVudHMgYXJyYXksIHRyZWF0IGl0IGFzIGEgc2luZ2xlIGVudHJ5IG9mIHRoZSB0eXBlLCBidXQgbG9vcCBvbiBpdCBieSBhcnJheS5sZW5ndGggLyBzaXplIHRvIGZpbGwgdGhlIGFsaWdubWVudFxuICAgIC8vIElmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSwgY3JlYXRlIGJ1ZmZlciBpbnRlcmxlYXZlZCBlbGVtZW50cy5cblxuICAgIC8vIGlmIGxlbmd0aCA9PT0gMCwgT0tcbiAgICAvLyBpZiBsZW5ndGggPT09IDEsIHB1dCBpdCBhdCB0aGUgZW5kIG9mIG91ciBzdHJ1Y3RcbiAgICAvLyBpZiBsZW5ndGggPiAxLCBjcmVhdGUgYSBidWZmZXIgaW50ZXJsZWF2ZWQgZWxlbWVudHNcbiAgICBjb25zdCBhcnJheUJpbmRpbmdzID0gT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZpbHRlcihcbiAgICAgIChiaW5kaW5nS2V5KSA9PiB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XS50eXBlLmluZGV4T2YoJ2FycmF5JykgIT09IC0xXG4gICAgKVxuXG4gICAgLy8gcHV0IHRoZSBhcnJheSBzdHJ1Y3QgYXQgdGhlIGVuZFxuICAgIGxldCBvcmRlcmVkQmluZGluZ3MgPSBPYmplY3Qua2V5cyh0aGlzLmlucHV0cykuc29ydCgoYmluZGluZ0tleUEsIGJpbmRpbmdLZXlCKSA9PiB7XG4gICAgICAvLyAwIGlmIGl0J3MgYW4gYXJyYXksIC0xIGVsc2VcbiAgICAgIGNvbnN0IGlzQmluZGluZ0FBcnJheSA9IE1hdGgubWluKDAsIHRoaXMuaW5wdXRzW2JpbmRpbmdLZXlBXS50eXBlLmluZGV4T2YoJ2FycmF5JykpXG4gICAgICBjb25zdCBpc0JpbmRpbmdCQXJyYXkgPSBNYXRoLm1pbigwLCB0aGlzLmlucHV0c1tiaW5kaW5nS2V5Ql0udHlwZS5pbmRleE9mKCdhcnJheScpKVxuXG4gICAgICByZXR1cm4gaXNCaW5kaW5nQUFycmF5IC0gaXNCaW5kaW5nQkFycmF5XG4gICAgfSlcblxuICAgIGlmIChhcnJheUJpbmRpbmdzLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIHJlbW92ZSBpbnRlcmxlYXZlZCBhcnJheXMgZnJvbSB0aGUgb3JkZXJlZCBzdHJ1Y3Qga2V5IGFycmF5XG4gICAgICBvcmRlcmVkQmluZGluZ3MgPSBvcmRlcmVkQmluZGluZ3MuZmlsdGVyKChiaW5kaW5nS2V5KSA9PiAhYXJyYXlCaW5kaW5ncy5pbmNsdWRlcyhiaW5kaW5nS2V5KSlcbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgYnVmZmVyIChub24gaW50ZXJsZWF2ZWQpIGVsZW1lbnRzXG4gICAgb3JkZXJlZEJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuXG4gICAgICBjb25zdCBidWZmZXJFbGVtZW50T3B0aW9ucyA9IHtcbiAgICAgICAgbmFtZTogdG9DYW1lbENhc2UoYmluZGluZy5uYW1lID8/IGJpbmRpbmdLZXkpLFxuICAgICAgICBrZXk6IGJpbmRpbmdLZXksXG4gICAgICAgIHR5cGU6IGJpbmRpbmcudHlwZSxcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNBcnJheSA9XG4gICAgICAgIGJpbmRpbmcudHlwZS5pbmRleE9mKCdhcnJheScpICE9PSAtMSAmJiAoQXJyYXkuaXNBcnJheShiaW5kaW5nLnZhbHVlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcoYmluZGluZy52YWx1ZSkpXG5cbiAgICAgIHRoaXMuYnVmZmVyRWxlbWVudHMucHVzaChcbiAgICAgICAgaXNBcnJheVxuICAgICAgICAgID8gbmV3IEJ1ZmZlckFycmF5RWxlbWVudCh7XG4gICAgICAgICAgICAgIC4uLmJ1ZmZlckVsZW1lbnRPcHRpb25zLFxuICAgICAgICAgICAgICBhcnJheUxlbmd0aDogKGJpbmRpbmcudmFsdWUgYXMgbnVtYmVyW10pLmxlbmd0aCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBuZXcgQnVmZmVyRWxlbWVudChidWZmZXJFbGVtZW50T3B0aW9ucylcbiAgICAgIClcbiAgICB9KVxuXG4gICAgLy8gc2V0IHRoZWlyIGFsaWdubWVudHNcbiAgICB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzdGFydE9mZnNldCA9IGluZGV4ID09PSAwID8gMCA6IHRoaXMuYnVmZmVyRWxlbWVudHNbaW5kZXggLSAxXS5lbmRPZmZzZXQgKyAxXG5cbiAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHN0YXJ0T2Zmc2V0KVxuICAgIH0pXG5cbiAgICAvLyBub3cgY3JlYXRlIG91ciBpbnRlcmxlYXZlZCBidWZmZXIgZWxlbWVudHNcbiAgICBpZiAoYXJyYXlCaW5kaW5ncy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBmaXJzdCBnZXQgdGhlIHNpemVzIG9mIHRoZSBhcnJheXNcbiAgICAgIGNvbnN0IGFycmF5U2l6ZXMgPSBhcnJheUJpbmRpbmdzLm1hcCgoYmluZGluZ0tleSkgPT4ge1xuICAgICAgICBjb25zdCBiaW5kaW5nID0gdGhpcy5pbnB1dHNbYmluZGluZ0tleV1cbiAgICAgICAgY29uc3QgYnVmZmVyTGF5b3V0ID0gZ2V0QnVmZmVyTGF5b3V0KGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJykpXG5cbiAgICAgICAgcmV0dXJuIChiaW5kaW5nLnZhbHVlIGFzIG51bWJlcltdIHwgVHlwZWRBcnJheSkubGVuZ3RoIC8gYnVmZmVyTGF5b3V0Lm51bUVsZW1lbnRzXG4gICAgICB9KVxuXG4gICAgICAvLyBhcmUgdGhleSBhbGwgb2YgdGhlIHNhbWUgc2l6ZT9cbiAgICAgIGNvbnN0IGVxdWFsU2l6ZSA9IGFycmF5U2l6ZXMuZXZlcnkoKHNpemUsIGksIGFycmF5KSA9PiBzaXplID09PSBhcnJheVswXSlcblxuICAgICAgaWYgKGVxdWFsU2l6ZSkge1xuICAgICAgICAvLyB0aGlzIHdpbGwgaG9sZCBvdXIgaW50ZXJsZWF2ZWQgYnVmZmVyIGVsZW1lbnRzXG4gICAgICAgIGNvbnN0IGludGVybGVhdmVkQnVmZmVyRWxlbWVudHMgPSBhcnJheUJpbmRpbmdzLm1hcCgoYmluZGluZ0tleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVySW50ZXJsZWF2ZWRBcnJheUVsZW1lbnQoe1xuICAgICAgICAgICAgbmFtZTogdG9DYW1lbENhc2UoYmluZGluZy5uYW1lID8/IGJpbmRpbmdLZXkpLFxuICAgICAgICAgICAga2V5OiBiaW5kaW5nS2V5LFxuICAgICAgICAgICAgdHlwZTogYmluZGluZy50eXBlLFxuICAgICAgICAgICAgYXJyYXlMZW5ndGg6IChiaW5kaW5nLnZhbHVlIGFzIG51bWJlcltdKS5sZW5ndGgsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBub3cgY3JlYXRlIHRlbXAgYnVmZmVyIGVsZW1lbnRzIHRoYXQgd2UnbGwgdXNlIHRvIGZpbGwgdGhlIGludGVybGVhdmVkIGJ1ZmZlciBlbGVtZW50cyBhbGlnbm1lbnRzXG4gICAgICAgIGNvbnN0IHRlbXBCdWZmZXJFbGVtZW50cyA9IGFycmF5QmluZGluZ3MubWFwKChiaW5kaW5nS2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgYmluZGluZyA9IHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldXG4gICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXJFbGVtZW50KHtcbiAgICAgICAgICAgIG5hbWU6IHRvQ2FtZWxDYXNlKGJpbmRpbmcubmFtZSA/PyBiaW5kaW5nS2V5KSxcbiAgICAgICAgICAgIGtleTogYmluZGluZ0tleSxcbiAgICAgICAgICAgIHR5cGU6IGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJyksXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBzZXQgdGVtcCBidWZmZXIgYWxpZ25tZW50cyBhcyBpZiBpdCB3YXMgcmVndWxhciBidWZmZXIgZWxlbWVudHNcbiAgICAgICAgdGVtcEJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIGFscmVhZHkgYnVmZmVyIGVsZW1lbnRzXG4gICAgICAgICAgICAgIC8vIGdldCBsYXN0IG9uZSBlbmQgcm93LCBhbmQgc3RhcnQgYXQgdGhlIG5leHQgcm93XG4gICAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50RnJvbVBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICByb3c6IHRoaXMuYnVmZmVyRWxlbWVudHNbdGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5hbGlnbm1lbnQuZW5kLnJvdyArIDEsXG4gICAgICAgICAgICAgICAgYnl0ZTogMCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHRlbXBCdWZmZXJFbGVtZW50c1tpbmRleCAtIDFdLmVuZE9mZnNldCArIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIG5vdyB1c2UgbGFzdCB0ZW1wIGJ1ZmZlciBlbmQgb2Zmc2V0IGFzIG91ciBpbnRlcmxlYXZlZCBhcnJheVN0cmlkZVxuICAgICAgICBjb25zdCB0b3RhbFN0cmlkZSA9XG4gICAgICAgICAgdGVtcEJ1ZmZlckVsZW1lbnRzW3RlbXBCdWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5lbmRPZmZzZXQgKyAxIC0gdGVtcEJ1ZmZlckVsZW1lbnRzWzBdLnN0YXJ0T2Zmc2V0XG5cbiAgICAgICAgLy8gZmluYWxseSwgc2V0IGludGVybGVhdmVkIGJ1ZmZlciBlbGVtZW50cyBhbGlnbm1lbnRcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50cy5mb3JFYWNoKChidWZmZXJFbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0QWxpZ25tZW50KHRlbXBCdWZmZXJFbGVtZW50c1tpbmRleF0uc3RhcnRPZmZzZXQsIHRvdGFsU3RyaWRlKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGFkZCB0byBvdXIgYnVmZmVyIGVsZW1lbnRzIGFycmF5XG4gICAgICAgIHRoaXMuYnVmZmVyRWxlbWVudHMgPSBbLi4udGhpcy5idWZmZXJFbGVtZW50cywgLi4uaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50c11cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93V2FybmluZyhcbiAgICAgICAgICBgQnVmZmVyQmluZGluZzogXCIke1xuICAgICAgICAgICAgdGhpcy5sYWJlbFxuICAgICAgICAgIH1cIiBjb250YWlucyBtdWx0aXBsZSBhcnJheSBpbnB1dHMgdGhhdCBzaG91bGQgdXNlIGFuIGludGVybGVhdmVkIGFycmF5LCBidXQgdGhlaXIgc2l6ZXMgZG8gbm90IG1hdGNoLiBUaGVzZSBpbnB1dHMgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBCdWZmZXJCaW5kaW5nOiBcIiR7YXJyYXlCaW5kaW5ncy5qb2luKFxuICAgICAgICAgICAgJywgJ1xuICAgICAgICAgICl9XCJgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyU2l6ZSA9IHRoaXMuYnVmZmVyRWxlbWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuYnVmZmVyRWxlbWVudHNbdGhpcy5idWZmZXJFbGVtZW50cy5sZW5ndGggLSAxXS5wYWRkZWRCeXRlQ291bnRcbiAgICAgIDogMFxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmFycmF5QnVmZmVyU2l6ZSlcbiAgICB0aGlzLmFycmF5VmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLmFycmF5QnVmZmVyLCAwLCB0aGlzLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpXG5cbiAgICB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZvckVhY2goKGJ1ZmZlckVsZW1lbnQpID0+IHtcbiAgICAgIGJ1ZmZlckVsZW1lbnQuc2V0Vmlldyh0aGlzLmFycmF5QnVmZmVyLCB0aGlzLmFycmF5VmlldylcbiAgICB9KVxuXG4gICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0aGlzLmFycmF5QnVmZmVyU2l6ZSA+IDBcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIFdHU0wgY29kZSBzbmlwcGV0IHRvIGFwcGVuZCB0byB0aGUgc2hhZGVycyBjb2RlLiBJdCBjb25zaXN0cyBvZiB2YXJpYWJsZSAoYW5kIFN0cnVjdCBzdHJ1Y3R1cmVzIGlmIG5lZWRlZCkgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgc2V0V0dTTEZyYWdtZW50KCkge1xuICAgIGNvbnN0IGtlYmFiQ2FzZUxhYmVsID0gdG9LZWJhYkNhc2UodGhpcy5sYWJlbClcblxuICAgIGlmICh0aGlzLnVzZVN0cnVjdCkge1xuICAgICAgY29uc3QgYnVmZmVyRWxlbWVudHMgPSB0aGlzLmJ1ZmZlckVsZW1lbnRzLmZpbHRlcihcbiAgICAgICAgKGJ1ZmZlckVsZW1lbnQpID0+ICEoYnVmZmVyRWxlbWVudCBpbnN0YW5jZW9mIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50KVxuICAgICAgKVxuICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXJFbGVtZW50cyA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmlsdGVyKFxuICAgICAgICAoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudCBpbnN0YW5jZW9mIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50XG4gICAgICApIGFzIEJ1ZmZlckludGVybGVhdmVkQXJyYXlFbGVtZW50W11cblxuICAgICAgaWYgKGludGVybGVhdmVkQnVmZmVyRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGFycmF5TGVuZ3RoID0gdGhpcy5iaW5kaW5nVHlwZSA9PT0gJ3VuaWZvcm0nID8gYCwgJHtpbnRlcmxlYXZlZEJ1ZmZlckVsZW1lbnRzWzBdLm51bUVsZW1lbnRzfWAgOiAnJ1xuXG4gICAgICAgIGlmIChidWZmZXJFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLndnc2xTdHJ1Y3RGcmFnbWVudCA9IGBzdHJ1Y3QgJHtrZWJhYkNhc2VMYWJlbH1FbGVtZW50IHtcXG5cXHQke2ludGVybGVhdmVkQnVmZmVyRWxlbWVudHNcbiAgICAgICAgICAgIC5tYXAoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSArICc6ICcgKyBiaW5kaW5nLnR5cGUucmVwbGFjZSgnYXJyYXknLCAnJykucmVwbGFjZSgnPCcsICcnKS5yZXBsYWNlKCc+JywgJycpKVxuICAgICAgICAgICAgLmpvaW4oJyxcXG5cXHQnKX1cbn07XFxuXFxuYFxuXG4gICAgICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXJTdHJ1Y3REZWNsYXJhdGlvbiA9IGAke3RoaXMubmFtZX1FbGVtZW50OiBhcnJheTwke2tlYmFiQ2FzZUxhYmVsfUVsZW1lbnQke2FycmF5TGVuZ3RofT4sYFxuXG4gICAgICAgICAgdGhpcy53Z3NsU3RydWN0RnJhZ21lbnQgKz0gYHN0cnVjdCAke2tlYmFiQ2FzZUxhYmVsfSB7XFxuXFx0JHtidWZmZXJFbGVtZW50c1xuICAgICAgICAgICAgLm1hcCgoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudC5uYW1lICsgJzogJyArIGJ1ZmZlckVsZW1lbnQudHlwZSlcbiAgICAgICAgICAgIC5qb2luKCcsXFxuXFx0Jyl9XG5cXHQke2ludGVybGVhdmVkQnVmZmVyU3RydWN0RGVjbGFyYXRpb259XG59O2BcblxuICAgICAgICAgIGNvbnN0IHZhclR5cGUgPSBnZXRCaW5kaW5nV0dTTFZhclR5cGUodGhpcylcbiAgICAgICAgICB0aGlzLndnc2xHcm91cEZyYWdtZW50ID0gW2Ake3ZhclR5cGV9ICR7dGhpcy5uYW1lfTogJHtrZWJhYkNhc2VMYWJlbH07YF1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLndnc2xTdHJ1Y3RGcmFnbWVudCA9IGBzdHJ1Y3QgJHtrZWJhYkNhc2VMYWJlbH0ge1xcblxcdCR7dGhpcy5idWZmZXJFbGVtZW50c1xuICAgICAgICAgICAgLm1hcCgoYmluZGluZykgPT4gYmluZGluZy5uYW1lICsgJzogJyArIGJpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJykpXG4gICAgICAgICAgICAuam9pbignLFxcblxcdCcpfVxufTtgXG5cbiAgICAgICAgICBjb25zdCB2YXJUeXBlID0gZ2V0QmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpXG4gICAgICAgICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHt2YXJUeXBlfSAke3RoaXMubmFtZX06IGFycmF5PCR7a2ViYWJDYXNlTGFiZWx9JHthcnJheUxlbmd0aH0+O2BdXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMud2dzbFN0cnVjdEZyYWdtZW50ID0gYHN0cnVjdCAke2tlYmFiQ2FzZUxhYmVsfSB7XFxuXFx0JHt0aGlzLmJ1ZmZlckVsZW1lbnRzXG4gICAgICAgICAgLm1hcCgoYmluZGluZykgPT4ge1xuICAgICAgICAgICAgLy8gbm93IGFkZCBhcnJheSBsZW5ndGggaWYgbmVlZGVkXG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nVHlwZSA9XG4gICAgICAgICAgICAgIHRoaXMuYmluZGluZ1R5cGUgPT09ICd1bmlmb3JtJyAmJiAnbnVtRWxlbWVudHMnIGluIGJpbmRpbmdcbiAgICAgICAgICAgICAgICA/IGBhcnJheTwke2JpbmRpbmcudHlwZS5yZXBsYWNlKCdhcnJheScsICcnKS5yZXBsYWNlKCc8JywgJycpLnJlcGxhY2UoJz4nLCAnJyl9LCAke1xuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nLm51bUVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICB9PmBcbiAgICAgICAgICAgICAgICA6IGJpbmRpbmcudHlwZVxuICAgICAgICAgICAgcmV0dXJuIGJpbmRpbmcubmFtZSArICc6ICcgKyBiaW5kaW5nVHlwZVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJyxcXG5cXHQnKX1cbn07YFxuXG4gICAgICAgIGNvbnN0IHZhclR5cGUgPSBnZXRCaW5kaW5nV0dTTFZhclR5cGUodGhpcylcbiAgICAgICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHt2YXJUeXBlfSAke3RoaXMubmFtZX06ICR7a2ViYWJDYXNlTGFiZWx9O2BdXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud2dzbFN0cnVjdEZyYWdtZW50ID0gJydcbiAgICAgIHRoaXMud2dzbEdyb3VwRnJhZ21lbnQgPSB0aGlzLmJ1ZmZlckVsZW1lbnRzLm1hcCgoYmluZGluZykgPT4ge1xuICAgICAgICBjb25zdCB2YXJUeXBlID0gZ2V0QmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpXG4gICAgICAgIHJldHVybiBgJHt2YXJUeXBlfSAke2JpbmRpbmcubmFtZX06ICR7YmluZGluZy50eXBlfTtgXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYSBiaW5kaW5nIHNob3VsZFVwZGF0ZSBmbGFnIHRvIHRydWUgdG8gdXBkYXRlIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5IGR1cmluZyBuZXh0IHJlbmRlci5cbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZS9rZXkgdG8gdXBkYXRlXG4gICAqL1xuICBzaG91bGRVcGRhdGVCaW5kaW5nKGJpbmRpbmdOYW1lID0gJycpIHtcbiAgICBjb25zdCBiaW5kaW5nS2V5ID0gT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZpbmQoKGJpbmRpbmdLZXkpID0+IHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldLm5hbWUgPT09IGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKGJpbmRpbmdLZXkpIHRoaXMuaW5wdXRzW2JpbmRpbmdLZXldLnNob3VsZFVwZGF0ZSA9IHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgTWF0ZXJpYWwgcmVuZGVyIGNhbGwuXG4gICAqIElmIGFueSBvZiB0aGUge0BsaW5rIGlucHV0c30gaGFzIGNoYW5nZWQsIHJ1biBpdHMgb25CZWZvcmVVcGRhdGUgY2FsbGJhY2sgdGhlbiB1cGRhdGVzIG91ciB7QGxpbmsgYXJyYXlCdWZmZXJ9IGFycmF5LlxuICAgKiBBbHNvIHNldHMgdGhlIHtAbGluayBzaG91bGRVcGRhdGV9IHByb3BlcnR5IHRvIHRydWUgc28gdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IEJpbmRHcm91cH0ga25vd3MgaXQgd2lsbCBuZWVkIHRvIHVwZGF0ZSB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0uXG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgT2JqZWN0LmtleXModGhpcy5pbnB1dHMpLmZvckVhY2goKGJpbmRpbmdLZXkpID0+IHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmlucHV0c1tiaW5kaW5nS2V5XVxuICAgICAgY29uc3QgYnVmZmVyRWxlbWVudCA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmluZCgoYnVmZmVyRWwpID0+IGJ1ZmZlckVsLmtleSA9PT0gYmluZGluZ0tleSlcblxuICAgICAgaWYgKGJpbmRpbmcuc2hvdWxkVXBkYXRlICYmIGJ1ZmZlckVsZW1lbnQpIHtcbiAgICAgICAgYmluZGluZy5vbkJlZm9yZVVwZGF0ZSAmJiBiaW5kaW5nLm9uQmVmb3JlVXBkYXRlKClcbiAgICAgICAgLy8gd2UncmUgZ29pbmcgdG8gZGlyZWN0bHkgdXBkYXRlIHRoZSBhcnJheUJ1ZmZlciBmcm9tIHRoZSBidWZmZXIgZWxlbWVudCB1cGRhdGUgbWV0aG9kXG4gICAgICAgIGJ1ZmZlckVsZW1lbnQudXBkYXRlKGJpbmRpbmcudmFsdWUpXG5cbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXG4gICAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgdGhlIGRhdGEgY29ycmVzcG9uZGluZyB0byBhIHNwZWNpZmljIHtAbGluayBCdWZmZXJFbGVtZW50fSBmcm9tIGEge0BsaW5rIEZsb2F0MzJBcnJheX0gaG9sZGluZyB0aGUge0BsaW5rIEJ1ZmZlckJpbmRpbmcjYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gZGF0YSBvZiB0aGlzIHtAbGluayBCdWZmZXJCaW5kaW5nfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBleHRyYWN0IHRoZSBkYXRhXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLnJlc3VsdCAtIHtAbGluayBGbG9hdDMyQXJyYXl9IGhvbGRpbmcge0BsaW5rIEdQVUJ1ZmZlcn0gZGF0YVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5idWZmZXJFbGVtZW50TmFtZSAtIG5hbWUgb2YgdGhlIHtAbGluayBCdWZmZXJFbGVtZW50fSB0byB1c2UgdG8gZXh0cmFjdCB0aGUgZGF0YVxuICAgKiBAcmV0dXJucyAtIGV4dHJhY3RlZCBkYXRhIGZyb20gdGhlIHtAbGluayBGbG9hdDMyQXJyYXl9XG4gICAqL1xuICBleHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHtcbiAgICByZXN1bHQsXG4gICAgYnVmZmVyRWxlbWVudE5hbWUsXG4gIH06IHtcbiAgICByZXN1bHQ6IEZsb2F0MzJBcnJheVxuICAgIGJ1ZmZlckVsZW1lbnROYW1lOiBCdWZmZXJFbGVtZW50WyduYW1lJ11cbiAgfSk6IEZsb2F0MzJBcnJheSB7XG4gICAgY29uc3QgYnVmZmVyRWxlbWVudCA9IHRoaXMuYnVmZmVyRWxlbWVudHMuZmluZCgoYnVmZmVyRWxlbWVudCkgPT4gYnVmZmVyRWxlbWVudC5uYW1lID09PSBidWZmZXJFbGVtZW50TmFtZSlcbiAgICBpZiAoYnVmZmVyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIGJ1ZmZlckVsZW1lbnQuZXh0cmFjdERhdGFGcm9tQnVmZmVyUmVzdWx0KHJlc3VsdClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQnVmZmVyQmluZGluZywgQnVmZmVyQmluZGluZ1BhcmFtcyB9IGZyb20gJy4vQnVmZmVyQmluZGluZydcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFdyaXRhYmxlQnVmZmVyQmluZGluZ31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXcml0YWJsZUJ1ZmZlckJpbmRpbmdQYXJhbXMgZXh0ZW5kcyBCdWZmZXJCaW5kaW5nUGFyYW1zIHtcbiAgLyoqIFdoZXRoZXIgd2hlIHNob3VsZCBhdXRvbWF0aWNhbGx5IGNvcHkgdGhlIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmcjYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gY29udGVudCBpbnRvIG91ciB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nI3Jlc3VsdEJ1ZmZlciB8IHJlc3VsdCBHUFUgYnVmZmVyfSAqL1xuICBzaG91bGRDb3B5UmVzdWx0PzogYm9vbGVhblxufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEJ1ZmZlckJpbmRpbmd9IHRoYXQgY2FuIGhvbGQgcmVhZC93cml0ZSBzdG9yYWdlIGJpbmRpbmdzIGFsb25nIHdpdGggYSB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nI3Jlc3VsdEJ1ZmZlciB8IHJlc3VsdCBHUFUgYnVmZmVyfSB0aGF0IGNhbiBiZSB1c2VkIHRvIGdldCBkYXRhIGJhY2sgZnJvbSB0aGUgR1BVLlxuICpcbiAqIE5vdGUgdGhhdCBpdCBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IEJpbmRHcm91cH0gd2hlbiBhIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyNzdG9yYWdlcyB8IHN0b3JhZ2VzIGlucHV0fSBoYXMgaXRzIHtAbGluayBCdWZmZXJCaW5kaW5nUGFyYW1zI2FjY2VzcyB8IGFjY2Vzc30gcHJvcGVydHkgc2V0IHRvIGBcInJlYWRfd3JpdGVcImAuXG4gKi9cbmV4cG9ydCBjbGFzcyBXcml0YWJsZUJ1ZmZlckJpbmRpbmcgZXh0ZW5kcyBCdWZmZXJCaW5kaW5nIHtcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdoZSBzaG91bGQgYXV0b21hdGljYWxseSBjb3B5IHRoZSB7QGxpbmsgYnVmZmVyIHwgR1BVIGJ1ZmZlcn0gY29udGVudCBpbnRvIG91ciB7QGxpbmsgcmVzdWx0QnVmZmVyIHwgcmVzdWx0IEdQVSBidWZmZXJ9ICovXG4gIHNob3VsZENvcHlSZXN1bHQ6IGJvb2xlYW5cbiAgLyoqIFRoZSByZXN1bHQgR1BVQnVmZmVyICovXG4gIHJlc3VsdEJ1ZmZlcjogR1BVQnVmZmVyIHwgbnVsbFxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmd9ICovXG4gIG9wdGlvbnM6IFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtc1xuXG4gIC8qKlxuICAgKiBXcml0YWJsZUJ1ZmZlckJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBXcml0YWJsZUJ1ZmZlckJpbmRpbmd9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbGFiZWwgPSAnV29yaycsXG4gICAgbmFtZSA9ICd3b3JrJyxcbiAgICBiaW5kaW5nVHlwZSxcbiAgICB1c2VTdHJ1Y3QgPSB0cnVlLFxuICAgIHN0cnVjdCA9IHt9LFxuICAgIHZpc2liaWxpdHksXG4gICAgYWNjZXNzID0gJ3JlYWRfd3JpdGUnLFxuICAgIHNob3VsZENvcHlSZXN1bHQgPSBmYWxzZSxcbiAgfTogV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zKSB7XG4gICAgYmluZGluZ1R5cGUgPSAnc3RvcmFnZSdcbiAgICB2aXNpYmlsaXR5ID0gJ2NvbXB1dGUnXG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdXNlU3RydWN0LCBzdHJ1Y3Q6IHN0cnVjdCwgdmlzaWJpbGl0eSwgYWNjZXNzIH0pXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBzaG91bGRDb3B5UmVzdWx0LFxuICAgIH1cblxuICAgIHRoaXMuc2hvdWxkQ29weVJlc3VsdCA9IHNob3VsZENvcHlSZXN1bHRcblxuICAgIC8vIGNhbiBiZSB1c2VkIGFzIG91ciBidWZmZXIgY29weSBkZXN0aW5hdGlvblxuICAgIHRoaXMucmVzdWx0QnVmZmVyID0gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgZ2VuZXJhdGVVVUlELCB0b0tlYmFiQ2FzZSB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xyXG5pbXBvcnQgeyBXcml0YWJsZUJ1ZmZlckJpbmRpbmcsIFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtcyB9IGZyb20gJy4uL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZydcclxuaW1wb3J0IHsgQnVmZmVyQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcnXHJcbmltcG9ydCB7XHJcbiAgQWxsb3dlZEJpbmRHcm91cHMsXHJcbiAgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQsXHJcbiAgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQsXHJcbiAgQmluZEdyb3VwRW50cmllcyxcclxuICBCaW5kR3JvdXBQYXJhbXMsXHJcbiAgUmVhZE9ubHlJbnB1dEJpbmRpbmdzLFxyXG59IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXHJcbmltcG9ydCB7IFRleHR1cmVCaW5kR3JvdXBQYXJhbXMgfSBmcm9tICcuL1RleHR1cmVCaW5kR3JvdXAnXHJcbmltcG9ydCB7IEJpbmRpbmdUeXBlIH0gZnJvbSAnLi4vYmluZGluZ3MvQmluZGluZydcclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGhhbmRsZSBhbGwgaW5wdXRzIGRhdGEgc2VudCB0byB0aGUgR1BVLjxicj5cclxuICogSW4gV2ViR1BVLCBkYXRhIChidWZmZXJzLCB0ZXh0dXJlcyBvciBzYW1wbGVycywgY2FsbGVkIGJpbmRpbmdzKSBhcmUgb3JnYW5pc2VkIGJ5IGJpbmQgZ3JvdXBzLCBjb250YWluaW5nIHRob3NlIGJpbmRpbmdzLlxyXG4gKlxyXG4gKiAjIyBCaW5kaW5nc1xyXG4gKlxyXG4gKiBBIHtAbGluayBCaW5kR3JvdXB9IGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBlYWNoIHtAbGluayBCdWZmZXJCaW5kaW5nfSB7QGxpbmsgR1BVQnVmZmVyfSBhbmQgdGhlbiB0aGUge0BsaW5rIEdQVUJpbmRHcm91cH0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IHRoYXQgYXJlIHVzZWQgdG8gY3JlYXRlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IG9yIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0uPGJyPlxyXG4gKiBUaG9zZSBhcmUgZ2VuZXJhbGx5IGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSB0aGUge0BsaW5rIGNvcmUvbWF0ZXJpYWxzL01hdGVyaWFsLk1hdGVyaWFsIHwgTWF0ZXJpYWx9IHVzaW5nIHRoaXMge0BsaW5rIEJpbmRHcm91cH0uIElmIHlvdSBuZWVkIHRvIG1hbnVhbGx5IGNyZWF0ZSB0aGVtLCB5b3Ugd2lsbCBoYXZlIHRvIGNhbGwgaXRzIHtAbGluayBCaW5kR3JvdXAjY3JlYXRlQmluZEdyb3VwIHwgYGNyZWF0ZUJpbmRHcm91cCgpYCBtZXRob2R9XHJcbiAqXHJcbiAqICMjIyBTYW1wbGVycyBhbmQgdGV4dHVyZXNcclxuICpcclxuICogQSB7QGxpbmsgQmluZEdyb3VwfSBpcyBiZXN0IHN1aXRlZCB0byBoYW5kbGUge0BsaW5rIEdQVUJ1ZmZlcn0gb25seSBiaW5kaW5ncy4gSWYgeW91IG5lZWQgdG8gaGFuZGxlIHtAbGluayBHUFVTYW1wbGVyfSwgYSB7QGxpbmsgR1BVVGV4dHVyZX0gb3IgYSB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfSwgeW91IHNob3VsZCB1c2UgYSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL1RleHR1cmVCaW5kR3JvdXAuVGV4dHVyZUJpbmRHcm91cCB8IFRleHR1cmVCaW5kR3JvdXB9IGluc3RlYWQuXHJcbiAqXHJcbiAqICMjIyBVcGRhdGluZyBhIEdQVUJpbmRHcm91cCBvciBHUFVCaW5kR3JvdXBMYXlvdXRcclxuICpcclxuICogRWFjaCB0aW1lIG9uZSBvZiB0aGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9HUFVEZXZpY2UvY3JlYXRlQmluZEdyb3VwI3Jlc291cmNlIHwgYmluZGluZyByZXNvdXJjZX0gY2hhbmdlcywgaXRzIHtAbGluayBCaW5kR3JvdXAjYmluZEdyb3VwIHwgYmluZEdyb3VwfSB3aWxsIGJlIHJlY3JlYXRlZCAodXN1YWxseSwgd2hlbiBhIHtAbGluayBHUFVUZXh0dXJlfSBpcyB1cGxvYWRlZCkuPGJyPlxyXG4gKiBFYWNoIHRpbWUgb25lIG9mIHRoZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dQVURldmljZS9jcmVhdGVCaW5kR3JvdXBMYXlvdXQjcmVzb3VyY2VfbGF5b3V0X29iamVjdHMgfCBiaW5kaW5nIHJlc291cmNlIGxheW91dH0gY2hhbmdlcywgaXRzIHtAbGluayBCaW5kR3JvdXAjYmluZEdyb3VwTGF5b3V0IHwgYmluZEdyb3VwTGF5b3V0fSBhbmQge0BsaW5rIEJpbmRHcm91cCNiaW5kR3JvdXAgfCBiaW5kR3JvdXB9IHdpbGwgYmUgcmVjcmVhdGVkLCBhbmQgdGhlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IG9yIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0gd2lsbCBiZSByZWNyZWF0ZWQgYXMgd2VsbC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcclxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xyXG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcclxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xyXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxyXG4gKlxyXG4gKiBjb25zdCBiaW5kR3JvdXAgPSBuZXcgQmluZEdyb3VwKGdwdUN1cnRhaW5zLCB7XHJcbiAqICAgbGFiZWw6ICdNeSBiaW5kIGdyb3VwJyxcclxuICogICB1bmlmb3Jtczoge1xyXG4gKiAgICAgcGFyYW1zOiB7XHJcbiAqICAgICAgIHN0cnVjdDoge1xyXG4gKiAgICAgICAgIG9wYWNpdHk6IHtcclxuICogICAgICAgICAgIHR5cGU6ICdmMzInLFxyXG4gKiAgICAgICAgICAgdmFsdWU6IDEsXHJcbiAqICAgICAgICAgfSxcclxuICogICAgICAgICBtb3VzZVBvc2l0aW9uOiB7XHJcbiAqICAgICAgICAgICB0eXBlOiAndmVjMmYnLFxyXG4gKiAgICAgICAgICAgdmFsdWU6IG5ldyBWZWMyKCksXHJcbiAqICAgICAgICAgfSxcclxuICogICAgICAgfSxcclxuICogICAgIH0sXHJcbiAqICAgfSxcclxuICogfSlcclxuICpcclxuICogLy8gY3JlYXRlIHRoZSBHUFUgYnVmZmVyLCBiaW5kR3JvdXBMYXlvdXQgYW5kIGJpbmRHcm91cFxyXG4gKiBiaW5kR3JvdXAuY3JlYXRlQmluZEdyb3VwKClcclxuICogYGBgXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQmluZEdyb3VwIHtcclxuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBCaW5kR3JvdXB9ICovXHJcbiAgdHlwZTogc3RyaW5nXHJcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoZSB7QGxpbmsgQmluZEdyb3VwfSAqL1xyXG4gIHV1aWQ6IHN0cmluZ1xyXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXHJcbiAgcmVuZGVyZXI6IFJlbmRlcmVyXHJcbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQmluZEdyb3VwfSAqL1xyXG4gIG9wdGlvbnM6IFRleHR1cmVCaW5kR3JvdXBQYXJhbXNcclxuICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgQmluZEdyb3VwfSwgdXNlZCB0byBsaW5rIHN0cnVjdCBpbiB0aGUgc2hhZGVycyAqL1xyXG4gIGluZGV4OiBudW1iZXJcclxuXHJcbiAgLyoqIExpc3Qgb2Yge0BsaW5rIEJpbmRHcm91cEJpbmRpbmdFbGVtZW50IHwgYmluZGluZ3N9IChidWZmZXJzLCB0ZXh0dXJlLCBldGMuKSBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIEJpbmRHcm91cH0gKi9cclxuICBiaW5kaW5nczogQmluZEdyb3VwQmluZGluZ0VsZW1lbnRbXVxyXG5cclxuICAvKiogT3VyIHtAbGluayBCaW5kR3JvdXB9IHtAbGluayBCaW5kR3JvdXBFbnRyaWVzIHwgZW50cmllc30gb2JqZWN0cyAqL1xyXG4gIGVudHJpZXM6IEJpbmRHcm91cEVudHJpZXNcclxuXHJcbiAgLyoqIE91ciB7QGxpbmsgQmluZEdyb3VwfXtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9ICovXHJcbiAgYmluZEdyb3VwTGF5b3V0OiBudWxsIHwgR1BVQmluZEdyb3VwTGF5b3V0XHJcbiAgLyoqIE91ciB7QGxpbmsgQmluZEdyb3VwfSB7QGxpbmsgR1BVQmluZEdyb3VwfSAqL1xyXG4gIGJpbmRHcm91cDogbnVsbCB8IEdQVUJpbmRHcm91cFxyXG5cclxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgd2UgbmVlZCB0byBmbHVzaCBhbmQgcmVjcmVhdGUgdGhlIHBpcGVsaW5lIHVzaW5nIHRoaXMge0BsaW5rIEJpbmRHcm91cH0gcyovXHJcbiAgbmVlZHNQaXBlbGluZUZsdXNoOiBib29sZWFuXHJcblxyXG4gIC8qKlxyXG4gICAqIEJpbmRHcm91cCBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIGEge0BsaW5rIFJlbmRlcmVyfSBjbGFzcyBvYmplY3Qgb3IgYSB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdFxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEJpbmRHcm91cFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXHJcbiAgICB7IGxhYmVsID0gJ0JpbmRHcm91cCcsIGluZGV4ID0gMCwgYmluZGluZ3MgPSBbXSwgdW5pZm9ybXMsIHN0b3JhZ2VzIH06IEJpbmRHcm91cFBhcmFtcyA9IHt9XHJcbiAgKSB7XHJcbiAgICB0aGlzLnR5cGUgPSAnQmluZEdyb3VwJ1xyXG5cclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXHJcblxyXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdGhpcy50eXBlKVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxyXG4gICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICBsYWJlbCxcclxuICAgICAgaW5kZXgsXHJcbiAgICAgIGJpbmRpbmdzLFxyXG4gICAgICAuLi4odW5pZm9ybXMgJiYgeyB1bmlmb3JtcyB9KSxcclxuICAgICAgLi4uKHN0b3JhZ2VzICYmIHsgc3RvcmFnZXMgfSksXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4XHJcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxyXG5cclxuICAgIHRoaXMuYmluZGluZ3MgPSBbXVxyXG4gICAgYmluZGluZ3MubGVuZ3RoICYmIHRoaXMuYWRkQmluZGluZ3MoYmluZGluZ3MpXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnVuaWZvcm1zIHx8IHRoaXMub3B0aW9ucy5zdG9yYWdlcykgdGhpcy5zZXRJbnB1dEJpbmRpbmdzKClcclxuXHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcblxyXG4gICAgdGhpcy5iaW5kR3JvdXBMYXlvdXQgPSBudWxsXHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IG51bGxcclxuXHJcbiAgICAvLyBpZiB3ZSBldmVyIHVwZGF0ZSBvdXIgYmluZCBncm91cCBsYXlvdXRcclxuICAgIC8vIHdlIHdpbGwgaGF2ZSB0byByZWNyZWF0ZSB0aGUgd2hvbGUgcGlwZWxpbmUgYWdhaW5cclxuICAgIHRoaXMubmVlZHNQaXBlbGluZUZsdXNoID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnJlbmRlcmVyLmFkZEJpbmRHcm91cCh0aGlzKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBvdXIge0BsaW5rIEJpbmRHcm91cCNpbmRleCB8IGJpbmQgZ3JvdXAgaW5kZXh9XHJcbiAgICogQHBhcmFtIGluZGV4IC0ge0BsaW5rIEJpbmRHcm91cCNpbmRleCB8IGJpbmQgZ3JvdXAgaW5kZXh9IHRvIHNldFxyXG4gICAqL1xyXG4gIHNldEluZGV4KGluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhbiBhcnJheSBvZiBhbHJlYWR5IGNyZWF0ZWQge0BsaW5rIGJpbmRpbmdzfSAoYnVmZmVycywgdGV4dHVyZSwgZXRjLikgdG8gdGhlIHtAbGluayBiaW5kaW5nc30gYXJyYXlcclxuICAgKiBAcGFyYW0gYmluZGluZ3MgLSB7QGxpbmsgYmluZGluZ3N9IHRvIGFkZFxyXG4gICAqL1xyXG4gIGFkZEJpbmRpbmdzKGJpbmRpbmdzOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdID0gW10pIHtcclxuICAgIHRoaXMuYmluZGluZ3MgPSBbLi4udGhpcy5iaW5kaW5ncywgLi4uYmluZGluZ3NdXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGFuIGFscmVhZHkgY3JlYXRlZCB7QGxpbmsgYmluZGluZ3N9IChidWZmZXJzLCB0ZXh0dXJlLCBldGMuKSB0byB0aGUge0BsaW5rIGJpbmRpbmdzfSBhcnJheVxyXG4gICAqIEBwYXJhbSBiaW5kaW5nIC0gYmluZGluZyB0byBhZGRcclxuICAgKi9cclxuICBhZGRCaW5kaW5nKGJpbmRpbmc6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50KSB7XHJcbiAgICB0aGlzLmJpbmRpbmdzLnB1c2goYmluZGluZylcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgQmluZGluZ3MgYmFzZWQgb24gYSBsaXN0IG9mIGlucHV0c1xyXG4gICAqIEBwYXJhbSBiaW5kaW5nVHlwZSAtIHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyNiaW5kaW5nVHlwZSB8IGJpbmRpbmcgdHlwZX1cclxuICAgKiBAcGFyYW0gaW5wdXRzIC0ge0BsaW5rIFJlYWRPbmx5SW5wdXRCaW5kaW5ncyB8IGlucHV0cyAodW5pZm9ybSBvciBzdG9yYWdlKX0gdGhhdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIHRoZSBiaW5kaW5nXHJcbiAgICogQHJldHVybnMgLSBhIHtAbGluayBiaW5kaW5nc30gYXJyYXlcclxuICAgKi9cclxuICBjcmVhdGVJbnB1dEJpbmRpbmdzKFxyXG4gICAgYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlID0gJ3VuaWZvcm0nLFxyXG4gICAgaW5wdXRzOiBSZWFkT25seUlucHV0QmluZGluZ3MgPSB7fVxyXG4gICk6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50W10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgLi4uT2JqZWN0LmtleXMoaW5wdXRzKS5tYXAoKGlucHV0S2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgYmluZGluZyA9IGlucHV0c1tpbnB1dEtleV0gYXMgV3JpdGFibGVCdWZmZXJCaW5kaW5nUGFyYW1zXHJcblxyXG4gICAgICAgIGNvbnN0IGJpbmRpbmdQYXJhbXM6IFdyaXRhYmxlQnVmZmVyQmluZGluZ1BhcmFtcyA9IHtcclxuICAgICAgICAgIGxhYmVsOiB0b0tlYmFiQ2FzZShiaW5kaW5nLmxhYmVsIHx8IGlucHV0S2V5KSxcclxuICAgICAgICAgIG5hbWU6IGlucHV0S2V5LFxyXG4gICAgICAgICAgYmluZGluZ1R5cGUsXHJcbiAgICAgICAgICB1c2VTdHJ1Y3Q6IHRydWUsIC8vIGJ5IGRlZmF1bHRcclxuICAgICAgICAgIHZpc2liaWxpdHk6IGJpbmRpbmcuYWNjZXNzID09PSAncmVhZF93cml0ZScgPyAnY29tcHV0ZScgOiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgICAgICBhY2Nlc3M6IGJpbmRpbmcuYWNjZXNzID8/ICdyZWFkJywgLy8gcmVhZCBieSBkZWZhdWx0XHJcbiAgICAgICAgICBzdHJ1Y3Q6IGJpbmRpbmcuc3RydWN0LFxyXG4gICAgICAgICAgLi4uKGJpbmRpbmcuc2hvdWxkQ29weVJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIHsgc2hvdWxkQ29weVJlc3VsdDogYmluZGluZy5zaG91bGRDb3B5UmVzdWx0IH0pLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yID0gYmluZGluZ1BhcmFtcy5hY2Nlc3MgPT09ICdyZWFkX3dyaXRlJyA/IFdyaXRhYmxlQnVmZmVyQmluZGluZyA6IEJ1ZmZlckJpbmRpbmdcclxuXHJcbiAgICAgICAgcmV0dXJuIGJpbmRpbmcudXNlU3RydWN0ICE9PSBmYWxzZVxyXG4gICAgICAgICAgPyBuZXcgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yKGJpbmRpbmdQYXJhbXMpXHJcbiAgICAgICAgICA6IE9iamVjdC5rZXlzKGJpbmRpbmcuc3RydWN0KS5tYXAoKGJpbmRpbmdLZXkpID0+IHtcclxuICAgICAgICAgICAgICBiaW5kaW5nUGFyYW1zLmxhYmVsID0gdG9LZWJhYkNhc2UoYmluZGluZy5sYWJlbCA/IGJpbmRpbmcubGFiZWwgKyBiaW5kaW5nS2V5IDogaW5wdXRLZXkgKyBiaW5kaW5nS2V5KVxyXG4gICAgICAgICAgICAgIGJpbmRpbmdQYXJhbXMubmFtZSA9IGlucHV0S2V5ICsgYmluZGluZ0tleVxyXG4gICAgICAgICAgICAgIGJpbmRpbmdQYXJhbXMudXNlU3RydWN0ID0gZmFsc2VcclxuICAgICAgICAgICAgICBiaW5kaW5nUGFyYW1zLnN0cnVjdCA9IHsgW2JpbmRpbmdLZXldOiBiaW5kaW5nLnN0cnVjdFtiaW5kaW5nS2V5XSB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyQmluZGluZ0NvbnN0cnVjdG9yKGJpbmRpbmdQYXJhbXMpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgIH0pLFxyXG4gICAgXS5mbGF0KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhbmQgYWRkcyB7QGxpbmsgYmluZGluZ3N9IGJhc2VkIG9uIGlucHV0cyBwcm92aWRlZCB1cG9uIGNyZWF0aW9uXHJcbiAgICovXHJcbiAgc2V0SW5wdXRCaW5kaW5ncygpIHtcclxuICAgIHRoaXMuYWRkQmluZGluZ3MoW1xyXG4gICAgICAuLi50aGlzLmNyZWF0ZUlucHV0QmluZGluZ3MoJ3VuaWZvcm0nLCB0aGlzLm9wdGlvbnMudW5pZm9ybXMpLFxyXG4gICAgICAuLi50aGlzLmNyZWF0ZUlucHV0QmluZGluZ3MoJ3N0b3JhZ2UnLCB0aGlzLm9wdGlvbnMuc3RvcmFnZXMpLFxyXG4gICAgXSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIHRoZSBHUFUgYmluZCBncm91cCBpcyByZWFkeSB0byBiZSBjcmVhdGVkXHJcbiAgICogSXQgY2FuIGJlIGNyZWF0ZWQgaWYgaXQgaGFzIHtAbGluayBiaW5kaW5nc30gYW5kIGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldFxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBzaG91bGRDcmVhdGVCaW5kR3JvdXAoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gIXRoaXMuYmluZEdyb3VwICYmICEhdGhpcy5iaW5kaW5ncy5sZW5ndGhcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IG91ciB7QGxpbmsgQmluZEdyb3VwfSB7QGxpbmsgZW50cmllc31cclxuICAgKi9cclxuICByZXNldEVudHJpZXMoKSB7XHJcbiAgICB0aGlzLmVudHJpZXMgPSB7XHJcbiAgICAgIGJpbmRHcm91cExheW91dDogW10sXHJcbiAgICAgIGJpbmRHcm91cDogW10sXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgdGhlIEdQVSBidWZmZXJzLCB7QGxpbmsgYmluZGluZ3N9LCB7QGxpbmsgZW50cmllc30sIHtAbGluayBiaW5kR3JvdXBMYXlvdXR9IGFuZCB7QGxpbmsgYmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNyZWF0ZUJpbmRHcm91cCgpIHtcclxuICAgIHRoaXMuZmlsbEVudHJpZXMoKVxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXBMYXlvdXQoKVxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXAoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBCaW5kR3JvdXAjZW50cmllcy5iaW5kR3JvdXAgfCBiaW5kR3JvdXAgZW50cmllc30sIHJlY3JlYXRlcyB0aGVtIGFuZCB0aGVuIHJlY3JlYXRlIHRoZSB7QGxpbmsgQmluZEdyb3VwI2JpbmRHcm91cCB8IEdQVSBiaW5kIGdyb3VwfVxyXG4gICAqL1xyXG4gIHJlc2V0QmluZEdyb3VwKCkge1xyXG4gICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cCA9IFtdXHJcbiAgICB0aGlzLmJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcpID0+IHtcclxuICAgICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiB0aGlzLmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSlcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5zZXRCaW5kR3JvdXAoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBCaW5kR3JvdXAjZW50cmllcy5iaW5kR3JvdXBMYXlvdXQgfCBiaW5kR3JvdXBMYXlvdXQgZW50cmllc30sIHJlY3JlYXRlcyB0aGVtIGFuZCB0aGVuIHJlY3JlYXRlIHRoZSB7QGxpbmsgQmluZEdyb3VwI2JpbmRHcm91cExheW91dCB8IEdQVSBiaW5kIGdyb3VwIGxheW91dH1cclxuICAgKi9cclxuICByZXNldEJpbmRHcm91cExheW91dCgpIHtcclxuICAgIHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQgPSBbXVxyXG4gICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQucHVzaCh7XHJcbiAgICAgICAgYmluZGluZzogdGhpcy5lbnRyaWVzLmJpbmRHcm91cExheW91dC5sZW5ndGgsXHJcbiAgICAgICAgLi4uYmluZGluZy5yZXNvdXJjZUxheW91dCxcclxuICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuc2V0QmluZEdyb3VwTGF5b3V0KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uXHJcbiAgICovXHJcbiAgbG9zZUNvbnRleHQoKSB7XHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcblxyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIGJpbmRpbmcuYnVmZmVyID0gbnVsbFxyXG5cclxuICAgICAgaWYgKCdyZXN1bHRCdWZmZXInIGluIGJpbmRpbmcpIHtcclxuICAgICAgICBiaW5kaW5nLnJlc3VsdEJ1ZmZlciA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IG51bGxcclxuICAgIHRoaXMuYmluZEdyb3VwTGF5b3V0ID0gbnVsbFxyXG4gICAgdGhpcy5uZWVkc1BpcGVsaW5lRmx1c2ggPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYWxsIHtAbGluayBCaW5kR3JvdXAjYmluZGluZ3MgfCBiaW5kIGdyb3VwIGJpbmRpbmdzfSB0aGF0IGhhbmRsZSBhIHtAbGluayBHUFVCdWZmZXJ9XHJcbiAgICovXHJcbiAgZ2V0IGJ1ZmZlckJpbmRpbmdzKCk6IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuYmluZGluZ3MuZmlsdGVyKFxyXG4gICAgICAoYmluZGluZykgPT4gYmluZGluZyBpbnN0YW5jZW9mIEJ1ZmZlckJpbmRpbmcgfHwgYmluZGluZyBpbnN0YW5jZW9mIFdyaXRhYmxlQnVmZmVyQmluZGluZ1xyXG4gICAgKSBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudFtdXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGJpbmRpbmcgR1BVQnVmZmVyIHdpdGggY29ycmVjdCBwYXJhbXNcclxuICAgKiBAcGFyYW0gYmluZGluZyAtIHRoZSBiaW5kaW5nIGVsZW1lbnRcclxuICAgKi9cclxuICBjcmVhdGVCaW5kaW5nQnVmZmVyKGJpbmRpbmc6IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50KSB7XHJcbiAgICAvLyBUT0RPIHVzZXIgZGVmaW5lZCB1c2FnZT9cclxuICAgIC8vIFtLYW5nel0oaHR0cHM6Ly9naXRodWIuY29tL0thbmd6KSBzYWlkOlxyXG4gICAgLy8gXCJJbiBnZW5lcmFsIHRob3VnaCBDT1BZX1NSQy9EU1QgaXMgZnJlZSAoYXQgbGVhc3QgaW4gRGF3biAvIENocm9tZSBiZWNhdXNlIHdlIGFkZCBpdCBhbGwgdGhlIHRpbWUgZm9yIG91ciBvd24gcHVycG9zZSkuXCJcclxuICAgIGJpbmRpbmcuYnVmZmVyID0gdGhpcy5yZW5kZXJlci5jcmVhdGVCdWZmZXIoe1xyXG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJzogJyArIGJpbmRpbmcuYmluZGluZ1R5cGUgKyAnIGJ1ZmZlciBmcm9tOiAnICsgYmluZGluZy5sYWJlbCxcclxuICAgICAgc2l6ZTogYmluZGluZy5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoLFxyXG4gICAgICB1c2FnZTpcclxuICAgICAgICBiaW5kaW5nLmJpbmRpbmdUeXBlID09PSAndW5pZm9ybSdcclxuICAgICAgICAgID8gR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkMgfCBHUFVCdWZmZXJVc2FnZS5WRVJURVhcclxuICAgICAgICAgIDogR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9TUkMgfCBHUFVCdWZmZXJVc2FnZS5WRVJURVgsXHJcbiAgICB9KVxyXG5cclxuICAgIGlmICgncmVzdWx0QnVmZmVyJyBpbiBiaW5kaW5nKSB7XHJcbiAgICAgIGJpbmRpbmcucmVzdWx0QnVmZmVyID0gdGhpcy5yZW5kZXJlci5jcmVhdGVCdWZmZXIoe1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBSZXN1bHQgYnVmZmVyIGZyb206ICcgKyBiaW5kaW5nLmxhYmVsLFxyXG4gICAgICAgIHNpemU6IGJpbmRpbmcuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcclxuICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuTUFQX1JFQUQgfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbGwgaW4gb3VyIGVudHJpZXMgYmluZEdyb3VwTGF5b3V0IGFuZCBiaW5kR3JvdXAgYXJyYXlzIHdpdGggdGhlIGNvcnJlY3QgYmluZGluZyByZXNvdXJjZXMuXHJcbiAgICogRm9yIGJ1ZmZlciBzdHJ1Y3QsIGNyZWF0ZSBhIEdQVUJ1ZmZlciBmaXJzdCBpZiBuZWVkZWRcclxuICAgKi9cclxuICBmaWxsRW50cmllcygpIHtcclxuICAgIHRoaXMuYmluZGluZ3MuZm9yRWFjaCgoYmluZGluZykgPT4ge1xyXG4gICAgICAvLyBpZiBubyB2aXNpYmlsaXR5IHNwZWNpZmllZCwganVzdCBzZXQgaXQgdG8gdGhlIG1heGltdW0gZGVmYXVsdCBjYXBhYmlsaXRpZXNcclxuICAgICAgaWYgKCFiaW5kaW5nLnZpc2liaWxpdHkpIHtcclxuICAgICAgICBiaW5kaW5nLnZpc2liaWxpdHkgPSBHUFVTaGFkZXJTdGFnZS5WRVJURVggfCBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCB8IEdQVVNoYWRlclN0YWdlLkNPTVBVVEVcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gaWYgaXQncyBhIGJ1ZmZlciBiaW5kaW5nLCBjcmVhdGUgdGhlIEdQVUJ1ZmZlclxyXG4gICAgICBpZiAoJ2J1ZmZlcicgaW4gYmluZGluZyAmJiAhYmluZGluZy5idWZmZXIpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJpbmRpbmdCdWZmZXIoYmluZGluZylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gbm93IHRoYXQgZXZlcnl0aGluZyBpcyByZWFkeSwgZmlsbCBvdXIgZW50cmllc1xyXG4gICAgICB0aGlzLmVudHJpZXMuYmluZEdyb3VwTGF5b3V0LnB1c2goe1xyXG4gICAgICAgIGJpbmRpbmc6IHRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQubGVuZ3RoLFxyXG4gICAgICAgIC4uLmJpbmRpbmcucmVzb3VyY2VMYXlvdXQsXHJcbiAgICAgICAgdmlzaWJpbGl0eTogYmluZGluZy52aXNpYmlsaXR5LFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgdGhpcy5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiB0aGlzLmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgYSBiaW5kIGdyb3VwIGJpbmRpbmcgYnkgbmFtZS9rZXlcclxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lIG9yIGtleVxyXG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIGJpbmRpbmcsIG9yIG51bGwgaWYgbm90IGZvdW5kXHJcbiAgICovXHJcbiAgZ2V0QmluZGluZ0J5TmFtZShiaW5kaW5nTmFtZSA9ICcnKTogQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLmJpbmRpbmdzLmZpbmQoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSA9PT0gYmluZGluZ05hbWUpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBHUFVCaW5kR3JvdXBMYXlvdXQgYW5kIHNldCBvdXIge0BsaW5rIGJpbmRHcm91cExheW91dH1cclxuICAgKi9cclxuICBzZXRCaW5kR3JvdXBMYXlvdXQoKSB7XHJcbiAgICB0aGlzLmJpbmRHcm91cExheW91dCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQmluZEdyb3VwTGF5b3V0KHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgbGF5b3V0JyxcclxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzLmJpbmRHcm91cExheW91dCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGUgYSBHUFVCaW5kR3JvdXAgYW5kIHNldCBvdXIge0BsaW5rIGJpbmRHcm91cH1cclxuICAgKi9cclxuICBzZXRCaW5kR3JvdXAoKSB7XHJcbiAgICB0aGlzLmJpbmRHcm91cCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlQmluZEdyb3VwKHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcclxuICAgICAgbGF5b3V0OiB0aGlzLmJpbmRHcm91cExheW91dCxcclxuICAgICAgZW50cmllczogdGhpcy5lbnRyaWVzLmJpbmRHcm91cCxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayB3aGV0aGVyIHdlIHNob3VsZCB1cGRhdGUgKHdyaXRlKSBvdXIge0BsaW5rIEdQVUJ1ZmZlcn0gb3Igbm90LlxyXG4gICAqL1xyXG4gIHVwZGF0ZUJ1ZmZlckJpbmRpbmdzKCkge1xyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICAvLyB1cGRhdGUgYmluZGluZyBlbGVtZW50c1xyXG4gICAgICBiaW5kaW5nLnVwZGF0ZSgpXHJcblxyXG4gICAgICAvLyBub3cgd3JpdGUgdG8gdGhlIEdQVUJ1ZmZlciBpZiBuZWVkZWRcclxuICAgICAgaWYgKGJpbmRpbmcuc2hvdWxkVXBkYXRlKSB7XHJcbiAgICAgICAgLy8gYnVmZmVyT2Zmc2V0IGlzIGFsd2F5cyBlcXVhbHMgdG8gMCBpbiBvdXIgY2FzZVxyXG4gICAgICAgIGlmICghYmluZGluZy51c2VTdHJ1Y3QgJiYgYmluZGluZy5idWZmZXJFbGVtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAvLyB3ZSdyZSBpbiBhIG5vbiBzdHJ1Y3QgYnVmZmVyIGJpbmRpbmcgd2l0aCBtdWx0aXBsZSBlbnRyaWVzXHJcbiAgICAgICAgICAvLyB0aGF0IHNob3VsZCBub3QgaGFwcGVuIGJ1dCB0aGF0IHdheSB3ZSdyZSBjb3ZlcmVkXHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnF1ZXVlV3JpdGVCdWZmZXIoYmluZGluZy5idWZmZXIsIDAsIGJpbmRpbmcuYnVmZmVyRWxlbWVudHNbaW5kZXhdLnZpZXcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucmVuZGVyZXIucXVldWVXcml0ZUJ1ZmZlcihiaW5kaW5nLmJ1ZmZlciwgMCwgYmluZGluZy5hcnJheUJ1ZmZlcilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHJlc2V0IHVwZGF0ZSBmbGFnXHJcbiAgICAgIGJpbmRpbmcuc2hvdWxkVXBkYXRlID0gZmFsc2VcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBCaW5kR3JvdXB9LCB3aGljaCBtZWFucyB1cGRhdGUgaXRzIHtAbGluayBCaW5kR3JvdXAjYnVmZmVyQmluZGluZ3MgfCBidWZmZXIgYmluZGluZ3N9IGFuZCB7QGxpbmsgQmluZEdyb3VwI3Jlc2V0QmluZEdyb3VwIHwgcmVzZXQgaXR9IGlmIG5lZWRlZC5cclxuICAgKiBDYWxsZWQgYXQgZWFjaCByZW5kZXIgZnJvbSB0aGUgcGFyZW50TWVzaCB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwgfCBtYXRlcmlhbH1cclxuICAgKi9cclxuICB1cGRhdGUoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZUJ1ZmZlckJpbmRpbmdzKClcclxuXHJcbiAgICBjb25zdCBuZWVkQmluZEdyb3VwUmVzZXQgPSB0aGlzLmJpbmRpbmdzLnNvbWUoKGJpbmRpbmcpID0+IGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXApXHJcbiAgICBjb25zdCBuZWVkQmluZEdyb3VwTGF5b3V0UmVzZXQgPSB0aGlzLmJpbmRpbmdzLnNvbWUoKGJpbmRpbmcpID0+IGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQpXHJcblxyXG4gICAgLy8gc2luY2Ugb3RoZXIgYmluZCBncm91cHMgbWlnaHQgYmUgdXNpbmcgdGhhdCBiaW5kaW5nXHJcbiAgICAvLyB3YWl0IGZvciB0aGUgZW5kIG9mIHRoZSByZW5kZXIgbG9vcCB0byByZXNldCB0aGUgYmluZGluZ3MgZmxhZ3NcclxuICAgIGlmIChuZWVkQmluZEdyb3VwUmVzZXQgfHwgbmVlZEJpbmRHcm91cExheW91dFJlc2V0KSB7XHJcbiAgICAgIHRoaXMucmVuZGVyZXIub25BZnRlckNvbW1hbmRFbmNvZGVyU3VibWlzc2lvbi5hZGQoXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5iaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGJpbmRpbmcuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSBmYWxzZVxyXG4gICAgICAgICAgICBiaW5kaW5nLnNob3VsZFJlc2V0QmluZEdyb3VwTGF5b3V0ID0gZmFsc2VcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IG9uY2U6IHRydWUgfVxyXG4gICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5lZWRCaW5kR3JvdXBMYXlvdXRSZXNldCkge1xyXG4gICAgICB0aGlzLnJlc2V0QmluZEdyb3VwTGF5b3V0KClcclxuICAgICAgLy8gYmluZCBncm91cCBsYXlvdXQgaGFzIGNoYW5nZWQsIHdlIGhhdmUgdG8gcmVjcmVhdGUgdGhlIHBpcGVsaW5lXHJcbiAgICAgIHRoaXMubmVlZHNQaXBlbGluZUZsdXNoID0gdHJ1ZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZWVkQmluZEdyb3VwUmVzZXQpIHtcclxuICAgICAgdGhpcy5yZXNldEJpbmRHcm91cCgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDbG9uZXMgYSB7QGxpbmsgQmluZEdyb3VwfSBmcm9tIGEgbGlzdCBvZiB7QGxpbmsgYmluZGluZ3N9XHJcbiAgICogVXNlZnVsIHRvIGNyZWF0ZSBhIG5ldyBiaW5kIGdyb3VwIHdpdGggYWxyZWFkeSBjcmVhdGVkIGJ1ZmZlcnMsIGJ1dCBzd2FwcGVkXHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBwYXJhbWV0ZXJzIHRvIHVzZSBmb3IgY2xvbmluZ1xyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJpbmRpbmdzIC0gb3VyIGlucHV0IHtAbGluayBiaW5kaW5nc31cclxuICAgKiBAcGFyYW0gW3BhcmFtZXRlcnMua2VlcExheW91dD1mYWxzZV0gLSB3aGV0aGVyIHdlIHNob3VsZCBrZWVwIG9yaWdpbmFsIHtAbGluayBiaW5kR3JvdXBMYXlvdXR9IG9yIG5vdFxyXG4gICAqIEByZXR1cm5zIC0gdGhlIGNsb25lZCB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqL1xyXG4gIGNsb25lKHtcclxuICAgIGJpbmRpbmdzID0gW10sXHJcbiAgICBrZWVwTGF5b3V0ID0gZmFsc2UsXHJcbiAgfToge1xyXG4gICAgYmluZGluZ3M/OiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXHJcbiAgICBrZWVwTGF5b3V0PzogYm9vbGVhblxyXG4gIH0gPSB7fSk6IEFsbG93ZWRCaW5kR3JvdXBzIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHsgLi4udGhpcy5vcHRpb25zIH1cclxuICAgIHBhcmFtcy5sYWJlbCArPSAnIChjb3B5KSdcclxuXHJcbiAgICBjb25zdCBiaW5kR3JvdXBDb3B5ID0gbmV3ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBCaW5kR3JvdXApKHRoaXMucmVuZGVyZXIsIHtcclxuICAgICAgbGFiZWw6IHBhcmFtcy5sYWJlbCxcclxuICAgIH0pXHJcblxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRJbmRleCh0aGlzLmluZGV4KVxyXG4gICAgYmluZEdyb3VwQ29weS5vcHRpb25zID0gcGFyYW1zXHJcblxyXG4gICAgY29uc3QgYmluZGluZ3NSZWYgPSBiaW5kaW5ncy5sZW5ndGggPyBiaW5kaW5ncyA6IHRoaXMuYmluZGluZ3NcclxuXHJcbiAgICBiaW5kaW5nc1JlZi5mb3JFYWNoKChiaW5kaW5nLCBpbmRleCkgPT4ge1xyXG4gICAgICBiaW5kR3JvdXBDb3B5LmFkZEJpbmRpbmcoYmluZGluZylcclxuXHJcbiAgICAgIC8vIGlmIGl0J3MgYSBidWZmZXIgYmluZGluZyB3aXRob3V0IGEgR1BVQnVmZmVyLCBjcmVhdGUgaXQgbm93XHJcbiAgICAgIGlmICgnYnVmZmVyJyBpbiBiaW5kaW5nICYmICFiaW5kaW5nLmJ1ZmZlcikge1xyXG4gICAgICAgIGJpbmRHcm91cENvcHkuY3JlYXRlQmluZGluZ0J1ZmZlcihiaW5kaW5nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBpZiB3ZSBzaG91bGQgY3JlYXRlIGEgbmV3IGJpbmQgZ3JvdXAgbGF5b3V0LCBmaWxsIGl0XHJcbiAgICAgIGlmICgha2VlcExheW91dCkge1xyXG4gICAgICAgIGJpbmRHcm91cENvcHkuZW50cmllcy5iaW5kR3JvdXBMYXlvdXQucHVzaCh7XHJcbiAgICAgICAgICBiaW5kaW5nOiBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwTGF5b3V0Lmxlbmd0aCxcclxuICAgICAgICAgIC4uLmJpbmRpbmcucmVzb3VyY2VMYXlvdXQsXHJcbiAgICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgYmluZEdyb3VwQ29weS5lbnRyaWVzLmJpbmRHcm91cC5wdXNoKHtcclxuICAgICAgICBiaW5kaW5nOiBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwLmxlbmd0aCxcclxuICAgICAgICByZXNvdXJjZTogYmluZGluZy5yZXNvdXJjZSxcclxuICAgICAgfSBhcyBHUFVCaW5kR3JvdXBFbnRyeSlcclxuICAgIH0pXHJcblxyXG4gICAgLy8gaWYgd2Ugc2hvdWxkIGNvcHkgdGhlIGdpdmVuIGJpbmQgZ3JvdXAgbGF5b3V0XHJcbiAgICBpZiAoa2VlcExheW91dCkge1xyXG4gICAgICBiaW5kR3JvdXBDb3B5LmVudHJpZXMuYmluZEdyb3VwTGF5b3V0ID0gWy4uLnRoaXMuZW50cmllcy5iaW5kR3JvdXBMYXlvdXRdXHJcbiAgICB9XHJcblxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRCaW5kR3JvdXBMYXlvdXQoKVxyXG4gICAgYmluZEdyb3VwQ29weS5zZXRCaW5kR3JvdXAoKVxyXG5cclxuICAgIHJldHVybiBiaW5kR3JvdXBDb3B5XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgQmluZEdyb3VwfVxyXG4gICAqIE1vc3QgaW1wb3J0YW50IGlzIHRvIGRlc3Ryb3kgdGhlIEdQVUJ1ZmZlcnMgdG8gZnJlZSB0aGUgbWVtb3J5XHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQmluZEdyb3VwKHRoaXMpXHJcblxyXG4gICAgdGhpcy5idWZmZXJCaW5kaW5ncy5mb3JFYWNoKChiaW5kaW5nKSA9PiB7XHJcbiAgICAgIGlmICgnYnVmZmVyJyBpbiBiaW5kaW5nKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVCdWZmZXIoYmluZGluZy5idWZmZXIpXHJcbiAgICAgICAgYmluZGluZy5idWZmZXI/LmRlc3Ryb3koKVxyXG4gICAgICAgIGJpbmRpbmcuYnVmZmVyID0gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoJ3Jlc3VsdEJ1ZmZlcicgaW4gYmluZGluZykge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQnVmZmVyKGJpbmRpbmcucmVzdWx0QnVmZmVyKVxyXG4gICAgICAgIGJpbmRpbmcucmVzdWx0QnVmZmVyPy5kZXN0cm95KClcclxuICAgICAgICBiaW5kaW5nLnJlc3VsdEJ1ZmZlciA9IG51bGxcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmJpbmRpbmdzID0gW11cclxuICAgIHRoaXMuYmluZEdyb3VwTGF5b3V0ID0gbnVsbFxyXG4gICAgdGhpcy5iaW5kR3JvdXAgPSBudWxsXHJcbiAgICB0aGlzLnJlc2V0RW50cmllcygpXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlLCBCaW5kaW5nUGFyYW1zLCBCaW5kaW5nVHlwZSB9IGZyb20gJy4vQmluZGluZydcbmltcG9ydCB7IGdldEJpbmRHcm91cExheW91dFRleHR1cmVCaW5kaW5nVHlwZSwgZ2V0VGV4dHVyZUJpbmRpbmdXR1NMVmFyVHlwZSB9IGZyb20gJy4vdXRpbHMnXG5cbi8qKiBEZWZpbmVzIGEge0BsaW5rIFRleHR1cmVCaW5kaW5nfSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbmV4cG9ydCB0eXBlIFRleHR1cmVCaW5kaW5nUmVzb3VyY2UgPSBHUFVUZXh0dXJlIHwgR1BVRXh0ZXJuYWxUZXh0dXJlIHwgbnVsbFxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIFRleHR1cmVCaW5kaW5nfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXh0dXJlQmluZGluZ1BhcmFtcyBleHRlbmRzIEJpbmRpbmdQYXJhbXMge1xuICAvKioge0BsaW5rIFRleHR1cmVCaW5kaW5nfSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbiAgdGV4dHVyZTogVGV4dHVyZUJpbmRpbmdSZXNvdXJjZVxuICAvKiogVGhlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gZm9ybWF0IHRvIHVzZSAqL1xuICBmb3JtYXQ/OiBHUFVUZXh0dXJlRm9ybWF0XG4gIC8qKiBUaGUgc3RvcmFnZSB7QGxpbmsgR1BVVGV4dHVyZSB8IHRleHR1cmV9IGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlcyAocmVhZCBvbmx5LCB3cml0ZSBvbmx5IG9yIHJlYWQvd3JpdGUpICovXG4gIGFjY2Vzcz86IEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlXG4gIC8qKiBUaGUge0BsaW5rIEdQVVRleHR1cmUgfCB0ZXh0dXJlfSB2aWV3IGRpbWVuc2lvbiB0byB1c2UgKi9cbiAgdmlld0RpbWVuc2lvbj86IEdQVVRleHR1cmVWaWV3RGltZW5zaW9uXG4gIC8qKiBXaGV0aGUgdGhlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gaXMgYSBtdWx0aXNhbXBsZWQgdGV4dHVyZS4gTWFpbmx5IHVzZWQgaW50ZXJuYWxseSBieSBkZXB0aCB0ZXh0dXJlcyBpZiBuZWVkZWQuICovXG4gIG11bHRpc2FtcGxlZD86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBVc2VkIHRvIGhhbmRsZSB7QGxpbmsgR1BVVGV4dHVyZX0gYW5kIHtAbGluayBHUFVFeHRlcm5hbFRleHR1cmV9IGJpbmRpbmdzLlxuICpcbiAqIFByb3ZpZGUgYm90aCB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2VMYXlvdXQgfCByZXNvdXJjZUxheW91dH0gYW5kIHtAbGluayBUZXh0dXJlQmluZGluZyNyZXNvdXJjZSB8IHJlc291cmNlfSB0byB0aGUge0BsaW5rIEdQVUJpbmRHcm91cExheW91dH0gYW5kIHtAbGluayBHUFVCaW5kR3JvdXB9Ljxicj5cbiAqIEFsc28gY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSBXR1NMIGNvZGUgc25pcHBldCB0byBhZGQgdG8gdGhlIHNoYWRlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlQmluZGluZyBleHRlbmRzIEJpbmRpbmcge1xuICAvKiogT3VyIHtAbGluayBUZXh0dXJlQmluZGluZ30gcmVzb3VyY2UsIGkuZS4gYSB7QGxpbmsgR1BVVGV4dHVyZX0gb3Ige0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gKi9cbiAgdGV4dHVyZTogVGV4dHVyZUJpbmRpbmdSZXNvdXJjZVxuICAvKiogQW4gYXJyYXkgb2Ygc3RyaW5ncyB0byBhcHBlbmQgdG8gb3VyIHNoYWRlcnMgY29kZSBkZWNsYXJpbmcgYWxsIHRoZSBXR1NMIHZhcmlhYmxlcyByZXByZXNlbnRpbmcgdGhpcyB7QGxpbmsgVGV4dHVyZUJpbmRpbmd9ICovXG4gIHdnc2xHcm91cEZyYWdtZW50OiBzdHJpbmdbXVxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBUZXh0dXJlQmluZGluZ30gKi9cbiAgb3B0aW9uczogVGV4dHVyZUJpbmRpbmdQYXJhbXNcblxuICAvKipcbiAgICogVGV4dHVyZUJpbmRpbmcgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgVGV4dHVyZUJpbmRpbmdQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIFRleHR1cmVCaW5kaW5nfVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1RleHR1cmUnLFxuICAgIG5hbWUgPSAndGV4dHVyZScsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICB0ZXh0dXJlLFxuICAgIGZvcm1hdCA9ICdyZ2JhOHVub3JtJyxcbiAgICBhY2Nlc3MgPSAnd3JpdGUnLFxuICAgIHZpZXdEaW1lbnNpb24gPSAnMmQnLFxuICAgIG11bHRpc2FtcGxlZCA9IGZhbHNlLFxuICB9OiBUZXh0dXJlQmluZGluZ1BhcmFtcykge1xuICAgIGJpbmRpbmdUeXBlID0gYmluZGluZ1R5cGUgPz8gJ3RleHR1cmUnXG5cbiAgICBpZiAoYmluZGluZ1R5cGUgPT09ICdzdG9yYWdlVGV4dHVyZScpIHtcbiAgICAgIHZpc2liaWxpdHkgPSAnY29tcHV0ZSdcbiAgICB9XG5cbiAgICBzdXBlcih7IGxhYmVsLCBuYW1lLCBiaW5kaW5nVHlwZSwgdmlzaWJpbGl0eSB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgdGV4dHVyZSxcbiAgICAgIGZvcm1hdCxcbiAgICAgIGFjY2VzcyxcbiAgICAgIHZpZXdEaW1lbnNpb24sXG4gICAgICBtdWx0aXNhbXBsZWQsXG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZSA9IHRleHR1cmUgLy8gc2hvdWxkIGJlIGEgdGV4dHVyZSBvciBhbiBleHRlcm5hbCB0ZXh0dXJlXG5cbiAgICB0aGlzLnNldFdHU0xGcmFnbWVudCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGJpbmQgZ3JvdXAgbGF5b3V0IGVudHJ5IHJlc291cmNlLCBlaXRoZXIgZm9yIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXRFbnRyeSN0ZXh0dXJlIHwgdGV4dHVyZX0gb3Ige0BsaW5rIEdQVUJpbmRHcm91cExheW91dEVudHJ5I2V4dGVybmFsVGV4dHVyZSB8IGV4dGVybmFsIHRleHR1cmV9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlc291cmNlTGF5b3V0KCk6XG4gICAgfCBHUFVUZXh0dXJlQmluZGluZ0xheW91dFxuICAgIHwgR1BVRXh0ZXJuYWxUZXh0dXJlQmluZGluZ0xheW91dFxuICAgIHwgR1BVU3RvcmFnZVRleHR1cmVCaW5kaW5nTGF5b3V0XG4gICAgfCBudWxsIHtcbiAgICByZXR1cm4gZ2V0QmluZEdyb3VwTGF5b3V0VGV4dHVyZUJpbmRpbmdUeXBlKHRoaXMpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgR1BVQmluZEdyb3VwRW50cnkjcmVzb3VyY2UgfCBiaW5kIGdyb3VwIHJlc291cmNlfVxuICAgKi9cbiAgZ2V0IHJlc291cmNlKCk6IEdQVUV4dGVybmFsVGV4dHVyZSB8IEdQVVRleHR1cmVWaWV3IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZSBpbnN0YW5jZW9mIEdQVVRleHR1cmVcbiAgICAgID8gdGhpcy50ZXh0dXJlLmNyZWF0ZVZpZXcoeyBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyB9KVxuICAgICAgOiB0aGlzLnRleHR1cmUgaW5zdGFuY2VvZiBHUFVFeHRlcm5hbFRleHR1cmVcbiAgICAgID8gdGhpcy50ZXh0dXJlXG4gICAgICA6IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyBiaW5kIGdyb3VwIHJlc291cmNlXG4gICAqL1xuICBzZXQgcmVzb3VyY2UodmFsdWU6IFRleHR1cmVCaW5kaW5nUmVzb3VyY2UpIHtcbiAgICAvLyByZXNvdXJjZSBjaGFuZ2VkLCB1cGRhdGUgYmluZCBncm91cCFcbiAgICBpZiAodmFsdWUgfHwgdGhpcy50ZXh0dXJlKSB0aGlzLnNob3VsZFJlc2V0QmluZEdyb3VwID0gdHJ1ZVxuICAgIHRoaXMudGV4dHVyZSA9IHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogU2V0IG9yIHVwZGF0ZSBvdXIge0BsaW5rIEJpbmRpbmcjYmluZGluZ1R5cGUgfCBiaW5kaW5nVHlwZX0gYW5kIG91ciBXR1NMIGNvZGUgc25pcHBldFxuICAgKiBAcGFyYW0gYmluZGluZ1R5cGUgLSB0aGUgbmV3IHtAbGluayBCaW5kaW5nI2JpbmRpbmdUeXBlIHwgYmluZGluZyB0eXBlfVxuICAgKi9cbiAgc2V0QmluZGluZ1R5cGUoYmluZGluZ1R5cGU6IEJpbmRpbmdUeXBlKSB7XG4gICAgaWYgKGJpbmRpbmdUeXBlICE9PSB0aGlzLmJpbmRpbmdUeXBlKSB7XG4gICAgICAvLyBiaW5kaW5nIHR5cGUgaGFzIGNoYW5nZWQhXG4gICAgICBpZiAoYmluZGluZ1R5cGUpIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXBMYXlvdXQgPSB0cnVlXG5cbiAgICAgIHRoaXMuYmluZGluZ1R5cGUgPSBiaW5kaW5nVHlwZVxuICAgICAgdGhpcy5zZXRXR1NMRnJhZ21lbnQoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvcnJlY3QgV0dTTCBjb2RlIHNuaXBwZXQuXG4gICAqL1xuICBzZXRXR1NMRnJhZ21lbnQoKSB7XG4gICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgJHtnZXRUZXh0dXJlQmluZGluZ1dHU0xWYXJUeXBlKHRoaXMpfWBdXG4gIH1cbn1cbiIsImltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBRdWF0IH0gZnJvbSAnLi4vLi4vbWF0aC9RdWF0J1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcblxubGV0IG9iamVjdEluZGV4ID0gMFxuXG4vKiogRGVmaW5lcyBhbGwga2luZCBvZiBwb3NzaWJsZSB7QGxpbmsgT2JqZWN0M0R9IG1hdHJpeCB0eXBlcyAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0M0RNYXRyaWNlc1R5cGUgPSAnbW9kZWwnIHwgJ3dvcmxkJ1xuXG4vKipcbiAqIERlZmluZXMgYW4ge0BsaW5rIE9iamVjdDNEfSBtYXRyaXggb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXgge1xuICAvKiogVGhlIHtAbGluayBNYXQ0IHwgbWF0cml4fSB1c2VkICovXG4gIG1hdHJpeDogTWF0NFxuICAvKiogV2hldGhlciB3ZSBzaG91bGQgdXBkYXRlIHRoZSB7QGxpbmsgTWF0NCB8IG1hdHJpeH0gKi9cbiAgc2hvdWxkVXBkYXRlOiBib29sZWFuXG4gIC8qKiBGdW5jdGlvbiB0byB1cGRhdGUgb3VyIHtAbGluayBNYXQ0IHwgbWF0cml4fSAqL1xuICBvblVwZGF0ZTogKCkgPT4gdm9pZFxufVxuXG4vKiogRGVmaW5lcyBhbGwgcG9zc2libGUge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4IHwgbWF0cml4IG9iamVjdH0gdXNlZCBieSBvdXIge0BsaW5rIE9iamVjdDNEfSAqL1xuZXhwb3J0IHR5cGUgT2JqZWN0M0RNYXRyaWNlcyA9IFJlY29yZDxPYmplY3QzRE1hdHJpY2VzVHlwZSwgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXg+XG5cbi8qKlxuICogRGVmaW5lcyBhbGwgbmVjZXNzYXJ5IHtAbGluayBWZWMzIHwgdmVjdG9yc30ve0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9uc30gdG8gY29tcHV0ZSBhIDNEIHtAbGluayBNYXQ0IHwgbW9kZWwgbWF0cml4fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdDNEVHJhbnNmb3JtcyB7XG4gIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4gb2JqZWN0ICovXG4gIG9yaWdpbjoge1xuICAgIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSB7QGxpbmsgT2JqZWN0M0R9ICovXG4gICAgbW9kZWw6IFZlYzNcbiAgfVxuICAvKiogTW9kZWwge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSBkZWZpbmluZyBpdHMgcm90YXRpb24gaW4gM0Qgc3BhY2UgKi9cbiAgcXVhdGVybmlvbjogUXVhdFxuICAvKiogTW9kZWwgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHVzZWQgdG8gY29tcHV0ZSBpdHMge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufSAqL1xuICByb3RhdGlvbjogVmVjM1xuICAvKiogUG9zaXRpb24gb2JqZWN0ICovXG4gIHBvc2l0aW9uOiB7XG4gICAgLyoqIFBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUgM0Qgd29ybGQgKi9cbiAgICB3b3JsZDogVmVjM1xuICB9XG4gIC8qKiBNb2RlbCAzRCBzY2FsZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gKi9cbiAgc2NhbGU6IFZlYzNcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhbiBvYmplY3Qgd2l0aCB0cmFuc2Zvcm1hdGlvbiBwcm9wZXJ0aWVzIHN1Y2ggYXMgcG9zaXRpb24sIHNjYWxlLCByb3RhdGlvbiBhbmQgdHJhbnNmb3JtIG9yaWdpbiB7QGxpbmsgVmVjMyB8IHZlY3RvcnN9IGFuZCBhIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn0gaW4gb3JkZXIgdG8gY29tcHV0ZSB0aGUge0BsaW5rIE9iamVjdDNEI21vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBhbmQge0BsaW5rIE9iamVjdDNEI3dvcmxkTWF0cml4IHwgd29ybGQgbWF0cml4fS5cbiAqXG4gKiBJZiBhbiB7QGxpbmsgT2JqZWN0M0R9IGRvZXMgbm90IGhhdmUgYW55IHtAbGluayBPYmplY3QzRCNwYXJlbnQgfCBwYXJlbnR9LCB0aGVuIGl0cyB7QGxpbmsgT2JqZWN0M0QjbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgT2JqZWN0M0Qjd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9IGFyZSB0aGUgc2FtZS5cbiAqXG4gKiBUaGUgdHJhbnNmb3JtYXRpb25zIHtAbGluayBWZWMzIHwgdmVjdG9yc30gYXJlIHJlYWN0aXZlIHRvIGNoYW5nZXMsIHdoaWNoIG1lYW4gdGhhdCB1cGRhdGluZyBvbmUgb2YgdGhlaXIgY29tcG9uZW50cyB3aWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgT2JqZWN0M0QjbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgT2JqZWN0M0Qjd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9LlxuICovXG5leHBvcnQgY2xhc3MgT2JqZWN0M0Qge1xuICAvKioge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtcyB8IFRyYW5zZm9ybWF0aW9uIG9iamVjdH0gb2YgdGhlIHtAbGluayBPYmplY3QzRH0gKi9cbiAgdHJhbnNmb3JtczogT2JqZWN0M0RUcmFuc2Zvcm1zXG4gIC8qKiB7QGxpbmsgT2JqZWN0M0RNYXRyaWNlcyB8IE1hdHJpY2VzIG9iamVjdH0gb2YgdGhlIHtAbGluayBPYmplY3QzRH0gKi9cbiAgbWF0cmljZXM6IE9iamVjdDNETWF0cmljZXNcblxuICAvKiogUGFyZW50IHtAbGluayBPYmplY3QzRH0gaW4gdGhlIHNjZW5lIGdyYXBoLCB1c2VkIHRvIGNvbXB1dGUgdGhlIHtAbGluayB3b3JsZE1hdHJpeCB8IHdvcmxkIG1hdHJpeH0gKi9cbiAgcHJpdmF0ZSBfcGFyZW50OiBudWxsIHwgT2JqZWN0M0RcbiAgLyoqIENoaWxkcmVuIHtAbGluayBPYmplY3QzRH0gaW4gdGhlIHNjZW5lIGdyYXBoLCB1c2VkIHRvIGNvbXB1dGUgdGhlaXIgb3duIHtAbGluayB3b3JsZE1hdHJpeCB8IHdvcmxkIG1hdHJpeH0gKi9cbiAgY2hpbGRyZW46IE9iamVjdDNEW11cblxuICAvKiogSW5kZXggKG9yZGVyIG9mIGNyZWF0aW9uKSBvZiB0aGlzIHtAbGluayBPYmplY3QzRH0uIFVzZWQgaW4gdGhlIHtAbGluayBwYXJlbnR9IC8ge0BsaW5rIGNoaWxkcmVufSByZWxhdGlvbi4gKi9cbiAgb2JqZWN0M0RJbmRleDogbnVtYmVyXG5cbiAgLyoqXG4gICAqIE9iamVjdDNEIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhcmVudCA9IG51bGxcbiAgICB0aGlzLmNoaWxkcmVuID0gW11cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzIGFzIE9iamVjdDNELCAnb2JqZWN0M0RJbmRleCcsIHsgdmFsdWU6IG9iamVjdEluZGV4KysgfSlcblxuICAgIHRoaXMuc2V0TWF0cmljZXMoKVxuICAgIHRoaXMuc2V0VHJhbnNmb3JtcygpXG4gIH1cblxuICAvKiBQQVJFTlQgKi9cblxuICAvKipcbiAgICogR2V0IHRoZSBwYXJlbnQgb2YgdGhpcyB7QGxpbmsgT2JqZWN0M0R9IGlmIGFueVxuICAgKi9cbiAgZ2V0IHBhcmVudCgpOiBPYmplY3QzRCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBhcmVudCBvZiB0aGlzIHtAbGluayBPYmplY3QzRH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHBhcmVudCB0byBzZXQsIGNvdWxkIGJlIGFuIHtAbGluayBPYmplY3QzRH0gb3IgbnVsbFxuICAgKi9cbiAgc2V0IHBhcmVudCh2YWx1ZTogT2JqZWN0M0QgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbiA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkLm9iamVjdDNESW5kZXggIT09IHRoaXMub2JqZWN0M0RJbmRleClcbiAgICB9XG4gICAgdGhpcy5fcGFyZW50ID0gdmFsdWVcbiAgICB0aGlzLl9wYXJlbnQ/LmNoaWxkcmVuLnB1c2godGhpcylcbiAgfVxuXG4gIC8qIFRSQU5TRk9STVMgKi9cblxuICAvKipcbiAgICogU2V0IG91ciB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYW5kIHtAbGluayBWZWMzI29uQ2hhbmdlIHwgdmVjdG9ycyBvbkNoYW5nZX0gY2FsbGJhY2tzXG4gICAqL1xuICBzZXRUcmFuc2Zvcm1zKCkge1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHtcbiAgICAgIG9yaWdpbjoge1xuICAgICAgICBtb2RlbDogbmV3IFZlYzMoKSxcbiAgICAgIH0sXG4gICAgICBxdWF0ZXJuaW9uOiBuZXcgUXVhdCgpLFxuICAgICAgcm90YXRpb246IG5ldyBWZWMzKCksXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB3b3JsZDogbmV3IFZlYzMoKSxcbiAgICAgIH0sXG4gICAgICBzY2FsZTogbmV3IFZlYzMoMSksXG4gICAgfVxuXG4gICAgdGhpcy5yb3RhdGlvbi5vbkNoYW5nZSgoKSA9PiB0aGlzLmFwcGx5Um90YXRpb24oKSlcbiAgICB0aGlzLnBvc2l0aW9uLm9uQ2hhbmdlKCgpID0+IHRoaXMuYXBwbHlQb3NpdGlvbigpKVxuICAgIHRoaXMuc2NhbGUub25DaGFuZ2UoKCkgPT4gdGhpcy5hcHBseVNjYWxlKCkpXG4gICAgdGhpcy50cmFuc2Zvcm1PcmlnaW4ub25DaGFuZ2UoKCkgPT4gdGhpcy5hcHBseVRyYW5zZm9ybU9yaWdpbigpKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBnZXQgcm90YXRpb24oKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5yb3RhdGlvblxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcm90YXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyByb3RhdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIHNldCByb3RhdGlvbih2YWx1ZTogVmVjMykge1xuICAgIHRoaXMudHJhbnNmb3Jtcy5yb3RhdGlvbiA9IHZhbHVlXG4gICAgdGhpcy5hcHBseVJvdGF0aW9uKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBRdWF0IHwgcXVhdGVybmlvbn1cbiAgICovXG4gIGdldCBxdWF0ZXJuaW9uKCk6IFF1YXQge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMucXVhdGVybmlvblxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIFF1YXQgfCBxdWF0ZXJuaW9ufVxuICAgKi9cbiAgc2V0IHF1YXRlcm5pb24odmFsdWU6IFF1YXQpIHtcbiAgICB0aGlzLnRyYW5zZm9ybXMucXVhdGVybmlvbiA9IHZhbHVlXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIGdldCBwb3NpdGlvbigpOiBWZWMzIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLndvcmxkXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKi9cbiAgc2V0IHBvc2l0aW9uKHZhbHVlOiBWZWMzKSB7XG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLndvcmxkID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKi9cbiAgZ2V0IHNjYWxlKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMuc2NhbGVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHNjYWxlIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcgc2NhbGUge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBzZXQgc2NhbGUodmFsdWU6IFZlYzMpIHtcbiAgICAvLyBmb3JjZSBzY2FsZSB0byAxIG9uIFogYXhpc1xuICAgIHRoaXMudHJhbnNmb3Jtcy5zY2FsZSA9IHZhbHVlXG4gICAgdGhpcy5hcHBseVNjYWxlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHRyYW5zZm9ybSBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9XG4gICAqL1xuICBnZXQgdHJhbnNmb3JtT3JpZ2luKCk6IFZlYzMge1xuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB0cmFuc2Zvcm0gb3JpZ2luIHtAbGluayBWZWMzIHwgdmVjdG9yfVxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcgdHJhbnNmb3JtIG9yaWdpbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn1cbiAgICovXG4gIHNldCB0cmFuc2Zvcm1PcmlnaW4odmFsdWU6IFZlYzMpIHtcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBvdXIgcm90YXRpb24gYW5kIHRlbGwgb3VyIHtAbGluayBtb2RlbE1hdHJpeCB8IG1vZGVsIG1hdHJpeH0gdG8gdXBkYXRlXG4gICAqL1xuICBhcHBseVJvdGF0aW9uKCkge1xuICAgIHRoaXMucXVhdGVybmlvbi5zZXRGcm9tVmVjMyh0aGlzLnJvdGF0aW9uKVxuXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5UG9zaXRpb24oKSB7XG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5U2NhbGUoKSB7XG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSB0byB1cGRhdGVcbiAgICovXG4gIGFwcGx5VHJhbnNmb3JtT3JpZ2luKCkge1xuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxuICB9XG5cbiAgLyogTUFUUklDRVMgKi9cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFuZCB7QGxpbmsgd29ybGRNYXRyaXggfCB3b3JsZCBtYXRyaXh9XG4gICAqL1xuICBzZXRNYXRyaWNlcygpIHtcbiAgICB0aGlzLm1hdHJpY2VzID0ge1xuICAgICAgbW9kZWw6IHtcbiAgICAgICAgbWF0cml4OiBuZXcgTWF0NCgpLFxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxuICAgICAgICBvblVwZGF0ZTogKCkgPT4gdGhpcy51cGRhdGVNb2RlbE1hdHJpeCgpLFxuICAgICAgfSxcbiAgICAgIHdvcmxkOiB7XG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcbiAgICAgICAgc2hvdWxkVXBkYXRlOiBmYWxzZSxcbiAgICAgICAgb25VcGRhdGU6ICgpID0+IHRoaXMudXBkYXRlV29ybGRNYXRyaXgoKSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIE1hdDQgfCBtb2RlbCBtYXRyaXh9XG4gICAqL1xuICBnZXQgbW9kZWxNYXRyaXgoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubWF0cmljZXMubW9kZWwubWF0cml4XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgTWF0NCB8IG1vZGVsIG1hdHJpeH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHtAbGluayBNYXQ0IHwgbW9kZWwgbWF0cml4fVxuICAgKi9cbiAgc2V0IG1vZGVsTWF0cml4KHZhbHVlOiBNYXQ0KSB7XG4gICAgdGhpcy5tYXRyaWNlcy5tb2RlbC5tYXRyaXggPSB2YWx1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBzaG91bGRVcGRhdGUgZmxhZyB0byB0cnVlICh0ZWxsIGl0IHRvIHVwZGF0ZSlcbiAgICovXG4gIHNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMubW9kZWwuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIE1hdDQgfCB3b3JsZCBtYXRyaXh9XG4gICAqL1xuICBnZXQgd29ybGRNYXRyaXgoKTogTWF0NCB7XG4gICAgcmV0dXJuIHRoaXMubWF0cmljZXMud29ybGQubWF0cml4XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgTWF0NCB8IHdvcmxkIG1hdHJpeH1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHtAbGluayBNYXQ0IHwgd29ybGQgbWF0cml4fVxuICAgKi9cbiAgc2V0IHdvcmxkTWF0cml4KHZhbHVlOiBNYXQ0KSB7XG4gICAgdGhpcy5tYXRyaWNlcy53b3JsZC5tYXRyaXggPSB2YWx1ZVxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIHdvcmxkTWF0cml4IHwgd29ybGQgbWF0cml4fSBzaG91bGRVcGRhdGUgZmxhZyB0byB0cnVlICh0ZWxsIGl0IHRvIHVwZGF0ZSlcbiAgICovXG4gIHNob3VsZFVwZGF0ZVdvcmxkTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMud29ybGQuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGlzIHtAbGluayBPYmplY3QzRH0gc28gaXQgbG9va3MgYXQgdGhlIHtAbGluayBWZWMzIHwgdGFyZ2V0fVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0ge0BsaW5rIFZlYzMgfCB0YXJnZXR9IHRvIGxvb2sgYXRcbiAgICovXG4gIGxvb2tBdCh0YXJnZXQ6IFZlYzMgPSBuZXcgVmVjMygpKSB7XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBuZXcgTWF0NCgpLmxvb2tBdCh0YXJnZXQsIHRoaXMucG9zaXRpb24pXG4gICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyb3RhdGlvbk1hdHJpeClcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgb3VyIHtAbGluayBtb2RlbE1hdHJpeCB8IG1vZGVsIG1hdHJpeH1cbiAgICovXG4gIHVwZGF0ZU1vZGVsTWF0cml4KCkge1xuICAgIC8vIGNvbXBvc2Ugb3VyIG1vZGVsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBmcm9tIGN1c3RvbSBvcmlnaW5cbiAgICB0aGlzLm1vZGVsTWF0cml4ID0gdGhpcy5tb2RlbE1hdHJpeC5jb21wb3NlRnJvbU9yaWdpbihcbiAgICAgIHRoaXMucG9zaXRpb24sXG4gICAgICB0aGlzLnF1YXRlcm5pb24sXG4gICAgICB0aGlzLnNjYWxlLFxuICAgICAgdGhpcy50cmFuc2Zvcm1PcmlnaW5cbiAgICApXG5cbiAgICAvLyB0ZWxsIG91ciB3b3JsZCBtYXRyaXggdG8gdXBkYXRlXG4gICAgdGhpcy5zaG91bGRVcGRhdGVXb3JsZE1hdHJpeCgpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG91ciB7QGxpbmsgd29ybGRNYXRyaXggfCBtb2RlbCBtYXRyaXh9XG4gICAqL1xuICB1cGRhdGVXb3JsZE1hdHJpeCgpIHtcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICB0aGlzLndvcmxkTWF0cml4LmNvcHkodGhpcy5tb2RlbE1hdHJpeClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53b3JsZE1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50LndvcmxkTWF0cml4LCB0aGlzLm1vZGVsTWF0cml4KVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSB0aGUgY2hpbGRyZW4gd29ybGQgbWF0cml4IGFzIHdlbGxcbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICBjaGlsZC5zaG91bGRVcGRhdGVXb3JsZE1hdHJpeCgpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBydW4gaWYgYXQgbGVhc3Qgb25lIG1hdHJpeCBvZiB0aGUgc3RhY2sgaGFzIGJlZW4gdXBkYXRlZFxuICAgKi9cbiAgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCkge1xuICAgIC8qIHdpbGwgYmUgdXNlZCBieSB0aGUgY2xhc3NlcyBleHRlbmRpbmcgT2JqZWN0M0QgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBhdCBlYWNoIHJlbmRlciB3aGV0aGVyIHdlIHNob3VsZCB1cGRhdGUgb3VyIG1hdHJpY2VzLCBhbmQgdXBkYXRlIHRoZW0gaWYgbmVlZGVkXG4gICAqL1xuICB1cGRhdGVNYXRyaXhTdGFjaygpIHtcbiAgICAvLyBpZiBpdCBoYXMgYSBwYXJlbnQgYW5kIGl0IGlzIGFuIE9iamVjdDNEXG4gICAgLy8gaXQgbWVhbnMgbm90aGluZyB1cGRhdGVzIGl0IGluIHRoZSByZW5kZXIgbG9vcCwgc28gZG8gaXQgZnJvbSBoZXJlXG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdPYmplY3QzRCcpIHtcbiAgICAgIHRoaXMucGFyZW50LnVwZGF0ZU1hdHJpeFN0YWNrKClcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBhdCBsZWFzdCBvbmUgbWF0cml4IHNob3VsZCB1cGRhdGVcbiAgICBjb25zdCBtYXRyaXhTaG91bGRVcGRhdGUgPSAhIU9iamVjdC5rZXlzKHRoaXMubWF0cmljZXMpLmZpbmQoKG1hdHJpeE5hbWUpID0+IHRoaXMubWF0cmljZXNbbWF0cml4TmFtZV0uc2hvdWxkVXBkYXRlKVxuXG4gICAgaWYgKG1hdHJpeFNob3VsZFVwZGF0ZSkge1xuICAgICAgZm9yIChjb25zdCBtYXRyaXhOYW1lIGluIHRoaXMubWF0cmljZXMpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0cmljZXNbbWF0cml4TmFtZV0uc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgdGhpcy5tYXRyaWNlc1ttYXRyaXhOYW1lXS5vblVwZGF0ZSgpXG4gICAgICAgICAgdGhpcy5tYXRyaWNlc1ttYXRyaXhOYW1lXS5zaG91bGRVcGRhdGUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGxiYWNrIHRvIHJ1biBpZiBhdCBsZWFzdCBvbmUgbWF0cml4IG9mIHRoZSBzdGFjayBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB0aGlzLm9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xyXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgVGV4dHVyZUJpbmRpbmcsIFRleHR1cmVCaW5kaW5nUGFyYW1zIH0gZnJvbSAnLi4vYmluZGluZ3MvVGV4dHVyZUJpbmRpbmcnXHJcbmltcG9ydCB7IEJ1ZmZlckJpbmRpbmcgfSBmcm9tICcuLi9iaW5kaW5ncy9CdWZmZXJCaW5kaW5nJ1xyXG5pbXBvcnQgeyBPYmplY3QzRCB9IGZyb20gJy4uL29iamVjdHMzRC9PYmplY3QzRCdcclxuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcclxuaW1wb3J0IHsgZ2VuZXJhdGVVVUlELCB0aHJvd1dhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcclxuaW1wb3J0IHsgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xyXG5pbXBvcnQgeyBUZXh0dXJlT3B0aW9ucywgVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmVudCwgVGV4dHVyZVNpemUsIFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi8uLi90eXBlcy9UZXh0dXJlcydcclxuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcclxuaW1wb3J0IHsgRE9NUHJvamVjdGVkTWVzaCB9IGZyb20gJy4uL3JlbmRlcmVycy9HUFVSZW5kZXJlcidcclxuaW1wb3J0IHsgUmVjdFNpemUgfSBmcm9tICcuLi9ET00vRE9NRWxlbWVudCdcclxuXHJcbi8qKiBAY29uc3QgLSBkZWZhdWx0IHtAbGluayBUZXh0dXJlfSBwYXJhbWV0ZXJzICovXHJcbmNvbnN0IGRlZmF1bHRUZXh0dXJlUGFyYW1zOiBUZXh0dXJlUGFyYW1zID0ge1xyXG4gIG5hbWU6ICd0ZXh0dXJlJyxcclxuICBnZW5lcmF0ZU1pcHM6IGZhbHNlLFxyXG4gIGZsaXBZOiBmYWxzZSxcclxuICBmb3JtYXQ6ICdyZ2JhOHVub3JtJyxcclxuICBwcmVtdWx0aXBsaWVkQWxwaGE6IHRydWUsXHJcbiAgcGxhY2Vob2xkZXJDb2xvcjogWzAsIDAsIDAsIDI1NV0sIC8vIGRlZmF1bHQgdG8gYmxhY2tcclxuICB1c2VFeHRlcm5hbFRleHR1cmVzOiB0cnVlLFxyXG4gIGZyb21UZXh0dXJlOiBudWxsLFxyXG4gIHZpZXdEaW1lbnNpb246ICcyZCcsXHJcbiAgY2FjaGU6IHRydWUsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGNyZWF0ZSB7QGxpbmsgR1BVVGV4dHVyZX0gb3Ige0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gZnJvbSBkaWZmZXJlbnQga2luZHMgb2Yge0BsaW5rIFRleHR1cmVTb3VyY2UgfCBzb3VyY2VzfSwgbGlrZSB7QGxpbmsgSFRNTEltYWdlRWxlbWVudH0sIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBvciB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9LlxyXG4gKlxyXG4gKiBIYW5kbGVzIHRoZSB2YXJpb3VzIHNvdXJjZXMgbG9hZGluZyBhbmQgdXBsb2FkaW5nLCBHUFUgdGV4dHVyZXMgY3JlYXRpb24se0BsaW5rIEJ1ZmZlckJpbmRpbmcgfCB0ZXh0dXJlIG1vZGVsIG1hdHJpeCBiaW5kaW5nfSBhbmQge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgR1BVIHRleHR1cmUgYmluZGluZ30uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXHJcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcclxuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcclxuICogfSlcclxuICpcclxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXHJcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcclxuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcclxuICpcclxuICogLy8gY3JlYXRlIGEgcmVuZGVyIHRleHR1cmVcclxuICogY29uc3QgaW1hZ2VUZXh0dXJlID0gbmV3IFRleHR1cmUoZ3B1Q3VydGFpbnMsIHtcclxuICogICBsYWJlbDogJ015IGltYWdlIHRleHR1cmUnLFxyXG4gKiAgIG5hbWU6ICdpbWFnZVRleHR1cmUnLFxyXG4gKiB9KVxyXG4gKlxyXG4gKiAvLyBsb2FkIGFuIGltYWdlXHJcbiAqIGF3YWl0IGltYWdlVGV4dHVyZS5sb2FkSW1hZ2UoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW1nJykpXHJcbiAqIGBgYFxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFRleHR1cmUgZXh0ZW5kcyBPYmplY3QzRCB7XHJcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgVGV4dHVyZX0gKi9cclxuICB0eXBlOiBzdHJpbmdcclxuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgVGV4dHVyZX0gKi9cclxuICByZWFkb25seSB1dWlkOiBzdHJpbmdcclxuICAvKioge0BsaW5rIFJlbmRlcmVyfSB1c2VkIGJ5IHRoaXMge0BsaW5rIFRleHR1cmV9ICovXHJcbiAgcmVuZGVyZXI6IFJlbmRlcmVyXHJcblxyXG4gIC8qKiBUaGUge0BsaW5rIEdQVVRleHR1cmV9IHVzZWQgaWYgYW55ICovXHJcbiAgdGV4dHVyZTogbnVsbCB8IEdQVVRleHR1cmVcclxuICAvKiogVGhlIHtAbGluayBHUFVFeHRlcm5hbFRleHR1cmV9IHVzZWQgaWYgYW55ICovXHJcbiAgZXh0ZXJuYWxUZXh0dXJlOiBudWxsIHwgR1BVRXh0ZXJuYWxUZXh0dXJlXHJcblxyXG4gIC8qKiBUaGUge0BsaW5rIFRleHR1cmV9IHtAbGluayBUZXh0dXJlU291cmNlIHwgc291cmNlfSB0byB1c2UgKi9cclxuICBzb3VyY2U6IFRleHR1cmVTb3VyY2VcclxuICAvKiogVGhlIHtAbGluayBHUFVUZXh0dXJlfSwgbWF0Y2hpbmcgdGhlIHtAbGluayBUZXh0dXJlU291cmNlIHwgc291cmNlfSB7QGxpbmsgUmVjdFNpemUgfCBzaXplfSAod2l0aCAxIGZvciBkZXB0aCkgKi9cclxuICBzaXplOiBUZXh0dXJlU2l6ZVxyXG5cclxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBUZXh0dXJlfSAqL1xyXG4gIG9wdGlvbnM6IFRleHR1cmVPcHRpb25zXHJcblxyXG4gIC8qKiBBIHtAbGluayBCdWZmZXJCaW5kaW5nIHwgYnVmZmVyIGJpbmRpbmd9IHRoYXQgd2lsbCBob2xkIHRoZSB0ZXh0dXJlIG1vZGVsIG1hdHJpeCAqL1xyXG4gIHRleHR1cmVNYXRyaXg6IEJ1ZmZlckJpbmRpbmdcclxuICAvKiogVGhlIGJpbmRpbmdzIHVzZWQgYnkgdGhpcyB7QGxpbmsgVGV4dHVyZX0sIGkuZS4gaXRzIHtAbGluayB0ZXh0dXJlTWF0cml4fSBhbmQgaXRzIHtAbGluayBUZXh0dXJlQmluZGluZyB8IEdQVSB0ZXh0dXJlIGJpbmRpbmd9ICovXHJcbiAgYmluZGluZ3M6IEJpbmRHcm91cEJpbmRpbmdFbGVtZW50W11cclxuXHJcbiAgLyoqIHtAbGluayBUZXh0dXJlfSBwYXJlbnRNZXNoIGlmIGFueSAqL1xyXG4gIHByaXZhdGUgX3BhcmVudE1lc2g6IFRleHR1cmVQYXJlbnRcclxuXHJcbiAgLyoqIFdoZXRoZXIgdGhlIHNvdXJjZSBoYXMgYmVlbiBsb2FkZWQgKi9cclxuICBwcml2YXRlIF9zb3VyY2VMb2FkZWQ6IGJvb2xlYW5cclxuICAvKiogV2hldGhlciB0aGUgc291cmNlIGhhcyBiZWVuIHVwbG9hZGVkIHRvIHRoZSBHUFUsIGhhbmRsZWQgYnkgdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjdGV4dHVyZXNRdWV1ZSB8IEdQVURldmljZU1hbmFnZXIgdGV4dHVyZXNRdWV1ZSBhcnJheX0gKi9cclxuICBwcml2YXRlIF9zb3VyY2VVcGxvYWRlZDogYm9vbGVhblxyXG4gIC8qKiBXaGV0aGVyIHRoZSB0ZXh0dXJlIHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgR1BVICovXHJcbiAgc2hvdWxkVXBkYXRlOiBib29sZWFuXHJcblxyXG4gIC8qKiB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudC5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrIHwgcmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFja30gcmV0dXJuZWQgaWQgaWYgdXNlZCAqL1xyXG4gIHZpZGVvRnJhbWVDYWxsYmFja0lkOiBudWxsIHwgbnVtYmVyXHJcblxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIGZvciB7QGxpbmsjbW9kZWxNYXRyaXh9IGNhbGN1bGF0aW9ucywgYmFzZWQgb24ge0BsaW5rIHBhcmVudE1lc2h9IHtAbGluayBSZWN0U2l6ZSB8IHNpemV9ICovXHJcbiAgI3BhcmVudFJhdGlvOiBWZWMzID0gbmV3IFZlYzMoMSlcclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdXNlZCBmb3Ige0BsaW5rIG1vZGVsTWF0cml4fSBjYWxjdWxhdGlvbnMsIGJhc2VkIG9uIHtAbGluayBzaXplIHwgc291cmNlIHNpemV9ICovXHJcbiAgI3NvdXJjZVJhdGlvOiBWZWMzID0gbmV3IFZlYzMoMSlcclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gdXNlZCBmb3Ige0BsaW5rIG1vZGVsTWF0cml4fSBjYWxjdWxhdGlvbnMsIGJhc2VkIG9uICNwYXJlbnRSYXRpbyBhbmQgI3NvdXJjZVJhdGlvICovXHJcbiAgI2NvdmVyU2NhbGU6IFZlYzMgPSBuZXcgVmVjMygxKVxyXG4gIC8qKiBQcml2YXRlIHJvdGF0aW9uIHtAbGluayBNYXQ0IHwgbWF0cml4fSBiYXNlZCBvbiB0ZXh0dXJlIHtAbGluayBxdWF0ZXJuaW9ufSAqL1xyXG4gICNyb3RhdGlvbk1hdHJpeDogTWF0NCA9IG5ldyBNYXQ0KClcclxuXHJcbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXHJcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25Tb3VyY2VMb2FkZWR9IGNhbGxiYWNrICovXHJcbiAgX29uU291cmNlTG9hZGVkQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xyXG4gIH1cclxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblNvdXJjZVVwbG9hZGVkfSBjYWxsYmFjayAqL1xyXG4gIF9vblNvdXJjZVVwbG9hZGVkQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGV4dHVyZSBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFRleHR1cmV9XHJcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgVGV4dHVyZVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnMgPSBkZWZhdWx0VGV4dHVyZVBhcmFtcykge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMudHlwZSA9ICdUZXh0dXJlJ1xyXG5cclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXHJcblxyXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnICcgKyB0aGlzLnR5cGUgOiB0aGlzLnR5cGUpXHJcblxyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXHJcblxyXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgLi4uZGVmYXVsdFRleHR1cmVQYXJhbXMsXHJcbiAgICAgIHNvdXJjZTogcGFyYW1ldGVycy5mcm9tVGV4dHVyZSA/IHBhcmFtZXRlcnMuZnJvbVRleHR1cmUub3B0aW9ucy5zb3VyY2UgOiBudWxsLFxyXG4gICAgICBzb3VyY2VUeXBlOiBwYXJhbWV0ZXJzLmZyb21UZXh0dXJlID8gcGFyYW1ldGVycy5mcm9tVGV4dHVyZS5vcHRpb25zLnNvdXJjZVR5cGUgOiBudWxsLFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uZGVmYXVsdE9wdGlvbnMsIC4uLnBhcmFtZXRlcnMgfVxyXG4gICAgLy8gZm9yY2UgbWVyZ2Ugb2YgdGV4dHVyZSBvYmplY3RcclxuICAgIC8vdGhpcy5vcHRpb25zLnRleHR1cmUgPSB7IC4uLmRlZmF1bHRPcHRpb25zLnRleHR1cmUsIC4uLnBhcmFtZXRlcnMudGV4dHVyZSB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmxhYmVsID0gdGhpcy5vcHRpb25zLmxhYmVsID8/IHRoaXMub3B0aW9ucy5uYW1lXHJcblxyXG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbFxyXG4gICAgdGhpcy5leHRlcm5hbFRleHR1cmUgPSBudWxsXHJcbiAgICB0aGlzLnNvdXJjZSA9IG51bGxcclxuXHJcbiAgICAvLyBzaXplc1xyXG4gICAgdGhpcy5zaXplID0ge1xyXG4gICAgICB3aWR0aDogMSxcclxuICAgICAgaGVpZ2h0OiAxLFxyXG4gICAgICBkZXB0aDogMSxcclxuICAgIH1cclxuXHJcbiAgICAvLyB3ZSB3aWxsIGFsd2F5cyBkZWNsYXJlIGEgdGV4dHVyZSBtYXRyaXhcclxuICAgIHRoaXMudGV4dHVyZU1hdHJpeCA9IG5ldyBCdWZmZXJCaW5kaW5nKHtcclxuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICc6IG1vZGVsIG1hdHJpeCcsXHJcbiAgICAgIG5hbWU6IHRoaXMub3B0aW9ucy5uYW1lICsgJ01hdHJpeCcsXHJcbiAgICAgIHVzZVN0cnVjdDogZmFsc2UsXHJcbiAgICAgIHN0cnVjdDoge1xyXG4gICAgICAgIG1hdHJpeDoge1xyXG4gICAgICAgICAgbmFtZTogdGhpcy5vcHRpb25zLm5hbWUgKyAnTWF0cml4JyxcclxuICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcclxuICAgICAgICAgIHZhbHVlOiB0aGlzLm1vZGVsTWF0cml4LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMuc2V0QmluZGluZ3MoKVxyXG5cclxuICAgIHRoaXMuX3BhcmVudE1lc2ggPSBudWxsXHJcblxyXG4gICAgdGhpcy5zb3VyY2VMb2FkZWQgPSBmYWxzZVxyXG4gICAgdGhpcy5zb3VyY2VVcGxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXHJcblxyXG4gICAgdGhpcy5yZW5kZXJlci5hZGRUZXh0dXJlKHRoaXMpXHJcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IG91ciB7QGxpbmsgYmluZGluZ3N9XHJcbiAgICovXHJcbiAgc2V0QmluZGluZ3MoKSB7XHJcbiAgICB0aGlzLmJpbmRpbmdzID0gW1xyXG4gICAgICBuZXcgVGV4dHVyZUJpbmRpbmcoe1xyXG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiB0ZXh0dXJlJyxcclxuICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMubmFtZSxcclxuICAgICAgICB0ZXh0dXJlOiB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nID8gdGhpcy5leHRlcm5hbFRleHR1cmUgOiB0aGlzLnRleHR1cmUsXHJcbiAgICAgICAgYmluZGluZ1R5cGU6IHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycgPyAnZXh0ZXJuYWxUZXh0dXJlJyA6ICd0ZXh0dXJlJyxcclxuICAgICAgICB2aWV3RGltZW5zaW9uOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbixcclxuICAgICAgfSBhcyBUZXh0dXJlQmluZGluZ1BhcmFtcyksXHJcbiAgICAgIHRoaXMudGV4dHVyZU1hdHJpeCxcclxuICAgIF1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgR1BVIHRleHR1cmUgYmluZGluZ31cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgdGV4dHVyZUJpbmRpbmcoKTogVGV4dHVyZUJpbmRpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuYmluZGluZ3NbMF0gYXMgVGV4dHVyZUJpbmRpbmdcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIgdGV4dHVyZSB7QGxpbmsgcGFyZW50TWVzaH1cclxuICAgKi9cclxuICBnZXQgcGFyZW50TWVzaCgpOiBUZXh0dXJlUGFyZW50IHtcclxuICAgIHJldHVybiB0aGlzLl9wYXJlbnRNZXNoXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHRleHR1cmUge0BsaW5rIHBhcmVudE1lc2h9XHJcbiAgICogQHBhcmFtIHZhbHVlIC0gdGV4dHVyZSB7QGxpbmsgcGFyZW50TWVzaH0gdG8gc2V0IChpLmUuIGFueSBraW5kIG9mIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5SZW5kZXJlZE1lc2ggfCBNZXNofVxyXG4gICAqL1xyXG4gIHNldCBwYXJlbnRNZXNoKHZhbHVlOiBUZXh0dXJlUGFyZW50KSB7XHJcbiAgICB0aGlzLl9wYXJlbnRNZXNoID0gdmFsdWVcclxuICAgIHRoaXMucmVzaXplKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIG91ciB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKi9cclxuICBnZXQgc291cmNlTG9hZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZUxvYWRlZFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHdoZXRoZXIgb3VyIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIGxvYWRlZFxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIGJvb2xlYW4gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKi9cclxuICBzZXQgc291cmNlTG9hZGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICBpZiAodmFsdWUgJiYgIXRoaXMuc291cmNlTG9hZGVkKSB7XHJcbiAgICAgIHRoaXMuX29uU291cmNlTG9hZGVkQ2FsbGJhY2sgJiYgdGhpcy5fb25Tb3VyY2VMb2FkZWRDYWxsYmFjaygpXHJcbiAgICB9XHJcbiAgICB0aGlzLl9zb3VyY2VMb2FkZWQgPSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHdoZXRoZXIgb3VyIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIHVwbG9hZGVkXHJcbiAgICovXHJcbiAgZ2V0IHNvdXJjZVVwbG9hZGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NvdXJjZVVwbG9hZGVkXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgd2hldGhlciBvdXIge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gdXBsb2FkZWRcclxuICAgKiBAcGFyYW0gdmFsdWUgLSBib29sZWFuIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gdXBsb2FkZWRcclxuICAgKi9cclxuICBzZXQgc291cmNlVXBsb2FkZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWx1ZSAmJiAhdGhpcy5zb3VyY2VVcGxvYWRlZCkge1xyXG4gICAgICB0aGlzLl9vblNvdXJjZVVwbG9hZGVkQ2FsbGJhY2sgJiYgdGhpcy5fb25Tb3VyY2VVcGxvYWRlZENhbGxiYWNrKClcclxuICAgIH1cclxuICAgIHRoaXMuX3NvdXJjZVVwbG9hZGVkID0gdmFsdWVcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvdXIgdGV4dHVyZSB7QGxpbmsgdHJhbnNmb3Jtc30gb2JqZWN0XHJcbiAgICovXHJcbiAgc2V0VHJhbnNmb3JtcygpIHtcclxuICAgIHN1cGVyLnNldFRyYW5zZm9ybXMoKVxyXG5cclxuICAgIHRoaXMudHJhbnNmb3Jtcy5xdWF0ZXJuaW9uLnNldEF4aXNPcmRlcignWlhZJylcclxuXHJcbiAgICAvLyByZXNldCBvdXIgbW9kZWwgdHJhbnNmb3JtIG9yaWdpbiB0byByZWZsZWN0IENTUyB0cmFuc2Zvcm0gb3JpZ2luc1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLm9yaWdpbi5tb2RlbC5zZXQoMC41LCAwLjUsIDApXHJcbiAgfVxyXG5cclxuICAvKiBURVhUVVJFIE1BVFJJWCAqL1xyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBtb2RlbE1hdHJpeH1cclxuICAgKi9cclxuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcclxuICAgIGlmICghdGhpcy5wYXJlbnRNZXNoKSByZXR1cm5cclxuXHJcbiAgICBjb25zdCBwYXJlbnRTY2FsZSA9ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuc2NhbGVcclxuICAgICAgPyAodGhpcy5wYXJlbnRNZXNoIGFzIERPTVByb2plY3RlZE1lc2gpLnNjYWxlXHJcbiAgICAgIDogbmV3IFZlYzMoMSwgMSwgMSlcclxuXHJcbiAgICBjb25zdCBwYXJlbnRXaWR0aCA9ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuYm91bmRpbmdSZWN0XHJcbiAgICAgID8gKHRoaXMucGFyZW50TWVzaCBhcyBET01Qcm9qZWN0ZWRNZXNoKS5ib3VuZGluZ1JlY3Qud2lkdGggKiBwYXJlbnRTY2FsZS54XHJcbiAgICAgIDogdGhpcy5zaXplLndpZHRoXHJcbiAgICBjb25zdCBwYXJlbnRIZWlnaHQgPSAodGhpcy5wYXJlbnRNZXNoIGFzIERPTVByb2plY3RlZE1lc2gpLmJvdW5kaW5nUmVjdFxyXG4gICAgICA/ICh0aGlzLnBhcmVudE1lc2ggYXMgRE9NUHJvamVjdGVkTWVzaCkuYm91bmRpbmdSZWN0LmhlaWdodCAqIHBhcmVudFNjYWxlLnlcclxuICAgICAgOiB0aGlzLnNpemUuaGVpZ2h0XHJcblxyXG4gICAgY29uc3QgcGFyZW50UmF0aW8gPSBwYXJlbnRXaWR0aCAvIHBhcmVudEhlaWdodFxyXG4gICAgY29uc3Qgc291cmNlUmF0aW8gPSB0aGlzLnNpemUud2lkdGggLyB0aGlzLnNpemUuaGVpZ2h0XHJcblxyXG4gICAgLy8gaGFuZGxlIHRoZSB0ZXh0dXJlIHJvdGF0aW9uXHJcbiAgICAvLyBodWdlIHByb3BzIHRvIFtAZ3JncmR2cnRdKGh0dHBzOi8vZ2l0aHViLmNvbS9ncmdyZHZydCkgZm9yIHRoaXMgc29sdXRpb24hXHJcbiAgICBpZiAocGFyZW50V2lkdGggPiBwYXJlbnRIZWlnaHQpIHtcclxuICAgICAgdGhpcy4jcGFyZW50UmF0aW8uc2V0KHBhcmVudFJhdGlvLCAxLCAxKVxyXG4gICAgICB0aGlzLiNzb3VyY2VSYXRpby5zZXQoMSAvIHNvdXJjZVJhdGlvLCAxLCAxKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy4jcGFyZW50UmF0aW8uc2V0KDEsIDEgLyBwYXJlbnRSYXRpbywgMSlcclxuICAgICAgdGhpcy4jc291cmNlUmF0aW8uc2V0KDEsIHNvdXJjZVJhdGlvLCAxKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvdmVyIHJhdGlvIGlzIGEgYml0IHRyaWNreSFcclxuICAgIGNvbnN0IGNvdmVyUmF0aW8gPVxyXG4gICAgICBwYXJlbnRSYXRpbyA+IHNvdXJjZVJhdGlvICE9PSBwYXJlbnRXaWR0aCA+IHBhcmVudEhlaWdodFxyXG4gICAgICAgID8gMVxyXG4gICAgICAgIDogcGFyZW50V2lkdGggPiBwYXJlbnRIZWlnaHRcclxuICAgICAgICA/IHRoaXMuI3BhcmVudFJhdGlvLnggKiB0aGlzLiNzb3VyY2VSYXRpby54XHJcbiAgICAgICAgOiB0aGlzLiNzb3VyY2VSYXRpby55ICogdGhpcy4jcGFyZW50UmF0aW8ueVxyXG5cclxuICAgIHRoaXMuI2NvdmVyU2NhbGUuc2V0KDEgLyAoY292ZXJSYXRpbyAqIHRoaXMuc2NhbGUueCksIDEgLyAoY292ZXJSYXRpbyAqIHRoaXMuc2NhbGUueSksIDEpXHJcblxyXG4gICAgdGhpcy4jcm90YXRpb25NYXRyaXgucm90YXRlRnJvbVF1YXRlcm5pb24odGhpcy5xdWF0ZXJuaW9uKVxyXG5cclxuICAgIC8vIGhlcmUgd2UgY291bGQgY3JlYXRlIGEgbWF0cml4IGZvciBlYWNoIHRyYW5zbGF0aW9ucyAvIHNjYWxlcyBhbmQgZG86XHJcbiAgICAvLyB0aGlzLm1vZGVsTWF0cml4XHJcbiAgICAvLyAgIC5pZGVudGl0eSgpXHJcbiAgICAvLyAgIC5wcmVtdWx0aXBseShuZWdhdGl2ZU9yaWdpbk1hdHJpeClcclxuICAgIC8vICAgLnByZW11bHRpcGx5KGNvdmVyU2NhbGVNYXRyaXgpXHJcbiAgICAvLyAgIC5wcmVtdWx0aXBseShwYXJlbnRSYXRpb01hdHJpeClcclxuICAgIC8vICAgLnByZW11bHRpcGx5KHJvdGF0aW9uTWF0cml4KVxyXG4gICAgLy8gICAucHJlbXVsdGlwbHkodGV4dHVyZVJhdGlvTWF0cml4KVxyXG4gICAgLy8gICAucHJlbXVsdGlwbHkob3JpZ2luTWF0cml4KVxyXG4gICAgLy8gICAudHJhbnNsYXRlKHRoaXMucG9zaXRpb24pXHJcblxyXG4gICAgLy8gYnV0IHRoaXMgaXMgZmFzdGVyIVxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeFxyXG4gICAgICAuaWRlbnRpdHkoKVxyXG4gICAgICAucHJlbXVsdGlwbHlUcmFuc2xhdGUodGhpcy50cmFuc2Zvcm1PcmlnaW4uY2xvbmUoKS5tdWx0aXBseVNjYWxhcigtMSkpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI2NvdmVyU2NhbGUpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI3BhcmVudFJhdGlvKVxyXG4gICAgICAucHJlbXVsdGlwbHkodGhpcy4jcm90YXRpb25NYXRyaXgpXHJcbiAgICAgIC5wcmVtdWx0aXBseVNjYWxlKHRoaXMuI3NvdXJjZVJhdGlvKVxyXG4gICAgICAucHJlbXVsdGlwbHlUcmFuc2xhdGUodGhpcy50cmFuc2Zvcm1PcmlnaW4pXHJcbiAgICAgIC50cmFuc2xhdGUodGhpcy5wb3NpdGlvbilcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIG91ciB7QGxpbmsgbW9kZWxNYXRyaXh9IGhhcyBiZWVuIHVwZGF0ZWQsIHRlbGwgdGhlIHtAbGluayB0ZXh0dXJlTWF0cml4IHwgdGV4dHVyZSBtYXRyaXggYmluZGluZ30gdG8gdXBkYXRlIGFzIHdlbGxcclxuICAgKi9cclxuICBvbkFmdGVyTWF0cml4U3RhY2tVcGRhdGUoKSB7XHJcbiAgICB0aGlzLnRleHR1cmVNYXRyaXguc2hvdWxkVXBkYXRlQmluZGluZyh0aGlzLm9wdGlvbnMubmFtZSArICdNYXRyaXgnKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzaXplIG91ciB7QGxpbmsgVGV4dHVyZX1cclxuICAgKi9cclxuICByZXNpemUoKSB7XHJcbiAgICAvLyB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiB3aXRoIGNhbnZhcyB0ZXh0dXJlc1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnNvdXJjZSAmJlxyXG4gICAgICB0aGlzLnNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmXHJcbiAgICAgICh0aGlzLnNvdXJjZS53aWR0aCAhPT0gdGhpcy5zaXplLndpZHRoIHx8IHRoaXMuc291cmNlLmhlaWdodCAhPT0gdGhpcy5zaXplLmhlaWdodClcclxuICAgICkge1xyXG4gICAgICAvLyBzaW5jZSB0aGUgc291cmNlIHNpemUgaGFzIGNoYW5nZWQsIHdlIGhhdmUgdG8gcmVjcmVhdGUgYSBuZXcgdGV4dHVyZVxyXG4gICAgICB0aGlzLnNldFNvdXJjZVNpemUoKVxyXG4gICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRlbGwgb3VyIG1vZGVsIG1hdHJpeCB0byB1cGRhdGVcclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlTW9kZWxNYXRyaXgoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IHRoZSBudW1iZXIgb2YgbWlwIGxldmVscyBjcmVhdGUgYmFzZWQgb24ge0BsaW5rIHNpemV9XHJcbiAgICogQHBhcmFtIHNpemVzIC0gQXJyYXkgY29udGFpbmluZyBvdXIgdGV4dHVyZSB3aWR0aCwgaGVpZ2h0IGFuZCBkZXB0aFxyXG4gICAqIEByZXR1cm5zIC0gbnVtYmVyIG9mIG1pcCBsZXZlbHNcclxuICAgKi9cclxuICBnZXROdW1NaXBMZXZlbHMoLi4uc2l6ZXM6IG51bWJlcltdKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IG1heFNpemUgPSBNYXRoLm1heCguLi5zaXplcylcclxuICAgIHJldHVybiAoMSArIE1hdGgubG9nMihtYXhTaXplKSkgfCAwXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUZWxsIHRoZSB7QGxpbmsgUmVuZGVyZXJ9IHRvIHVwbG9hZCBvciB0ZXh0dXJlXHJcbiAgICovXHJcbiAgdXBsb2FkVGV4dHVyZSgpIHtcclxuICAgIHRoaXMucmVuZGVyZXIudXBsb2FkVGV4dHVyZSh0aGlzKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGUgPSBmYWxzZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW1wb3J0IGEge0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0gZnJvbSB0aGUge0BsaW5rIFJlbmRlcmVyfSwgdXBkYXRlIHRoZSAge0BsaW5rIHRleHR1cmVCaW5kaW5nfSBhbmQgaXRzIHtAbGluayBjb3JlL2JpbmRHcm91cHMvVGV4dHVyZUJpbmRHcm91cC5UZXh0dXJlQmluZEdyb3VwIHwgYmluZCBncm91cH1cclxuICAgKi9cclxuICB1cGxvYWRWaWRlb1RleHR1cmUoKSB7XHJcbiAgICB0aGlzLmV4dGVybmFsVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuaW1wb3J0RXh0ZXJuYWxUZXh0dXJlKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpXHJcbiAgICB0aGlzLnRleHR1cmVCaW5kaW5nLnJlc291cmNlID0gdGhpcy5leHRlcm5hbFRleHR1cmVcclxuICAgIHRoaXMudGV4dHVyZUJpbmRpbmcuc2V0QmluZGluZ1R5cGUoJ2V4dGVybmFsVGV4dHVyZScpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29weSBhIHtAbGluayBUZXh0dXJlfVxyXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGNvcHlcclxuICAgKi9cclxuICBjb3B5KHRleHR1cmU6IFRleHR1cmUpIHtcclxuICAgIGlmICh0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nICYmIHRleHR1cmUub3B0aW9ucy5zb3VyY2VUeXBlICE9PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMub3B0aW9ucy5sYWJlbH06IGNhbm5vdCBjb3B5IGEgR1BVVGV4dHVyZSB0byBhIEdQVUV4dGVybmFsVGV4dHVyZWApXHJcbiAgICAgIHJldHVyblxyXG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc291cmNlVHlwZSAhPT0gJ2V4dGVybmFsVmlkZW8nICYmIHRleHR1cmUub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMub3B0aW9ucy5sYWJlbH06IGNhbm5vdCBjb3B5IGEgR1BVRXh0ZXJuYWxUZXh0dXJlIHRvIGEgR1BVVGV4dHVyZWApXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSA9IHRleHR1cmVcclxuXHJcbiAgICAvLyBub3cgY29weSBhbGwgZGVzaXJlZCB0ZXh0dXJlIG9wdGlvbnMgZXhjZXB0IHNvdXJjZVxyXG4gICAgLy8gY29uc3QgeyBzb3VyY2UsIC4uLm9wdGlvbnNUb0NvcHkgfSA9IHRleHR1cmUub3B0aW9uc1xyXG4gICAgLy8gdGhpcy5vcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMsIC4uLm9wdGlvbnNUb0NvcHkgfVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID0gdGV4dHVyZS5vcHRpb25zLnNvdXJjZVR5cGVcclxuXHJcbiAgICAvLyBUT0RPIGJldHRlciB3YXkgdG8gZG8gdGhhdD9cclxuICAgIHRoaXMub3B0aW9ucy5nZW5lcmF0ZU1pcHMgPSB0ZXh0dXJlLm9wdGlvbnMuZ2VuZXJhdGVNaXBzXHJcbiAgICB0aGlzLm9wdGlvbnMuZmxpcFkgPSB0ZXh0dXJlLm9wdGlvbnMuZmxpcFlcclxuICAgIHRoaXMub3B0aW9ucy5mb3JtYXQgPSB0ZXh0dXJlLm9wdGlvbnMuZm9ybWF0XHJcbiAgICB0aGlzLm9wdGlvbnMucHJlbXVsdGlwbGllZEFscGhhID0gdGV4dHVyZS5vcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYVxyXG4gICAgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyQ29sb3IgPSB0ZXh0dXJlLm9wdGlvbnMucGxhY2Vob2xkZXJDb2xvclxyXG4gICAgdGhpcy5vcHRpb25zLnVzZUV4dGVybmFsVGV4dHVyZXMgPSB0ZXh0dXJlLm9wdGlvbnMudXNlRXh0ZXJuYWxUZXh0dXJlc1xyXG5cclxuICAgIHRoaXMuc291cmNlTG9hZGVkID0gdGV4dHVyZS5zb3VyY2VMb2FkZWRcclxuICAgIHRoaXMuc291cmNlVXBsb2FkZWQgPSB0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkXHJcblxyXG4gICAgLy8gVE9ETyBleHRlcm5hbCB0ZXh0dXJlP1xyXG4gICAgaWYgKHRleHR1cmUudGV4dHVyZSkge1xyXG4gICAgICBpZiAodGV4dHVyZS5zb3VyY2VMb2FkZWQpIHtcclxuICAgICAgICB0aGlzLnNpemUgPSB0ZXh0dXJlLnNpemVcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRleHR1cmUuc291cmNlXHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplKClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRleHR1cmUuc291cmNlVXBsb2FkZWQpIHtcclxuICAgICAgICAvLyB0ZXh0dXJlIHRvIGNvcHkgaXMgcmVhZHksIHVwZGF0ZSBvdXIgdGV4dHVyZSBhbmQgYmluZGluZ1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUudGV4dHVyZVxyXG4gICAgICAgIHRoaXMudGV4dHVyZUJpbmRpbmcucmVzb3VyY2UgPSB0aGlzLnRleHR1cmVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayB0ZXh0dXJlIHwgR1BVIHRleHR1cmV9XHJcbiAgICovXHJcbiAgY3JlYXRlVGV4dHVyZSgpIHtcclxuICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwsXHJcbiAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLmZvcm1hdCxcclxuICAgICAgc2l6ZTogW3RoaXMuc2l6ZS53aWR0aCwgdGhpcy5zaXplLmhlaWdodCwgdGhpcy5zaXplLmRlcHRoXSwgLy8gWzEsIDFdIGlmIG5vIHNvdXJjZVxyXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzFkJyA/ICcxZCcgOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzNkJyA/ICczZCcgOiAnMmQnLFxyXG4gICAgICAvL3NhbXBsZUNvdW50OiB0aGlzLnNvdXJjZSA/IHRoaXMucmVuZGVyZXIuc2FtcGxlQ291bnQgOiAxLFxyXG4gICAgICB1c2FnZTogISF0aGlzLnNvdXJjZVxyXG4gICAgICAgID8gR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCB8IEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVFxyXG4gICAgICAgIDogR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcclxuICAgIH0gYXMgR1BVVGV4dHVyZURlc2NyaXB0b3JcclxuXHJcbiAgICBpZiAodGhpcy5vcHRpb25zLnNvdXJjZVR5cGUgIT09ICdleHRlcm5hbFZpZGVvJykge1xyXG4gICAgICBvcHRpb25zLm1pcExldmVsQ291bnQgPSB0aGlzLm9wdGlvbnMuZ2VuZXJhdGVNaXBzID8gdGhpcy5nZXROdW1NaXBMZXZlbHModGhpcy5zaXplLndpZHRoLCB0aGlzLnNpemUuaGVpZ2h0KSA6IDFcclxuXHJcbiAgICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXHJcblxyXG4gICAgICB0aGlzLnRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHR1cmUob3B0aW9ucylcclxuXHJcbiAgICAgIC8vIHVwZGF0ZSB0ZXh0dXJlIGJpbmRpbmdcclxuICAgICAgdGhpcy50ZXh0dXJlQmluZGluZy5yZXNvdXJjZSA9IHRoaXMudGV4dHVyZVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyogU09VUkNFUyAqL1xyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBzaXplfSBiYXNlZCBvbiB0aGUge0BsaW5rIHNvdXJjZX1cclxuICAgKi9cclxuICBzZXRTb3VyY2VTaXplKCkge1xyXG4gICAgdGhpcy5zaXplID0ge1xyXG4gICAgICB3aWR0aDpcclxuICAgICAgICAodGhpcy5zb3VyY2UgYXMgSFRNTEltYWdlRWxlbWVudCkubmF0dXJhbFdpZHRoIHx8XHJcbiAgICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxDYW52YXNFbGVtZW50KS53aWR0aCB8fFxyXG4gICAgICAgICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS52aWRlb1dpZHRoLFxyXG4gICAgICBoZWlnaHQ6XHJcbiAgICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxJbWFnZUVsZW1lbnQpLm5hdHVyYWxIZWlnaHQgfHxcclxuICAgICAgICAodGhpcy5zb3VyY2UgYXMgSFRNTENhbnZhc0VsZW1lbnQpLmhlaWdodCB8fFxyXG4gICAgICAgICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS52aWRlb0hlaWdodCxcclxuICAgICAgZGVwdGg6IDEsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGFuIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSBmcm9tIGEgVVJMIGFuZCBjcmVhdGUgYW4ge0BsaW5rIEltYWdlQml0bWFwfSB0byB1c2UgYXMgYSB7QGxpbmsgc291cmNlfVxyXG4gICAqIEBhc3luY1xyXG4gICAqIEBwYXJhbSB1cmwgLSBVUkwgb2YgdGhlIGltYWdlIHRvIGxvYWRcclxuICAgKiBAcmV0dXJucyAtIHRoZSBuZXdseSBjcmVhdGVkIHtAbGluayBJbWFnZUJpdG1hcH1cclxuICAgKi9cclxuICBhc3luYyBsb2FkSW1hZ2VCaXRtYXAodXJsOiBzdHJpbmcpOiBQcm9taXNlPEltYWdlQml0bWFwPiB7XHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwpXHJcbiAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzLmJsb2IoKVxyXG4gICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGJsb2IsIHsgY29sb3JTcGFjZUNvbnZlcnNpb246ICdub25lJyB9KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9hZCBhbmQgY3JlYXRlIGFuIHtAbGluayBJbWFnZUJpdG1hcH0gZnJvbSBhIFVSTCBvciB7QGxpbmsgSFRNTEltYWdlRWxlbWVudH0sIHVzZSBpdCBhcyBhIHtAbGluayBzb3VyY2V9IGFuZCBjcmVhdGUgdGhlIHtAbGluayBHUFVUZXh0dXJlfVxyXG4gICAqIEBhc3luY1xyXG4gICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgaW1hZ2UgVVJMIG9yIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSB0byBsb2FkXHJcbiAgICogQHJldHVybnMgLSB0aGUgbmV3bHkgY3JlYXRlZCB7QGxpbmsgSW1hZ2VCaXRtYXB9XHJcbiAgICovXHJcbiAgYXN5bmMgbG9hZEltYWdlKHNvdXJjZTogc3RyaW5nIHwgSFRNTEltYWdlRWxlbWVudCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgdXJsID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgPyBzb3VyY2UgOiBzb3VyY2UuZ2V0QXR0cmlidXRlKCdzcmMnKVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2UgPSB1cmxcclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID0gJ2ltYWdlJ1xyXG5cclxuICAgIGNvbnN0IGNhY2hlZFRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVzLmZpbmQoKHQpID0+IHQub3B0aW9ucy5zb3VyY2UgPT09IHVybClcclxuICAgIGlmIChjYWNoZWRUZXh0dXJlICYmIGNhY2hlZFRleHR1cmUudGV4dHVyZSAmJiBjYWNoZWRUZXh0dXJlLnNvdXJjZVVwbG9hZGVkKSB7XHJcbiAgICAgIHRoaXMuY29weShjYWNoZWRUZXh0dXJlKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IGF3YWl0IHRoaXMubG9hZEltYWdlQml0bWFwKHRoaXMub3B0aW9ucy5zb3VyY2UpXHJcblxyXG4gICAgdGhpcy5zZXRTb3VyY2VTaXplKClcclxuICAgIHRoaXMucmVzaXplKClcclxuXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IHRydWVcclxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXHJcbiAgfVxyXG5cclxuICAvLyB3ZWlybGR5IGVub3VnaCwgd2UgZG9uJ3QgaGF2ZSB0byBkbyBhbnl0aGluZyBpbiB0aGF0IGNhbGxiYWNrXHJcbiAgLy8gYmVjYXVzZSB0aGUgPHZpZGVvPiBpcyBub3QgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQsIHRoZSB2aWRlbyBwbGF5YmFjayBpcyB0aHJvdHRsZWRcclxuICAvLyBhbmQgdGhlIHJlbmRlcmluZyBpcyBqYW5reVxyXG4gIC8vIHVzaW5nIHJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2sgaGVscHMgcHJldmVudGluZyB0aGlzIGJ1dCBpcyB1bnN1cHBvcnRlZCBpbiBGaXJlZm94IGF0IHRoZSBtb21lbnRcclxuICAvLyBXZWJDb2RlY3MgbWF5IGJlIHRoZSB3YXkgdG8gZ28gd2hlbiB0aW1lIGNvbWVzIVxyXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy9uZXctaW4td2ViZ3B1LTExMy8jdXNlLXdlYmNvZGVjcy12aWRlb2ZyYW1lLXNvdXJjZS1pbi1pbXBvcnRleHRlcm5hbHRleHR1cmVcclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBzaG91bGRVcGRhdGV9IGZsYWcgdG8gdHJ1ZSBhdCBlYWNoIG5ldyB2aWRlbyBmcmFtZVxyXG4gICAqL1xyXG4gIG9uVmlkZW9GcmFtZUNhbGxiYWNrKCkge1xyXG4gICAgaWYgKHRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQpIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICAgIDsodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayh0aGlzLm9uVmlkZW9GcmFtZUNhbGxiYWNrLmJpbmQodGhpcykpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxsYmFjayB0byBydW4gd2hlbiBhIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBoYXMgbG9hZGVkICh3aGVuIGl0IGhhcyBlbm91Z2ggZGF0YSB0byBwbGF5KS5cclxuICAgKiBTZXQgdGhlIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSBhcyBhIHtAbGluayBzb3VyY2V9IGFuZCBjcmVhdGUgdGhlIHtAbGluayBHUFVUZXh0dXJlfSBvciB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfVxyXG4gICAqIEBwYXJhbSB2aWRlbyAtIHRoZSBuZXdseSBsb2FkZWQge0BsaW5rIEhUTUxWaWRlb0VsZW1lbnR9XHJcbiAgICovXHJcbiAgb25WaWRlb0xvYWRlZCh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCkge1xyXG4gICAgaWYgKCF0aGlzLnNvdXJjZUxvYWRlZCkge1xyXG4gICAgICB0aGlzLnNvdXJjZSA9IHZpZGVvXHJcblxyXG4gICAgICB0aGlzLnNldFNvdXJjZVNpemUoKVxyXG4gICAgICB0aGlzLnJlc2l6ZSgpXHJcblxyXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnVzZUV4dGVybmFsVGV4dHVyZXMpIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICdleHRlcm5hbFZpZGVvJ1xyXG5cclxuICAgICAgICAvLyB0ZXh0dXJlIGJpbmRpbmcgd2lsbCBiZSBzZXQgd2hlbiB1cGxvYWRpbmcgZXh0ZXJuYWwgdGV4dHVyZVxyXG4gICAgICAgIC8vIG1lYW53aGlsZSwgZGVzdHJveSBwcmV2aW91cyB0ZXh0dXJlXHJcbiAgICAgICAgdGhpcy50ZXh0dXJlPy5kZXN0cm95KClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICd2aWRlbydcclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoJ3JlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2snIGluIEhUTUxWaWRlb0VsZW1lbnQucHJvdG90eXBlKSB7XHJcbiAgICAgICAgdGhpcy52aWRlb0ZyYW1lQ2FsbGJhY2tJZCA9ICh0aGlzLnNvdXJjZSBhcyBIVE1MVmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKFxyXG4gICAgICAgICAgdGhpcy5vblZpZGVvRnJhbWVDYWxsYmFjay5iaW5kKHRoaXMpXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIHRoZSB7QGxpbmsgc291cmNlfSBpcyBhIHZpZGVvXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IGlzVmlkZW9Tb3VyY2UoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UgJiYgKHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAndmlkZW8nIHx8IHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGEgdmlkZW8gZnJvbSBhIFVSTCBvciB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudH0gYW5kIHJlZ2lzdGVyIHtAbGluayBvblZpZGVvTG9hZGVkfSBjYWxsYmFja1xyXG4gICAqIEBwYXJhbSBzb3VyY2UgLSB0aGUgdmlkZW8gVVJMIG9yIHtAbGluayBIVE1MVmlkZW9FbGVtZW50fSB0byBsb2FkXHJcbiAgICovXHJcbiAgbG9hZFZpZGVvKHNvdXJjZTogc3RyaW5nIHwgSFRNTFZpZGVvRWxlbWVudCkge1xyXG4gICAgbGV0IHZpZGVvXHJcblxyXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKVxyXG4gICAgICB2aWRlby5zcmMgPSBzb3VyY2VcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZpZGVvID0gc291cmNlXHJcbiAgICB9XHJcblxyXG4gICAgdmlkZW8ucHJlbG9hZCA9ICdhdXRvJ1xyXG4gICAgdmlkZW8ubXV0ZWQgPSB0cnVlXHJcbiAgICB2aWRlby5sb29wID0gdHJ1ZVxyXG4gICAgdmlkZW8uY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJ1xyXG4gICAgdmlkZW8uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKVxyXG5cclxuICAgIHRoaXMub3B0aW9ucy5zb3VyY2UgPSB2aWRlby5zcmNcclxuICAgIHRoaXMuc291cmNlTG9hZGVkID0gZmFsc2VcclxuICAgIHRoaXMuc291cmNlVXBsb2FkZWQgPSBmYWxzZVxyXG5cclxuICAgIC8vIElmIHRoZSB2aWRlbyBpcyBpbiB0aGUgY2FjaGUgb2YgdGhlIGJyb3dzZXIsXHJcbiAgICAvLyB0aGUgJ2NhbnBsYXl0aHJvdWdoJyBldmVudCBtaWdodCBoYXZlIGJlZW4gdHJpZ2dlcmVkXHJcbiAgICAvLyBiZWZvcmUgd2UgcmVnaXN0ZXJlZCB0aGUgZXZlbnQgaGFuZGxlci5cclxuICAgIGlmICh2aWRlby5yZWFkeVN0YXRlID49IHZpZGVvLkhBVkVfRU5PVUdIX0RBVEEpIHtcclxuICAgICAgdGhpcy5vblZpZGVvTG9hZGVkKHZpZGVvKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLm9uVmlkZW9Mb2FkZWQuYmluZCh0aGlzLCB2aWRlbyksIHtcclxuICAgICAgICBvbmNlOiB0cnVlLFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIGR1cmF0aW9uIGlzIG5vdCBhdmFpbGFibGUsIHNob3VsZCBtZWFuIG91ciB2aWRlbyBoYXMgbm90IHN0YXJ0ZWQgbG9hZGluZ1xyXG4gICAgaWYgKGlzTmFOKHZpZGVvLmR1cmF0aW9uKSkge1xyXG4gICAgICB2aWRlby5sb2FkKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWQgYSB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9LCB1c2UgaXQgYXMgYSB7QGxpbmsgc291cmNlfSBhbmQgY3JlYXRlIHRoZSB7QGxpbmsgR1BVVGV4dHVyZX1cclxuICAgKiBAcGFyYW0gc291cmNlIC0gdGhlIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gdG8gdXNlXHJcbiAgICovXHJcbiAgbG9hZENhbnZhcyhzb3VyY2U6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICB0aGlzLm9wdGlvbnMuc291cmNlID0gc291cmNlXHJcbiAgICB0aGlzLm9wdGlvbnMuc291cmNlVHlwZSA9ICdjYW52YXMnXHJcbiAgICB0aGlzLnNvdXJjZUxvYWRlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcclxuXHJcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZVxyXG5cclxuICAgIHRoaXMuc2V0U291cmNlU2l6ZSgpXHJcbiAgICB0aGlzLnJlc2l6ZSgpXHJcblxyXG4gICAgdGhpcy5zb3VyY2VMb2FkZWQgPSB0cnVlXHJcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gIH1cclxuXHJcbiAgLyogRVZFTlRTICovXHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgc291cmNlfSBoYXMgYmVlbiBsb2FkZWRcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB0aGUge0BsaW5rIHNvdXJjZX0gaGFzIGJlZW4gbG9hZGVkXHJcbiAgICogQHJldHVybnMgLSBvdXIge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgb25Tb3VyY2VMb2FkZWQoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBUZXh0dXJlIHtcclxuICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICB0aGlzLl9vblNvdXJjZUxvYWRlZENhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBzb3VyY2V9IGhhcyBiZWVuIHVwbG9hZGVkXHJcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBzb3VyY2V9IGJlZW4gdXBsb2FkZWRcclxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgVGV4dHVyZX1cclxuICAgKi9cclxuICBvblNvdXJjZVVwbG9hZGVkKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogVGV4dHVyZSB7XHJcbiAgICBpZiAoY2FsbGJhY2spIHtcclxuICAgICAgdGhpcy5fb25Tb3VyY2VVcGxvYWRlZENhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyogUkVOREVSICovXHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbmRlciBhIHtAbGluayBUZXh0dXJlfTpcclxuICAgKiAtIFVwZGF0ZSBpdHMge0BsaW5rIG1vZGVsTWF0cml4fSBhbmQge0BsaW5rIGJpbmRpbmdzfSBpZiBuZWVkZWRcclxuICAgKiAtIFVwbG9hZCB0aGUgdGV4dHVyZSBpZiBpdCBuZWVkcyB0byBiZSBkb25lXHJcbiAgICovXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgLy8gdXBkYXRlIG91ciBtb2RlbCBtYXRyaXggaWYgbmVlZGVkXHJcbiAgICB0aGlzLnVwZGF0ZU1hdHJpeFN0YWNrKClcclxuXHJcbiAgICAvLyB1cGRhdGUgdW5pZm9ybXMgdmFsdWVzXHJcbiAgICB0aGlzLnRleHR1cmVNYXRyaXgudXBkYXRlKClcclxuXHJcbiAgICAvLyBzaW5jZSBleHRlcm5hbCB0ZXh0dXJlIGFyZSBkZXN0cm95ZWQgYXMgc29vbiBhcyBKYXZhU2NyaXB0IHJldHVybnMgdG8gdGhlIGJyb3dzZXJcclxuICAgIC8vIHdlIG5lZWQgdG8gdXBkYXRlIGl0IGF0IGV2ZXJ5IHRpY2ssIGV2ZW4gaWYgaXQgaGFzbid0IGNoYW5nZWRcclxuICAgIC8vIHRvIGVuc3VyZSB3ZSdyZSBub3Qgc2VuZGluZyBhIHN0YWxlIC8gZGVzdHJveWVkIHRleHR1cmVcclxuICAgIC8vIGFueXdheSwgZXh0ZXJuYWwgdGV4dHVyZSBhcmUgY2FjaGVkIHNvIGl0IGlzIGZpbmVkIHRvIGNhbGwgaW1wb3J0RXh0ZXJuYWxUZXh0dXJlIGF0IGVhY2ggdGlja1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlID09PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgbm8gdmlkZW9GcmFtZUNhbGxiYWNrIGNoZWNrIGlmIHRoZSB2aWRlbyBpcyBhY3R1YWxseSByZWFsbHkgcGxheWluZ1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLmlzVmlkZW9Tb3VyY2UgJiZcclxuICAgICAgIXRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQgJiZcclxuICAgICAgKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnJlYWR5U3RhdGUgPj0gKHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLkhBVkVfQ1VSUkVOVF9EQVRBICYmXHJcbiAgICAgICEodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkucGF1c2VkXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlICYmIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlICYmIHRoaXMub3B0aW9ucy5zb3VyY2VUeXBlICE9PSAnZXh0ZXJuYWxWaWRlbycpIHtcclxuICAgICAgdGhpcy51cGxvYWRUZXh0dXJlKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qIERFU1RST1kgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSB0aGUge0BsaW5rIFRleHR1cmV9XHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIGlmICh0aGlzLnZpZGVvRnJhbWVDYWxsYmFja0lkKSB7XHJcbiAgICAgIDsodGhpcy5zb3VyY2UgYXMgSFRNTFZpZGVvRWxlbWVudCkuY2FuY2VsVmlkZW9GcmFtZUNhbGxiYWNrKHRoaXMudmlkZW9GcmFtZUNhbGxiYWNrSWQpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNWaWRlb1NvdXJjZSkge1xyXG4gICAgICA7KHRoaXMuc291cmNlIGFzIEhUTUxWaWRlb0VsZW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgJ2NhbnBsYXl0aHJvdWdoJyxcclxuICAgICAgICB0aGlzLm9uVmlkZW9Mb2FkZWQuYmluZCh0aGlzLCB0aGlzLnNvdXJjZSksXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgb25jZTogdHJ1ZSxcclxuICAgICAgICB9IGFzIEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zICYgRXZlbnRMaXN0ZW5lck9wdGlvbnNcclxuICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlVGV4dHVyZSh0aGlzKVxyXG5cclxuICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXHJcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4vQmluZEdyb3VwJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBTYW1wbGVyIH0gZnJvbSAnLi4vc2FtcGxlcnMvU2FtcGxlcidcbmltcG9ydCB7IEJpbmRHcm91cFBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXG5pbXBvcnQgeyBNYXRlcmlhbFRleHR1cmUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5cbi8qKlxuICogQW4gb2JqZWN0IGRlZmluaW5nIGFsbCBwb3NzaWJsZSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cH0gY2xhc3MgaW5zdGFuY2luZyBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dHVyZUJpbmRHcm91cFBhcmFtcyBleHRlbmRzIEJpbmRHcm91cFBhcmFtcyB7XG4gIC8qKiBhcnJheSBvZiB7QGxpbmsgTWF0ZXJpYWxUZXh0dXJlIHwgdGV4dHVyZXN9IHRvIGFkZCB0byBhIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSAqL1xuICB0ZXh0dXJlcz86IE1hdGVyaWFsVGV4dHVyZVtdXG4gIC8qKiBhcnJheSBvZiB7QGxpbmsgU2FtcGxlcn0gdG8gYWRkIHRvIGEge0BsaW5rIFRleHR1cmVCaW5kR3JvdXB9ICovXG4gIHNhbXBsZXJzPzogU2FtcGxlcltdXG59XG5cbi8qKlxuICogVXNlZCB0byByZWdyb3VwIGFsbCB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IGJpbmRpbmdzfSByZWxhdGVkIHRvIHRleHR1cmVzICh0ZXh0dXJlLCB0ZXh0dXJlIG1hdHJpY2VzIGJ1ZmZlcnMgYW5kIHNhbXBsZXJzKSBpbnRvIG9uZSBzaW5nbGUgc3BlY2lmaWMge0BsaW5rIEJpbmRHcm91cH0uXG4gKlxuICogQWxzbyByZXNwb25zaWJsZSBmb3IgdXBsb2FkaW5nIHZpZGVvIHRleHR1cmVzIGlmIG5lZWRlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXG4gKiBjb25zdCBncHVDdXJ0YWlucyA9IG5ldyBHUFVDdXJ0YWlucyh7XG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxuICogfSlcbiAqXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcbiAqIGF3YWl0IGdwdUN1cnRhaW5zLnNldERldmljZSgpXG4gKlxuICogLy8gY3JlYXRlIGEgcmVuZGVyIHRleHR1cmVcbiAqIGNvbnN0IHJlbmRlclRleHR1cmUgPSBuZXcgUmVuZGVyVGV4dHVyZShncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ0lucHV0IHRleHR1cmUnLFxuICogICBuYW1lOiAnaW5wdXRUZXh0dXJlJyxcbiAqIH0pXG4gKlxuICogLy8gY3JlYXRlIGEgdGV4dHVyZSBiaW5kIGdyb3VwIHVzaW5nIHRoYXQgcmVuZGVyIHRleHR1cmVcbiAqIGNvbnN0IHRleHR1cmVCaW5kR3JvdXAgPSBuZXcgVGV4dHVyZUJpbmRHcm91cChncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ015IHRleHR1cmUgYmluZCBncm91cCcsXG4gKiAgIHRleHR1cmVzOiBbcmVuZGVyVGV4dHVyZV0sXG4gKiAgIHVuaWZvcm1zOiB7XG4gKiAgICAgcGFyYW1zOiB7XG4gKiAgICAgICBzdHJ1Y3Q6IHtcbiAqICAgICAgICAgb3BhY2l0eToge1xuICogICAgICAgICAgIHR5cGU6ICdmMzInLFxuICogICAgICAgICAgIHZhbHVlOiAxLFxuICogICAgICAgICB9LFxuICogICAgICAgICBtb3VzZVBvc2l0aW9uOiB7XG4gKiAgICAgICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAqICAgICAgICAgICB2YWx1ZTogbmV3IFZlYzIoKSxcbiAqICAgICAgICAgfSxcbiAqICAgICAgIH0sXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqIH0pXG4gKlxuICogLy8gY3JlYXRlIHRoZSBHUFUgYnVmZmVyLCBiaW5kR3JvdXBMYXlvdXQgYW5kIGJpbmRHcm91cFxuICogdGV4dHVyZUJpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXh0dXJlQmluZEdyb3VwIGV4dGVuZHMgQmluZEdyb3VwIHtcbiAgLyoqXG4gICAqIFRleHR1cmVCaW5kR3JvdXAgY29uc3RydWN0b3JcbiAgICogQHBhcmFtICByZW5kZXJlciAtIGEge0BsaW5rIFJlbmRlcmVyfSBjbGFzcyBvYmplY3Qgb3IgYSB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBUZXh0dXJlQmluZEdyb3VwUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXG4gICAgeyBsYWJlbCwgaW5kZXggPSAwLCBiaW5kaW5ncyA9IFtdLCB1bmlmb3Jtcywgc3RvcmFnZXMsIHRleHR1cmVzID0gW10sIHNhbXBsZXJzID0gW10gfTogVGV4dHVyZUJpbmRHcm91cFBhcmFtcyA9IHt9XG4gICkge1xuICAgIGNvbnN0IHR5cGUgPSAnVGV4dHVyZUJpbmRHcm91cCdcblxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdHlwZSlcblxuICAgIHN1cGVyKHJlbmRlcmVyLCB7IGxhYmVsLCBpbmRleCwgYmluZGluZ3MsIHVuaWZvcm1zLCBzdG9yYWdlcyB9KVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgLy8gd2lsbCBiZSBmaWxsZWQgYWZ0ZXJcbiAgICAgIHRleHR1cmVzOiBbXSxcbiAgICAgIHNhbXBsZXJzOiBbXSxcbiAgICB9XG5cbiAgICAvLyBhZGQgaW5pdGlhbCB0ZXh0dXJlcyBpZiBhbnlcbiAgICBpZiAodGV4dHVyZXMubGVuZ3RoKSB7XG4gICAgICB0ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSkpXG4gICAgfVxuXG4gICAgLy8gYWRkIGluaXRpYWwgc2FtcGxlcnMgaWYgYW55XG4gICAgaWYgKHNhbXBsZXJzLmxlbmd0aCkge1xuICAgICAgc2FtcGxlcnMuZm9yRWFjaCgoc2FtcGxlcikgPT4gdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpKVxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgdGV4dHVyZSB0byB0aGUgdGV4dHVyZXMgYXJyYXkgYW5kIHRoZSBzdHJ1Y3RcbiAgICogQHBhcmFtIHRleHR1cmUgLSB0ZXh0dXJlIHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBNYXRlcmlhbFRleHR1cmUpIHtcbiAgICB0aGlzLnRleHR1cmVzLnB1c2godGV4dHVyZSlcbiAgICB0aGlzLmFkZEJpbmRpbmdzKFsuLi50ZXh0dXJlLmJpbmRpbmdzXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgdGV4dHVyZXMgYXJyYXlcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXMoKTogTWF0ZXJpYWxUZXh0dXJlW10ge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMudGV4dHVyZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc2FtcGxlciB0byB0aGUgc2FtcGxlcnMgYXJyYXkgYW5kIHRoZSBzdHJ1Y3RcbiAgICogQHBhcmFtIHNhbXBsZXJcbiAgICovXG4gIGFkZFNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuc2FtcGxlcnMucHVzaChzYW1wbGVyKVxuICAgIHRoaXMuYWRkQmluZGluZ3MoW3NhbXBsZXIuYmluZGluZ10pXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHNhbXBsZXJzIGFycmF5XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNhbXBsZXJzKCk6IFNhbXBsZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zYW1wbGVyc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSBHUFUgYmluZCBncm91cCBpcyByZWFkeSB0byBiZSBjcmVhdGVkXG4gICAqIEl0IGNhbiBiZSBjcmVhdGVkIGlmIGl0IGhhcyB7QGxpbmsgQmluZEdyb3VwI2JpbmRpbmdzfSBhbmQgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0IGFuZCBhbGwgR1BVIHRleHR1cmVzIGFuZCBzYW1wbGVycyBhcmUgY3JlYXRlZFxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzaG91bGRDcmVhdGVCaW5kR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICF0aGlzLmJpbmRHcm91cCAmJlxuICAgICAgISF0aGlzLmJpbmRpbmdzLmxlbmd0aCAmJlxuICAgICAgIXRoaXMudGV4dHVyZXMuZmluZCgodGV4dHVyZSkgPT4gISh0ZXh0dXJlLnRleHR1cmUgfHwgKHRleHR1cmUgYXMgVGV4dHVyZSkuZXh0ZXJuYWxUZXh0dXJlKSkgJiZcbiAgICAgICF0aGlzLnNhbXBsZXJzLmZpbmQoKHNhbXBsZXIpID0+ICFzYW1wbGVyLnNhbXBsZXIpXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAjdGV4dHVyZXMgfCBiaW5kIGdyb3VwIHRleHR1cmVzfTpcbiAgICogLSBDaGVjayBpZiB0aGV5IG5lZWQgdG8gY29weSB0aGVpciBzb3VyY2UgdGV4dHVyZVxuICAgKiAtIFVwbG9hZCB2aWRlbyB0ZXh0dXJlIGlmIG5lZWRlZFxuICAgKi9cbiAgdXBkYXRlVGV4dHVyZXMoKSB7XG4gICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlLCB0ZXh0dXJlSW5kZXgpID0+IHtcbiAgICAgIC8vIGNvcHkgdGV4dHVyZXMgdGhhdCBuZWVkIGl0IG9uIGZpcnN0IGluaXQsIGJ1dCBvbmx5IHdoZW4gb3JpZ2luYWwgdGV4dHVyZSBpcyByZWFkeVxuICAgICAgaWYgKHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlLm9wdGlvbnMuZnJvbVRleHR1cmUgJiYgdGV4dHVyZS5vcHRpb25zLmZyb21UZXh0dXJlLnNvdXJjZVVwbG9hZGVkICYmICF0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkKSB7XG4gICAgICAgICAgdGV4dHVyZS5jb3B5KHRleHR1cmUub3B0aW9ucy5mcm9tVGV4dHVyZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnNob3VsZFVwZGF0ZSAmJiB0ZXh0dXJlLm9wdGlvbnMuc291cmNlVHlwZSAmJiB0ZXh0dXJlLm9wdGlvbnMuc291cmNlVHlwZSA9PT0gJ2V4dGVybmFsVmlkZW8nKSB7XG4gICAgICAgICAgdGV4dHVyZS51cGxvYWRWaWRlb1RleHR1cmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSwgd2hpY2ggbWVhbnMgdXBkYXRlIGl0cyB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cCN0ZXh0dXJlcyB8IHRleHR1cmVzfSwgdGhlbiB1cGRhdGUgaXRzIHtAbGluayBUZXh0dXJlQmluZEdyb3VwI2J1ZmZlckJpbmRpbmdzIHwgYnVmZmVyIGJpbmRpbmdzfSBhbmQgZmluYWxseSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cCNyZXNldEJpbmRHcm91cCB8IHJlc2V0IGl0fSBpZiBuZWVkZWRcbiAgICovXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLnVwZGF0ZVRleHR1cmVzKClcbiAgICBzdXBlci51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBzdXBlci5kZXN0cm95KClcbiAgICB0aGlzLm9wdGlvbnMudGV4dHVyZXMgPSBbXVxuICAgIHRoaXMub3B0aW9ucy5zYW1wbGVycyA9IFtdXG4gIH1cbn1cbiIsImltcG9ydCB7IEJpbmRpbmcsIEJpbmRpbmdQYXJhbXMgfSBmcm9tICcuL0JpbmRpbmcnXG5pbXBvcnQgeyBTYW1wbGVyT3B0aW9ucyB9IGZyb20gJy4uL3NhbXBsZXJzL1NhbXBsZXInXG5cbi8qKiBEZWZpbmVzIGEge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSB7QGxpbmsgU2FtcGxlckJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gKi9cbmV4cG9ydCB0eXBlIFNhbXBsZXJCaW5kaW5nUmVzb3VyY2UgPSBHUFVTYW1wbGVyIHwgbnVsbFxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTYW1wbGVyQmluZGluZ1BhcmFtcyBleHRlbmRzIEJpbmRpbmdQYXJhbXMge1xuICAvKioge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSB7QGxpbmsgR1BVQmluZEdyb3VwIHwgR1BVIGJpbmQgZ3JvdXB9IHJlc291cmNlICovXG4gIHNhbXBsZXI6IFNhbXBsZXJCaW5kaW5nUmVzb3VyY2VcbiAgLyoqIFRoZSBiaW5kIGdyb3VwIGxheW91dCBiaW5kaW5nIHtAbGluayBHUFVTYW1wbGVyQmluZGluZ0xheW91dCN0eXBlIHwgdHlwZX0gb2YgdGhpcyB7QGxpbmsgR1BVU2FtcGxlciB8IEdQVSBzYW1wbGVyfSAqL1xuICB0eXBlOiBTYW1wbGVyT3B0aW9uc1sndHlwZSddXG59XG5cbi8qKlxuICogVXNlZCB0byBoYW5kbGUgR1BVU2FtcGxlciBiaW5kaW5ncy5cbiAqXG4gKiBQcm92aWRlIGJvdGgge0BsaW5rIFNhbXBsZXJCaW5kaW5nI3Jlc291cmNlTGF5b3V0IHwgcmVzb3VyY2VMYXlvdXR9IGFuZCB7QGxpbmsgU2FtcGxlckJpbmRpbmcjcmVzb3VyY2UgfCByZXNvdXJjZX0gdG8gdGhlIHtAbGluayBHUFVCaW5kR3JvdXBMYXlvdXR9IGFuZCB7QGxpbmsgR1BVQmluZEdyb3VwfS48YnI+XG4gKiBBbHNvIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgV0dTTCBjb2RlIHNuaXBwZXQgdG8gYWRkIHRvIHRoZSBzaGFkZXJzLlxuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlckJpbmRpbmcgZXh0ZW5kcyBCaW5kaW5nIHtcbiAgLyoqIE91ciB7QGxpbmsgU2FtcGxlckJpbmRpbmd9IHJlc291cmNlLCBpLmUuIGEge0BsaW5rIEdQVVNhbXBsZXJ9ICovXG4gIHNhbXBsZXI6IFNhbXBsZXJCaW5kaW5nUmVzb3VyY2VcbiAgLyoqIEFuIGFycmF5IG9mIHN0cmluZ3MgdG8gYXBwZW5kIHRvIG91ciBzaGFkZXJzIGNvZGUgZGVjbGFyaW5nIGFsbCB0aGUgV0dTTCB2YXJpYWJsZXMgcmVwcmVzZW50aW5nIHRoaXMge0BsaW5rIFNhbXBsZXJCaW5kaW5nfSAqL1xuICB3Z3NsR3JvdXBGcmFnbWVudDogc3RyaW5nW11cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgU2FtcGxlckJpbmRpbmd9ICovXG4gIG9wdGlvbnM6IFNhbXBsZXJCaW5kaW5nUGFyYW1zXG5cbiAgLyoqXG4gICAqIFNhbXBsZXJCaW5kaW5nIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFNhbXBsZXJCaW5kaW5nUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIFNhbXBsZXJCaW5kaW5nc1xuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGxhYmVsID0gJ1NhbXBsZXInLFxuICAgIG5hbWUgPSAnc2FtcGxlcicsXG4gICAgYmluZGluZ1R5cGUsXG4gICAgdmlzaWJpbGl0eSxcbiAgICBzYW1wbGVyLFxuICAgIHR5cGUgPSAnZmlsdGVyaW5nJyxcbiAgfTogU2FtcGxlckJpbmRpbmdQYXJhbXMpIHtcbiAgICBiaW5kaW5nVHlwZSA9IGJpbmRpbmdUeXBlID8/ICdzYW1wbGVyJ1xuXG4gICAgc3VwZXIoeyBsYWJlbCwgbmFtZSwgYmluZGluZ1R5cGUsIHZpc2liaWxpdHkgfSlcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIHNhbXBsZXIsXG4gICAgICB0eXBlLFxuICAgIH1cblxuICAgIHRoaXMucmVzb3VyY2UgPSBzYW1wbGVyIC8vIHNob3VsZCBiZSBhIHNhbXBsZXJcblxuICAgIHRoaXMuc2V0V0dTTEZyYWdtZW50KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQge0BsaW5rIEdQVUJpbmRHcm91cExheW91dEVudHJ5I3NhbXBsZXIgfCBiaW5kIGdyb3VwIGxheW91dCBlbnRyeSByZXNvdXJjZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVzb3VyY2VMYXlvdXQoKToge1xuICAgIC8qKiB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0IHwgYmluZCBncm91cCBsYXlvdXR9IHJlc291cmNlICovXG4gICAgc2FtcGxlcjogR1BVU2FtcGxlckJpbmRpbmdMYXlvdXRcbiAgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNhbXBsZXI6IHtcbiAgICAgICAgdHlwZTogdGhpcy5vcHRpb25zLnR5cGUsIC8vIFRPRE8gc2V0IHNob3VsZFJlc2V0QmluZEdyb3VwTGF5b3V0IHRvIHRydWUgaWYgaXQgY2hhbmdlcyBhZnRlcndhcmRzXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBHUFVCaW5kR3JvdXBFbnRyeSNyZXNvdXJjZSB8IGJpbmQgZ3JvdXAgcmVzb3VyY2V9XG4gICAqL1xuICBnZXQgcmVzb3VyY2UoKTogU2FtcGxlckJpbmRpbmdSZXNvdXJjZSB7XG4gICAgcmV0dXJuIHRoaXMuc2FtcGxlclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIEdQVUJpbmRHcm91cEVudHJ5I3Jlc291cmNlIHwgYmluZCBncm91cCByZXNvdXJjZX1cbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IGJpbmQgZ3JvdXAgcmVzb3VyY2VcbiAgICovXG4gIHNldCByZXNvdXJjZSh2YWx1ZTogU2FtcGxlckJpbmRpbmdSZXNvdXJjZSkge1xuICAgIC8vIHJlc291cmNlIGNoYW5nZWQsIHVwZGF0ZSBiaW5kIGdyb3VwIVxuICAgIGlmICh2YWx1ZSAmJiB0aGlzLnNhbXBsZXIpIHRoaXMuc2hvdWxkUmVzZXRCaW5kR3JvdXAgPSB0cnVlXG4gICAgdGhpcy5zYW1wbGVyID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGNvcnJlY3QgV0dTTCBjb2RlIHNuaXBwZXQuXG4gICAqL1xuICBzZXRXR1NMRnJhZ21lbnQoKSB7XG4gICAgdGhpcy53Z3NsR3JvdXBGcmFnbWVudCA9IFtgdmFyICR7dGhpcy5uYW1lfTogJHt0aGlzLmJpbmRpbmdUeXBlfTtgXVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXQ0IH0gZnJvbSAnLi4vLi4vbWF0aC9NYXQ0J1xuaW1wb3J0IHsgT2JqZWN0M0QsIE9iamVjdDNETWF0cmljZXNUeXBlLCBPYmplY3QzRFRyYW5zZm9ybU1hdHJpeCB9IGZyb20gJy4uL29iamVjdHMzRC9PYmplY3QzRCdcbmltcG9ydCB7IFJlY3RTaXplIH0gZnJvbSAnLi4vRE9NL0RPTUVsZW1lbnQnXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xuXG4vKipcbiAqIERlZmluZXMgQ2FtZXJhIGJhc2ljIHBlcnNwZWN0aXZlIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIHtAbGluayBDYW1lcmF9IHBlcnNwZWN0aXZlIGZpZWxkIG9mIHZpZXcuIFNob3VsZCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbG93ZXIgdGhhbiAxODAgKi9cbiAgZm92PzogbnVtYmVyXG4gIC8qKiB7QGxpbmsgQ2FtZXJhfSBuZWFyIHBsYW5lLCB0aGUgY2xvc2VzdCBwb2ludCB3aGVyZSBhIG1lc2ggdmVydGV4IGlzIGRyYXduICovXG4gIG5lYXI/OiBudW1iZXJcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZhciBwbGFuZSwgdGhlIGZhcnRoZXN0IHBvaW50IHdoZXJlIGEgbWVzaCB2ZXJ0ZXggaXMgZHJhd24gKi9cbiAgZmFyPzogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhbGwgQ2FtZXJhIHBlcnNwZWN0aXZlIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYW1lcmFQZXJzcGVjdGl2ZU9wdGlvbnMgZXh0ZW5kcyBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZydXN0dW0gd2lkdGggKi9cbiAgd2lkdGg/OiBudW1iZXJcbiAgLyoqIHtAbGluayBDYW1lcmF9IGZydXN0dW0gaGVpZ2h0ICovXG4gIGhlaWdodD86IG51bWJlclxuICAvKioge0BsaW5rIENhbWVyYX0gcGl4ZWwgcmF0aW8gKi9cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIENhbWVyYX0gY2xhc3MgaW5zdGFuY2luZyBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtZXJhUGFyYW1zIGV4dGVuZHMgQ2FtZXJhUGVyc3BlY3RpdmVPcHRpb25zIHtcbiAgLyoqIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBvbmUgb2YgdGhlIHtAbGluayBDYW1lcmEjbWF0cmljZXMgfCBjYW1lcmEgbWF0cmljZXN9IGNoYW5nZWQgKi9cbiAgb25NYXRyaWNlc0NoYW5nZWQ/OiAoKSA9PiB2b2lkXG59XG5cbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHBvc3NpYmxlIHtAbGluayBjb3JlL29iamVjdHMzRC9Qcm9qZWN0ZWRPYmplY3QzRC5Qcm9qZWN0ZWRPYmplY3QzRCB8IFByb2plY3RlZE9iamVjdDNEfSBtYXRyaXggdHlwZXMgKi9cbmV4cG9ydCB0eXBlIENhbWVyYU9iamVjdDNETWF0cmljZXNUeXBlID0gT2JqZWN0M0RNYXRyaWNlc1R5cGUgfCAncHJvamVjdGlvbicgfCAndmlldydcbi8qKiBEZWZpbmVzIGFsbCBwb3NzaWJsZSB7QGxpbmsgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXggfCBtYXRyaXggb2JqZWN0fSB1c2VkIGJ5IG91ciB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QgfCBQcm9qZWN0ZWRPYmplY3QzRH0gKi9cbmV4cG9ydCB0eXBlIENhbWVyYU9iamVjdDNETWF0cmljZXMgPSBSZWNvcmQ8Q2FtZXJhT2JqZWN0M0RNYXRyaWNlc1R5cGUsIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4PlxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEgcGVyc3BlY3RpdmUge0BsaW5rIENhbWVyYX0gYW5kIGl0cyBwcm9qZWN0aW9uLCBtb2RlbCBhbmQgdmlldyBtYXRyaWNlcy5cbiAqXG4gKiB7QGxpbmsgY3VydGFpbnMvcmVuZGVyZXJzL0dQVUN1cnRhaW5zUmVuZGVyZXIuR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zUmVuZGVyZXJ9IGFuZCB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXIuR1BVQ2FtZXJhUmVuZGVyZXIgfCBHUFVDYW1lcmFSZW5kZXJlcn0gYXV0b21hdGljYWxseSBjcmVhdGUgdGhlaXIgb3duIHtAbGluayBDYW1lcmF9IHVuZGVyIHRoZSBob29kLCBzbyBpdCBpcyB1bmxpa2VseSB5b3UnZCBoYXZlIHRvIGNyZWF0ZSBvbmUgYnkgeW91cnNlbGYuXG4gKlxuICoge0BsaW5rIENhbWVyYX0gZGVmYXVsdCBwZXJzcGVjdGl2ZSBzZXR0aW5ncyBhcmU6XG4gKiAtIHtAbGluayBDYW1lcmEjZm92IHwgZmllbGQgb2Ygdmlld306IDUwXG4gKiAtIHtAbGluayBDYW1lcmEjbmVhciB8IG5lYXIgcGxhbmV9OiAwLjAxXG4gKiAtIHtAbGluayBDYW1lcmEjZmFyIHwgZmFyIHBsYW5lfTogMTUwXG4gKlxuICogQWxzbyBub3RlIHRoYXQgdGhlIHtAbGluayBDYW1lcmF9IGRlZmF1bHQge0BsaW5rIENhbWVyYSNwb3NpdGlvbiB8IHBvc2l0aW9ufSBpcyBzZXQgYXQgYCgwLCAwLCAxMClgIHNvIHRoZSBvYmplY3QgY3JlYXRlZCB3aXRoIGEgZGVmYXVsdCBzaXplIGRvIG5vdCBhcHBlYXIgdG9vIGJpZyBub3IgdG9vIHNtYWxsLlxuICovXG5leHBvcnQgY2xhc3MgQ2FtZXJhIGV4dGVuZHMgT2JqZWN0M0Qge1xuICAvKioge0BsaW5rIENhbWVyYU9iamVjdDNETWF0cmljZXMgfCBNYXRyaWNlcyBvYmplY3R9IG9mIHRoZSB7QGxpbmsgQ2FtZXJhfSAqL1xuICBtYXRyaWNlczogQ2FtZXJhT2JqZWN0M0RNYXRyaWNlc1xuXG4gIC8qKiBQcml2YXRlIHtAbGluayBDYW1lcmF9IGZpZWxkIG9mIHZpZXcgKi9cbiAgI2ZvdjogbnVtYmVyXG4gIC8qKiBQcml2YXRlIHtAbGluayBDYW1lcmF9IG5lYXIgcGxhbmUgKi9cbiAgI25lYXI6IG51bWJlclxuICAvKiogUHJpdmF0ZSB7QGxpbmsgQ2FtZXJhfSBmYXIgcGxhbmUgKi9cbiAgI2ZhcjogbnVtYmVyXG5cbiAgLyoqIFRoZSB7QGxpbmsgQ2FtZXJhfSBmcnVzdHVtIHdpZHRoIGFuZCBoZWlnaHQgKi9cbiAgc2l6ZTogUmVjdFNpemVcbiAgLyoqIFByaXZhdGUge0BsaW5rIENhbWVyYX0gcGl4ZWwgcmF0aW8sIHVzZWQgaW4ge0BsaW5rIENTU1BlcnNwZWN0aXZlfSBjYWxjcyAqL1xuICAjcGl4ZWxSYXRpbzogbnVtYmVyXG5cbiAgLyoqIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBvbmUgb2YgdGhlIGNhbWVyYSB7QGxpbmsgbWF0cmljZXN9IGNoYW5nZWQgKi9cbiAgb25NYXRyaWNlc0NoYW5nZWQ/OiAoKSA9PiB2b2lkXG5cbiAgLyoqIEEgbnVtYmVyIHJlcHJlc2VudGluZyB3aGF0IENTUyBwZXJzcGVjdGl2ZSB2YWx1ZSAoaW4gcGl4ZWwpIHNob3VsZCBiZSB1c2VkIHRvIG9idGFpbiB0aGUgc2FtZSBwZXJzcGVjdGl2ZSBlZmZlY3QgYXMgdGhpcyB7QGxpbmsgQ2FtZXJhfSAqL1xuICBDU1NQZXJzcGVjdGl2ZTogbnVtYmVyXG4gIC8qKiBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgdmlzaWJsZSB3aWR0aCAvIGhlaWdodCBhdCBhIGdpdmVuIHotZGVwdGggZnJvbSBvdXIgY2FtZXJhIHBhcmFtZXRlcnMgKi9cbiAgc2NyZWVuUmF0aW86IFJlY3RTaXplXG5cbiAgLyoqXG4gICAqIENhbWVyYSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBDYW1lcmFQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENhbWVyYX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIGZvdiA9IDUwLFxuICAgICAgbmVhciA9IDAuMDEsXG4gICAgICBmYXIgPSAxNTAsXG4gICAgICB3aWR0aCA9IDEsXG4gICAgICBoZWlnaHQgPSAxLFxuICAgICAgcGl4ZWxSYXRpbyA9IDEsXG4gICAgICBvbk1hdHJpY2VzQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICAgIH0sXG4gICAgfSA9IHt9IGFzIENhbWVyYVBhcmFtc1xuICApIHtcbiAgICAvLyBPYmplY3QzRFxuICAgIHN1cGVyKClcblxuICAgIC8vIGNhbWVyYSBjYW4ndCBiZSBhdCBwb3NpdGlvbiAoMCwgMCwgMCksIGl0IG5lZWRzIHNvbWUgcmVjb2lsXG4gICAgLy8gYXJiaXRyYXJpbHkgc2V0IHRvIDEwIHNvIG9iamVjdHMgb2YgZGVmYXVsdCBzaXplICgxLCAxLCAxKSBkb24ndCBhcHBlYXIgdG9vIGJpZ1xuICAgIHRoaXMucG9zaXRpb24uc2V0KDAsIDAsIDEwKVxuXG4gICAgLy8gY2FsbGJhY2sgdG8gcnVuIGlmIGFueSBvZiB0aGUgbWF0cmljZXMgY2hhbmdlZFxuICAgIHRoaXMub25NYXRyaWNlc0NoYW5nZWQgPSBvbk1hdHJpY2VzQ2hhbmdlZFxuXG4gICAgLy8gY3JlYXRlIHNpemUgb2JqZWN0LCB3aWxsIGJlIHNldCByaWdodCBhZnRlclxuICAgIHRoaXMuc2l6ZSA9IHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgaGVpZ2h0OiAxLFxuICAgIH1cblxuICAgIHRoaXMuc2V0UGVyc3BlY3RpdmUoeyBmb3YsIG5lYXIsIGZhciwgd2lkdGgsIGhlaWdodCwgcGl4ZWxSYXRpbyB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgdHJhbnNmb3JtIGFuZCBwcm9qZWN0aW9uIG1hdHJpY2VzXG4gICAqL1xuICBzZXRNYXRyaWNlcygpIHtcbiAgICBzdXBlci5zZXRNYXRyaWNlcygpXG5cbiAgICB0aGlzLm1hdHJpY2VzID0ge1xuICAgICAgLi4udGhpcy5tYXRyaWNlcyxcbiAgICAgIHZpZXc6IHtcbiAgICAgICAgbWF0cml4OiBuZXcgTWF0NCgpLFxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxuICAgICAgICBvblVwZGF0ZTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMudmlld01hdHJpeC5jb3B5KHRoaXMubW9kZWxNYXRyaXgpLmludmVydCgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHJvamVjdGlvbjoge1xuICAgICAgICBtYXRyaXg6IG5ldyBNYXQ0KCksXG4gICAgICAgIHNob3VsZFVwZGF0ZTogZmFsc2UsXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgdmlldyBtYXRyaXhcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdmlld01hdHJpeCgpOiBNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy52aWV3Lm1hdHJpeFxuICB9XG5cbiAgc2V0IHZpZXdNYXRyaXgodmFsdWU6IE1hdDQpIHtcbiAgICB0aGlzLm1hdHJpY2VzLnZpZXcubWF0cml4ID0gdmFsdWVcbiAgICB0aGlzLm1hdHJpY2VzLnZpZXcuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgcHJvamVjdGlvbiBtYXRyaXhcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy5wcm9qZWN0aW9uLm1hdHJpeFxuICB9XG5cbiAgc2V0IHByb2plY3Rpb25NYXRyaXgodmFsdWU6IE1hdDQpIHtcbiAgICB0aGlzLm1hdHJpY2VzLnByb2plY3Rpb24ubWF0cml4ID0gdmFsdWVcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc2hvdWxkVXBkYXRlIGZsYWcgdG8gdHJ1ZSAodGVsbCBpdCB0byB1cGRhdGUpXG4gICAqL1xuICBzaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4KCkge1xuICAgIHRoaXMubWF0cmljZXMucHJvamVjdGlvbi5zaG91bGRVcGRhdGUgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG91ciBtb2RlbCBtYXRyaXggYW5kIHRlbGwgb3VyIHZpZXcgbWF0cml4IHRvIHVwZGF0ZSBhcyB3ZWxsXG4gICAqL1xuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcbiAgICBzdXBlci51cGRhdGVNb2RlbE1hdHJpeCgpXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMubWF0cmljZXMudmlldy5zaG91bGRVcGRhdGUgPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgZm92IHwgZmllbGQgb2Ygdmlld31cbiAgICovXG4gIGdldCBmb3YoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jZm92XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgZm92IHwgZmllbGQgb2Ygdmlld30uIFVwZGF0ZSB0aGUge0BsaW5rIHByb2plY3Rpb25NYXRyaXh9IG9ubHkgaWYgdGhlIGZpZWxkIG9mIHZpZXcgYWN0dWFsbHkgY2hhbmdlZFxuICAgKiBAcGFyYW0gZm92IC0gbmV3IGZpZWxkIG9mIHZpZXdcbiAgICovXG4gIHNldCBmb3YoZm92OiBudW1iZXIpIHtcbiAgICAvLyBjbGFtcCBiZXR3ZWVuIDEgYW5kIDE3OVxuICAgIGZvdiA9IE1hdGgubWF4KDEsIE1hdGgubWluKGZvdiA/PyB0aGlzLmZvdiwgMTc5KSlcblxuICAgIGlmIChmb3YgIT09IHRoaXMuZm92KSB7XG4gICAgICB0aGlzLiNmb3YgPSBmb3ZcbiAgICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gICAgfVxuXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMuc2V0Q1NTUGVyc3BlY3RpdmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIG5lYXJ9IHBsYW5lIHZhbHVlLlxuICAgKi9cbiAgZ2V0IG5lYXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jbmVhclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIG5lYXJ9IHBsYW5lIHZhbHVlLiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBvbmx5IGlmIHRoZSBuZWFyIHBsYW5lIGFjdHVhbGx5IGNoYW5nZWRcbiAgICogQHBhcmFtIG5lYXIgLSBuZXcgbmVhciBwbGFuZSB2YWx1ZVxuICAgKi9cbiAgc2V0IG5lYXIobmVhcjogbnVtYmVyKSB7XG4gICAgbmVhciA9IE1hdGgubWF4KG5lYXIgPz8gdGhpcy5uZWFyLCAwLjAxKVxuXG4gICAgaWYgKG5lYXIgIT09IHRoaXMubmVhcikge1xuICAgICAgdGhpcy4jbmVhciA9IG5lYXJcbiAgICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCAvIHNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIGZhcn0gcGxhbmUgdmFsdWUuXG4gICAqL1xuICBnZXQgZmFyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI2ZhclxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIENhbWVyYX0ge0BsaW5rIGZhcn0gcGxhbmUgdmFsdWUuIFVwZGF0ZSB7QGxpbmsgcHJvamVjdGlvbk1hdHJpeH0gb25seSBpZiB0aGUgZmFyIHBsYW5lIGFjdHVhbGx5IGNoYW5nZWRcbiAgICogQHBhcmFtIGZhciAtIG5ldyBmYXIgcGxhbmUgdmFsdWVcbiAgICovXG4gIHNldCBmYXIoZmFyOiBudW1iZXIpIHtcbiAgICBmYXIgPSBNYXRoLm1heChmYXIgPz8gdGhpcy5mYXIsIHRoaXMubmVhciArIDEpXG5cbiAgICBpZiAoZmFyICE9PSB0aGlzLmZhcikge1xuICAgICAgdGhpcy4jZmFyID0gZmFyXG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBDYW1lcmF9IHtAbGluayBwaXhlbFJhdGlvfSB2YWx1ZS5cbiAgICovXG4gIGdldCBwaXhlbFJhdGlvKCkge1xuICAgIHJldHVybiB0aGlzLiNwaXhlbFJhdGlvXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgcGl4ZWxSYXRpb30gdmFsdWUuIFVwZGF0ZSB0aGUge0BsaW5rIENTU1BlcnNwZWN0aXZlfSBvbmx5IGlmIHRoZSBwaXhlbCByYXRpbyBhY3R1YWxseSBjaGFuZ2VkXG4gICAqIEBwYXJhbSBwaXhlbFJhdGlvIC0gbmV3IHBpeGVsIHJhdGlvIHZhbHVlXG4gICAqL1xuICBzZXQgcGl4ZWxSYXRpbyhwaXhlbFJhdGlvOiBudW1iZXIpIHtcbiAgICB0aGlzLiNwaXhlbFJhdGlvID0gcGl4ZWxSYXRpbyA/PyB0aGlzLnBpeGVsUmF0aW9cbiAgICB0aGlzLnNldENTU1BlcnNwZWN0aXZlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBDYW1lcmF9IHtAbGluayB3aWR0aH0gYW5kIHtAbGluayBoZWlnaHR9LiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBvbmx5IGlmIHRoZSB3aWR0aCBvciBoZWlnaHQgYWN0dWFsbHkgY2hhbmdlZFxuICAgKiBAcGFyYW0gc2l6ZSAtIHtAbGluayB3aWR0aH0gYW5kIHtAbGluayBoZWlnaHR9IHZhbHVlcyB0byB1c2VcbiAgICovXG4gIHNldFNpemUoeyB3aWR0aCwgaGVpZ2h0IH06IFJlY3RTaXplKSB7XG4gICAgaWYgKHdpZHRoICE9PSB0aGlzLnNpemUud2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLnNpemUuaGVpZ2h0KSB7XG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKVxuICAgIH1cblxuICAgIHRoaXMuc2l6ZS53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5zaXplLmhlaWdodCA9IGhlaWdodFxuXG4gICAgdGhpcy5zZXRTY3JlZW5SYXRpb3MoKVxuICAgIHRoaXMuc2V0Q1NTUGVyc3BlY3RpdmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHtAbGluayBDYW1lcmF9IHBlcnNwZWN0aXZlLiBVcGRhdGUgdGhlIHtAbGluayBwcm9qZWN0aW9uTWF0cml4fSBpZiBuZWVkZWQuXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIENhbWVyYVBlcnNwZWN0aXZlT3B0aW9ucyB8IHBhcmFtZXRlcnN9IHRvIHVzZSBmb3IgdGhlIHBlcnNwZWN0aXZlXG4gICAqL1xuICBzZXRQZXJzcGVjdGl2ZSh7XG4gICAgZm92ID0gdGhpcy5mb3YsXG4gICAgbmVhciA9IHRoaXMubmVhcixcbiAgICBmYXIgPSB0aGlzLmZhcixcbiAgICB3aWR0aCA9IHRoaXMuc2l6ZS53aWR0aCxcbiAgICBoZWlnaHQgPSB0aGlzLnNpemUuaGVpZ2h0LFxuICAgIHBpeGVsUmF0aW8gPSB0aGlzLnBpeGVsUmF0aW8sXG4gIH06IENhbWVyYVBlcnNwZWN0aXZlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zZXRTaXplKHsgd2lkdGgsIGhlaWdodCB9KVxuICAgIHRoaXMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW9cbiAgICB0aGlzLmZvdiA9IGZvdlxuICAgIHRoaXMubmVhciA9IG5lYXJcbiAgICB0aGlzLmZhciA9IGZhclxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSBjYW1lcmEge0BsaW5rIG1vZGVsTWF0cml4IHwgbW9kZWwgbWF0cml4fSBoYXMgYmVlbiB1cGRhdGVkXG4gICAqL1xuICBvbkFmdGVyTWF0cml4U3RhY2tVcGRhdGUoKSB7XG4gICAgLy8gY2FsbGJhY2sgYmVjYXVzZSBtYXRyaWNlcyBjaGFuZ2VkXG4gICAgdGhpcy5vbk1hdHJpY2VzQ2hhbmdlZCgpXG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHtAbGluayBDU1NQZXJzcGVjdGl2ZX0gcHJvcGVydHkgYmFzZWQgb24ge0BsaW5rIHNpemV9LCB7QGxpbmsgcGl4ZWxSYXRpb30gYW5kIHtAbGluayBmb3Z9Ljxicj5cbiAgICogVXNlZCB0byB0cmFuc2xhdGUgcGxhbmVzIGFsb25nIHRoZSBaIGF4aXMgdXNpbmcgcGl4ZWwgdW5pdHMgYXMgQ1NTIHdvdWxkIGRvLjxicj5cbiAgICoge0BsaW5rIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyNDIxNDM5L2NvbnZlcnQtZmllbGQtb2Ytdmlldy12YWx1ZS10by1jc3MzZC1wZXJzcGVjdGl2ZS12YWx1ZSB8IFNlZSByZWZlcmVuY2V9XG4gICAqL1xuICBzZXRDU1NQZXJzcGVjdGl2ZSgpIHtcbiAgICB0aGlzLkNTU1BlcnNwZWN0aXZlID1cbiAgICAgIE1hdGgucG93KFxuICAgICAgICBNYXRoLnBvdyh0aGlzLnNpemUud2lkdGggLyAoMiAqIHRoaXMucGl4ZWxSYXRpbyksIDIpICsgTWF0aC5wb3codGhpcy5zaXplLmhlaWdodCAvICgyICogdGhpcy5waXhlbFJhdGlvKSwgMiksXG4gICAgICAgIDAuNVxuICAgICAgKSAvIE1hdGgudGFuKCh0aGlzLmZvdiAqIDAuNSAqIE1hdGguUEkpIC8gMTgwKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdmlzaWJsZSB3aWR0aCAvIGhlaWdodCBhdCBhIGdpdmVuIHotZGVwdGggZnJvbSBvdXIge0BsaW5rIENhbWVyYX0gcGFyYW1ldGVycy48YnI+XG4gICAqIHtAbGluayBodHRwczovL2Rpc2NvdXJzZS50aHJlZWpzLm9yZy90L2Z1bmN0aW9ucy10by1jYWxjdWxhdGUtdGhlLXZpc2libGUtd2lkdGgtaGVpZ2h0LWF0LWEtZ2l2ZW4tei1kZXB0aC1mcm9tLWEtcGVyc3BlY3RpdmUtY2FtZXJhLzI2OSB8IFNlZSByZWZlcmVuY2V9XG4gICAqIEBwYXJhbSBkZXB0aCAtIGRlcHRoIHRvIHVzZSBmb3IgY2FsY3VsYXRpb25zXG4gICAqL1xuICBzZXRTY3JlZW5SYXRpb3MoZGVwdGggPSAwKSB7XG4gICAgLy8gY29tcGVuc2F0ZSBmb3IgY2FtZXJhcyBub3QgcG9zaXRpb25lZCBhdCB6PTBcbiAgICBjb25zdCBjYW1lcmFPZmZzZXQgPSB0aGlzLnBvc2l0aW9uLnpcbiAgICBpZiAoZGVwdGggPCBjYW1lcmFPZmZzZXQpIHtcbiAgICAgIGRlcHRoIC09IGNhbWVyYU9mZnNldFxuICAgIH0gZWxzZSB7XG4gICAgICBkZXB0aCArPSBjYW1lcmFPZmZzZXRcbiAgICB9XG5cbiAgICAvLyB2ZXJ0aWNhbCBmb3YgaW4gcmFkaWFuc1xuICAgIGNvbnN0IHZGT1YgPSAodGhpcy5mb3YgKiBNYXRoLlBJKSAvIDE4MFxuXG4gICAgLy8gTWF0aC5hYnMgdG8gZW5zdXJlIHRoZSByZXN1bHQgaXMgYWx3YXlzIHBvc2l0aXZlXG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKHZGT1YgLyAyKSAqIE1hdGguYWJzKGRlcHRoKVxuXG4gICAgdGhpcy5zY3JlZW5SYXRpbyA9IHtcbiAgICAgIHdpZHRoOiAoaGVpZ2h0ICogdGhpcy5zaXplLndpZHRoKSAvIHRoaXMuc2l6ZS5oZWlnaHQsXG4gICAgICBoZWlnaHQsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJvdGF0ZSB0aGlzIHtAbGluayBDYW1lcmF9IHNvIGl0IGxvb2tzIGF0IHRoZSB7QGxpbmsgVmVjMyB8IHRhcmdldH1cbiAgICogQHBhcmFtIHRhcmdldCAtIHtAbGluayBWZWMzIHwgdGFyZ2V0fSB0byBsb29rIGF0XG4gICAqL1xuICBsb29rQXQodGFyZ2V0OiBWZWMzID0gbmV3IFZlYzMoKSkge1xuICAgIC8vIHNpbmNlIHdlIGtub3cgaXQncyBhIGNhbWVyYSwgaW52ZXJzZSBwb3NpdGlvbiBhbmQgdGFyZ2V0XG4gICAgY29uc3Qgcm90YXRpb25NYXRyaXggPSBuZXcgTWF0NCgpLmxvb2tBdCh0aGlzLnBvc2l0aW9uLCB0YXJnZXQpXG4gICAgdGhpcy5xdWF0ZXJuaW9uLnNldEZyb21Sb3RhdGlvbk1hdHJpeChyb3RhdGlvbk1hdHJpeClcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB7QGxpbmsgQ2FtZXJhfSB7QGxpbmsgcHJvamVjdGlvbk1hdHJpeH1cbiAgICovXG4gIHVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKSB7XG4gICAgY29uc3QgYXNwZWN0ID0gdGhpcy5zaXplLndpZHRoIC8gdGhpcy5zaXplLmhlaWdodFxuXG4gICAgY29uc3QgdG9wID0gdGhpcy5uZWFyICogTWF0aC50YW4oKE1hdGguUEkgLyAxODApICogMC41ICogdGhpcy5mb3YpXG4gICAgY29uc3QgaGVpZ2h0ID0gMiAqIHRvcFxuICAgIGNvbnN0IHdpZHRoID0gYXNwZWN0ICogaGVpZ2h0XG4gICAgY29uc3QgbGVmdCA9IC0wLjUgKiB3aWR0aFxuXG4gICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgd2lkdGhcbiAgICBjb25zdCBib3R0b20gPSB0b3AgLSBoZWlnaHRcblxuICAgIGNvbnN0IHggPSAoMiAqIHRoaXMubmVhcikgLyAocmlnaHQgLSBsZWZ0KVxuICAgIGNvbnN0IHkgPSAoMiAqIHRoaXMubmVhcikgLyAodG9wIC0gYm90dG9tKVxuXG4gICAgY29uc3QgYSA9IChyaWdodCArIGxlZnQpIC8gKHJpZ2h0IC0gbGVmdClcbiAgICBjb25zdCBiID0gKHRvcCArIGJvdHRvbSkgLyAodG9wIC0gYm90dG9tKVxuICAgIGNvbnN0IGMgPSAtKHRoaXMuZmFyICsgdGhpcy5uZWFyKSAvICh0aGlzLmZhciAtIHRoaXMubmVhcilcbiAgICBjb25zdCBkID0gKC0yICogdGhpcy5mYXIgKiB0aGlzLm5lYXIpIC8gKHRoaXMuZmFyIC0gdGhpcy5uZWFyKVxuXG4gICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LnNldChcbiAgICAgIHgsIDAsIDAsIDAsXG4gICAgICAwLCB5LCAwLCAwLFxuICAgICAgYSwgYiwgYywgLTEsXG4gICAgICAwLCAwLCBkLCAwXG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFNhbXBsZXJCaW5kaW5nIH0gZnJvbSAnLi4vYmluZGluZ3MvU2FtcGxlckJpbmRpbmcnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQsIHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcblxuLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgU2FtcGxlcn0gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlck9wdGlvbnMgZXh0ZW5kcyBQYXJ0aWFsPEdQVVNhbXBsZXJEZXNjcmlwdG9yPiwgR1BVU2FtcGxlckJpbmRpbmdMYXlvdXQge31cblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNhbXBsZXJ9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2FtcGxlclBhcmFtcyBleHRlbmRzIFNhbXBsZXJPcHRpb25zIHtcbiAgLyoqIE5hbWUgb2YgdGhlIHtAbGluayBTYW1wbGVyfSB0byB1c2UgaW4gdGhlIHtAbGluayBTYW1wbGVyQmluZGluZyB8IGJpbmRpbmd9ICovXG4gIG5hbWU6IHN0cmluZ1xufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEdQVVNhbXBsZXJ9IGFuZCBpdHMgYXNzb2NpYXRlZCB7QGxpbmsgU2FtcGxlckJpbmRpbmd9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiBjb25zdCBtaXJyb3JTYW1wbGVyID0gbmV3IFNhbXBsZXIoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNaXJyb3Igc2FtcGxlcicsXG4gKiAgIG5hbWU6ICdtaXJyb3JTYW1wbGVyJyxcbiAqICAgYWRkcmVzc01vZGVVOiAnbWlycm9yLXJlcGVhdCcsXG4gKiAgIGFkZHJlc3NNb2RlVjogJ21pcnJvci1yZXBlYXQnLFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlciB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFNhbXBsZXJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgU2FtcGxlcn0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgU2FtcGxlcn0gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBTYW1wbGVyfSwgdXNlZCB0byBjcmVhdGUgdGhlIHtAbGluayBHUFVTYW1wbGVyfSBmb3IgZGVidWdnaW5nIHB1cnBvc2UgKi9cbiAgbGFiZWw6IHN0cmluZ1xuICAvKiogTmFtZSBvZiB0aGUge0BsaW5rIFNhbXBsZXJ9IHRvIHVzZSBpbiB0aGUge0BsaW5rIFNhbXBsZXJCaW5kaW5nIHwgYmluZGluZ30gKi9cbiAgbmFtZTogc3RyaW5nXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNhbXBsZXJ9ICovXG4gIG9wdGlvbnM6IFNhbXBsZXJPcHRpb25zXG5cbiAgLyoqIHtAbGluayBHUFVTYW1wbGVyfSAqL1xuICBzYW1wbGVyOiBHUFVTYW1wbGVyXG4gIC8qKiB7QGxpbmsgU2FtcGxlckJpbmRpbmcgfCBiaW5kaW5nfSB0byBwYXNzIHRvIGEge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9UZXh0dXJlQmluZEdyb3VwLlRleHR1cmVCaW5kR3JvdXAgfCBiaW5kIGdyb3VwfSAqL1xuICBiaW5kaW5nOiBTYW1wbGVyQmluZGluZ1xuXG4gIC8qKlxuICAgKiBTYW1wbGVyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNhbXBsZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFNhbXBsZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTYW1wbGVyfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IEdQVUN1cnRhaW5zIHwgUmVuZGVyZXIsXG4gICAge1xuICAgICAgbGFiZWwgPSAnU2FtcGxlcicsXG4gICAgICBuYW1lLFxuICAgICAgYWRkcmVzc01vZGVVID0gJ3JlcGVhdCcsXG4gICAgICBhZGRyZXNzTW9kZVYgPSAncmVwZWF0JyxcbiAgICAgIG1hZ0ZpbHRlciA9ICdsaW5lYXInLFxuICAgICAgbWluRmlsdGVyID0gJ2xpbmVhcicsXG4gICAgICBtaXBtYXBGaWx0ZXIgPSAnbGluZWFyJyxcbiAgICAgIG1heEFuaXNvdHJvcHkgPSAxLFxuICAgICAgdHlwZSA9ICdmaWx0ZXJpbmcnLFxuICAgIH0gPSB7fSBhcyBTYW1wbGVyUGFyYW1zXG4gICkge1xuICAgIHRoaXMudHlwZSA9ICdTYW1wbGVyJ1xuICAgIHRoaXMudXVpZCA9IGdlbmVyYXRlVVVJRCgpXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIGxhYmVsID8gbGFiZWwgKyAnICcgKyB0aGlzLnR5cGUgOiB0aGlzLnR5cGUpXG5cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcblxuICAgIHRoaXMubGFiZWwgPSBsYWJlbFxuXG4gICAgaWYgKCFuYW1lICYmICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24pIHtcbiAgICAgIG5hbWUgPSAnc2FtcGxlcicgKyB0aGlzLnJlbmRlcmVyLnNhbXBsZXJzLmxlbmd0aFxuICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICBgU2FtcGxlcjogeW91IGFyZSB0cnlpbmcgdG8gY3JlYXRlIGEgc2FtcGxlciB3aXRob3V0IHRoZSBtYW5kYXRvcnkgbmFtZSBwYXJhbWV0ZXIuIEEgZGVmYXVsdCBuYW1lIHdpbGwgYmUgdXNlZCBpbnN0ZWFkOiAke25hbWV9YFxuICAgICAgKVxuICAgIH1cblxuICAgIHRoaXMubmFtZSA9IG5hbWVcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGFkZHJlc3NNb2RlVSxcbiAgICAgIGFkZHJlc3NNb2RlVixcbiAgICAgIG1hZ0ZpbHRlcixcbiAgICAgIG1pbkZpbHRlcixcbiAgICAgIG1pcG1hcEZpbHRlcixcbiAgICAgIG1heEFuaXNvdHJvcHksXG4gICAgICB0eXBlLFxuICAgIH0gYXMgU2FtcGxlck9wdGlvbnNcblxuICAgIHRoaXMuY3JlYXRlU2FtcGxlcigpXG4gICAgdGhpcy5jcmVhdGVCaW5kaW5nKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVTYW1wbGVyfVxuICAgKi9cbiAgY3JlYXRlU2FtcGxlcigpIHtcbiAgICB0aGlzLnNhbXBsZXIgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVNhbXBsZXIodGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBTYW1wbGVyQmluZGluZyB8IGJpbmRpbmd9XG4gICAqL1xuICBjcmVhdGVCaW5kaW5nKCkge1xuICAgIHRoaXMuYmluZGluZyA9IG5ldyBTYW1wbGVyQmluZGluZyh7XG4gICAgICBsYWJlbDogdGhpcy5sYWJlbCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGJpbmRpbmdUeXBlOiAnc2FtcGxlcicsXG4gICAgICBzYW1wbGVyOiB0aGlzLnNhbXBsZXIsXG4gICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHlwZSxcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFRleHR1cmVCaW5kaW5nLCBUZXh0dXJlQmluZGluZ1BhcmFtcyB9IGZyb20gJy4uL2JpbmRpbmdzL1RleHR1cmVCaW5kaW5nJ1xuaW1wb3J0IHsgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IEJpbmRpbmdNZW1vcnlBY2Nlc3NUeXBlLCBUZXh0dXJlQmluZGluZ1R5cGUgfSBmcm9tICcuLi9iaW5kaW5ncy9CaW5kaW5nJ1xuaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlJ1xuaW1wb3J0IHsgVGV4dHVyZVNpemUgfSBmcm9tICcuLi8uLi90eXBlcy9UZXh0dXJlcydcblxuLyoqXG4gKiBEZWZpbmUgdGhlIHBvc3NpYmxlIGJpbmRpbmcgdHlwZXMgb2YgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAqL1xuZXhwb3J0IHR5cGUgUmVuZGVyVGV4dHVyZUJpbmRpbmdUeXBlID0gRXhjbHVkZTxUZXh0dXJlQmluZGluZ1R5cGUsICdleHRlcm5hbFRleHR1cmUnPlxuXG4vKipcbiAqIEJhc2UgcGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRleHR1cmVCYXNlUGFyYW1zIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9LCB1c2VkIHRvIGNyZWF0ZSB2YXJpb3VzIEdQVSBvYmplY3RzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbD86IHN0cmluZ1xuICAvKiogTmFtZSBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIHVzZSBpbiB0aGUge0BsaW5rIFRleHR1cmVCaW5kaW5nIHwgdGV4dHVyZSBiaW5kaW5nfSAqL1xuICBuYW1lPzogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbmFsIHNpemUgb2YgdGhlIHtAbGluayBSZW5kZXJUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSAqL1xuICBzaXplPzogVGV4dHVyZVNpemVcbiAgLyoqIFdoZXRoZXIgdG8gdXNlIHRoaXMge0BsaW5rIFJlbmRlclRleHR1cmV9IGFzIGEgcmVndWxhciBvciBzdG9yYWdlIHRleHR1cmUgKi9cbiAgdXNhZ2U/OiBSZW5kZXJUZXh0dXJlQmluZGluZ1R5cGVcbiAgLyoqIE9wdGlvbmFsIGZvcm1hdCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9LCBtYWlubHkgdXNlZCBmb3Igc3RvcmFnZSB0ZXh0dXJlcyAqL1xuICBmb3JtYXQ/OiBHUFVUZXh0dXJlRm9ybWF0XG4gIC8qKiBPcHRpb25hbCB0ZXh0dXJlIGJpbmRpbmcgbWVtb3J5IGFjY2VzcyB0eXBlLCBtYWlubHkgdXNlZCBmb3Igc3RvcmFnZSB0ZXh0dXJlcyAqL1xuICBhY2Nlc3M/OiBCaW5kaW5nTWVtb3J5QWNjZXNzVHlwZVxuICAvKiogT3B0aW9uYWwge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9IHZpZXcgZGltZW5zaW9uIHRvIHVzZSAqL1xuICB2aWV3RGltZW5zaW9uPzogR1BVVGV4dHVyZVZpZXdEaW1lbnNpb25cbiAgLyoqIFNhbXBsZSBjb3VudCBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9LCB1c2VkIGZvciBtdWx0aXNhbXBsaW5nICovXG4gIHNhbXBsZUNvdW50PzogR1BVU2l6ZTMyXG59XG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRleHR1cmVQYXJhbXMgZXh0ZW5kcyBSZW5kZXJUZXh0dXJlQmFzZVBhcmFtcyB7XG4gIC8qKiBPcHRpb25hbCB0ZXh0dXJlIHRvIHVzZSBhcyBhIGNvcHkgc291cmNlIGlucHV0LiBDb3VsZCBiZSBhIHtAbGluayBSZW5kZXJUZXh0dXJlfSBvciB7QGxpbmsgVGV4dHVyZX0gKi9cbiAgZnJvbVRleHR1cmU/OiBSZW5kZXJUZXh0dXJlIHwgVGV4dHVyZSB8IG51bGxcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIFJlbmRlclRleHR1cmV9IHBhcmFtZXRlcnMgKi9cbmNvbnN0IGRlZmF1bHRSZW5kZXJUZXh0dXJlUGFyYW1zOiBSZW5kZXJUZXh0dXJlUGFyYW1zID0ge1xuICBsYWJlbDogJ1JlbmRlclRleHR1cmUnLFxuICBuYW1lOiAncmVuZGVyVGV4dHVyZScsXG4gIHVzYWdlOiAndGV4dHVyZScsXG4gIGFjY2VzczogJ3dyaXRlJyxcbiAgZnJvbVRleHR1cmU6IG51bGwsXG4gIHZpZXdEaW1lbnNpb246ICcyZCcsXG4gIHNhbXBsZUNvdW50OiAxLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gY3JlYXRlIHtAbGluayBHUFVUZXh0dXJlIHwgdGV4dHVyZX0gdGhhdCBjYW4gYmUgdXNlZCBhcyBjb3B5IHNvdXJjZS9kZXN0aW5hdGlvbiBmb3Ige0BsaW5rIGNvcmUvcmVuZGVyUGFzc2VzL1JlbmRlclBhc3MuUmVuZGVyUGFzcyB8IFJlbmRlclBhc3N9IGFuZCB7QGxpbmsgY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LlJlbmRlclRhcmdldCB8IFJlbmRlclRhcmdldH0uPGJyID5cbiAqIEJhc2ljYWxseSB1c2VmdWwgZm9yIGNvcHlpbmcgYW55dGhpbmcgb3V0cHV0dGVkIHRvIHRoZSBzY3JlZW4gYXQgb25lIHBvaW50IG9yIGFub3RoZXIuXG4gKlxuICogV2lsbCBjcmVhdGUgYSB7QGxpbmsgR1BVVGV4dHVyZX0gYW5kIGl0cyBhc3NvY2lhdGVkIHtAbGluayBUZXh0dXJlQmluZGluZ30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIHJlbmRlciB0ZXh0dXJlXG4gKiBjb25zdCByZW5kZXJUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNeSByZW5kZXIgdGV4dHVyZScsXG4gKiAgIG5hbWU6ICdyZW5kZXJUZXh0dXJlJyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclRleHR1cmUge1xuICAvKioge0BsaW5rIFJlbmRlcmVyIHwgcmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFJlbmRlclRleHR1cmV9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIFRoZSB7QGxpbmsgR1BVVGV4dHVyZX0gdXNlZCAqL1xuICB0ZXh0dXJlOiBHUFVUZXh0dXJlXG5cbiAgLyoqIFNpemUgb2YgdGhlIHtAbGluayBSZW5kZXJUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSBzb3VyY2UsIHVzdWFsbHkgb3VyIHtAbGluayBSZW5kZXJlciNwaXhlbFJhdGlvQm91bmRpbmdSZWN0IHwgcmVuZGVyZXIgcGl4ZWwgcmF0aW8gYm91bmRpbmcgcmVjdH0gKi9cbiAgc2l6ZTogVGV4dHVyZVNpemVcblxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfSAqL1xuICBvcHRpb25zOiBSZW5kZXJUZXh0dXJlUGFyYW1zXG5cbiAgLyoqIEFycmF5IG9mIHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IGJpbmRpbmdzfSB0aGF0IHdpbGwgYWN0dWFsbHkgb25seSBob2xkIG9uZSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcgfCB0ZXh0dXJlIGJpbmRpbmd9ICovXG4gIGJpbmRpbmdzOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXG5cbiAgLyoqXG4gICAqIFJlbmRlclRleHR1cmUgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIFJlbmRlcmVyIHwgcmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0gZGVmYXVsdFJlbmRlclRleHR1cmVQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyBSZW5kZXJUZXh0dXJlJyA6ICdSZW5kZXJUZXh0dXJlJylcblxuICAgIHRoaXMudHlwZSA9ICdSZW5kZXJUZXh0dXJlJ1xuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG5cbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0UmVuZGVyVGV4dHVyZVBhcmFtcywgLi4ucGFyYW1ldGVycyB9XG5cbiAgICBpZiAoIXRoaXMub3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5mb3JtYXQgPSB0aGlzLnJlbmRlcmVyLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0XG4gICAgfVxuXG4gICAgLy8gc2l6ZXNcbiAgICB0aGlzLnNpemUgPSB0aGlzLm9wdGlvbnMuc2l6ZSA/PyB7XG4gICAgICB3aWR0aDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3Qud2lkdGgpLFxuICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQpLFxuICAgICAgZGVwdGg6IDEsXG4gICAgfVxuXG4gICAgLy8gc3RydWN0XG4gICAgdGhpcy5zZXRCaW5kaW5ncygpXG5cbiAgICAvLyB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJlci5hZGRSZW5kZXJUZXh0dXJlKHRoaXMpXG4gICAgdGhpcy5jcmVhdGVUZXh0dXJlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5IGFub3RoZXIge0BsaW5rIFJlbmRlclRleHR1cmV9IGludG8gdGhpcyB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gY29weVxuICAgKi9cbiAgY29weSh0ZXh0dXJlOiBSZW5kZXJUZXh0dXJlIHwgVGV4dHVyZSkge1xuICAgIHRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSA9IHRleHR1cmVcbiAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSB7QGxpbmsgR1BVVGV4dHVyZX0gZGlyZWN0bHkgaW50byB0aGlzIHtAbGluayBSZW5kZXJUZXh0dXJlfS4gTWFpbmx5IHVzZWQgZm9yIGRlcHRoIHRleHR1cmVzLlxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBHUFVUZXh0dXJlfSB0byBjb3B5XG4gICAqL1xuICBjb3B5R1BVVGV4dHVyZSh0ZXh0dXJlOiBHUFVUZXh0dXJlKSB7XG4gICAgdGhpcy5zaXplID0ge1xuICAgICAgd2lkdGg6IHRleHR1cmUud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRleHR1cmUuaGVpZ2h0LFxuICAgICAgZGVwdGg6IHRleHR1cmUuZGVwdGhPckFycmF5TGF5ZXJzLFxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmVcbiAgICB0aGlzLnRleHR1cmVCaW5kaW5nLnJlc291cmNlID0gdGhpcy50ZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgR1BVVGV4dHVyZSB8IHRleHR1cmV9IChvciBjb3B5IGl0IGZyb20gc291cmNlKSBhbmQgdXBkYXRlIHRoZSB7QGxpbmsgVGV4dHVyZUJpbmRpbmcjcmVzb3VyY2UgfCBiaW5kaW5nIHJlc291cmNlfVxuICAgKi9cbiAgY3JlYXRlVGV4dHVyZSgpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmZyb21UZXh0dXJlKSB7XG4gICAgICAvLyBjb3B5IHRoZSBHUFUgdGV4dHVyZVxuICAgICAgdGhpcy5jb3B5R1BVVGV4dHVyZSh0aGlzLm9wdGlvbnMuZnJvbVRleHR1cmUudGV4dHVyZSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZT8uZGVzdHJveSgpXG5cbiAgICB0aGlzLnRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcbiAgICAgIGZvcm1hdDogdGhpcy5vcHRpb25zLmZvcm1hdCxcbiAgICAgIHNpemU6IFt0aGlzLnNpemUud2lkdGgsIHRoaXMuc2l6ZS5oZWlnaHQsIHRoaXMuc2l6ZS5kZXB0aF0sXG4gICAgICBkaW1lbnNpb25zOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzFkJyA/ICcxZCcgOiB0aGlzLm9wdGlvbnMudmlld0RpbWVuc2lvbiA9PT0gJzNkJyA/ICczZCcgOiAnMmQnLFxuICAgICAgc2FtcGxlQ291bnQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCxcbiAgICAgIHVzYWdlOlxuICAgICAgICAvLyBUT0RPIGxldCB1c2VyIGNob3NlP1xuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9tYXRyaXgudG8vIy8hTUZvZ2RHSmZuWkxyRG1na0JOOm1hdHJpeC5vcmcvJHZFU1U3MFNlQ2tjc3JKUWR5UUdNV0J0Q2dWZDNYcW5IY0J4RkRLVEtLU1E/dmlhPW1hdHJpeC5vcmcmdmlhPW1vemlsbGEub3JnJnZpYT1oZWouaW1cbiAgICAgICAgdGhpcy5vcHRpb25zLnVzYWdlICE9PSAnc3RvcmFnZVRleHR1cmUnXG4gICAgICAgICAgPyBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HIHxcbiAgICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyB8XG4gICAgICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QgfFxuICAgICAgICAgICAgR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UXG4gICAgICAgICAgOiBHUFVUZXh0dXJlVXNhZ2UuU1RPUkFHRV9CSU5ESU5HIHwgR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcbiAgICB9IGFzIEdQVVRleHR1cmVEZXNjcmlwdG9yKVxuXG4gICAgLy8gdXBkYXRlIHRleHR1cmUgYmluZGluZ1xuICAgIHRoaXMudGV4dHVyZUJpbmRpbmcucmVzb3VyY2UgPSB0aGlzLnRleHR1cmVcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBSZW5kZXJUZXh0dXJlI2JpbmRpbmdzIHwgYmluZGluZ3N9XG4gICAqL1xuICBzZXRCaW5kaW5ncygpIHtcbiAgICB0aGlzLmJpbmRpbmdzID0gW1xuICAgICAgbmV3IFRleHR1cmVCaW5kaW5nKHtcbiAgICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICc6ICcgKyB0aGlzLm9wdGlvbnMubmFtZSArICcgcmVuZGVyIHRleHR1cmUnLFxuICAgICAgICBuYW1lOiB0aGlzLm9wdGlvbnMubmFtZSxcbiAgICAgICAgdGV4dHVyZTogdGhpcy50ZXh0dXJlLFxuICAgICAgICBiaW5kaW5nVHlwZTogdGhpcy5vcHRpb25zLnVzYWdlLFxuICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy5mb3JtYXQsXG4gICAgICAgIHZpZXdEaW1lbnNpb246IHRoaXMub3B0aW9ucy52aWV3RGltZW5zaW9uLFxuICAgICAgICBtdWx0aXNhbXBsZWQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCA+IDEsXG4gICAgICB9IGFzIFRleHR1cmVCaW5kaW5nUGFyYW1zKSxcbiAgICBdXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgVGV4dHVyZUJpbmRpbmcgfCB0ZXh0dXJlIGJpbmRpbmd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHRleHR1cmVCaW5kaW5nKCk6IFRleHR1cmVCaW5kaW5nIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5nc1swXSBhcyBUZXh0dXJlQmluZGluZ1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIGEge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGJlIHJlY3JlYXRlZCB3aXRoIHRoZSBuZXcgc2l6ZVxuICAgKiBAcGFyYW0gc2l6ZSAtIG5ldyB7QGxpbmsgVGV4dHVyZVNpemUgfCBzaXplfSB0byBzZXRcbiAgICovXG4gIGZvcmNlUmVzaXplKHNpemU6IFRleHR1cmVTaXplKSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZVxuICAgIHRoaXMuY3JlYXRlVGV4dHVyZSgpXG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIG91ciB7QGxpbmsgUmVuZGVyVGV4dHVyZX0sIHdoaWNoIG1lYW5zIHJlY3JlYXRlIGl0L2NvcHkgaXQgYWdhaW4gYW5kIHRlbGwgdGhlIHtAbGluayBjb3JlL2JpbmRHcm91cHMvVGV4dHVyZUJpbmRHcm91cC5UZXh0dXJlQmluZEdyb3VwIHwgdGV4dHVyZSBiaW5kIGdyb3VwfSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHNpemUgLSB0aGUgb3B0aW9uYWwgbmV3IHtAbGluayBUZXh0dXJlU2l6ZSB8IHNpemV9IHRvIHNldFxuICAgKi9cbiAgcmVzaXplKHNpemU6IFRleHR1cmVTaXplIHwgbnVsbCA9IG51bGwpIHtcbiAgICBpZiAoIXNpemUpIHtcbiAgICAgIHNpemUgPSB7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgICAgZGVwdGg6IDEsXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm8gcmVhbCByZXNpemUsIGJhaWwhXG4gICAgaWYgKHNpemUud2lkdGggPT09IHRoaXMuc2l6ZS53aWR0aCAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5zaXplLmhlaWdodCAmJiBzaXplLmRlcHRoID09PSB0aGlzLnNpemUuZGVwdGgpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuZm9yY2VSZXNpemUoc2l6ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZW5kZXJlci5yZW1vdmVSZW5kZXJUZXh0dXJlKHRoaXMpXG5cbiAgICAvLyBkZXN0cm95IHRoZSBHUFUgdGV4dHVyZSBvbmx5IGlmIGl0J3Mgbm90IGEgY29weSBvZiBhbm90aGVyIHRleHR1cmVcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5mcm9tVGV4dHVyZSkge1xuICAgICAgdGhpcy50ZXh0dXJlPy5kZXN0cm95KClcbiAgICB9XG5cbiAgICB0aGlzLnRleHR1cmUgPSBudWxsXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgQmluZEdyb3VwIH0gZnJvbSAnLi4vYmluZEdyb3Vwcy9CaW5kR3JvdXAnXG5pbXBvcnQgeyBUZXh0dXJlQmluZEdyb3VwIH0gZnJvbSAnLi4vYmluZEdyb3Vwcy9UZXh0dXJlQmluZEdyb3VwJ1xuaW1wb3J0IHsgU2FtcGxlciB9IGZyb20gJy4uL3NhbXBsZXJzL1NhbXBsZXInXG5pbXBvcnQgeyBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzIH0gZnJvbSAnLi4vcGlwZWxpbmVzL1BpcGVsaW5lTWFuYWdlcidcbmltcG9ydCB7IEJ1ZmZlckJpbmRpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dCB9IGZyb20gJy4uL2JpbmRpbmdzL0J1ZmZlckJpbmRpbmcnXG5pbXBvcnQgeyBBbGxvd2VkQmluZEdyb3VwcywgQmluZEdyb3VwQmluZGluZ0VsZW1lbnQsIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9UZXh0dXJlJ1xuaW1wb3J0IHsgRnVsbFNoYWRlcnNUeXBlLCBNYXRlcmlhbE9wdGlvbnMsIE1hdGVyaWFsUGFyYW1zIH0gZnJvbSAnLi4vLi4vdHlwZXMvTWF0ZXJpYWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IFJlbmRlclRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlJ1xuaW1wb3J0IHsgQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL0JpbmRpbmcnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEJ1ZmZlckVsZW1lbnQgfSBmcm9tICcuLi9iaW5kaW5ncy9idWZmZXJFbGVtZW50cy9CdWZmZXJFbGVtZW50J1xuXG4vKipcbiAqIFVzZWQgYXMgYSBiYXNlIHRvIGNyZWF0ZSBhIHtAbGluayBNYXRlcmlhbH0uPGJyPlxuICogVGhlIHB1cnBvc2Ugb2Yge0BsaW5rIE1hdGVyaWFsfSBpcyB0byBjcmVhdGUgYW5kIHVwZGF0ZSB0aGUge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBhbmQgdGhlaXIgYmluZGluZ3MgKEdQVSBidWZmZXJzLCB0ZXh0dXJlcyBhbmQgc2FtcGxlcnMpLCBjcmVhdGUgYSB7QGxpbmsgY29yZS9waXBlbGluZXMvUGlwZWxpbmVFbnRyeS5QaXBlbGluZUVudHJ5IHwgUGlwZWxpbmVFbnRyeX0gYW5kIHVzZSB0aGVtIHRvIHtAbGluayBNYXRlcmlhbCNyZW5kZXIgfCByZW5kZXJ9LlxuICpcbiAqICMjIEJpbmQgZ3JvdXBzXG4gKlxuICogQSB7QGxpbmsgTWF0ZXJpYWx9IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSwgYnV0IGl0IGlzIGFjdHVhbGx5IGFkZGVkIHRvIHRoZSBhY3RpdmUge0BsaW5rIE1hdGVyaWFsI2JpbmRHcm91cHMgfCBiaW5kIGdyb3VwcyBhcnJheX0gb25seSBpZiBuZWNlc3NhcnksIHdoaWNoIG1lYW5zIGlmIHlvdXIgc2hhZGVycyB1c2UgYSB7QGxpbmsgR1BVU2FtcGxlcn0sIGEge0BsaW5rIEdQVVRleHR1cmV9IG9yIGEge0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX0uXG4gKlxuICogQW5vdGhlciB7QGxpbmsgQmluZEdyb3VwfSB3aWxsIGJlIGNyZWF0ZWQgaWYgeW91IHBhc3MgYW55IHtAbGluayBNYXRlcmlhbFBhcmFtcyN1bmlmb3JtcyB8IHVuaWZvcm1zfSBvciB7QGxpbmsgTWF0ZXJpYWxQYXJhbXMjc3RvcmFnZXMgfCBzdG9yYWdlc30gcGFyYW1ldGVycy5cbiAqXG4gKiBGaW5hbGx5LCB5b3UgY2FuIGFsc28gcGFzcyBhbHJlYWR5IGNyZWF0ZWQge0BsaW5rIEJpbmRHcm91cH0gdG8gYSB7QGxpbmsgTWF0ZXJpYWx9IHZpYSB0aGUge0BsaW5rIE1hdGVyaWFsUGFyYW1zI2JpbmRHcm91cHMgfCBiaW5kR3JvdXBzfSBwYXJhbWV0ZXIuXG4gKlxuICogLS0tLVxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGNsYXNzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIGlzLCBidXQgYXMgYSBiYXNlIGZvciB7QGxpbmsgY29yZS9tYXRlcmlhbHMvQ29tcHV0ZU1hdGVyaWFsLkNvbXB1dGVNYXRlcmlhbCB8IENvbXB1dGVNYXRlcmlhbH0gYW5kIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCB8IFJlbmRlck1hdGVyaWFsfSBjbGFzc2VzLlxuICovXG5leHBvcnQgY2xhc3MgTWF0ZXJpYWwge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBUaGUgdW5pdmVyc2FsIHVuaXF1ZSBpZCBvZiB0aGUge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB1dWlkOiBzdHJpbmdcbiAgLyoqIFRoZSB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBvcHRpb25zOiBNYXRlcmlhbE9wdGlvbnNcblxuICAvKiogUGlwZWxpbmUgZW50cnkgdXNlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgcGlwZWxpbmVFbnRyeTogQWxsb3dlZFBpcGVsaW5lRW50cmllc1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiB7QGxpbmsgQmluZEdyb3VwIHwgYmluZCBncm91cHN9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9XG4gICAqIFRoaXMgYXJyYXkgcmVzcGVjdHMgYSBzcGVjaWZpYyBvcmRlcjpcbiAgICogMS4gVGhlIHtAbGluayB0ZXh0dXJlc0JpbmRHcm91cCB8IHRleHR1cmVzIGJpbmQgZ3JvdXBzfVxuICAgKiAyLiBUaGUge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXB9IGNyZWF0ZWQgdXNpbmcge0BsaW5rIHR5cGVzL0JpbmRHcm91cHMuQmluZEdyb3VwSW5wdXRzI3VuaWZvcm1zIHwgdW5pZm9ybXN9IGFuZCB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBJbnB1dHMjc3RvcmFnZXMgfCBzdG9yYWdlc30gcGFyYW1ldGVycyBpZiBhbnlcbiAgICogMy4gQWRkaXRpb25hbCB7QGxpbmsgTWF0ZXJpYWxQYXJhbXMjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBwYXJhbWV0ZXJzIGlmIGFueVxuICAgKi9cbiAgYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAgfCB0ZXh0dXJlIGJpbmQgZ3JvdXBzfSB1c2VkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB0ZXh0dXJlc0JpbmRHcm91cHM6IFRleHR1cmVCaW5kR3JvdXBbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIEJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBjcmVhdGVkIHVzaW5nIHRoZSB7QGxpbmsgdHlwZXMvQmluZEdyb3Vwcy5CaW5kR3JvdXBJbnB1dHMjdW5pZm9ybXMgfCB1bmlmb3Jtc30gYW5kIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyNzdG9yYWdlcyB8IHN0b3JhZ2VzfSBwYXJhbWV0ZXJzIHdoZW4gaW5zdGFuY2luZyB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgaW5wdXRzQmluZEdyb3VwczogQmluZEdyb3VwW11cbiAgLyoqIEFycmF5IG9mIHtAbGluayBCaW5kR3JvdXAgfCBjbG9uZWQgYmluZCBncm91cHN9IGNyZWF0ZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9ICovXG4gIGNsb25lZEJpbmRHcm91cHM6IEFsbG93ZWRCaW5kR3JvdXBzW11cblxuICAvKiogT2JqZWN0IGNvbnRhaW5pbmcgYWxsIHVuaWZvcm1zIGlucHV0cyBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICB1bmlmb3JtczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgQnVmZmVyQmluZGluZ0lucHV0Pj5cbiAgLyoqIE9iamVjdCBjb250YWluaW5nIGFsbCByZWFkIG9ubHkgb3IgcmVhZC93cml0ZSBzdG9yYWdlcyBpbnB1dHMgaGFuZGxlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgc3RvcmFnZXM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIEJ1ZmZlckJpbmRpbmdJbnB1dD4+XG5cbiAgLyoqIEFycmF5IG9mIHtAbGluayBCaW5kaW5nIHwgYmluZGluZ3N9IGNyZWF0ZWQgdXNpbmcgdGhlIHtAbGluayB0eXBlcy9CaW5kR3JvdXBzLkJpbmRHcm91cElucHV0cyN1bmlmb3JtcyB8IHVuaWZvcm1zfSBhbmQge0BsaW5rIHR5cGVzL0JpbmRHcm91cHMuQmluZEdyb3VwSW5wdXRzI3N0b3JhZ2VzIHwgc3RvcmFnZXN9IHBhcmFtZXRlcnMgd2hlbiBpbnN0YW5jaW5nIHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBpbnB1dHNCaW5kaW5nczogQmluZEdyb3VwQmluZGluZ0VsZW1lbnRbXVxuXG4gIC8qKiBBcnJheSBvZiB7QGxpbmsgVGV4dHVyZX0gaGFuZGxlZCBieSB0aGlzIHtAbGluayBNYXRlcmlhbH0gKi9cbiAgdGV4dHVyZXM6IFRleHR1cmVbXVxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlbmRlclRleHR1cmV9IGhhbmRsZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9ICovXG4gIHJlbmRlclRleHR1cmVzOiBSZW5kZXJUZXh0dXJlW11cbiAgLyoqIEFycmF5IG9mIHtAbGluayBTYW1wbGVyfSBoYW5kbGVkIGJ5IHRoaXMge0BsaW5rIE1hdGVyaWFsfSAqL1xuICBzYW1wbGVyczogU2FtcGxlcltdXG5cbiAgLyoqXG4gICAqIE1hdGVyaWFsIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciByZW5kZXJlciBjbGFzcyBvYmplY3RcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgdHlwZXMvTWF0ZXJpYWxzLk1hdGVyaWFsUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIE1hdGVyaWFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucywgcGFyYW1ldGVyczogTWF0ZXJpYWxQYXJhbXMpIHtcbiAgICB0aGlzLnR5cGUgPSAnTWF0ZXJpYWwnXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHRoaXMudHlwZSlcblxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIGNvbnN0IHsgc2hhZGVycywgbGFiZWwsIHVzZUFzeW5jUGlwZWxpbmUsIHVuaWZvcm1zLCBzdG9yYWdlcywgYmluZEdyb3Vwcywgc2FtcGxlcnMsIHRleHR1cmVzLCByZW5kZXJUZXh0dXJlcyB9ID1cbiAgICAgIHBhcmFtZXRlcnNcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHNoYWRlcnMsXG4gICAgICBsYWJlbCxcbiAgICAgIC4uLih1c2VBc3luY1BpcGVsaW5lICE9PSB1bmRlZmluZWQgJiYgeyB1c2VBc3luY1BpcGVsaW5lIH0pLFxuICAgICAgLi4uKHVuaWZvcm1zICE9PSB1bmRlZmluZWQgJiYgeyB1bmlmb3JtcyB9KSxcbiAgICAgIC4uLihzdG9yYWdlcyAhPT0gdW5kZWZpbmVkICYmIHsgc3RvcmFnZXMgfSksXG4gICAgICAuLi4oYmluZEdyb3VwcyAhPT0gdW5kZWZpbmVkICYmIHsgYmluZEdyb3VwcyB9KSxcbiAgICAgIC4uLihzYW1wbGVycyAhPT0gdW5kZWZpbmVkICYmIHsgc2FtcGxlcnMgfSksXG4gICAgICAuLi4odGV4dHVyZXMgIT09IHVuZGVmaW5lZCAmJiB7IHRleHR1cmVzIH0pLFxuICAgICAgLi4uKHJlbmRlclRleHR1cmVzICE9PSB1bmRlZmluZWQgJiYgeyByZW5kZXJUZXh0dXJlcyB9KSxcbiAgICB9XG5cbiAgICB0aGlzLmJpbmRHcm91cHMgPSBbXVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzID0gW11cbiAgICB0aGlzLmNsb25lZEJpbmRHcm91cHMgPSBbXVxuXG4gICAgdGhpcy5zZXRCaW5kR3JvdXBzKClcblxuICAgIHRoaXMuc2V0VGV4dHVyZXMoKVxuICAgIHRoaXMuc2V0U2FtcGxlcnMoKVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFsbCBiaW5kIGdyb3VwcyBhcmUgcmVhZHksIGFuZCBjcmVhdGUgdGhlbSBpZiBuZWVkZWRcbiAgICovXG4gIGNvbXBpbGVNYXRlcmlhbCgpIHtcbiAgICBjb25zdCB0ZXh0dXJlc0JpbmRHcm91cExlbmd0aCA9IHRoaXMudGV4dHVyZXNCaW5kR3JvdXAuYmluZGluZ3MubGVuZ3RoID8gMSA6IDBcbiAgICBjb25zdCBiaW5kR3JvdXBzUmVhZHkgPSB0aGlzLmJpbmRHcm91cHMubGVuZ3RoID49IHRoaXMuaW5wdXRzQmluZEdyb3Vwcy5sZW5ndGggKyB0ZXh0dXJlc0JpbmRHcm91cExlbmd0aFxuXG4gICAgaWYgKCFiaW5kR3JvdXBzUmVhZHkpIHtcbiAgICAgIHRoaXMuY3JlYXRlQmluZEdyb3VwcygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSByZW5kZXJlciBpcyByZWFkeSwgb3VyIHBpcGVsaW5lIGVudHJ5IGFuZCBwaXBlbGluZSBoYXZlIGJlZW4gY3JlYXRlZCBhbmQgc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhISh0aGlzLnJlbmRlcmVyLnJlYWR5ICYmIHRoaXMucGlwZWxpbmVFbnRyeSAmJiB0aGlzLnBpcGVsaW5lRW50cnkucGlwZWxpbmUgJiYgdGhpcy5waXBlbGluZUVudHJ5LnJlYWR5KVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uLlxuICAgKiBCYXNpY2FsbHkgc2V0IGFsbCB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gbnVsbCBzbyB0aGV5IHdpbGwgYmUgcmVzZXQgbmV4dCB0aW1lIHdlIHRyeSB0byByZW5kZXJcbiAgICovXG4gIGxvc2VDb250ZXh0KCkge1xuICAgIC8vIHN0YXJ0IHdpdGggdGhlIHRleHR1cmVzXG4gICAgdGhpcy50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLnRleHR1cmUgPSBudWxsXG4gICAgICB0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkID0gZmFsc2VcbiAgICB9KVxuXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0ZXh0dXJlLnRleHR1cmUgPSBudWxsXG4gICAgfSlcblxuICAgIC8vIHRoZW4gYmluZCBncm91cHMgYW5kIHN0cnVjdFxuICAgIDtbLi4udGhpcy5iaW5kR3JvdXBzLCAuLi50aGlzLmNsb25lZEJpbmRHcm91cHMsIC4uLnRoaXMuaW5wdXRzQmluZEdyb3Vwc10uZm9yRWFjaCgoYmluZEdyb3VwKSA9PlxuICAgICAgYmluZEdyb3VwLmxvc2VDb250ZXh0KClcbiAgICApXG5cbiAgICAvLyByZXNldCBwaXBlbGluZSBhcyB3ZWxsXG4gICAgdGhpcy5waXBlbGluZUVudHJ5LnBpcGVsaW5lID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gcmVzdG9yZWQgdG8gcmVjcmVhdGUgb3VyIGJpbmQgZ3JvdXBzLlxuICAgKi9cbiAgcmVzdG9yZUNvbnRleHQoKSB7XG4gICAgLy8gc3RhcnQgd2l0aCB0aGUgc2FtcGxlcnMgYW5kIHRleHR1cmVzXG4gICAgdGhpcy5zYW1wbGVycy5mb3JFYWNoKChzYW1wbGVyKSA9PiB7XG4gICAgICAvLyB0aGUgc2FtcGxlcnMgaGF2ZSBhbGwgYmVlbiByZWNyZWF0ZWQgYnkgdGhlIHJlbmRlcmVyLCBqdXN0IHVwZGF0ZSB0aGUgcmVmZXJlbmNlXG4gICAgICBzYW1wbGVyLmNyZWF0ZVNhbXBsZXIoKVxuICAgICAgc2FtcGxlci5iaW5kaW5nLnJlc291cmNlID0gc2FtcGxlci5zYW1wbGVyXG4gICAgfSlcblxuICAgIC8vIHJlY3JlYXRlIHRoZSB0ZXh0dXJlcyBhbmQgcmVzaXplIHRoZW1cbiAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgIHRleHR1cmUuY3JlYXRlVGV4dHVyZSgpXG4gICAgICB0ZXh0dXJlLnJlc2l6ZSgpXG4gICAgfSlcblxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSkgPT4ge1xuICAgICAgdGV4dHVyZS5yZXNpemUodGV4dHVyZS5zaXplKVxuICAgIH0pXG5cbiAgICAvLyBub3cgdGhlIGJpbmQgZ3JvdXBzXG4gICAgO1suLi50aGlzLmJpbmRHcm91cHMsIC4uLnRoaXMuY2xvbmVkQmluZEdyb3VwcywgLi4udGhpcy5pbnB1dHNCaW5kR3JvdXBzXS5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGlmIChiaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICAgIGJpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuICAgICAgfVxuXG4gICAgICAvLyBmaW5hbGx5IHJlLXdyaXRlIGFsbCBvdXIgYnVmZmVyc1xuICAgICAgYmluZEdyb3VwLmJ1ZmZlckJpbmRpbmdzLmZvckVhY2goKGJ1ZmZlckJpbmRpbmcpID0+IChidWZmZXJCaW5kaW5nLnNob3VsZFVwZGF0ZSA9IHRydWUpKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21wbGV0ZSBjb2RlIG9mIGEgZ2l2ZW4gc2hhZGVyIGluY2x1ZGluZyBhbGwgdGhlIFdHU0wgZnJhZ21lbnQgY29kZSBzbmlwcGV0cyBhZGRlZCBieSB0aGUgcGlwZWxpbmVcbiAgICogQHBhcmFtIFtzaGFkZXJUeXBlPVwiZnVsbFwiXSAtIHNoYWRlciB0byBnZXQgdGhlIGNvZGUgZnJvbVxuICAgKiBAcmV0dXJucyAtIFRoZSBjb3JyZXNwb25kaW5nIHNoYWRlciBjb2RlXG4gICAqL1xuICBnZXRTaGFkZXJDb2RlKHNoYWRlclR5cGU6IEZ1bGxTaGFkZXJzVHlwZSA9ICdmdWxsJyk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLnBpcGVsaW5lRW50cnkpIHJldHVybiAnJ1xuXG4gICAgc2hhZGVyVHlwZSA9ICgoKSA9PiB7XG4gICAgICBzd2l0Y2ggKHNoYWRlclR5cGUpIHtcbiAgICAgICAgY2FzZSAndmVydGV4JzpcbiAgICAgICAgY2FzZSAnZnJhZ21lbnQnOlxuICAgICAgICBjYXNlICdjb21wdXRlJzpcbiAgICAgICAgY2FzZSAnZnVsbCc6XG4gICAgICAgICAgcmV0dXJuIHNoYWRlclR5cGVcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ2Z1bGwnXG4gICAgICB9XG4gICAgfSkoKVxuXG4gICAgcmV0dXJuIHRoaXMucGlwZWxpbmVFbnRyeS5zaGFkZXJzW3NoYWRlclR5cGVdLmNvZGVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFkZGVkIGNvZGUgb2YgYSBnaXZlbiBzaGFkZXIsIGkuZS4gYWxsIHRoZSBXR1NMIGZyYWdtZW50IGNvZGUgc25pcHBldHMgYWRkZWQgYnkgdGhlIHBpcGVsaW5lXG4gICAqIEBwYXJhbSBbc2hhZGVyVHlwZT1cInZlcnRleFwiXSAtIHNoYWRlciB0byBnZXQgdGhlIGNvZGUgZnJvbVxuICAgKiBAcmV0dXJucyAtIFRoZSBjb3JyZXNwb25kaW5nIHNoYWRlciBjb2RlXG4gICAqL1xuICBnZXRBZGRlZFNoYWRlckNvZGUoc2hhZGVyVHlwZTogRnVsbFNoYWRlcnNUeXBlID0gJ3ZlcnRleCcpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5waXBlbGluZUVudHJ5KSByZXR1cm4gJydcblxuICAgIHNoYWRlclR5cGUgPSAoKCkgPT4ge1xuICAgICAgc3dpdGNoIChzaGFkZXJUeXBlKSB7XG4gICAgICAgIGNhc2UgJ3ZlcnRleCc6XG4gICAgICAgIGNhc2UgJ2ZyYWdtZW50JzpcbiAgICAgICAgY2FzZSAnY29tcHV0ZSc6XG4gICAgICAgICAgcmV0dXJuIHNoYWRlclR5cGVcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJ3ZlcnRleCdcbiAgICAgIH1cbiAgICB9KSgpXG5cbiAgICByZXR1cm4gdGhpcy5waXBlbGluZUVudHJ5LnNoYWRlcnNbc2hhZGVyVHlwZV0uaGVhZFxuICB9XG5cbiAgLyogQklORCBHUk9VUFMgKi9cblxuICAvKipcbiAgICogUHJlcGFyZSBhbmQgc2V0IG91ciBiaW5kIGdyb3VwcyBiYXNlZCBvbiBpbnB1dHMgYW5kIGJpbmRHcm91cHMgTWF0ZXJpYWwgcGFyYW1ldGVyc1xuICAgKi9cbiAgc2V0QmluZEdyb3VwcygpIHtcbiAgICB0aGlzLnVuaWZvcm1zID0ge31cbiAgICB0aGlzLnN0b3JhZ2VzID0ge31cblxuICAgIHRoaXMuaW5wdXRzQmluZEdyb3VwcyA9IFtdXG4gICAgdGhpcy5pbnB1dHNCaW5kaW5ncyA9IFtdXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnVuaWZvcm1zIHx8IHRoaXMub3B0aW9ucy5zdG9yYWdlcykge1xuICAgICAgY29uc3QgaW5wdXRzQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBCaW5kaW5ncyBiaW5kIGdyb3VwJyxcbiAgICAgICAgdW5pZm9ybXM6IHRoaXMub3B0aW9ucy51bmlmb3JtcyxcbiAgICAgICAgc3RvcmFnZXM6IHRoaXMub3B0aW9ucy5zdG9yYWdlcyxcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMucHJvY2Vzc0JpbmRHcm91cEJpbmRpbmdzKGlucHV0c0JpbmRHcm91cClcbiAgICAgIHRoaXMuaW5wdXRzQmluZEdyb3Vwcy5wdXNoKGlucHV0c0JpbmRHcm91cClcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuYmluZEdyb3Vwcz8uZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NCaW5kR3JvdXBCaW5kaW5ncyhiaW5kR3JvdXApXG4gICAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMucHVzaChiaW5kR3JvdXApXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1haW4ge0BsaW5rIFRleHR1cmVCaW5kR3JvdXAgfCB0ZXh0dXJlIGJpbmQgZ3JvdXB9IGNyZWF0ZWQgYnkgdGhpcyB7QGxpbmsgTWF0ZXJpYWx9IHRvIG1hbmFnZSBhbGwgdGV4dHVyZXMgcmVsYXRlZCBzdHJ1Y3RcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXNCaW5kR3JvdXAoKTogVGV4dHVyZUJpbmRHcm91cCB7XG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzWzBdXG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBhbGwge0BsaW5rIEJpbmRHcm91cH0gc3RydWN0IGFuZCBhZGQgdGhlbSB0byB0aGUgY29ycmVzcG9uZGluZyBvYmplY3RzIGJhc2VkIG9uIHRoZWlyIGJpbmRpbmcgdHlwZXMuIEFsc28gc3RvcmUgdGhlbSBpbiBhIGlucHV0c0JpbmRpbmdzIGFycmF5IHRvIGZhY2lsaXRhdGUgZnVydGhlciBhY2Nlc3MgdG8gc3RydWN0LlxuICAgKiBAcGFyYW0gYmluZEdyb3VwIC0gVGhlIHtAbGluayBCaW5kR3JvdXB9IHRvIHByb2Nlc3NcbiAgICovXG4gIHByb2Nlc3NCaW5kR3JvdXBCaW5kaW5ncyhiaW5kR3JvdXA6IEJpbmRHcm91cCkge1xuICAgIGJpbmRHcm91cC5iaW5kaW5ncy5mb3JFYWNoKChpbnB1dEJpbmRpbmcpID0+IHtcbiAgICAgIGlmIChpbnB1dEJpbmRpbmcuYmluZGluZ1R5cGUgPT09ICd1bmlmb3JtJylcbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHtcbiAgICAgICAgICAuLi50aGlzLnVuaWZvcm1zLFxuICAgICAgICAgIFtpbnB1dEJpbmRpbmcubmFtZV06IChpbnB1dEJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLmlucHV0cyxcbiAgICAgICAgfVxuICAgICAgaWYgKGlucHV0QmluZGluZy5iaW5kaW5nVHlwZSA9PT0gJ3N0b3JhZ2UnKVxuICAgICAgICB0aGlzLnN0b3JhZ2VzID0ge1xuICAgICAgICAgIC4uLnRoaXMuc3RvcmFnZXMsXG4gICAgICAgICAgW2lucHV0QmluZGluZy5uYW1lXTogKGlucHV0QmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkuaW5wdXRzLFxuICAgICAgICB9XG5cbiAgICAgIHRoaXMuaW5wdXRzQmluZGluZ3MucHVzaChpbnB1dEJpbmRpbmcpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGJpbmQgZ3JvdXBzIGlmIHRoZXkgbmVlZCB0byBiZSBjcmVhdGVkXG4gICAqL1xuICBjcmVhdGVCaW5kR3JvdXBzKCkge1xuICAgIC8vIHRleHR1cmVzIGZpcnN0XG4gICAgaWYgKHRoaXMudGV4dHVyZXNCaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLnNldEluZGV4KHRoaXMuYmluZEdyb3Vwcy5sZW5ndGgpXG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgIHRoaXMuYmluZEdyb3Vwcy5wdXNoKHRoaXMudGV4dHVyZXNCaW5kR3JvdXApXG4gICAgfVxuXG4gICAgLy8gdGhlbiB1bmlmb3Jtcy9zdG9yYWdlcyBpbnB1dHNcbiAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBpZiAoYmluZEdyb3VwLnNob3VsZENyZWF0ZUJpbmRHcm91cCkge1xuICAgICAgICBiaW5kR3JvdXAuc2V0SW5kZXgodGhpcy5iaW5kR3JvdXBzLmxlbmd0aClcbiAgICAgICAgYmluZEdyb3VwLmNyZWF0ZUJpbmRHcm91cCgpXG5cbiAgICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBmaW5hbGx5LCBiaW5kR3JvdXBzIGlucHV0c1xuICAgIHRoaXMub3B0aW9ucy5iaW5kR3JvdXBzPy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIC8vIGl0IGhhcyBiZWVuIGNyZWF0ZWQgYnV0IG5vdCBiZWVuIGFkZGVkIHlldD8gYWRkIGl0IVxuICAgICAgaWYgKCFiaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwICYmICF0aGlzLmJpbmRHcm91cHMuZmluZCgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKSkge1xuICAgICAgICBiaW5kR3JvdXAuc2V0SW5kZXgodGhpcy5iaW5kR3JvdXBzLmxlbmd0aClcbiAgICAgICAgdGhpcy5iaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKVxuICAgICAgfVxuXG4gICAgICAvLyBhZGQgaXQgdG8gb3VyIHRleHR1cmVzIGJpbmQgZ3JvdXBzIGFzIHdlbGwgaWYgbmVlZGVkXG4gICAgICBpZiAoYmluZEdyb3VwIGluc3RhbmNlb2YgVGV4dHVyZUJpbmRHcm91cCAmJiAhdGhpcy50ZXh0dXJlc0JpbmRHcm91cHMuZmluZCgoYkcpID0+IGJHLnV1aWQgPT09IGJpbmRHcm91cC51dWlkKSkge1xuICAgICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3Vwcy5wdXNoKGJpbmRHcm91cClcblxuICAgICAgICAvLyBhbHNvIGFkZCB0aGUgdGV4dHVyZXM/XG4gICAgICAgIGJpbmRHcm91cC50ZXh0dXJlcy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICAgICAgaWYgKHRleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlICYmICF0aGlzLnRleHR1cmVzLmZpbmQoKHQpID0+IHQudXVpZCA9PT0gdGV4dHVyZS51dWlkKSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlcy5wdXNoKHRleHR1cmUpXG4gICAgICAgICAgfSBlbHNlIGlmICh0ZXh0dXJlIGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSAmJiAhdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0KSA9PiB0LnV1aWQgPT09IHRleHR1cmUudXVpZCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lcyBhIHtAbGluayBCaW5kR3JvdXB9IGZyb20gYSBsaXN0IG9mIGJ1ZmZlcnNcbiAgICogVXNlZnVsIHRvIGNyZWF0ZSBhIG5ldyBiaW5kIGdyb3VwIHdpdGggYWxyZWFkeSBjcmVhdGVkIGJ1ZmZlcnMsIGJ1dCBzd2FwcGVkXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gcGFyYW1ldGVycyB1c2VkIHRvIGNsb25lIHRoZSB7QGxpbmsgQmluZEdyb3VwIHwgYmluZCBncm91cH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuYmluZEdyb3VwIC0gdGhlIEJpbmRHcm91cCB0byBjbG9uZVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5ncyAtIG91ciBpbnB1dCBiaW5kaW5nIGJ1ZmZlcnNcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMua2VlcExheW91dCAtIHdoZXRoZXIgd2Ugc2hvdWxkIGtlZXAgb3JpZ2luYWwgYmluZCBncm91cCBsYXlvdXQgb3Igbm90XG4gICAqIEByZXR1cm5zIC0gdGhlIGNsb25lZCBCaW5kR3JvdXBcbiAgICovXG4gIGNsb25lQmluZEdyb3VwKHtcbiAgICBiaW5kR3JvdXAsXG4gICAgYmluZGluZ3MgPSBbXSxcbiAgICBrZWVwTGF5b3V0ID0gdHJ1ZSxcbiAgfToge1xuICAgIGJpbmRHcm91cD86IEFsbG93ZWRCaW5kR3JvdXBzXG4gICAgYmluZGluZ3M/OiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudFtdXG4gICAga2VlcExheW91dD86IGJvb2xlYW5cbiAgfSk6IEFsbG93ZWRCaW5kR3JvdXBzIHwgbnVsbCB7XG4gICAgaWYgKCFiaW5kR3JvdXApIHJldHVybiBudWxsXG5cbiAgICBjb25zdCBjbG9uZSA9IGJpbmRHcm91cC5jbG9uZSh7IGJpbmRpbmdzLCBrZWVwTGF5b3V0IH0pXG4gICAgdGhpcy5jbG9uZWRCaW5kR3JvdXBzLnB1c2goY2xvbmUpXG5cbiAgICByZXR1cm4gY2xvbmVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBjb3JyZXNwb25kaW5nIHtAbGluayBCaW5kR3JvdXB9IG9yIHtAbGluayBUZXh0dXJlQmluZEdyb3VwfSBmcm9tIG9uZSBvZiBpdHMgYmluZGluZyBuYW1lL2tleVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lL2tleSB0byBsb29rIGZvclxuICAgKiBAcmV0dXJucyAtIGJpbmQgZ3JvdXAgZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldEJpbmRHcm91cEJ5QmluZGluZ05hbWUoYmluZGluZ05hbWU6IEJ1ZmZlckJpbmRpbmdbJ25hbWUnXSA9ICcnKTogQWxsb3dlZEJpbmRHcm91cHMgfCBudWxsIHtcbiAgICByZXR1cm4gKHRoaXMucmVhZHkgPyB0aGlzLmJpbmRHcm91cHMgOiB0aGlzLmlucHV0c0JpbmRHcm91cHMpLmZpbmQoKGJpbmRHcm91cCkgPT4ge1xuICAgICAgcmV0dXJuIGJpbmRHcm91cC5iaW5kaW5ncy5maW5kKChiaW5kaW5nKSA9PiBiaW5kaW5nLm5hbWUgPT09IGJpbmRpbmdOYW1lKVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBhIGJpbmQgZ3JvdXAsIG9ubHkgaWYgaXQgaXMgbm90IHVzZWQgYnkgYW5vdGhlciBvYmplY3RcbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIGJpbmQgZ3JvdXAgdG8gZXZlbnR1YWxseSBkZXN0cm95XG4gICAqL1xuICBkZXN0cm95QmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpIHtcbiAgICAvLyBjaGVjayBpZiB0aGlzIGJpbmQgZ3JvdXAgaXMgdXNlZCBieSBhbm90aGVyIG9iamVjdCBiZWZvcmUgYWN0dWFsbHkgZGVzdHJveWluZyBpdFxuICAgIGNvbnN0IG9iamVjdHNVc2luZ0JpbmRHcm91cCA9IHRoaXMucmVuZGVyZXIuZ2V0T2JqZWN0c0J5QmluZEdyb3VwKGJpbmRHcm91cClcblxuICAgIGNvbnN0IHNob3VsZERlc3Ryb3kgPVxuICAgICAgIW9iamVjdHNVc2luZ0JpbmRHcm91cCB8fCAhb2JqZWN0c1VzaW5nQmluZEdyb3VwLmZpbmQoKG9iamVjdCkgPT4gb2JqZWN0Lm1hdGVyaWFsLnV1aWQgIT09IHRoaXMudXVpZClcblxuICAgIGlmIChzaG91bGREZXN0cm95KSB7XG4gICAgICBiaW5kR3JvdXAuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYWxsIGJpbmQgZ3JvdXBzXG4gICAqL1xuICBkZXN0cm95QmluZEdyb3VwcygpIHtcbiAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB0aGlzLmRlc3Ryb3lCaW5kR3JvdXAoYmluZEdyb3VwKSlcbiAgICB0aGlzLmNsb25lZEJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB0aGlzLmRlc3Ryb3lCaW5kR3JvdXAoYmluZEdyb3VwKSlcbiAgICB0aGlzLnRleHR1cmVzQmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHRoaXMuZGVzdHJveUJpbmRHcm91cChiaW5kR3JvdXApKVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzID0gW11cbiAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMgPSBbXVxuICAgIHRoaXMuYmluZEdyb3VwcyA9IFtdXG4gICAgdGhpcy5jbG9uZWRCaW5kR3JvdXBzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiB7QGxpbmsgQmluZEdyb3VwI3VwZGF0ZSB8IFVwZGF0ZX0gYWxsIGJpbmQgZ3JvdXBzOlxuICAgKiAtIFVwZGF0ZSBhbGwge0BsaW5rIHRleHR1cmVzQmluZEdyb3VwcyB8IHRleHR1cmVzIGJpbmQgZ3JvdXBzfSB0ZXh0dXJlc1xuICAgKiAtIFVwZGF0ZSBpdHMge0BsaW5rIEJpbmRHcm91cCNidWZmZXJCaW5kaW5ncyB8IGJ1ZmZlciBiaW5kaW5nc31cbiAgICogLSBDaGVjayBpZiBpdCBldmVudHVhbGx5IG5lZWRzIGEge0BsaW5rIEJpbmRHcm91cCNyZXNldEJpbmRHcm91cCB8IHJlc2V0fVxuICAgKiAtIENoZWNrIGlmIHdlIG5lZWQgdG8gZmx1c2ggdGhlIHBpcGVsaW5lXG4gICAqL1xuICB1cGRhdGVCaW5kR3JvdXBzKCkge1xuICAgIC8vIG5vdyB1cGRhdGUgYWxsIGJpbmQgZ3JvdXBzIGluIHVzZSBhbmQgY2hlY2sgaWYgdGhleSBuZWVkIHRvIGZsdXNoIHRoZSBwaXBlbGluZVxuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGJpbmRHcm91cC51cGRhdGUoKVxuXG4gICAgICAvLyBpZiBhIGJpbmQgZ3JvdXAgbmVlZHMgdG8gZmx1c2ggdGhlIHBpcGVsaW5lXG4gICAgICAvLyB1c3VhbGx5IGhhcHBlbnMgaWYgb25lIG9mIHRoZSBzdHJ1Y3QgYmluZGluZ1R5cGUgaGFzIGNoYW5nZWQsXG4gICAgICAvLyB3aGljaCBtZWFucyB0aGUgc2hhZGVyIHNob3VsZCBiZSByZS1wYXRjaGVkIGFuZCByZWNyZWF0ZWRcbiAgICAgIGlmIChiaW5kR3JvdXAubmVlZHNQaXBlbGluZUZsdXNoICYmIHRoaXMucGlwZWxpbmVFbnRyeS5yZWFkeSkge1xuICAgICAgICB0aGlzLnBpcGVsaW5lRW50cnkuZmx1c2hQaXBlbGluZUVudHJ5KHRoaXMuYmluZEdyb3VwcylcbiAgICAgICAgYmluZEdyb3VwLm5lZWRzUGlwZWxpbmVGbHVzaCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qIElOUFVUUyAqL1xuXG4gIC8qKlxuICAgKiBMb29rIGZvciBhIHtAbGluayBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IGJpbmRpbmd9IGJ5IG5hbWUgaW4gYWxsIHtAbGluayBpbnB1dHNCaW5kaW5ncyB8IGlucHV0IGJpbmRpbmdzfVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSB0aGUgYmluZGluZyBuYW1lIG9yIGtleVxuICAgKiBAcmV0dXJucyAtIHRoZSBmb3VuZCBiaW5kaW5nLCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICAgKi9cbiAgZ2V0QmluZGluZ0J5TmFtZShiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddID0gJycpOiBCaW5kR3JvdXBCaW5kaW5nRWxlbWVudCB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRzQmluZGluZ3MuZmluZCgoYmluZGluZykgPT4gYmluZGluZy5uYW1lID09PSBiaW5kaW5nTmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29rIGZvciBhIHtAbGluayBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCB8IGJ1ZmZlciBiaW5kaW5nfSBieSBuYW1lIGluIGFsbCB7QGxpbmsgaW5wdXRzQmluZGluZ3MgfCBpbnB1dCBiaW5kaW5nc31cbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZSBvciBrZXlcbiAgICogQHJldHVybnMgLSB0aGUgZm91bmQgYmluZGluZywgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWU6IEJpbmRpbmdbJ25hbWUnXSA9ICcnKTogQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmlucHV0c0JpbmRpbmdzLmZpbmQoKGJpbmRpbmcpID0+IGJpbmRpbmcubmFtZSA9PT0gYmluZGluZ05hbWUgJiYgJ2J1ZmZlcicgaW4gYmluZGluZykgYXNcbiAgICAgIHwgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnRcbiAgICAgIHwgdW5kZWZpbmVkXG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgYSBnaXZlbiBidWZmZXIgYmluZGluZyB1cGRhdGUgZmxhZyB0byB1cGRhdGUgaXQgYXQgbmV4dCByZW5kZXJcbiAgICogQHBhcmFtIGJ1ZmZlckJpbmRpbmdOYW1lIC0gdGhlIGJ1ZmZlciBiaW5kaW5nIG5hbWVcbiAgICogQHBhcmFtIGJpbmRpbmdOYW1lIC0gdGhlIGJpbmRpbmcgbmFtZVxuICAgKi9cbiAgc2hvdWxkVXBkYXRlSW5wdXRzQmluZGluZ3MoYnVmZmVyQmluZGluZ05hbWU/OiBCdWZmZXJCaW5kaW5nWyduYW1lJ10sIGJpbmRpbmdOYW1lPzogQnVmZmVyQmluZGluZ0lucHV0WyduYW1lJ10pIHtcbiAgICBpZiAoIWJ1ZmZlckJpbmRpbmdOYW1lKSByZXR1cm5cblxuICAgIGNvbnN0IGJ1ZmZlckJpbmRpbmcgPSB0aGlzLmdldEJpbmRpbmdCeU5hbWUoYnVmZmVyQmluZGluZ05hbWUpXG4gICAgaWYgKGJ1ZmZlckJpbmRpbmcpIHtcbiAgICAgIGlmICghYmluZGluZ05hbWUpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoKGJ1ZmZlckJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLmlucHV0cykuZm9yRWFjaCgoYmluZGluZ0tleSkgPT5cbiAgICAgICAgICAoYnVmZmVyQmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkuc2hvdWxkVXBkYXRlQmluZGluZyhiaW5kaW5nS2V5KVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICA7KGJ1ZmZlckJpbmRpbmcgYXMgQmluZEdyb3VwQnVmZmVyQmluZGluZ0VsZW1lbnQpLnNob3VsZFVwZGF0ZUJpbmRpbmcoYmluZGluZ05hbWUpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyogU0FNUExFUlMgJiBURVhUVVJFUyAqL1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlIG91ciB0ZXh0dXJlcyBhcnJheSBhbmQgc2V0IHRoZSB7QGxpbmsgVGV4dHVyZUJpbmRHcm91cH1cbiAgICovXG4gIHNldFRleHR1cmVzKCkge1xuICAgIHRoaXMudGV4dHVyZXMgPSBbXVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMgPSBbXVxuICAgIHRoaXMudGV4dHVyZXNCaW5kR3JvdXBzLnB1c2goXG4gICAgICBuZXcgVGV4dHVyZUJpbmRHcm91cCh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnOiBUZXh0dXJlcyBiaW5kIGdyb3VwJyxcbiAgICAgIH0pXG4gICAgKVxuXG4gICAgdGhpcy5vcHRpb25zLnRleHR1cmVzPy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcbiAgICB9KVxuXG4gICAgdGhpcy5vcHRpb25zLnJlbmRlclRleHR1cmVzPy5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB7XG4gICAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHRleHR1cmUgdG8gb3VyIGFycmF5LCBhbmQgYWRkIGl0IHRvIHRoZSB0ZXh0dXJlcyBiaW5kIGdyb3VwIG9ubHkgaWYgdXNlZCBpbiB0aGUgc2hhZGVycyAoYXZvaWQgYmluZGluZyB1c2VsZXNzIGRhdGEpXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0gdGV4dHVyZSB0byBhZGRcbiAgICovXG4gIGFkZFRleHR1cmUodGV4dHVyZTogVGV4dHVyZSB8IFJlbmRlclRleHR1cmUpIHtcbiAgICBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHRoaXMudGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgIH0gZWxzZSBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZXMucHVzaCh0ZXh0dXJlKVxuICAgIH1cblxuICAgIC8vIGlzIGl0IHVzZWQgaW4gb3VyIHNoYWRlcnM/XG4gICAgaWYgKFxuICAgICAgKHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleCAmJiB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZS5pbmRleE9mKHRleHR1cmUub3B0aW9ucy5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZS5pbmRleE9mKHRleHR1cmUub3B0aW9ucy5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuY29tcHV0ZSAmJiB0aGlzLm9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmNvZGUuaW5kZXhPZih0ZXh0dXJlLm9wdGlvbnMubmFtZSkgIT09IC0xKVxuICAgICkge1xuICAgICAgdGhpcy50ZXh0dXJlc0JpbmRHcm91cC5hZGRUZXh0dXJlKHRleHR1cmUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYSB7QGxpbmsgVGV4dHVyZX0gb3Ige0BsaW5rIFJlbmRlclRleHR1cmV9LCBvbmx5IGlmIGl0IGlzIG5vdCB1c2VkIGJ5IGFub3RoZXIgb2JqZWN0IG9yIGNhY2hlZC5cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gb3Ige0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGV2ZW50dWFsbHkgZGVzdHJveVxuICAgKi9cbiAgZGVzdHJveVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSB8IFJlbmRlclRleHR1cmUpIHtcbiAgICAvLyBkbyBub3QgZGVzdHJveSBhIHRleHR1cmUgdGhhdCBtdXN0IHN0YXkgaW4gY2FjaGVcbiAgICBpZiAoKHRleHR1cmUgYXMgVGV4dHVyZSkub3B0aW9ucy5jYWNoZSkgcmV0dXJuXG5cbiAgICAvLyBjaGVjayBpZiB0aGlzIHRleHR1cmUgaXMgdXNlZCBieSBhbm90aGVyIG9iamVjdCBiZWZvcmUgYWN0dWFsbHkgZGVzdHJveWluZyBpdFxuICAgIGNvbnN0IG9iamVjdHNVc2luZ1RleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdldE9iamVjdHNCeVRleHR1cmUodGV4dHVyZSlcblxuICAgIGNvbnN0IHNob3VsZERlc3Ryb3kgPVxuICAgICAgIW9iamVjdHNVc2luZ1RleHR1cmUgfHwgIW9iamVjdHNVc2luZ1RleHR1cmUuc29tZSgob2JqZWN0KSA9PiBvYmplY3QubWF0ZXJpYWwudXVpZCAhPT0gdGhpcy51dWlkKVxuXG4gICAgaWYgKHNob3VsZERlc3Ryb3kpIHtcbiAgICAgIHRleHR1cmUuZGVzdHJveSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYWxsIHRoZSBNYXRlcmlhbCB0ZXh0dXJlc1xuICAgKi9cbiAgZGVzdHJveVRleHR1cmVzKCkge1xuICAgIHRoaXMudGV4dHVyZXM/LmZvckVhY2goKHRleHR1cmUpID0+IHRoaXMuZGVzdHJveVRleHR1cmUodGV4dHVyZSkpXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcz8uZm9yRWFjaCgodGV4dHVyZSkgPT4gdGhpcy5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlKSlcbiAgICB0aGlzLnRleHR1cmVzID0gW11cbiAgICB0aGlzLnJlbmRlclRleHR1cmVzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIG91ciBzYW1wbGVycyBhcnJheSBhbmQgYWx3YXlzIGFkZCBhIGRlZmF1bHQgc2FtcGxlciBpZiBub3QgYWxyZWFkeSBwYXNzZWQgYXMgcGFyYW1ldGVyXG4gICAqL1xuICBzZXRTYW1wbGVycygpIHtcbiAgICB0aGlzLnNhbXBsZXJzID0gW11cblxuICAgIHRoaXMub3B0aW9ucy5zYW1wbGVycz8uZm9yRWFjaCgoc2FtcGxlcikgPT4ge1xuICAgICAgdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpXG4gICAgfSlcblxuICAgIC8vIGNyZWF0ZSBvdXIgZGVmYXVsdCBzYW1wbGVyIGlmIG5lZWRlZFxuICAgIGNvbnN0IGhhc0RlZmF1bHRTYW1wbGVyID0gdGhpcy5zYW1wbGVycy5maW5kKChzYW1wbGVyKSA9PiBzYW1wbGVyLm5hbWUgPT09ICdkZWZhdWx0U2FtcGxlcicpXG4gICAgaWYgKCFoYXNEZWZhdWx0U2FtcGxlcikge1xuICAgICAgY29uc3Qgc2FtcGxlciA9IG5ldyBTYW1wbGVyKHRoaXMucmVuZGVyZXIsIHsgbmFtZTogJ2RlZmF1bHRTYW1wbGVyJyB9KVxuICAgICAgdGhpcy5hZGRTYW1wbGVyKHNhbXBsZXIpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNhbXBsZXIgdG8gb3VyIGFycmF5LCBhbmQgYWRkIGl0IHRvIHRoZSB0ZXh0dXJlcyBiaW5kIGdyb3VwIG9ubHkgaWYgdXNlZCBpbiB0aGUgc2hhZGVycyAoYXZvaWQgYmluZGluZyB1c2VsZXNzIGRhdGEpXG4gICAqIEBwYXJhbSBzYW1wbGVyIC0gc2FtcGxlciB0byBhZGRcbiAgICovXG4gIGFkZFNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuc2FtcGxlcnMucHVzaChzYW1wbGVyKVxuXG4gICAgLy8gaXMgaXQgdXNlZCBpbiBvdXIgc2hhZGVycz9cbiAgICBpZiAoXG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4ICYmIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmluZGV4T2Yoc2FtcGxlci5uYW1lKSAhPT0gLTEpIHx8XG4gICAgICAodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZS5pbmRleE9mKHNhbXBsZXIubmFtZSkgIT09IC0xKSB8fFxuICAgICAgKHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUgJiYgdGhpcy5vcHRpb25zLnNoYWRlcnMuY29tcHV0ZS5jb2RlLmluZGV4T2Yoc2FtcGxlci5uYW1lKSAhPT0gLTEpXG4gICAgKSB7XG4gICAgICB0aGlzLnRleHR1cmVzQmluZEdyb3VwLmFkZFNhbXBsZXIoc2FtcGxlcilcbiAgICB9XG4gIH1cblxuICAvKiBCVUZGRVIgUkVTVUxUUyAqL1xuXG4gIC8qKlxuICAgKiBNYXAgYSB7QGxpbmsgR1BVQnVmZmVyfSBhbmQgcHV0IGEgY29weSBvZiB0aGUgZGF0YSBpbnRvIGEge0BsaW5rIEZsb2F0MzJBcnJheX1cbiAgICogQHBhcmFtIGJ1ZmZlciAtIHtAbGluayBHUFVCdWZmZXJ9IHRvIG1hcFxuICAgKiBAYXN5bmNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJSZXN1bHQoYnVmZmVyOiBHUFVCdWZmZXIpOiBQcm9taXNlPEZsb2F0MzJBcnJheT4ge1xuICAgIGF3YWl0IGJ1ZmZlci5tYXBBc3luYyhHUFVNYXBNb2RlLlJFQUQpXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKS5zbGljZSgwKSlcbiAgICBidWZmZXIudW5tYXAoKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIE1hcCB0aGUgY29udGVudCBvZiBhIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9IGFuZCBwdXQgYSBjb3B5IG9mIHRoZSBkYXRhIGludG8gYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKiBAcGFyYW0gYmluZGluZ05hbWUgLSBUaGUgbmFtZSBvZiB0aGUge0BsaW5rIGlucHV0c0JpbmRpbmdzIHwgaW5wdXQgYmluZGluZ3N9IGZyb20gd2hpY2ggdG8gbWFwIHRoZSB7QGxpbmsgQnVmZmVyQmluZGluZyNidWZmZXIgfCBHUFUgYnVmZmVyfVxuICAgKiBAYXN5bmNcbiAgICogQHJldHVybnMgLSB7QGxpbmsgRmxvYXQzMkFycmF5fSBob2xkaW5nIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJCaW5kaW5nUmVzdWx0QnlCaW5kaW5nTmFtZShiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddID0gJycpOiBQcm9taXNlPEZsb2F0MzJBcnJheT4ge1xuICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWUpXG4gICAgaWYgKGJpbmRpbmcgJiYgJ2J1ZmZlcicgaW4gYmluZGluZykge1xuICAgICAgY29uc3QgZHN0QnVmZmVyID0gdGhpcy5yZW5kZXJlci5jb3B5QnVmZmVyVG9CdWZmZXIoe1xuICAgICAgICBzcmNCdWZmZXI6IGJpbmRpbmcuYnVmZmVyLFxuICAgICAgfSlcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldEJ1ZmZlclJlc3VsdChkc3RCdWZmZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KDApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hcCB0aGUgY29udGVudCBvZiBhIHNwZWNpZmljIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IGJlbG9uZ2luZyB0byBhIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9IGFuZCBwdXQgYSBjb3B5IG9mIHRoZSBkYXRhIGludG8gYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5nTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSB7QGxpbmsgaW5wdXRzQmluZGluZ3MgfCBpbnB1dCBiaW5kaW5nc30gZnJvbSB3aGljaCB0byBtYXAgdGhlIHtAbGluayBCdWZmZXJCaW5kaW5nI2J1ZmZlciB8IEdQVSBidWZmZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJ1ZmZlckVsZW1lbnROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHtAbGluayBCdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IGZyb20gd2hpY2ggdG8gZXh0cmFjdCB0aGUgZGF0YSBhZnRlcndhcmRzXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIEZsb2F0MzJBcnJheX0gaG9sZGluZyB7QGxpbmsgR1BVQnVmZmVyfSBkYXRhXG4gICAqL1xuICBhc3luYyBnZXRCdWZmZXJFbGVtZW50UmVzdWx0QnlOYW1lcyh7XG4gICAgYmluZGluZ05hbWUsXG4gICAgYnVmZmVyRWxlbWVudE5hbWUsXG4gIH06IHtcbiAgICBiaW5kaW5nTmFtZTogQmluZGluZ1snbmFtZSddXG4gICAgYnVmZmVyRWxlbWVudE5hbWU6IEJ1ZmZlckVsZW1lbnRbJ25hbWUnXVxuICB9KTogUHJvbWlzZTxGbG9hdDMyQXJyYXk+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldEJ1ZmZlckJpbmRpbmdSZXN1bHRCeUJpbmRpbmdOYW1lKGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKCFidWZmZXJFbGVtZW50TmFtZSB8fCByZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmdldEJ1ZmZlckJpbmRpbmdCeU5hbWUoYmluZGluZ05hbWUpXG4gICAgICBpZiAoYmluZGluZykge1xuICAgICAgICByZXR1cm4gYmluZGluZy5leHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHsgcmVzdWx0LCBidWZmZXJFbGVtZW50TmFtZSB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIHJlbmRlcmluZyB0aGUgTWF0ZXJpYWwuXG4gICAqIEZpcnN0LCBjaGVjayBpZiB3ZSBuZWVkIHRvIGNyZWF0ZSBvdXIgYmluZCBncm91cHMgb3IgcGlwZWxpbmVcbiAgICogVGhlbiByZW5kZXIgdGhlIHtAbGluayB0ZXh0dXJlc31cbiAgICogRmluYWxseSB1cGRhdGVzIGFsbCB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc31cbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyKCkge1xuICAgIC8vIHNldCBvdXIgbWF0ZXJpYWwgaWYgbmVlZGVkXG4gICAgdGhpcy5jb21waWxlTWF0ZXJpYWwoKVxuXG4gICAgLy8gZmlyc3Qgd2hhdCBuZWVkcyB0byBiZSBkb25lIGZvciBhbGwgdGV4dHVyZXNcbiAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgIHRleHR1cmUucmVuZGVyKClcbiAgICB9KVxuXG4gICAgLy8gdXBkYXRlIGJpbmQgZ3JvdXBzXG4gICAgdGhpcy51cGRhdGVCaW5kR3JvdXBzKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgcGlwZWxpbmVcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHBhc3MgZW5jb2RlclxuICAgKi9cbiAgc2V0UGlwZWxpbmUocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnBpcGVsaW5lTWFuYWdlci5zZXRDdXJyZW50UGlwZWxpbmUocGFzcywgdGhpcy5waXBlbGluZUVudHJ5KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbWF0ZXJpYWwgaWYgaXQgaXMgcmVhZHk6XG4gICAqIFNldCB0aGUgY3VycmVudCBwaXBlbGluZSBhbmQgc2V0IHRoZSBiaW5kIGdyb3Vwc1xuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcGFzcyBlbmNvZGVyXG4gICAqL1xuICByZW5kZXIocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICAvLyByZW5kZXJlciBvciBwaXBlbGluZSBhcmUgbm90IHJlYWR5IHlldFxuICAgIC8vIG5vdCByZWFsbHkgbmVlZGVkIHNpbmNlIG1lc2hlcy9jb21wdXRlIHBhc3NlcyBkbyBhbHJlYWR5IGNoZWNrIGl0IGJlZm9yZWhhbmRcbiAgICAvLyBtb3N0bHkgaGVyZSBhcyBhIHNhZmVndWFyZFxuICAgIGlmICghdGhpcy5yZWFkeSkgcmV0dXJuXG5cbiAgICAvLyBzZXQgY3VycmVudCBwaXBlbGluZVxuICAgIHRoaXMuc2V0UGlwZWxpbmUocGFzcylcblxuICAgIC8vIHNldCBiaW5kIGdyb3Vwc1xuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIHBhc3Muc2V0QmluZEdyb3VwKGJpbmRHcm91cC5pbmRleCwgYmluZEdyb3VwLmJpbmRHcm91cClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIE1hdGVyaWFsXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIGRlc3Ryb3kgYWxsIGJ1ZmZlcnMgY3JlYXRlZCB3aXRoIGNyZWF0ZUJ1ZmZlclxuICAgIHRoaXMuZGVzdHJveUJpbmRHcm91cHMoKVxuICAgIHRoaXMuZGVzdHJveVRleHR1cmVzKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0ZXJpYWwgfSBmcm9tICcuL01hdGVyaWFsJ1xuaW1wb3J0IHsgQ29tcHV0ZU1hdGVyaWFsT3B0aW9ucywgQ29tcHV0ZU1hdGVyaWFsUGFyYW1zLCBGdWxsU2hhZGVyc1R5cGUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBDb21wdXRlUGlwZWxpbmVFbnRyeSB9IGZyb20gJy4uL3BpcGVsaW5lcy9Db21wdXRlUGlwZWxpbmVFbnRyeSdcbmltcG9ydCB7IFdyaXRhYmxlQnVmZmVyQmluZGluZyB9IGZyb20gJy4uL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZydcblxuLyoqXG4gKiBDcmVhdGUgYSB7QGxpbmsgTWF0ZXJpYWx9IHNwZWNpZmljYWxseSBidWlsdCB0byBydW4gY29tcHV0YXRpb25zIG9uIHRoZSBHUFUuIEludGVybmFsbHkgdXNlZCBieSB7QGxpbmsgY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzLkNvbXB1dGVQYXNzIHwgQ29tcHV0ZVBhc3N9LlxuICpcbiAqICMjIENvbXB1dGUgcGlwZWxpbmVcbiAqXG4gKiBBIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBhIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0uIE9uY2UgYWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAgfCBCaW5kR3JvdXB9IGhhdmUgYmVlbiBjcmVhdGVkLCB0aGV5IGFyZSBzZW50IHdpdGggdGhlIGNvbXB1dGUgc2hhZGVyIGNvZGUgdG8gdGhlIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0sIHdoaWNoIGlzIGluIHR1cm5zIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX0uXG4gKlxuICogQWZ0ZXIgdGhlIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBjb21waWxlZCwgdGhlIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9IGlzIGNvbnNpZGVyZWQgdG8gYmUgcmVhZHkgYW5kIGl0IGNhbiBzdGFydCBydW5uaW5nIHRoZSBjb21wdXRlIHNoYWRlciBjb21wdXRhdGlvbnMuXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZU1hdGVyaWFsIGV4dGVuZHMgTWF0ZXJpYWwge1xuICAvKioge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5IHwgQ29tcHV0ZSBwaXBlbGluZSBlbnRyeX0gdXNlZCBieSB0aGlzIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9ICovXG4gIHBpcGVsaW5lRW50cnk6IENvbXB1dGVQaXBlbGluZUVudHJ5XG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIENvbXB1dGVNYXRlcmlhbH0gKi9cbiAgb3B0aW9uczogQ29tcHV0ZU1hdGVyaWFsT3B0aW9uc1xuXG4gIC8qKiBEZWZhdWx0IHdvcmsgZ3JvdXAgZGlzcGF0Y2ggc2l6ZSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBDb21wdXRlTWF0ZXJpYWx9ICovXG4gIGRpc3BhdGNoU2l6ZT86IG51bWJlciB8IG51bWJlcltdXG5cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgdXNlQ3VzdG9tUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2s6IChwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpID0+IHZvaWRcblxuICAvKipcbiAgICogQ29tcHV0ZU1hdGVyaWFsIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciB7QGxpbmsgUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBDb21wdXRlTWF0ZXJpYWxQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzOiBDb21wdXRlTWF0ZXJpYWxQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGNvbnN0IHR5cGUgPSAnQ29tcHV0ZU1hdGVyaWFsJ1xuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgdHlwZSlcblxuICAgIHN1cGVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuXG4gICAgbGV0IHsgc2hhZGVycywgZGlzcGF0Y2hTaXplIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICBpZiAoIXNoYWRlcnMgfHwgIXNoYWRlcnMuY29tcHV0ZSkge1xuICAgICAgc2hhZGVycyA9IHtcbiAgICAgICAgY29tcHV0ZToge1xuICAgICAgICAgIGNvZGU6ICcnLFxuICAgICAgICAgIGVudHJ5UG9pbnQ6ICdtYWluJyxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXNoYWRlcnMuY29tcHV0ZS5jb2RlKSB7XG4gICAgICBzaGFkZXJzLmNvbXB1dGUuY29kZSA9ICdAY29tcHV0ZSBAd29ya2dyb3VwX3NpemUoMSkgZm4gbWFpbigpe30nXG4gICAgfVxuXG4gICAgaWYgKCFzaGFkZXJzLmNvbXB1dGUuZW50cnlQb2ludCkge1xuICAgICAgc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnQgPSAnbWFpbidcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBzaGFkZXJzLFxuICAgICAgLi4uKHBhcmFtZXRlcnMuZGlzcGF0Y2hTaXplICE9PSB1bmRlZmluZWQgJiYgeyBkaXNwYXRjaFNpemU6IHBhcmFtZXRlcnMuZGlzcGF0Y2hTaXplIH0pLFxuICAgIH1cblxuICAgIC8vIHNldCBkZWZhdWx0IGRpc3BhdGNoIHNpemVcbiAgICBpZiAoIWRpc3BhdGNoU2l6ZSkge1xuICAgICAgZGlzcGF0Y2hTaXplID0gMVxuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGRpc3BhdGNoU2l6ZSkpIHtcbiAgICAgIGRpc3BhdGNoU2l6ZVswXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMF0gPz8gMSlcbiAgICAgIGRpc3BhdGNoU2l6ZVsxXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMV0gPz8gMSlcbiAgICAgIGRpc3BhdGNoU2l6ZVsyXSA9IE1hdGguY2VpbChkaXNwYXRjaFNpemVbMl0gPz8gMSlcbiAgICB9IGVsc2UgaWYgKCFpc05hTihkaXNwYXRjaFNpemUpKSB7XG4gICAgICBkaXNwYXRjaFNpemUgPSBbTWF0aC5jZWlsKGRpc3BhdGNoU2l6ZSksIDEsIDFdXG4gICAgfVxuXG4gICAgdGhpcy5kaXNwYXRjaFNpemUgPSBkaXNwYXRjaFNpemVcblxuICAgIHRoaXMucGlwZWxpbmVFbnRyeSA9IHRoaXMucmVuZGVyZXIucGlwZWxpbmVNYW5hZ2VyLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSh7XG4gICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcbiAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnIGNvbXB1dGUgcGlwZWxpbmUnLFxuICAgICAgc2hhZGVyczogdGhpcy5vcHRpb25zLnNoYWRlcnMsXG4gICAgICB1c2VBc3luYzogdGhpcy5vcHRpb25zLnVzZUFzeW5jUGlwZWxpbmUsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIGFsbCBiaW5kIGdyb3VwcyBhcmUgY3JlYXRlZCwgYWRkIHRoZW0gdG8gdGhlIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX1cbiAgICovXG4gIHNldFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMucGlwZWxpbmVFbnRyeS5zZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcyh7XG4gICAgICBiaW5kR3JvdXBzOiB0aGlzLmJpbmRHcm91cHMsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21waWxlIHRoZSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZVBpcGVsaW5lRW50cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5waXBlbGluZUVudHJ5LmNvbXBpbGVQaXBlbGluZUVudHJ5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbGwgYmluZCBncm91cHMgYXJlIHJlYWR5LCBjcmVhdGUgdGhlbSBpZiBuZWVkZWQsIHNldCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGJpbmQgZ3JvdXAgYnVmZmVycyBhbmQgY29tcGlsZSB0aGUgcGlwZWxpbmVcbiAgICogQGFzeW5jXG4gICAqL1xuICBhc3luYyBjb21waWxlTWF0ZXJpYWwoKSB7XG4gICAgc3VwZXIuY29tcGlsZU1hdGVyaWFsKClcblxuICAgIGlmICh0aGlzLnBpcGVsaW5lRW50cnkgJiYgdGhpcy5waXBlbGluZUVudHJ5LmNhbkNvbXBpbGUpIHtcbiAgICAgIHRoaXMuc2V0UGlwZWxpbmVFbnRyeVByb3BlcnRpZXMoKVxuICAgICAgYXdhaXQgdGhpcy5jb21waWxlUGlwZWxpbmVFbnRyeSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcGxldGUgY29kZSBvZiBhIGdpdmVuIHNoYWRlciBpbmNsdWRpbmcgYWxsIHRoZSBXR1NMIGZyYWdtZW50IGNvZGUgc25pcHBldHMgYWRkZWQgYnkgdGhlIHBpcGVsaW5lXG4gICAqIEBwYXJhbSBbc2hhZGVyVHlwZT1cImNvbXB1dGVcIl0gLSBzaGFkZXIgdG8gZ2V0IHRoZSBjb2RlIGZyb21cbiAgICogQHJldHVybnMgLSBUaGUgY29ycmVzcG9uZGluZyBzaGFkZXIgY29kZVxuICAgKi9cbiAgZ2V0U2hhZGVyQ29kZShzaGFkZXJUeXBlOiBGdWxsU2hhZGVyc1R5cGUgPSAnY29tcHV0ZScpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRTaGFkZXJDb2RlKHNoYWRlclR5cGUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBhZGRlZCBjb2RlIG9mIGEgZ2l2ZW4gc2hhZGVyLCBpLmUuIGFsbCB0aGUgV0dTTCBmcmFnbWVudCBjb2RlIHNuaXBwZXRzIGFkZGVkIGJ5IHRoZSBwaXBlbGluZVxuICAgKiBAcGFyYW0gW3NoYWRlclR5cGU9XCJjb21wdXRlXCJdIC0gc2hhZGVyIHRvIGdldCB0aGUgY29kZSBmcm9tXG4gICAqIEByZXR1cm5zIC0gVGhlIGNvcnJlc3BvbmRpbmcgc2hhZGVyIGNvZGVcbiAgICovXG4gIGdldEFkZGVkU2hhZGVyQ29kZShzaGFkZXJUeXBlOiBGdWxsU2hhZGVyc1R5cGUgPSAnY29tcHV0ZScpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdXBlci5nZXRBZGRlZFNoYWRlckNvZGUoc2hhZGVyVHlwZSlcbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBJZiBhIGN1c3RvbSByZW5kZXIgZnVuY3Rpb24gaGFzIGJlZW4gZGVmaW5lZCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IG9uZSwgcmVnaXN0ZXIgdGhlIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHJlbmRlciBiZWhhdmlvdXIsIHdoaWNoIGlzIHRvIHNldCB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30gYW5kIGRpc3BhdGNoIHRoZSB3b3JrIGdyb3VwcyBiYXNlZCBvbiB0aGUge0BsaW5rIGRpc3BhdGNoU2l6ZSB8IGRlZmF1bHQgZGlzcGF0Y2ggc2l6ZX0uIFRoaXMgaXMgd2hlcmUgeW91IHdpbGwgaGF2ZSB0byBzZXQgYWxsIHRoZSB7QGxpbmsgY29yZS9iaW5kR3JvdXBzL0JpbmRHcm91cC5CaW5kR3JvdXAgfCBiaW5kIGdyb3Vwc30gYW5kIGRpc3BhdGNoIHRoZSB3b3JrZ3JvdXBzIGJ5IHlvdXJzZWxmLlxuICAgKi9cbiAgdXNlQ3VzdG9tUmVuZGVyKGNhbGxiYWNrOiAocGFzczogR1BVQ29tcHV0ZVBhc3NFbmNvZGVyKSA9PiB2b2lkKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl91c2VDdXN0b21SZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgbWF0ZXJpYWwgaWYgaXQgaXMgcmVhZHk6XG4gICAqIFNldCB0aGUgY3VycmVudCBwaXBlbGluZSwgc2V0IHRoZSBiaW5kIGdyb3VwcyBhbmQgZGlzcGF0Y2ggdGhlIHdvcmsgZ3JvdXBzXG4gICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCBjb21wdXRlIHBhc3MgZW5jb2RlclxuICAgKi9cbiAgcmVuZGVyKHBhc3M6IEdQVUNvbXB1dGVQYXNzRW5jb2Rlcikge1xuICAgIC8vIHJlbmRlcmVyIG9yIHBpcGVsaW5lIGFyZSBub3QgcmVhZHkgeWV0XG4gICAgLy8gbm90IHJlYWxseSBuZWVkZWQgc2luY2UgY29tcHV0ZSBwYXNzZXMgZG8gYWxyZWFkeSBjaGVjayBpdCBiZWZvcmVoYW5kXG4gICAgLy8gbW9zdGx5IGhlcmUgYXMgYSBzYWZlZ3VhcmRcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgLy8gc2V0IGN1cnJlbnQgcGlwZWxpbmVcbiAgICB0aGlzLnNldFBpcGVsaW5lKHBhc3MpXG5cbiAgICAvLyBpZiB3ZSBkZWNsYXJlZCBhIGN1c3RvbSByZW5kZXIgZnVuY3Rpb24sIGNhbGwgaXRcbiAgICBpZiAodGhpcy5fdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fdXNlQ3VzdG9tUmVuZGVyQ2FsbGJhY2socGFzcylcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZWxzZSBqdXN0IHNldCBvdXIgYmluZCBncm91cHMgYW5kIGRpc3BhdGNoXG4gICAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKGJpbmRHcm91cC5pbmRleCwgYmluZEdyb3VwLmJpbmRHcm91cClcbiAgICAgIH0pXG5cbiAgICAgIHBhc3MuZGlzcGF0Y2hXb3JrZ3JvdXBzKHRoaXMuZGlzcGF0Y2hTaXplWzBdLCB0aGlzLmRpc3BhdGNoU2l6ZVsxXSwgdGhpcy5kaXNwYXRjaFNpemVbMl0pXG4gICAgfVxuICB9XG5cbiAgLyogUkVTVUxUIEJVRkZFUiAqL1xuXG4gIC8qKlxuICAgKiBDb3B5IGFsbCB3cml0YWJsZSBiaW5kaW5nIGJ1ZmZlcnMgdGhhdCBuZWVkIGl0XG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQgY29tbWFuZCBlbmNvZGVyXG4gICAqL1xuICBjb3B5QnVmZmVyVG9SZXN1bHQoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyKSB7XG4gICAgdGhpcy5iaW5kR3JvdXBzLmZvckVhY2goKGJpbmRHcm91cCkgPT4ge1xuICAgICAgYmluZEdyb3VwLmJ1ZmZlckJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmc6IFdyaXRhYmxlQnVmZmVyQmluZGluZykgPT4ge1xuICAgICAgICBpZiAoYmluZGluZy5zaG91bGRDb3B5UmVzdWx0ICYmIGJpbmRpbmcucmVzdWx0QnVmZmVyLm1hcFN0YXRlID09PSAndW5tYXBwZWQnKSB7XG4gICAgICAgICAgY29tbWFuZEVuY29kZXIuY29weUJ1ZmZlclRvQnVmZmVyKGJpbmRpbmcuYnVmZmVyLCAwLCBiaW5kaW5nLnJlc3VsdEJ1ZmZlciwgMCwgYmluZGluZy5yZXN1bHRCdWZmZXIuc2l6ZSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUge0BsaW5rIGNvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLldyaXRhYmxlQnVmZmVyQmluZGluZyNyZXN1bHRCdWZmZXIgfCByZXN1bHQgR1BVIGJ1ZmZlcn0gY29udGVudCBieSB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nIHwgYmluZGluZ30gYW5kIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudCB8IGJ1ZmZlciBlbGVtZW50fSBuYW1lc1xuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHBhcmFtZXRlcnMgdXNlZCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5iaW5kaW5nTmFtZSAtIHtAbGluayBjb3JlL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZy5Xcml0YWJsZUJ1ZmZlckJpbmRpbmcjbmFtZSB8IGJpbmRpbmcgbmFtZX0gZnJvbSB3aGljaCB0byBnZXQgdGhlIHJlc3VsdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycy5idWZmZXJFbGVtZW50TmFtZSAtIG9wdGlvbmFsIHtAbGluayBjb3JlL2JpbmRpbmdzL2J1ZmZlckVsZW1lbnRzL0J1ZmZlckVsZW1lbnQuQnVmZmVyRWxlbWVudCB8IGJ1ZmZlciBlbGVtZW50fSAoaS5lLiBzdHJ1Y3QgbWVtYmVyKSBuYW1lIGlmIHRoZSByZXN1bHQgbmVlZHMgdG8gYmUgcmVzdHJhaW5lZCB0byBvbmx5IG9uZSBlbGVtZW50XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHRoZSBtYXBwZWQgY29udGVudCBvZiB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gYXMgYSB7QGxpbmsgRmxvYXQzMkFycmF5fVxuICAgKi9cbiAgYXN5bmMgZ2V0Q29tcHV0ZVJlc3VsdCh7XG4gICAgYmluZGluZ05hbWUgPSAnJyxcbiAgICBidWZmZXJFbGVtZW50TmFtZSA9ICcnLFxuICB9OiB7XG4gICAgYmluZGluZ05hbWU/OiBzdHJpbmdcbiAgICBidWZmZXJFbGVtZW50TmFtZT86IHN0cmluZ1xuICB9KTogUHJvbWlzZTxGbG9hdDMyQXJyYXk+IHtcbiAgICBjb25zdCBiaW5kaW5nID0gdGhpcy5nZXRCdWZmZXJCaW5kaW5nQnlOYW1lKGJpbmRpbmdOYW1lKVxuXG4gICAgaWYgKGJpbmRpbmcgJiYgJ3Jlc3VsdEJ1ZmZlcicgaW4gYmluZGluZyAmJiBiaW5kaW5nLnJlc3VsdEJ1ZmZlci5tYXBTdGF0ZSA9PT0gJ3VubWFwcGVkJykge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRCdWZmZXJSZXN1bHQoYmluZGluZy5yZXN1bHRCdWZmZXIpXG5cbiAgICAgIGlmIChidWZmZXJFbGVtZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gYmluZGluZy5leHRyYWN0QnVmZmVyRWxlbWVudERhdGFGcm9tQnVmZmVyUmVzdWx0KHsgcmVzdWx0LCBidWZmZXJFbGVtZW50TmFtZSB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgwKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IENvbXB1dGVNYXRlcmlhbCB9IGZyb20gJy4uL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwnXG5pbXBvcnQgeyBDb21wdXRlTWF0ZXJpYWxQYXJhbXMsIE1hdGVyaWFsUGFyYW1zLCBNYXRlcmlhbFNoYWRlcnMgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZSdcbmltcG9ydCB7IEV4dGVybmFsVGV4dHVyZVBhcmFtcywgVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL1RleHR1cmVzJ1xuXG4vKiogRGVmaW5lcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IG9wdGlvbnMgKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcHV0ZVBhc3NPcHRpb25zIHtcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBsYWJlbDogc3RyaW5nXG4gIC8qKiBDb250cm9scyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSByZW5kZXJlZCBieSBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9ICovXG4gIHJlbmRlck9yZGVyPzogbnVtYmVyXG4gIC8qKiBXaGV0aGVyIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSBhZGRlZCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbiAgLyoqIENvbXB1dGUgc2hhZGVyIHBhc3NlZCB0byB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBmb2xsb3dpbmcgdGhlIHtAbGluayB0eXBlcy9NYXRlcmlhbHMuU2hhZGVyT3B0aW9ucyB8IHNoYWRlciBvYmplY3R9IG5vdGF0aW9uICovXG4gIHNoYWRlcnM6IE1hdGVyaWFsU2hhZGVyc1xuICAvKiogd2hldGhlciB0aGUge0BsaW5rIGNvcmUvcGlwZWxpbmVzL0NvbXB1dGVQaXBlbGluZUVudHJ5LkNvbXB1dGVQaXBlbGluZUVudHJ5I3BpcGVsaW5lIHwgY29tcHV0ZSBwaXBlbGluZX0gc2hvdWxkIGJlIGNvbXBpbGVkIGFzeW5jaHJvbm91c2x5ICovXG4gIHVzZUFzeW5jUGlwZWxpbmU/OiBib29sZWFuXG4gIC8qKiBQYXJhbWV0ZXJzIHVzZWQgYnkgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHRvIGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSAqL1xuICB0ZXh0dXJlc09wdGlvbnM/OiBFeHRlcm5hbFRleHR1cmVQYXJhbXNcbiAgLyoqIERlZmF1bHQge0BsaW5rIENvbXB1dGVNYXRlcmlhbH0gd29yayBncm91cCBkaXNwYXRjaCBzaXplIHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBkaXNwYXRjaFNpemU/OiBudW1iZXIgfCBudW1iZXJbXVxufVxuXG4vKipcbiAqIEFuIG9iamVjdCBkZWZpbmluZyBhbGwgcG9zc2libGUge0BsaW5rIENvbXB1dGVQYXNzfSBjbGFzcyBpbnN0YW5jaW5nIHBhcmFtZXRlcnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wdXRlUGFzc1BhcmFtcyBleHRlbmRzIFBhcnRpYWw8Q29tcHV0ZVBhc3NPcHRpb25zPiwgTWF0ZXJpYWxQYXJhbXMge31cblxubGV0IGNvbXB1dGVQYXNzSW5kZXggPSAwXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgQ29tcHV0ZVBhc3N9LCBpLmUuIHJ1biBjb21wdXRhdGlvbnMgb24gdGhlIEdQVS48YnI+XG4gKiBBIHtAbGluayBDb21wdXRlUGFzc30gaXMgYmFzaWNhbGx5IGEgd3JhcHBlciBhcm91bmQgYSB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSB0aGF0IGhhbmRsZXMgbW9zdCBvZiB0aGUgcHJvY2Vzcy5cbiAqXG4gKiBUaGUgZGVmYXVsdCByZW5kZXIgYmVoYXZpb3VyIG9mIGEge0BsaW5rIENvbXB1dGVQYXNzfSBpcyB0byBzZXQgaXRzIHtAbGluayBjb3JlL2JpbmRHcm91cHMvQmluZEdyb3VwLkJpbmRHcm91cCB8IGJpbmQgZ3JvdXBzfSBhbmQgdGhlbiBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBiYXNlZCBvbiB0aGUgcHJvdmlkZWQge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNkaXNwYXRjaFNpemUgfCBkaXNwYXRjaFNpemV9Ljxicj5cbiAqIEhvd2V2ZXIsIG1vc3Qgb2YgdGhlIHRpbWUgeW91J2Qgd2FudCBhIHNsaWdodGx5IG1vcmUgY29tcGxleCBiZWhhdmlvdXIuIFRoZSB7QGxpbmsgQ29tcHV0ZVBhc3MjdXNlQ3VzdG9tUmVuZGVyIHwgYHVzZUN1c3RvbVJlbmRlcmAgaG9va30gbGV0cyB5b3UgZGVmaW5lIGEgdG90YWxseSBjdXN0b20gYmVoYXZpb3VyLCBidXQgeW91J2xsIGhhdmUgdG8gc2V0IGFsbCB0aGUge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwIHwgYmluZCBncm91cHN9IGFuZCBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBieSB5b3Vyc2VsZi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXG4gKiBjb25zdCBncHVDdXJ0YWlucyA9IG5ldyBHUFVDdXJ0YWlucyh7XG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxuICogfSlcbiAqXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcbiAqIGF3YWl0IGdwdUN1cnRhaW5zLnNldERldmljZSgpXG4gKlxuICogLy8gbGV0J3MgYXNzdW1lIHdlIGFyZSBnb2luZyB0byBjb21wdXRlIHRoZSBwb3NpdGlvbnMgb2YgMTAwLjAwMCBwYXJ0aWNsZXNcbiAqIGNvbnN0IG5iUGFydGljbGVzID0gMTAwXzAwMFxuICpcbiAqIGNvbnN0IGNvbXB1dGVQYXNzID0gbmV3IENvbXB1dGVQYXNzKGdwdUN1cnRhaW5zLCB7XG4gKiAgIGxhYmVsOiAnTXkgY29tcHV0ZSBwYXNzJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGNvbXB1dGU6IHtcbiAqICAgICAgIGNvZGU6IGNvbXB1dGVTaGFkZXJDb2RlLCAvLyBhc3N1bWUgaXQgaXMgYSB2YWxpZCBXR1NMIGNvbXB1dGUgc2hhZGVyXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqICAgZGlzcGF0Y2hTaXplOiBNYXRoLmNlaWwobmJQYXJ0aWNsZXMgLyA2NCksXG4gKiAgIHN0b3JhZ2VzOiB7XG4gKiAgICAgcGFydGljbGVzOiB7XG4gKiAgICAgICBhY2Nlc3M6ICdyZWFkX3dyaXRlJyxcbiAqICAgICAgIHN0cnVjdDoge1xuICogICAgICAgICBwb3NpdGlvbjoge1xuICogICAgICAgICAgIHR5cGU6ICdhcnJheTx2ZWM0Zj4nLFxuICogICAgICAgICAgIHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KG5iUGFydGljbGVzICogNCksXG4gKiAgICAgICAgIH0sXG4gKiAgICAgICB9LFxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wdXRlUGFzcyB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9ICovXG4gIHV1aWQ6IHN0cmluZ1xuICAvKiogVGhlIGluZGV4IG9mIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9LCBpbmNyZW1lbnRlZCBlYWNoIHRpbWUgYSBuZXcgb25lIGlzIGluc3RhbmNlZCAqL1xuICBpbmRleDogbnVtYmVyXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXG4gIHJlbmRlcmVyOiBSZW5kZXJlclxuICAvKiogQ29udHJvbHMgdGhlIG9yZGVyIGluIHdoaWNoIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSBzaG91bGQgYmUgcmVuZGVyZWQgYnkgb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSAqL1xuICByZW5kZXJPcmRlcjogbnVtYmVyXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9ICovXG4gIG9wdGlvbnM6IENvbXB1dGVQYXNzT3B0aW9uc1xuXG4gIC8qKiB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSB1c2VkIGJ5IHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBtYXRlcmlhbDogQ29tcHV0ZU1hdGVyaWFsXG5cbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZWFkeSB0byBiZSByZW5kZXJlZCAqL1xuICBfcmVhZHk6IGJvb2xlYW5cblxuICAvKiogRW1wdHkgb2JqZWN0IHRvIHN0b3JlIGFueSBhZGRpdGlvbmFsIGRhdGEgb3IgY3VzdG9tIHByb3BlcnRpZXMgaW50byB5b3VyIHtAbGluayBDb21wdXRlUGFzc30gKi9cbiAgdXNlckRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyB7QGxpbmsgQ29tcHV0ZVBhc3N9IHNob3VsZCBiZSBhZGRlZCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gICNhdXRvUmVuZGVyID0gdHJ1ZVxuXG4gIC8vIGNhbGxiYWNrcyAvIGV2ZW50c1xuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlYWR5fSBjYWxsYmFjayAqL1xuICBfb25SZWFkeUNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25CZWZvcmVSZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vbkJlZm9yZVJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25SZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vblJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uQWZ0ZXJSZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQWZ0ZXJSZXNpemV9IGNhbGxiYWNrICovXG4gIF9vbkFmdGVyUmVzaXplQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlUGFzcyBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBhIHtAbGluayBSZW5kZXJlcn0gY2xhc3Mgb2JqZWN0IG9yIGEge0BsaW5rIEdQVUN1cnRhaW5zfSBjbGFzcyBvYmplY3RcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgQ29tcHV0ZVBhc3NQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIENvbXB1dGVQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnM6IENvbXB1dGVQYXNzUGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB0eXBlID0gJ0NvbXB1dGVQYXNzJ1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gYCR7cGFyYW1ldGVycy5sYWJlbH0gJHt0eXBlfWAgOiB0eXBlKVxuXG4gICAgcGFyYW1ldGVycy5sYWJlbCA9IHBhcmFtZXRlcnMubGFiZWwgPz8gJ0NvbXB1dGVQYXNzICcgKyByZW5kZXJlci5jb21wdXRlUGFzc2VzPy5sZW5ndGhcblxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzIGFzIENvbXB1dGVQYXNzLCAnaW5kZXgnLCB7IHZhbHVlOiBjb21wdXRlUGFzc0luZGV4KysgfSlcblxuICAgIGNvbnN0IHtcbiAgICAgIGxhYmVsLFxuICAgICAgc2hhZGVycyxcbiAgICAgIHJlbmRlck9yZGVyLFxuICAgICAgdW5pZm9ybXMsXG4gICAgICBzdG9yYWdlcyxcbiAgICAgIGJpbmRHcm91cHMsXG4gICAgICBzYW1wbGVycyxcbiAgICAgIHRleHR1cmVzLFxuICAgICAgcmVuZGVyVGV4dHVyZXMsXG4gICAgICBhdXRvUmVuZGVyLFxuICAgICAgdXNlQXN5bmNQaXBlbGluZSxcbiAgICAgIHRleHR1cmVzT3B0aW9ucyxcbiAgICAgIGRpc3BhdGNoU2l6ZSxcbiAgICB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICBzaGFkZXJzLFxuICAgICAgLi4uKGF1dG9SZW5kZXIgIT09IHVuZGVmaW5lZCAmJiB7IGF1dG9SZW5kZXIgfSksXG4gICAgICAuLi4ocmVuZGVyT3JkZXIgIT09IHVuZGVmaW5lZCAmJiB7IHJlbmRlck9yZGVyIH0pLFxuICAgICAgLi4uKHVzZUFzeW5jUGlwZWxpbmUgIT09IHVuZGVmaW5lZCAmJiB7IHVzZUFzeW5jUGlwZWxpbmUgfSksXG4gICAgICAuLi4oZGlzcGF0Y2hTaXplICE9PSB1bmRlZmluZWQgJiYgeyBkaXNwYXRjaFNpemUgfSksXG4gICAgICB0ZXh0dXJlc09wdGlvbnMsIC8vIFRPRE8gZGVmYXVsdFxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyT3JkZXIgPSByZW5kZXJPcmRlciA/PyAwXG5cbiAgICBpZiAoYXV0b1JlbmRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLiNhdXRvUmVuZGVyID0gYXV0b1JlbmRlclxuICAgIH1cblxuICAgIHRoaXMudXNlckRhdGEgPSB7fVxuXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlXG5cbiAgICB0aGlzLnNldENvbXB1dGVNYXRlcmlhbCh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsLFxuICAgICAgc2hhZGVyczogdGhpcy5vcHRpb25zLnNoYWRlcnMsXG4gICAgICB1bmlmb3JtcyxcbiAgICAgIHN0b3JhZ2VzLFxuICAgICAgYmluZEdyb3VwcyxcbiAgICAgIHNhbXBsZXJzLFxuICAgICAgdGV4dHVyZXMsXG4gICAgICByZW5kZXJUZXh0dXJlcyxcbiAgICAgIHVzZUFzeW5jUGlwZWxpbmUsXG4gICAgICBkaXNwYXRjaFNpemUsXG4gICAgfSlcblxuICAgIHRoaXMuYWRkVG9TY2VuZSgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IG9yIHNldCB3aGV0aGVyIHRoZSBjb21wdXRlIHBhc3MgaXMgcmVhZHkgdG8gcmVuZGVyICh0aGUgbWF0ZXJpYWwgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkKVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZHlcbiAgfVxuXG4gIHNldCByZWFkeSh2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5fb25SZWFkeUNhbGxiYWNrICYmIHRoaXMuX29uUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICAgIHRoaXMuX3JlYWR5ID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgb3VyIGNvbXB1dGUgcGFzcyB0byB0aGUgc2NlbmUgYW5kIHRoZSByZW5kZXJlclxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLmNvbXB1dGVQYXNzZXMucHVzaCh0aGlzKVxuXG4gICAgaWYgKHRoaXMuI2F1dG9SZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUuYWRkQ29tcHV0ZVBhc3ModGhpcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIG91ciBjb21wdXRlIHBhc3MgZnJvbSB0aGUgc2NlbmUgYW5kIHRoZSByZW5kZXJlclxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZUNvbXB1dGVQYXNzKHRoaXMpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5jb21wdXRlUGFzc2VzID0gdGhpcy5yZW5kZXJlci5jb21wdXRlUGFzc2VzLmZpbHRlcigoY29tcHV0ZVBhc3MpID0+IGNvbXB1dGVQYXNzLnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIGNvbXB1dGUgcGFzcyBtYXRlcmlhbFxuICAgKiBAcGFyYW0gY29tcHV0ZVBhcmFtZXRlcnMgLSB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfSBwYXJhbWV0ZXJzXG4gICAqL1xuICBzZXRDb21wdXRlTWF0ZXJpYWwoY29tcHV0ZVBhcmFtZXRlcnM6IENvbXB1dGVNYXRlcmlhbFBhcmFtcykge1xuICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgQ29tcHV0ZU1hdGVyaWFsKHRoaXMucmVuZGVyZXIsIGNvbXB1dGVQYXJhbWV0ZXJzKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gbG9zdCB0byBwcmVwYXJlIGV2ZXJ5dGhpbmcgZm9yIHJlc3RvcmF0aW9uLlxuICAgKiBCYXNpY2FsbHkgc2V0IGFsbCB0aGUge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gbnVsbCBzbyB0aGV5IHdpbGwgYmUgcmVzZXQgbmV4dCB0aW1lIHdlIHRyeSB0byByZW5kZXJcbiAgICovXG4gIGxvc2VDb250ZXh0KCkge1xuICAgIHRoaXMubWF0ZXJpYWwubG9zZUNvbnRleHQoKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlci5HUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaGFzIGJlZW4gcmVzdG9yZWRcbiAgICovXG4gIHJlc3RvcmVDb250ZXh0KCkge1xuICAgIHRoaXMubWF0ZXJpYWwucmVzdG9yZUNvbnRleHQoKVxuICB9XG5cbiAgLyogVEVYVFVSRVMgKi9cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsI3RleHR1cmVzIHwgQ29tcHV0ZU1hdGVyaWFsIHRleHR1cmVzIGFycmF5fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB0ZXh0dXJlcygpOiBUZXh0dXJlW10ge1xuICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy50ZXh0dXJlcyB8fCBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNyZW5kZXJUZXh0dXJlcyB8IENvbXB1dGVNYXRlcmlhbCByZW5kZXIgdGV4dHVyZXMgYXJyYXl9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlbmRlclRleHR1cmVzKCk6IFJlbmRlclRleHR1cmVbXSB7XG4gICAgcmV0dXJuIHRoaXMubWF0ZXJpYWw/LnJlbmRlclRleHR1cmVzIHx8IFtdXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBUZXh0dXJlfVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBUZXh0dXJlUGFyYW1zIHwgVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIFRleHR1cmV9XG4gICAqL1xuICBjcmVhdGVUZXh0dXJlKG9wdGlvbnM6IFRleHR1cmVQYXJhbXMpOiBUZXh0dXJlIHtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gJ3RleHR1cmUnICsgdGhpcy50ZXh0dXJlcy5sZW5ndGhcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMubGFiZWwpIHtcbiAgICAgIG9wdGlvbnMubGFiZWwgPSB0aGlzLm9wdGlvbnMubGFiZWwgKyAnICcgKyBvcHRpb25zLm5hbWVcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5yZW5kZXJlciwgeyAuLi5vcHRpb25zLCAuLi50aGlzLm9wdGlvbnMudGV4dHVyZXNPcHRpb25zIH0pXG5cbiAgICB0aGlzLmFkZFRleHR1cmUodGV4dHVyZSlcblxuICAgIHJldHVybiB0ZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgdGhpcy5tYXRlcmlhbC5hZGRUZXh0dXJlKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gIG9wdGlvbnMgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZVBhcmFtcyB8IFJlbmRlclRleHR1cmUgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyVGV4dHVyZShvcHRpb25zOiBSZW5kZXJUZXh0dXJlUGFyYW1zKTogUmVuZGVyVGV4dHVyZSB7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9ICdyZW5kZXJUZXh0dXJlJyArIHRoaXMucmVuZGVyVGV4dHVyZXMubGVuZ3RoXG4gICAgfVxuXG4gICAgY29uc3QgcmVuZGVyVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMucmVuZGVyZXIsIG9wdGlvbnMpXG5cbiAgICB0aGlzLmFkZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSlcblxuICAgIHJldHVybiByZW5kZXJUZXh0dXJlXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0ge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgdGhpcy5tYXRlcmlhbC5hZGRUZXh0dXJlKHJlbmRlclRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsI3VuaWZvcm1zIHwgQ29tcHV0ZU1hdGVyaWFsIHVuaWZvcm1zfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB1bmlmb3JtcygpOiBDb21wdXRlTWF0ZXJpYWxbJ3VuaWZvcm1zJ10ge1xuICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy51bmlmb3Jtc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbCNzdG9yYWdlcyB8IENvbXB1dGVNYXRlcmlhbCBzdG9yYWdlc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc3RvcmFnZXMoKTogQ29tcHV0ZU1hdGVyaWFsWydzdG9yYWdlcyddIHtcbiAgICByZXR1cm4gdGhpcy5tYXRlcmlhbD8uc3RvcmFnZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgZnJvbSB0aGUgcmVuZGVyZXIsIHVzZWZ1bCB0byB0cmlnZ2VyIGFuIGFmdGVyIHJlc2l6ZSBjYWxsYmFjay5cbiAgICovXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgJiYgdGhpcy5fb25BZnRlclJlc2l6ZUNhbGxiYWNrKClcbiAgfVxuXG4gIC8qKiBFVkVOVFMgKiovXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9IGlzIHJlYWR5XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBDb21wdXRlUGFzc30gaXMgcmVhZHlcbiAgICovXG4gIG9uUmVhZHkoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblJlYWR5Q2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgdG8gcnVuIGJlZm9yZSB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZW5kZXJlZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBiZWZvcmUge0BsaW5rIENvbXB1dGVQYXNzfSB3aWxsIGJlIHJlbmRlcmVkXG4gICAqL1xuICBvbkJlZm9yZVJlbmRlcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IENvbXB1dGVQYXNzIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIHtAbGluayBDb21wdXRlUGFzc30gaXMgcmVuZGVyZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIHdoZW4ge0BsaW5rIENvbXB1dGVQYXNzfSBpcyByZW5kZXJlZFxuICAgKi9cbiAgb25SZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vblJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biBhZnRlciB0aGUge0BsaW5rIENvbXB1dGVQYXNzfSBoYXMgYmVlbiByZW5kZXJlZFxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB7QGxpbmsgQ29tcHV0ZVBhc3N9IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAqL1xuICBvbkFmdGVyUmVuZGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogQ29tcHV0ZVBhc3Mge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25BZnRlclJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHVzZWQgdG8gcnVuIGEgY3VzdG9tIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IG9uZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gWW91ciBjdXN0b20gcmVuZGVyIGZ1bmN0aW9uIHdoZXJlIHlvdSB3aWxsIGhhdmUgdG8gc2V0IGFsbCB0aGUge0BsaW5rIGNvcmUvYmluZEdyb3Vwcy9CaW5kR3JvdXAuQmluZEdyb3VwIHwgYmluZCBncm91cHN9IGFuZCBkaXNwYXRjaCB0aGUgd29ya2dyb3VwcyBieSB5b3Vyc2VsZi5cbiAgICovXG4gIHVzZUN1c3RvbVJlbmRlcihjYWxsYmFjazogKHBhc3M6IEdQVUNvbXB1dGVQYXNzRW5jb2RlcikgPT4gdm9pZCk6IENvbXB1dGVQYXNzIHtcbiAgICB0aGlzLm1hdGVyaWFsLnVzZUN1c3RvbVJlbmRlcihjYWxsYmFjaylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRvIHJ1biBhZnRlciB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyIHwgcmVuZGVyZXJ9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYWZ0ZXIge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyIHwgcmVuZGVyZXJ9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICovXG4gIG9uQWZ0ZXJSZXNpemUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBDb21wdXRlUGFzcyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIENvbXB1dGVQYXNzXG4gICAqIENoZWNrcyBpZiB0aGUgbWF0ZXJpYWwgaXMgcmVhZHkgYW5kIGV2ZW50dWFsbHkgdXBkYXRlIGl0cyBzdHJ1Y3RcbiAgICovXG4gIG9uQmVmb3JlUmVuZGVyUGFzcygpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVhZHkpIHJldHVyblxuXG4gICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgdGhpcy5tYXRlcmlhbC5yZWFkeSAmJiAhdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5yZWFkeSA9IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLl9vbkJlZm9yZVJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2soKVxuXG4gICAgdGhpcy5tYXRlcmlhbC5vbkJlZm9yZVJlbmRlcigpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIG91ciB7QGxpbmsgQ29tcHV0ZU1hdGVyaWFsfVxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgY29tcHV0ZSBwYXNzIGVuY29kZXJcbiAgICovXG4gIG9uUmVuZGVyUGFzcyhwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICBpZiAoIXRoaXMubWF0ZXJpYWwucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy5fb25SZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vblJlbmRlckNhbGxiYWNrKClcblxuICAgIHRoaXMubWF0ZXJpYWwucmVuZGVyKHBhc3MpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGFmdGVyIGhhdmluZyByZW5kZXJlZCB0aGUgQ29tcHV0ZVBhc3NcbiAgICovXG4gIG9uQWZ0ZXJSZW5kZXJQYXNzKCkge1xuICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBvdXIgY29tcHV0ZSBwYXNzXG4gICAqIEJhc2ljYWxseSBqdXN0IGNoZWNrIGlmIG91ciB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIgfCByZW5kZXJlcn0gaXMgcmVhZHksIGFuZCB0aGVuIHJlbmRlciBvdXIge0BsaW5rIENvbXB1dGVNYXRlcmlhbH1cbiAgICogQHBhcmFtIHBhc3NcbiAgICovXG4gIHJlbmRlcihwYXNzOiBHUFVDb21wdXRlUGFzc0VuY29kZXIpIHtcbiAgICB0aGlzLm9uQmVmb3JlUmVuZGVyUGFzcygpXG5cbiAgICAvLyBubyBwb2ludCB0byByZW5kZXIgaWYgdGhlIFdlYkdQVSBkZXZpY2UgaXMgbm90IHJlYWR5XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlYWR5KSByZXR1cm5cblxuICAgICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24gJiYgcGFzcy5wdXNoRGVidWdHcm91cCh0aGlzLm9wdGlvbnMubGFiZWwpXG5cbiAgICB0aGlzLm9uUmVuZGVyUGFzcyhwYXNzKVxuXG4gICAgIXRoaXMucmVuZGVyZXIucHJvZHVjdGlvbiAmJiBwYXNzLnBvcERlYnVnR3JvdXAoKVxuXG4gICAgdGhpcy5vbkFmdGVyUmVuZGVyUGFzcygpXG4gIH1cblxuICAvKipcbiAgICogQ29weSB0aGUgcmVzdWx0IG9mIG91ciByZWFkL3dyaXRlIEdQVUJ1ZmZlciBpbnRvIG91ciByZXN1bHQgYmluZGluZyBhcnJheVxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IEdQVSBjb21tYW5kIGVuY29kZXJcbiAgICovXG4gIGNvcHlCdWZmZXJUb1Jlc3VsdChjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpIHtcbiAgICB0aGlzLm1hdGVyaWFsPy5jb3B5QnVmZmVyVG9SZXN1bHQoY29tbWFuZEVuY29kZXIpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgY29yZS9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcuV3JpdGFibGVCdWZmZXJCaW5kaW5nI3Jlc3VsdEJ1ZmZlciB8IHJlc3VsdCBHUFUgYnVmZmVyfSBjb250ZW50IGJ5IHtAbGluayBjb3JlL2JpbmRpbmdzL1dyaXRhYmxlQnVmZmVyQmluZGluZy5Xcml0YWJsZUJ1ZmZlckJpbmRpbmcgfCBiaW5kaW5nfSBhbmQge0BsaW5rIGNvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVyRWxlbWVudC5CdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IG5hbWVzXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gcGFyYW1ldGVycyB1c2VkIHRvIGdldCB0aGUgcmVzdWx0XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJpbmRpbmdOYW1lIC0ge0BsaW5rIGNvcmUvYmluZGluZ3MvV3JpdGFibGVCdWZmZXJCaW5kaW5nLldyaXRhYmxlQnVmZmVyQmluZGluZyNuYW1lIHwgYmluZGluZyBuYW1lfSBmcm9tIHdoaWNoIHRvIGdldCB0aGUgcmVzdWx0XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzLmJ1ZmZlckVsZW1lbnROYW1lIC0gb3B0aW9uYWwge0BsaW5rIGNvcmUvYmluZGluZ3MvYnVmZmVyRWxlbWVudHMvQnVmZmVyRWxlbWVudC5CdWZmZXJFbGVtZW50IHwgYnVmZmVyIGVsZW1lbnR9IChpLmUuIHN0cnVjdCBtZW1iZXIpIG5hbWUgaWYgdGhlIHJlc3VsdCBuZWVkcyB0byBiZSByZXN0cmFpbmVkIHRvIG9ubHkgb25lIGVsZW1lbnRcbiAgICogQGFzeW5jXG4gICAqIEByZXR1cm5zIC0gdGhlIG1hcHBlZCBjb250ZW50IG9mIHRoZSB7QGxpbmsgR1BVQnVmZmVyfSBhcyBhIHtAbGluayBGbG9hdDMyQXJyYXl9XG4gICAqL1xuICBhc3luYyBnZXRDb21wdXRlUmVzdWx0KHtcbiAgICBiaW5kaW5nTmFtZSxcbiAgICBidWZmZXJFbGVtZW50TmFtZSxcbiAgfToge1xuICAgIGJpbmRpbmdOYW1lPzogc3RyaW5nXG4gICAgYnVmZmVyRWxlbWVudE5hbWU/OiBzdHJpbmdcbiAgfSk6IFByb21pc2U8RmxvYXQzMkFycmF5PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubWF0ZXJpYWw/LmdldENvbXB1dGVSZXN1bHQoeyBiaW5kaW5nTmFtZSwgYnVmZmVyRWxlbWVudE5hbWUgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIENvbXB1dGVQYXNzIGZyb20gdGhlIHNjZW5lIGFuZCBkZXN0cm95IGl0XG4gICAqL1xuICByZW1vdmUoKSB7XG4gICAgdGhpcy5yZW1vdmVGcm9tU2NlbmUoKVxuICAgIHRoaXMuZGVzdHJveSgpXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSB0aGUgQ29tcHV0ZVBhc3NcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5tYXRlcmlhbD8uZGVzdHJveSgpXG4gIH1cbn1cbiIsImltcG9ydCB7IFZlYzMgfSBmcm9tICcuL1ZlYzMnXG5pbXBvcnQgeyBNYXQ0IH0gZnJvbSAnLi9NYXQ0J1xuXG4vLyBkZWNsYXJlIG91ciBjb3JuZXJzIG9uY2Ugc2hvdWxkIGJlIGVub3VnaFxuY29uc3QgcG9pbnRzOiBWZWMzW10gPSBbbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKSwgbmV3IFZlYzMoKV1cblxuLyoqXG4gKiBVc2VkIHRvIGhhbmRsZSBib3VuZGluZyBib3hlcyBpbiAzRCBzcGFjZS5cbiAqIEJhc2ljYWxseSBtYWRlIG9mIHR3byBtaW4gYW5kIG1heCB7QGxpbmsgVmVjMyB8IHZlY3RvcnN9IHRoYXQgcmVwcmVzZW50cyB0aGUgZWRnZXMgb2YgdGhlIDNEIGJvdW5kaW5nIGJveC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJveDMge1xuICAvKiogTWluIHtAbGluayBWZWMzIHwgdmVjdG9yfSBvZiB0aGUge0BsaW5rIEJveDN9ICovXG4gIG1pbjogVmVjM1xuICAvKiogTWF4IHtAbGluayBWZWMzIHwgdmVjdG9yfSBvZiB0aGUge0BsaW5rIEJveDN9ICovXG4gIG1heDogVmVjM1xuXG4gIC8qKlxuICAgKiBCb3gzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBtaW4gLSBtaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M31cbiAgICogQHBhcmFtIG1heCAtIG1heCB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gb2YgdGhlIHtAbGluayBCb3gzfVxuICAgKi9cbiAgY29uc3RydWN0b3IobWluOiBWZWMzID0gbmV3IFZlYzMoSW5maW5pdHkpLCBtYXg6IFZlYzMgPSBuZXcgVmVjMygtSW5maW5pdHkpKSB7XG4gICAgdGhpcy5taW4gPSBtaW5cbiAgICB0aGlzLm1heCA9IG1heFxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHtAbGluayBCb3gzfSBmcm9tIHR3byBtaW4gYW5kIG1heCB7QGxpbmsgVmVjMyB8IHZlY3RvcnN9XG4gICAqIEBwYXJhbSBtaW4gLSBtaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M31cbiAgICogQHBhcmFtIG1heCAtIG1heCB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gb2YgdGhlIHtAbGluayBCb3gzfVxuICAgKi9cbiAgc2V0KG1pbjogVmVjMyA9IG5ldyBWZWMzKEluZmluaXR5KSwgbWF4OiBWZWMzID0gbmV3IFZlYzMoLUluZmluaXR5KSk6IEJveDMge1xuICAgIHRoaXMubWluLmNvcHkobWluKVxuICAgIHRoaXMubWF4LmNvcHkobWF4KVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGlzIHtAbGluayBCb3gzfVxuICAgKiBAcmV0dXJucyAtIGNsb25lZCB7QGxpbmsgQm94M31cbiAgICovXG4gIGNsb25lKCk6IEJveDMge1xuICAgIHJldHVybiBuZXcgQm94MygpLnNldCh0aGlzLm1pbiwgdGhpcy5tYXgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQm94M30gY2VudGVyXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIFZlYzMgfCBjZW50ZXIgdmVjdG9yfSBvZiB0aGUge0BsaW5rIEJveDN9XG4gICAqL1xuICBnZXRDZW50ZXIoKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMubWF4LmNsb25lKCkuYWRkKHRoaXMubWluKS5tdWx0aXBseVNjYWxhcigwLjUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgQm94M30gc2l6ZVxuICAgKiBAcmV0dXJucyAtIHtAbGluayBWZWMzIHwgc2l6ZSB2ZWN0b3J9IG9mIHRoZSB7QGxpbmsgQm94M31cbiAgICovXG4gIGdldFNpemUoKTogVmVjMyB7XG4gICAgcmV0dXJuIHRoaXMubWF4LmNsb25lKCkuc3ViKHRoaXMubWluKVxuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGEge0BsaW5rIE1hdDQgfCBtYXRyaXh9IHRvIGEge0BsaW5rIEJveDN9XG4gICAqIFVzZWZ1bCB0byBhcHBseSBhIHRyYW5zZm9ybWF0aW9uIHtAbGluayBNYXQ0IHwgbWF0cml4fSB0byBhIHtAbGluayBCb3gzfVxuICAgKiBAcGFyYW0gbWF0cml4IC0ge0BsaW5rIE1hdDQgfCBtYXRyaXh9IHRvIHVzZVxuICAgKiBAcmV0dXJucyAtIHRoaXMge0BsaW5rIEJveDN9IGFmdGVyIHtAbGluayBNYXQ0IHwgbWF0cml4fSBhcHBsaWNhdGlvblxuICAgKi9cbiAgYXBwbHlNYXQ0KG1hdHJpeDogTWF0NCA9IG5ldyBNYXQ0KCkpOiBCb3gzIHtcbiAgICBjb25zdCBjb3JuZXJzOiBWZWMzW10gPSBbXVxuXG4gICAgLy8gcmVtZW1iZXIgd2UncmUgZXNzZW50aWFsbHkgZGVhbGluZyB3aXRoIHBsYW5lIGdlb21ldHJpZXNcbiAgICAvLyBzbyBpZiBtaW4gWiBhbmQgbWF4IFogYXJlIGVxdWFscywgaXQncyBhY3R1YWxseSBhIHBsYW5lIGdlb21ldHJ5XG4gICAgLy8ganVzdCBhcHBseSB0aGUgbWF0cml4IHRvIGl0cyBmb3VyIGNvcm5lcnNcbiAgICBpZiAodGhpcy5taW4ueiA9PT0gdGhpcy5tYXgueikge1xuICAgICAgY29ybmVyc1swXSA9IHBvaW50c1swXS5zZXQodGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbMV0gPSBwb2ludHNbMl0uc2V0KHRoaXMubWluLngsIHRoaXMubWF4LnksIHRoaXMubWluLnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzJdID0gcG9pbnRzWzRdLnNldCh0aGlzLm1heC54LCB0aGlzLm1pbi55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1szXSA9IHBvaW50c1s2XS5zZXQodGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICB9IGVsc2Uge1xuICAgICAgY29ybmVyc1swXSA9IHBvaW50c1swXS5zZXQodGhpcy5taW4ueCwgdGhpcy5taW4ueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbMV0gPSBwb2ludHNbMV0uc2V0KHRoaXMubWluLngsIHRoaXMubWluLnksIHRoaXMubWF4LnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzJdID0gcG9pbnRzWzJdLnNldCh0aGlzLm1pbi54LCB0aGlzLm1heC55LCB0aGlzLm1pbi56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1szXSA9IHBvaW50c1szXS5zZXQodGhpcy5taW4ueCwgdGhpcy5tYXgueSwgdGhpcy5tYXgueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbNF0gPSBwb2ludHNbNF0uc2V0KHRoaXMubWF4LngsIHRoaXMubWluLnksIHRoaXMubWluLnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgICBjb3JuZXJzWzVdID0gcG9pbnRzWzVdLnNldCh0aGlzLm1heC54LCB0aGlzLm1pbi55LCB0aGlzLm1heC56KS5hcHBseU1hdDQobWF0cml4KVxuICAgICAgY29ybmVyc1s2XSA9IHBvaW50c1s2XS5zZXQodGhpcy5tYXgueCwgdGhpcy5tYXgueSwgdGhpcy5taW4ueikuYXBwbHlNYXQ0KG1hdHJpeClcbiAgICAgIGNvcm5lcnNbN10gPSBwb2ludHNbN10uc2V0KHRoaXMubWF4LngsIHRoaXMubWF4LnksIHRoaXMubWF4LnopLmFwcGx5TWF0NChtYXRyaXgpXG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNGb3JtZWRCb3ggPSBuZXcgQm94MygpXG5cbiAgICBmb3IgKGxldCBpID0gMCwgY29ybmVyc0NvdW50ID0gY29ybmVycy5sZW5ndGg7IGkgPCBjb3JuZXJzQ291bnQ7IGkrKykge1xuICAgICAgdHJhbnNGb3JtZWRCb3gubWluLm1pbihjb3JuZXJzW2ldKVxuICAgICAgdHJhbnNGb3JtZWRCb3gubWF4Lm1heChjb3JuZXJzW2ldKVxuICAgIH1cblxuICAgIHJldHVybiB0cmFuc0Zvcm1lZEJveFxuICB9XG59XG4iLCJpbXBvcnQgeyBCb3gzIH0gZnJvbSAnLi4vLi4vbWF0aC9Cb3gzJ1xuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcbmltcG9ydCB7IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIFJlY3RDb29yZHMgfSBmcm9tICcuL0RPTUVsZW1lbnQnXG5cbi8qKlxuICogQW4gb2JqZWN0IGRlZmluaW5nIGFsbCBwb3NzaWJsZSB7QGxpbmsgRE9NRnJ1c3R1bX0gY2xhc3MgaW5zdGFuY2luZyBwYXJhbWV0ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRE9NRnJ1c3R1bVBhcmFtcyB7XG4gIC8qKiBvdXIgM0QgT2JqZWN0IGJvdW5kaW5nIGJveCwgaS5lLiBzaXplIGluIHdvcmxkIHNwYWNlIGJlZm9yZSBhbnkgdHJhbnNmb3JtLiBVc3VhbGx5IGRlZmluZWQgYnkgYSB7QGxpbmsgY29yZS9nZW9tZXRyaWVzL0dlb21ldHJ5Lkdlb21ldHJ5IHwgR2VvbWV0cnl9ICovXG4gIGJvdW5kaW5nQm94PzogQm94M1xuICAvKioge0BsaW5rIGNvcmUvb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNELlByb2plY3RlZE9iamVjdDNEI21vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggfCBtb2RlbCB2aWV3IHByb2plY3Rpb24gbWF0cml4fSB0byB1c2UgZm9yIGZydXN0dW0gY2FsY3VsYXRpb25zICovXG4gIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXg/OiBNYXQ0XG4gIC8qKiB0aGUge0BsaW5rIERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBib3VuZGluZyByZWN0YW5nbGV9IHRvIGNoZWNrIGFnYWluc3QgKi9cbiAgY29udGFpbmVyQm91bmRpbmdSZWN0PzogRE9NRWxlbWVudEJvdW5kaW5nUmVjdFxuICAvKiogYWRkaXRpb25hbCBtYXJnaW5zIHRvIGFkZCB0byB7QGxpbmsgY29udGFpbmVyQm91bmRpbmdSZWN0fSAqL1xuICBET01GcnVzdHVtTWFyZ2lucz86IFJlY3RDb29yZHNcbiAgLyoqIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgRE9NRnJ1c3R1bSNwcm9qZWN0ZWRCb3VuZGluZ1JlY3QgfCBwcm9qZWN0ZWRCb3VuZGluZ1JlY3R9IHJlZW50ZXJzIHRoZSB2aWV3IGZydXN0dW0gKi9cbiAgb25SZUVudGVyVmlldz86ICgpID0+IHZvaWRcbiAgLyoqIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgRE9NRnJ1c3R1bSNwcm9qZWN0ZWRCb3VuZGluZ1JlY3QgfCBwcm9qZWN0ZWRCb3VuZGluZ1JlY3R9IGxlYXZlcyB0aGUgdmlldyBmcnVzdHVtICovXG4gIG9uTGVhdmVWaWV3PzogKCkgPT4gdm9pZFxufVxuXG4vKiogQGNvbnN0YW50IHtSZWN0Q29vcmRzfSAtIGRlZmF1bHQge0BsaW5rIERPTUZydXN0dW0jRE9NRnJ1c3R1bU1hcmdpbnMgfCBET01GcnVzdHVtTWFyZ2luc30gKi9cbmNvbnN0IGRlZmF1bHRET01GcnVzdHVtTWFyZ2luczogUmVjdENvb3JkcyA9IHtcbiAgdG9wOiAwLFxuICByaWdodDogMCxcbiAgYm90dG9tOiAwLFxuICBsZWZ0OiAwLFxufVxuXG4vKipcbiAqIFVzZWQgdG8gY2hlY2sgaWYgYSB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QgfCBQcm9qZWN0ZWRPYmplY3QzRH0gaXMgY3VycmVudGx5IGNvbnRhaW5lZCBpbnNpZGUgYSBET00gYm91bmRpbmcgcmVjdGFuZ2xlLlxuICpcbiAqIFVzZXMgYSB7QGxpbmsgY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QuUHJvamVjdGVkT2JqZWN0M0QjbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCB8IG1vZGVsIHZpZXcgcHJvamVjdGlvbiBtYXRyaXh9IHRoYXQgY29udGFpbnMgYm90aCB1c2VmdWwge0BsaW5rIGNvcmUvb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNELlByb2plY3RlZE9iamVjdDNEI3RyYW5zZm9ybXMgfCBPYmplY3QzRCB0cmFuc2Zvcm1zfSBhbmQge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IHByb2plY3Rpb24gaW5mb3JtYXRpb24uXG4gKiBUaGUgRE9NIGJvdW5kaW5nIHJlY3RhbmdsZSB0byBjaGVjayBhZ2FpbnN0IHVzdWFsbHkgaXMgdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5HUFVSZW5kZXJlciB8IHJlbmRlcmVyfSdzIHtAbGluayBjb3JlL0RPTS9ET01FbGVtZW50LkRPTUVsZW1lbnQgfCBET01FbGVtZW50fSBib3VuZGluZyByZWN0YW5nbGUsIHVubGVzcyBmcnVzdHVtIG1hcmdpbnMgYXJlIHNwZWNpZmllZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERPTUZydXN0dW0ge1xuICAvKiogT3VyIDNEIE9iamVjdCBib3VuZGluZyBib3gsIGkuZS4gc2l6ZSBpbiB3b3JsZCBzcGFjZSBiZWZvcmUgYW55IHRyYW5zZm9ybS4gVXN1YWxseSBkZWZpbmVkIGJ5IGEge0BsaW5rIGNvcmUvZ2VvbWV0cmllcy9HZW9tZXRyeS5HZW9tZXRyeSB8IEdlb21ldHJ5fSAqL1xuICBib3VuZGluZ0JveDogQm94M1xuICAvKiogQSBtb2RlbCB2aWV3IHByb2plY3Rpb24gbWF0cml4IGRlZmluaW5nIHRyYW5zZm9ybWF0aW9ucywgdXN1YWxseSBmcm9tIGEge0BsaW5rIGNvcmUvb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNELlByb2plY3RlZE9iamVjdDNEIHwgUHJvamVjdGVkT2JqZWN0M0R9LCB0byB1c2UgZm9yIGZydXN0dW0gY2FsY3VsYXRpb25zICovXG4gIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXg6IE1hdDRcblxuICAvKiogVGhlIERPTSBib3VuZGluZyByZWN0YW5nbGUgdG8gY2hlY2sgYWdhaW5zdCwgdXN1YWxseSB0aGUgcmVuZGVyZXIgRE9NIEVsZW1lbnQgYm91bmRpbmcgcmVjdGFuZ2xlICovXG4gIGNvbnRhaW5lckJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdFxuICAvKiogQWRkaXRpb25hbCBtYXJnaW5zIHRvIGFkZCB0byB7QGxpbmsgY29udGFpbmVyQm91bmRpbmdSZWN0fSAqL1xuICBET01GcnVzdHVtTWFyZ2luczogUmVjdENvb3Jkc1xuICAvKiogQSBET00gRWxlbWVudCBib3VuZGluZyByZWN0YW5nbGUgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQgb2Ygb3VyIHtAbGluayBib3VuZGluZ0JveH0gd2l0aCB0aGUge0BsaW5rIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXh9IGFwcGxpZWQgKi9cbiAgcHJvamVjdGVkQm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0XG5cbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgcHJvamVjdGVkQm91bmRpbmdSZWN0fSByZWVudGVycyB0aGUgdmlldyBmcnVzdHVtICovXG4gIG9uUmVFbnRlclZpZXc6ICgpID0+IHZvaWRcbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSB7QGxpbmsgcHJvamVjdGVkQm91bmRpbmdSZWN0fSBsZWF2ZXMgdGhlIHZpZXcgZnJ1c3R1bSAqL1xuICBvbkxlYXZlVmlldzogKCkgPT4gdm9pZFxuXG4gIC8qKiBGbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIGdpdmVuIHtAbGluayBwcm9qZWN0ZWRCb3VuZGluZ1JlY3R9IGlzIGludGVyc2VjdGluZyBvdXIgdmlldyBmcnVzdHVtICovXG4gIGlzSW50ZXJzZWN0aW5nOiBib29sZWFuXG4gIC8qKiBGbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgd2Ugc2hvdWxkIHVwZGF0ZSBvdXIge0BsaW5rIHByb2plY3RlZEJvdW5kaW5nUmVjdH0gKi9cbiAgc2hvdWxkVXBkYXRlOiBib29sZWFuXG5cbiAgLyoqXG4gICAqIERPTUZydXN0dW0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtET01GcnVzdHVtUGFyYW1zfSBwYXJhbWV0ZXJzIC0ge0BsaW5rIERPTUZydXN0dW1QYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIge0BsaW5rIERPTUZydXN0dW19XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgYm91bmRpbmdCb3ggPSBuZXcgQm94MygpLFxuICAgIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggPSBuZXcgTWF0NCgpLFxuICAgIGNvbnRhaW5lckJvdW5kaW5nUmVjdCA9IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgfSxcbiAgICBET01GcnVzdHVtTWFyZ2lucyA9IGRlZmF1bHRET01GcnVzdHVtTWFyZ2lucyxcbiAgICBvblJlRW50ZXJWaWV3ID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2tzICovXG4gICAgfSxcbiAgICBvbkxlYXZlVmlldyA9ICgpID0+IHtcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrcyAqL1xuICAgIH0sXG4gIH06IERPTUZydXN0dW1QYXJhbXMpIHtcbiAgICB0aGlzLmJvdW5kaW5nQm94ID0gYm91bmRpbmdCb3hcbiAgICB0aGlzLm1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggPSBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4XG4gICAgdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3QgPSBjb250YWluZXJCb3VuZGluZ1JlY3RcbiAgICB0aGlzLkRPTUZydXN0dW1NYXJnaW5zID0geyAuLi5kZWZhdWx0RE9NRnJ1c3R1bU1hcmdpbnMsIC4uLkRPTUZydXN0dW1NYXJnaW5zIH1cblxuICAgIHRoaXMucHJvamVjdGVkQm91bmRpbmdSZWN0ID0ge1xuICAgICAgdG9wOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICB9XG5cbiAgICB0aGlzLm9uUmVFbnRlclZpZXcgPSBvblJlRW50ZXJWaWV3XG4gICAgdGhpcy5vbkxlYXZlVmlldyA9IG9uTGVhdmVWaWV3XG5cbiAgICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gZmFsc2VcbiAgICB0aGlzLnNob3VsZFVwZGF0ZSA9IGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgY29udGFpbmVyQm91bmRpbmdSZWN0fSAoY2FsbGVkIG9uIHJlc2l6ZSlcbiAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIG5ldyBib3VuZGluZyByZWN0YW5nbGVcbiAgICovXG4gIHNldENvbnRhaW5lckJvdW5kaW5nUmVjdChib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QpIHtcbiAgICB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdCA9IGJvdW5kaW5nUmVjdFxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgRE9NIGZydXN0dW0gYm91bmRpbmcgcmVjdGFuZ2xlLCBpLmUuIG91ciB7QGxpbmsgY29udGFpbmVyQm91bmRpbmdSZWN0fSB3aXRoIHRoZSB7QGxpbmsgRE9NRnJ1c3R1bU1hcmdpbnN9IGFwcGxpZWRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgRE9NRnJ1c3R1bUJvdW5kaW5nUmVjdCgpOiBSZWN0Q29vcmRzIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0aGlzLnByb2plY3RlZEJvdW5kaW5nUmVjdC50b3AgLSB0aGlzLkRPTUZydXN0dW1NYXJnaW5zLnRvcCxcbiAgICAgIHJpZ2h0OiB0aGlzLnByb2plY3RlZEJvdW5kaW5nUmVjdC5yaWdodCArIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMucmlnaHQsXG4gICAgICBib3R0b206IHRoaXMucHJvamVjdGVkQm91bmRpbmdSZWN0LmJvdHRvbSArIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMuYm90dG9tLFxuICAgICAgbGVmdDogdGhpcy5wcm9qZWN0ZWRCb3VuZGluZ1JlY3QubGVmdCAtIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMubGVmdCxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyBhbGwge0BsaW5rIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXh9IHRyYW5zZm9ybWF0aW9ucyB0byBvdXIge0BsaW5rIGJvdW5kaW5nQm94fSBhbmQgdGhlbiBjaGVjayBhZ2FpbnN0IGludGVyc2VjdGlvbnNcbiAgICovXG4gIGNvbXB1dGVQcm9qZWN0ZWRUb0RvY3VtZW50Q29vcmRzKCkge1xuICAgIGNvbnN0IHByb2plY3RlZEJveCA9IHRoaXMuYm91bmRpbmdCb3guYXBwbHlNYXQ0KHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeClcblxuICAgIC8vIG5vcm1hbGl6ZSBbLTEsIDFdIGNvb3JkcyB0byBbMCwgMV1cbiAgICBwcm9qZWN0ZWRCb3gubWluLnggPSAocHJvamVjdGVkQm94Lm1pbi54ICsgMSkgKiAwLjVcbiAgICBwcm9qZWN0ZWRCb3gubWF4LnggPSAocHJvamVjdGVkQm94Lm1heC54ICsgMSkgKiAwLjVcblxuICAgIHByb2plY3RlZEJveC5taW4ueSA9IDEgLSAocHJvamVjdGVkQm94Lm1pbi55ICsgMSkgKiAwLjVcbiAgICBwcm9qZWN0ZWRCb3gubWF4LnkgPSAxIC0gKHByb2plY3RlZEJveC5tYXgueSArIDEpICogMC41XG5cbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCB9ID0gdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3RcblxuICAgIHRoaXMucHJvamVjdGVkQm91bmRpbmdSZWN0ID0ge1xuICAgICAgbGVmdDogcHJvamVjdGVkQm94Lm1pbi54ICogd2lkdGggKyBsZWZ0LFxuICAgICAgeDogcHJvamVjdGVkQm94Lm1pbi54ICogd2lkdGggKyBsZWZ0LFxuICAgICAgdG9wOiBwcm9qZWN0ZWRCb3gubWF4LnkgKiBoZWlnaHQgKyB0b3AsXG4gICAgICB5OiBwcm9qZWN0ZWRCb3gubWF4LnkgKiBoZWlnaHQgKyB0b3AsXG4gICAgICByaWdodDogcHJvamVjdGVkQm94Lm1heC54ICogd2lkdGggKyBsZWZ0LFxuICAgICAgYm90dG9tOiBwcm9qZWN0ZWRCb3gubWluLnkgKiBoZWlnaHQgKyB0b3AsXG4gICAgICB3aWR0aDogcHJvamVjdGVkQm94Lm1heC54ICogd2lkdGggKyBsZWZ0IC0gKHByb2plY3RlZEJveC5taW4ueCAqIHdpZHRoICsgbGVmdCksXG4gICAgICBoZWlnaHQ6IHByb2plY3RlZEJveC5taW4ueSAqIGhlaWdodCArIHRvcCAtIChwcm9qZWN0ZWRCb3gubWF4LnkgKiBoZWlnaHQgKyB0b3ApLFxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJzZWN0c0NvbnRhaW5lcigpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvdXIge0BsaW5rIHByb2plY3RlZEJvdW5kaW5nUmVjdH0gaW50ZXJzZWN0cyB3aXRoIG91ciB7QGxpbmsgRE9NRnJ1c3R1bUJvdW5kaW5nUmVjdH1cbiAgICovXG4gIGludGVyc2VjdHNDb250YWluZXIoKSB7XG4gICAgaWYgKFxuICAgICAgTWF0aC5yb3VuZCh0aGlzLkRPTUZydXN0dW1Cb3VuZGluZ1JlY3QucmlnaHQpIDw9IHRoaXMuY29udGFpbmVyQm91bmRpbmdSZWN0LmxlZnQgfHxcbiAgICAgIE1hdGgucm91bmQodGhpcy5ET01GcnVzdHVtQm91bmRpbmdSZWN0LmxlZnQpID49XG4gICAgICAgIHRoaXMuY29udGFpbmVyQm91bmRpbmdSZWN0LmxlZnQgKyB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdC53aWR0aCB8fFxuICAgICAgTWF0aC5yb3VuZCh0aGlzLkRPTUZydXN0dW1Cb3VuZGluZ1JlY3QuYm90dG9tKSA8PSB0aGlzLmNvbnRhaW5lckJvdW5kaW5nUmVjdC50b3AgfHxcbiAgICAgIE1hdGgucm91bmQodGhpcy5ET01GcnVzdHVtQm91bmRpbmdSZWN0LnRvcCkgPj0gdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3QudG9wICsgdGhpcy5jb250YWluZXJCb3VuZGluZ1JlY3QuaGVpZ2h0XG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLm9uTGVhdmVWaWV3KClcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0ludGVyc2VjdGluZyA9IGZhbHNlXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5pc0ludGVyc2VjdGluZykge1xuICAgICAgICB0aGlzLm9uUmVFbnRlclZpZXcoKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmlzSW50ZXJzZWN0aW5nID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQm94MyB9IGZyb20gJy4uLy4uL21hdGgvQm94MydcbmltcG9ydCB7IHRocm93RXJyb3IsIHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHtcbiAgR2VvbWV0cnlPcHRpb25zLFxuICBHZW9tZXRyeVBhcmFtcyxcbiAgVmVydGV4QnVmZmVyLFxuICBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGUsXG4gIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcyxcbiAgVmVydGV4QnVmZmVyUGFyYW1zXG59IGZyb20gJy4uLy4uL3R5cGVzL0dlb21ldHJpZXMnXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgR2VvbWV0cnl9IGZyb20gZ2l2ZW4gcGFyYW1ldGVycyBsaWtlIGluc3RhbmNlcyBjb3VudCBvciBnZW9tZXRyeSBhdHRyaWJ1dGVzICh2ZXJ0aWNlcywgdXZzLCBub3JtYWxzKS48YnI+XG4gKiBIb2xkcyBhbGwgYXR0cmlidXRlcyBhcnJheXMsIGJvdW5kaW5nIGJveCBhbmQgY3JlYXRlIGFzIFdHU0wgY29kZSBzbmlwcGV0IGZvciB0aGUgdmVydGV4IHNoYWRlciBpbnB1dCBhdHRyaWJ1dGVzLlxuICpcbiAqIER1cmluZyB0aGUge0BsaW5rIEdlb21ldHJ5I3JlbmRlciB8IHJlbmRlcn0sIHRoZSB7QGxpbmsgR2VvbWV0cnl9IGlzIHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIHRoZSB7QGxpbmsgR2VvbWV0cnkjdmVydGV4QnVmZmVycyB8IHZlcnRleEJ1ZmZlcnN9IGFuZCBkcmF3aW5nIHRoZSB2ZXJ0aWNlcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAqICAgLy8gZmlyc3QgdHJpYW5nbGVcbiAqICAgIDEsICAxLCAgMCxcbiAqICAgIDEsIC0xLCAgMCxcbiAqICAgLTEsIC0xLCAgMCxcbiAqXG4gKiAgIC8vIHNlY29uZCB0cmlhbmdsZVxuICogICAgMSwgIDEsICAwLFxuICogICAtMSwgLTEsICAwLFxuICogICAtMSwgIDEsICAwXG4gKiBdKVxuICpcbiAqIC8vIGNyZWF0ZSBhIHF1YWQgZ2VvbWV0cnkgbWFkZSBvZiAyIHRyaWFuZ2xlc1xuICogY29uc3QgZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKVxuICpcbiAqIGdlb21ldHJ5LnNldEF0dHJpYnV0ZSh7XG4gKiAgIG5hbWU6ICdwb3NpdGlvbicsXG4gKiAgIHR5cGU6ICd2ZWMzZicsXG4gKiAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXG4gKiAgIHNpemU6IDMsXG4gKiAgIGJ1ZmZlckxlbmd0aDogdmVydGljZXMubGVuZ3RoLFxuICogICBhcnJheTogdmVydGljZXMsXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeSB7XG4gIC8qKiBOdW1iZXIgb2YgdmVydGljZXMgZGVmaW5lZCBieSB0aGlzIGdlb21ldHJ5ICovXG4gIHZlcnRpY2VzQ291bnQ6IG51bWJlclxuICAvKiogVmVydGljZXMgb3JkZXIgdG8gYmUgZHJhd24gYnkgdGhlIHtAbGluayBjb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LlJlbmRlclBpcGVsaW5lRW50cnkgfCByZW5kZXIgcGlwZWxpbmV9ICovXG4gIHZlcnRpY2VzT3JkZXI6IEdQVUZyb250RmFjZVxuICAvKioge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93ZWJncHUvI2VudW1kZWYtZ3B1cHJpbWl0aXZldG9wb2xvZ3kgfCBUb3BvbG9neX0gdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgR2VvbWV0cnl9LCBpLmUuIHdoZXRoZXIgdG8gZHJhdyB0cmlhbmdsZXMgb3IgcG9pbnRzICovXG4gIHRvcG9sb2d5OiBHUFVQcmltaXRpdmVUb3BvbG9neVxuICAvKiogTnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGlzIGdlb21ldHJ5IHRvIGRyYXcgKi9cbiAgaW5zdGFuY2VzQ291bnQ6IG51bWJlclxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFZlcnRleEJ1ZmZlciB8IHZlcnRleCBidWZmZXJzfSB0byB1c2Ugd2l0aCB0aGlzIGdlb21ldHJ5ICovXG4gIHZlcnRleEJ1ZmZlcnM6IFZlcnRleEJ1ZmZlcltdXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMgZ2VvbWV0cnkgKi9cbiAgb3B0aW9uczogR2VvbWV0cnlPcHRpb25zXG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUgZ2VvbWV0cnkgKi9cbiAgdHlwZTogc3RyaW5nXG5cbiAgLyoqIFRoZSBib3VuZGluZyBib3ggb2YgdGhlIGdlb21ldHJ5LCBpLmUuIHR3byB7QGxpbmsgbWF0aC9WZWMzLlZlYzMgfCBWZWMzfSBkZWZpbmluZyB0aGUgbWluIGFuZCBtYXggcG9zaXRpb25zIHRvIHdyYXAgdGhpcyBnZW9tZXRyeSBpbiBhIGN1YmUgKi9cbiAgYm91bmRpbmdCb3g6IEJveDNcblxuICAvKiogQSBzdHJpbmcgdG8gYXBwZW5kIHRvIG91ciBzaGFkZXJzIGNvZGUgZGVzY3JpYmluZyB0aGUgV0dTTCBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIHRoaXMgZ2VvbWV0cnkgYXR0cmlidXRlcyAqL1xuICB3Z3NsU3RydWN0RnJhZ21lbnQ6IHN0cmluZ1xuXG4gIC8qKlxuICAgKiBHZW9tZXRyeSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBHZW9tZXRyeVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBHZW9tZXRyeVxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHZlcnRpY2VzT3JkZXIgPSAnY2N3JyxcbiAgICB0b3BvbG9neSA9ICd0cmlhbmdsZS1saXN0JyxcbiAgICBpbnN0YW5jZXNDb3VudCA9IDEsXG4gICAgdmVydGV4QnVmZmVycyA9IFtdLFxuICB9OiBHZW9tZXRyeVBhcmFtcyA9IHt9KSB7XG4gICAgdGhpcy52ZXJ0aWNlc0NvdW50ID0gMFxuICAgIHRoaXMudmVydGljZXNPcmRlciA9IHZlcnRpY2VzT3JkZXJcbiAgICB0aGlzLnRvcG9sb2d5ID0gdG9wb2xvZ3lcbiAgICB0aGlzLmluc3RhbmNlc0NvdW50ID0gaW5zdGFuY2VzQ291bnRcblxuICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm94MygpXG5cbiAgICB0aGlzLnR5cGUgPSAnR2VvbWV0cnknXG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBbXVxuXG4gICAgLy8gc2hvdWxkIGNvbnRhaW4gb3VyIHZlcnRleCBwb3NpdGlvbiAvIHV2IGRhdGEgYXQgbGVhc3RcbiAgICB0aGlzLmFkZFZlcnRleEJ1ZmZlcih7XG4gICAgICBuYW1lOiAnYXR0cmlidXRlcycsXG4gICAgfSlcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHZlcnRpY2VzT3JkZXIsXG4gICAgICBpbnN0YW5jZXNDb3VudCxcbiAgICAgIHZlcnRleEJ1ZmZlcnMsXG4gICAgICB0b3BvbG9neSxcbiAgICB9XG5cbiAgICB2ZXJ0ZXhCdWZmZXJzLmZvckVhY2goKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgdGhpcy5hZGRWZXJ0ZXhCdWZmZXIoe1xuICAgICAgICBzdGVwTW9kZTogdmVydGV4QnVmZmVyLnN0ZXBNb2RlID8/ICd2ZXJ0ZXgnLFxuICAgICAgICBuYW1lOiB2ZXJ0ZXhCdWZmZXIubmFtZSxcbiAgICAgICAgYXR0cmlidXRlczogdmVydGV4QnVmZmVyLmF0dHJpYnV0ZXMsXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhpcyBHZW9tZXRyeSBpcyByZWFkeSB0byBjb21wdXRlLCBpLmUuIGlmIGl0cyBmaXJzdCB2ZXJ0ZXggYnVmZmVyIGFycmF5IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldFxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzaG91bGRDb21wdXRlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnZlcnRleEJ1ZmZlcnMubGVuZ3RoICYmICF0aGlzLnZlcnRleEJ1ZmZlcnNbMF0uYXJyYXlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciB0aGlzIGdlb21ldHJ5IGlzIHJlYWR5IHRvIGRyYXcsIGkuZS4gaXQgaGFzIGJlZW4gY29tcHV0ZWQgYW5kIGFsbCBpdHMgdmVydGV4IGJ1ZmZlcnMgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICF0aGlzLnNob3VsZENvbXB1dGUgJiYgIXRoaXMudmVydGV4QnVmZmVycy5maW5kKCh2ZXJ0ZXhCdWZmZXIpID0+ICF2ZXJ0ZXhCdWZmZXIuYnVmZmVyKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHZlcnRleCBidWZmZXIgdG8gb3VyIEdlb21ldHJ5LCBzZXQgaXRzIGF0dHJpYnV0ZXMgYW5kIHJldHVybiBpdFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHZlcnRleCBidWZmZXIge0BsaW5rIFZlcnRleEJ1ZmZlclBhcmFtcyB8IHBhcmFtZXRlcnN9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgVmVydGV4QnVmZmVyIHwgdmVydGV4IGJ1ZmZlcn1cbiAgICovXG4gIGFkZFZlcnRleEJ1ZmZlcih7IHN0ZXBNb2RlID0gJ3ZlcnRleCcsIG5hbWUsIGF0dHJpYnV0ZXMgPSBbXSB9OiBWZXJ0ZXhCdWZmZXJQYXJhbXMgPSB7fSk6IFZlcnRleEJ1ZmZlciB7XG4gICAgY29uc3QgdmVydGV4QnVmZmVyID0ge1xuICAgICAgbmFtZTogbmFtZSA/PyAnYXR0cmlidXRlcycgKyB0aGlzLnZlcnRleEJ1ZmZlcnMubGVuZ3RoLFxuICAgICAgc3RlcE1vZGUsXG4gICAgICBhcnJheVN0cmlkZTogMCxcbiAgICAgIGJ1ZmZlckxlbmd0aDogMCxcbiAgICAgIGF0dHJpYnV0ZXM6IFtdLFxuICAgICAgYnVmZmVyOiBudWxsLFxuICAgIH1cblxuICAgIC8vIHNldCBhdHRyaWJ1dGVzIHJpZ2h0IGF3YXkgaWYgcG9zc2libGVcbiAgICBhdHRyaWJ1dGVzPy5mb3JFYWNoKChhdHRyaWJ1dGUpID0+IHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKHtcbiAgICAgICAgdmVydGV4QnVmZmVyLFxuICAgICAgICAuLi5hdHRyaWJ1dGUsXG4gICAgICB9IGFzIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZVBhcmFtcylcbiAgICB9KVxuXG4gICAgdGhpcy52ZXJ0ZXhCdWZmZXJzLnB1c2godmVydGV4QnVmZmVyKVxuXG4gICAgcmV0dXJuIHZlcnRleEJ1ZmZlclxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZlcnRleCBidWZmZXIgYnkgbmFtZVxuICAgKiBAcGFyYW0gbmFtZSAtIG91ciB2ZXJ0ZXggYnVmZmVyIG5hbWVcbiAgICogQHJldHVybnMgLSBmb3VuZCB7QGxpbmsgVmVydGV4QnVmZmVyIHwgdmVydGV4IGJ1ZmZlcn0gb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldFZlcnRleEJ1ZmZlckJ5TmFtZShuYW1lID0gJycpOiBWZXJ0ZXhCdWZmZXIgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0ZXhCdWZmZXJzLmZpbmQoKHZlcnRleEJ1ZmZlcikgPT4gdmVydGV4QnVmZmVyLm5hbWUgPT09IG5hbWUpXG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdmVydGV4IGJ1ZmZlciBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBhdHRyaWJ1dGVzIHtAbGluayBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXMgfCBwYXJhbWV0ZXJzfVxuICAgKi9cbiAgc2V0QXR0cmlidXRlKHtcbiAgICB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLnZlcnRleEJ1ZmZlcnNbMF0sXG4gICAgbmFtZSxcbiAgICB0eXBlID0gJ3ZlYzNmJyxcbiAgICBidWZmZXJGb3JtYXQgPSAnZmxvYXQzMngzJyxcbiAgICBzaXplID0gMyxcbiAgICBhcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlc0NvdW50ICogc2l6ZSksXG4gICAgdmVydGljZXNTdHJpZGUgPSAxLFxuICB9OiBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gdmVydGV4QnVmZmVyLmF0dHJpYnV0ZXNcbiAgICBjb25zdCBhdHRyaWJ1dGVzTGVuZ3RoID0gYXR0cmlidXRlcy5sZW5ndGhcblxuICAgIGlmICghbmFtZSkgbmFtZSA9ICdnZW9tZXRyeUF0dHJpYnV0ZScgKyBhdHRyaWJ1dGVzTGVuZ3RoXG5cbiAgICBpZiAobmFtZSA9PT0gJ3Bvc2l0aW9uJyAmJiAodHlwZSAhPT0gJ3ZlYzNmJyB8fCBidWZmZXJGb3JtYXQgIT09ICdmbG9hdDMyeDMnIHx8IHNpemUgIT09IDMpKSB7XG4gICAgICB0aHJvd1dhcm5pbmcoXG4gICAgICAgIGBHZW9tZXRyeSAncG9zaXRpb24nIGF0dHJpYnV0ZSBtdXN0IGhhdmUgdGhpcyBleGFjdCBwcm9wZXJ0aWVzIHNldDpcXG5cXHR0eXBlOiAndmVjM2YnLFxcblxcdGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MycsXFxuXFx0c2l6ZTogM2BcbiAgICAgIClcbiAgICAgIHR5cGUgPSAndmVjM2YnXG4gICAgICBidWZmZXJGb3JtYXQgPSAnZmxvYXQzMngzJ1xuICAgICAgc2l6ZSA9IDNcbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVDb3VudCA9IGFycmF5Lmxlbmd0aCAvIHNpemVcblxuICAgIGlmIChuYW1lID09PSAncG9zaXRpb24nKSB7XG4gICAgICB0aGlzLnZlcnRpY2VzQ291bnQgPSBhdHRyaWJ1dGVDb3VudFxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHZlcnRleEJ1ZmZlci5zdGVwTW9kZSA9PT0gJ3ZlcnRleCcgJiZcbiAgICAgIHRoaXMudmVydGljZXNDb3VudCAmJlxuICAgICAgdGhpcy52ZXJ0aWNlc0NvdW50ICE9PSBhdHRyaWJ1dGVDb3VudCAqIHZlcnRpY2VzU3RyaWRlXG4gICAgKSB7XG4gICAgICB0aHJvd0Vycm9yKFxuICAgICAgICBgR2VvbWV0cnkgdmVydGV4IGF0dHJpYnV0ZSBlcnJvci4gQXR0cmlidXRlIGFycmF5IG9mIHNpemUgJHtzaXplfSBtdXN0IGJlIG9mIGxlbmd0aDogJHtcbiAgICAgICAgICB0aGlzLnZlcnRpY2VzQ291bnQgKiBzaXplXG4gICAgICAgIH0sIGN1cnJlbnQgZ2l2ZW46ICR7YXJyYXkubGVuZ3RofS4gKCR7dGhpcy52ZXJ0aWNlc0NvdW50fSB2ZXJ0aWNlcykuYFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAodmVydGV4QnVmZmVyLnN0ZXBNb2RlID09PSAnaW5zdGFuY2UnICYmIGF0dHJpYnV0ZUNvdW50ICE9PSB0aGlzLmluc3RhbmNlc0NvdW50KSB7XG4gICAgICB0aHJvd0Vycm9yKFxuICAgICAgICBgR2VvbWV0cnkgaW5zdGFuY2UgYXR0cmlidXRlIGVycm9yLiBBdHRyaWJ1dGUgYXJyYXkgb2Ygc2l6ZSAke3NpemV9IG11c3QgYmUgb2YgbGVuZ3RoOiAke1xuICAgICAgICAgIHRoaXMuaW5zdGFuY2VzQ291bnQgKiBzaXplXG4gICAgICAgIH0sIGN1cnJlbnQgZ2l2ZW46ICR7YXJyYXkubGVuZ3RofS4gKCR7dGhpcy5pbnN0YW5jZXNDb3VudH0gaW5zdGFuY2VzKS5gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlID0ge1xuICAgICAgbmFtZSxcbiAgICAgIHR5cGUsXG4gICAgICBidWZmZXJGb3JtYXQsXG4gICAgICBzaXplLFxuICAgICAgYnVmZmVyTGVuZ3RoOiBhcnJheS5sZW5ndGgsXG4gICAgICBvZmZzZXQ6IGF0dHJpYnV0ZXNMZW5ndGhcbiAgICAgICAgPyBhdHRyaWJ1dGVzLnJlZHVjZSgoYWNjdW11bGF0b3I6IG51bWJlciwgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWUuYnVmZmVyTGVuZ3RoXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgOiAwLFxuICAgICAgYnVmZmVyT2Zmc2V0OiBhdHRyaWJ1dGVzTGVuZ3RoXG4gICAgICAgID8gYXR0cmlidXRlc1thdHRyaWJ1dGVzTGVuZ3RoIC0gMV0uYnVmZmVyT2Zmc2V0ICsgYXR0cmlidXRlc1thdHRyaWJ1dGVzTGVuZ3RoIC0gMV0uc2l6ZSAqIDRcbiAgICAgICAgOiAwLFxuICAgICAgYXJyYXksXG4gICAgICB2ZXJ0aWNlc1N0cmlkZTogdmVydGljZXNTdHJpZGUsXG4gICAgfVxuXG4gICAgdmVydGV4QnVmZmVyLmJ1ZmZlckxlbmd0aCArPSBhdHRyaWJ1dGUuYnVmZmVyTGVuZ3RoICogdmVydGljZXNTdHJpZGVcbiAgICB2ZXJ0ZXhCdWZmZXIuYXJyYXlTdHJpZGUgKz0gYXR0cmlidXRlLnNpemVcbiAgICB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gYXR0cmlidXRlIGJ5IG5hbWVcbiAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgdG8gZmluZFxuICAgKiBAcmV0dXJucyAtIGZvdW5kIHtAbGluayBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGUgfCBhdHRyaWJ1dGV9IG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAqL1xuICBnZXRBdHRyaWJ1dGVCeU5hbWUobmFtZTogc3RyaW5nKTogVmVydGV4QnVmZmVyQXR0cmlidXRlIHwgbnVsbCB7XG4gICAgbGV0IGF0dHJpYnV0ZVxuICAgIHRoaXMudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIpID0+IHtcbiAgICAgIGF0dHJpYnV0ZSA9IHZlcnRleEJ1ZmZlci5hdHRyaWJ1dGVzLmZpbmQoKGF0dHJpYnV0ZSkgPT4gYXR0cmlidXRlLm5hbWUgPT09IG5hbWUpXG4gICAgfSlcblxuICAgIHJldHVybiBhdHRyaWJ1dGVcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIGEgR2VvbWV0cnksIHdoaWNoIG1lYW5zIGl0ZXJhdGUgdGhyb3VnaCBhbGwgdmVydGV4IGJ1ZmZlcnMgYW5kIGNyZWF0ZSB0aGUgYXR0cmlidXRlcyBhcnJheSB0aGF0IHdpbGwgYmUgc2VudCBhcyBidWZmZXJzLlxuICAgKiBBbHNvIGNvbXB1dGUgdGhlIEdlb21ldHJ5IGJvdW5kaW5nIGJveC5cbiAgICovXG4gIGNvbXB1dGVHZW9tZXRyeSgpIHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkQ29tcHV0ZSkgcmV0dXJuXG5cbiAgICB0aGlzLnZlcnRleEJ1ZmZlcnMuZm9yRWFjaCgodmVydGV4QnVmZmVyLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIGNvbnN0IGhhc1Bvc2l0aW9uQXR0cmlidXRlID0gdmVydGV4QnVmZmVyLmF0dHJpYnV0ZXMuZmluZChcbiAgICAgICAgICAoYXR0cmlidXRlKSA9PiBhdHRyaWJ1dGUubmFtZSA9PT0gJ3Bvc2l0aW9uJ1xuICAgICAgICApIGFzIFZlcnRleEJ1ZmZlckF0dHJpYnV0ZSB8IG51bGxcblxuICAgICAgICBpZiAoIWhhc1Bvc2l0aW9uQXR0cmlidXRlKSB7XG4gICAgICAgICAgdGhyb3dFcnJvcihgR2VvbWV0cnkgbXVzdCBoYXZlIGEgJ3Bvc2l0aW9uJyBhdHRyaWJ1dGVgKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGhhc1Bvc2l0aW9uQXR0cmlidXRlLnR5cGUgIT09ICd2ZWMzZicgfHxcbiAgICAgICAgICBoYXNQb3NpdGlvbkF0dHJpYnV0ZS5idWZmZXJGb3JtYXQgIT09ICdmbG9hdDMyeDMnIHx8XG4gICAgICAgICAgaGFzUG9zaXRpb25BdHRyaWJ1dGUuc2l6ZSAhPT0gM1xuICAgICAgICApIHtcbiAgICAgICAgICB0aHJvd1dhcm5pbmcoXG4gICAgICAgICAgICBgR2VvbWV0cnkgJ3Bvc2l0aW9uJyBhdHRyaWJ1dGUgbXVzdCBoYXZlIHRoaXMgZXhhY3QgcHJvcGVydGllcyBzZXQ6XFxuXFx0dHlwZTogJ3ZlYzNmJyxcXG5cXHRidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxcblxcdHNpemU6IDNgXG4gICAgICAgICAgKVxuICAgICAgICAgIGhhc1Bvc2l0aW9uQXR0cmlidXRlLnR5cGUgPSAndmVjM2YnXG4gICAgICAgICAgaGFzUG9zaXRpb25BdHRyaWJ1dGUuYnVmZmVyRm9ybWF0ID0gJ2Zsb2F0MzJ4MydcbiAgICAgICAgICBoYXNQb3NpdGlvbkF0dHJpYnV0ZS5zaXplID0gM1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZlcnRleEJ1ZmZlci5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGV4QnVmZmVyLmJ1ZmZlckxlbmd0aClcblxuICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IDBcbiAgICAgIGxldCBhdHRyaWJ1dGVJbmRleCA9IDBcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGV4QnVmZmVyLmJ1ZmZlckxlbmd0aDsgaSArPSB2ZXJ0ZXhCdWZmZXIuYXJyYXlTdHJpZGUpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IHsgbmFtZSwgc2l6ZSwgYXJyYXksIHZlcnRpY2VzU3RyaWRlIH0gPSB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlc1tqXVxuXG4gICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBzaXplOyBzKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZVZhbHVlID0gYXJyYXlbTWF0aC5mbG9vcihhdHRyaWJ1dGVJbmRleCAvIHZlcnRpY2VzU3RyaWRlKSAqIHNpemUgKyBzXVxuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmFycmF5W2N1cnJlbnRJbmRleF0gPSBhdHRyaWJ1dGVWYWx1ZVxuXG4gICAgICAgICAgICAvLyBjb21wdXRlIGJvdW5kaW5nIGJveFxuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdwb3NpdGlvbicpIHtcbiAgICAgICAgICAgICAgaWYgKHMgJSAzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8geFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1pbi54ID4gYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWluLnggPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1heC54IDwgYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWF4LnggPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMgJSAzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8geVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1pbi55ID4gYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWluLnkgPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1heC55IDwgYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWF4LnkgPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHMgJSAzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gelxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1pbi56ID4gYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWluLnogPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kaW5nQm94Lm1heC56IDwgYXR0cmlidXRlVmFsdWUpIHRoaXMuYm91bmRpbmdCb3gubWF4LnogPSBhdHRyaWJ1dGVWYWx1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCsrXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYXR0cmlidXRlSW5kZXgrK1xuICAgICAgfVxuICAgIH0pXG5cbiAgICB0aGlzLiNzZXRXR1NMRnJhZ21lbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgV0dTTCBjb2RlIHNuaXBwZXQgdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgI3NldFdHU0xGcmFnbWVudCgpIHtcbiAgICBsZXQgbG9jYXRpb25JbmRleCA9IC0xXG4gICAgdGhpcy53Z3NsU3RydWN0RnJhZ21lbnQgPSBgc3RydWN0IEF0dHJpYnV0ZXMge1xcblxcdEBidWlsdGluKHZlcnRleF9pbmRleCkgdmVydGV4SW5kZXggOiB1MzIsXFxuXFx0QGJ1aWx0aW4oaW5zdGFuY2VfaW5kZXgpIGluc3RhbmNlSW5kZXggOiB1MzIsJHt0aGlzLnZlcnRleEJ1ZmZlcnNcbiAgICAgIC5tYXAoKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgICByZXR1cm4gdmVydGV4QnVmZmVyLmF0dHJpYnV0ZXMubWFwKChhdHRyaWJ1dGUpID0+IHtcbiAgICAgICAgICBsb2NhdGlvbkluZGV4KytcbiAgICAgICAgICByZXR1cm4gYFxcblxcdEBsb2NhdGlvbigke2xvY2F0aW9uSW5kZXh9KSAke2F0dHJpYnV0ZS5uYW1lfTogJHthdHRyaWJ1dGUudHlwZX1gXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmpvaW4oJywnKX1cXG59O2BcbiAgfVxuXG4gIC8qKiBSRU5ERVIgKiovXG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcmVuZGVyIHBhc3MgZ2VvbWV0cnkgdmVydGV4IGJ1ZmZlcnNcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzXG4gICAqL1xuICBzZXRHZW9tZXRyeUJ1ZmZlcnMocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpIHtcbiAgICB0aGlzLnZlcnRleEJ1ZmZlcnMuZm9yRWFjaCgodmVydGV4QnVmZmVyLCBpbmRleCkgPT4ge1xuICAgICAgcGFzcy5zZXRWZXJ0ZXhCdWZmZXIoaW5kZXgsIHZlcnRleEJ1ZmZlci5idWZmZXIpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IG91ciBnZW9tZXRyeVxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3NcbiAgICovXG4gIGRyYXdHZW9tZXRyeShwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xuICAgIHBhc3MuZHJhdyh0aGlzLnZlcnRpY2VzQ291bnQsIHRoaXMuaW5zdGFuY2VzQ291bnQpXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB2ZXJ0ZXggYnVmZmVycyB0aGVuIGRyYXcgdGhlIGdlb21ldHJ5XG4gICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzc1xuICAgKi9cbiAgcmVuZGVyKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSByZXR1cm5cblxuICAgIHRoaXMuc2V0R2VvbWV0cnlCdWZmZXJzKHBhc3MpXG4gICAgdGhpcy5kcmF3R2VvbWV0cnkocGFzcylcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciBnZW9tZXRyeSB2ZXJ0ZXggYnVmZmVyc1xuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnZlcnRleEJ1ZmZlcnMuZm9yRWFjaCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICB2ZXJ0ZXhCdWZmZXIuYnVmZmVyPy5kZXN0cm95KClcbiAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXIgPSBudWxsXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuL0dlb21ldHJ5J1xyXG5pbXBvcnQgeyBHZW9tZXRyeVBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL0dlb21ldHJpZXMnXHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgYXZhaWxhYmxlIG9wdGlvbnMgdG8gY3JlYXRlIGFuIHtAbGluayBJbmRleGVkR2VvbWV0cnkjaW5kZXhCdWZmZXIgfCBpbmRleCBidWZmZXJ9XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4ZWRHZW9tZXRyeUluZGV4QnVmZmVyT3B0aW9ucyB7XHJcbiAgLyoqIGluZGV4IGJ1ZmZlciBmb3JtYXQgKi9cclxuICBidWZmZXJGb3JtYXQ/OiBHUFVJbmRleEZvcm1hdFxyXG4gIC8qKiBpbmRleCBidWZmZXIgYXJyYXkgKi9cclxuICBhcnJheT86IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXlcclxufVxyXG5cclxuLyoqXHJcbiAqIERlZmluZXMgYW4ge0BsaW5rIEluZGV4ZWRHZW9tZXRyeSNpbmRleEJ1ZmZlciB8IGluZGV4IGJ1ZmZlcn1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhCdWZmZXIge1xyXG4gIC8qKiBpbmRleCBidWZmZXIgZm9ybWF0ICovXHJcbiAgYnVmZmVyRm9ybWF0OiBHUFVJbmRleEZvcm1hdFxyXG4gIC8qKiBpbmRleCBidWZmZXIgYXJyYXkgKi9cclxuICBhcnJheTogVWludDE2QXJyYXkgfCBVaW50MzJBcnJheVxyXG4gIC8qKiBpbmRleCBidWZmZXIgbGVuZ3RoICovXHJcbiAgYnVmZmVyTGVuZ3RoOiBudW1iZXJcclxuICAvKiogaW5kZXggYnVmZmVyIHtAbGluayBHUFVCdWZmZXJ9ICovXHJcbiAgYnVmZmVyPzogR1BVQnVmZmVyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGNyZWF0ZSBhbiB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5fSB3aGljaCBob2xkcyBhbiBpbmRleCBhcnJheSB0byB1c2UgYXMgYW4gaW5kZXggYnVmZmVyLlxyXG4gKlxyXG4gKiBUaGUgaW5kZXggYXJyYXkgcmVwcmVzZW50cyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIHByb2Nlc3NlZC4gVGhpcyBhbGxvd3MgdG8gY3JlYXRlIHNtYWxsZXIgdmVydGV4LCB1diBhbmQgbm9ybWFsIGFycmF5cy5cclxuICpcclxuICogRHVyaW5nIHRoZSB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5I3JlbmRlciB8IHJlbmRlcn0sIHRoZSB7QGxpbmsgSW5kZXhlZEdlb21ldHJ5fSBpcyByZXNwb25zaWJsZSBmb3Igc2V0dGluZyB0aGUge0BsaW5rIEluZGV4ZWRHZW9tZXRyeSN2ZXJ0ZXhCdWZmZXJzIHwgdmVydGV4QnVmZmVyc30gYW5kIGRyYXdpbmcgdGhlIGluZGV4ZWQgdmVydGljZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogY29uc3QgdmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICogICAtMSwgLTEsICAwLFxyXG4gKiAgICAxLCAtMSwgIDAsXHJcbiAqICAgLTEsICAxLCAgMCxcclxuICogICAgMSwgIDEsICAwXHJcbiAqIF0pXHJcbiAqXHJcbiAqIC8vIHZlcnRpY2VzIGluZGV4IChvcmRlciBpbiB3aGljaCB0aGV5IHNob3VsZCBiZSBkcmF3bilcclxuICogY29uc3QgaW5kZXhBcnJheSA9IG5ldyBVaW50MTZBcnJheShbMCwgMiwgMSwgMSwgMiwgM10pXHJcbiAqXHJcbiAqIC8vIGNyZWF0ZSBhbiBpbmRleGVkIHF1YWQgZ2VvbWV0cnkgbWFkZSBvZiA0IHZlcnRpY2VzXHJcbiAqIGNvbnN0IGluZGV4ZWRHZW9tZXRyeSA9IG5ldyBJbmRleGVkR2VvbWV0cnkoKVxyXG4gKlxyXG4gKiBpbmRleGVkR2VvbWV0cnkuc2V0QXR0cmlidXRlKHtcclxuICogICBuYW1lOiAncG9zaXRpb24nLFxyXG4gKiAgIHR5cGU6ICd2ZWMzZicsXHJcbiAqICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcclxuICogICBzaXplOiAzLFxyXG4gKiAgIGJ1ZmZlckxlbmd0aDogdmVydGljZXMubGVuZ3RoLFxyXG4gKiAgIGFycmF5OiB2ZXJ0aWNlcyxcclxuICogfSlcclxuICpcclxuICogaW5kZXhlZEdlb21ldHJ5LnNldEluZGV4QnVmZmVyKHtcclxuICogICBhcnJheTogaW5kZXhBcnJheSxcclxuICogICBidWZmZXJGb3JtYXQ6ICd1aW50MTYnLFxyXG4gKiB9KVxyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeSB7XHJcbiAgLyoqIE9iamVjdCBjb250YWluaW5nIG91ciBpbmRleCBidWZmZXIgZm9ybWF0ICYgbGVuZ3RoLCBhcnJheSBhbmQgR1BVQnVmZmVyICovXHJcbiAgaW5kZXhCdWZmZXI6IEluZGV4QnVmZmVyXHJcblxyXG4gIC8qKlxyXG4gICAqIEluZGV4ZWRHZW9tZXRyeSBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdlb21ldHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIEluZGV4ZWRHZW9tZXRyeVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIHZlcnRpY2VzT3JkZXIgPSAnY2N3JyxcclxuICAgIHRvcG9sb2d5ID0gJ3RyaWFuZ2xlLWxpc3QnLFxyXG4gICAgaW5zdGFuY2VzQ291bnQgPSAxLFxyXG4gICAgdmVydGV4QnVmZmVycyA9IFtdLFxyXG4gIH06IEdlb21ldHJ5UGFyYW1zID0ge30pIHtcclxuICAgIHN1cGVyKHsgdmVydGljZXNPcmRlciwgdG9wb2xvZ3ksIGluc3RhbmNlc0NvdW50LCB2ZXJ0ZXhCdWZmZXJzIH0pXHJcblxyXG4gICAgdGhpcy50eXBlID0gJ0luZGV4ZWRHZW9tZXRyeSdcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB3aGV0aGVyIHRoaXMgZ2VvbWV0cnkgaXMgcmVhZHkgdG8gZHJhdywgaS5lLiBpdCBoYXMgYmVlbiBjb21wdXRlZCwgYWxsIGl0cyB2ZXJ0ZXggYnVmZmVycyBoYXZlIGJlZW4gY3JlYXRlZCBhbmQgaXRzIGluZGV4IGJ1ZmZlciBoYXMgYmVlbiBjcmVhdGVkIGFzIHdlbGxcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAhdGhpcy5zaG91bGRDb21wdXRlICYmXHJcbiAgICAgICF0aGlzLnZlcnRleEJ1ZmZlcnMuZmluZCgodmVydGV4QnVmZmVyKSA9PiAhdmVydGV4QnVmZmVyLmJ1ZmZlcikgJiZcclxuICAgICAgdGhpcy5pbmRleEJ1ZmZlciAmJlxyXG4gICAgICAhIXRoaXMuaW5kZXhCdWZmZXIuYnVmZmVyXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJZiB3ZSBoYXZlIGxlc3MgdGhhbiA2NS41MzYgdmVydGljZXMsIHdlIHNob3VsZCB1c2UgYSBVaW4xNkFycmF5IHRvIGhvbGQgb3VyIGluZGV4IGJ1ZmZlciB2YWx1ZXNcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgdXNlVWludDE2SW5kZXhBcnJheSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnZlcnRpY2VzQ291bnQgPCAyNTYgKiAyNTZcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvdXIge0BsaW5rIGluZGV4QnVmZmVyfVxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEluZGV4ZWRHZW9tZXRyeUluZGV4QnVmZmVyT3B0aW9ucyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBpbmRleCBidWZmZXJcclxuICAgKi9cclxuICBzZXRJbmRleEJ1ZmZlcih7IGJ1ZmZlckZvcm1hdCA9ICd1aW50MzInLCBhcnJheSA9IG5ldyBVaW50MzJBcnJheSgwKSB9OiBJbmRleGVkR2VvbWV0cnlJbmRleEJ1ZmZlck9wdGlvbnMpIHtcclxuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSB7XHJcbiAgICAgIGFycmF5LFxyXG4gICAgICBidWZmZXJGb3JtYXQsXHJcbiAgICAgIGJ1ZmZlckxlbmd0aDogYXJyYXkubGVuZ3RoLFxyXG4gICAgICBidWZmZXI6IG51bGwsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKiogUkVOREVSICoqL1xyXG5cclxuICAvKipcclxuICAgKiBGaXJzdCwgc2V0IG91ciByZW5kZXIgcGFzcyBnZW9tZXRyeSB2ZXJ0ZXggYnVmZmVyc1xyXG4gICAqIFRoZW4sIHNldCBvdXIgcmVuZGVyIHBhc3MgZ2VvbWV0cnkgaW5kZXggYnVmZmVyXHJcbiAgICogQHBhcmFtIHBhc3MgLSBjdXJyZW50IHJlbmRlciBwYXNzXHJcbiAgICovXHJcbiAgc2V0R2VvbWV0cnlCdWZmZXJzKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKSB7XHJcbiAgICBzdXBlci5zZXRHZW9tZXRyeUJ1ZmZlcnMocGFzcylcclxuXHJcbiAgICBwYXNzLnNldEluZGV4QnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIuYnVmZmVyLCB0aGlzLmluZGV4QnVmZmVyLmJ1ZmZlckZvcm1hdClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE92ZXJyaWRlIHRoZSBwYXJlbnRNZXNoIGRyYXcgbWV0aG9kIHRvIGRyYXcgaW5kZXhlZCBnZW9tZXRyeVxyXG4gICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzc1xyXG4gICAqL1xyXG4gIGRyYXdHZW9tZXRyeShwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xyXG4gICAgcGFzcy5kcmF3SW5kZXhlZCh0aGlzLmluZGV4QnVmZmVyLmJ1ZmZlckxlbmd0aCwgdGhpcy5pbnN0YW5jZXNDb3VudClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgb3VyIGluZGV4ZWQgZ2VvbWV0cnkgdmVydGV4IGJ1ZmZlcnMgYW5kIGluZGV4IGJ1ZmZlclxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICBzdXBlci5kZXN0cm95KClcclxuXHJcbiAgICB0aGlzLmluZGV4QnVmZmVyPy5idWZmZXI/LmRlc3Ryb3koKVxyXG4gICAgdGhpcy5pbmRleEJ1ZmZlci5idWZmZXIgPSBudWxsXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEluZGV4ZWRHZW9tZXRyeSB9IGZyb20gJy4vSW5kZXhlZEdlb21ldHJ5J1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuL0dlb21ldHJ5J1xuaW1wb3J0IHsgR2VvbWV0cnlCYXNlUGFyYW1zLCBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXMgfSBmcm9tICcuLi8uLi90eXBlcy9HZW9tZXRyaWVzJ1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUGxhbmVHZW9tZXRyeX1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQbGFuZUdlb21ldHJ5UGFyYW1zIGV4dGVuZHMgR2VvbWV0cnlCYXNlUGFyYW1zIHtcbiAgLyoqIE51bWJlciBvZiBzZWdtZW50cyBhbG9uZyB0aGUgWCBheGlzICovXG4gIHdpZHRoU2VnbWVudHM/OiBudW1iZXJcbiAgLyoqIE51bWJlciBvZiBzZWdtZW50cyBhbG9uZyB0aGUgWSBheGlzICovXG4gIGhlaWdodFNlZ21lbnRzPzogbnVtYmVyXG59XG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYW4gaW5kZXhlZCBwbGFuZSBnZW9tZXRyeSBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBYIGFuZCBZIGF4aXMuXG4gKlxuICogVGhpcyBpcyBob3cgaXQgd2lsbCBsb29rIGZvciBhIDN4MiBxdWFkLiBJbmRleGluZyB3aWxsIHRha2UgY2FyZSBvZiBkcmF3aW5nIHRoZSByaWdodCB2ZXJ0aWNlcyBpbiB0aGUgcmlnaHQgb3JkZXIuXG4gKlxuICogPHByZT5cbiAqICAwLS0tMS0tLTItLS0zXG4gKiAgfCAgL3wgIC98ICAvfFxuICogIHwvICB8LyAgfC8gIHxcbiAqICA0LS0tNS0tLTYtLS03XG4gKiAgfCAgL3wgIC98ICAvfFxuICogIHwvICB8LyAgfC8gIHxcbiAqICA4LS0tOS0tLTEwLS0xMVxuICogPC9wcmU+XG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IHBsYW5lR2VvbWV0cnkgPSBuZXcgUGxhbmVHZW9tZXRyeSgpXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYW5lR2VvbWV0cnkgZXh0ZW5kcyBJbmRleGVkR2VvbWV0cnkge1xuICAvKipcbiAgICogRGVmaW5lcyBvdXIge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGRlZmluaXRpb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIHtAbGluayBQbGFuZUdlb21ldHJ5UGFyYW1zIHwgcGFyYW1ldGVyc31cbiAgICovXG4gIGRlZmluaXRpb246IHtcbiAgICAvKiogdW5pcXVlIGlkIGJhc2VkIG9uIHdpZHRoIGFuZCBoZWlnaHQgc2VnbWVudHMsIHVzZWQgdG8gZ2V0IHtAbGluayBQbGFuZUdlb21ldHJ5fSBmcm9tIGNhY2hlICovXG4gICAgaWQ6IG51bWJlclxuICAgIC8qKiBudW1iZXIgb2Ygc2VnbWVudHMgYWxvbmcgdGhlIFggYXhpcyAqL1xuICAgIHdpZHRoOiBudW1iZXJcbiAgICAvKiogbnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBZIGF4aXMgKi9cbiAgICBoZWlnaHQ6IG51bWJlclxuICAgIC8qKiB0b3RhbCBudW1iZXIgb2Ygc2VnbWVudHMgKi9cbiAgICBjb3VudDogbnVtYmVyXG4gIH1cblxuICAvKipcbiAgICogUGxhbmVHZW9tZXRyeSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBQbGFuZUdlb21ldHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgb3VyIFBsYW5lR2VvbWV0cnlcbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICB3aWR0aFNlZ21lbnRzID0gMSxcbiAgICBoZWlnaHRTZWdtZW50cyA9IDEsXG4gICAgaW5zdGFuY2VzQ291bnQgPSAxLFxuICAgIHZlcnRleEJ1ZmZlcnMgPSBbXSxcbiAgICB0b3BvbG9neSxcbiAgfTogUGxhbmVHZW9tZXRyeVBhcmFtcyA9IHt9KSB7XG4gICAgLy8gcGxhbmUgZ2VvbWV0cmllcyB2ZXJ0aWNlcyBhcmUgZGVmaW5lZCBpbiB0aGUgY2xvY2t3aXNlIG9yZGVyXG4gICAgc3VwZXIoeyB2ZXJ0aWNlc09yZGVyOiAnY3cnLCB0b3BvbG9neSwgaW5zdGFuY2VzQ291bnQsIHZlcnRleEJ1ZmZlcnMgfSlcblxuICAgIHRoaXMudHlwZSA9ICdQbGFuZUdlb21ldHJ5J1xuXG4gICAgd2lkdGhTZWdtZW50cyA9IE1hdGguZmxvb3Iod2lkdGhTZWdtZW50cylcbiAgICBoZWlnaHRTZWdtZW50cyA9IE1hdGguZmxvb3IoaGVpZ2h0U2VnbWVudHMpXG5cbiAgICAvLyB1bmlxdWUgcGxhbmUgZ2VvbWV0cnkgaWQgYmFzZWQgb24gd2lkdGggYW5kIGhlaWdodFxuICAgIC8vIHVzZWQgdG8gZ2V0IGEgZ2VvbWV0cnkgZnJvbSBjYWNoZVxuICAgIHRoaXMuZGVmaW5pdGlvbiA9IHtcbiAgICAgIGlkOiB3aWR0aFNlZ21lbnRzICogaGVpZ2h0U2VnbWVudHMgKyB3aWR0aFNlZ21lbnRzLFxuICAgICAgd2lkdGg6IHdpZHRoU2VnbWVudHMsXG4gICAgICBoZWlnaHQ6IGhlaWdodFNlZ21lbnRzLFxuICAgICAgY291bnQ6IHdpZHRoU2VnbWVudHMgKiBoZWlnaHRTZWdtZW50cyxcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJ0aWNlc0NvdW50ID0gKHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIDEpICogKHRoaXMuZGVmaW5pdGlvbi5oZWlnaHQgKyAxKVxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB0aGlzLmdldEluZGV4ZWRWZXJ0aWNlc0FuZFVWcyh2ZXJ0aWNlc0NvdW50KVxuXG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaCgoYXR0cmlidXRlS2V5KSA9PiB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVzW2F0dHJpYnV0ZUtleV0gYXMgVmVydGV4QnVmZmVyQXR0cmlidXRlUGFyYW1zKVxuICAgIH0pXG5cbiAgICB0aGlzLnNldEluZGV4QXJyYXkoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgUGxhbmVHZW9tZXRyeSBpbmRleCBhcnJheVxuICAgKi9cbiAgc2V0SW5kZXhBcnJheSgpIHtcbiAgICBjb25zdCBpbmRleEFycmF5ID0gdGhpcy51c2VVaW50MTZJbmRleEFycmF5XG4gICAgICA/IG5ldyBVaW50MTZBcnJheSh0aGlzLmRlZmluaXRpb24uY291bnQgKiA2KVxuICAgICAgOiBuZXcgVWludDMyQXJyYXkodGhpcy5kZWZpbml0aW9uLmNvdW50ICogNilcblxuICAgIGxldCBpbmRleCA9IDBcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5kZWZpbml0aW9uLmhlaWdodDsgeSsrKSB7XG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuZGVmaW5pdGlvbi53aWR0aDsgeCsrKSB7XG4gICAgICAgIGluZGV4QXJyYXlbaW5kZXgrK10gPSB4ICsgeSAqICh0aGlzLmRlZmluaXRpb24ud2lkdGggKyAxKVxuICAgICAgICBpbmRleEFycmF5W2luZGV4KytdID0gdGhpcy5kZWZpbml0aW9uLndpZHRoICsgeCArIDEgKyB5ICogKHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIDEpXG4gICAgICAgIGluZGV4QXJyYXlbaW5kZXgrK10gPSB4ICsgMSArIHkgKiAodGhpcy5kZWZpbml0aW9uLndpZHRoICsgMSlcblxuICAgICAgICBpbmRleEFycmF5W2luZGV4KytdID0geCArIDEgKyB5ICogKHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIDEpXG4gICAgICAgIGluZGV4QXJyYXlbaW5kZXgrK10gPSB0aGlzLmRlZmluaXRpb24ud2lkdGggKyB4ICsgMSArIHkgKiAodGhpcy5kZWZpbml0aW9uLndpZHRoICsgMSlcbiAgICAgICAgaW5kZXhBcnJheVtpbmRleCsrXSA9IHRoaXMuZGVmaW5pdGlvbi53aWR0aCArIHggKyAyICsgeSAqICh0aGlzLmRlZmluaXRpb24ud2lkdGggKyAxKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0SW5kZXhCdWZmZXIoe1xuICAgICAgYXJyYXk6IGluZGV4QXJyYXksXG4gICAgICBidWZmZXJGb3JtYXQ6IHRoaXMudXNlVWludDE2SW5kZXhBcnJheSA/ICd1aW50MTYnIDogJ3VpbnQzMicsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBVViBhbmQgcG9zaXRpb24gYXJyYXlzIGJhc2VkIG9uIG91ciBwbGFuZSB3aWR0aFNlZ21lbnRzIGFuZCBoZWlnaHRTZWdtZW50cyB2YWx1ZXMgYW5kIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSB2ZXJ0aWNlc0NvdW50IC0ge0BsaW5rIEdlb21ldHJ5I3ZlcnRpY2VzQ291bnQgfCBudW1iZXIgb2YgdmVydGljZXN9IG9mIG91ciB7QGxpbmsgUGxhbmVHZW9tZXRyeX1cbiAgICogQHJldHVybnMgLSBvdXIgcG9zaXRpb24gYW5kIHV2IHtAbGluayBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXMgfCBhdHRyaWJ1dGVzfVxuICAgKi9cbiAgZ2V0SW5kZXhlZFZlcnRpY2VzQW5kVVZzKHZlcnRpY2VzQ291bnQ6IEdlb21ldHJ5Wyd2ZXJ0aWNlc0NvdW50J10pOiBSZWNvcmQ8c3RyaW5nLCBWZXJ0ZXhCdWZmZXJBdHRyaWJ1dGVQYXJhbXM+IHtcbiAgICAvLyBnZW9tZXRyeSB2ZXJ0aWNlcyBhbmQgVVZzXG4gICAgY29uc3QgdXYgPSB7XG4gICAgICBuYW1lOiAndXYnLFxuICAgICAgdHlwZTogJ3ZlYzJmJyxcbiAgICAgIGJ1ZmZlckZvcm1hdDogJ2Zsb2F0MzJ4MicsXG4gICAgICBzaXplOiAyLFxuICAgICAgYXJyYXk6IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXNDb3VudCAqIDIpLFxuICAgIH1cblxuICAgIGNvbnN0IHBvc2l0aW9uID0ge1xuICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcbiAgICAgIHR5cGU6ICd2ZWMzZicsXG4gICAgICBidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxuICAgICAgLy8gbmIgb2YgdHJpYW5nbGVzICogMyB2ZXJ0aWNlcyBwZXIgdHJpYW5nbGUgKiAzIGNvb3JkaW5hdGVzIHBlciB0cmlhbmdsZVxuICAgICAgc2l6ZTogMyxcbiAgICAgIGFycmF5OiBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzQ291bnQgKiAzKSxcbiAgICB9XG5cbiAgICBjb25zdCBub3JtYWwgPSB7XG4gICAgICBuYW1lOiAnbm9ybWFsJyxcbiAgICAgIHR5cGU6ICd2ZWMzZicsXG4gICAgICBidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxuICAgICAgLy8gbmIgb2YgdHJpYW5nbGVzICogMyB2ZXJ0aWNlcyBwZXIgdHJpYW5nbGUgKiAzIGNvb3JkaW5hdGVzIHBlciB0cmlhbmdsZVxuICAgICAgc2l6ZTogMyxcbiAgICAgIGFycmF5OiBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzQ291bnQgKiAzKSxcbiAgICB9XG5cbiAgICBsZXQgcG9zaXRpb25PZmZzZXQgPSAwXG4gICAgbGV0IG5vcm1hbE9mZnNldCA9IDBcbiAgICBsZXQgdXZPZmZzZXQgPSAwXG5cbiAgICAvLyB0aGlzIGlzIGhvdyBpdCB3aWxsIGxvb2sgZm9yIGEgM3gyIHF1YWRcbiAgICAvLyBpbmRleGluZyB3aWxsIHRha2UgY2FyZSBvZiBkcmF3aW5nIHRoZSByaWdodCB2ZXJ0aWNlcyBhdCB0aGUgcmlnaHQgdGltZVxuICAgIC8vIDAtLS0xLS0tMi0tLTNcbiAgICAvLyB8IC8vfCAvL3wgLy98XG4gICAgLy8gfC8vIHwvLyB8Ly8gfFxuICAgIC8vIDQtLS01LS0tNi0tLTdcbiAgICAvLyB8IC8vfCAvL3wgLy98XG4gICAgLy8gfC8vIHwvLyB8Ly8gfFxuICAgIC8vIDgtLS05LS0tMTAtLTExXG5cbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSB0aGlzLmRlZmluaXRpb24uaGVpZ2h0OyB5KyspIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IHRoaXMuZGVmaW5pdGlvbi53aWR0aDsgeCsrKSB7XG4gICAgICAgIC8vIHV2XG4gICAgICAgIHV2LmFycmF5W3V2T2Zmc2V0KytdID0geCAvIHRoaXMuZGVmaW5pdGlvbi53aWR0aFxuICAgICAgICB1di5hcnJheVt1dk9mZnNldCsrXSA9IDEgLSB5IC8gdGhpcy5kZWZpbml0aW9uLmhlaWdodFxuXG4gICAgICAgIC8vIHZlcnRleCBwb3NpdGlvblxuICAgICAgICBwb3NpdGlvbi5hcnJheVtwb3NpdGlvbk9mZnNldCsrXSA9ICh4ICogMikgLyB0aGlzLmRlZmluaXRpb24ud2lkdGggLSAxXG4gICAgICAgIHBvc2l0aW9uLmFycmF5W3Bvc2l0aW9uT2Zmc2V0KytdID0gKHkgKiAyKSAvIHRoaXMuZGVmaW5pdGlvbi5oZWlnaHQgLSAxXG4gICAgICAgIHBvc2l0aW9uLmFycmF5W3Bvc2l0aW9uT2Zmc2V0KytdID0gMFxuXG4gICAgICAgIC8vIG5vcm1hbHMgYXJlIHNpbXBsZVxuICAgICAgICBub3JtYWwuYXJyYXlbbm9ybWFsT2Zmc2V0KytdID0gMFxuICAgICAgICBub3JtYWwuYXJyYXlbbm9ybWFsT2Zmc2V0KytdID0gMFxuICAgICAgICBub3JtYWwuYXJyYXlbbm9ybWFsT2Zmc2V0KytdID0gMVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHBvc2l0aW9uLCB1diwgbm9ybWFsIH0gYXMgUmVjb3JkPHN0cmluZywgVmVydGV4QnVmZmVyQXR0cmlidXRlUGFyYW1zPlxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gJy4vTWF0ZXJpYWwnXG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi9iaW5kR3JvdXBzL0JpbmRHcm91cCdcbmltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7XG4gIEFsbG93ZWRHZW9tZXRyaWVzLFxuICBSZW5kZXJNYXRlcmlhbEF0dHJpYnV0ZXMsXG4gIFJlbmRlck1hdGVyaWFsT3B0aW9ucyxcbiAgUmVuZGVyTWF0ZXJpYWxQYXJhbXMsXG4gIFJlbmRlck1hdGVyaWFsUmVuZGVyaW5nT3B0aW9uc1xufSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgeyBSZW5kZXJQaXBlbGluZUVudHJ5IH0gZnJvbSAnLi4vcGlwZWxpbmVzL1JlbmRlclBpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zIH0gZnJvbSAnLi4vLi4vdHlwZXMvUGlwZWxpbmVFbnRyaWVzJ1xuaW1wb3J0IHsgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5cbi8qKlxuICogQ3JlYXRlIGEge0BsaW5rIE1hdGVyaWFsfSBzcGVjaWZpY2FsbHkgYnVpbHQgdG8gZHJhdyB0aGUgdmVydGljZXMgb2YgYSB7QGxpbmsgY29yZS9nZW9tZXRyaWVzL0dlb21ldHJ5Lkdlb21ldHJ5IHwgR2VvbWV0cnl9LiBJbnRlcm5hbGx5IHVzZWQgYnkgYWxsIGtpbmQgb2YgTWVzaGVzLlxuICpcbiAqICMjIFJlbmRlciBwaXBlbGluZVxuICpcbiAqIEEge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgYSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0uIE9uY2UgYWxsIHRoZSB7QGxpbmsgQmluZEdyb3VwfSBoYXZlIGJlZW4gY3JlYXRlZCwgdGhleSBhcmUgc2VudCB3aXRoIHRoZSBzaGFkZXJzIGNvZGUgYW5kIHRoZSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxPcHRpb25zI3JlbmRlcmluZyB8IHJlbmRlcmluZyBvcHRpb25zfSB0byB0aGUge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9LCB3aGljaCBpcyBpbiB0dXJucyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0uXG4gKlxuICogQWZ0ZXIgdGhlIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZX0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkLCB0aGUge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBpcyBjb25zaWRlcmVkIHRvIGJlIHJlYWR5LlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyTWF0ZXJpYWwgZXh0ZW5kcyBNYXRlcmlhbCB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeSB8IFJlbmRlciBwaXBlbGluZSBlbnRyeX0gdXNlZCBieSB0aGlzIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gKi9cbiAgcGlwZWxpbmVFbnRyeTogUmVuZGVyUGlwZWxpbmVFbnRyeVxuICAvKiogTWFuZGF0b3J5IHtAbGluayBSZW5kZXJNYXRlcmlhbEF0dHJpYnV0ZXMgfCBnZW9tZXRyeSBhdHRyaWJ1dGVzfSB0byBwYXNzIHRvIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeSB8IHJlbmRlciBwaXBlbGluZSBlbnRyeX0gKi9cbiAgYXR0cmlidXRlczogUmVuZGVyTWF0ZXJpYWxBdHRyaWJ1dGVzIHwgbnVsbFxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gKi9cbiAgb3B0aW9uczogUmVuZGVyTWF0ZXJpYWxPcHRpb25zXG5cbiAgLyoqXG4gICAqIFJlbmRlck1hdGVyaWFsIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciByZW5kZXJlciBjbGFzcyBvYmplY3RcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSBvdXIgUmVuZGVyTWF0ZXJpYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzOiBSZW5kZXJNYXRlcmlhbFBhcmFtcykge1xuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgY29uc3QgdHlwZSA9ICdSZW5kZXJNYXRlcmlhbCdcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHR5cGUpXG5cbiAgICBzdXBlcihyZW5kZXJlciwgcGFyYW1ldGVycylcblxuICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBjb25zdCB7IHNoYWRlcnMsIGxhYmVsLCB1c2VBc3luY1BpcGVsaW5lLCB1bmlmb3Jtcywgc3RvcmFnZXMsIGJpbmRHcm91cHMsIC4uLnJlbmRlcmluZ09wdGlvbnMgfSA9IHBhcmFtZXRlcnNcblxuICAgIGlmICghc2hhZGVycy52ZXJ0ZXguZW50cnlQb2ludCkge1xuICAgICAgc2hhZGVycy52ZXJ0ZXguZW50cnlQb2ludCA9ICdtYWluJ1xuICAgIH1cblxuICAgIGlmICghc2hhZGVycy5mcmFnbWVudC5lbnRyeVBvaW50KSB7XG4gICAgICBzaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgPSAnbWFpbidcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICBzaGFkZXJzLFxuICAgICAgcmVuZGVyaW5nOiByZW5kZXJpbmdPcHRpb25zLFxuICAgIH0gYXMgUmVuZGVyTWF0ZXJpYWxPcHRpb25zXG5cbiAgICB0aGlzLnBpcGVsaW5lRW50cnkgPSB0aGlzLnJlbmRlcmVyLnBpcGVsaW5lTWFuYWdlci5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XG4gICAgICByZW5kZXJlcjogdGhpcy5yZW5kZXJlcixcbiAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnIHJlbmRlciBwaXBlbGluZScsXG4gICAgICBzaGFkZXJzOiB0aGlzLm9wdGlvbnMuc2hhZGVycyxcbiAgICAgIHVzZUFzeW5jOiB0aGlzLm9wdGlvbnMudXNlQXN5bmNQaXBlbGluZSxcbiAgICAgIC4uLnRoaXMub3B0aW9ucy5yZW5kZXJpbmcsXG4gICAgfSBhcyBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zKVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gYWxsIGJpbmQgZ3JvdXBzIGFuZCBhdHRyaWJ1dGVzIGFyZSBjcmVhdGVkLCBhZGQgdGhlbSB0byB0aGUge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9XG4gICAqL1xuICBzZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcygpIHtcbiAgICB0aGlzLnBpcGVsaW5lRW50cnkuc2V0UGlwZWxpbmVFbnRyeVByb3BlcnRpZXMoe1xuICAgICAgYXR0cmlidXRlczogdGhpcy5hdHRyaWJ1dGVzLFxuICAgICAgYmluZEdyb3VwczogdGhpcy5iaW5kR3JvdXBzLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQ29tcGlsZSB0aGUge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZVBpcGVsaW5lRW50cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5waXBlbGluZUVudHJ5LmNvbXBpbGVQaXBlbGluZUVudHJ5KClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhdHRyaWJ1dGVzIGFuZCBhbGwgYmluZCBncm91cHMgYXJlIHJlYWR5LCBjcmVhdGUgdGhlbSBpZiBuZWVkZWQgYW5kIHNldCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gYmluZCBncm91cCBidWZmZXJzIGFuZCBjb21waWxlIHRoZSBwaXBlbGluZVxuICAgKiBAYXN5bmNcbiAgICovXG4gIGFzeW5jIGNvbXBpbGVNYXRlcmlhbCgpIHtcbiAgICBzdXBlci5jb21waWxlTWF0ZXJpYWwoKVxuXG4gICAgaWYgKHRoaXMuYXR0cmlidXRlcyAmJiB0aGlzLnBpcGVsaW5lRW50cnkgJiYgdGhpcy5waXBlbGluZUVudHJ5LmNhbkNvbXBpbGUpIHtcbiAgICAgIHRoaXMuc2V0UGlwZWxpbmVFbnRyeVByb3BlcnRpZXMoKVxuICAgICAgYXdhaXQgdGhpcy5jb21waWxlUGlwZWxpbmVFbnRyeSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvciByZXNldCBvbmUgb2YgdGhlIHtAbGluayBSZW5kZXJNYXRlcmlhbFJlbmRlcmluZ09wdGlvbnMgfCByZW5kZXJpbmcgb3B0aW9uc30uIFNob3VsZCBiZSB1c2Ugd2l0aCBncmVhdCBjYXV0aW9uLCBiZWNhdXNlIGlmIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeSNwaXBlbGluZSB8IHJlbmRlciBwaXBlbGluZX0gaGFzIGFscmVhZHkgYmVlbiBjb21waWxlZCwgaXQgY2FuIGNhdXNlIGEgcGlwZWxpbmUgZmx1c2guXG4gICAqIEBwYXJhbSByZW5kZXJpbmdPcHRpb25zIC0gbmV3IHtAbGluayBSZW5kZXJNYXRlcmlhbFJlbmRlcmluZ09wdGlvbnMgfCByZW5kZXJpbmcgb3B0aW9uc30gcHJvcGVydGllcyB0byBiZSBzZXRcbiAgICovXG4gIHNldFJlbmRlcmluZ09wdGlvbnMocmVuZGVyaW5nT3B0aW9uczogUGFydGlhbDxSZW5kZXJNYXRlcmlhbFJlbmRlcmluZ09wdGlvbnM+ID0ge30pIHtcbiAgICBjb25zdCBuZXdQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMocmVuZGVyaW5nT3B0aW9ucykuZmlsdGVyKFxuICAgICAgKGtleSkgPT4gcmVuZGVyaW5nT3B0aW9uc1trZXldICE9PSB0aGlzLm9wdGlvbnMucmVuZGVyaW5nW2tleV1cbiAgICApXG5cbiAgICB0aGlzLm9wdGlvbnMucmVuZGVyaW5nID0geyAuLi50aGlzLm9wdGlvbnMucmVuZGVyaW5nLCAuLi5yZW5kZXJpbmdPcHRpb25zIH1cblxuICAgIGlmICh0aGlzLnBpcGVsaW5lRW50cnkpIHtcbiAgICAgIHRoaXMucGlwZWxpbmVFbnRyeS5vcHRpb25zID0geyAuLi50aGlzLnBpcGVsaW5lRW50cnkub3B0aW9ucywgLi4udGhpcy5vcHRpb25zLnJlbmRlcmluZyB9XG5cbiAgICAgIGlmICh0aGlzLnBpcGVsaW5lRW50cnkucmVhZHkgJiYgbmV3UHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICAgIGAke1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxhYmVsXG4gICAgICAgICAgfTogdGhlIGNoYW5nZSBvZiByZW5kZXJpbmcgb3B0aW9ucyBpcyBjYXVzaW5nIHRoaXMgUmVuZGVyTWF0ZXJpYWwgcGlwZWxpbmUgdG8gYmUgZmx1c2hlZCBhbmQgcmVjb21waWxlZC4gVGhpcyBzaG91bGQgYmUgYXZvaWRlZC4gUmVuZGVyaW5nIG9wdGlvbnMgdGhhdCBjYXVzZWQgdGhpczogeyAke25ld1Byb3BlcnRpZXNcbiAgICAgICAgICAgIC5tYXAoKGtleSkgPT4gYFwiJHtrZXl9XCI6ICR7cmVuZGVyaW5nT3B0aW9uc1trZXldfWApXG4gICAgICAgICAgICAuam9pbignLCAnKX0gfWBcbiAgICAgICAgKVxuXG4gICAgICAgIHRoaXMucGlwZWxpbmVFbnRyeS5mbHVzaFBpcGVsaW5lRW50cnkodGhpcy5iaW5kR3JvdXBzKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qIEFUVFJJQlVURVMgKi9cblxuICAvKipcbiAgICogQ29tcHV0ZSBnZW9tZXRyeSBpZiBuZWVkZWQgYW5kIGdldCBhbGwgdXNlZnVsIGdlb21ldHJ5IHByb3BlcnRpZXMgbmVlZGVkIHRvIGNyZWF0ZSBhdHRyaWJ1dGVzIGJ1ZmZlcnNcbiAgICogQHBhcmFtIGdlb21ldHJ5IC0gdGhlIGdlb21ldHJ5IHRvIGRyYXdcbiAgICovXG4gIHNldEF0dHJpYnV0ZXNGcm9tR2VvbWV0cnkoZ2VvbWV0cnk6IEFsbG93ZWRHZW9tZXRyaWVzKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0ge1xuICAgICAgd2dzbFN0cnVjdEZyYWdtZW50OiBnZW9tZXRyeS53Z3NsU3RydWN0RnJhZ21lbnQsXG4gICAgICB2ZXJ0ZXhCdWZmZXJzOiBnZW9tZXRyeS52ZXJ0ZXhCdWZmZXJzLFxuICAgIH1cbiAgfVxuXG4gIC8qIEJJTkQgR1JPVVBTICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgYmluZCBncm91cHMgaWYgdGhleSBuZWVkIHRvIGJlIGNyZWF0ZWQsIGJ1dCBmaXJzdCBhZGQgQ2FtZXJhIGJpbmQgZ3JvdXAgaWYgbmVlZGVkXG4gICAqL1xuICBjcmVhdGVCaW5kR3JvdXBzKCkge1xuICAgIC8vIGNhbWVyYSBmaXJzdCFcbiAgICAvLyBpZiAoKHRoaXMucmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpLmNhbWVyYUJpbmRHcm91cCAmJiB0aGlzLm9wdGlvbnMucmVuZGVyaW5nLnVzZVByb2plY3Rpb24pIHtcbiAgICAvLyAgIHRoaXMuYmluZEdyb3Vwcy5wdXNoKCh0aGlzLnJlbmRlcmVyIGFzIENhbWVyYVJlbmRlcmVyKS5jYW1lcmFCaW5kR3JvdXApXG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gc3VwZXIuY3JlYXRlQmluZEdyb3VwcygpXG5cbiAgICAvLyBUT0RPISBuZWVkIHRvIGNob3NlIHdoZXRoZXIgd2Ugc2hvdWxkIGFkZCB0aGUgY2FtZXJhIGJpbmQgZ3JvdXAgaGVyZVxuICAgIC8vIGluIHN1Y2ggY2FzZSB3ZSBuZWVkIHRvIGZpbmQgYSB3YXkgbm90IHRvIGJpbmQgaXQgaW5zaWRlIHRoZSByZW5kZXIgY2FsbFxuICAgIC8vIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBib3VuZCBieSB0aGUgc2NlbmUgY2xhc3MgYXQgZWFjaCByZW5kZXIgdG8gYXZvaWQgZXh0cmEgV2ViR1BVIGNvbW1hbmRzXG4gICAgY29uc3QgYmluZEdyb3VwU3RhcnRJbmRleCA9IHRoaXMub3B0aW9ucy5yZW5kZXJpbmcudXNlUHJvamVjdGlvbiA/IDEgOiAwXG5cbiAgICAvLyB0ZXh0dXJlcyBmaXJzdFxuICAgIGlmICh0aGlzLnRleHR1cmVzQmluZEdyb3VwLnNob3VsZENyZWF0ZUJpbmRHcm91cCkge1xuICAgICAgdGhpcy50ZXh0dXJlc0JpbmRHcm91cC5zZXRJbmRleCh0aGlzLmJpbmRHcm91cHMubGVuZ3RoICsgYmluZEdyb3VwU3RhcnRJbmRleCkgLy8gYmluZEdyb3VwIDAgaXMgb3VyIHJlbmRlcmVyIGNhbWVyYVxuICAgICAgdGhpcy50ZXh0dXJlc0JpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuXG4gICAgICB0aGlzLmJpbmRHcm91cHMucHVzaCh0aGlzLnRleHR1cmVzQmluZEdyb3VwKVxuICAgIH1cblxuICAgIC8vIHRoZW4gdW5pZm9ybXNcbiAgICB0aGlzLmlucHV0c0JpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBpZiAoYmluZEdyb3VwLnNob3VsZENyZWF0ZUJpbmRHcm91cCkge1xuICAgICAgICBiaW5kR3JvdXAuc2V0SW5kZXgodGhpcy5iaW5kR3JvdXBzLmxlbmd0aCArIGJpbmRHcm91cFN0YXJ0SW5kZXgpXG4gICAgICAgIGJpbmRHcm91cC5jcmVhdGVCaW5kR3JvdXAoKVxuXG4gICAgICAgIHRoaXMuYmluZEdyb3Vwcy5wdXNoKGJpbmRHcm91cClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbnN0cnVjdCBWZXJ0ZXhPdXRwdXQge1xuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzRmLFxuICBAbG9jYXRpb24oMCkgdXY6IHZlYzJmLFxufTtcblxuQHZlcnRleCBmbiBtYWluKFxuICBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzLFxuKSAtPiBWZXJ0ZXhPdXRwdXQge1xuICB2YXIgdnNPdXRwdXQ6IFZlcnRleE91dHB1dDtcblxuICB2c091dHB1dC5wb3NpdGlvbiA9IHZlYzRmKGF0dHJpYnV0ZXMucG9zaXRpb24sIDEuMCk7XG4gIHZzT3V0cHV0LnV2ID0gYXR0cmlidXRlcy51djtcbiAgXG4gIHJldHVybiB2c091dHB1dDtcbn1gXG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbkBmcmFnbWVudCBmbiBtYWluKCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcbiAgcmV0dXJuIHZlYzQoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbn1gXG4iLCJpbXBvcnQgeyBnZW5lcmF0ZVVVSUQsIHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBSZW5kZXJNYXRlcmlhbCB9IGZyb20gJy4uLy4uL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbCdcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi90ZXh0dXJlcy9UZXh0dXJlJ1xuaW1wb3J0IHsgR2VvbWV0cnkgfSBmcm9tICcuLi8uLi9nZW9tZXRyaWVzL0dlb21ldHJ5J1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uLy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBFeHRlcm5hbFRleHR1cmVQYXJhbXMsIFRleHR1cmVQYXJhbXMsIFRleHR1cmVQYXJlbnQgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9UZXh0dXJlcydcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4uLy4uL3JlbmRlclBhc3Nlcy9SZW5kZXJUYXJnZXQnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaCB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9HUFVSZW5kZXJlcidcbmltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi4vLi4vbWF0ZXJpYWxzL01hdGVyaWFsJ1xuaW1wb3J0IHsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB9IGZyb20gJy4uLy4uL0RPTS9ET01FbGVtZW50J1xuaW1wb3J0IHsgQWxsb3dlZEdlb21ldHJpZXMsIFJlbmRlck1hdGVyaWFsUGFyYW1zIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvTWF0ZXJpYWxzJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB9IGZyb20gJy4vUHJvamVjdGVkTWVzaEJhc2VNaXhpbidcbmltcG9ydCBkZWZhdWx0X3ZzV2dzbCBmcm9tICcuLi8uLi9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3ZzLndnc2wnXG5pbXBvcnQgZGVmYXVsdF9mc1dnc2wgZnJvbSAnLi4vLi4vc2hhZGVycy9jaHVua3MvZGVmYXVsdF9mcy53Z3NsJ1xuXG5sZXQgbWVzaEluZGV4ID0gMFxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc2hCYXNlUmVuZGVyUGFyYW1zIGV4dGVuZHMgUmVuZGVyTWF0ZXJpYWxQYXJhbXMge1xuICAvKiogV2hldGhlciB3ZSBzaG91bGQgYWRkIHRoaXMgTWVzaCB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRvIGRyYXcgdGhpcyBNZXNoIG9yIG5vdCAqL1xuICB2aXNpYmxlPzogYm9vbGVhblxuICAvKiogQ29udHJvbHMgdGhlIG9yZGVyIGluIHdoaWNoIHRoaXMgTWVzaCBzaG91bGQgYmUgcmVuZGVyZWQgYnkgb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSAqL1xuICByZW5kZXJPcmRlcj86IG51bWJlclxuICAvKioge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gcmVuZGVyIHRoaXMgTWVzaCB0byAqL1xuICByZW5kZXJUYXJnZXQ/OiBSZW5kZXJUYXJnZXRcbiAgLyoqIFBhcmFtZXRlcnMgdXNlZCBieSB0aGlzIE1lc2ggdG8gY3JlYXRlIGEge0BsaW5rIFRleHR1cmV9ICovXG4gIHRleHR1cmVzT3B0aW9ucz86IEV4dGVybmFsVGV4dHVyZVBhcmFtc1xufVxuXG4vKipcbiAqIEJhc2UgcGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIE1lc2hcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNoQmFzZVBhcmFtcyBleHRlbmRzIE1lc2hCYXNlUmVuZGVyUGFyYW1zIHtcbiAgLyoqIEdlb21ldHJ5IHRvIHVzZSAqL1xuICBnZW9tZXRyeTogQWxsb3dlZEdlb21ldHJpZXNcbn1cblxuLyoqXG4gKiAgQmFzZSBvcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMgTWVzaFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lc2hCYXNlT3B0aW9ucyB7XG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhpcyBNZXNoLCBzZW50IHRvIHZhcmlvdXMgR1BVIG9iamVjdHMgZm9yIGRlYnVnZ2luZyBwdXJwb3NlICovXG4gIGxhYmVsPzogTWVzaEJhc2VQYXJhbXNbJ2xhYmVsJ11cbiAgLyoqIFNoYWRlcnMgdG8gdXNlIGJ5IHRoaXMgTWVzaCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9ICovXG4gIHNoYWRlcnM/OiBNZXNoQmFzZVBhcmFtc1snc2hhZGVycyddXG4gIC8qKiBQYXJhbWV0ZXJzIHVzZWQgYnkgdGhpcyBNZXNoIHRvIGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSAqL1xuICB0ZXh0dXJlc09wdGlvbnM/OiBFeHRlcm5hbFRleHR1cmVQYXJhbXNcbiAgLyoqIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIHJlbmRlciB0aGlzIE1lc2ggdG8sIGlmIGFueSAqL1xuICByZW5kZXJUYXJnZXQ/OiBSZW5kZXJUYXJnZXQgfCBudWxsXG4gIC8qKiBXaGV0aGVyIHdlIHNob3VsZCBhZGQgdGhpcyBNZXNoIHRvIG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gdG8gbGV0IGl0IGhhbmRsZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3MgYXV0b21hdGljYWxseSAqL1xuICBhdXRvUmVuZGVyPzogYm9vbGVhblxuICAvKiogV2hldGhlciB0byBjb21waWxlIHRoaXMgTWVzaCB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHtAbGluayBjb3JlL3BpcGVsaW5lcy9SZW5kZXJQaXBlbGluZUVudHJ5LlJlbmRlclBpcGVsaW5lRW50cnkjcGlwZWxpbmUgfCByZW5kZXIgcGlwZWxpbmV9IGFzeW5jaHJvbm91c2x5IG9yIG5vdCAqL1xuICB1c2VBc3luY1BpcGVsaW5lPzogYm9vbGVhblxufVxuXG4vKiogQGNvbnN0IC0gRGVmYXVsdCBNZXNoIHBhcmFtZXRlcnMgdG8gbWVyZ2Ugd2l0aCB1c2VyIGRlZmluZWQgcGFyYW1ldGVycyAqL1xuY29uc3QgZGVmYXVsdE1lc2hCYXNlUGFyYW1zOiBNZXNoQmFzZVBhcmFtcyA9IHtcbiAgLy8gZ2VvbWV0cnlcbiAgZ2VvbWV0cnk6IG5ldyBHZW9tZXRyeSgpLFxuICAvLyBtYXRlcmlhbFxuICBzaGFkZXJzOiB7fSxcbiAgYXV0b1JlbmRlcjogdHJ1ZSxcbiAgdXNlUHJvamVjdGlvbjogZmFsc2UsXG4gIC8vIHJlbmRlcmluZ1xuICBjdWxsTW9kZTogJ2JhY2snLFxuICBkZXB0aDogdHJ1ZSxcbiAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRydWUsXG4gIGRlcHRoQ29tcGFyZTogJ2xlc3MnLFxuICB0cmFuc3BhcmVudDogZmFsc2UsXG4gIHZpc2libGU6IHRydWUsXG4gIHJlbmRlck9yZGVyOiAwLFxuICAvLyB0ZXh0dXJlc1xuICB0ZXh0dXJlc09wdGlvbnM6IHt9LFxufVxuXG4vLyBiYXNlZCBvbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNzU2NzMxMDcvMTMzNTQwNjhcbi8vIHdlIGRlY2xhcmUgZmlyc3QgYSBjbGFzcywgYW5kIHRoZW4gdGhlIG1peGluIHdpdGggYSByZXR1cm4gdHlwZVxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlc2NyaWJlcyB0aGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBzZXQgdXAgYSBiYXNpYyBNZXNoLCBpbXBsZW1lbnRlZCBpbiB0aGUge0BsaW5rIE1lc2hCYXNlTWl4aW59OlxuICogLSBTZXQgYW5kIHJlbmRlciB0aGUge0BsaW5rIEdlb21ldHJ5fSBhbmQge0BsaW5rIFJlbmRlck1hdGVyaWFsfVxuICogLSBBZGQgaGVscGVycyB0byBjcmVhdGUge0BsaW5rIFRleHR1cmV9IGFuZCB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAqIC0gSGFuZGxlIHJlc2l6aW5nLCBkZXZpY2UgbG9zdC9yZXN0b3JhdGlvbiBhbmQgZGVzdHJveWluZyB0aGUgcmVzb3VyY2VzXG4gKi9cbmV4cG9ydCBkZWNsYXJlIGNsYXNzIE1lc2hCYXNlQ2xhc3Mge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNZXNoQmFzZUNsYXNzfSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoZSB7QGxpbmsgTWVzaEJhc2VDbGFzc30gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG4gIC8qKiBJbmRleCBvZiB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSwgaS5lLiBjcmVhdGlvbiBvcmRlciAqL1xuICByZWFkb25seSBpbmRleDogbnVtYmVyXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXG4gIHJlbmRlcmVyOiBSZW5kZXJlclxuXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIE1lc2hCYXNlQ2xhc3N9ICovXG4gIG9wdGlvbnM6IE1lc2hCYXNlT3B0aW9uc1xuXG4gIC8qKiB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30gKi9cbiAgbWF0ZXJpYWw6IFJlbmRlck1hdGVyaWFsXG4gIC8qKiB7QGxpbmsgQWxsb3dlZEdlb21ldHJpZXMgfCBHZW9tZXRyeX0gdXNlZCBieSB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSAqL1xuICBnZW9tZXRyeTogTWVzaEJhc2VQYXJhbXNbJ2dlb21ldHJ5J11cblxuICAvKioge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gcmVuZGVyIHRoaXMgTWVzaCB0bywgaWYgYW55ICovXG4gIHJlbmRlclRhcmdldDogbnVsbCB8IFJlbmRlclRhcmdldFxuXG4gIC8qKiBDb250cm9scyB0aGUgb3JkZXIgaW4gd2hpY2ggdGhpcyB7QGxpbmsgTWVzaEJhc2VDbGFzc30gc2hvdWxkIGJlIHJlbmRlcmVkIGJ5IG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gKi9cbiAgcmVuZGVyT3JkZXI6IG51bWJlclxuICAvKiogV2hldGhlciB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSBzaG91bGQgYmUgdHJlYXRlZCBhcyB0cmFuc3BhcmVudC4gSW1wYWN0cyB0aGUge0BsaW5rIGNvcmUvcGlwZWxpbmVzL1JlbmRlclBpcGVsaW5lRW50cnkuUmVuZGVyUGlwZWxpbmVFbnRyeSNwaXBlbGluZSB8IHJlbmRlciBwaXBlbGluZX0gYmxlbmQgcHJvcGVydGllcyAqL1xuICB0cmFuc3BhcmVudDogYm9vbGVhblxuXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0byBkcmF3IHRoaXMge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IG9yIG5vdCAqL1xuICB2aXNpYmxlOiBib29sZWFuXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGlzIHtAbGluayBNZXNoQmFzZUNsYXNzfSBpcyByZWFkeSB0byBiZSBkcmF3biAqL1xuICBfcmVhZHk6IGJvb2xlYW5cblxuICAvKiogRW1wdHkgb2JqZWN0IHRvIHN0b3JlIGFueSBhZGRpdGlvbmFsIGRhdGEgb3IgY3VzdG9tIHByb3BlcnRpZXMgaW50byB5b3VyIE1lc2guICovXG4gIHVzZXJEYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuXG4gIC8vIGNhbGxiYWNrc1xuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlYWR5fSBjYWxsYmFjayAqL1xuICBfb25SZWFkeUNhbGxiYWNrOiAoKSA9PiB2b2lkXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQmVmb3JlUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfb25CZWZvcmVSZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZFxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uUmVuZGVyQ2FsbGJhY2s6ICgpID0+IHZvaWRcbiAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgX29uQWZ0ZXJSZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZFxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkFmdGVyUmVzaXplfSBjYWxsYmFjayAqL1xuICBfb25BZnRlclJlc2l6ZUNhbGxiYWNrOiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25SZWFkeUNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBNZXNoQmFzZUNsYXNzfSBpcyByZWFkeVxuICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAqL1xuICBvblJlYWR5OiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IE1lc2hCYXNlQ2xhc3MgfCBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzXG4gIC8qKlxuICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25CZWZvcmVSZW5kZXJDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBiZWZvcmUge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IHdpbGwgYmUgcmVuZGVyZWRcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgKi9cbiAgb25CZWZvcmVSZW5kZXI6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gTWVzaEJhc2VDbGFzcyB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcbiAgLyoqXG4gICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vblJlbmRlckNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBNZXNoQmFzZUNsYXNzfSBpcyByZW5kZXJlZFxuICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAqL1xuICBvblJlbmRlcjogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBNZXNoQmFzZUNsYXNzIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzc1xuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQWZ0ZXJSZW5kZXJDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB7QGxpbmsgTWVzaEJhc2VDbGFzc30gaGFzIGJlZW4gcmVuZGVyZWRcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgKi9cbiAgb25BZnRlclJlbmRlcjogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBNZXNoQmFzZUNsYXNzIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzc1xuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYWZ0ZXIge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgKi9cbiAgb25BZnRlclJlc2l6ZTogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBNZXNoQmFzZUNsYXNzIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzc1xuXG4gIC8qKlxuICAgKiB7QGxpbmsgTWVzaEJhc2VDbGFzc30gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gb3VyIHtAbGluayBSZW5kZXJlcn0gY2xhc3Mgb2JqZWN0XG4gICAqIEBwYXJhbSBlbGVtZW50IC0gYSBET00gSFRNTCBFbGVtZW50IHRoYXQgY2FuIGJlIGJvdW5kIHRvIGEgTWVzaFxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBNZXNoQmFzZVBhcmFtcyB8IE1lc2ggYmFzZSBwYXJhbWV0ZXJzfVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyLCBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwsIHBhcmFtZXRlcnM6IE1lc2hCYXNlUGFyYW1zKVxuXG4gIC8qKlxuICAgKiBHZXQgcHJpdmF0ZSAjYXV0b1JlbmRlciB2YWx1ZVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBhdXRvUmVuZGVyKCk6IGJvb2xlYW4gLy8gYWxsb3cgdG8gcmVhZCB2YWx1ZSBmcm9tIGNoaWxkIGNsYXNzZXNcblxuICAvKipcbiAgICogR2V0L3NldCB3aGV0aGVyIGEgTWVzaCBpcyByZWFkeSBvciBub3RcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVhZHkoKTogYm9vbGVhblxuICBzZXQgcmVhZHkodmFsdWU6IGJvb2xlYW4pXG5cbiAgLyoqXG4gICAqIEFkZCBhIE1lc2ggdG8gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAqL1xuICBhZGRUb1NjZW5lKCk6IHZvaWRcblxuICAvKipcbiAgICogUmVtb3ZlIGEgTWVzaCBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCk6IHZvaWRcblxuICAvKipcbiAgICogU2V0IGEgbmV3IHtAbGluayBSZW5kZXJlcn0gZm9yIHRoaXMgTWVzaFxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBuZXcge0BsaW5rIFJlbmRlcmVyfSB0byBzZXRcbiAgICovXG4gIHNldFJlbmRlcmVyKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGhhcyBiZWVuIGxvc3QgdG8gcHJlcGFyZSBldmVyeXRoaW5nIGZvciByZXN0b3JhdGlvbi5cbiAgICogQmFzaWNhbGx5IHNldCBhbGwgdGhlIHtAbGluayBHUFVCdWZmZXJ9IHRvIG51bGwgc28gdGhleSB3aWxsIGJlIHJlc2V0IG5leHQgdGltZSB3ZSB0cnkgdG8gZHJhdyB0aGUgTWVzaFxuICAgKi9cbiAgbG9zZUNvbnRleHQoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGhhcyBiZWVuIHJlc3RvcmVkXG4gICAqL1xuICByZXN0b3JlQ29udGV4dCgpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFNldCBkZWZhdWx0IHNoYWRlcnMgaWYgb25lIG9yIGJvdGggb2YgdGhlbSBhcmUgbWlzc2luZ1xuICAgKi9cbiAgc2V0U2hhZGVycygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIE1lc2ggZ2VvbWV0cnkgaWYgbmVlZGVkXG4gICAqL1xuICBjb21wdXRlR2VvbWV0cnkoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIE1lc2ggR2VvbWV0cnkgdmVydGV4IGFuZCBpbmRleCBidWZmZXJzIGlmIG5lZWRlZFxuICAgKi9cbiAgY3JlYXRlR2VvbWV0cnlCdWZmZXJzKCk6IHZvaWRcblxuICAvKipcbiAgICogU2V0IG91ciBNZXNoIGdlb21ldHJ5OiBjcmVhdGUgYnVmZmVycyBhbmQgYWRkIGF0dHJpYnV0ZXMgdG8gbWF0ZXJpYWxcbiAgICovXG4gIHNldEdlb21ldHJ5KCk6IHZvaWRcblxuICAvKipcbiAgICogU2V0IGEgTWVzaCB0cmFuc3BhcmVudCBwcm9wZXJ0eSwgdGhlbiBzZXQgaXRzIG1hdGVyaWFsXG4gICAqIEBwYXJhbSBtZXNoUGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJNYXRlcmlhbFBhcmFtcyB8IFJlbmRlck1hdGVyaWFsIHBhcmFtZXRlcnN9XG4gICAqL1xuICBzZXRNYXRlcmlhbChtZXNoUGFyYW1ldGVyczogUmVuZGVyTWF0ZXJpYWxQYXJhbXMpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFNldCBNZXNoIG1hdGVyaWFsIGF0dHJpYnV0ZXNcbiAgICovXG4gIHNldE1hdGVyaWFsR2VvbWV0cnlBdHRyaWJ1dGVzKCk6IHZvaWRcblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgUmVuZGVyTWF0ZXJpYWwjdGV4dHVyZXMgfCBSZW5kZXJNYXRlcmlhbCB0ZXh0dXJlcyBhcnJheX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdGV4dHVyZXMoKTogVGV4dHVyZVtdXG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIFJlbmRlck1hdGVyaWFsI3JlbmRlclRleHR1cmVzIHwgUmVuZGVyTWF0ZXJpYWwgcmVuZGVyIHRleHR1cmVzIGFycmF5fVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZW5kZXJUZXh0dXJlcygpOiBSZW5kZXJUZXh0dXJlW11cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBUZXh0dXJlfVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBUZXh0dXJlUGFyYW1zIHwgVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQgVGV4dHVyZVxuICAgKi9cbiAgY3JlYXRlVGV4dHVyZShvcHRpb25zOiBUZXh0dXJlUGFyYW1zKTogVGV4dHVyZVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgVGV4dHVyZX1cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gdG8gYWRkXG4gICAqL1xuICBhZGRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHJ1biB3aGVuIGEgbmV3IHtAbGluayBUZXh0dXJlfSBoYXMgYmVlbiBjcmVhdGVkXG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0gbmV3bHkgY3JlYXRlZCBUZXh0dXJlXG4gICAqL1xuICBvblRleHR1cmVBZGRlZCh0ZXh0dXJlOiBUZXh0dXJlKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSAgb3B0aW9ucyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgUmVuZGVyVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQgUmVuZGVyVGV4dHVyZVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyVGV4dHVyZShvcHRpb25zOiBSZW5kZXJUZXh0dXJlUGFyYW1zKTogUmVuZGVyVGV4dHVyZVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICogQHBhcmFtIHJlbmRlclRleHR1cmUgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gYWRkXG4gICAqL1xuICBhZGRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmU6IFJlbmRlclRleHR1cmUpXG5cbiAgLyoqXG4gICAqIEFzc2lnbiBvciByZW1vdmUgYSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byB0aGlzIE1lc2hcbiAgICogU2luY2UgdGhpcyBtYW5pcHVsYXRlcyB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHN0YWNrcywgaXQgY2FuIGJlIHVzZWQgdG8gcmVtb3ZlIGEgUmVuZGVyVGFyZ2V0IGFzIHdlbGwuXG4gICAqIEBwYXJhbSByZW5kZXJUYXJnZXQgLSB0aGUgUmVuZGVyVGFyZ2V0IHRvIGFzc2lnbiBvciBudWxsIGlmIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBjdXJyZW50IFJlbmRlclRhcmdldFxuICAgKi9cbiAgc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldDogUmVuZGVyVGFyZ2V0IHwgbnVsbCk6IHZvaWRcblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBSZW5kZXJNYXRlcmlhbH0gdW5pZm9ybXNcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgdW5pZm9ybXMoKTogTWF0ZXJpYWxbJ3VuaWZvcm1zJ11cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBSZW5kZXJNYXRlcmlhbH0gc3RvcmFnZXNcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgc3RvcmFnZXMoKTogTWF0ZXJpYWxbJ3N0b3JhZ2VzJ11cblxuICAvKipcbiAgICogUmVzaXplIHRoZSBNZXNoJ3MgdGV4dHVyZXNcbiAgICogQHBhcmFtIGJvdW5kaW5nUmVjdFxuICAgKi9cbiAgcmVzaXplKGJvdW5kaW5nUmVjdD86IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QpOiB2b2lkXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgcmVuZGVyaW5nIHRoZSBNZXNoXG4gICAqIFNldCB0aGUgZ2VvbWV0cnkgaWYgbmVlZGVkIChjcmVhdGUgYnVmZmVycyBhbmQgYWRkIGF0dHJpYnV0ZXMgdG8gdGhlIHtAbGluayBSZW5kZXJNYXRlcmlhbH0pXG4gICAqIFRoZW4gZXhlY3V0ZXMge0BsaW5rIFJlbmRlck1hdGVyaWFsI29uQmVmb3JlUmVuZGVyfTogY3JlYXRlIGl0cyBiaW5kIGdyb3VwcyBhbmQgcGlwZWxpbmUgaWYgbmVlZGVkIGFuZCBldmVudHVhbGx5IHVwZGF0ZSBpdHMgc3RydWN0XG4gICAqL1xuICBvbkJlZm9yZVJlbmRlclBhc3MoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBSZW5kZXIgb3VyIHtAbGluayBNZXNoQmFzZUNsYXNzfSBpZiB0aGUge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBpcyByZWFkeVxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3MgZW5jb2RlclxuICAgKi9cbiAgb25SZW5kZXJQYXNzKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKTogdm9pZFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgaGF2aW5nIHJlbmRlcmVkIHRoZSBNZXNoXG4gICAqL1xuICBvbkFmdGVyUmVuZGVyUGFzcygpOiB2b2lkXG5cbiAgLyoqXG4gICAqIFJlbmRlciBvdXIgTWVzaFxuICAgKiAtIEV4ZWN1dGUge0BsaW5rIG9uQmVmb3JlUmVuZGVyUGFzc31cbiAgICogLSBTdG9wIGhlcmUgaWYge0BsaW5rIFJlbmRlcmVyfSBpcyBub3QgcmVhZHkgb3IgTWVzaCBpcyBub3Qge0BsaW5rIHZpc2libGV9XG4gICAqIC0gRXhlY3V0ZSBzdXBlciByZW5kZXIgY2FsbCBpZiBpdCBleGlzdHNcbiAgICogLSB7QGxpbmsgb25SZW5kZXJQYXNzIHwgcmVuZGVyfSBvdXIge0BsaW5rIG1hdGVyaWFsfSBhbmQge0BsaW5rIGdlb21ldHJ5fVxuICAgKiAtIEV4ZWN1dGUge0BsaW5rIG9uQWZ0ZXJSZW5kZXJQYXNzfVxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3MgZW5jb2RlclxuICAgKi9cbiAgcmVuZGVyKHBhc3M6IEdQVVJlbmRlclBhc3NFbmNvZGVyKTogdm9pZFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIE1lc2ggZnJvbSB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IGFuZCBkZXN0cm95IGl0XG4gICAqL1xuICByZW1vdmUoKTogdm9pZFxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBNZXNoXG4gICAqL1xuICBkZXN0cm95KCk6IHZvaWRcbn1cblxuLyoqXG4gKiBUbyBnZXQgc3RhcnRlZCwgd2UgbmVlZCBhIHR5cGUgd2hpY2ggd2UnbGwgdXNlIHRvIGV4dGVuZFxuICogb3RoZXIgY2xhc3NlcyBmcm9tLiBUaGUgbWFpbiByZXNwb25zaWJpbGl0eSBpcyB0byBkZWNsYXJlXG4gKiB0aGF0IHRoZSB0eXBlIGJlaW5nIHBhc3NlZCBpbiBpcyBhIGNsYXNzLlxuICogV2UgdXNlIGEgZ2VuZXJpYyB2ZXJzaW9uIHdoaWNoIGNhbiBhcHBseSBhIGNvbnN0cmFpbnQgb25cbiAqIHRoZSBjbGFzcyB3aGljaCB0aGlzIG1peGluIGlzIGFwcGxpZWQgdG9cbiAqIEB0eXBlUGFyYW0gVCAtIHRoZSBiYXNlIGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCB0eXBlIE1peGluQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFRcblxuLyoqXG4gKiBVc2VkIHRvIG1peCB0aGUgYmFzaWMgTWVzaCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGRlZmluZWQgaW4ge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IChiYXNpY2FsbHksIHNldCBhIHtAbGluayBHZW9tZXRyeX0gYW5kIGEge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBhbmQgcmVuZGVyIHRoZW0sIGFkZCBoZWxwZXJzIHRvIGNyZWF0ZSB7QGxpbmsgVGV4dHVyZX0gYW5kIHtAbGluayBSZW5kZXJUZXh0dXJlfSkgd2l0aCBhIGdpdmVuIEJhc2Ugb2YgdHlwZSB7QGxpbmsgY29yZS9vYmplY3RzM0QvT2JqZWN0M0QuT2JqZWN0M0QgfCBPYmplY3QzRH0sIHtAbGluayBjb3JlL29iamVjdHMzRC9Qcm9qZWN0ZWRPYmplY3QzRC5Qcm9qZWN0ZWRPYmplY3QzRCB8IFByb2plY3RlZE9iamVjdDNEfSwge0BsaW5rIGN1cnRhaW5zL29iamVjdHMzRC9ET01PYmplY3QzRC5ET01PYmplY3QzRCB8IERPTU9iamVjdDNEfSBvciBhbiBlbXB0eSBjbGFzcy5cbiAqIEBleHBvcnRzIE1lc2hCYXNlTWl4aW5cbiAqIEBwYXJhbSBCYXNlIC0gdGhlIGNsYXNzIHRvIG1peCBvbnRvXG4gKiBAcmV0dXJucyAtIHRoZSBtaXhlZCBjbGFzc2VzLCBjcmVhdGluZyBhIGJhc2ljIE1lc2guXG4gKi9cbmZ1bmN0aW9uIE1lc2hCYXNlTWl4aW48VEJhc2UgZXh0ZW5kcyBNaXhpbkNvbnN0cnVjdG9yPihCYXNlOiBUQmFzZSk6IE1peGluQ29uc3RydWN0b3I8TWVzaEJhc2VDbGFzcz4gJiBUQmFzZSB7XG4gIC8qKlxuICAgKiBNZXNoQmFzZSBkZWZpbmVzIG91ciBiYXNlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcbiAgICovXG4gIHJldHVybiBjbGFzcyBNZXNoQmFzZSBleHRlbmRzIEJhc2UgaW1wbGVtZW50cyBNZXNoQmFzZUNsYXNzIHtcbiAgICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBNZXNoQmFzZX0gKi9cbiAgICB0eXBlOiBzdHJpbmdcbiAgICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhlIHtAbGluayBNZXNoQmFzZX0gKi9cbiAgICByZWFkb25seSB1dWlkOiBzdHJpbmdcbiAgICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgTWVzaEJhc2V9LCBpLmUuIGNyZWF0aW9uIG9yZGVyICovXG4gICAgcmVhZG9ubHkgaW5kZXg6IG51bWJlclxuICAgIC8qKiBUaGUge0BsaW5rIFJlbmRlcmVyfSB1c2VkICovXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyXG5cbiAgICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBNZXNoQmFzZX0gKi9cbiAgICBvcHRpb25zOiBNZXNoQmFzZU9wdGlvbnNcblxuICAgIC8qKiB7QGxpbmsgUmVuZGVyTWF0ZXJpYWx9IHVzZWQgYnkgdGhpcyB7QGxpbmsgTWVzaEJhc2V9ICovXG4gICAgbWF0ZXJpYWw6IFJlbmRlck1hdGVyaWFsXG4gICAgLyoqIHtAbGluayBBbGxvd2VkR2VvbWV0cmllcyB8IEdlb21ldHJ5fSB1c2VkIGJ5IHRoaXMge0BsaW5rIE1lc2hCYXNlfSAqL1xuICAgIGdlb21ldHJ5OiBNZXNoQmFzZVBhcmFtc1snZ2VvbWV0cnknXVxuXG4gICAgLyoqIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIHJlbmRlciB0aGlzIE1lc2ggdG8sIGlmIGFueSAqL1xuICAgIHJlbmRlclRhcmdldDogbnVsbCB8IFJlbmRlclRhcmdldFxuXG4gICAgLyoqIENvbnRyb2xzIHRoZSBvcmRlciBpbiB3aGljaCB0aGlzIHtAbGluayBNZXNoQmFzZX0gc2hvdWxkIGJlIHJlbmRlcmVkIGJ5IG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gKi9cbiAgICByZW5kZXJPcmRlcjogbnVtYmVyXG4gICAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgTWVzaEJhc2V9IHNob3VsZCBiZSB0cmVhdGVkIGFzIHRyYW5zcGFyZW50LiBJbXBhY3RzIHRoZSB7QGxpbmsgY29yZS9waXBlbGluZXMvUmVuZGVyUGlwZWxpbmVFbnRyeS5SZW5kZXJQaXBlbGluZUVudHJ5I3BpcGVsaW5lIHwgcmVuZGVyIHBpcGVsaW5lfSBibGVuZCBwcm9wZXJ0aWVzICovXG4gICAgdHJhbnNwYXJlbnQ6IGJvb2xlYW5cblxuICAgIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB0byBkcmF3IHRoaXMge0BsaW5rIE1lc2hCYXNlfSBvciBub3QgKi9cbiAgICB2aXNpYmxlOiBib29sZWFuXG4gICAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMge0BsaW5rIE1lc2hCYXNlfSBpcyByZWFkeSB0byBiZSBkcmF3biAqL1xuICAgIF9yZWFkeTogYm9vbGVhblxuXG4gICAgLyoqIEVtcHR5IG9iamVjdCB0byBzdG9yZSBhbnkgYWRkaXRpb25hbCBkYXRhIG9yIGN1c3RvbSBwcm9wZXJ0aWVzIGludG8geW91ciB7QGxpbmsgTWVzaEJhc2V9LiAqL1xuICAgIHVzZXJEYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuXG4gICAgLyoqIFdoZXRoZXIgd2Ugc2hvdWxkIGFkZCB0aGlzIHtAbGluayBNZXNoQmFzZX0gdG8gb3VyIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSB0byBsZXQgaXQgaGFuZGxlIHRoZSByZW5kZXJpbmcgcHJvY2VzcyBhdXRvbWF0aWNhbGx5ICovXG4gICAgI2F1dG9SZW5kZXIgPSB0cnVlXG5cbiAgICAvLyBjYWxsYmFja3MgLyBldmVudHNcbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlYWR5fSBjYWxsYmFjayAqL1xuICAgIF9vblJlYWR5Q2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgIH1cbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkJlZm9yZVJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgICBfb25CZWZvcmVSZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gICAgfVxuICAgIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uUmVuZGVyfSBjYWxsYmFjayAqL1xuICAgIF9vblJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICB9XG4gICAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlbmRlcn0gY2FsbGJhY2sgKi9cbiAgICBfb25BZnRlclJlbmRlckNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICB9XG4gICAgLyoqIGZ1bmN0aW9uIGFzc2lnbmVkIHRvIHRoZSB7QGxpbmsgb25BZnRlclJlc2l6ZX0gY2FsbGJhY2sgKi9cbiAgICBfb25BZnRlclJlc2l6ZUNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXNoQmFzZSBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHR5cGVkZWYgTWVzaEJhc2VBcnJheVBhcmFtc1xuICAgICAqIEB0eXBlIHthcnJheX1cbiAgICAgKiBAcHJvcGVydHkgeyhSZW5kZXJlcnxHUFVDdXJ0YWlucyl9IDAgLSBvdXIge0BsaW5rIFJlbmRlcmVyfSBjbGFzcyBvYmplY3RcbiAgICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8SFRNTEVsZW1lbnR8bnVsbCl9IDEgLSBhIERPTSBIVE1MIEVsZW1lbnQgdGhhdCBjYW4gYmUgYm91bmQgdG8gYSBNZXNoXG4gICAgICogQHByb3BlcnR5IHtNZXNoQmFzZVBhcmFtc30gMiAtIHtAbGluayBNZXNoQmFzZVBhcmFtcyB8IE1lc2ggYmFzZSBwYXJhbWV0ZXJzfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZXNoQmFzZUFycmF5UGFyYW1zfSBwYXJhbXMgLSBvdXIgTWVzaEJhc2VNaXhpbiBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoLi4ucGFyYW1zOiBhbnlbXSkge1xuICAgICAgc3VwZXIoXG4gICAgICAgIHBhcmFtc1swXSBhcyBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLFxuICAgICAgICBwYXJhbXNbMV0gYXMgSFRNTEVsZW1lbnQgfCBzdHJpbmcgfCBudWxsLFxuICAgICAgICB7IC4uLmRlZmF1bHRNZXNoQmFzZVBhcmFtcywgLi4ucGFyYW1zWzJdIH0gYXMgTWVzaEJhc2VQYXJhbXNcbiAgICAgIClcblxuICAgICAgbGV0IHJlbmRlcmVyID0gcGFyYW1zWzBdXG4gICAgICBjb25zdCBwYXJhbWV0ZXJzID0geyAuLi5kZWZhdWx0TWVzaEJhc2VQYXJhbXMsIC4uLnBhcmFtc1syXSB9XG5cbiAgICAgIHRoaXMudHlwZSA9ICdNZXNoQmFzZSdcblxuICAgICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzIGFzIE1lc2hCYXNlLCAnaW5kZXgnLCB7IHZhbHVlOiBtZXNoSW5kZXgrKyB9KVxuXG4gICAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gcGFyYW1ldGVycy5sYWJlbCArICcgJyArIHRoaXMudHlwZSA6IHRoaXMudHlwZSlcblxuICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIHNoYWRlcnMsXG4gICAgICAgIGdlb21ldHJ5LFxuICAgICAgICB2aXNpYmxlLFxuICAgICAgICByZW5kZXJPcmRlcixcbiAgICAgICAgcmVuZGVyVGFyZ2V0LFxuICAgICAgICB0ZXh0dXJlc09wdGlvbnMsXG4gICAgICAgIGF1dG9SZW5kZXIsXG4gICAgICAgIC4uLm1lc2hQYXJhbWV0ZXJzXG4gICAgICB9ID0gcGFyYW1ldGVyc1xuXG4gICAgICAvLyBzZXQgZGVmYXVsdCBzYW1wbGUgY291bnRcbiAgICAgIG1lc2hQYXJhbWV0ZXJzLnNhbXBsZUNvdW50ID1cbiAgICAgICAgbWVzaFBhcmFtZXRlcnMuc2FtcGxlQ291bnQgPz8gKHRoaXMucmVuZGVyZXIgJiYgdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzKVxuICAgICAgICAgID8gdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzLm9wdGlvbnMuc2FtcGxlQ291bnRcbiAgICAgICAgICA6IDFcblxuICAgICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgICAuLi4odGhpcy5vcHRpb25zID8/IHt9KSwgLy8gbWVyZ2UgcG9zc2libGUgbG93ZXIgb3B0aW9ucz9cbiAgICAgICAgbGFiZWw6IGxhYmVsID8/ICdNZXNoICcgKyB0aGlzLnJlbmRlcmVyLm1lc2hlcy5sZW5ndGgsXG4gICAgICAgIHNoYWRlcnMsXG4gICAgICAgIHRleHR1cmVzT3B0aW9ucyxcbiAgICAgICAgLi4uKHJlbmRlclRhcmdldCAhPT0gdW5kZWZpbmVkICYmIHsgcmVuZGVyVGFyZ2V0IH0pLFxuICAgICAgICAuLi4oYXV0b1JlbmRlciAhPT0gdW5kZWZpbmVkICYmIHsgYXV0b1JlbmRlciB9KSxcbiAgICAgICAgLi4uKG1lc2hQYXJhbWV0ZXJzLnVzZUFzeW5jUGlwZWxpbmUgIT09IHVuZGVmaW5lZCAmJiB7IHVzZUFzeW5jUGlwZWxpbmU6IG1lc2hQYXJhbWV0ZXJzLnVzZUFzeW5jUGlwZWxpbmUgfSksXG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0ID8/IG51bGxcblxuICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5XG5cbiAgICAgIGlmIChhdXRvUmVuZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy4jYXV0b1JlbmRlciA9IGF1dG9SZW5kZXJcbiAgICAgIH1cblxuICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZVxuICAgICAgdGhpcy5yZW5kZXJPcmRlciA9IHJlbmRlck9yZGVyXG4gICAgICB0aGlzLnJlYWR5ID0gZmFsc2VcblxuICAgICAgdGhpcy51c2VyRGF0YSA9IHt9XG5cbiAgICAgIHRoaXMuY29tcHV0ZUdlb21ldHJ5KClcblxuICAgICAgdGhpcy5zZXRNYXRlcmlhbCh7XG4gICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwsXG4gICAgICAgIHNoYWRlcnM6IHRoaXMub3B0aW9ucy5zaGFkZXJzLFxuICAgICAgICAuLi57IC4uLm1lc2hQYXJhbWV0ZXJzLCB2ZXJ0aWNlc09yZGVyOiBnZW9tZXRyeS52ZXJ0aWNlc09yZGVyLCB0b3BvbG9neTogZ2VvbWV0cnkudG9wb2xvZ3kgfSxcbiAgICAgIH0gYXMgUmVuZGVyTWF0ZXJpYWxQYXJhbXMpXG5cbiAgICAgIHRoaXMuYWRkVG9TY2VuZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHByaXZhdGUgI2F1dG9SZW5kZXIgdmFsdWVcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgYXV0b1JlbmRlcigpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLiNhdXRvUmVuZGVyXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0L3NldCB3aGV0aGVyIGEgTWVzaCBpcyByZWFkeSBvciBub3RcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVhZHlcbiAgICB9XG5cbiAgICBzZXQgcmVhZHkodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vblJlYWR5Q2FsbGJhY2sgJiYgdGhpcy5fb25SZWFkeUNhbGxiYWNrKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlYWR5ID0gdmFsdWVcbiAgICB9XG5cbiAgICAvKiBTQ0VORSAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkIGEgTWVzaCB0byB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICAgKi9cbiAgICBhZGRUb1NjZW5lKCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5tZXNoZXMucHVzaCh0aGlzIGFzIHVua25vd24gYXMgUHJvamVjdGVkTWVzaClcblxuICAgICAgLy8gdXBkYXRlIHNhbXBsZSBjb3VudCBpZiBuZWVkZWRcbiAgICAgIHRoaXMubWF0ZXJpYWw/LnNldFJlbmRlcmluZ09wdGlvbnMoe1xuICAgICAgICBzYW1wbGVDb3VudDogdGhpcy5yZW5kZXJUYXJnZXRcbiAgICAgICAgICA/IHRoaXMucmVuZGVyVGFyZ2V0LnJlbmRlclBhc3Mub3B0aW9ucy5zYW1wbGVDb3VudFxuICAgICAgICAgIDogdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzLm9wdGlvbnMuc2FtcGxlQ291bnQsXG4gICAgICB9KVxuXG4gICAgICBpZiAodGhpcy4jYXV0b1JlbmRlcikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLmFkZE1lc2godGhpcyBhcyB1bmtub3duIGFzIFByb2plY3RlZE1lc2gpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgTWVzaCBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgICAqL1xuICAgIHJlbW92ZUZyb21TY2VuZSgpIHtcbiAgICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUucmVtb3ZlTWVzaCh0aGlzIGFzIHVua25vd24gYXMgUHJvamVjdGVkTWVzaClcbiAgICAgIH1cblxuICAgICAgdGhpcy5yZW5kZXJlci5tZXNoZXMgPSB0aGlzLnJlbmRlcmVyLm1lc2hlcy5maWx0ZXIoKG0pID0+IG0udXVpZCAhPT0gdGhpcy51dWlkKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIG5ldyB7QGxpbmsgUmVuZGVyZXJ9IGZvciB0aGlzIE1lc2hcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIgLSBuZXcge0BsaW5rIFJlbmRlcmVyfSB0byBzZXRcbiAgICAgKi9cbiAgICBzZXRSZW5kZXJlcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucykge1xuICAgICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgICAgaWYgKFxuICAgICAgICAhcmVuZGVyZXIgfHxcbiAgICAgICAgIShcbiAgICAgICAgICByZW5kZXJlci50eXBlID09PSAnR1BVUmVuZGVyZXInIHx8XG4gICAgICAgICAgcmVuZGVyZXIudHlwZSA9PT0gJ0dQVUNhbWVyYVJlbmRlcmVyJyB8fFxuICAgICAgICAgIHJlbmRlcmVyLnR5cGUgPT09ICdHUFVDdXJ0YWluc1JlbmRlcmVyJ1xuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICAgIGAke3RoaXMub3B0aW9ucy5sYWJlbH06IENhbm5vdCBzZXQgJHtyZW5kZXJlcn0gYXMgYSByZW5kZXJlciBiZWNhdXNlIGl0IGlzIG5vdCBvZiBhIHZhbGlkIFJlbmRlcmVyIHR5cGUuYFxuICAgICAgICApXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBvbGRSZW5kZXJlciA9IHRoaXMucmVuZGVyZXJcbiAgICAgIHRoaXMucmVtb3ZlRnJvbVNjZW5lKClcbiAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgICAgdGhpcy5hZGRUb1NjZW5lKClcblxuICAgICAgLy8gaWYgb2xkIHJlbmRlcmVyIGRvZXMgbm90IGNvbnRhaW4gYW55IG1lc2hlcyBhbnkgbW9yZVxuICAgICAgLy8gY2xlYXIgaXRcbiAgICAgIGlmICghb2xkUmVuZGVyZXIubWVzaGVzLmxlbmd0aCkge1xuICAgICAgICBvbGRSZW5kZXJlci5vbkJlZm9yZVJlbmRlclNjZW5lLmFkZChcbiAgICAgICAgICAoY29tbWFuZEVuY29kZXIpID0+IHtcbiAgICAgICAgICAgIG9sZFJlbmRlcmVyLmZvcmNlQ2xlYXIoY29tbWFuZEVuY29kZXIpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIG9yIHJlbW92ZSBhIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIHRoaXMgTWVzaFxuICAgICAqIFNpbmNlIHRoaXMgbWFuaXB1bGF0ZXMgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfSBzdGFja3MsIGl0IGNhbiBiZSB1c2VkIHRvIHJlbW92ZSBhIFJlbmRlclRhcmdldCBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSByZW5kZXJUYXJnZXQgLSB0aGUgUmVuZGVyVGFyZ2V0IHRvIGFzc2lnbiBvciBudWxsIGlmIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBjdXJyZW50IFJlbmRlclRhcmdldFxuICAgICAqL1xuICAgIHNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQ6IFJlbmRlclRhcmdldCB8IG51bGwpIHtcbiAgICAgIGlmIChyZW5kZXJUYXJnZXQgJiYgcmVuZGVyVGFyZ2V0LnR5cGUgIT09ICdSZW5kZXJUYXJnZXQnKSB7XG4gICAgICAgIHRocm93V2FybmluZyhgJHt0aGlzLm9wdGlvbnMubGFiZWwgPz8gdGhpcy50eXBlfTogcmVuZGVyVGFyZ2V0IGlzIG5vdCBhIFJlbmRlclRhcmdldDogJHtyZW5kZXJUYXJnZXR9YClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIGVuc3VyZSB0aGUgbWVzaCBpcyBpbiB0aGUgY29ycmVjdCBzY2VuZSBzdGFja1xuICAgICAgdGhpcy5yZW1vdmVGcm9tU2NlbmUoKVxuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXRcbiAgICAgIHRoaXMuYWRkVG9TY2VuZSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBoYXMgYmVlbiBsb3N0IHRvIHByZXBhcmUgZXZlcnl0aGluZyBmb3IgcmVzdG9yYXRpb24uXG4gICAgICogQmFzaWNhbGx5IHNldCBhbGwgdGhlIHtAbGluayBHUFVCdWZmZXJ9IHRvIG51bGwgc28gdGhleSB3aWxsIGJlIHJlc2V0IG5leHQgdGltZSB3ZSB0cnkgdG8gZHJhdyB0aGUgTWVzaFxuICAgICAqL1xuICAgIGxvc2VDb250ZXh0KCkge1xuICAgICAgLy8gZmlyc3QgdGhlIGdlb21ldHJ5XG4gICAgICB0aGlzLmdlb21ldHJ5LnZlcnRleEJ1ZmZlcnMuZm9yRWFjaCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXIgPSBudWxsXG4gICAgICB9KVxuXG4gICAgICBpZiAoJ2luZGV4QnVmZmVyJyBpbiB0aGlzLmdlb21ldHJ5KSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuYnVmZmVyID0gbnVsbFxuICAgICAgfVxuXG4gICAgICAvLyB0aGVuIHRoZSBtYXRlcmlhbFxuICAgICAgdGhpcy5tYXRlcmlhbC5sb3NlQ29udGV4dCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBoYXMgYmVlbiByZXN0b3JlZFxuICAgICAqL1xuICAgIHJlc3RvcmVDb250ZXh0KCkge1xuICAgICAgdGhpcy5tYXRlcmlhbC5yZXN0b3JlQ29udGV4dCgpXG4gICAgfVxuXG4gICAgLyogU0hBREVSUyAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IGRlZmF1bHQgc2hhZGVycyBpZiBvbmUgb3IgYm90aCBvZiB0aGVtIGFyZSBtaXNzaW5nXG4gICAgICovXG4gICAgc2V0U2hhZGVycygpIHtcbiAgICAgIGxldCB7IHNoYWRlcnMgfSA9IHRoaXMub3B0aW9uc1xuXG4gICAgICBpZiAoIXNoYWRlcnMpIHtcbiAgICAgICAgc2hhZGVycyA9IHtcbiAgICAgICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfdnNXZ3NsLFxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZnJhZ21lbnQ6IHtcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfZnNXZ3NsLFxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghc2hhZGVycy52ZXJ0ZXggfHwgIXNoYWRlcnMudmVydGV4LmNvZGUpIHtcbiAgICAgICAgICBzaGFkZXJzLnZlcnRleCA9IHtcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfdnNXZ3NsLFxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hhZGVycy5mcmFnbWVudCB8fCAhc2hhZGVycy5mcmFnbWVudC5jb2RlKSB7XG4gICAgICAgICAgc2hhZGVycy5mcmFnbWVudCA9IHtcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfZnNXZ3NsLFxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIEdFT01FVFJZICovXG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBNZXNoIGdlb21ldHJ5IGlmIG5lZWRlZFxuICAgICAqL1xuICAgIGNvbXB1dGVHZW9tZXRyeSgpIHtcbiAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnNob3VsZENvbXB1dGUpIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5jb21wdXRlR2VvbWV0cnkoKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgTWVzaCBHZW9tZXRyeSB2ZXJ0ZXggYW5kIGluZGV4IGJ1ZmZlcnMgaWYgbmVlZGVkXG4gICAgICovXG4gICAgY3JlYXRlR2VvbWV0cnlCdWZmZXJzKCkge1xuICAgICAgaWYgKCF0aGlzLmdlb21ldHJ5LnJlYWR5KSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkudmVydGV4QnVmZmVycy5mb3JFYWNoKCh2ZXJ0ZXhCdWZmZXIpID0+IHtcbiAgICAgICAgICBpZiAoIXZlcnRleEJ1ZmZlci5idWZmZXIpIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXIgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgICAgICAgIGxhYmVsOiB0aGlzLm9wdGlvbnMubGFiZWwgKyAnIGdlb21ldHJ5OiAnICsgdmVydGV4QnVmZmVyLm5hbWUgKyAnIGJ1ZmZlcicsXG4gICAgICAgICAgICAgIHNpemU6IHZlcnRleEJ1ZmZlci5hcnJheS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuVkVSVEVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1QsXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnF1ZXVlV3JpdGVCdWZmZXIodmVydGV4QnVmZmVyLmJ1ZmZlciwgMCwgdmVydGV4QnVmZmVyLmFycmF5KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBpZiBpdCdzIGFuIGluZGV4ZWQgZ2VvbWV0cnksIGNyZWF0ZSBpbmRleCBHUFVCdWZmZXIgYXMgd2VsbFxuICAgICAgICBpZiAoJ2luZGV4QnVmZmVyJyBpbiB0aGlzLmdlb21ldHJ5ICYmIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIgJiYgIXRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuYnVmZmVyKSB7XG4gICAgICAgICAgdGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUJ1ZmZlcih7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyBnZW9tZXRyeTogaW5kZXggYnVmZmVyJyxcbiAgICAgICAgICAgIHNpemU6IHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuYXJyYXkuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIHVzYWdlOiBHUFVCdWZmZXJVc2FnZS5JTkRFWCB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNULFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnF1ZXVlV3JpdGVCdWZmZXIodGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIsIDAsIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuYXJyYXkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgb3VyIE1lc2ggZ2VvbWV0cnk6IGNyZWF0ZSBidWZmZXJzIGFuZCBhZGQgYXR0cmlidXRlcyB0byBtYXRlcmlhbFxuICAgICAqL1xuICAgIHNldEdlb21ldHJ5KCkge1xuICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkgJiYgdGhpcy5yZW5kZXJlci5yZWFkeSkge1xuICAgICAgICB0aGlzLmNyZWF0ZUdlb21ldHJ5QnVmZmVycygpXG4gICAgICAgIHRoaXMuc2V0TWF0ZXJpYWxHZW9tZXRyeUF0dHJpYnV0ZXMoKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIE1BVEVSSUFMICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSBNZXNoIHRyYW5zcGFyZW50IHByb3BlcnR5LCB0aGVuIHNldCBpdHMgbWF0ZXJpYWxcbiAgICAgKiBAcGFyYW0gbWVzaFBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfCBSZW5kZXJNYXRlcmlhbCBwYXJhbWV0ZXJzfVxuICAgICAqL1xuICAgIHNldE1hdGVyaWFsKG1lc2hQYXJhbWV0ZXJzOiBSZW5kZXJNYXRlcmlhbFBhcmFtcykge1xuICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG1lc2hQYXJhbWV0ZXJzLnRyYW5zcGFyZW50XG5cbiAgICAgIHRoaXMuc2V0U2hhZGVycygpXG5cbiAgICAgIHRoaXMubWF0ZXJpYWwgPSBuZXcgUmVuZGVyTWF0ZXJpYWwodGhpcy5yZW5kZXJlciwgbWVzaFBhcmFtZXRlcnMpXG4gICAgICAvLyBhZGQgZXZlbnR1YWwgdGV4dHVyZXMgcGFzc2VkIGFzIHBhcmFtZXRlcnNcbiAgICAgIHRoaXMubWF0ZXJpYWwub3B0aW9ucy50ZXh0dXJlc1xuICAgICAgICA/LmZpbHRlcigodGV4dHVyZSkgPT4gdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIC5mb3JFYWNoKCh0ZXh0dXJlKSA9PiB0aGlzLm9uVGV4dHVyZUFkZGVkKHRleHR1cmUpKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBNZXNoIG1hdGVyaWFsIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBzZXRNYXRlcmlhbEdlb21ldHJ5QXR0cmlidXRlcygpIHtcbiAgICAgIGlmICh0aGlzLm1hdGVyaWFsICYmICF0aGlzLm1hdGVyaWFsLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdGhpcy5tYXRlcmlhbC5zZXRBdHRyaWJ1dGVzRnJvbUdlb21ldHJ5KHRoaXMuZ2VvbWV0cnkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyogVEVYVFVSRVMgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCBvdXIge0BsaW5rIFJlbmRlck1hdGVyaWFsI3RleHR1cmVzIHwgUmVuZGVyTWF0ZXJpYWwgdGV4dHVyZXMgYXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmVzKCk6IFRleHR1cmVbXSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbD8udGV4dHVyZXMgfHwgW11cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3VyIHtAbGluayBSZW5kZXJNYXRlcmlhbCNyZW5kZXJUZXh0dXJlcyB8IFJlbmRlck1hdGVyaWFsIHJlbmRlciB0ZXh0dXJlcyBhcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgcmVuZGVyVGV4dHVyZXMoKTogUmVuZGVyVGV4dHVyZVtdIHtcbiAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsPy5yZW5kZXJUZXh0dXJlcyB8fCBbXVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgVGV4dHVyZX1cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBUZXh0dXJlUGFyYW1zIHwgVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgVGV4dHVyZX1cbiAgICAgKi9cbiAgICBjcmVhdGVUZXh0dXJlKG9wdGlvbnM6IFRleHR1cmVQYXJhbXMpOiBUZXh0dXJlIHtcbiAgICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIG9wdGlvbnMubmFtZSA9ICd0ZXh0dXJlJyArIHRoaXMudGV4dHVyZXMubGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIGlmICghb3B0aW9ucy5sYWJlbCkge1xuICAgICAgICBvcHRpb25zLmxhYmVsID0gdGhpcy5vcHRpb25zLmxhYmVsICsgJyAnICsgb3B0aW9ucy5uYW1lXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh0aGlzLnJlbmRlcmVyLCB7IC4uLm9wdGlvbnMsIC4uLnRoaXMub3B0aW9ucy50ZXh0dXJlc09wdGlvbnMgfSlcblxuICAgICAgdGhpcy5hZGRUZXh0dXJlKHRleHR1cmUpXG5cbiAgICAgIHJldHVybiB0ZXh0dXJlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9XG4gICAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gdG8gYWRkXG4gICAgICovXG4gICAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgICB0aGlzLm1hdGVyaWFsLmFkZFRleHR1cmUodGV4dHVyZSlcbiAgICAgIHRoaXMub25UZXh0dXJlQWRkZWQodGV4dHVyZSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBydW4gd2hlbiBhIG5ldyB7QGxpbmsgVGV4dHVyZX0gaGFzIGJlZW4gYWRkZWRcbiAgICAgKiBAcGFyYW0gdGV4dHVyZSAtIG5ld2x5IGNyZWF0ZWQgVGV4dHVyZVxuICAgICAqL1xuICAgIG9uVGV4dHVyZUFkZGVkKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICAgIHRleHR1cmUucGFyZW50TWVzaCA9IHRoaXMgYXMgdW5rbm93biBhcyBUZXh0dXJlUGFyZW50XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBSZW5kZXJUZXh0dXJlfVxuICAgICAqIEBwYXJhbSAgb3B0aW9ucyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgUmVuZGVyVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBjcmVhdGVSZW5kZXJUZXh0dXJlKG9wdGlvbnM6IFJlbmRlclRleHR1cmVQYXJhbXMpOiBSZW5kZXJUZXh0dXJlIHtcbiAgICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIG9wdGlvbnMubmFtZSA9ICdyZW5kZXJUZXh0dXJlJyArIHRoaXMucmVuZGVyVGV4dHVyZXMubGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBuZXcgUmVuZGVyVGV4dHVyZSh0aGlzLnJlbmRlcmVyLCBvcHRpb25zKVxuXG4gICAgICB0aGlzLmFkZFJlbmRlclRleHR1cmUocmVuZGVyVGV4dHVyZSlcblxuICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX1cbiAgICAgKiBAcGFyYW0gcmVuZGVyVGV4dHVyZSAtIHtAbGluayBSZW5kZXJUZXh0dXJlfSB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRSZW5kZXJUZXh0dXJlKHJlbmRlclRleHR1cmU6IFJlbmRlclRleHR1cmUpIHtcbiAgICAgIHRoaXMubWF0ZXJpYWwuYWRkVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuICAgIH1cblxuICAgIC8qIEJJTkRJTkdTICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIFJlbmRlck1hdGVyaWFsfSB1bmlmb3Jtc1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB1bmlmb3JtcygpOiBNYXRlcmlhbFsndW5pZm9ybXMnXSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbD8udW5pZm9ybXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIFJlbmRlck1hdGVyaWFsfSBzdG9yYWdlc1xuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBzdG9yYWdlcygpOiBNYXRlcmlhbFsnc3RvcmFnZXMnXSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXRlcmlhbD8uc3RvcmFnZXNcbiAgICB9XG5cbiAgICAvKiBSRVNJWkUgKi9cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgTWVzaCdzIHJlbmRlciB0ZXh0dXJlcyBvbmx5IGlmIHRoZXkncmUgbm90IHN0b3JhZ2UgdGV4dHVyZXNcbiAgICAgKi9cbiAgICByZXNpemVSZW5kZXJUZXh0dXJlcygpIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZXNcbiAgICAgICAgPy5maWx0ZXIoKHJlbmRlclRleHR1cmUpID0+IHJlbmRlclRleHR1cmUub3B0aW9ucy51c2FnZSAhPT0gJ3N0b3JhZ2VUZXh0dXJlJylcbiAgICAgICAgLmZvckVhY2goKHJlbmRlclRleHR1cmUpID0+IHJlbmRlclRleHR1cmUucmVzaXplKCkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBNZXNoJ3MgdGV4dHVyZXNcbiAgICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0XG4gICAgICovXG4gICAgcmVzaXplKGJvdW5kaW5nUmVjdD86IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSB7XG4gICAgICAvLyByZXNpemUgcmVuZGVyIHRleHR1cmVzIGZpcnN0XG4gICAgICB0aGlzLnJlc2l6ZVJlbmRlclRleHR1cmVzKClcblxuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHN1cGVyLnJlc2l6ZSkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHN1cGVyLnJlc2l6ZShib3VuZGluZ1JlY3QpXG4gICAgICB9XG5cbiAgICAgIC8vIHJlc2l6ZSB0ZXh0dXJlc1xuICAgICAgdGhpcy50ZXh0dXJlcz8uZm9yRWFjaCgodGV4dHVyZSkgPT4ge1xuICAgICAgICB0ZXh0dXJlLnJlc2l6ZSgpXG4gICAgICB9KVxuXG4gICAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgJiYgdGhpcy5fb25BZnRlclJlc2l6ZUNhbGxiYWNrKClcbiAgICB9XG5cbiAgICAvKiBFVkVOVFMgKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vblJlYWR5Q2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgTWVzaEJhc2V9IGlzIHJlYWR5XG4gICAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgICAqL1xuICAgIG9uUmVhZHkoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBNZXNoQmFzZSB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3Mge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUmVhZHlDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBiZWZvcmUge0BsaW5rIE1lc2hCYXNlfSB3aWxsIGJlIHJlbmRlcmVkXG4gICAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgICAqL1xuICAgIG9uQmVmb3JlUmVuZGVyKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogTWVzaEJhc2UgfCBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzIHtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkJlZm9yZVJlbmRlckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25SZW5kZXJDYWxsYmFja1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBNZXNoQmFzZX0gaXMgcmVuZGVyZWRcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAgICovXG4gICAgb25SZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBNZXNoQmFzZSB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3Mge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vbkFmdGVyUmVuZGVyQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB7QGxpbmsgTWVzaEJhc2V9IGhhcyBiZWVuIHJlbmRlcmVkXG4gICAgICogQHJldHVybnMgLSBvdXIgTWVzaFxuICAgICAqL1xuICAgIG9uQWZ0ZXJSZW5kZXIoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBNZXNoQmFzZSB8IFByb2plY3RlZE1lc2hCYXNlQ2xhc3Mge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayA9IGNhbGxiYWNrXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB7QGxpbmsgTWVzaEJhc2V9IGhhcyBiZWVuIHJlc2l6ZWRcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXG4gICAgICovXG4gICAgb25BZnRlclJlc2l6ZShjYWxsYmFjazogKCkgPT4gdm9pZCk6IE1lc2hCYXNlIHwgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25BZnRlclJlc2l6ZUNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKiBSRU5ERVIgKi9cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBiZWZvcmUgcmVuZGVyaW5nIHRoZSBNZXNoXG4gICAgICogU2V0IHRoZSBnZW9tZXRyeSBpZiBuZWVkZWQgKGNyZWF0ZSBidWZmZXJzIGFuZCBhZGQgYXR0cmlidXRlcyB0byB0aGUge0BsaW5rIFJlbmRlck1hdGVyaWFsfSlcbiAgICAgKiBUaGVuIGV4ZWN1dGVzIHtAbGluayBSZW5kZXJNYXRlcmlhbCNvbkJlZm9yZVJlbmRlcn06IGNyZWF0ZSBpdHMgYmluZCBncm91cHMgYW5kIHBpcGVsaW5lIGlmIG5lZWRlZCBhbmQgZXZlbnR1YWxseSB1cGRhdGUgaXRzIHN0cnVjdFxuICAgICAqL1xuICAgIG9uQmVmb3JlUmVuZGVyUGFzcygpIHtcbiAgICAgIGlmICghdGhpcy5yZW5kZXJlci5yZWFkeSkgcmV0dXJuXG5cbiAgICAgIGlmICh0aGlzLm1hdGVyaWFsICYmIHRoaXMubWF0ZXJpYWwucmVhZHkgJiYgdGhpcy5nZW9tZXRyeSAmJiB0aGlzLmdlb21ldHJ5LnJlYWR5ICYmICF0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRoaXMucmVhZHkgPSB0cnVlXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0R2VvbWV0cnkoKVxuXG4gICAgICB0aGlzLl9vbkJlZm9yZVJlbmRlckNhbGxiYWNrICYmIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2soKVxuXG4gICAgICB0aGlzLm1hdGVyaWFsLm9uQmVmb3JlUmVuZGVyKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgb3VyIHtAbGluayBNZXNoQmFzZX0gaWYgdGhlIHtAbGluayBSZW5kZXJNYXRlcmlhbH0gaXMgcmVhZHlcbiAgICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3MgZW5jb2RlclxuICAgICAqL1xuICAgIG9uUmVuZGVyUGFzcyhwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xuICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsLnJlYWR5KSByZXR1cm5cblxuICAgICAgdGhpcy5fb25SZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vblJlbmRlckNhbGxiYWNrKClcblxuICAgICAgLy8gcmVuZGVyIG91IG1hdGVyaWFsXG4gICAgICB0aGlzLm1hdGVyaWFsLnJlbmRlcihwYXNzKVxuICAgICAgLy8gdGhlbiByZW5kZXIgb3VyIGdlb21ldHJ5XG4gICAgICB0aGlzLmdlb21ldHJ5LnJlbmRlcihwYXNzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBoYXZpbmcgcmVuZGVyZWQgdGhlIE1lc2hcbiAgICAgKi9cbiAgICBvbkFmdGVyUmVuZGVyUGFzcygpIHtcbiAgICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2soKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBvdXIgTWVzaFxuICAgICAqIC0gRXhlY3V0ZSB7QGxpbmsgb25CZWZvcmVSZW5kZXJQYXNzfVxuICAgICAqIC0gU3RvcCBoZXJlIGlmIHtAbGluayBSZW5kZXJlcn0gaXMgbm90IHJlYWR5IG9yIE1lc2ggaXMgbm90IHtAbGluayB2aXNpYmxlfVxuICAgICAqIC0gRXhlY3V0ZSBzdXBlciByZW5kZXIgY2FsbCBpZiBpdCBleGlzdHNcbiAgICAgKiAtIHtAbGluayBvblJlbmRlclBhc3MgfCByZW5kZXJ9IG91ciB7QGxpbmsgbWF0ZXJpYWx9IGFuZCB7QGxpbmsgZ2VvbWV0cnl9XG4gICAgICogLSBFeGVjdXRlIHtAbGluayBvbkFmdGVyUmVuZGVyUGFzc31cbiAgICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3MgZW5jb2RlclxuICAgICAqL1xuICAgIHJlbmRlcihwYXNzOiBHUFVSZW5kZXJQYXNzRW5jb2Rlcikge1xuICAgICAgdGhpcy5vbkJlZm9yZVJlbmRlclBhc3MoKVxuXG4gICAgICAvLyBubyBwb2ludCB0byByZW5kZXIgaWYgdGhlIFdlYkdQVSBkZXZpY2UgaXMgbm90IHJlYWR5XG4gICAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVhZHkgfHwgIXRoaXMudmlzaWJsZSkgcmV0dXJuXG5cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmIChzdXBlci5yZW5kZXIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBzdXBlci5yZW5kZXIoKVxuICAgICAgfVxuXG4gICAgICAhdGhpcy5yZW5kZXJlci5wcm9kdWN0aW9uICYmIHBhc3MucHVzaERlYnVnR3JvdXAodGhpcy5vcHRpb25zLmxhYmVsKVxuXG4gICAgICB0aGlzLm9uUmVuZGVyUGFzcyhwYXNzKVxuXG4gICAgICAhdGhpcy5yZW5kZXJlci5wcm9kdWN0aW9uICYmIHBhc3MucG9wRGVidWdHcm91cCgpXG5cbiAgICAgIHRoaXMub25BZnRlclJlbmRlclBhc3MoKVxuICAgIH1cblxuICAgIC8qIERFU1RST1kgKi9cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgTWVzaCBmcm9tIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gYW5kIGRlc3Ryb3kgaXRcbiAgICAgKi9cbiAgICByZW1vdmUoKSB7XG4gICAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG4gICAgICB0aGlzLmRlc3Ryb3koKVxuXG4gICAgICAvLyBpZiB0aGUgcmVuZGVyZXIgZG9lcyBub3QgY29udGFpbiBhbnkgbWVzaGVzIGFueSBtb3JlXG4gICAgICAvLyBjbGVhciBpdFxuICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLm1lc2hlcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbkJlZm9yZVJlbmRlclNjZW5lLmFkZChcbiAgICAgICAgICAoY29tbWFuZEVuY29kZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZm9yY2VDbGVhcihjb21tYW5kRW5jb2RlcilcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBNZXNoXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmIChzdXBlci5kZXN0cm95KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpXG4gICAgICB9XG5cbiAgICAgIHRoaXMubWF0ZXJpYWw/LmRlc3Ryb3koKVxuXG4gICAgICAvLyByZW1vdmUgZ2VvbWV0cnkgYnVmZmVycyBmcm9tIGRldmljZSBjYWNoZVxuICAgICAgdGhpcy5nZW9tZXRyeS52ZXJ0ZXhCdWZmZXJzLmZvckVhY2goKHZlcnRleEJ1ZmZlcikgPT4ge1xuICAgICAgICAvLyB1c2Ugb3JpZ2luYWwgdmVydGV4IGJ1ZmZlciBsYWJlbCBpbiBjYXNlIGl0IGhhcyBiZWVuIHN3YXBwZWQgKHVzdWFsbHkgYnkgYSBjb21wdXRlIHBhc3MpXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQnVmZmVyKFxuICAgICAgICAgIHZlcnRleEJ1ZmZlci5idWZmZXIsXG4gICAgICAgICAgdGhpcy5vcHRpb25zLmxhYmVsICsgJyBnZW9tZXRyeTogJyArIHZlcnRleEJ1ZmZlci5uYW1lICsgJyBidWZmZXInXG4gICAgICAgIClcbiAgICAgIH0pXG5cbiAgICAgIGlmICgnaW5kZXhCdWZmZXInIGluIHRoaXMuZ2VvbWV0cnkpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVCdWZmZXIodGhpcy5nZW9tZXRyeS5pbmRleEJ1ZmZlci5idWZmZXIpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ2VvbWV0cnk/LmRlc3Ryb3koKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBNZXNoQmFzZU1peGluIH1cbiIsImltcG9ydCB7IFBsYW5lR2VvbWV0cnkgfSBmcm9tICcuLi9jb3JlL2dlb21ldHJpZXMvUGxhbmVHZW9tZXRyeSdcblxuLyoqXG4gKiBVc2VkIHRvIGNhY2hlIHtAbGluayBQbGFuZUdlb21ldHJ5fSBhbmQgYXZvaWQgYXMgbWFueSBsYXJnZSBhcnJheSBjb21wdXRhdGlvbnMgYXMgcG9zc2libGUuPGJyPlxuICogQ291bGQgYmUgaW1wcm92ZWQgdG8gaGFuZGxlIG90aGVyIGNhY2hlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhY2hlTWFuYWdlciB7XG4gIC8qKiBBcnJheSBvZiBjYWNoZWQge0BsaW5rIFBsYW5lR2VvbWV0cnl9ICovXG4gIHBsYW5lR2VvbWV0cmllczogUGxhbmVHZW9tZXRyeVtdXG5cbiAgLyoqXG4gICAqIENhY2hlTWFuYWdlciBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wbGFuZUdlb21ldHJpZXMgPSBbXVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgZ2l2ZW4ge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGlzIGFscmVhZHkgY2FjaGVkIGJhc2VkIG9uIGl0cyB7QGxpbmsgUGxhbmVHZW9tZXRyeSNkZWZpbml0aW9uLmlkIHwgZGVmaW5pdGlvbiBpZH1cbiAgICogQHBhcmFtIHBsYW5lR2VvbWV0cnkgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gdG8gY2hlY2tcbiAgICogQHJldHVybnMgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldFBsYW5lR2VvbWV0cnkocGxhbmVHZW9tZXRyeTogUGxhbmVHZW9tZXRyeSk6IFBsYW5lR2VvbWV0cnkgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5wbGFuZUdlb21ldHJpZXMuZmluZCgoZWxlbWVudCkgPT4gZWxlbWVudC5kZWZpbml0aW9uLmlkID09PSBwbGFuZUdlb21ldHJ5LmRlZmluaXRpb24uaWQpXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBnaXZlbiB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gaXMgYWxyZWFkeSBjYWNoZWQgYmFzZWQgb24gaXRzIHtAbGluayBQbGFuZUdlb21ldHJ5I2RlZmluaXRpb24gfCBkZWZpbml0aW9uIGlkfVxuICAgKiBAcGFyYW0gcGxhbmVHZW9tZXRyeUlEIC0ge0BsaW5rIFBsYW5lR2VvbWV0cnkjZGVmaW5pdGlvbi5pZCB8IFBsYW5lR2VvbWV0cnkgZGVmaW5pdGlvbiBpZH1cbiAgICogQHJldHVybnMgLSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gZm91bmQgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGdldFBsYW5lR2VvbWV0cnlCeUlEKHBsYW5lR2VvbWV0cnlJRDogbnVtYmVyKTogUGxhbmVHZW9tZXRyeSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnBsYW5lR2VvbWV0cmllcy5maW5kKChlbGVtZW50KSA9PiBlbGVtZW50LmRlZmluaXRpb24uaWQgPT09IHBsYW5lR2VvbWV0cnlJRClcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUGxhbmVHZW9tZXRyeX0gdG8gb3VyIGNhY2hlIHtAbGluayBwbGFuZUdlb21ldHJpZXN9IGFycmF5XG4gICAqIEBwYXJhbSBwbGFuZUdlb21ldHJ5XG4gICAqL1xuICBhZGRQbGFuZUdlb21ldHJ5KHBsYW5lR2VvbWV0cnk6IFBsYW5lR2VvbWV0cnkpIHtcbiAgICB0aGlzLnBsYW5lR2VvbWV0cmllcy5wdXNoKHBsYW5lR2VvbWV0cnkpXG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIENhY2hlTWFuYWdlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbGFuZUdlb21ldHJpZXMgPSBbXVxuICB9XG59XG5cbi8qKiBAZXhwb3J0cyBAY29uc3QgY2FjaGVNYW5hZ2VyIC0ge0BsaW5rIENhY2hlTWFuYWdlcn0gY2xhc3Mgb2JqZWN0ICovXG5leHBvcnQgY29uc3QgY2FjaGVNYW5hZ2VyID0gbmV3IENhY2hlTWFuYWdlcigpIGFzIENhY2hlTWFuYWdlclxuIiwiaW1wb3J0IHsgTWVzaEJhc2VNaXhpbiwgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfSBmcm9tICcuL21peGlucy9NZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBQbGFuZUdlb21ldHJ5IH0gZnJvbSAnLi4vZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5J1xuaW1wb3J0IHsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCwgUmVjdEJCb3ggfSBmcm9tICcuLi9ET00vRE9NRWxlbWVudCdcbmltcG9ydCB7IFZlYzIgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzInXG5pbXBvcnQgeyBjYWNoZU1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9DYWNoZU1hbmFnZXInXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuXG4vKipcbiAqIENyZWF0ZSBhIDF4MSBxdWFkIChvciBwbGFuZSkgY292ZXJpbmcgdGhlIGZ1bGwgdmlld3BvcnQsIHVzZWZ1bCBmb3IgcG9zdHByb2Nlc3Npbmcgb3IgYmFja2dyb3VuZCBlZmZlY3RzLlxuICpcbiAqIEl0IGNvbnNpc3RzIG9mIGEge0BsaW5rIFBsYW5lR2VvbWV0cnl9IGFuZCB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwgfCBSZW5kZXJNYXRlcmlhbH0gYW5kIGEgZmV3IHV0aWxpdGllcyBtZXRob2QgdG8gaGVscCBjcmVhdGUge0BsaW5rIGNvcmUvdGV4dHVyZXMvVGV4dHVyZS5UZXh0dXJlIHwgVGV4dHVyZX0gYW5kIHtAbGluayBjb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUuUmVuZGVyVGV4dHVyZSB8IFJlbmRlclRleHR1cmV9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBmdWxsc2NyZWVuIHBsYW5lXG4gKiAvLyB3aWxsIHVzZSB0aGUgbm9ybWFscyBjb2xvcnMgYXMgZGVmYXVsdCBzaGFkaW5nXG4gKiBjb25zdCBmdWxsc2NyZWVuUGxhbmUgPSBuZXcgRnVsbHNjcmVlblBsYW5lKGdwdUN1cnRhaW5zLCB7XG4gKiAgIGxhYmVsOiAnTXkgZnVsbHNjcmVlbiBwbGFuZScsXG4gKiAgIHNoYWRlcnM6IHtcbiAqICAgICBmcmFnbWVudDoge1xuICogICAgICAgY29kZTogZnJhZ21lbnRDb2RlLCAvLyBhc3N1bWUgaXQgaXMgYSB2YWxpZCBXR1NMIGZyYWdtZW50IHNoYWRlclxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBGdWxsc2NyZWVuUGxhbmUgZXh0ZW5kcyBNZXNoQmFzZU1peGluKGNsYXNzIHt9KSB7XG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX0gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBPYmplY3QgZGVmaW5pbmcgdGhlICB7QGxpbmsgRnVsbHNjcmVlblBsYW5lfSBzaXplICovXG4gIHNpemU6IHtcbiAgICAvKiogZG9jdW1lbnQgSFRNTCBzaXplICovXG4gICAgZG9jdW1lbnQ6IFJlY3RCQm94XG4gIH1cblxuICAvKipcbiAgICogRnVsbHNjcmVlblBsYW5lIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2UgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0ge30gYXMgTWVzaEJhc2VSZW5kZXJQYXJhbXMpIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyBGdWxsc2NyZWVuUXVhZE1lc2gnIDogJ0Z1bGxzY3JlZW5RdWFkTWVzaCcpXG5cbiAgICAvLyBjYW4gd2UgZ2V0IGEgY2FjaGVkIGdlb21ldHJ5P1xuICAgIGxldCBnZW9tZXRyeSA9IGNhY2hlTWFuYWdlci5nZXRQbGFuZUdlb21ldHJ5QnlJRCgyKSAvLyAxICogMSArIDFcblxuICAgIGlmICghZ2VvbWV0cnkpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IHBsYW5lIGdlb21ldHJ5XG4gICAgICBnZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHsgd2lkdGhTZWdtZW50czogMSwgaGVpZ2h0U2VnbWVudHM6IDEgfSlcbiAgICAgIGNhY2hlTWFuYWdlci5hZGRQbGFuZUdlb21ldHJ5KGdlb21ldHJ5KVxuICAgIH1cblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBzdXBlcihyZW5kZXJlciwgbnVsbCwgeyBnZW9tZXRyeSwgLi4ucGFyYW1ldGVycyB9KVxuXG4gICAgdGhpcy5zaXplID0ge1xuICAgICAgZG9jdW1lbnQ6IHtcbiAgICAgICAgd2lkdGg6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgICAgdG9wOiB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdC50b3AsXG4gICAgICAgIGxlZnQ6IHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LmxlZnQsXG4gICAgICB9LFxuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdGdWxsc2NyZWVuUXVhZE1lc2gnXG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIG91ciB7QGxpbmsgRnVsbHNjcmVlblBsYW5lfVxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gdGhlIG5ldyBib3VuZGluZyByZWN0YW5nbGVcbiAgICovXG4gIHJlc2l6ZShib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsID0gbnVsbCkge1xuICAgIHRoaXMuc2l6ZS5kb2N1bWVudCA9IGJvdW5kaW5nUmVjdCA/PyB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdFxuXG4gICAgc3VwZXIucmVzaXplKGJvdW5kaW5nUmVjdClcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWtlIHRoZSBwb2ludGVyIHtAbGluayBWZWMyIHwgdmVjdG9yfSBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQgYW5kIHJldHVybnMgaXQgcmVsYXRpdmUgdG8gb3VyIHtAbGluayBGdWxsc2NyZWVuUGxhbmV9XG4gICAqIEl0IHJhbmdlcyBmcm9tIC0xIHRvIDEgb24gYm90aCBheGlzXG4gICAqIEBwYXJhbSBtb3VzZUNvb3JkcyAtIHBvaW50ZXIge0BsaW5rIFZlYzIgfCB2ZWN0b3J9IGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIC0gdGhlIG1hcHBlZCB7QGxpbmsgVmVjMiB8IHZlY3Rvcn0gY29vcmRpbmF0ZXMgaW4gdGhlIFstMSwgMV0gcmFuZ2VcbiAgICovXG4gIG1vdXNlVG9QbGFuZUNvb3Jkcyhtb3VzZUNvb3JkczogVmVjMiA9IG5ldyBWZWMyKCkpOiBWZWMyIHtcbiAgICAvLyBtb3VzZSBwb3NpdGlvbiBjb252ZXJzaW9uIGZyb20gZG9jdW1lbnQgdG8gcGxhbmUgc3BhY2VcbiAgICByZXR1cm4gbmV3IFZlYzIoXG4gICAgICAoKG1vdXNlQ29vcmRzLnggLSB0aGlzLnNpemUuZG9jdW1lbnQubGVmdCkgLyB0aGlzLnNpemUuZG9jdW1lbnQud2lkdGgpICogMiAtIDEsXG4gICAgICAxIC0gKChtb3VzZUNvb3Jkcy55IC0gdGhpcy5zaXplLmRvY3VtZW50LnRvcCkgLyB0aGlzLnNpemUuZG9jdW1lbnQuaGVpZ2h0KSAqIDJcbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IE9iamVjdDNELCBPYmplY3QzRE1hdHJpY2VzVHlwZSwgT2JqZWN0M0RUcmFuc2Zvcm1NYXRyaXggfSBmcm9tICcuL09iamVjdDNEJ1xyXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xyXG5pbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNDYW1lcmFSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcclxuaW1wb3J0IHsgTWF0NCB9IGZyb20gJy4uLy4uL21hdGgvTWF0NCdcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSAnLi4vY2FtZXJhL0NhbWVyYSdcclxuXHJcbi8qKiBEZWZpbmVzIGFsbCBraW5kIG9mIHBvc3NpYmxlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRH0gbWF0cml4IHR5cGVzICovXHJcbmV4cG9ydCB0eXBlIFByb2plY3RlZE9iamVjdDNETWF0cmljZXNUeXBlID0gT2JqZWN0M0RNYXRyaWNlc1R5cGUgfCAnbW9kZWxWaWV3JyB8ICdtb2RlbFZpZXdQcm9qZWN0aW9uJ1xyXG4vKiogRGVmaW5lcyBhbGwgcG9zc2libGUge0BsaW5rIE9iamVjdDNEVHJhbnNmb3JtTWF0cml4IHwgbWF0cml4IG9iamVjdH0gdXNlZCBieSBvdXIge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSAqL1xyXG5leHBvcnQgdHlwZSBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzID0gUmVjb3JkPFByb2plY3RlZE9iamVjdDNETWF0cmljZXNUeXBlLCBPYmplY3QzRFRyYW5zZm9ybU1hdHJpeD5cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGFwcGx5IHRoZSB7QGxpbmsgQ2FtZXJhI3Byb2plY3Rpb25NYXRyaXggfCBwcm9qZWN0aW9ufSBhbmQge0BsaW5rIENhbWVyYSN2aWV3TWF0cml4IHwgdmlld30gbWF0cmljZXMgb2YgYSB7QGxpbmsgQ2FtZXJhfSB0byBhbiB7QGxpbmsgT2JqZWN0M0R9LCBpbiBvcmRlciB0byBjb21wdXRlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRCNtb2RlbFZpZXdNYXRyaXggfCBtb2RlbFZpZXd9IGFuZCB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0QjbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCB8IG1vZGVsVmlld1Byb2plY3Rpb259IG1hdHJpY2VzLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFByb2plY3RlZE9iamVjdDNEIGV4dGVuZHMgT2JqZWN0M0Qge1xyXG4gIC8qKiB7QGxpbmsgQ2FtZXJhIHwgQ2FtZXJhfSBvYmplY3QgdXNlZCB0byBjb21wdXRlIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRCNtb2RlbFZpZXdNYXRyaXggfCBtb2RlbCB2aWV3fSBhbmQge0BsaW5rIFByb2plY3RlZE9iamVjdDNEI21vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggfCBtb2RlbCB2aWV3IHByb2plY3Rpb259IG1hdHJpY2VzICovXHJcbiAgY2FtZXJhOiBDYW1lcmFcclxuXHJcbiAgLyoqIHtAbGluayBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzIHwgTWF0cmljZXMgb2JqZWN0fSBvZiB0aGUge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSAqL1xyXG4gIG1hdHJpY2VzOiBQcm9qZWN0ZWRPYmplY3QzRE1hdHJpY2VzXHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2plY3RlZE9iamVjdDNEIGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIENhbWVyYVJlbmRlcmVyfSBvYmplY3Qgb3Ige0BsaW5rIEdQVUN1cnRhaW5zfSBjbGFzcyBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9XHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IENhbWVyYVJlbmRlcmVyIHwgR1BVQ3VydGFpbnMpIHtcclxuICAgIHN1cGVyKClcclxuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpXHJcblxyXG4gICAgaXNDYW1lcmFSZW5kZXJlcihyZW5kZXJlciwgJ1Byb2plY3RlZE9iamVjdDNEJylcclxuXHJcbiAgICB0aGlzLmNhbWVyYSA9IHJlbmRlcmVyLmNhbWVyYVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlQb3NpdGlvbigpIHtcclxuICAgIHN1cGVyLmFwcGx5UG9zaXRpb24oKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlSb3RhdGlvbigpIHtcclxuICAgIHN1cGVyLmFwcGx5Um90YXRpb24oKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlTY2FsZSgpIHtcclxuICAgIHN1cGVyLmFwcGx5U2NhbGUoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBvdXIgcHJvamVjdGlvbiBtYXRyaXggc3RhY2sgdG8gdXBkYXRlXHJcbiAgICovXHJcbiAgYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKSB7XHJcbiAgICBzdXBlci5hcHBseVRyYW5zZm9ybU9yaWdpbigpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHRyYW5zZm9ybSBhbmQgcHJvamVjdGlvbiBtYXRyaWNlc1xyXG4gICAqL1xyXG4gIHNldE1hdHJpY2VzKCkge1xyXG4gICAgc3VwZXIuc2V0TWF0cmljZXMoKVxyXG5cclxuICAgIHRoaXMubWF0cmljZXMgPSB7XHJcbiAgICAgIC4uLnRoaXMubWF0cmljZXMsXHJcbiAgICAgIG1vZGVsVmlldzoge1xyXG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcclxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBvdXIgbW9kZWwgdmlldyBtYXRyaXggaXMgb3VyIG1vZGVsIG1hdHJpeCBtdWx0aXBsaWVkIHdpdGggb3VyIGNhbWVyYSB2aWV3IG1hdHJpeFxyXG4gICAgICAgICAgdGhpcy5tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnZpZXdNYXRyaXgsIHRoaXMud29ybGRNYXRyaXgpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgbW9kZWxWaWV3UHJvamVjdGlvbjoge1xyXG4gICAgICAgIG1hdHJpeDogbmV3IE1hdDQoKSxcclxuICAgICAgICBzaG91bGRVcGRhdGU6IGZhbHNlLFxyXG4gICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBvdXIgbW9kZWxWaWV3UHJvamVjdGlvbiBtYXRyaXgsIHVzZWZ1bCBmb3IgYm91bmRpbmcgYm94IGNhbGN1bGF0aW9ucyBhbmQgZnJ1c3R1bSBjdWxsaW5nXHJcbiAgICAgICAgICAvLyB0aGlzIGlzIHRoZSByZXN1bHQgb2Ygb3VyIHByb2plY3Rpb24gbWF0cml4IG11bHRpcGxpZWQgYnkgb3VyIG1vZGVsVmlldyBtYXRyaXhcclxuICAgICAgICAgIHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucHJvamVjdGlvbk1hdHJpeCwgdGhpcy5tb2RlbFZpZXdNYXRyaXgpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBvdXIge0BsaW5rIG1vZGVsVmlld01hdHJpeCB8IG1vZGVsIHZpZXcgbWF0cml4fVxyXG4gICAqL1xyXG4gIGdldCBtb2RlbFZpZXdNYXRyaXgoKTogTWF0NCB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXRyaWNlcy5tb2RlbFZpZXcubWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBtb2RlbFZpZXdNYXRyaXggfCBtb2RlbCB2aWV3IG1hdHJpeH1cclxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIG1vZGVsVmlld01hdHJpeCB8IG1vZGVsIHZpZXcgbWF0cml4fVxyXG4gICAqL1xyXG4gIHNldCBtb2RlbFZpZXdNYXRyaXgodmFsdWU6IE1hdDQpIHtcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3Lm1hdHJpeCA9IHZhbHVlXHJcbiAgICB0aGlzLm1hdHJpY2VzLm1vZGVsVmlldy5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBDYW1lcmEjdmlld01hdHJpeCB8IGNhbWVyYSB2aWV3IG1hdHJpeH1cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgdmlld01hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLmNhbWVyYS52aWV3TWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBDYW1lcmEjcHJvamVjdGlvbk1hdHJpeCB8IGNhbWVyYSBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgcHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLmNhbWVyYS5wcm9qZWN0aW9uTWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgb3VyIHtAbGluayBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IHwgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKi9cclxuICBnZXQgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCgpOiBNYXQ0IHtcclxuICAgIHJldHVybiB0aGlzLm1hdHJpY2VzLm1vZGVsVmlld1Byb2plY3Rpb24ubWF0cml4XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgb3VyIHtAbGluayBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4IHwgbW9kZWwgdmlldyBwcm9qZWN0aW9uIG1hdHJpeH1cclxuICAgKiBAcGFyYW0gdmFsdWUgLSBuZXcge0BsaW5rIG1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXggfCBtb2RlbCB2aWV3IHByb2plY3Rpb24gbWF0cml4fXNcclxuICAgKi9cclxuICBzZXQgbW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCh2YWx1ZTogTWF0NCkge1xyXG4gICAgdGhpcy5tYXRyaWNlcy5tb2RlbFZpZXdQcm9qZWN0aW9uLm1hdHJpeCA9IHZhbHVlXHJcbiAgICB0aGlzLm1hdHJpY2VzLm1vZGVsVmlld1Byb2plY3Rpb24uc2hvdWxkVXBkYXRlID0gdHJ1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IG91ciBwcm9qZWN0aW9uIG1hdHJpY2VzIHNob3VsZFVwZGF0ZSBmbGFncyB0byB0cnVlICh0ZWxsIHRoZW0gdG8gdXBkYXRlKVxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpIHtcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3LnNob3VsZFVwZGF0ZSA9IHRydWVcclxuICAgIHRoaXMubWF0cmljZXMubW9kZWxWaWV3UHJvamVjdGlvbi5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuIHRoZSB3b3JsZCBtYXRyaXggdXBkYXRlLCB0ZWxsIG91ciBwcm9qZWN0aW9uIG1hdHJpeCB0byB1cGRhdGUgYXMgd2VsbFxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZVdvcmxkTWF0cml4KCkge1xyXG4gICAgc3VwZXIuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVQcm9qZWN0aW9uTWF0cml4U3RhY2soKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGVsbCBhbGwgb3VyIG1hdHJpY2VzIHRvIHVwZGF0ZVxyXG4gICAqL1xyXG4gIHNob3VsZFVwZGF0ZU1hdHJpeFN0YWNrKCkge1xyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNb2RlbE1hdHJpeCgpXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZVByb2plY3Rpb25NYXRyaXhTdGFjaygpXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxyXG5zdHJ1Y3QgVmVydGV4T3V0cHV0IHtcclxuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzRmLFxyXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXHJcbiAgQGxvY2F0aW9uKDEpIG5vcm1hbDogdmVjM2YsXHJcbn07XHJcblxyXG5AdmVydGV4IGZuIG1haW4oXHJcbiAgYXR0cmlidXRlczogQXR0cmlidXRlcyxcclxuKSAtPiBWZXJ0ZXhPdXRwdXQge1xyXG4gIHZhciB2c091dHB1dDogVmVydGV4T3V0cHV0O1xyXG5cclxuICB2c091dHB1dC5wb3NpdGlvbiA9IGdldE91dHB1dFBvc2l0aW9uKGF0dHJpYnV0ZXMucG9zaXRpb24pO1xyXG4gIHZzT3V0cHV0LnV2ID0gYXR0cmlidXRlcy51djtcclxuICB2c091dHB1dC5ub3JtYWwgPSBhdHRyaWJ1dGVzLm5vcm1hbDtcclxuICBcclxuICByZXR1cm4gdnNPdXRwdXQ7XHJcbn1gXHJcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuc3RydWN0IFZTT3V0cHV0IHtcbiAgQGJ1aWx0aW4ocG9zaXRpb24pIHBvc2l0aW9uOiB2ZWM0ZixcbiAgQGxvY2F0aW9uKDApIHV2OiB2ZWMyZixcbiAgQGxvY2F0aW9uKDEpIG5vcm1hbDogdmVjM2YsXG59O1xuXG5AZnJhZ21lbnQgZm4gbWFpbihmc0lucHV0OiBWU091dHB1dCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcbiAgLy8gbm9ybWFsc1xuICByZXR1cm4gdmVjNChub3JtYWxpemUoZnNJbnB1dC5ub3JtYWwpICogMC41ICsgMC41LCAxLjApO1xufWBcbiIsImltcG9ydCB7IENhbWVyYVJlbmRlcmVyLCBpc0NhbWVyYVJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3V0aWxzJ1xyXG5pbXBvcnQgeyBET01GcnVzdHVtIH0gZnJvbSAnLi4vLi4vRE9NL0RPTUZydXN0dW0nXHJcbmltcG9ydCB7IE1lc2hCYXNlQ2xhc3MsIE1lc2hCYXNlTWl4aW4sIE1lc2hCYXNlT3B0aW9ucywgTWVzaEJhc2VQYXJhbXMsIE1peGluQ29uc3RydWN0b3IgfSBmcm9tICcuL01lc2hCYXNlTWl4aW4nXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXHJcbmltcG9ydCB7IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIFJlY3RDb29yZHMgfSBmcm9tICcuLi8uLi9ET00vRE9NRWxlbWVudCdcclxuaW1wb3J0IHsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9NYXRlcmlhbHMnXHJcbmltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vLi4vb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNEJ1xyXG5pbXBvcnQgeyBET01PYmplY3QzRCB9IGZyb20gJy4uLy4uLy4uL2N1cnRhaW5zL29iamVjdHMzRC9ET01PYmplY3QzRCdcclxuaW1wb3J0IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCBmcm9tICcuLi8uLi9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Byb2plY3RlZF92cy53Z3NsJ1xyXG5pbXBvcnQgZGVmYXVsdF9ub3JtYWxfZnNXZ3NsIGZyb20gJy4uLy4uL3NoYWRlcnMvY2h1bmtzL2RlZmF1bHRfbm9ybWFsX2ZzLndnc2wnXHJcblxyXG4vKipcclxuICogQmFzZSBwYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEgUHJvamVjdGVkTWVzaFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0ZWRNZXNoQmFzZVBhcmFtcyB7XHJcbiAgLyoqIFdoZXRoZXIgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCAobm90IGRyYXduIHdoZW4gb3V0c2lkZSBvZiB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhIHwgY2FtZXJhfSBmcnVzdHVtKSAqL1xyXG4gIGZydXN0dW1DdWxsZWQ/OiBib29sZWFuXHJcbiAgLyoqIE1hcmdpbnMgKGluIHBpeGVscykgdG8gYXBwbGllZCB0byB0aGUge0BsaW5rIFByb2plY3RlZE1lc2hCYXNlQ2xhc3MjZG9tRnJ1c3R1bSB8IERPTSBGcnVzdHVtfSB0byBkZXRlcm1pbmUgaWYgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCBvciBub3QgKi9cclxuICBET01GcnVzdHVtTWFyZ2lucz86IFJlY3RDb29yZHNcclxufVxyXG5cclxuLyoqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSBQcm9qZWN0ZWRNZXNoICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdGVkTWVzaFBhcmFtZXRlcnMgZXh0ZW5kcyBNZXNoQmFzZVBhcmFtcywgUHJvamVjdGVkTWVzaEJhc2VQYXJhbXMge31cclxuXHJcbi8qKiBAY29uc3QgLSBEZWZhdWx0IFByb2plY3RlZE1lc2ggcGFyYW1ldGVycyB0byBtZXJnZSB3aXRoIHVzZXIgZGVmaW5lZCBwYXJhbWV0ZXJzICovXHJcbmNvbnN0IGRlZmF1bHRQcm9qZWN0ZWRNZXNoUGFyYW1zOiBQcm9qZWN0ZWRNZXNoQmFzZVBhcmFtcyA9IHtcclxuICAvLyBmcnVzdHVtIGN1bGxpbmcgYW5kIHZpc2liaWxpdHlcclxuICBmcnVzdHVtQ3VsbGVkOiB0cnVlLFxyXG4gIERPTUZydXN0dW1NYXJnaW5zOiB7XHJcbiAgICB0b3A6IDAsXHJcbiAgICByaWdodDogMCxcclxuICAgIGJvdHRvbTogMCxcclxuICAgIGxlZnQ6IDAsXHJcbiAgfSxcclxufVxyXG5cclxuLyoqIEJhc2Ugb3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIFByb2plY3RlZE1lc2ggKi9cclxuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0ZWRNZXNoQmFzZU9wdGlvbnMgZXh0ZW5kcyBNZXNoQmFzZU9wdGlvbnMsIFBhcnRpYWw8UHJvamVjdGVkTWVzaEJhc2VQYXJhbXM+IHt9XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyBkZXNjcmliZXMgdGhlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gc2V0IHVwIGEgUHJvamVjdGVkIE1lc2ggKGkuZS4gYSBiYXNpYyB7QGxpbmsgTWVzaEJhc2VDbGFzcyB8IE1lc2h9IHdpdGgge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB0cmFuc2Zvcm1hdGlvbnMgbWF0cmljZXMgYW5kIGEge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IHRvIHVzZSBmb3IgcHJvamVjdGlvbiksIGltcGxlbWVudGVkIGluIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbn06XHJcbiAqIC0gSGFuZGxlIHRoZSBmcnVzdHVtIGN1bGxpbmcgKGNoZWNrIGlmIHRoZSB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9IGN1cnJlbnRseSBsaWVzIGluc2lkZSB0aGUge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IGZydXN0dW0pXHJcbiAqIC0gQWRkIGNhbGxiYWNrcyBmb3Igd2hlbiB0aGUgTWVzaCBlbnRlcnMgb3IgbGVhdmVzIHRoZSB7QGxpbmsgY29yZS9jYW1lcmEvQ2FtZXJhLkNhbWVyYSB8IENhbWVyYX0gZnJ1c3R1bVxyXG4gKi9cclxuZXhwb3J0IGRlY2xhcmUgY2xhc3MgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyBleHRlbmRzIE1lc2hCYXNlQ2xhc3Mge1xyXG4gIC8qKiBUaGUge0BsaW5rIENhbWVyYVJlbmRlcmVyfSB1c2VkICovXHJcbiAgcmVuZGVyZXI6IENhbWVyYVJlbmRlcmVyXHJcbiAgLyoqIFRoZSBQcm9qZWN0ZWRNZXNoIHtAbGluayBET01GcnVzdHVtfSBjbGFzcyBvYmplY3QgKi9cclxuICBkb21GcnVzdHVtOiBET01GcnVzdHVtXHJcbiAgLyoqIFdoZXRoZXIgdGhpcyBQcm9qZWN0ZWRNZXNoIHNob3VsZCBiZSBmcnVzdHVtIGN1bGxlZCAobm90IGRyYXduIHdoZW4gb3V0c2lkZSBvZiB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhIHwgY2FtZXJhfSBmcnVzdHVtKSAqL1xyXG4gIGZydXN0dW1DdWxsZWQ6IGJvb2xlYW5cclxuICAvKiogTWFyZ2lucyAoaW4gcGl4ZWxzKSB0byBhcHBsaWVkIHRvIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyNkb21GcnVzdHVtIHwgRE9NIEZydXN0dW19IHRvIGRldGVybWluZSBpZiB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIG9yIG5vdCAqL1xyXG4gIERPTUZydXN0dW1NYXJnaW5zOiBSZWN0Q29vcmRzXHJcblxyXG4gIC8vIGNhbGxiYWNrc1xyXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uUmVFbnRlclZpZXd9IGNhbGxiYWNrICovXHJcbiAgX29uUmVFbnRlclZpZXdDYWxsYmFjazogKCkgPT4gdm9pZFxyXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTGVhdmVWaWV3fSBjYWxsYmFjayAqL1xyXG4gIF9vbkxlYXZlVmlld0NhbGxiYWNrOiAoKSA9PiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSBjb25zdHJ1Y3RvclxyXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIG91ciB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9IGNsYXNzIG9iamVjdFxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gYSBET00gSFRNTCBFbGVtZW50IHRoYXQgY2FuIGJlIGJvdW5kIHRvIGEgTWVzaFxyXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFByb2plY3RlZE1lc2hQYXJhbWV0ZXJzIHwgUHJvamVjdGVkIE1lc2ggYmFzZSBwYXJhbWV0ZXJzfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciwgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsLCBwYXJhbWV0ZXJzOiBQcm9qZWN0ZWRNZXNoUGFyYW1ldGVycylcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGRlZmF1bHQgc2hhZGVycyBpZiBvbmUgb3IgYm90aCBvZiB0aGVtIGFyZSBtaXNzaW5nXHJcbiAgICovXHJcbiAgc2V0U2hhZGVycygpOiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIE92ZXJyaWRlIHtAbGluayBNZXNoQmFzZUNsYXNzfSBtZXRob2QgdG8gYWRkIHRoZSBkb21GcnVzdHVtXHJcbiAgICovXHJcbiAgY29tcHV0ZUdlb21ldHJ5KCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IGEgTWVzaCBtYXRyaWNlcyB1bmlmb3JtcyBpbnB1dHMgdGhlbiBjYWxsIHtAbGluayBNZXNoQmFzZUNsYXNzfSBzdXBlciBtZXRob2RcclxuICAgKiBAcGFyYW0gbWVzaFBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyTWF0ZXJpYWxQYXJhbXMgfCBSZW5kZXJNYXRlcmlhbCBwYXJhbWV0ZXJzfVxyXG4gICAqL1xyXG4gIHNldE1hdGVyaWFsKG1lc2hQYXJhbWV0ZXJzOiBSZW5kZXJNYXRlcmlhbFBhcmFtcyk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogUmVzaXplIG91ciBNZXNoXHJcbiAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIHRoZSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICovXHJcbiAgcmVzaXplKGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwpOiB2b2lkXHJcblxyXG4gIC8qKlxyXG4gICAqIEFwcGx5IHNjYWxlIGFuZCByZXNpemUgdGV4dHVyZXNcclxuICAgKi9cclxuICBhcHBseVNjYWxlKCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IG91ciB7QGxpbmsgRE9NRnJ1c3R1bX0gcHJvamVjdGVkIGJvdW5kaW5nIHJlY3RhbmdsZVxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBwcm9qZWN0ZWRCb3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdFxyXG5cclxuICAvKipcclxuICAgKiBBdCBsZWFzdCBvbmUgb2YgdGhlIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLCB1cGRhdGUgYWNjb3JkaW5nIHVuaWZvcm1zIGFuZCBmcnVzdHVtXHJcbiAgICovXHJcbiAgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCk6IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uUmVFbnRlclZpZXdDYWxsYmFja1xyXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSBpcyByZWVudGVyaW5nIHRoZSB2aWV3IGZydXN0dW1cclxuICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICovXHJcbiAgb25SZUVudGVyVmlldzogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzXHJcbiAgLyoqXHJcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uTGVhdmVWaWV3Q2FsbGJhY2tcclxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgbGVhdmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICogQHJldHVybnMgLSBvdXIgTWVzaFxyXG4gICAqL1xyXG4gIG9uTGVhdmVWaWV3OiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IFByb2plY3RlZE1lc2hCYXNlQ2xhc3NcclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2ggdG8gdXBkYXRlIG1hdHJpY2VzIGFuZCB7QGxpbmsgRE9NRnJ1c3R1bX0uXHJcbiAgICogRmlyc3QsIHdlIHVwZGF0ZSBvdXIgbWF0cmljZXMgdG8gaGF2ZSBmcmVzaCByZXN1bHRzLiBJdCBldmVudHVhbGx5IGNhbGxzIG9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpIGlmIGF0IGxlYXN0IG9uZSBtYXRyaXggaGFzIGJlZW4gdXBkYXRlZC5cclxuICAgKiBUaGVuIHdlIGNoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSB7QGxpbmsgRE9NRnJ1c3R1bX0gcHJvamVjdGVkIGJvdW5kaW5nIHJlY3RhbmdsZS5cclxuICAgKiBGaW5hbGx5IHdlIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3Mjb25CZWZvcmVSZW5kZXJQYXNzIHwgTWVzaCBiYXNlIG9uQmVmb3JlUmVuZGVyUGFzc30gc3VwZXJcclxuICAgKi9cclxuICBvbkJlZm9yZVJlbmRlclBhc3MoKTogdm9pZFxyXG5cclxuICAvKipcclxuICAgKiBPbmx5IHJlbmRlciB0aGUgTWVzaCBpZiBpdCBpcyBpbiB2aWV3IGZydXN0dW0uXHJcbiAgICogU2luY2UgcmVuZGVyKCkgaXMgYWN0dWFsbHkgY2FsbGVkIGJlZm9yZSBvblJlbmRlclBhc3MoKSwgd2UgYXJlIHN1cmUgdG8gaGF2ZSBmcmVzaCBmcnVzdHVtIGJvdW5kaW5nIHJlY3RhbmdsZSB2YWx1ZXMgaGVyZS5cclxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcmVuZGVyIHBhc3NcclxuICAgKi9cclxuICBvblJlbmRlclBhc3MocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpOiB2b2lkXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2VkIHRvIGFkZCB0aGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBkZWZpbmVkIGluIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSB0byB0aGUge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IGFuZCBtaXggaXQgd2l0aCBhIGdpdmVuIEJhc2Ugb2YgdHlwZSB7QGxpbmsgUHJvamVjdGVkT2JqZWN0M0R9IG9yIHtAbGluayBET01PYmplY3QzRH0uXHJcbiAqIEBleHBvcnRzXHJcbiAqIEBwYXJhbSBCYXNlIC0gdGhlIGNsYXNzIHRvIG1peCBvbnRvLCBzaG91bGQgYmUgb2Yge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSBvciB7QGxpbmsgRE9NT2JqZWN0M0R9IHR5cGVcclxuICogQHJldHVybnMgLSB0aGUgbWl4ZWQgY2xhc3NlcywgY3JlYXRpbmcgYSBQcm9qZWN0ZWQgTWVzaC5cclxuICovXHJcbmZ1bmN0aW9uIFByb2plY3RlZE1lc2hCYXNlTWl4aW48VEJhc2UgZXh0ZW5kcyBNaXhpbkNvbnN0cnVjdG9yPFByb2plY3RlZE9iamVjdDNEPj4oXHJcbiAgQmFzZTogVEJhc2VcclxuKTogTWl4aW5Db25zdHJ1Y3RvcjxQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzPiAmIFRCYXNlIHtcclxuICAvKipcclxuICAgKiBQcm9qZWN0ZWRNZXNoQmFzZSBkZWZpbmVzIG91ciBiYXNlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcclxuICAgKi9cclxuICByZXR1cm4gY2xhc3MgUHJvamVjdGVkTWVzaEJhc2UgZXh0ZW5kcyBNZXNoQmFzZU1peGluKEJhc2UpIHtcclxuICAgIC8qKiBUaGUge0BsaW5rIENhbWVyYVJlbmRlcmVyfSB1c2VkICovXHJcbiAgICByZW5kZXJlcjogQ2FtZXJhUmVuZGVyZXJcclxuICAgIC8qKiBUaGUgUHJvamVjdGVkTWVzaCB7QGxpbmsgRE9NRnJ1c3R1bX0gY2xhc3Mgb2JqZWN0ICovXHJcbiAgICBkb21GcnVzdHVtOiBET01GcnVzdHVtXHJcbiAgICAvKiogV2hldGhlciB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIChub3QgZHJhd24gd2hlbiBvdXRzaWRlIG9mIHtAbGluayBDYW1lcmFSZW5kZXJlciNjYW1lcmEgfCBjYW1lcmF9IGZydXN0dW0pICovXHJcbiAgICBmcnVzdHVtQ3VsbGVkOiBib29sZWFuXHJcbiAgICAvKiogTWFyZ2lucyAoaW4gcGl4ZWxzKSB0byBhcHBsaWVkIHRvIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzcyNkb21GcnVzdHVtIHwgRE9NIEZydXN0dW19IHRvIGRldGVybWluZSBpZiB0aGlzIFByb2plY3RlZE1lc2ggc2hvdWxkIGJlIGZydXN0dW0gY3VsbGVkIG9yIG5vdCAqL1xyXG4gICAgRE9NRnJ1c3R1bU1hcmdpbnM6IFJlY3RDb29yZHNcclxuXHJcbiAgICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfSAqL1xyXG4gICAgb3B0aW9uczogUHJvamVjdGVkTWVzaEJhc2VPcHRpb25zXHJcblxyXG4gICAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXHJcbiAgICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvblJlRW50ZXJWaWV3fSBjYWxsYmFjayAqL1xyXG4gICAgX29uUmVFbnRlclZpZXdDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcclxuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cclxuICAgIH1cclxuICAgIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTGVhdmVWaWV3fSBjYWxsYmFjayAqL1xyXG4gICAgX29uTGVhdmVWaWV3Q2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XHJcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9qZWN0ZWRNZXNoQmFzZSBjb25zdHJ1Y3RvclxyXG4gICAgICpcclxuICAgICAqIEB0eXBlZGVmIE1lc2hCYXNlQXJyYXlQYXJhbXNcclxuICAgICAqIEB0eXBlIHthcnJheX1cclxuICAgICAqIEBwcm9wZXJ0eSB7KENhbWVyYVJlbmRlcmVyfEdQVUN1cnRhaW5zKX0gMCAtIG91ciByZW5kZXJlciBjbGFzcyBvYmplY3RcclxuICAgICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xIVE1MRWxlbWVudHxudWxsKX0gMSAtIHRoZSBET00gSFRNTCBFbGVtZW50IHRoYXQgY2FuIGJlIGJvdW5kIHRvIGEgTWVzaFxyXG4gICAgICogQHByb3BlcnR5IHtQcm9qZWN0ZWRNZXNoUGFyYW1ldGVyc30gMiAtIFByb2plY3RlZCBNZXNoIHBhcmFtZXRlcnNcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge01lc2hCYXNlQXJyYXlQYXJhbXN9IHBhcmFtcyAtIG91ciBNZXNoQmFzZU1peGluIHBhcmFtZXRlcnNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoLi4ucGFyYW1zOiBhbnlbXSkge1xyXG4gICAgICBzdXBlcihcclxuICAgICAgICBwYXJhbXNbMF0gYXMgQ2FtZXJhUmVuZGVyZXIgfCBHUFVDdXJ0YWlucyxcclxuICAgICAgICBwYXJhbXNbMV0gYXMgSFRNTEVsZW1lbnQgfCBzdHJpbmcsXHJcbiAgICAgICAgeyAuLi5kZWZhdWx0UHJvamVjdGVkTWVzaFBhcmFtcywgLi4ucGFyYW1zWzJdLCAuLi57IHVzZVByb2plY3Rpb246IHRydWUgfSB9IGFzIFByb2plY3RlZE1lc2hQYXJhbWV0ZXJzXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGxldCByZW5kZXJlciA9IHBhcmFtc1swXVxyXG5cclxuICAgICAgLy8gZm9yY2UgdGhpcyBtZXNoIHRvIHVzZSBwcm9qZWN0aW9uIVxyXG4gICAgICBjb25zdCBwYXJhbWV0ZXJzID0ge1xyXG4gICAgICAgIC4uLmRlZmF1bHRQcm9qZWN0ZWRNZXNoUGFyYW1zLFxyXG4gICAgICAgIC4uLnBhcmFtc1syXSxcclxuICAgICAgICAuLi57IHVzZVByb2plY3Rpb246IHRydWUgfSxcclxuICAgICAgfSBhcyBQcm9qZWN0ZWRNZXNoUGFyYW1ldGVyc1xyXG5cclxuICAgICAgdGhpcy50eXBlID0gJ01lc2hUcmFuc2Zvcm1lZCdcclxuXHJcbiAgICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XHJcbiAgICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBDYW1lcmFSZW5kZXJlcilcclxuXHJcbiAgICAgIGlzQ2FtZXJhUmVuZGVyZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyAnICsgdGhpcy50eXBlIDogdGhpcy50eXBlKVxyXG5cclxuICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXHJcblxyXG4gICAgICBjb25zdCB7IGdlb21ldHJ5LCBmcnVzdHVtQ3VsbGVkLCBET01GcnVzdHVtTWFyZ2lucyB9ID0gcGFyYW1ldGVyc1xyXG5cclxuICAgICAgdGhpcy5vcHRpb25zID0ge1xyXG4gICAgICAgIC4uLih0aGlzLm9wdGlvbnMgPz8ge30pLCAvLyBtZXJnZSBwb3NzaWJsZSBsb3dlciBvcHRpb25zP1xyXG4gICAgICAgIGZydXN0dW1DdWxsZWQsXHJcbiAgICAgICAgRE9NRnJ1c3R1bU1hcmdpbnMsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuc2V0RE9NRnJ1c3R1bSgpXHJcblxyXG4gICAgICAvLyBleHBsaWNpdGx5IG5lZWRlZCBmb3IgRE9NIEZydXN0dW1cclxuICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5XHJcblxyXG4gICAgICAvLyB0ZWxsIHRoZSBtb2RlbCBhbmQgcHJvamVjdGlvbiBtYXRyaWNlcyB0byB1cGRhdGUgcmlnaHQgYXdheVxyXG4gICAgICB0aGlzLnNob3VsZFVwZGF0ZU1hdHJpeFN0YWNrKClcclxuICAgIH1cclxuXHJcbiAgICAvKiBTSEFERVJTICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgZGVmYXVsdCBzaGFkZXJzIGlmIG9uZSBvciBib3RoIG9mIHRoZW0gYXJlIG1pc3NpbmdcclxuICAgICAqL1xyXG4gICAgc2V0U2hhZGVycygpIHtcclxuICAgICAgbGV0IHsgc2hhZGVycyB9ID0gdGhpcy5vcHRpb25zXHJcblxyXG4gICAgICBpZiAoIXNoYWRlcnMpIHtcclxuICAgICAgICBzaGFkZXJzID0ge1xyXG4gICAgICAgICAgdmVydGV4OiB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfbm9ybWFsX2ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCFzaGFkZXJzLnZlcnRleCB8fCAhc2hhZGVycy52ZXJ0ZXguY29kZSkge1xyXG4gICAgICAgICAgc2hhZGVycy52ZXJ0ZXggPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfcHJvamVjdGVkX3ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFzaGFkZXJzLmZyYWdtZW50IHx8ICFzaGFkZXJzLmZyYWdtZW50LmNvZGUpIHtcclxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IGRlZmF1bHRfbm9ybWFsX2ZzV2dzbCxcclxuICAgICAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEdFT01FVFJZICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIE1lc2ggZnJ1c3R1bSBjdWxsaW5nXHJcbiAgICAgKi9cclxuICAgIHNldERPTUZydXN0dW0oKSB7XHJcbiAgICAgIHRoaXMuZG9tRnJ1c3R1bSA9IG5ldyBET01GcnVzdHVtKHtcclxuICAgICAgICBib3VuZGluZ0JveDogdGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JveCxcclxuICAgICAgICBtb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4OiB0aGlzLm1vZGVsVmlld1Byb2plY3Rpb25NYXRyaXgsXHJcbiAgICAgICAgY29udGFpbmVyQm91bmRpbmdSZWN0OiB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdCxcclxuICAgICAgICBET01GcnVzdHVtTWFyZ2luczogdGhpcy5vcHRpb25zLkRPTUZydXN0dW1NYXJnaW5zLFxyXG4gICAgICAgIG9uUmVFbnRlclZpZXc6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX29uUmVFbnRlclZpZXdDYWxsYmFjayAmJiB0aGlzLl9vblJlRW50ZXJWaWV3Q2FsbGJhY2soKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MZWF2ZVZpZXc6ICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX29uTGVhdmVWaWV3Q2FsbGJhY2sgJiYgdGhpcy5fb25MZWF2ZVZpZXdDYWxsYmFjaygpXHJcbiAgICAgICAgfSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuRE9NRnJ1c3R1bU1hcmdpbnMgPSB0aGlzLmRvbUZydXN0dW0uRE9NRnJ1c3R1bU1hcmdpbnNcclxuICAgICAgdGhpcy5mcnVzdHVtQ3VsbGVkID0gdGhpcy5vcHRpb25zLmZydXN0dW1DdWxsZWRcclxuICAgICAgdGhpcy5kb21GcnVzdHVtLnNob3VsZFVwZGF0ZSA9IHRoaXMuZnJ1c3R1bUN1bGxlZFxyXG4gICAgfVxyXG5cclxuICAgIC8qIE1BVEVSSUFMICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgYSBNZXNoIG1hdHJpY2VzIHVuaWZvcm1zIGlucHV0cyB0aGVuIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3N9IHN1cGVyIG1ldGhvZFxyXG4gICAgICogQHBhcmFtIG1lc2hQYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlck1hdGVyaWFsUGFyYW1zIHwgUmVuZGVyTWF0ZXJpYWwgcGFyYW1ldGVyc31cclxuICAgICAqL1xyXG4gICAgc2V0TWF0ZXJpYWwobWVzaFBhcmFtZXRlcnM6IFJlbmRlck1hdGVyaWFsUGFyYW1zKSB7XHJcbiAgICAgIC8vIGFkZCBtYXRyaWNlcyB1bmlmb3Jtc1xyXG4gICAgICBjb25zdCBtYXRyaWNlc1VuaWZvcm1zID0ge1xyXG4gICAgICAgIGxhYmVsOiAnTWF0cmljZXMnLFxyXG4gICAgICAgIHN0cnVjdDoge1xyXG4gICAgICAgICAgbW9kZWw6IHtcclxuICAgICAgICAgICAgbmFtZTogJ21vZGVsJyxcclxuICAgICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5tb2RlbE1hdHJpeCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB3b3JsZDoge1xyXG4gICAgICAgICAgICBuYW1lOiAnd29ybGQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnbWF0NHg0ZicsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLndvcmxkTWF0cml4LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1vZGVsVmlldzoge1xyXG4gICAgICAgICAgICAvLyBtb2RlbCB2aWV3IG1hdHJpeCAod29ybGQgbWF0cml4IG11bHRpcGxpZWQgYnkgY2FtZXJhIHZpZXcgbWF0cml4KVxyXG4gICAgICAgICAgICBuYW1lOiAnbW9kZWxWaWV3JyxcclxuICAgICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxyXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5tb2RlbFZpZXdNYXRyaXgsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgbW9kZWxWaWV3UHJvamVjdGlvbjoge1xyXG4gICAgICAgICAgICBuYW1lOiAnbW9kZWxWaWV3UHJvamVjdGlvbicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMubW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFtZXNoUGFyYW1ldGVycy51bmlmb3JtcykgbWVzaFBhcmFtZXRlcnMudW5pZm9ybXMgPSB7fVxyXG4gICAgICBtZXNoUGFyYW1ldGVycy51bmlmb3Jtcy5tYXRyaWNlcyA9IG1hdHJpY2VzVW5pZm9ybXNcclxuXHJcbiAgICAgIHN1cGVyLnNldE1hdGVyaWFsKG1lc2hQYXJhbWV0ZXJzKVxyXG4gICAgfVxyXG5cclxuICAgIC8qIFNJWkUgJiBUUkFOU0ZPUk1TICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXNpemUgb3VyIHtAbGluayBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzfVxyXG4gICAgICogQHBhcmFtIGJvdW5kaW5nUmVjdCAtIHRoZSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZShib3VuZGluZ1JlY3Q/OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkge1xyXG4gICAgICBpZiAodGhpcy5kb21GcnVzdHVtKSB0aGlzLmRvbUZydXN0dW0uc2V0Q29udGFpbmVyQm91bmRpbmdSZWN0KHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0KVxyXG5cclxuICAgICAgc3VwZXIucmVzaXplKGJvdW5kaW5nUmVjdClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGx5IHNjYWxlIGFuZCByZXNpemUgdGV4dHVyZXNcclxuICAgICAqL1xyXG4gICAgYXBwbHlTY2FsZSgpIHtcclxuICAgICAgc3VwZXIuYXBwbHlTY2FsZSgpXHJcblxyXG4gICAgICAvLyByZXNpemUgdGV4dHVyZXMgb24gc2NhbGUgY2hhbmdlIVxyXG4gICAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHRleHR1cmUucmVzaXplKCkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgb3VyIHtAbGluayBET01GcnVzdHVtfSBwcm9qZWN0ZWQgYm91bmRpbmcgcmVjdGFuZ2xlXHJcbiAgICAgKiBAcmVhZG9ubHlcclxuICAgICAqL1xyXG4gICAgZ2V0IHByb2plY3RlZEJvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcclxuICAgICAgcmV0dXJuIHRoaXMuZG9tRnJ1c3R1bT8ucHJvamVjdGVkQm91bmRpbmdSZWN0XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdCBsZWFzdCBvbmUgb2YgdGhlIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLCB1cGRhdGUgYWNjb3JkaW5nIHVuaWZvcm1zIGFuZCBmcnVzdHVtXHJcbiAgICAgKi9cclxuICAgIG9uQWZ0ZXJNYXRyaXhTdGFja1VwZGF0ZSgpIHtcclxuICAgICAgaWYgKHRoaXMubWF0ZXJpYWwpIHtcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLnNob3VsZFVwZGF0ZUlucHV0c0JpbmRpbmdzKCdtYXRyaWNlcycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLmRvbUZydXN0dW0pIHRoaXMuZG9tRnJ1c3R1bS5zaG91bGRVcGRhdGUgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLyogRVZFTlRTICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBc3NpZ24gYSBjYWxsYmFjayBmdW5jdGlvbiB0byBfb25SZUVudGVyVmlld0NhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgcmVlbnRlcmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICAgKi9cclxuICAgIG9uUmVFbnRlclZpZXcoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiBQcm9qZWN0ZWRNZXNoQmFzZUNsYXNzIHtcclxuICAgICAgaWYgKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5fb25SZUVudGVyVmlld0NhbGxiYWNrID0gY2FsbGJhY2tcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFzc2lnbiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIF9vbkxlYXZlVmlld0NhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4gd2hlbiB7QGxpbmsgUHJvamVjdGVkTWVzaEJhc2VDbGFzc30gaXMgbGVhdmluZyB0aGUgdmlldyBmcnVzdHVtXHJcbiAgICAgKiBAcmV0dXJucyAtIG91ciBNZXNoXHJcbiAgICAgKi9cclxuICAgIG9uTGVhdmVWaWV3KGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogUHJvamVjdGVkTWVzaEJhc2VDbGFzcyB7XHJcbiAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX29uTGVhdmVWaWV3Q2FsbGJhY2sgPSBjYWxsYmFja1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qIFJFTkRFUiAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2ggdG8gdXBkYXRlIG1hdHJpY2VzIGFuZCB7QGxpbmsgRE9NRnJ1c3R1bX0uXHJcbiAgICAgKiBGaXJzdCwgd2UgdXBkYXRlIG91ciBtYXRyaWNlcyB0byBoYXZlIGZyZXNoIHJlc3VsdHMuIEl0IGV2ZW50dWFsbHkgY2FsbHMgb25BZnRlck1hdHJpeFN0YWNrVXBkYXRlKCkgaWYgYXQgbGVhc3Qgb25lIG1hdHJpeCBoYXMgYmVlbiB1cGRhdGVkLlxyXG4gICAgICogVGhlbiB3ZSBjaGVjayBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUge0BsaW5rIERPTUZydXN0dW19IHByb2plY3RlZCBib3VuZGluZyByZWN0YW5nbGUuXHJcbiAgICAgKiBGaW5hbGx5IHdlIGNhbGwge0BsaW5rIE1lc2hCYXNlQ2xhc3Mjb25CZWZvcmVSZW5kZXJQYXNzIHwgTWVzaCBiYXNlIG9uQmVmb3JlUmVuZGVyUGFzc30gc3VwZXJcclxuICAgICAqL1xyXG4gICAgb25CZWZvcmVSZW5kZXJQYXNzKCkge1xyXG4gICAgICB0aGlzLnVwZGF0ZU1hdHJpeFN0YWNrKClcclxuXHJcbiAgICAgIGlmICh0aGlzLmRvbUZydXN0dW0gJiYgdGhpcy5kb21GcnVzdHVtLnNob3VsZFVwZGF0ZSAmJiB0aGlzLmZydXN0dW1DdWxsZWQpIHtcclxuICAgICAgICB0aGlzLmRvbUZydXN0dW0uY29tcHV0ZVByb2plY3RlZFRvRG9jdW1lbnRDb29yZHMoKVxyXG4gICAgICAgIHRoaXMuZG9tRnJ1c3R1bS5zaG91bGRVcGRhdGUgPSBmYWxzZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzdXBlci5vbkJlZm9yZVJlbmRlclBhc3MoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogT25seSByZW5kZXIgdGhlIE1lc2ggaWYgaXQgaXMgaW4gdmlldyBmcnVzdHVtLlxyXG4gICAgICogU2luY2UgcmVuZGVyKCkgaXMgYWN0dWFsbHkgY2FsbGVkIGJlZm9yZSBvblJlbmRlclBhc3MoKSwgd2UgYXJlIHN1cmUgdG8gaGF2ZSBmcmVzaCBmcnVzdHVtIGJvdW5kaW5nIHJlY3RhbmdsZSB2YWx1ZXMgaGVyZS5cclxuICAgICAqIEBwYXJhbSBwYXNzIC0gY3VycmVudCByZW5kZXIgcGFzc1xyXG4gICAgICovXHJcbiAgICBvblJlbmRlclBhc3MocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIpIHtcclxuICAgICAgaWYgKCF0aGlzLm1hdGVyaWFsLnJlYWR5KSByZXR1cm5cclxuXHJcbiAgICAgIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25SZW5kZXJDYWxsYmFjaygpXHJcblxyXG4gICAgICBpZiAoKHRoaXMuZG9tRnJ1c3R1bSAmJiB0aGlzLmRvbUZydXN0dW0uaXNJbnRlcnNlY3RpbmcpIHx8ICF0aGlzLmZydXN0dW1DdWxsZWQpIHtcclxuICAgICAgICAvLyByZW5kZXIgb3UgbWF0ZXJpYWxcclxuICAgICAgICB0aGlzLm1hdGVyaWFsLnJlbmRlcihwYXNzKVxyXG4gICAgICAgIC8vIHRoZW4gcmVuZGVyIG91ciBnZW9tZXRyeVxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVuZGVyKHBhc3MpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFByb2plY3RlZE1lc2hCYXNlTWl4aW4gfVxyXG4iLCJpbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNDYW1lcmFSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vb2JqZWN0czNEL1Byb2plY3RlZE9iamVjdDNEJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbiB9IGZyb20gJy4vbWl4aW5zL1Byb2plY3RlZE1lc2hCYXNlTWl4aW4nXG5pbXBvcnQgeyBNZXNoQmFzZVBhcmFtcyB9IGZyb20gJy4vbWl4aW5zL01lc2hCYXNlTWl4aW4nXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuXG4vKipcbiAqIENyZWF0ZSBhIDNEIE1lc2guXG4gKlxuICogQSAzRCBNZXNoIGlzIGEgYmFzaWNhbGx5IGEge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB3aXRoIGEge0BsaW5rIGNvcmUvZ2VvbWV0cmllcy9HZW9tZXRyeS5HZW9tZXRyeSB8IEdlb21ldHJ5fSBhbmQgYSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwgfCBSZW5kZXJNYXRlcmlhbH0uXG4gKlxuICogWW91IG5lZWQgdG8gcGFzcyBhdCBsZWFzdCBhIHZhbGlkIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0gYXMgcGFyYW1ldGVyLjxicj5cbiAqIElmIG5vIHNoYWRlcnMgYXJlIHByb3ZpZGVkLCBpdCB3aWxsIHVzZSB0aGUgbm9ybWFscyBjb2xvcnMgYXMgZGVmYXVsdCBzaGFkaW5nLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBtZXNoIHdpdGggYSBib3ggZ2VvbWV0cnlcbiAqIC8vIHdpbGwgdXNlIHRoZSBub3JtYWxzIGNvbG9ycyBhcyBkZWZhdWx0IHNoYWRpbmdcbiAqIGNvbnN0IG1lc2ggPSBuZXcgTWVzaChncHVDdXJ0YWlucywge1xuICogICBsYWJlbDogJ015IG1lc2gnLFxuICogICBnZW9tZXRyeTogbmV3IEJveEdlb21ldHJ5KCksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNoIGV4dGVuZHMgUHJvamVjdGVkTWVzaEJhc2VNaXhpbihQcm9qZWN0ZWRPYmplY3QzRCkge1xuICAvKipcbiAgICogTWVzaCBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBNZXNofVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBNZXNoQmFzZVBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZSB0byBjcmVhdGUgdGhpcyB7QGxpbmsgTWVzaH1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBDYW1lcmFSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzOiBNZXNoQmFzZVBhcmFtcykge1xuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIENhbWVyYVJlbmRlcmVyKVxuXG4gICAgaXNDYW1lcmFSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIE1lc2gnIDogJ01lc2gnKVxuXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHN1cGVyKHJlbmRlcmVyLCBudWxsLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gJ01lc2gnXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUGlwZWxpbmVFbnRyeU9wdGlvbnMsIFBpcGVsaW5lRW50cnlQYXJhbXMsIFBpcGVsaW5lRW50cnlTdGF0dXMgfSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMgfSBmcm9tICcuLi8uLi90eXBlcy9CaW5kR3JvdXBzJ1xuaW1wb3J0IHsgTWF0ZXJpYWxTaGFkZXJzVHlwZSB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcblxubGV0IHBpcGVsaW5lSWQgPSAwXG5cbi8qKlxuICogVXNlZCBhcyBhIGJhc2UgY2xhc3MgdG8gY3JlYXRlIGEgcGlwZWxpbmUgZW50cnkuPGJyPlxuICoge0BsaW5rIFBpcGVsaW5lRW50cnl9IHJvbGVzIGFyZTpcbiAqIC0gUGF0Y2ggdGhlIGdpdmVuIHtAbGluayBjb3JlL21hdGVyaWFscy9NYXRlcmlhbC5NYXRlcmlhbCB8IE1hdGVyaWFsfSBzaGFkZXJzIGNvZGUgYW5kIGNyZWF0ZSB0aGUgY29ycmVzcG9uZGluZyB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfS5cbiAqIC0gQ3JlYXRlIGEge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0IHwgcGlwZWxpbmUgbGF5b3V0fSB3aXRoIHRoZSBnaXZlbiB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfVxuICogLSBDcmVhdGUgYSBHUFUgcGlwZWxpbmVcbiAqL1xuZXhwb3J0IGNsYXNzIFBpcGVsaW5lRW50cnkge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBQaXBlbGluZUVudHJ5fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFBpcGVsaW5lRW50cnl9ICovXG4gIHJlbmRlcmVyOiBSZW5kZXJlclxuICAvKiogSW5kZXggb2YgdGhpcyB7QGxpbmsgUGlwZWxpbmVFbnRyeX0sIGkuZS4gY3JlYXRpb24gb3JkZXIgKi9cbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlclxuICAvKioge0BsaW5rIEdQVVBpcGVsaW5lTGF5b3V0IHwgUGlwZWxpbmUgbGF5b3V0fSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBnaXZlbiB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSAqL1xuICBsYXlvdXQ6IEdQVVBpcGVsaW5lTGF5b3V0IHwgbnVsbFxuICAvKiogVGhlIEdQVSBwaXBlbGluZSAqL1xuICBwaXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmUgfCBHUFVDb21wdXRlUGlwZWxpbmUgfCBudWxsXG4gIC8qKiBUaGUgcGlwZWxpbmUge0BsaW5rIFBpcGVsaW5lRW50cnlTdGF0dXMgfCBjb21waWxhdGlvbiBzdGF0dXN9ICovXG4gIHN0YXR1czogUGlwZWxpbmVFbnRyeVN0YXR1c1xuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fSAqL1xuICBvcHRpb25zOiBQaXBlbGluZUVudHJ5T3B0aW9uc1xuXG4gIC8qKiB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSB1c2VkIHRvIHBhdGNoIHRoZSBzaGFkZXJzIGFuZCBjcmVhdGUgdGhlIHtAbGluayBQaXBlbGluZUVudHJ5I2xheW91dCB8IHBpcGVsaW5lIGxheW91dH0gKi9cbiAgYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXVxuXG4gIC8qKlxuICAgKiBQaXBlbGluZUVudHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIHRoaXMudHlwZSA9ICdQaXBlbGluZUVudHJ5J1xuXG4gICAgbGV0IHsgcmVuZGVyZXIgfSA9IHBhcmFtZXRlcnNcbiAgICBjb25zdCB7IGxhYmVsLCBzaGFkZXJzLCB1c2VBc3luYyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdGhpcy50eXBlIDogdGhpcy50eXBlKVxuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyBhcyBQaXBlbGluZUVudHJ5LCAnaW5kZXgnLCB7IHZhbHVlOiBwaXBlbGluZUlkKysgfSlcblxuICAgIHRoaXMubGF5b3V0ID0gbnVsbFxuICAgIHRoaXMucGlwZWxpbmUgPSBudWxsXG5cbiAgICB0aGlzLnN0YXR1cyA9IHtcbiAgICAgIGNvbXBpbGluZzogZmFsc2UsXG4gICAgICBjb21waWxlZDogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBsYWJlbCxcbiAgICAgIHNoYWRlcnMsXG4gICAgICB1c2VBc3luYzogdXNlQXN5bmMgIT09IHVuZGVmaW5lZCA/IHVzZUFzeW5jIDogdHJ1ZSxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgdGhlIHtAbGluayBwaXBlbGluZX0gaXMgcmVhZHksIGkuZS4gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5zdGF0dXMuY29tcGlsaW5nICYmIHRoaXMuc3RhdHVzLmNvbXBpbGVkICYmICF0aGlzLnN0YXR1cy5lcnJvclxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIHRoZSB7QGxpbmsgcGlwZWxpbmV9IGlzIHJlYWR5IHRvIGJlIGNvbXBpbGVkLCBpLmUuIHdlIGhhdmUgbm90IGFscmVhZHkgdHJpZWQgdG8gY29tcGlsZSBpdCwgYW5kIGl0J3Mgbm90IGN1cnJlbnRseSBjb21waWxpbmcgbmVpdGhlclxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBjYW5Db21waWxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5zdGF0dXMuY29tcGlsaW5nICYmICF0aGlzLnN0YXR1cy5jb21waWxlZCAmJiAhdGhpcy5zdGF0dXMuZXJyb3JcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBwaXBlbGluZSBlbnRyeSBiaW5kIGdyb3Vwc31cbiAgICogQHBhcmFtIGJpbmRHcm91cHMgLSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvTWF0ZXJpYWwuTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgc2V0UGlwZWxpbmVFbnRyeUJpbmRHcm91cHMoYmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXSkge1xuICAgIHRoaXMuYmluZEdyb3VwcyA9IGJpbmRHcm91cHNcbiAgfVxuXG4gIC8qIFNIQURFUlMgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVVNoYWRlck1vZHVsZX1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSBQYXJhbWV0ZXJzIHVzZWRcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuY29kZSAtIHBhdGNoZWQgV0dTTCBjb2RlIHN0cmluZ1xuICAgKiBAcGFyYW0gcGFyYW1ldGVycy50eXBlIC0ge0BsaW5rIE1hdGVyaWFsU2hhZGVyc1R5cGUgfCBzaGFkZXIgdHlwZX1cbiAgICogQHJldHVybnMgLSBjb21waWxlZCB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfSBpZiBzdWNjZXNzZnVsXG4gICAqL1xuICBjcmVhdGVTaGFkZXJNb2R1bGUoeyBjb2RlID0gJycsIHR5cGUgPSAndmVydGV4JyB9OiB7IGNvZGU6IHN0cmluZzsgdHlwZTogTWF0ZXJpYWxTaGFkZXJzVHlwZSB9KTogR1BVU2hhZGVyTW9kdWxlIHtcbiAgICBjb25zdCBzaGFkZXJNb2R1bGUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJzogJyArIHR5cGUgKyAnU2hhZGVyIG1vZHVsZScsXG4gICAgICBjb2RlLFxuICAgIH0pXG5cbiAgICBpZiAoJ2dldENvbXBpbGF0aW9uSW5mbycgaW4gc2hhZGVyTW9kdWxlICYmICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24pIHtcbiAgICAgIHNoYWRlck1vZHVsZS5nZXRDb21waWxhdGlvbkluZm8oKS50aGVuKChjb21waWxhdGlvbkluZm8pID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIGNvbXBpbGF0aW9uSW5mby5tZXNzYWdlcykge1xuICAgICAgICAgIGxldCBmb3JtYXR0ZWRNZXNzYWdlID0gJydcbiAgICAgICAgICBpZiAobWVzc2FnZS5saW5lTnVtKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGBMaW5lICR7bWVzc2FnZS5saW5lTnVtfToke21lc3NhZ2UubGluZVBvc30gLSAke2NvZGUuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICBtZXNzYWdlLm9mZnNldCxcbiAgICAgICAgICAgICAgbWVzc2FnZS5vZmZzZXQgKyBtZXNzYWdlLmxlbmd0aFxuICAgICAgICAgICAgKX1cXG5gXG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm1hdHRlZE1lc3NhZ2UgKz0gbWVzc2FnZS5tZXNzYWdlXG5cbiAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgICAgICAvLyBUT0RPIG1lc2ggb25FcnJvcj9cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHt0aGlzLm9wdGlvbnMubGFiZWx9IGNvbXBpbGF0aW9uIGVycm9yOlxcbiR7Zm9ybWF0dGVkTWVzc2FnZX1gKVxuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnd2FybmluZyc6XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHt0aGlzLm9wdGlvbnMubGFiZWx9IGNvbXBpbGF0aW9uIHdhcm5pbmc6XFxuJHtmb3JtYXR0ZWRNZXNzYWdlfWApXG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdpbmZvJzpcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy5vcHRpb25zLmxhYmVsfSBjb21waWxhdGlvbiBpbmZvcm1hdGlvbjpcXG4ke2Zvcm1hdHRlZE1lc3NhZ2V9YClcbiAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlck1vZHVsZVxuICB9XG5cbiAgLyogU0VUVVAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgUGlwZWxpbmVFbnRyeX0gc2hhZGVyc1xuICAgKi9cbiAgY3JlYXRlU2hhZGVycygpIHtcbiAgICAvKiB3aWxsIGJlIG92ZXJyaWRlbiAqL1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgcGlwZWxpbmUgZW50cnkge0BsaW5rIGxheW91dH1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lTGF5b3V0KCkge1xuICAgIHRoaXMubGF5b3V0ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyBsYXlvdXQnLFxuICAgICAgYmluZEdyb3VwTGF5b3V0czogdGhpcy5iaW5kR3JvdXBzLm1hcCgoYmluZEdyb3VwKSA9PiBiaW5kR3JvdXAuYmluZEdyb3VwTGF5b3V0KSxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUge0BsaW5rIFBpcGVsaW5lRW50cnl9IGRlc2NyaXB0b3JcbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICAvKiB3aWxsIGJlIG92ZXJyaWRlbiAqL1xuICB9XG5cbiAgLyoqXG4gICAqIEZsdXNoIGEge0BsaW5rIFBpcGVsaW5lRW50cnl9LCBpLmUuIHJlc2V0IGl0cyB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSwge0BsaW5rIGxheW91dH0gYW5kIGRlc2NyaXB0b3IgYW5kIHJlY29tcGlsZSB0aGUge0BsaW5rIHBpcGVsaW5lfVxuICAgKiBVc2VkIHdoZW4gb25lIG9mIHRoZSBiaW5kIGdyb3VwIG9yIHJlbmRlcmluZyBwcm9wZXJ0eSBoYXMgY2hhbmdlZFxuICAgKiBAcGFyYW0gbmV3QmluZEdyb3VwcyAtIG5ldyB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBpbiBjYXNlIHRoZXkgaGF2ZSBjaGFuZ2VkXG4gICAqL1xuICBmbHVzaFBpcGVsaW5lRW50cnkobmV3QmluZEdyb3VwczogQWxsb3dlZEJpbmRHcm91cHNbXSA9IFtdKSB7XG4gICAgdGhpcy5zdGF0dXMuY29tcGlsaW5nID0gZmFsc2VcbiAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IGZhbHNlXG4gICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBudWxsXG5cbiAgICB0aGlzLnNldFBpcGVsaW5lRW50cnlCaW5kR3JvdXBzKG5ld0JpbmRHcm91cHMpXG4gICAgdGhpcy5jb21waWxlUGlwZWxpbmVFbnRyeSgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHVwIGEge0BsaW5rIHBpcGVsaW5lfSBieSBjcmVhdGluZyB0aGUgc2hhZGVycywgdGhlIHtAbGluayBsYXlvdXR9IGFuZCB0aGUgZGVzY3JpcHRvclxuICAgKi9cbiAgY29tcGlsZVBpcGVsaW5lRW50cnkoKSB7XG4gICAgdGhpcy5zdGF0dXMuY29tcGlsaW5nID0gdHJ1ZVxuXG4gICAgdGhpcy5jcmVhdGVTaGFkZXJzKClcbiAgICB0aGlzLmNyZWF0ZVBpcGVsaW5lTGF5b3V0KClcbiAgICB0aGlzLmNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxyXG5mbiBnZXRPdXRwdXRQb3NpdGlvbihwb3NpdGlvbjogdmVjM2YpIC0+IHZlYzRmIHtcclxuICByZXR1cm4gbWF0cmljZXMubW9kZWxWaWV3UHJvamVjdGlvbiAqIHZlYzRmKHBvc2l0aW9uLCAxLjApO1xyXG59YFxyXG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbmZuIGdldFVWQ292ZXIodXY6IHZlYzJmLCB0ZXh0dXJlTWF0cml4OiBtYXQ0eDRmKSAtPiB2ZWMyZiB7XG4gIHJldHVybiAodGV4dHVyZU1hdHJpeCAqIHZlYzRmKHV2LCAwLjAsIDEuMCkpLnh5O1xufWBcbiIsImV4cG9ydCBkZWZhdWx0IC8qIHdnc2wgKi8gYFxuZm4gZ2V0VmVydGV4MkRUb1VWQ29vcmRzKHZlcnRleDogdmVjMmYpIC0+IHZlYzJmIHtcbiAgcmV0dXJuIHZlYzIoXG4gICAgdmVydGV4LnggKiAwLjUgKyAwLjUsXG4gICAgMC41IC0gdmVydGV4LnkgKiAwLjVcbiAgKTtcbn1cblxuZm4gZ2V0VmVydGV4M0RUb1VWQ29vcmRzKHZlcnRleDogdmVjM2YpIC0+IHZlYzJmIHtcbiAgcmV0dXJuIHZlYzIoXG4gICAgdmVydGV4LnggKiAwLjUgKyAwLjUsXG4gICAgMC41IC0gdmVydGV4LnkgKiAwLjVcbiAgKTtcbn1cbmBcbiIsImltcG9ydCB7IFJlbmRlck1hdGVyaWFsU2hhZGVyc1R5cGUgfSBmcm9tICcuLi8uLi90eXBlcy9NYXRlcmlhbHMnXG5pbXBvcnQgZ2V0X291dHB1dF9wb3NpdGlvbiBmcm9tICcuL2NodW5rcy9nZXRfb3V0cHV0X3Bvc2l0aW9uLndnc2wnXG5pbXBvcnQgZ2V0X3V2X2NvdmVyIGZyb20gJy4vY2h1bmtzL2dldF91dl9jb3Zlci53Z3NsJ1xuaW1wb3J0IGdldF92ZXJ0ZXhfdG9fdXZfY29vcmRzIGZyb20gJy4vY2h1bmtzL2dldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLndnc2wnXG5cbi8qKiBEZWZpbmVzIHtAbGluayBTaGFkZXJDaHVua3N9IG9iamVjdCBzdHJ1Y3R1cmUgKi9cbmV4cG9ydCB0eXBlIFNoYWRlckNodW5rcyA9IFJlY29yZDxSZW5kZXJNYXRlcmlhbFNoYWRlcnNUeXBlLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+PlxuLyoqIERlZmluZXMge0BsaW5rIFByb2plY3RlZFNoYWRlckNodW5rc30gb2JqZWN0IHN0cnVjdHVyZSAqL1xuZXhwb3J0IHR5cGUgUHJvamVjdGVkU2hhZGVyQ2h1bmtzID0gUmVjb3JkPFJlbmRlck1hdGVyaWFsU2hhZGVyc1R5cGUsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+XG5cbi8qKlxuICogVXNlZnVsIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIHZlcnRleCBhbmQvb3IgZnJhZ21lbnQgc2hhZGVyc1xuICovXG5leHBvcnQgY29uc3QgU2hhZGVyQ2h1bmtzID0ge1xuICAvKiogV0dTTCBjb2RlIGNodW5rcyBhZGRlZCB0byB0aGUgdmVydGV4IHNoYWRlciAqL1xuICB2ZXJ0ZXg6IHtcbiAgICAvKiogQXBwbGllcyBnaXZlbiB0ZXh0dXJlIG1hdHJpeCB0byBnaXZlbiB1diBjb29yZGluYXRlcyAqL1xuICAgIGdldF91dl9jb3ZlcixcbiAgfSxcbiAgLyoqIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIGZyYWdtZW50IHNoYWRlciAqL1xuICBmcmFnbWVudDoge1xuICAgIC8qKiBBcHBsaWVzIGdpdmVuIHRleHR1cmUgbWF0cml4IHRvIGdpdmVuIHV2IGNvb3JkaW5hdGVzICovXG4gICAgZ2V0X3V2X2NvdmVyLFxuICAgIC8qKiBDb252ZXJ0IHZlcnRleCBwb3NpdGlvbiB0byB1diBjb29yZGluYXRlcyAqL1xuICAgIGdldF92ZXJ0ZXhfdG9fdXZfY29vcmRzLFxuICB9LFxufSBhcyBTaGFkZXJDaHVua3NcblxuLyoqXG4gKiBVc2VmdWwgV0dTTCBjb2RlIGNodW5rcyBhZGRlZCB0byB0aGUgcHJvamVjdGVkIE1lc2hlcyB2ZXJ0ZXggYW5kL29yIGZyYWdtZW50IHNoYWRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IFByb2plY3RlZFNoYWRlckNodW5rcyA9IHtcbiAgLyoqIFdHU0wgY29kZSBjaHVua3MgYWRkZWQgdG8gdGhlIHZlcnRleCBzaGFkZXIgKi9cbiAgdmVydGV4OiB7XG4gICAgLyoqIEdldCBvdXRwdXQgdmVjNGYgcG9zaXRpb24gdmVjdG9yIGJ5IGFwcGx5aW5nIG1vZGVsIHZpZXcgcHJvamVjdGlvbiBtYXRyaXggdG8gdmVjM2YgYXR0cmlidXRlIHBvc2l0aW9uIHZlY3RvciAqL1xuICAgIGdldF9vdXRwdXRfcG9zaXRpb24sXG4gIH0sXG4gIC8qKiBXR1NMIGNvZGUgY2h1bmtzIGFkZGVkIHRvIHRoZSBmcmFnbWVudCBzaGFkZXIgKi9cbiAgZnJhZ21lbnQ6IHt9LFxufSBhcyBQcm9qZWN0ZWRTaGFkZXJDaHVua3NcbiIsImltcG9ydCB7IFBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1BpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBQcm9qZWN0ZWRTaGFkZXJDaHVua3MsIFNoYWRlckNodW5rcyB9IGZyb20gJy4uL3NoYWRlcnMvU2hhZGVyQ2h1bmtzJ1xuaW1wb3J0IHsgQ2FtZXJhUmVuZGVyZXIsIGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHtcbiAgUGlwZWxpbmVFbnRyeVBhcmFtcyxcbiAgUGlwZWxpbmVFbnRyeVNoYWRlcnMsXG4gIFJlbmRlclBpcGVsaW5lRW50cnlPcHRpb25zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5UHJvcGVydGllc1BhcmFtc1xufSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgQWxsb3dlZEJpbmRHcm91cHMsIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IFJlbmRlck1hdGVyaWFsQXR0cmlidXRlcyB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHtAbGluayBQaXBlbGluZUVudHJ5fSBzcGVjaWZpY2FsbHkgZGVzaWduZWQgdG8gaGFuZGxlIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCB8IFJlbmRlck1hdGVyaWFsfS5cbiAqXG4gKiAjIyBTaGFkZXJzIHBhdGNoaW5nXG4gKlxuICogVGhlIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSB1c2VzIGVhY2ggb2YgaXRzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30ge0BsaW5rIGNvcmUvYmluZGluZ3MvQmluZGluZy5CaW5kaW5nIHwgQmluZGluZ30gdG8gcGF0Y2ggdGhlIGdpdmVuIGNvbXB1dGUgc2hhZGVyIGJlZm9yZSBjcmVhdGluZyB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX0uPGJyPlxuICogSXQgd2lsbCBwcmVwZW5kIGV2ZXJ5IHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IEJpbmRpbmd9IFdHU0wgY29kZSBzbmlwcGV0cyAob3IgZnJhZ21lbnRzKSB3aXRoIHRoZSBjb3JyZWN0IGJpbmQgZ3JvdXAgYW5kIGJpbmRpbmdzIGluZGljZXMuXG4gKlxuICogIyMgUGlwZWxpbmUgY29tcGlsYXRpb25cbiAqXG4gKiBUaGUge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9IHdpbGwgdGhlbiBjcmVhdGUgYSB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9IChhc3luY2hyb25vdXNseSBieSBkZWZhdWx0KS5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclBpcGVsaW5lRW50cnkgZXh0ZW5kcyBQaXBlbGluZUVudHJ5IHtcbiAgLyoqIFNoYWRlcnMgdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgc2hhZGVyczogUGlwZWxpbmVFbnRyeVNoYWRlcnNcbiAgLyoqIHtAbGluayBSZW5kZXJNYXRlcmlhbEF0dHJpYnV0ZXMgfCBHZW9tZXRyeSBhdHRyaWJ1dGVzfSBzZW50IHRvIHRoZSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgYXR0cmlidXRlczogUmVuZGVyTWF0ZXJpYWxBdHRyaWJ1dGVzXG4gIC8qKiB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yIHwgUmVuZGVyIHBpcGVsaW5lIGRlc2NyaXB0b3J9IGJhc2VkIG9uIHtAbGluayBsYXlvdXR9IGFuZCB7QGxpbmsgc2hhZGVyc30gKi9cbiAgZGVzY3JpcHRvcjogR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yIHwgbnVsbFxuICAvKiogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSAqL1xuICBvcHRpb25zOiBSZW5kZXJQaXBlbGluZUVudHJ5T3B0aW9uc1xuXG4gIC8qKlxuICAgKiBSZW5kZXJQaXBlbGluZUVudHJ5IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnlQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fVxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyYW1ldGVyczogUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIGxldCB7IHJlbmRlcmVyIH0gPSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgeyBsYWJlbCwgLi4ucmVuZGVyaW5nT3B0aW9ucyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBjb25zdCB0eXBlID0gJ1JlbmRlclBpcGVsaW5lRW50cnknXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdHlwZSA6IHR5cGUpXG5cbiAgICBzdXBlcihwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgdGhpcy5zaGFkZXJzID0ge1xuICAgICAgdmVydGV4OiB7XG4gICAgICAgIGhlYWQ6ICcnLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgbW9kdWxlOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGZyYWdtZW50OiB7XG4gICAgICAgIGhlYWQ6ICcnLFxuICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgbW9kdWxlOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGZ1bGw6IHtcbiAgICAgICAgaGVhZDogJycsXG4gICAgICAgIGNvZGU6ICcnLFxuICAgICAgICBtb2R1bGU6IG51bGwsXG4gICAgICB9LFxuICAgIH1cblxuICAgIHRoaXMuZGVzY3JpcHRvciA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIC4uLnJlbmRlcmluZ09wdGlvbnMsXG4gICAgfSBhcyBSZW5kZXJQaXBlbGluZUVudHJ5T3B0aW9uc1xuICB9XG5cbiAgLy8gVE9ETyEgbmVlZCB0byBjaG9zZSB3aGV0aGVyIHdlIHNob3VsZCBzaWxlbnRseSBhZGQgdGhlIGNhbWVyYSBiaW5kIGdyb3VwIGhlcmVcbiAgLy8gb3IgZXhwbGljaXRseSBpbiB0aGUgUmVuZGVyTWF0ZXJpYWwgY2xhc3MgY3JlYXRlQmluZEdyb3VwcygpIG1ldGhvZFxuICAvKipcbiAgICogTWVyZ2Ugb3VyIHtAbGluayBiaW5kR3JvdXBzIHwgcGlwZWxpbmUgZW50cnkgYmluZCBncm91cHN9IHdpdGggdGhlIHtAbGluayBDYW1lcmFSZW5kZXJlciNjYW1lcmFCaW5kR3JvdXAgfCBjYW1lcmEgYmluZCBncm91cH0gaWYgbmVlZGVkIGFuZCBzZXQgdGhlbVxuICAgKiBAcGFyYW0gYmluZEdyb3VwcyAtIHtAbGluayBjb3JlL21hdGVyaWFscy9SZW5kZXJNYXRlcmlhbC5SZW5kZXJNYXRlcmlhbCNiaW5kR3JvdXBzIHwgYmluZCBncm91cHN9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIFJlbmRlclBpcGVsaW5lRW50cnl9XG4gICAqL1xuICBzZXRQaXBlbGluZUVudHJ5QmluZEdyb3VwcyhiaW5kR3JvdXBzOiBBbGxvd2VkQmluZEdyb3Vwc1tdKSB7XG4gICAgdGhpcy5iaW5kR3JvdXBzID1cbiAgICAgICdjYW1lcmFCaW5kR3JvdXAnIGluIHRoaXMucmVuZGVyZXIgJiYgdGhpcy5vcHRpb25zLnVzZVByb2plY3Rpb25cbiAgICAgICAgPyBbdGhpcy5yZW5kZXJlci5jYW1lcmFCaW5kR3JvdXAsIC4uLmJpbmRHcm91cHNdXG4gICAgICAgIDogYmluZEdyb3Vwc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gcHJvcGVydGllcyAoaW4gdGhpcyBjYXNlIHRoZSB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBhbmQge0BsaW5rIGF0dHJpYnV0ZXN9KVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHRoZSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvUmVuZGVyTWF0ZXJpYWwuUmVuZGVyTWF0ZXJpYWwjYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSBhbmQge0BsaW5rIGNvcmUvbWF0ZXJpYWxzL1JlbmRlck1hdGVyaWFsLlJlbmRlck1hdGVyaWFsI2F0dHJpYnV0ZXMgfCBhdHRyaWJ1dGVzfSB0byB1c2VcbiAgICovXG4gIHNldFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzKHBhcmFtZXRlcnM6IFJlbmRlclBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzUGFyYW1zKSB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBiaW5kR3JvdXBzIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzXG5cbiAgICB0aGlzLnNldFBpcGVsaW5lRW50cnlCaW5kR3JvdXBzKGJpbmRHcm91cHMpXG4gIH1cblxuICAvKiBTSEFERVJTICovXG5cbiAgLyoqXG4gICAqIFBhdGNoIHRoZSBzaGFkZXJzIGJ5IGFwcGVuZGluZyBhbGwgdGhlIG5lY2Vzc2FyeSBzaGFkZXIgY2h1bmtzLCB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSkgYW5kIHtAbGluayBhdHRyaWJ1dGVzfSBXR1NMIGNvZGUgZnJhZ21lbnRzIHRvIHRoZSBnaXZlbiB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyNzaGFkZXJzIHwgcGFyYW1ldGVyIHNoYWRlciBjb2RlfVxuICAgKi9cbiAgcGF0Y2hTaGFkZXJzKCkge1xuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCA9ICcnXG4gICAgdGhpcy5zaGFkZXJzLnZlcnRleC5jb2RlID0gJydcbiAgICB0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZCA9ICcnXG4gICAgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmNvZGUgPSAnJ1xuICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSAnJ1xuICAgIHRoaXMuc2hhZGVycy5mdWxsLmNvZGUgPSAnJ1xuXG4gICAgLy8gZmlyc3QgYWRkIGNodW5rc1xuICAgIGZvciAoY29uc3QgY2h1bmsgaW4gU2hhZGVyQ2h1bmtzLnZlcnRleCkge1xuICAgICAgdGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkID0gYCR7U2hhZGVyQ2h1bmtzLnZlcnRleFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9YFxuICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke1NoYWRlckNodW5rcy52ZXJ0ZXhbY2h1bmtdfVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBjaHVuayBpbiBTaGFkZXJDaHVua3MuZnJhZ21lbnQpIHtcbiAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkID0gYCR7U2hhZGVyQ2h1bmtzLmZyYWdtZW50W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkfWBcblxuICAgICAgaWYgKHRoaXMuc2hhZGVycy5mdWxsLmhlYWQuaW5kZXhPZihTaGFkZXJDaHVua3MuZnJhZ21lbnRbY2h1bmtdKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke1NoYWRlckNodW5rcy5mcmFnbWVudFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMuZnVsbC5oZWFkfWBcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnVzZVByb2plY3Rpb24pIHtcbiAgICAgIGZvciAoY29uc3QgY2h1bmsgaW4gUHJvamVjdGVkU2hhZGVyQ2h1bmtzLnZlcnRleCkge1xuICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgPSBgJHtQcm9qZWN0ZWRTaGFkZXJDaHVua3MudmVydGV4W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZH1gXG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgJHtQcm9qZWN0ZWRTaGFkZXJDaHVua3MudmVydGV4W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9YFxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGNodW5rIGluIFByb2plY3RlZFNoYWRlckNodW5rcy5mcmFnbWVudCkge1xuICAgICAgICB0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZCA9IGAke1Byb2plY3RlZFNoYWRlckNodW5rcy5mcmFnbWVudFtjaHVua119XFxuJHt0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZH1gXG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVycy5mdWxsLmhlYWQuaW5kZXhPZihQcm9qZWN0ZWRTaGFkZXJDaHVua3MuZnJhZ21lbnRbY2h1bmtdKSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkID0gYCR7UHJvamVjdGVkU2hhZGVyQ2h1bmtzLmZyYWdtZW50W2NodW5rXX1cXG4ke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9YFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBzQmluZGluZ3MgPSBbXVxuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IHtcbiAgICAgIGxldCBiaW5kSW5kZXggPSAwXG4gICAgICBiaW5kR3JvdXAuYmluZGluZ3MuZm9yRWFjaCgoYmluZGluZywgYmluZGluZ0luZGV4KSA9PiB7XG4gICAgICAgIGJpbmRpbmcud2dzbEdyb3VwRnJhZ21lbnQuZm9yRWFjaCgoZ3JvdXBGcmFnbWVudCwgZ3JvdXBGcmFnbWVudEluZGV4KSA9PiB7XG4gICAgICAgICAgZ3JvdXBzQmluZGluZ3MucHVzaCh7XG4gICAgICAgICAgICBncm91cEluZGV4OiBiaW5kR3JvdXAuaW5kZXgsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBiaW5kaW5nLnZpc2liaWxpdHksXG4gICAgICAgICAgICBiaW5kSW5kZXgsXG4gICAgICAgICAgICB3Z3NsU3RydWN0RnJhZ21lbnQ6IChiaW5kaW5nIGFzIEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50KS53Z3NsU3RydWN0RnJhZ21lbnQsXG4gICAgICAgICAgICB3Z3NsR3JvdXBGcmFnbWVudDogZ3JvdXBGcmFnbWVudCxcbiAgICAgICAgICAgIG5ld0xpbmU6XG4gICAgICAgICAgICAgIGJpbmRpbmdJbmRleCA9PT0gYmluZEdyb3VwLmJpbmRpbmdzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICAgZ3JvdXBGcmFnbWVudEluZGV4ID09PSBiaW5kaW5nLndnc2xHcm91cEZyYWdtZW50Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGJpbmRJbmRleCsrXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICBncm91cHNCaW5kaW5ncy5mb3JFYWNoKChncm91cEJpbmRpbmcpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLnZpc2liaWxpdHkgPT09IEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8fFxuICAgICAgICBncm91cEJpbmRpbmcudmlzaWJpbGl0eSA9PT0gKEdQVVNoYWRlclN0YWdlLlZFUlRFWCB8IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHwgR1BVU2hhZGVyU3RhZ2UuQ09NUFVURSlcbiAgICAgICkge1xuICAgICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdHNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGdyb3VwQmluZGluZy53Z3NsU3RydWN0RnJhZ21lbnQgJiZcbiAgICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQuaW5kZXhPZihncm91cEJpbmRpbmcud2dzbFN0cnVjdEZyYWdtZW50KSA9PT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkID0gYFxcbiR7Z3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudH1cXG4ke3RoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZH1gXG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdCB2YXIgYXMgd2VsbFxuICAgICAgICBpZiAodGhpcy5zaGFkZXJzLnZlcnRleC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgPSBgJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG5cbiAgICAgICAgICBpZiAoZ3JvdXBCaW5kaW5nLm5ld0xpbmUpIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCArPSBgXFxuYFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLnZpc2liaWxpdHkgPT09IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5UIHx8XG4gICAgICAgIGdyb3VwQmluZGluZy52aXNpYmlsaXR5ID09PSAoR1BVU2hhZGVyU3RhZ2UuVkVSVEVYIHwgR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQgfCBHUFVTaGFkZXJTdGFnZS5DT01QVVRFKVxuICAgICAgKSB7XG4gICAgICAgIC8vIGRvIG5vdCBkdXBsaWNhdGUgc3RydWN0c1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJlxuICAgICAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkID0gYFxcbiR7Z3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudH1cXG4ke3RoaXMuc2hhZGVycy5mcmFnbWVudC5oZWFkfWBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIG5vdCBkdXBsaWNhdGUgc3RydWN0IHZhciBhcyB3ZWxsXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZC5pbmRleE9mKGdyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgPSBgJHt0aGlzLnNoYWRlcnMuZnJhZ21lbnQuaGVhZH1cXG5AZ3JvdXAoJHtncm91cEJpbmRpbmcuZ3JvdXBJbmRleH0pIEBiaW5kaW5nKCR7Z3JvdXBCaW5kaW5nLmJpbmRJbmRleH0pICR7Z3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50fWBcblxuICAgICAgICAgIGlmIChncm91cEJpbmRpbmcubmV3TGluZSkgdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgKz0gYFxcbmBcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJiB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xKSB7XG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgXFxuJHtncm91cEJpbmRpbmcud2dzbFN0cnVjdEZyYWdtZW50fVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNoYWRlcnMuZnVsbC5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuaGVhZCA9IGAke3RoaXMuc2hhZGVycy5mdWxsLmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG5cbiAgICAgICAgaWYgKGdyb3VwQmluZGluZy5uZXdMaW5lKSB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkICs9IGBcXG5gXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIGFkZCBhdHRyaWJ1dGVzIHRvIHZlcnRleCBzaGFkZXIgb25seVxuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXguaGVhZCA9IGAke3RoaXMuYXR0cmlidXRlcy53Z3NsU3RydWN0RnJhZ21lbnR9XFxuJHt0aGlzLnNoYWRlcnMudmVydGV4LmhlYWR9YFxuICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgPSBgJHt0aGlzLmF0dHJpYnV0ZXMud2dzbFN0cnVjdEZyYWdtZW50fVxcbiR7dGhpcy5zaGFkZXJzLmZ1bGwuaGVhZH1gXG5cbiAgICB0aGlzLnNoYWRlcnMudmVydGV4LmNvZGUgPSB0aGlzLnNoYWRlcnMudmVydGV4LmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZVxuICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5jb2RlID0gdGhpcy5zaGFkZXJzLmZyYWdtZW50LmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy5mcmFnbWVudC5jb2RlXG5cbiAgICAvLyBjaGVjayBpZiBpdHMgb25lIHNoYWRlciBzdHJpbmcgd2l0aCBkaWZmZXJlbnQgZW50cnkgcG9pbnRzXG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgIT09IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZSkgPT09IDBcbiAgICApIHtcbiAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmNvZGUgPSB0aGlzLnNoYWRlcnMuZnVsbC5oZWFkICsgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmNvZGVcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaGFkZXJzLmZ1bGwuY29kZSA9XG4gICAgICAgIHRoaXMuc2hhZGVycy5mdWxsLmhlYWQgKyB0aGlzLm9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguY29kZSArIHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmNvZGVcbiAgICB9XG4gIH1cblxuICAvKiBTRVRVUCAqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHtAbGluayBzaGFkZXJzfTogcGF0Y2ggdGhlbSBhbmQgY3JlYXRlIHRoZSB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfVxuICAgKi9cbiAgY3JlYXRlU2hhZGVycygpIHtcbiAgICB0aGlzLnBhdGNoU2hhZGVycygpXG5cbiAgICBjb25zdCBpc1NhbWVTaGFkZXIgPVxuICAgICAgdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgIT09IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgIHRoaXMub3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUodGhpcy5vcHRpb25zLnNoYWRlcnMuZnJhZ21lbnQuY29kZSkgPT09IDBcblxuICAgIHRoaXMuc2hhZGVycy52ZXJ0ZXgubW9kdWxlID0gdGhpcy5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgY29kZTogdGhpcy5zaGFkZXJzW2lzU2FtZVNoYWRlciA/ICdmdWxsJyA6ICd2ZXJ0ZXgnXS5jb2RlLFxuICAgICAgdHlwZTogJ3ZlcnRleCcsXG4gICAgfSlcblxuICAgIHRoaXMuc2hhZGVycy5mcmFnbWVudC5tb2R1bGUgPSB0aGlzLmNyZWF0ZVNoYWRlck1vZHVsZSh7XG4gICAgICBjb2RlOiB0aGlzLnNoYWRlcnNbaXNTYW1lU2hhZGVyID8gJ2Z1bGwnIDogJ2ZyYWdtZW50J10uY29kZSxcbiAgICAgIHR5cGU6ICdmcmFnbWVudCcsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlIHJlbmRlciBwaXBlbGluZSB7QGxpbmsgZGVzY3JpcHRvcn1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZGVycy52ZXJ0ZXgubW9kdWxlIHx8ICF0aGlzLnNoYWRlcnMuZnJhZ21lbnQubW9kdWxlKSByZXR1cm5cblxuICAgIGxldCB2ZXJ0ZXhMb2NhdGlvbkluZGV4ID0gLTFcblxuICAgIC8vIHdlIHdpbGwgYXNzdW1lIG91ciByZW5kZXJlciBhbHBoYU1vZGUgaXMgc2V0IHRvICdwcmVtdWx0aXBsaWVkJ1xuICAgIC8vIHdlIGVpdGhlciBkaXNhYmxlIGJsZW5kaW5nIGlmIG1lc2ggaWYgb3BhcXVlXG4gICAgLy8gdXNlIGEgY3VzdG9tIGJsZW5kaW5nIGlmIHNldFxuICAgIC8vIG9yIHVzZSB0aGlzIGJsZW5kIGVxdWF0aW9uIGlmIG1lc2ggaXMgdHJhbnNwYXJlbnQgKHNlZSBodHRwczovL2xpbW51LmNvbS93ZWJnbC1ibGVuZGluZy15b3VyZS1wcm9iYWJseS13cm9uZy8pXG4gICAgY29uc3QgYmxlbmQgPVxuICAgICAgdGhpcy5vcHRpb25zLmJsZW5kID8/XG4gICAgICAodGhpcy5vcHRpb25zLnRyYW5zcGFyZW50ICYmIHtcbiAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICBzcmNGYWN0b3I6ICdzcmMtYWxwaGEnLFxuICAgICAgICAgIGRzdEZhY3RvcjogJ29uZS1taW51cy1zcmMtYWxwaGEnLFxuICAgICAgICB9LFxuICAgICAgICBhbHBoYToge1xuICAgICAgICAgIHNyY0ZhY3RvcjogJ29uZScsXG4gICAgICAgICAgZHN0RmFjdG9yOiAnb25lLW1pbnVzLXNyYy1hbHBoYScsXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgdGhpcy5kZXNjcmlwdG9yID0ge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCxcbiAgICAgIGxheW91dDogdGhpcy5sYXlvdXQsXG4gICAgICB2ZXJ0ZXg6IHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSxcbiAgICAgICAgZW50cnlQb2ludDogdGhpcy5vcHRpb25zLnNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQsXG4gICAgICAgIGJ1ZmZlcnM6IHRoaXMuYXR0cmlidXRlcy52ZXJ0ZXhCdWZmZXJzLm1hcCgodmVydGV4QnVmZmVyKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZXBNb2RlOiB2ZXJ0ZXhCdWZmZXIuc3RlcE1vZGUsXG4gICAgICAgICAgICBhcnJheVN0cmlkZTogdmVydGV4QnVmZmVyLmFycmF5U3RyaWRlICogNCwgLy8gNCBieXRlcyBlYWNoXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB2ZXJ0ZXhCdWZmZXIuYXR0cmlidXRlcy5tYXAoKGF0dHJpYnV0ZSkgPT4ge1xuICAgICAgICAgICAgICB2ZXJ0ZXhMb2NhdGlvbkluZGV4KytcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogdmVydGV4TG9jYXRpb25JbmRleCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGF0dHJpYnV0ZS5idWZmZXJPZmZzZXQsIC8vIHByZXZpb3VzIGF0dHJpYnV0ZSBzaXplICogNFxuICAgICAgICAgICAgICAgIGZvcm1hdDogYXR0cmlidXRlLmJ1ZmZlckZvcm1hdCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBtb2R1bGU6IHRoaXMuc2hhZGVycy5mcmFnbWVudC5tb2R1bGUsXG4gICAgICAgIGVudHJ5UG9pbnQ6IHRoaXMub3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQsXG4gICAgICAgIHRhcmdldHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgICAgICAgIC4uLihibGVuZCAmJiB7XG4gICAgICAgICAgICAgIGJsZW5kLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBwcmltaXRpdmU6IHtcbiAgICAgICAgdG9wb2xvZ3k6IHRoaXMub3B0aW9ucy50b3BvbG9neSxcbiAgICAgICAgZnJvbnRGYWNlOiB0aGlzLm9wdGlvbnMudmVydGljZXNPcmRlcixcbiAgICAgICAgY3VsbE1vZGU6IHRoaXMub3B0aW9ucy5jdWxsTW9kZSxcbiAgICAgIH0sXG4gICAgICAuLi4odGhpcy5vcHRpb25zLmRlcHRoICYmIHtcbiAgICAgICAgZGVwdGhTdGVuY2lsOiB7XG4gICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRoaXMub3B0aW9ucy5kZXB0aFdyaXRlRW5hYmxlZCxcbiAgICAgICAgICBkZXB0aENvbXBhcmU6IHRoaXMub3B0aW9ucy5kZXB0aENvbXBhcmUsXG4gICAgICAgICAgZm9ybWF0OiAnZGVwdGgyNHBsdXMnLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgICAuLi4odGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSAmJiB7XG4gICAgICAgIG11bHRpc2FtcGxlOiB7XG4gICAgICAgICAgY291bnQ6IHRoaXMub3B0aW9ucy5zYW1wbGVDb3VudCxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH0gYXMgR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSByZW5kZXIge0BsaW5rIHBpcGVsaW5lfVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyUGlwZWxpbmUoKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSB8fCAhdGhpcy5zaGFkZXJzLmZyYWdtZW50Lm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5waXBlbGluZSA9IHRoaXMucmVuZGVyZXIuY3JlYXRlUmVuZGVyUGlwZWxpbmUodGhpcy5kZXNjcmlwdG9yKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IGVycm9yXG4gICAgICB0aHJvd0Vycm9yKGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBjcmVhdGUgdGhlIHJlbmRlciB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHZvaWQgcHJvbWlzZSByZXN1bHRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVJlbmRlclBpcGVsaW5lQXN5bmMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMudmVydGV4Lm1vZHVsZSB8fCAhdGhpcy5zaGFkZXJzLmZyYWdtZW50Lm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5waXBlbGluZSA9IGF3YWl0IHRoaXMucmVuZGVyZXIuY3JlYXRlUmVuZGVyUGlwZWxpbmVBc3luYyh0aGlzLmRlc2NyaXB0b3IpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBlcnJvclxuICAgICAgdGhyb3dFcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB7QGxpbmsgUGlwZWxpbmVFbnRyeSNjb21waWxlUGlwZWxpbmVFbnRyeSB8IFBpcGVsaW5lRW50cnkgY29tcGlsZVBpcGVsaW5lRW50cnl9IG1ldGhvZCwgdGhlbiBjcmVhdGUgb3VyIHJlbmRlciB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgY29tcGlsZVBpcGVsaW5lRW50cnkoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgc3VwZXIuY29tcGlsZVBpcGVsaW5lRW50cnkoKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy51c2VBc3luYykge1xuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVSZW5kZXJQaXBlbGluZUFzeW5jKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jcmVhdGVSZW5kZXJQaXBlbGluZSgpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1BpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IFBpcGVsaW5lRW50cnlQYXJhbXMsIFBpcGVsaW5lRW50cnlQcm9wZXJ0aWVzUGFyYW1zLCBQaXBlbGluZUVudHJ5U2hhZGVycyB9IGZyb20gJy4uLy4uL3R5cGVzL1BpcGVsaW5lRW50cmllcydcbmltcG9ydCB7IEJpbmRHcm91cEJ1ZmZlckJpbmRpbmdFbGVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgUGlwZWxpbmVFbnRyeX0gc3BlY2lmaWNhbGx5IGRlc2lnbmVkIHRvIGhhbmRsZSB7QGxpbmsgY29yZS9tYXRlcmlhbHMvQ29tcHV0ZU1hdGVyaWFsLkNvbXB1dGVNYXRlcmlhbCB8IENvbXB1dGVNYXRlcmlhbH0uXG4gKlxuICogIyMgU2hhZGVycyBwYXRjaGluZ1xuICpcbiAqIFRoZSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IHVzZXMgZWFjaCBvZiBpdHMge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5I2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30ge0BsaW5rIGNvcmUvYmluZGluZ3MvQmluZGluZy5CaW5kaW5nIHwgQmluZGluZ30gdG8gcGF0Y2ggdGhlIGdpdmVuIGNvbXB1dGUgc2hhZGVyIGJlZm9yZSBjcmVhdGluZyB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX0uPGJyPlxuICogSXQgd2lsbCBwcmVwZW5kIGV2ZXJ5IHtAbGluayBjb3JlL2JpbmRpbmdzL0JpbmRpbmcuQmluZGluZyB8IEJpbmRpbmd9IFdHU0wgY29kZSBzbmlwcGV0cyAob3IgZnJhZ21lbnRzKSB3aXRoIHRoZSBjb3JyZWN0IGJpbmQgZ3JvdXAgYW5kIGJpbmRpbmdzIGluZGljZXMuXG4gKlxuICogIyMgUGlwZWxpbmUgY29tcGlsYXRpb25cbiAqXG4gKiBUaGUge0BsaW5rIENvbXB1dGVQaXBlbGluZUVudHJ5fSB3aWxsIHRoZW4gY3JlYXRlIGEge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX0gKGFzeW5jaHJvbm91c2x5IGJ5IGRlZmF1bHQpLlxuICovXG5leHBvcnQgY2xhc3MgQ29tcHV0ZVBpcGVsaW5lRW50cnkgZXh0ZW5kcyBQaXBlbGluZUVudHJ5IHtcbiAgLyoqIFNoYWRlcnMgdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9ICovXG4gIHNoYWRlcnM6IFBpcGVsaW5lRW50cnlTaGFkZXJzXG4gIC8qKiB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lRGVzY3JpcHRvciB8IENvbXB1dGUgcGlwZWxpbmUgZGVzY3JpcHRvcn0gYmFzZWQgb24ge0BsaW5rIGxheW91dH0gYW5kIHtAbGluayBzaGFkZXJzfSAqL1xuICBkZXNjcmlwdG9yOiBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yIHwgbnVsbFxuXG4gIC8qKlxuICAgKiBDb21wdXRlUGlwZWxpbmVFbnRyeSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBQaXBlbGluZUVudHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UGFyYW1zKSB7XG4gICAgbGV0IHsgcmVuZGVyZXIgfSA9IHBhcmFtZXRlcnNcbiAgICBjb25zdCB7IGxhYmVsIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGNvbnN0IHR5cGUgPSAnQ29tcHV0ZVBpcGVsaW5lRW50cnknXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBsYWJlbCA/IGxhYmVsICsgJyAnICsgdHlwZSA6IHR5cGUpXG5cbiAgICBzdXBlcihwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gdHlwZVxuXG4gICAgdGhpcy5zaGFkZXJzID0ge1xuICAgICAgY29tcHV0ZToge1xuICAgICAgICBoZWFkOiAnJyxcbiAgICAgICAgY29kZTogJycsXG4gICAgICAgIG1vZHVsZTogbnVsbCxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgdGhpcy5kZXNjcmlwdG9yID0gbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IHByb3BlcnRpZXMgKGluIHRoaXMgY2FzZSB0aGUge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30pXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gdGhlIHtAbGluayBjb3JlL21hdGVyaWFscy9Db21wdXRlTWF0ZXJpYWwuQ29tcHV0ZU1hdGVyaWFsI2JpbmRHcm91cHMgfCBiaW5kIGdyb3Vwc30gdG8gdXNlXG4gICAqL1xuICBzZXRQaXBlbGluZUVudHJ5UHJvcGVydGllcyhwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UHJvcGVydGllc1BhcmFtcykge1xuICAgIGNvbnN0IHsgYmluZEdyb3VwcyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5zZXRQaXBlbGluZUVudHJ5QmluZEdyb3VwcyhiaW5kR3JvdXBzKVxuICB9XG5cbiAgLyogU0hBREVSUyAqL1xuXG4gIC8qKlxuICAgKiBQYXRjaCB0aGUgc2hhZGVycyBieSBhcHBlbmRpbmcgYWxsIHRoZSB7QGxpbmsgYmluZEdyb3VwcyB8IGJpbmQgZ3JvdXBzfSkgV0dTTCBjb2RlIGZyYWdtZW50cyB0byB0aGUgZ2l2ZW4ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMjc2hhZGVycyB8IHBhcmFtZXRlciBzaGFkZXIgY29kZX1cbiAgICovXG4gIHBhdGNoU2hhZGVycygpIHtcbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkID0gJydcbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5jb2RlID0gJydcblxuICAgIGNvbnN0IGdyb3Vwc0JpbmRpbmdzID0gW11cbiAgICB0aGlzLmJpbmRHcm91cHMuZm9yRWFjaCgoYmluZEdyb3VwKSA9PiB7XG4gICAgICBsZXQgYmluZEluZGV4ID0gMFxuICAgICAgYmluZEdyb3VwLmJpbmRpbmdzLmZvckVhY2goKGJpbmRpbmcsIGJpbmRpbmdJbmRleCkgPT4ge1xuICAgICAgICBiaW5kaW5nLndnc2xHcm91cEZyYWdtZW50LmZvckVhY2goKGdyb3VwRnJhZ21lbnQsIGdyb3VwRnJhZ21lbnRJbmRleCkgPT4ge1xuICAgICAgICAgIGdyb3Vwc0JpbmRpbmdzLnB1c2goe1xuICAgICAgICAgICAgZ3JvdXBJbmRleDogYmluZEdyb3VwLmluZGV4LFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogYmluZGluZy52aXNpYmlsaXR5LFxuICAgICAgICAgICAgYmluZEluZGV4LFxuICAgICAgICAgICAgd2dzbFN0cnVjdEZyYWdtZW50OiAoYmluZGluZyBhcyBCaW5kR3JvdXBCdWZmZXJCaW5kaW5nRWxlbWVudCkud2dzbFN0cnVjdEZyYWdtZW50LFxuICAgICAgICAgICAgd2dzbEdyb3VwRnJhZ21lbnQ6IGdyb3VwRnJhZ21lbnQsXG4gICAgICAgICAgICBuZXdMaW5lOlxuICAgICAgICAgICAgICBiaW5kaW5nSW5kZXggPT09IGJpbmRHcm91cC5iaW5kaW5ncy5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgIGdyb3VwRnJhZ21lbnRJbmRleCA9PT0gYmluZGluZy53Z3NsR3JvdXBGcmFnbWVudC5sZW5ndGggLSAxLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBiaW5kSW5kZXgrK1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgZ3JvdXBzQmluZGluZ3MuZm9yRWFjaCgoZ3JvdXBCaW5kaW5nKSA9PiB7XG4gICAgICAvLyBkbyBub3QgZHVwbGljYXRlIHN0cnVjdHNcbiAgICAgIGlmIChcbiAgICAgICAgZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCAmJlxuICAgICAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xTdHJ1Y3RGcmFnbWVudCkgPT09IC0xXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCA9IGBcXG4ke2dyb3VwQmluZGluZy53Z3NsU3RydWN0RnJhZ21lbnR9XFxuJHt0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkfWBcbiAgICAgIH1cblxuICAgICAgLy8gZG8gbm90IGR1cGxpY2F0ZSBzdHJ1Y3QgdmFyIGFzIHdlbGxcbiAgICAgIGlmICh0aGlzLnNoYWRlcnMuY29tcHV0ZS5oZWFkLmluZGV4T2YoZ3JvdXBCaW5kaW5nLndnc2xHcm91cEZyYWdtZW50KSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCA9IGAke3RoaXMuc2hhZGVycy5jb21wdXRlLmhlYWR9XFxuQGdyb3VwKCR7Z3JvdXBCaW5kaW5nLmdyb3VwSW5kZXh9KSBAYmluZGluZygke2dyb3VwQmluZGluZy5iaW5kSW5kZXh9KSAke2dyb3VwQmluZGluZy53Z3NsR3JvdXBGcmFnbWVudH1gXG4gICAgICB9XG5cbiAgICAgIGlmIChncm91cEJpbmRpbmcubmV3TGluZSkgdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCArPSBgXFxuYFxuICAgIH0pXG5cbiAgICB0aGlzLnNoYWRlcnMuY29tcHV0ZS5jb2RlID0gdGhpcy5zaGFkZXJzLmNvbXB1dGUuaGVhZCArIHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUuY29kZVxuICB9XG5cbiAgLyogU0VUVVAgKi9cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgc2hhZGVyc306IHBhdGNoIHRoZW0gYW5kIGNyZWF0ZSB0aGUge0BsaW5rIEdQVVNoYWRlck1vZHVsZX1cbiAgICovXG4gIGNyZWF0ZVNoYWRlcnMoKSB7XG4gICAgdGhpcy5wYXRjaFNoYWRlcnMoKVxuXG4gICAgdGhpcy5zaGFkZXJzLmNvbXB1dGUubW9kdWxlID0gdGhpcy5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgY29kZTogdGhpcy5zaGFkZXJzLmNvbXB1dGUuY29kZSxcbiAgICAgIHR5cGU6ICdjb21wdXRlJyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgY29tcHV0ZSBwaXBlbGluZSB7QGxpbmsgZGVzY3JpcHRvcn1cbiAgICovXG4gIGNyZWF0ZVBpcGVsaW5lRGVzY3JpcHRvcigpIHtcbiAgICBpZiAoIXRoaXMuc2hhZGVycy5jb21wdXRlLm1vZHVsZSkgcmV0dXJuXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IgPSB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsLFxuICAgICAgbGF5b3V0OiB0aGlzLmxheW91dCxcbiAgICAgIGNvbXB1dGU6IHtcbiAgICAgICAgbW9kdWxlOiB0aGlzLnNoYWRlcnMuY29tcHV0ZS5tb2R1bGUsXG4gICAgICAgIGVudHJ5UG9pbnQ6IHRoaXMub3B0aW9ucy5zaGFkZXJzLmNvbXB1dGUuZW50cnlQb2ludCxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgY29tcHV0ZSB7QGxpbmsgcGlwZWxpbmV9XG4gICAqL1xuICBjcmVhdGVDb21wdXRlUGlwZWxpbmUoKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRlcnMuY29tcHV0ZS5tb2R1bGUpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucGlwZWxpbmUgPSB0aGlzLnJlbmRlcmVyLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSh0aGlzLmRlc2NyaXB0b3IpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhdHVzLmVycm9yID0gZXJyb3JcbiAgICAgIHRocm93RXJyb3IoZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFzeW5jaHJvbm91c2x5IGNyZWF0ZSB0aGUgY29tcHV0ZSB7QGxpbmsgcGlwZWxpbmV9XG4gICAqIEBhc3luY1xuICAgKiBAcmV0dXJucyAtIHZvaWQgcHJvbWlzZSByZXN1bHRcbiAgICovXG4gIGFzeW5jIGNyZWF0ZUNvbXB1dGVQaXBlbGluZUFzeW5jKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5zaGFkZXJzLmNvbXB1dGUubW9kdWxlKSByZXR1cm5cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnBpcGVsaW5lID0gYXdhaXQgdGhpcy5yZW5kZXJlci5jcmVhdGVDb21wdXRlUGlwZWxpbmVBc3luYyh0aGlzLmRlc2NyaXB0b3IpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGF0dXMuZXJyb3IgPSBlcnJvclxuICAgICAgdGhyb3dFcnJvcihlcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCB7QGxpbmsgUGlwZWxpbmVFbnRyeSNjb21waWxlUGlwZWxpbmVFbnRyeSB8IFBpcGVsaW5lRW50cnkgY29tcGlsZVBpcGVsaW5lRW50cnl9IG1ldGhvZCwgdGhlbiBjcmVhdGUgb3VyIGNvbXB1dGUge0BsaW5rIHBpcGVsaW5lfVxuICAgKiBAYXN5bmNcbiAgICovXG4gIGFzeW5jIGNvbXBpbGVQaXBlbGluZUVudHJ5KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHN1cGVyLmNvbXBpbGVQaXBlbGluZUVudHJ5KClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMudXNlQXN5bmMpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlQ29tcHV0ZVBpcGVsaW5lQXN5bmMoKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSgpXG4gICAgICB0aGlzLnN0YXR1cy5jb21waWxlZCA9IHRydWVcbiAgICAgIHRoaXMuc3RhdHVzLmNvbXBpbGluZyA9IGZhbHNlXG4gICAgICB0aGlzLnN0YXR1cy5lcnJvciA9IG51bGxcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFJlbmRlclBpcGVsaW5lRW50cnkgfSBmcm9tICcuL1JlbmRlclBpcGVsaW5lRW50cnknXG5pbXBvcnQgeyBDb21wdXRlUGlwZWxpbmVFbnRyeSB9IGZyb20gJy4vQ29tcHV0ZVBpcGVsaW5lRW50cnknXG5pbXBvcnQge1xuICBQaXBlbGluZUVudHJ5UGFyYW1zLFxuICBSZW5kZXJQaXBlbGluZUVudHJ5QmFzZVBhcmFtcyxcbiAgUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtc1xufSBmcm9tICcuLi8uLi90eXBlcy9QaXBlbGluZUVudHJpZXMnXG5cbi8qKiBEZWZpbmVzIGFsbCB0eXBlcyBvZiBhbGxvd2VkIHtAbGluayBjb3JlL3BpcGVsaW5lcy9QaXBlbGluZUVudHJ5LlBpcGVsaW5lRW50cnkgfCBQaXBlbGluZUVudHJ5fSBjbGFzcyBvYmplY3RzICovXG5leHBvcnQgdHlwZSBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzID0gUmVuZGVyUGlwZWxpbmVFbnRyeSB8IENvbXB1dGVQaXBlbGluZUVudHJ5XG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYW5kIGtlZXAgdHJhY2sgb2YgYm90aCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGFuZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0uPGJyPlxuICogUGVyZm9ybSBjaGVja3MgdG8gZXZlbnR1YWxseSB1c2UgYSBjYWNoZWQgcGlwZWxpbmUgZW50cnkgaW5zdGVhZCBvZiBjcmVhdGluZyBhIG5ldyBvbmUuPGJyPlxuICogVGhlIGVuZCBnb2FsIGlzIHRvIGNhY2hlIHBpcGVsaW5lcyBhbmQgcmV1c2UgdGhlbSAoYXMgd2VsbCBhcyBiaW5kIGdyb3VwcykuPGJyPlxuICogQWxzbyByZXNwb25zaWJsZSBmb3Igc2V0dGluZyB0aGUgY3VycmVudCBwYXNzIGVuY29kZXIgcGlwZWxpbmUgaW4gb3JkZXIgdG8gYXZvaWQgcmVkdW5kYW50IHNldFBpcGVsaW5lIGNhbGxzLjxicj5cbiAqIENyZWF0ZWQgaW50ZXJuYWxseSBieSB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciB8IEdQVURldmljZU1hbmFnZXJ9Ljxicj5cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vdG9qaS5kZXYvd2ViZ3B1LWJlc3QtcHJhY3RpY2VzL2JpbmQtZ3JvdXBzI2dyb3VwaW5nLXJlc291cmNlcy1iYXNlZC1vbi1mcmVxdWVuY3ktb2YtY2hhbmdlIHwgV2ViR1BVIEJpbmQgR3JvdXAgYmVzdCBwcmFjdGljZXN9XG4gKi9cbmV4cG9ydCBjbGFzcyBQaXBlbGluZU1hbmFnZXIge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBQaXBlbGluZU1hbmFnZXJ9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogS2VlcCB0cmFjayBvZiB0aGUgY3VycmVudCBib3VuZCBwaXBlbGluZSBpbiBvcmRlciB0byBhdm9pZCByZWR1bmRhbnQgc2V0UGlwZWxpbmUgY2FsbHMgKi9cbiAgY3VycmVudFBpcGVsaW5lSW5kZXg6IG51bWJlciB8IG51bGxcbiAgLyoqIEFycmF5IG9mIGFscmVhZHkgY3JlYXRlZCB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGFuZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gKi9cbiAgcGlwZWxpbmVFbnRyaWVzOiBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzW11cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnR5cGUgPSAnUGlwZWxpbmVNYW5hZ2VyJ1xuXG4gICAgdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCA9IG51bGxcbiAgICB0aGlzLnBpcGVsaW5lRW50cmllcyA9IFtdXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeUJhc2VQYXJhbXMgfCBSZW5kZXJQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9IGJlbG9uZ3MgdG8gYW4gYWxyZWFkeSBjcmVhdGVkIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fS5cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeUJhc2VQYXJhbXMgfCBSZW5kZXJQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9XG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSwgb3IgbnVsbCBpZiBub3QgZm91bmRcbiAgICovXG4gIGlzU2FtZVJlbmRlclBpcGVsaW5lKHBhcmFtZXRlcnM6IFJlbmRlclBpcGVsaW5lRW50cnlCYXNlUGFyYW1zKTogUmVuZGVyUGlwZWxpbmVFbnRyeSB8IG51bGwge1xuICAgIGNvbnN0IHtcbiAgICAgIHNoYWRlcnMsXG4gICAgICBjdWxsTW9kZSxcbiAgICAgIGRlcHRoLFxuICAgICAgZGVwdGhXcml0ZUVuYWJsZWQsXG4gICAgICBkZXB0aENvbXBhcmUsXG4gICAgICB0cmFuc3BhcmVudCxcbiAgICAgIHZlcnRpY2VzT3JkZXIsXG4gICAgICB0b3BvbG9neSxcbiAgICAgIHNhbXBsZUNvdW50LFxuICAgIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICByZXR1cm4gdGhpcy5waXBlbGluZUVudHJpZXNcbiAgICAgIC5maWx0ZXIoKHBpcGVsaW5lRW50cnkpID0+IHBpcGVsaW5lRW50cnkgaW5zdGFuY2VvZiBSZW5kZXJQaXBlbGluZUVudHJ5KVxuICAgICAgLmZpbmQoKHBpcGVsaW5lRW50cnk6IFJlbmRlclBpcGVsaW5lRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBwaXBlbGluZUVudHJ5XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBzaGFkZXJzLnZlcnRleC5jb2RlLmxvY2FsZUNvbXBhcmUob3B0aW9ucy5zaGFkZXJzLnZlcnRleC5jb2RlKSA9PT0gMCAmJlxuICAgICAgICAgIHNoYWRlcnMudmVydGV4LmVudHJ5UG9pbnQgPT09IG9wdGlvbnMuc2hhZGVycy52ZXJ0ZXguZW50cnlQb2ludCAmJlxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQuY29kZS5sb2NhbGVDb21wYXJlKG9wdGlvbnMuc2hhZGVycy5mcmFnbWVudC5jb2RlKSA9PT0gMCAmJlxuICAgICAgICAgIHNoYWRlcnMuZnJhZ21lbnQuZW50cnlQb2ludCA9PT0gb3B0aW9ucy5zaGFkZXJzLmZyYWdtZW50LmVudHJ5UG9pbnQgJiZcbiAgICAgICAgICBjdWxsTW9kZSA9PT0gb3B0aW9ucy5jdWxsTW9kZSAmJlxuICAgICAgICAgIGRlcHRoID09PSBvcHRpb25zLmRlcHRoICYmXG4gICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQgPT09IG9wdGlvbnMuZGVwdGhXcml0ZUVuYWJsZWQgJiZcbiAgICAgICAgICBkZXB0aENvbXBhcmUgPT09IG9wdGlvbnMuZGVwdGhDb21wYXJlICYmXG4gICAgICAgICAgdHJhbnNwYXJlbnQgPT09IG9wdGlvbnMudHJhbnNwYXJlbnQgJiZcbiAgICAgICAgICBzYW1wbGVDb3VudCA9PT0gb3B0aW9ucy5zYW1wbGVDb3VudCAmJlxuICAgICAgICAgIHZlcnRpY2VzT3JkZXIgPT09IG9wdGlvbnMudmVydGljZXNPcmRlciAmJlxuICAgICAgICAgIHRvcG9sb2d5ID09PSBvcHRpb25zLnRvcG9sb2d5XG4gICAgICAgIClcbiAgICAgIH0pIGFzIFJlbmRlclBpcGVsaW5lRW50cnkgfCBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB7QGxpbmsgUmVuZGVyUGlwZWxpbmVFbnRyeX0gaGFzIGFscmVhZHkgYmVlbiBjcmVhdGVkIHdpdGggdGhlIGdpdmVuIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zIHwgcGFyYW1ldGVyc30uXG4gICAqIFVzZSBpdCBpZiBmb3VuZCwgZWxzZSBjcmVhdGUgYSBuZXcgb25lIGFuZCBhZGQgaXQgdG8gdGhlIHtAbGluayBwaXBlbGluZUVudHJpZXN9IGFycmF5LlxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5UGFyYW1zIHwgUmVuZGVyUGlwZWxpbmVFbnRyeSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIHtAbGluayBSZW5kZXJQaXBlbGluZUVudHJ5fSwgZWl0aGVyIGZyb20gY2FjaGUgb3IgbmV3bHkgY3JlYXRlZFxuICAgKi9cbiAgY3JlYXRlUmVuZGVyUGlwZWxpbmUocGFyYW1ldGVyczogUmVuZGVyUGlwZWxpbmVFbnRyeVBhcmFtcyk6IFJlbmRlclBpcGVsaW5lRW50cnkge1xuICAgIGNvbnN0IGV4aXN0aW5nUGlwZWxpbmVFbnRyeSA9IHRoaXMuaXNTYW1lUmVuZGVyUGlwZWxpbmUocGFyYW1ldGVycylcblxuICAgIGlmIChleGlzdGluZ1BpcGVsaW5lRW50cnkpIHtcbiAgICAgIHJldHVybiBleGlzdGluZ1BpcGVsaW5lRW50cnlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGlwZWxpbmVFbnRyeSA9IG5ldyBSZW5kZXJQaXBlbGluZUVudHJ5KHBhcmFtZXRlcnMpXG5cbiAgICAgIHRoaXMucGlwZWxpbmVFbnRyaWVzLnB1c2gocGlwZWxpbmVFbnRyeSlcblxuICAgICAgcmV0dXJuIHBpcGVsaW5lRW50cnlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IHBhcmFtZXRlcnN9IGJlbG9uZ3MgdG8gYW4gYWxyZWFkeSBjcmVhdGVkIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0uXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBpcGVsaW5lRW50cnlQYXJhbXMgfCBQaXBlbGluZUVudHJ5IHBhcmFtZXRlcnN9XG4gICAqIEByZXR1cm5zIC0gdGhlIGZvdW5kIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX0sIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAqL1xuICBpc1NhbWVDb21wdXRlUGlwZWxpbmUocGFyYW1ldGVyczogUGlwZWxpbmVFbnRyeVBhcmFtcykge1xuICAgIGNvbnN0IHsgc2hhZGVycyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgcmV0dXJuIHRoaXMucGlwZWxpbmVFbnRyaWVzXG4gICAgICAuZmlsdGVyKChwaXBlbGluZUVudHJ5KSA9PiBwaXBlbGluZUVudHJ5IGluc3RhbmNlb2YgQ29tcHV0ZVBpcGVsaW5lRW50cnkpXG4gICAgICAuZmluZCgocGlwZWxpbmVFbnRyeTogQ29tcHV0ZVBpcGVsaW5lRW50cnkpID0+IHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBwaXBlbGluZUVudHJ5XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBzaGFkZXJzLmNvbXB1dGUuY29kZS5sb2NhbGVDb21wYXJlKG9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmNvZGUpID09PSAwICYmXG4gICAgICAgICAgc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnQgPT09IG9wdGlvbnMuc2hhZGVycy5jb21wdXRlLmVudHJ5UG9pbnRcbiAgICAgICAgKVxuICAgICAgfSkgYXMgQ29tcHV0ZVBpcGVsaW5lRW50cnkgfCBudWxsXG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB7QGxpbmsgQ29tcHV0ZVBpcGVsaW5lRW50cnl9IGhhcyBhbHJlYWR5IGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBnaXZlbiB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IHBhcmFtZXRlcnN9LlxuICAgKiBVc2UgaXQgaWYgZm91bmQsIGVsc2UgY3JlYXRlIGEgbmV3IG9uZSBhbmQgYWRkIGl0IHRvIHRoZSB7QGxpbmsgcGlwZWxpbmVFbnRyaWVzfSBhcnJheS5cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUGlwZWxpbmVFbnRyeVBhcmFtcyB8IFBpcGVsaW5lRW50cnkgcGFyYW1ldGVyc31cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBDb21wdXRlUGlwZWxpbmVFbnRyeX1cbiAgICovXG4gIGNyZWF0ZUNvbXB1dGVQaXBlbGluZShwYXJhbWV0ZXJzOiBQaXBlbGluZUVudHJ5UGFyYW1zKTogQ29tcHV0ZVBpcGVsaW5lRW50cnkge1xuICAgIGNvbnN0IGV4aXN0aW5nUGlwZWxpbmVFbnRyeSA9IHRoaXMuaXNTYW1lQ29tcHV0ZVBpcGVsaW5lKHBhcmFtZXRlcnMpXG5cbiAgICBpZiAoZXhpc3RpbmdQaXBlbGluZUVudHJ5KSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdQaXBlbGluZUVudHJ5XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBpcGVsaW5lRW50cnkgPSBuZXcgQ29tcHV0ZVBpcGVsaW5lRW50cnkocGFyYW1ldGVycylcblxuICAgICAgdGhpcy5waXBlbGluZUVudHJpZXMucHVzaChwaXBlbGluZUVudHJ5KVxuXG4gICAgICByZXR1cm4gcGlwZWxpbmVFbnRyeVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4ge0BsaW5rIEFsbG93ZWRQaXBlbGluZUVudHJpZXMgfCBQaXBlbGluZUVudHJ5fSBpcyBhbHJlYWR5IHNldCwgaWYgbm90IHNldCBpdFxuICAgKiBAcGFyYW0gcGFzcyAtIGN1cnJlbnQgcGFzcyBlbmNvZGVyXG4gICAqIEBwYXJhbSBwaXBlbGluZUVudHJ5IC0gdGhlIHtAbGluayBBbGxvd2VkUGlwZWxpbmVFbnRyaWVzIHwgUGlwZWxpbmVFbnRyeX0gdG8gc2V0XG4gICAqL1xuICBzZXRDdXJyZW50UGlwZWxpbmUocGFzczogR1BVUmVuZGVyUGFzc0VuY29kZXIgfCBHUFVDb21wdXRlUGFzc0VuY29kZXIsIHBpcGVsaW5lRW50cnk6IEFsbG93ZWRQaXBlbGluZUVudHJpZXMpIHtcbiAgICBpZiAocGlwZWxpbmVFbnRyeS5pbmRleCAhPT0gdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCkge1xuICAgICAgcGFzcy5zZXRQaXBlbGluZShwaXBlbGluZUVudHJ5LnBpcGVsaW5lIGFzIEdQVVJlbmRlclBpcGVsaW5lICYgR1BVQ29tcHV0ZVBpcGVsaW5lKVxuICAgICAgdGhpcy5jdXJyZW50UGlwZWxpbmVJbmRleCA9IHBpcGVsaW5lRW50cnkuaW5kZXhcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIHtAbGluayBQaXBlbGluZU1hbmFnZXIjY3VycmVudFBpcGVsaW5lSW5kZXggfCBjdXJyZW50IHBpcGVsaW5lIGluZGV4fSBzbyB0aGUgbmV4dCB7QGxpbmsgQWxsb3dlZFBpcGVsaW5lRW50cmllcyB8IFBpcGVsaW5lRW50cnl9IHdpbGwgYmUgc2V0IGZvciBzdXJlXG4gICAqL1xuICByZXNldEN1cnJlbnRQaXBlbGluZSgpIHtcbiAgICB0aGlzLmN1cnJlbnRQaXBlbGluZUluZGV4ID0gbnVsbFxuICB9XG59XG4iLCJpbXBvcnQgeyBET01FbGVtZW50IH0gZnJvbSAnLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBEZWZpbmVzIGEge0BsaW5rIFJlc2l6ZU1hbmFnZXJ9IGVudHJ5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplTWFuYWdlckVudHJ5IHtcbiAgLyoqIHtAbGluayBIVE1MRWxlbWVudH0gdG8gdHJhY2sgKi9cbiAgZWxlbWVudDogRE9NRWxlbWVudFsnZWxlbWVudCddIHwgRWxlbWVudFxuICAvKiogUHJpb3JpdHkgaW4gd2hpY2ggdG8gY2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbiAgcHJpb3JpdHk/OiBudW1iZXJcbiAgLyoqIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiB0aGUge0BsaW5rIGVsZW1lbnR9IGlzIHJlc2l6ZWQgKi9cbiAgY2FsbGJhY2s6ICgpID0+IHZvaWQgfCBudWxsXG59XG5cbi8qKlxuICogVGlueSB3cmFwcGVyIGFyb3VuZCB7QGxpbmsgUmVzaXplT2JzZXJ2ZXJ9IHVzZWQgdG8gZXhlY3V0ZSBjYWxsYmFja3Mgd2hlbiBnaXZlbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNpemUgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc2l6ZU1hbmFnZXIge1xuICAvKiogV2hldGhlciB3ZSBzaG91bGQgYWRkIGVsZW1lbnRzIHRvIG91ciB7QGxpbmsgcmVzaXplT2JzZXJ2ZXJ9IG9yIG5vdCAqL1xuICBzaG91bGRXYXRjaDogYm9vbGVhblxuICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlc2l6ZU1hbmFnZXJFbnRyeSB8IGVudHJpZXN9ICovXG4gIGVudHJpZXM6IFJlc2l6ZU1hbmFnZXJFbnRyeVtdXG4gIC8qKiB7QGxpbmsgUmVzaXplT2JzZXJ2ZXJ9IHVzZWQgKi9cbiAgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyXG5cbiAgLyoqXG4gICAqIFJlc2l6ZU1hbmFnZXIgY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIGRlZmF1bHQgdG8gdHJ1ZVxuICAgIHRoaXMuc2hvdWxkV2F0Y2ggPSB0cnVlXG5cbiAgICB0aGlzLmVudHJpZXMgPSBbXVxuXG4gICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigob2JzZXJ2ZWRFbnRyaWVzKSA9PiB7XG4gICAgICAvLyBnZXQgYWxsIGVudHJpZXMgY29ycmVzcG9uZGluZyB0byB0aGF0IGVsZW1lbnQsIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcbiAgICAgIGNvbnN0IGFsbEVudHJpZXMgPSBvYnNlcnZlZEVudHJpZXNcbiAgICAgICAgLm1hcCgob2JzZXJ2ZWRFbnRyeSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmVudHJpZXMuZmlsdGVyKChlKSA9PiBlLmVsZW1lbnQuaXNTYW1lTm9kZShvYnNlcnZlZEVudHJ5LnRhcmdldCkpXG4gICAgICAgIH0pXG4gICAgICAgIC5mbGF0KClcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KVxuXG4gICAgICBhbGxFbnRyaWVzPy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBpZiAoZW50cnkgJiYgZW50cnkuY2FsbGJhY2spIHtcbiAgICAgICAgICBlbnRyeS5jYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQge0BsaW5rIHNob3VsZFdhdGNofVxuICAgKiBAcGFyYW0gc2hvdWxkV2F0Y2ggLSB3aGV0aGVyIHRvIHdhdGNoIG9yIG5vdFxuICAgKi9cbiAgdXNlT2JzZXJ2ZXIoc2hvdWxkV2F0Y2ggPSB0cnVlKSB7XG4gICAgdGhpcy5zaG91bGRXYXRjaCA9IHNob3VsZFdhdGNoXG4gIH1cblxuICAvKipcbiAgICogVHJhY2sgYW4ge0BsaW5rIEhUTUxFbGVtZW50fSBzaXplIGNoYW5nZSBhbmQgZXhlY3V0ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gaXQgaGFwcGVuc1xuICAgKiBAcGFyYW0gZW50cnkgLSB7QGxpbmsgUmVzaXplTWFuYWdlckVudHJ5IHwgZW50cnl9IHRvIHdhdGNoXG4gICAqL1xuICBvYnNlcnZlKHsgZWxlbWVudCwgcHJpb3JpdHksIGNhbGxiYWNrIH06IFJlc2l6ZU1hbmFnZXJFbnRyeSkge1xuICAgIGlmICghZWxlbWVudCB8fCAhdGhpcy5zaG91bGRXYXRjaCkgcmV0dXJuXG5cbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudClcblxuICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgZWxlbWVudCxcbiAgICAgIHByaW9yaXR5LFxuICAgICAgY2FsbGJhY2ssXG4gICAgfVxuXG4gICAgdGhpcy5lbnRyaWVzLnB1c2goZW50cnkpXG4gIH1cblxuICAvKipcbiAgICogVW5vYnNlcnZlIGFuIHtAbGluayBIVE1MRWxlbWVudH0gYW5kIHJlbW92ZSBpdCBmcm9tIG91ciB7QGxpbmsgZW50cmllc30gYXJyYXlcbiAgICogQHBhcmFtIGVsZW1lbnQgLSB7QGxpbmsgSFRNTEVsZW1lbnR9IHRvIHVub2JzZXJ2ZVxuICAgKi9cbiAgdW5vYnNlcnZlKGVsZW1lbnQ6IERPTUVsZW1lbnRbJ2VsZW1lbnQnXSB8IEVsZW1lbnQpIHtcbiAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KVxuICAgIHRoaXMuZW50cmllcyA9IHRoaXMuZW50cmllcy5maWx0ZXIoKGUpID0+ICFlLmVsZW1lbnQuaXNTYW1lTm9kZShlbGVtZW50KSlcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVzaXplTWFuYWdlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KClcbiAgfVxufVxuXG4vKiogQGV4cG9ydHMgQGNvbnN0IHJlc2l6ZU1hbmFnZXIgLSB7QGxpbmsgUmVzaXplTWFuYWdlcn0gY2xhc3Mgb2JqZWN0ICovXG5leHBvcnQgY29uc3QgcmVzaXplTWFuYWdlciA9IG5ldyBSZXNpemVNYW5hZ2VyKCkgYXMgUmVzaXplTWFuYWdlclxuIiwiaW1wb3J0IHsgcmVzaXplTWFuYWdlciwgUmVzaXplTWFuYWdlciwgUmVzaXplTWFuYWdlckVudHJ5IH0gZnJvbSAnLi4vLi4vdXRpbHMvUmVzaXplTWFuYWdlcidcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcblxuLyoqXG4gKiBEZWZpbmVzIGEgcmVjdGFuZ3VsYXIgY29vcmRpbmF0ZXMgb2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjdENvb3JkcyB7XG4gIC8qKiB0b3AgcG9zaXRpb24gKi9cbiAgdG9wOiBudW1iZXJcbiAgLyoqIHJpZ2h0IHBvc2l0aW9uICovXG4gIHJpZ2h0OiBudW1iZXJcbiAgLyoqIGJvdHRvbSBwb3NpdGlvbiAqL1xuICBib3R0b206IG51bWJlclxuICAvKiogbGVmdCBwb3NpdGlvbiAqL1xuICBsZWZ0OiBudW1iZXJcbn1cblxuLyoqXG4gKiBEZWZpbmVzIGEgc2l6ZSBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWN0U2l6ZSB7XG4gIC8qKiB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlICovXG4gIHdpZHRoOiBudW1iZXJcbiAgLyoqIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlICovXG4gIGhlaWdodDogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGJveCBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWN0QkJveCBleHRlbmRzIFJlY3RTaXplIHtcbiAgLyoqIHRvcCBwb3NpdGlvbiBvZiB0aGUgYm91bmRpbmcgYm94ICovXG4gIHRvcDogbnVtYmVyXG4gIC8qKiBsZWZ0IHBvc2l0aW9uIG9mIHRoZSBib3VuZGluZyBib3ggKi9cbiAgbGVmdDogbnVtYmVyXG59XG5cbi8qKlxuICogRGVmaW5lcyBhIERPTSBwb3NpdGlvbiBvYmplY3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBET01Qb3NpdGlvbiB7XG4gIC8qKiBYIHBvc2l0aW9uICovXG4gIHg6IG51bWJlclxuICAvKiogWSBwb3NpdGlvbiAqL1xuICB5OiBudW1iZXJcbn1cblxuLyoqXG4gKiBEZWZpbmVzIGEgY29tcGxldGUgRE9NIEVsZW1lbnQgYm91bmRpbmcgcmVjdCBvYmplY3QsIHNpbWlsYXIgdG8gYSB7QGxpbmsgRE9NUmVjdH1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBET01FbGVtZW50Qm91bmRpbmdSZWN0IGV4dGVuZHMgUmVjdENvb3JkcywgUmVjdEJCb3gsIERPTVBvc2l0aW9uIHt9XG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBET01FbGVtZW50fVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERPTUVsZW1lbnRQYXJhbXMge1xuICAvKioge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3Igb2YgdGhlIGVsZW1lbnQgdGhlIHJlc2l6ZSBvYnNlcnZlciBzaG91bGQgdHJhY2sgKi9cbiAgZWxlbWVudD86IHN0cmluZyB8IEVsZW1lbnRcbiAgLyoqIE9yZGVyIGluIHdoaWNoIHRoZSB7QGxpbmsgcmVzaXplTWFuYWdlcn0gY2FsbGJhY2sgaXMgZXhlY3V0ZWQgKi9cbiAgcHJpb3JpdHk/OiBSZXNpemVNYW5hZ2VyRW50cnlbJ3ByaW9yaXR5J11cbiAgLyoqIENhbGxiYWNrIHRvIHR1biB3aGVuIHRoZSB7QGxpbmsgRE9NRWxlbWVudCNlbGVtZW50IHwgZWxlbWVudH0gc2l6ZSBjaGFuZ2VkICovXG4gIG9uU2l6ZUNoYW5nZWQ/OiAoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkgPT4gdm9pZCB8IG51bGxcbiAgLyoqIENhbGxiYWNrIHRvIHR1biB3aGVuIHRoZSB7QGxpbmsgRE9NRWxlbWVudCNlbGVtZW50IHwgZWxlbWVudH0gcG9zaXRpb24gY2hhbmdlZCAqL1xuICBvblBvc2l0aW9uQ2hhbmdlZD86IChib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSA9PiB2b2lkIHwgbnVsbFxufVxuXG4vKipcbiAqIFVzZWQgdG8gdHJhY2sgYSBET00gRWxlbWVudCBzaXplIGFuZCBwb3NpdGlvbiBieSB1c2luZyBhIHJlc2l6ZSBvYnNlcnZlciBwcm92aWRlZCBieSB7QGxpbmsgUmVzaXplTWFuYWdlcn0uPGJyPlxuICogRXhlY3V0ZSBjYWxsYmFja3Mgd2hlbiB0aGUgYm91bmRpbmcgcmVjdGFuZ2xlIG9mIHRoZSBET00gRWxlbWVudCBjaGFuZ2VzLCB3aGljaCBtZWFucyB3aGVuIGl0cyBzaXplIGFuZC9vciBwb3NpdGlvbiBjaGFuZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBET01FbGVtZW50IHtcbiAgLyoqIFRoZSBIVE1MIGVsZW1lbnQgdG8gdHJhY2sgKi9cbiAgZWxlbWVudDogSFRNTEVsZW1lbnRcbiAgLyoqIFByaW9yaXR5IGF0IHdoaWNoIHRoaXMgZWxlbWVudCB7QGxpbmsgb25TaXplQ2hhbmdlZH0gZnVuY3Rpb24gbXVzdCBiZSBjYWxsZWQgKi9cbiAgcHJpb3JpdHk6IFJlc2l6ZU1hbmFnZXJFbnRyeVsncHJpb3JpdHknXVxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRpbWVvdXQgaXMgc3RpbGwgcnVubmluZyBhbmQgd2Ugc2hvdWxkIGF2b2lkIGEgbmV3IGNvbXB1dGF0aW9uICovXG4gIGlzUmVzaXppbmc6IGJvb2xlYW5cbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIGVsZW1lbnR9IHNpemUgY2hhbmdlZCAqL1xuICBvblNpemVDaGFuZ2VkOiAoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHwgbnVsbCkgPT4gdm9pZCB8IG51bGxcbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIGVsZW1lbnR9IHBvc2l0aW9uIGNoYW5nZWQgKi9cbiAgb25Qb3NpdGlvbkNoYW5nZWQ6IChib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSA9PiB2b2lkIHwgbnVsbFxuICAvKiogVGhlIHtAbGluayBSZXNpemVNYW5hZ2VyfSB1c2VkLCBiYXNpY2FsbHkgYSB3cmFwcGVyIGFyb3VuZCBhIHtAbGluayBSZXNpemVPYnNlcnZlcn0gKi9cbiAgcmVzaXplTWFuYWdlcjogUmVzaXplTWFuYWdlclxuICAvKiogQ3VycmVudCAge0BsaW5rIGVsZW1lbnR9IGJvdW5kaW5nIHJlY3RhbmdsZSAqL1xuICBfYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0XG5cbiAgLyoqXG4gICAqIERPTUVsZW1lbnQgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgRE9NRWxlbWVudFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIG91ciBET01FbGVtZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgIHByaW9yaXR5ID0gMSxcbiAgICAgIG9uU2l6ZUNoYW5nZWQgPSAoYm91bmRpbmdSZWN0ID0gbnVsbCkgPT4ge1xuICAgICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICAgICAgfSxcbiAgICAgIG9uUG9zaXRpb25DaGFuZ2VkID0gKGJvdW5kaW5nUmVjdCA9IG51bGwpID0+IHtcbiAgICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICAgIH0sXG4gICAgfSA9IHt9IGFzIERPTUVsZW1lbnRQYXJhbXNcbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KVxuXG4gICAgICBpZiAoIXRoaXMuZWxlbWVudCkge1xuICAgICAgICBjb25zdCBub3RGb3VuZEVsID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gYCcke2VsZW1lbnR9JyBzZWxlY3RvcmAgOiBgJHtlbGVtZW50fSBIVE1MRWxlbWVudGBcbiAgICAgICAgdGhyb3dFcnJvcihgRE9NRWxlbWVudDogY29ycmVzcG9uZGluZyAke25vdEZvdW5kRWx9IG5vdCBmb3VuZC5gKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50IGFzIEhUTUxFbGVtZW50XG4gICAgfVxuXG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5XG5cbiAgICB0aGlzLmlzUmVzaXppbmcgPSBmYWxzZVxuXG4gICAgdGhpcy5vblNpemVDaGFuZ2VkID0gb25TaXplQ2hhbmdlZFxuICAgIHRoaXMub25Qb3NpdGlvbkNoYW5nZWQgPSBvblBvc2l0aW9uQ2hhbmdlZFxuXG4gICAgdGhpcy5yZXNpemVNYW5hZ2VyID0gcmVzaXplTWFuYWdlclxuXG4gICAgdGhpcy5yZXNpemVNYW5hZ2VyLm9ic2VydmUoe1xuICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgcHJpb3JpdHk6IHRoaXMucHJpb3JpdHksXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFNpemUoKVxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gc2V0IHNpemUgcmlnaHQgYXdheSBvbiBpbml0XG4gICAgdGhpcy5zZXRTaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB3aGV0aGVyIDIgYm91bmRpbmcgcmVjdGFuZ2xlcyBhcmUgZXF1YWxzXG4gICAqIEBwYXJhbSByZWN0MSAtIGZpcnN0IGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgKiBAcGFyYW0gcmVjdDIgLSBzZWNvbmQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqIEByZXR1cm5zIC0gd2hldGhlciB0aGUgcmVjdGFuZ2xlcyBhcmUgZXF1YWxzIG9yIG5vdFxuICAgKi9cbiAgY29tcGFyZUJvdW5kaW5nUmVjdChyZWN0MTogRE9NUmVjdCB8IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIHJlY3QyOiBET01SZWN0IHwgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhWyd4JywgJ3knLCAnbGVmdCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ3dpZHRoJywgJ2hlaWdodCddLnNvbWUoKGspID0+IHJlY3QxW2tdICE9PSByZWN0MltrXSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIGVsZW1lbnQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqL1xuICBnZXQgYm91bmRpbmdSZWN0KCk6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3Qge1xuICAgIHJldHVybiB0aGlzLl9ib3VuZGluZ1JlY3RcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIGVsZW1lbnQgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSBuZXcgYm91bmRpbmcgcmVjdGFuZ2xlXG4gICAqL1xuICBzZXQgYm91bmRpbmdSZWN0KGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCkge1xuICAgIGNvbnN0IGlzU2FtZVJlY3QgPSAhIXRoaXMuYm91bmRpbmdSZWN0ICYmIHRoaXMuY29tcGFyZUJvdW5kaW5nUmVjdChib3VuZGluZ1JlY3QsIHRoaXMuYm91bmRpbmdSZWN0KVxuXG4gICAgdGhpcy5fYm91bmRpbmdSZWN0ID0ge1xuICAgICAgdG9wOiBib3VuZGluZ1JlY3QudG9wLFxuICAgICAgcmlnaHQ6IGJvdW5kaW5nUmVjdC5yaWdodCxcbiAgICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSxcbiAgICAgIGxlZnQ6IGJvdW5kaW5nUmVjdC5sZWZ0LFxuICAgICAgd2lkdGg6IGJvdW5kaW5nUmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgIHg6IGJvdW5kaW5nUmVjdC54LFxuICAgICAgeTogYm91bmRpbmdSZWN0LnksXG4gICAgfVxuXG4gICAgaWYgKCFpc1NhbWVSZWN0KSB7XG4gICAgICB0aGlzLm9uU2l6ZUNoYW5nZWQodGhpcy5ib3VuZGluZ1JlY3QpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBvdXIgZWxlbWVudCBib3VuZGluZyByZWN0YW5nbGUgYmVjYXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIGhhcyBjaGFuZ2VkXG4gICAqIEBwYXJhbSBkZWx0YSAtIHNjcm9sbCBkZWx0YSB2YWx1ZXMgYWxvbmcgWCBhbmQgWSBheGlzXG4gICAqL1xuICB1cGRhdGVTY3JvbGxQb3NpdGlvbihkZWx0YTogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkge1xuICAgIGlmICh0aGlzLmlzUmVzaXppbmcpIHJldHVyblxuXG4gICAgdGhpcy5fYm91bmRpbmdSZWN0LnRvcCArPSBkZWx0YS55XG4gICAgdGhpcy5fYm91bmRpbmdSZWN0LmxlZnQgKz0gZGVsdGEueFxuXG4gICAgaWYgKGRlbHRhLnggfHwgZGVsdGEueSkge1xuICAgICAgdGhpcy5vblBvc2l0aW9uQ2hhbmdlZCh0aGlzLmJvdW5kaW5nUmVjdClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciBlbGVtZW50IGJvdW5kaW5nIHJlY3RhbmdsZSwgZWl0aGVyIGJ5IGEgdmFsdWUgb3IgYSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgY2FsbFxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IGJvdW5kaW5nIHJlY3RhbmdsZVxuICAgKi9cbiAgc2V0U2l6ZShib3VuZGluZ1JlY3Q6IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsID0gbnVsbCkge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm5cblxuICAgIHRoaXMuYm91bmRpbmdSZWN0ID0gYm91bmRpbmdSZWN0ID8/IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gICAgdGhpcy5pc1Jlc2l6aW5nID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciBET01FbGVtZW50IC0gcmVtb3ZlIGZyb20gcmVzaXplIG9ic2VydmVyIGFuZCBjbGVhciB0aHJvdHRsZSB0aW1lb3V0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMucmVzaXplTWFuYWdlci51bm9ic2VydmUodGhpcy5lbGVtZW50KVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAvKiB3Z3NsICovIGBcbnN0cnVjdCBWU091dHB1dCB7XG4gIEBidWlsdGluKHBvc2l0aW9uKSBwb3NpdGlvbjogdmVjNGYsXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMmYsXG59O1xuXG5AZnJhZ21lbnQgZm4gbWFpbihmc0lucHV0OiBWU091dHB1dCkgLT4gQGxvY2F0aW9uKDApIHZlYzRmIHtcbiAgcmV0dXJuIHRleHR1cmVTYW1wbGUocmVuZGVyVGV4dHVyZSwgZGVmYXVsdFNhbXBsZXIsIGZzSW5wdXQudXYpO1xufWBcbiIsImltcG9ydCB7IEZ1bGxzY3JlZW5QbGFuZSB9IGZyb20gJy4uL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUnXG5pbXBvcnQgeyBpc1JlbmRlcmVyLCBSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy91dGlscydcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4vUmVuZGVyVGFyZ2V0J1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9HUFVDdXJ0YWlucydcbmltcG9ydCB7IE1lc2hCYXNlUmVuZGVyUGFyYW1zIH0gZnJvbSAnLi4vbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgZGVmYXVsdF9wYXNzX2ZzV0dTbCBmcm9tICcuLi9zaGFkZXJzL2NodW5rcy9kZWZhdWx0X3Bhc3NfZnMud2dzbCdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFNoYWRlclBhc3N9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2hhZGVyUGFzc1BhcmFtcyBleHRlbmRzIE1lc2hCYXNlUmVuZGVyUGFyYW1zIHtcbiAgLyoqIE9wdGlvbmFsIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFzc2lnbiB0byB0aGUge0BsaW5rIFNoYWRlclBhc3N9ICovXG4gIHJlbmRlclRhcmdldD86IFJlbmRlclRhcmdldFxufVxuXG4vKipcbiAqIFVzZWQgdG8gYXBwbHkgcG9zdHByb2Nlc3NpbmcsIGkuZS4gZHJhdyBtZXNoZXMgdG8gYSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gYW5kIHRoZW4gZHJhdyBhIHtAbGluayBGdWxsc2NyZWVuUGxhbmV9IHVzaW5nIHRoYXQgdGV4dHVyZSBhcyBhbiBpbnB1dC5cbiAqXG4gKiBBIFNoYWRlclBhc3MgY291bGQgZWl0aGVyIHBvc3QgcHJvY2VzcyB0aGUgd2hvbGUgc2NlbmUgb3IganVzdCBhIGJ1bmNoIG9mIG1lc2hlcyB1c2luZyBhIHNwZWNpZmljIHtAbGluayBSZW5kZXJUYXJnZXR9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBTaGFkZXJQYXNzXG4gKiBjb25zdCBzaGFkZXJQYXNzID0gbmV3IFNoYWRlclBhc3MoZ3B1Q3VydGFpbiwge1xuICogICBsYWJlbDogJ015IHNoYWRlciBwYXNzJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGZyYWdtZW50OiB7XG4gKiAgICAgICBjb2RlOiBzaGFkZXJQYXNzQ29kZSwgLy8gYXNzdW1lIGl0IGlzIGEgdmFsaWQgV0dTTCBmcmFnbWVudCBzaGFkZXJcbiAqICAgICB9LFxuICogICB9LFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgU2hhZGVyUGFzcyBleHRlbmRzIEZ1bGxzY3JlZW5QbGFuZSB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBjb250ZW50IHRvIHVzZSBhcyBhbiBpbnB1dCBpZiBzcGVjaWZpZWQgKi9cbiAgcmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXQgfCB1bmRlZmluZWRcblxuICAvKipcbiAgICogU2hhZGVyUGFzcyBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBTaGFkZXJQYXNzUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsIHBhcmFtZXRlcnM6IFNoYWRlclBhc3NQYXJhbXMgPSB7fSkge1xuICAgIC8vIHdlIGNvdWxkIHBhc3Mgb3VyIGN1cnRhaW5zIG9iamVjdCBPUiBvdXIgY3VydGFpbnMgcmVuZGVyZXIgb2JqZWN0XG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIFJlbmRlcmVyKVxuXG4gICAgaXNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIFNoYWRlclBhc3MnIDogJ1NoYWRlclBhc3MnKVxuXG4gICAgLy8gZm9yY2UgdHJhbnNwYXJlbmN5IHRvIGFsbG93IGZvciBjb3JyZWN0IGJsZW5kaW5nIGJldHdlZW4gc3VjY2Vzc2l2ZSBwYXNzZXNcbiAgICBwYXJhbWV0ZXJzLnRyYW5zcGFyZW50ID0gdHJ1ZVxuICAgIHBhcmFtZXRlcnMubGFiZWwgPSBwYXJhbWV0ZXJzLmxhYmVsID8/ICdTaGFkZXJQYXNzICcgKyByZW5kZXJlci5zaGFkZXJQYXNzZXM/Lmxlbmd0aFxuXG4gICAgaWYgKCFwYXJhbWV0ZXJzLnNoYWRlcnMpIHtcbiAgICAgIHBhcmFtZXRlcnMuc2hhZGVycyA9IHt9XG4gICAgfVxuXG4gICAgaWYgKCFwYXJhbWV0ZXJzLnNoYWRlcnMuZnJhZ21lbnQpIHtcbiAgICAgIHBhcmFtZXRlcnMuc2hhZGVycy5mcmFnbWVudCA9IHtcbiAgICAgICAgY29kZTogZGVmYXVsdF9wYXNzX2ZzV0dTbCxcbiAgICAgICAgZW50cnlQb2ludDogJ21haW4nLFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZvcmNlIHRoZSBwb3N0IHByb2Nlc3NpbmcgcGFzc2VzIHRvIG5vdCB1c2UgZGVwdGhcbiAgICBwYXJhbWV0ZXJzLmRlcHRoID0gZmFsc2VcblxuICAgIHN1cGVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzKVxuXG4gICAgdGhpcy50eXBlID0gJ1NoYWRlclBhc3MnXG5cbiAgICB0aGlzLmNyZWF0ZVJlbmRlclRleHR1cmUoe1xuICAgICAgbGFiZWw6IHBhcmFtZXRlcnMubGFiZWwgPyBgJHtwYXJhbWV0ZXJzLmxhYmVsfSByZW5kZXIgdGV4dHVyZWAgOiAnU2hhZGVyIHBhc3MgcmVuZGVyIHRleHR1cmUnLFxuICAgICAgbmFtZTogJ3JlbmRlclRleHR1cmUnLFxuICAgICAgZnJvbVRleHR1cmU6IHRoaXMucmVuZGVyVGFyZ2V0ID8gdGhpcy5yZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZSA6IG51bGwsXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIG1haW4ge0BsaW5rIFJlbmRlclRleHR1cmV9LCB0aGUgb25lIHRoYXQgY29udGFpbnMgb3VyIHBvc3QgcHJvY2Vzc2VkIGNvbnRlbnRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyVGV4dHVyZSgpOiBSZW5kZXJUZXh0dXJlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLm9wdGlvbnMubmFtZSA9PT0gJ3JlbmRlclRleHR1cmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIEFzc2lnbiBvciByZW1vdmUgYSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byB0aGlzIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKiBTaW5jZSB0aGlzIG1hbmlwdWxhdGVzIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gc3RhY2tzLCBpdCBjYW4gYmUgdXNlZCB0byByZW1vdmUgYSBSZW5kZXJUYXJnZXQgYXMgd2VsbC5cbiAgICogQWxzbyBjb3B5IG9yIHJlbW92ZSB0aGUge0BsaW5rIFJlbmRlclRhcmdldCNyZW5kZXJUZXh0dXJlIHwgcmVuZGVyIHRhcmdldCByZW5kZXIgdGV4dHVyZX0gaW50byB0aGUge0BsaW5rIFNoYWRlclBhc3N9IHtAbGluayByZW5kZXJUZXh0dXJlfVxuICAgKiBAcGFyYW0gcmVuZGVyVGFyZ2V0IC0gdGhlIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFzc2lnbiBvciBudWxsIGlmIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBjdXJyZW50IHtAbGluayBSZW5kZXJUYXJnZXR9XG4gICAqL1xuICBzZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXQgfCBudWxsKSB7XG4gICAgc3VwZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldClcblxuICAgIGlmIChyZW5kZXJUYXJnZXQpIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jb3B5KHRoaXMucmVuZGVyVGFyZ2V0LnJlbmRlclRleHR1cmUpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5vcHRpb25zLmZyb21UZXh0dXJlID0gbnVsbFxuICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNyZWF0ZVRleHR1cmUoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgdGhlIHtAbGluayBTaGFkZXJQYXNzfSB0byB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICovXG4gIGFkZFRvU2NlbmUoKSB7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXJQYXNzZXMucHVzaCh0aGlzKVxuXG4gICAgaWYgKHRoaXMuYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5hZGRTaGFkZXJQYXNzKHRoaXMpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUge0BsaW5rIFNoYWRlclBhc3N9IGZyb20gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAqL1xuICByZW1vdmVGcm9tU2NlbmUoKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyVGFyZ2V0KSB7XG4gICAgICB0aGlzLnJlbmRlclRhcmdldC5kZXN0cm95KClcbiAgICB9XG5cbiAgICBpZiAodGhpcy5hdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZVNoYWRlclBhc3ModGhpcylcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRlclBhc3NlcyA9IHRoaXMucmVuZGVyZXIuc2hhZGVyUGFzc2VzLmZpbHRlcigoc1ApID0+IHNQLnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGFzc1BhcmFtcyB7XG4gIC8qKiBUaGUgbGFiZWwgb2YgdGhlIHtAbGluayBSZW5kZXJQYXNzfSwgc2VudCB0byB2YXJpb3VzIEdQVSBvYmplY3RzIGZvciBkZWJ1Z2dpbmcgcHVycG9zZSAqL1xuICBsYWJlbD86IHN0cmluZ1xuICAvKiogVGhlIHtAbGluayBHUFVMb2FkT3AgfCBsb2FkIG9wZXJhdGlvbn0gdG8gcGVyZm9ybSB3aGlsZSBkcmF3aW5nIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIGxvYWRPcD86IEdQVUxvYWRPcFxuICAvKiogVGhlIHtAbGluayBHUFVDb2xvciB8IGNvbG9yIHZhbHVlc30gdG8gY2xlYXIgdG8gYmVmb3JlIGRyYXdpbmcgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgY2xlYXJWYWx1ZT86IEdQVUNvbG9yXG4gIC8qKiBPcHRpb25hbCBmb3JtYXQgb2YgdGhlIGNvbG9yIGF0dGFjaG1lbnQgdGV4dHVyZSAqL1xuICB0YXJnZXRGb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXRcbiAgLyoqIFdoZXRoZXIgdGhlIHtAbGluayBSZW5kZXJQYXNzI3ZpZXdUZXh0dXJlIHwgdmlldyB0ZXh0dXJlfSBzaG91bGQgdXNlIG11bHRpc2FtcGxpbmcgb3Igbm90ICovXG4gIHNhbXBsZUNvdW50PzogR1BVU2l6ZTMyXG5cbiAgLyoqIFdoZXRoZXIgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gc2hvdWxkIGhhbmRsZSBhIGRlcHRoIHRleHR1cmUgKi9cbiAgZGVwdGg/OiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9IHNob3VsZCB1c2UgYW4gYWxyZWFkeSBjcmVhdGVkIGRlcHRoIHRleHR1cmUgKi9cbiAgZGVwdGhUZXh0dXJlPzogUmVuZGVyVGV4dHVyZVxuICAvKiogVGhlIHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn0gdG8gcGVyZm9ybSB3aGlsZSBkcmF3aW5nIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIGRlcHRoTG9hZE9wPzogR1BVTG9hZE9wXG4gIC8qKiBUaGUgZGVwdGggY2xlYXIgdmFsdWUgdG8gY2xlYXIgdG8gYmVmb3JlIGRyYXdpbmcgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgZGVwdGhDbGVhclZhbHVlPzogR1BVUmVuZGVyUGFzc0RlcHRoU3RlbmNpbEF0dGFjaG1lbnRbJ2RlcHRoQ2xlYXJWYWx1ZSddXG59XG5cbi8qKlxuICogVXNlZCBieSB7QGxpbmsgY29yZS9yZW5kZXJQYXNzZXMvUmVuZGVyVGFyZ2V0LlJlbmRlclRhcmdldCB8IFJlbmRlclRhcmdldH0gYW5kIHRoZSB7QGxpbmsgUmVuZGVyZXJ9IHRvIHJlbmRlciB0byBhIHtAbGluayBSZW5kZXJQYXNzI3ZpZXdUZXh0dXJlIHwgdmlldyB0ZXh0dXJlfSB1c2luZyBhIHNwZWNpZmljIHtAbGluayBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciB8IHJlbmRlciBwYXNzIGRlc2NyaXB0b3J9LlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyUGFzcyB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgcmVuZGVyZXI6IFJlbmRlcmVyXG4gIC8qKiBUaGUgdHlwZSBvZiB0aGUge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIHR5cGU6IHN0cmluZ1xuICAvKiogVGhlIHVuaXZlcnNhbCB1bmlxdWUgaWQgb2YgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gKi9cbiAgb3B0aW9uczogUmVuZGVyUGFzc1BhcmFtc1xuXG4gIC8qKiBEZXB0aCB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gdXNlIHdpdGggdGhpcyB7QGxpbmsgUmVuZGVyUGFzc30gaWYgaXQgc2hvdWxkIGhhbmRsZSBkZXB0aCAqL1xuICBkZXB0aFRleHR1cmU6IFJlbmRlclRleHR1cmUgfCB1bmRlZmluZWRcbiAgLyoqIENvbG9yIGF0dGFjaG1lbnQge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIHVzZSB3aXRoIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9ICovXG4gIHZpZXdUZXh0dXJlOiBSZW5kZXJUZXh0dXJlXG4gIC8qKiBSZXNvbHZlIHtAbGluayBSZW5kZXJUZXh0dXJlfSB0byB1c2Ugd2l0aCB0aGlzIHtAbGluayBSZW5kZXJQYXNzfSBpZiBpdCBpcyB1c2luZyBtdWx0aXNhbXBsaW5nICovXG4gIC8vcmVzb2x2ZVRleHR1cmU6IFJlbmRlclRleHR1cmUgfCB1bmRlZmluZWRcblxuICAvKiogVGhlIHtAbGluayBSZW5kZXJQYXNzfSB7QGxpbmsgR1BVUmVuZGVyUGFzc0Rlc2NyaXB0b3IgfCBkZXNjcmlwdG9yfSAqL1xuICBkZXNjcmlwdG9yOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvclxuXG4gIC8qKlxuICAgKiBSZW5kZXJQYXNzIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclBhc3N9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFJlbmRlclBhc3NQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJQYXNzfVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVuZGVyZXI6IFJlbmRlcmVyIHwgR1BVQ3VydGFpbnMsXG4gICAge1xuICAgICAgbGFiZWwgPSAnUmVuZGVyIFBhc3MnLFxuICAgICAgc2FtcGxlQ291bnQgPSA0LFxuICAgICAgbG9hZE9wID0gJ2NsZWFyJyBhcyBHUFVMb2FkT3AsXG4gICAgICBjbGVhclZhbHVlID0gWzAsIDAsIDAsIDBdLFxuICAgICAgdGFyZ2V0Rm9ybWF0LFxuICAgICAgZGVwdGggPSB0cnVlLFxuICAgICAgZGVwdGhUZXh0dXJlLFxuICAgICAgZGVwdGhMb2FkT3AgPSAnY2xlYXInIGFzIEdQVUxvYWRPcCxcbiAgICAgIGRlcHRoQ2xlYXJWYWx1ZSA9IDEsXG4gICAgfSA9IHt9IGFzIFJlbmRlclBhc3NQYXJhbXNcbiAgKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCAnUmVuZGVyUGFzcycpXG5cbiAgICB0aGlzLnR5cGUgPSAnUmVuZGVyUGFzcydcbiAgICB0aGlzLnV1aWQgPSBnZW5lcmF0ZVVVSUQoKVxuXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICBzYW1wbGVDb3VudCxcbiAgICAgIC8vIGNvbG9yXG4gICAgICBsb2FkT3AsXG4gICAgICBjbGVhclZhbHVlLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIC8vIGRlcHRoXG4gICAgICBkZXB0aCxcbiAgICAgIC4uLihkZXB0aFRleHR1cmUgIT09IHVuZGVmaW5lZCAmJiB7IGRlcHRoVGV4dHVyZSB9KSxcbiAgICAgIGRlcHRoTG9hZE9wLFxuICAgICAgZGVwdGhDbGVhclZhbHVlLFxuICAgIH1cblxuICAgIHRoaXMuc2V0Q2xlYXJWYWx1ZShjbGVhclZhbHVlKVxuXG4gICAgLy8gaWYgbmVlZGVkLCBjcmVhdGUgYSBkZXB0aCB0ZXh0dXJlIGJlZm9yZSBvdXIgZGVzY3JpcHRvclxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVwdGgpIHtcbiAgICAgIHRoaXMuY3JlYXRlRGVwdGhUZXh0dXJlKClcbiAgICB9XG5cbiAgICB0aGlzLnZpZXdUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgdmlldyB0ZXh0dXJlJyxcbiAgICAgIG5hbWU6ICd2aWV3VGV4dHVyZScsXG4gICAgICBmb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQsXG4gICAgICBzYW1wbGVDb3VudDogdGhpcy5vcHRpb25zLnNhbXBsZUNvdW50LFxuICAgIH0pXG5cbiAgICAvLyBpZiAodGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSkge1xuICAgIC8vICAgdGhpcy5yZXNvbHZlVGV4dHVyZSA9IG5ldyBSZW5kZXJUZXh0dXJlKHRoaXMucmVuZGVyZXIsIHtcbiAgICAvLyAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgcmVzb2x2ZSB0ZXh0dXJlJyxcbiAgICAvLyAgICAgbmFtZTogJ3Jlc29sdmVUZXh0dXJlJyxcbiAgICAvLyAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudGFyZ2V0Rm9ybWF0LFxuICAgIC8vICAgfSlcbiAgICAvLyB9XG5cbiAgICB0aGlzLnNldFJlbmRlclBhc3NEZXNjcmlwdG9yKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBkZXB0aFRleHR1cmUgfCBkZXB0aCB0ZXh0dXJlfVxuICAgKi9cbiAgY3JlYXRlRGVwdGhUZXh0dXJlKCkge1xuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCArICcgZGVwdGggdGV4dHVyZScsXG4gICAgICBuYW1lOiAnZGVwdGhUZXh0dXJlJyxcbiAgICAgIHVzYWdlOiAnZGVwdGhUZXh0dXJlJyxcbiAgICAgIGZvcm1hdDogJ2RlcHRoMjRwbHVzJyxcbiAgICAgIHNhbXBsZUNvdW50OiB0aGlzLm9wdGlvbnMuc2FtcGxlQ291bnQsXG4gICAgICAuLi4odGhpcy5vcHRpb25zLmRlcHRoVGV4dHVyZSAmJiB7IGZyb21UZXh0dXJlOiB0aGlzLm9wdGlvbnMuZGVwdGhUZXh0dXJlIH0pLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgb3VyIHtAbGluayBkZXB0aFRleHR1cmUgfCBkZXB0aCB0ZXh0dXJlfVxuICAgKi9cbiAgcmVzZXRSZW5kZXJQYXNzRGVwdGgoKSB7XG4gICAgdGhpcy5kZXB0aFRleHR1cmUuZm9yY2VSZXNpemUoe1xuICAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgIGRlcHRoOiAxLFxuICAgIH0pXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsQXR0YWNobWVudC52aWV3ID0gdGhpcy5kZXB0aFRleHR1cmUudGV4dHVyZS5jcmVhdGVWaWV3KHtcbiAgICAgIGxhYmVsOiB0aGlzLmRlcHRoVGV4dHVyZS5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyxcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IG91ciB7QGxpbmsgdmlld1RleHR1cmUgfCB2aWV3IHRleHR1cmV9XG4gICAqL1xuICByZXNldFJlbmRlclBhc3NWaWV3KCkge1xuICAgIHRoaXMudmlld1RleHR1cmUuZm9yY2VSZXNpemUoe1xuICAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnJlbmRlcmVyLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgIGRlcHRoOiAxLFxuICAgIH0pXG5cbiAgICB0aGlzLmRlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXS52aWV3ID0gdGhpcy52aWV3VGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgbGFiZWw6IHRoaXMudmlld1RleHR1cmUub3B0aW9ucy5sYWJlbCArICcgdmlldycsXG4gICAgfSlcblxuICAgIC8vIGlmICh0aGlzLm9wdGlvbnMuc2FtcGxlQ291bnQgPiAxKSB7XG4gICAgLy8gICB0aGlzLnJlc29sdmVUZXh0dXJlLmZvcmNlUmVzaXplKHtcbiAgICAvLyAgICAgd2lkdGg6IE1hdGguZmxvb3IodGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSxcbiAgICAvLyAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQpLFxuICAgIC8vICAgICBkZXB0aDogMSxcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyAgIHRoaXMuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLnJlc29sdmVUYXJnZXQgPSB0aGlzLnJlc29sdmVUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldygpXG4gICAgLy8gfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIgcmVuZGVyIHBhc3Mge0BsaW5rIGRlc2NyaXB0b3J9XG4gICAqL1xuICBzZXRSZW5kZXJQYXNzRGVzY3JpcHRvcigpIHtcbiAgICB0aGlzLmRlc2NyaXB0b3IgPSB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsICsgJyBkZXNjcmlwdG9yJyxcbiAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIC8vIHZpZXc6IDwtIHRvIGJlIGZpbGxlZCBvdXQgd2hlbiB3ZSBzZXQgb3VyIHJlbmRlciBwYXNzIHZpZXdcbiAgICAgICAgICB2aWV3OiB0aGlzLnZpZXdUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgICAgICBsYWJlbDogdGhpcy52aWV3VGV4dHVyZS5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAvLyAuLi4odGhpcy5vcHRpb25zLnNhbXBsZUNvdW50ID4gMSAmJiB7XG4gICAgICAgICAgLy8gICByZXNvbHZlVGFyZ2V0OiB0aGlzLnJlc29sdmVUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgICAgLy8gICAgIGxhYmVsOiB0aGlzLnJlc29sdmVUZXh0dXJlLm9wdGlvbnMubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgICAgIC8vICAgfSksXG4gICAgICAgICAgLy8gfSksXG4gICAgICAgICAgLy8gY2xlYXIgdmFsdWVzXG4gICAgICAgICAgY2xlYXJWYWx1ZTogdGhpcy5vcHRpb25zLmNsZWFyVmFsdWUsXG4gICAgICAgICAgLy8gbG9hZE9wOiAnY2xlYXInIHNwZWNpZmllcyB0byBjbGVhciB0aGUgdGV4dHVyZSB0byB0aGUgY2xlYXIgdmFsdWUgYmVmb3JlIGRyYXdpbmdcbiAgICAgICAgICAvLyBUaGUgb3RoZXIgb3B0aW9uIGlzICdsb2FkJyB3aGljaCBtZWFucyBsb2FkIHRoZSBleGlzdGluZyBjb250ZW50cyBvZiB0aGUgdGV4dHVyZSBpbnRvIHRoZSBHUFUgc28gd2UgY2FuIGRyYXcgb3ZlciB3aGF0J3MgYWxyZWFkeSB0aGVyZS5cbiAgICAgICAgICBsb2FkT3A6IHRoaXMub3B0aW9ucy5sb2FkT3AsXG4gICAgICAgICAgLy8gc3RvcmVPcDogJ3N0b3JlJyBtZWFucyBzdG9yZSB0aGUgcmVzdWx0IG9mIHdoYXQgd2UgZHJhdy5cbiAgICAgICAgICAvLyBXZSBjb3VsZCBhbHNvIHBhc3MgJ2Rpc2NhcmQnIHdoaWNoIHdvdWxkIHRocm93IGF3YXkgd2hhdCB3ZSBkcmF3LlxuICAgICAgICAgIC8vIHNlZSBodHRwczovL3dlYmdwdWZ1bmRhbWVudGFscy5vcmcvd2ViZ3B1L2xlc3NvbnMvd2ViZ3B1LW11bHRpc2FtcGxpbmcuaHRtbFxuICAgICAgICAgIHN0b3JlT3A6ICdzdG9yZScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgLi4uKHRoaXMub3B0aW9ucy5kZXB0aCAmJiB7XG4gICAgICAgIGRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ6IHtcbiAgICAgICAgICB2aWV3OiB0aGlzLmRlcHRoVGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICAgICAgbGFiZWw6IHRoaXMuZGVwdGhUZXh0dXJlLm9wdGlvbnMubGFiZWwgKyAnIHZpZXcnLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRlcHRoQ2xlYXJWYWx1ZTogdGhpcy5vcHRpb25zLmRlcHRoQ2xlYXJWYWx1ZSxcbiAgICAgICAgICAvLyB0aGUgc2FtZSB3YXkgbG9hZE9wIGlzIHdvcmtpbmcsIHdlIGNhbiBzcGVjaWZ5IGlmIHdlIHdhbnQgdG8gY2xlYXIgb3IgbG9hZCB0aGUgcHJldmlvdXMgZGVwdGggYnVmZmVyIHJlc3VsdFxuICAgICAgICAgIGRlcHRoTG9hZE9wOiB0aGlzLm9wdGlvbnMuZGVwdGhMb2FkT3AsXG4gICAgICAgICAgZGVwdGhTdG9yZU9wOiAnc3RvcmUnLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgfSBhcyBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvclxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBvdXIge0BsaW5rIFJlbmRlclBhc3N9OiByZXNldCBpdHMge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqL1xuICByZXNpemUoKSB7XG4gICAgLy8gcmVzZXQgdGV4dHVyZXNcbiAgICBpZiAodGhpcy5vcHRpb25zLmRlcHRoKSB0aGlzLnJlc2V0UmVuZGVyUGFzc0RlcHRoKClcbiAgICB0aGlzLnJlc2V0UmVuZGVyUGFzc1ZpZXcoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGRlc2NyaXB0b3J9IHtAbGluayBHUFVMb2FkT3AgfCBsb2FkIG9wZXJhdGlvbn1cbiAgICogQHBhcmFtIGxvYWRPcCAtIG5ldyB7QGxpbmsgR1BVTG9hZE9wIHwgbG9hZCBvcGVyYXRpb259IHRvIHVzZVxuICAgKi9cbiAgc2V0TG9hZE9wKGxvYWRPcDogR1BVTG9hZE9wID0gJ2NsZWFyJykge1xuICAgIHRoaXMub3B0aW9ucy5sb2FkT3AgPSBsb2FkT3BcbiAgICBpZiAodGhpcy5kZXNjcmlwdG9yKSB7XG4gICAgICBpZiAodGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHMpIHtcbiAgICAgICAgdGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHNbMF0ubG9hZE9wID0gbG9hZE9wXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGRlc2NyaXB0b3J9IHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn1cbiAgICogQHBhcmFtIGRlcHRoTG9hZE9wIC0gbmV3IHtAbGluayBHUFVMb2FkT3AgfCBkZXB0aCBsb2FkIG9wZXJhdGlvbn0gdG8gdXNlXG4gICAqL1xuICBzZXREZXB0aExvYWRPcChkZXB0aExvYWRPcDogR1BVTG9hZE9wID0gJ2NsZWFyJykge1xuICAgIHRoaXMub3B0aW9ucy5kZXB0aExvYWRPcCA9IGRlcHRoTG9hZE9wXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kZXB0aCAmJiB0aGlzLmRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsQXR0YWNobWVudCkge1xuICAgICAgdGhpcy5kZXNjcmlwdG9yLmRlcHRoU3RlbmNpbEF0dGFjaG1lbnQuZGVwdGhMb2FkT3AgPSBkZXB0aExvYWRPcFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBHUFVDb2xvciB8IGNsZWFyIGNvbG9ycyB2YWx1ZX0uPGJyPlxuICAgKiBCZXdhcmUgdGhhdCBpZiB0aGUge0BsaW5rIHJlbmRlcmVyfSBpcyB1c2luZyB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIjYWxwaGFNb2RlIHwgcHJlbXVsdGlwbGllZCBhbHBoYSBtb2RlfSwgeW91ciBSLCBHIGFuZCBCIGNoYW5uZWxzIHNob3VsZCBiZSBwcmVtdWx0aXBsaWVkIGJ5IHlvdXIgYWxwaGEgY2hhbm5lbC5cbiAgICogQHBhcmFtIGNsZWFyVmFsdWUgLSBuZXcge0BsaW5rIEdQVUNvbG9yIHwgY2xlYXIgY29sb3JzIHZhbHVlfSB0byB1c2VcbiAgICovXG4gIHNldENsZWFyVmFsdWUoY2xlYXJWYWx1ZTogR1BVQ29sb3IgPSBbMCwgMCwgMCwgMF0pIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlci5hbHBoYU1vZGUgPT09ICdwcmVtdWx0aXBsaWVkJykge1xuICAgICAgY29uc3QgYWxwaGEgPSBjbGVhclZhbHVlWzNdXG4gICAgICBjbGVhclZhbHVlWzBdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVswXSwgYWxwaGEpXG4gICAgICBjbGVhclZhbHVlWzFdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVsxXSwgYWxwaGEpXG4gICAgICBjbGVhclZhbHVlWzJdID0gTWF0aC5taW4oY2xlYXJWYWx1ZVsyXSwgYWxwaGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jbGVhclZhbHVlID0gY2xlYXJWYWx1ZVxuICAgIH1cblxuICAgIGlmICh0aGlzLmRlc2NyaXB0b3IgJiYgdGhpcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHMpIHtcbiAgICAgIHRoaXMuZGVzY3JpcHRvci5jb2xvckF0dGFjaG1lbnRzWzBdLmNsZWFyVmFsdWUgPSBjbGVhclZhbHVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIHtAbGluayBSZW5kZXJQYXNzfVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnZpZXdUZXh0dXJlPy5kZXN0cm95KClcblxuICAgIGlmICghdGhpcy5vcHRpb25zLmRlcHRoVGV4dHVyZSAmJiB0aGlzLmRlcHRoVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFRleHR1cmUuZGVzdHJveSgpXG4gICAgfVxuXG4gICAgLy90aGlzLnJlc29sdmVUZXh0dXJlPy5kZXN0cm95KClcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBSZW5kZXJQYXNzLCBSZW5kZXJQYXNzUGFyYW1zIH0gZnJvbSAnLi9SZW5kZXJQYXNzJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUQgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBET01FbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSAnLi4vRE9NL0RPTUVsZW1lbnQnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBSZW5kZXJUYXJnZXR9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyVGFyZ2V0UGFyYW1zIGV4dGVuZHMgUmVuZGVyUGFzc1BhcmFtcyB7XG4gIC8qKiBXaGV0aGVyIHdlIHNob3VsZCBhZGQgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB0byBvdXIge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9IHRvIGxldCBpdCBoYW5kbGUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIGF1dG9tYXRpY2FsbHkgKi9cbiAgYXV0b1JlbmRlcj86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBVc2VkIHRvIGRyYXcgbWVzaGVzIHRvIGEge0BsaW5rIFJlbmRlclBhc3Mjdmlld1RleHR1cmUgfCBSZW5kZXJQYXNzIHZpZXcgdGV4dHVyZX0gaW5zdGVhZCBvZiBkaXJlY3RseSB0byBzY3JlZW4uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIGNvbnN0IHJlbmRlclRhcmdldCA9IG5ldyBSZW5kZXJUYXJnZXQoZ3B1Q3VydGFpbnMsIHtcbiAqICAgbGFiZWw6ICdNeSByZW5kZXIgdGFyZ2V0JyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFJlbmRlclRhcmdldCB7XG4gIC8qKiB7QGxpbmsgUmVuZGVyZXJ9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICByZW5kZXJlcjogUmVuZGVyZXJcbiAgLyoqIFRoZSB0eXBlIG9mIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIFRoZSB1bml2ZXJzYWwgdW5pcXVlIGlkIG9mIHRoaXMge0BsaW5rIFJlbmRlclRhcmdldH0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICBvcHRpb25zOiBSZW5kZXJUYXJnZXRQYXJhbXNcblxuICAvKioge0BsaW5rIFJlbmRlclBhc3N9IHVzZWQgYnkgdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzXG4gIC8qKiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdGhhdCB3aWxsIGJlIHJlc29sdmVkIGJ5IHRoZSB7QGxpbmsgcmVuZGVyUGFzc30gd2hlbiB7QGxpbmsgY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXIuR1BVUmVuZGVyZXIjc2V0UmVuZGVyUGFzc0N1cnJlbnRUZXh0dXJlIHwgc2V0dGluZyB0aGUgY3VycmVudCB0ZXh0dXJlfSAqL1xuICByZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlXG5cbiAgLyoqIFdoZXRoZXIgd2Ugc2hvdWxkIGFkZCB0aGlzIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIG91ciB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX0gdG8gbGV0IGl0IGhhbmRsZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3MgYXV0b21hdGljYWxseSAqL1xuICAjYXV0b1JlbmRlciA9IHRydWVcblxuICAvKipcbiAgICogUmVuZGVyVGFyZ2V0IGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFJlbmRlclRhcmdldH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgUmVuZGVyVGFyZ2V0UGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBSZW5kZXJUYXJnZXR9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcjogUmVuZGVyZXIgfCBHUFVDdXJ0YWlucywgcGFyYW1ldGVyczogUmVuZGVyVGFyZ2V0UGFyYW1zKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCAnUmVuZGVyVGFyZ2V0JylcblxuICAgIHRoaXMudHlwZSA9ICdSZW5kZXJUYXJnZXQnXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIGNvbnN0IHsgbGFiZWwsIHRhcmdldEZvcm1hdCwgYXV0b1JlbmRlciwgLi4ucmVuZGVyUGFzc1BhcmFtcyB9ID0gcGFyYW1ldGVyc1xuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbGFiZWwsXG4gICAgICAuLi5yZW5kZXJQYXNzUGFyYW1zLFxuICAgICAgdGFyZ2V0Rm9ybWF0OiB0YXJnZXRGb3JtYXQgPz8gdGhpcy5yZW5kZXJlci5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGF1dG9SZW5kZXIsXG4gICAgfVxuXG4gICAgaWYgKGF1dG9SZW5kZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy4jYXV0b1JlbmRlciA9IGF1dG9SZW5kZXJcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlclBhc3MgPSBuZXcgUmVuZGVyUGFzcyh0aGlzLnJlbmRlcmVyLCB7XG4gICAgICBsYWJlbDogdGhpcy5vcHRpb25zLmxhYmVsID8gYCR7dGhpcy5vcHRpb25zLmxhYmVsfSBSZW5kZXIgUGFzc2AgOiAnUmVuZGVyIFRhcmdldCBSZW5kZXIgUGFzcycsXG4gICAgICB0YXJnZXRGb3JtYXQ6IHRoaXMub3B0aW9ucy50YXJnZXRGb3JtYXQsXG4gICAgICBkZXB0aFRleHR1cmU6IHRoaXMucmVuZGVyZXIucmVuZGVyUGFzcy5kZXB0aFRleHR1cmUsIC8vIHJldXNlIHJlbmRlcmVyIGRlcHRoIHRleHR1cmUgZm9yIGV2ZXJ5IHBhc3NcbiAgICAgIC4uLnJlbmRlclBhc3NQYXJhbXMsXG4gICAgfSlcblxuICAgIC8vIHRoaXMgaXMgdGhlIHRleHR1cmUgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gc2V0dGluZyB0aGUgY3VycmVudCByZW5kZXIgcGFzcyB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcy5yZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHRoaXMub3B0aW9ucy5sYWJlbCA/IGAke3RoaXMub3B0aW9ucy5sYWJlbH0gUmVuZGVyIFRleHR1cmVgIDogJ1JlbmRlciBUYXJnZXQgUmVuZGVyIFRleHR1cmUnLFxuICAgICAgbmFtZTogJ3JlbmRlclRleHR1cmUnLFxuICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMudGFyZ2V0Rm9ybWF0LFxuICAgIH0pXG5cbiAgICB0aGlzLmFkZFRvU2NlbmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gdGhlIHJlbmRlcmVyIGFuZCB0aGUge0BsaW5rIGNvcmUvc2NlbmVzL1NjZW5lLlNjZW5lIHwgU2NlbmV9XG4gICAqL1xuICBhZGRUb1NjZW5lKCkge1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMpXG5cbiAgICBpZiAodGhpcy4jYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5hZGRSZW5kZXJUYXJnZXQodGhpcylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLiNhdXRvUmVuZGVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNjZW5lLnJlbW92ZVJlbmRlclRhcmdldCh0aGlzKVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cyA9IHRoaXMucmVuZGVyZXIucmVuZGVyVGFyZ2V0cy5maWx0ZXIoKHJlbmRlclRhcmdldCkgPT4gcmVuZGVyVGFyZ2V0LnV1aWQgIT09IHRoaXMudXVpZClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgb3VyIHtAbGluayByZW5kZXJQYXNzfSBhbmQge0BsaW5rIHJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSBuZXcge0BsaW5rIERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBib3VuZGluZyByZWN0YW5nbGV9XG4gICAqL1xuICByZXNpemUoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0KSB7XG4gICAgLy8gcmVzZXQgdGhlIG5ld2x5IGNyZWF0ZWQgcmVuZGVyZXIgcmVuZGVyIHBhc3MgZGVwdGggdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyUGFzcy5vcHRpb25zLmRlcHRoVGV4dHVyZS50ZXh0dXJlID0gdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzLmRlcHRoVGV4dHVyZS50ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJQYXNzPy5yZXNpemUoKVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZT8ucmVzaXplKClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgb3VyIHtAbGluayBSZW5kZXJUYXJnZXR9LiBBbGlhcyBvZiB7QGxpbmsgUmVuZGVyVGFyZ2V0I2Rlc3Ryb3l9XG4gICAqL1xuICByZW1vdmUoKSB7XG4gICAgdGhpcy5kZXN0cm95KClcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgUmVuZGVyVGFyZ2V0fVxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICAvLyByZWxlYXNlIG1lc2ggc3RydWN0XG4gICAgdGhpcy5yZW5kZXJlci5tZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgaWYgKG1lc2gucmVuZGVyVGFyZ2V0ICYmIG1lc2gucmVuZGVyVGFyZ2V0LnV1aWQgPT09IHRoaXMudXVpZCkge1xuICAgICAgICBtZXNoLnNldFJlbmRlclRhcmdldChudWxsKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyByZWxlYXNlIHNoYWRlciBwYXNzZXMgc3RydWN0XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkZXJQYXNzZXMuZm9yRWFjaCgoc2hhZGVyUGFzcykgPT4ge1xuICAgICAgaWYgKHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0ICYmIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0LnV1aWQgPT09IHRoaXMudXVpZCkge1xuICAgICAgICAvLyBmb3JjZSByZW5kZXIgdGFyZ2V0IHRvIG51bGwgYmVmb3JlIHJlbW92aW5nIC8gcmUtYWRkaW5nIHRvIHNjZW5lXG4gICAgICAgIHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0ID0gbnVsbFxuICAgICAgICBzaGFkZXJQYXNzLnNldFJlbmRlclRhcmdldChudWxsKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyByZW1vdmUgZnJvbSBzY2VuZSBhbmQgcmVuZGVyZXIgYXJyYXlcbiAgICB0aGlzLnJlbW92ZUZyb21TY2VuZSgpXG5cbiAgICB0aGlzLnJlbmRlclBhc3M/LmRlc3Ryb3koKVxuICAgIHRoaXMucmVuZGVyVGV4dHVyZT8uZGVzdHJveSgpXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzUmVuZGVyZXIsIFJlbmRlcmVyIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuLi8uLi9jb3JlL3JlbmRlclBhc3Nlcy9SZW5kZXJUYXJnZXQnXG5pbXBvcnQgeyBGdWxsc2NyZWVuUGxhbmUgfSBmcm9tICcuLi8uLi9jb3JlL21lc2hlcy9GdWxsc2NyZWVuUGxhbmUnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSwgUmVuZGVyVGV4dHVyZVBhcmFtcyB9IGZyb20gJy4uLy4uL2NvcmUvdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcbmltcG9ydCB7IE1lc2hCYXNlUmVuZGVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9tZXNoZXMvbWl4aW5zL01lc2hCYXNlTWl4aW4nXG5cbi8qKlxuICogVXNlZCB0byBjcmVhdGUgYSBzcGVjaWFsIHR5cGUgb2Yge0BsaW5rIEZ1bGxzY3JlZW5QbGFuZX0gdGhhdCBhbGxvd3MgdG8gdXNlIHRoZSBwcmV2aW91cyBmcmFtZSBmcmFnbWVudCBzaGFkZXIgb3V0cHV0IGFzIGFuIGlucHV0IHRleHR1cmUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIFBpbmdQb25nUGxhbmVcbiAqIGNvbnN0IHNoYWRlclBhc3MgPSBuZXcgUGluZ1BvbmdQbGFuZShncHVDdXJ0YWluLCB7XG4gKiAgIGxhYmVsOiAnTXkgcGluZyBwb25nIHBsYW5lJyxcbiAqICAgc2hhZGVyczoge1xuICogICAgIGZyYWdtZW50OiB7XG4gKiAgICAgICBjb2RlOiBwaW5nUG9uZ0NvZGUsIC8vIGFzc3VtZSBpdCBpcyBhIHZhbGlkIFdHU0wgZnJhZ21lbnQgc2hhZGVyXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBpbmdQb25nUGxhbmUgZXh0ZW5kcyBGdWxsc2NyZWVuUGxhbmUge1xuICAvKioge0BsaW5rIFJlbmRlclRhcmdldH0gY29udGVudCB0byB1c2UgYXMgYW4gaW5wdXQgKi9cbiAgcmVuZGVyVGFyZ2V0OiBSZW5kZXJUYXJnZXRcblxuICAvKipcbiAgICogUGluZ1BvbmdQbGFuZSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBQaW5nUG9uZ1BsYW5lfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBNZXNoQmFzZVJlbmRlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZSB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUGluZ1BvbmdQbGFuZX1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zLCBwYXJhbWV0ZXJzID0ge30gYXMgTWVzaEJhc2VSZW5kZXJQYXJhbXMpIHtcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgUmVuZGVyZXIpXG5cbiAgICBpc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gcGFyYW1ldGVycy5sYWJlbCArICcgUGluZ1BvbmdQbGFuZScgOiAnUGluZ1BvbmdQbGFuZScpXG5cbiAgICAvLyB3ZSB3aWxsIHJlbmRlciBpbnRvIGEgc2VwYXJhdGUgdGV4dHVyZVxuICAgIHBhcmFtZXRlcnMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldChyZW5kZXJlciwge1xuICAgICAgbGFiZWw6IHBhcmFtZXRlcnMubGFiZWwgPyBwYXJhbWV0ZXJzLmxhYmVsICsgJyByZW5kZXIgdGFyZ2V0JyA6ICdQaW5nIFBvbmcgcmVuZGVyIHRhcmdldCcsXG4gICAgICBkZXB0aDogZmFsc2UsXG4gICAgICAuLi4ocGFyYW1ldGVycy50YXJnZXRGb3JtYXQgJiYgeyB0YXJnZXRGb3JtYXQ6IHBhcmFtZXRlcnMudGFyZ2V0Rm9ybWF0IH0pLFxuICAgIH0pXG5cbiAgICAvLyBubyBibGVuZGluZyBhbmQgZGVwdGggZm9yIHBpbmcgcG9uZyBwbGFuZXNcbiAgICBwYXJhbWV0ZXJzLnRyYW5zcGFyZW50ID0gZmFsc2VcbiAgICBwYXJhbWV0ZXJzLmRlcHRoID0gZmFsc2VcbiAgICBwYXJhbWV0ZXJzLmxhYmVsID0gcGFyYW1ldGVycy5sYWJlbCA/PyAnUGluZ1BvbmdQbGFuZSAnICsgcmVuZGVyZXIucGluZ1BvbmdQbGFuZXM/Lmxlbmd0aFxuXG4gICAgc3VwZXIocmVuZGVyZXIsIHBhcmFtZXRlcnMpXG5cbiAgICB0aGlzLnR5cGUgPSAnUGluZ1BvbmdQbGFuZSdcblxuICAgIHRoaXMuY3JlYXRlUmVuZGVyVGV4dHVyZSh7XG4gICAgICBsYWJlbDogcGFyYW1ldGVycy5sYWJlbCA/IGAke3BhcmFtZXRlcnMubGFiZWx9IHJlbmRlciB0ZXh0dXJlYCA6ICdQaW5nUG9uZ1BsYW5lIHJlbmRlciB0ZXh0dXJlJyxcbiAgICAgIG5hbWU6ICdyZW5kZXJUZXh0dXJlJyxcbiAgICAgIC4uLihwYXJhbWV0ZXJzLnRhcmdldEZvcm1hdCAmJiB7IGZvcm1hdDogcGFyYW1ldGVycy50YXJnZXRGb3JtYXQgfSksXG4gICAgfSBhcyBSZW5kZXJUZXh0dXJlUGFyYW1zKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIgbWFpbiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0sIHRoZSBvbmUgdGhhdCBjb250YWlucyBvdXIgcGluZyBwb25nIGNvbnRlbnRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyVGV4dHVyZSgpOiBSZW5kZXJUZXh0dXJlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJUZXh0dXJlcy5maW5kKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLm9wdGlvbnMubmFtZSA9PT0gJ3JlbmRlclRleHR1cmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUge0BsaW5rIFBpbmdQb25nUGxhbmV9IHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICB0aGlzLnJlbmRlcmVyLnBpbmdQb25nUGxhbmVzLnB1c2godGhpcylcblxuICAgIGlmICh0aGlzLmF1dG9SZW5kZXIpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2NlbmUuYWRkUGluZ1BvbmdQbGFuZSh0aGlzKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIHtAbGluayBQaW5nUG9uZ1BsYW5lfSBmcm9tIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgcmVtb3ZlRnJvbVNjZW5lKCkge1xuICAgIGlmICh0aGlzLnJlbmRlclRhcmdldCkge1xuICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuZGVzdHJveSgpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5zY2VuZS5yZW1vdmVQaW5nUG9uZ1BsYW5lKHRoaXMpXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5waW5nUG9uZ1BsYW5lcyA9IHRoaXMucmVuZGVyZXIucGluZ1BvbmdQbGFuZXMuZmlsdGVyKChwUFApID0+IHBQUC51dWlkICE9PSB0aGlzLnV1aWQpXG4gIH1cbn1cbiIsImltcG9ydCB7IFByb2plY3RlZE9iamVjdDNEIH0gZnJvbSAnLi4vLi4vY29yZS9vYmplY3RzM0QvUHJvamVjdGVkT2JqZWN0M0QnXHJcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcclxuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi9HUFVDdXJ0YWlucydcclxuaW1wb3J0IHsgaXNDdXJ0YWluc1JlbmRlcmVyIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvdXRpbHMnXHJcbmltcG9ydCB7IERPTUVsZW1lbnQsIERPTUVsZW1lbnRCb3VuZGluZ1JlY3QsIERPTUVsZW1lbnRQYXJhbXMsIERPTVBvc2l0aW9uLCBSZWN0QkJveCB9IGZyb20gJy4uLy4uL2NvcmUvRE9NL0RPTUVsZW1lbnQnXHJcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXHJcbmltcG9ydCB7IE9iamVjdDNEVHJhbnNmb3JtcyB9IGZyb20gJy4uLy4uL2NvcmUvb2JqZWN0czNEL09iamVjdDNEJ1xyXG5cclxuLyoqIERlZmluZXMgdGhlIHtAbGluayBET01PYmplY3QzRH0gYm91bmRpbmcgYm94ZXMgaW4gYm90aCBkb2N1bWVudCBhbmQgd29ybGQgc3BhY2VzICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRE9NT2JqZWN0M0RTaXplIHtcclxuICAvKiogVGhlIHtAbGluayBET01PYmplY3QzRH0gYm91bmRpbmcgYm94IGluIHdvcmxkIHNwYWNlICovXHJcbiAgd29ybGQ6IFJlY3RCQm94XHJcbiAgLyoqIFRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IGJvdW5kaW5nIGJveCBpbiBkb2N1bWVudCBzcGFjZSAqL1xyXG4gIGRvY3VtZW50OiBSZWN0QkJveFxyXG59XHJcblxyXG4vKipcclxuICogRGVmaW5lcyBhbGwgbmVjZXNzYXJ5IHtAbGluayBWZWMzIHwgdmVjdG9yc30ve0BsaW5rIG1hdGgvUXVhdC5RdWF0IHwgcXVhdGVybmlvbnN9IHRvIGNvbXB1dGUgYSAzRCB7QGxpbmsgbWF0aC9NYXQ0Lk1hdDQgfCBtb2RlbCBtYXRyaXh9IGJhc2VkIG9uIGEgRE9NIHtAbGluayBIVE1MRWxlbWVudH1cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zIGV4dGVuZHMgT21pdDxPYmplY3QzRFRyYW5zZm9ybXMsICdvcmlnaW4nIHwgJ3Bvc2l0aW9uJz4ge1xyXG4gIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4gb2JqZWN0ICovXHJcbiAgb3JpZ2luOiB7XHJcbiAgICAvKiogVHJhbnNmb3JtYXRpb24gb3JpZ2luIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUge0BsaW5rIERPTU9iamVjdDNEfSAqL1xyXG4gICAgbW9kZWw6IFZlYzNcclxuICAgIC8qKiBUcmFuc2Zvcm1hdGlvbiBvcmlnaW4ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCAqL1xyXG4gICAgd29ybGQ6IFZlYzNcclxuICB9XHJcbiAgLyoqIFBvc2l0aW9uIG9iamVjdCAqL1xyXG4gIHBvc2l0aW9uOiB7XHJcbiAgICAvKiogUG9zaXRpb24ge0BsaW5rIFZlYzMgfCB2ZWN0b3J9IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCAqL1xyXG4gICAgd29ybGQ6IFZlYzNcclxuICAgIC8qKiBBZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSByZWxhdGl2ZSB0byB0aGUgRE9NIGRvY3VtZW50ICovXHJcbiAgICBkb2N1bWVudDogVmVjM1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgRE9NT2JqZWN0M0R9XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIERPTU9iamVjdDNEUGFyYW1zIHtcclxuICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBkb2N1bWVudCBhbmQgd29ybGQgcG9zaXRpb25zIG9uIHNjcm9sbCAqL1xyXG4gIHdhdGNoU2Nyb2xsPzogYm9vbGVhblxyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBzcGVjaWFsIGtpbmQgb2Yge0BsaW5rIFByb2plY3RlZE9iamVjdDNEfSB1c2VzIGFuIHtAbGluayBIVE1MRWxlbWVudH0gdG8gY29udmVydCB0aGUgY29ycmVzcG9uZGluZyBYIGFuZCBZIHtAbGluayBET01PYmplY3QzRCNzY2FsZSB8IHNjYWxlfSBhbmQge0BsaW5rIERPTU9iamVjdDNEI3Bvc2l0aW9uIHwgcG9zaXRpb259IHJlbGF0aXZlIHRvIHRoZSAzRCB3b3JsZCBzcGFjZS5cclxuICpcclxuICogSW50ZXJuYWxseSB1c2VkIGJ5IHRoZSB7QGxpbmsgY3VydGFpbnMvbWVzaGVzL0RPTU1lc2guRE9NTWVzaCB8IERPTU1lc2h9IGFuZCB7QGxpbmsgY3VydGFpbnMvbWVzaGVzL1BsYW5lLlBsYW5lIHwgUGxhbmV9XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgRE9NT2JqZWN0M0QgZXh0ZW5kcyBQcm9qZWN0ZWRPYmplY3QzRCB7XHJcbiAgLyoqIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBET01PYmplY3QzRH0gKi9cclxuICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlclxyXG5cclxuICAvKiogRGVmaW5lcyB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBib3VuZGluZyBib3hlcyBpbiBib3RoIGRvY3VtZW50IGFuZCB3b3JsZCBzcGFjZXMgKi9cclxuICBzaXplOiBET01PYmplY3QzRFNpemVcclxuICAvKioge0BsaW5rIERPTUVsZW1lbnR9IHVzZWQgdG8gdHJhY2sgdGhlIGdpdmVuIHtAbGluayBIVE1MRWxlbWVudH0gc2l6ZSBjaGFuZ2UgKi9cclxuICBkb21FbGVtZW50OiBET01FbGVtZW50XHJcblxyXG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IGRvY3VtZW50IGFuZCB3b3JsZCBwb3NpdGlvbnMgb24gc2Nyb2xsICovXHJcbiAgd2F0Y2hTY3JvbGw6IGJvb2xlYW5cclxuXHJcbiAgLyoqIHtAbGluayBET01PYmplY3QzRFRyYW5zZm9ybXMgfCBUcmFuc2Zvcm1hdGlvbiBvYmplY3R9IG9mIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9ICovXHJcbiAgdHJhbnNmb3JtczogRE9NT2JqZWN0M0RUcmFuc2Zvcm1zXHJcblxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGFjdHVhbCB7QGxpbmsgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zI3Bvc2l0aW9uLndvcmxkIHwgd29ybGQgcG9zaXRpb259IGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRFRyYW5zZm9ybXMjcG9zaXRpb24uZG9jdW1lbnQgfCBhZGRpdGlvbmFsIGRvY3VtZW50IHRyYW5zbGF0aW9ufSBjb252ZXJ0ZWQgaW50byB3b3JsZCBzcGFjZSAqL1xyXG4gICNET01PYmplY3RXb3JsZFBvc2l0aW9uOiBWZWMzID0gbmV3IFZlYzMoKVxyXG4gIC8qKiBQcml2YXRlIHtAbGluayBWZWMzIHwgdmVjdG9yfSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGFjdHVhbCB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHNjYWxlIGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRCNzaXplLndvcmxkIHwgRE9NT2JqZWN0M0Qgd29ybGQgc2l6ZX0gKi9cclxuICAjRE9NT2JqZWN0V29ybGRTY2FsZTogVmVjMyA9IG5ldyBWZWMzKClcclxuXHJcbiAgLyoqXHJcbiAgICogRE9NT2JqZWN0M0QgY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0ge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdXNlZCB0byBzY2FsZSBhbmQgcG9zaXRpb24gdGhlIHtAbGluayBET01PYmplY3QzRH1cclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBET01PYmplY3QzRFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcmVuZGVyZXI6IEdQVUN1cnRhaW5zUmVuZGVyZXIgfCBHUFVDdXJ0YWlucyxcclxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcclxuICAgIHBhcmFtZXRlcnM6IERPTU9iamVjdDNEUGFyYW1zXHJcbiAgKSB7XHJcbiAgICBzdXBlcihyZW5kZXJlcilcclxuXHJcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxyXG4gICAgcmVuZGVyZXIgPSAocmVuZGVyZXIgJiYgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zKS5yZW5kZXJlcikgfHwgKHJlbmRlcmVyIGFzIEdQVUN1cnRhaW5zUmVuZGVyZXIpXHJcblxyXG4gICAgaXNDdXJ0YWluc1JlbmRlcmVyKHJlbmRlcmVyLCAnRE9NM0RPYmplY3QnKVxyXG5cclxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxyXG5cclxuICAgIHRoaXMuc2l6ZSA9IHtcclxuICAgICAgd29ybGQ6IHtcclxuICAgICAgICB3aWR0aDogMCxcclxuICAgICAgICBoZWlnaHQ6IDAsXHJcbiAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRvY3VtZW50OiB7XHJcbiAgICAgICAgd2lkdGg6IDAsXHJcbiAgICAgICAgaGVpZ2h0OiAwLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICB9LFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMud2F0Y2hTY3JvbGwgPSBwYXJhbWV0ZXJzLndhdGNoU2Nyb2xsXHJcblxyXG4gICAgdGhpcy5jYW1lcmEgPSB0aGlzLnJlbmRlcmVyLmNhbWVyYVxyXG5cclxuICAgIHRoaXMuc2V0RE9NRWxlbWVudChlbGVtZW50KVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgZG9tRWxlbWVudCB8IERPTSBFbGVtZW50fVxyXG4gICAqIEBwYXJhbSBlbGVtZW50IC0ge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdG8gdXNlXHJcbiAgICovXHJcbiAgc2V0RE9NRWxlbWVudChlbGVtZW50OiBET01FbGVtZW50UGFyYW1zWydlbGVtZW50J10pIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IG5ldyBET01FbGVtZW50KHtcclxuICAgICAgZWxlbWVudCxcclxuICAgICAgb25TaXplQ2hhbmdlZDogKGJvdW5kaW5nUmVjdCkgPT4gdGhpcy5yZXNpemUoYm91bmRpbmdSZWN0KSxcclxuICAgICAgb25Qb3NpdGlvbkNoYW5nZWQ6IChib3VuZGluZ1JlY3QpID0+IHRoaXMub25Qb3NpdGlvbkNoYW5nZWQoYm91bmRpbmdSZWN0KSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgc2l6ZSBhbmQgcG9zaXRpb24gd2hlbiB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0gcG9zaXRpb24gY2hhbmdlZFxyXG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSB0aGUgbmV3IGJvdW5kaW5nIHJlY3RhbmdsZVxyXG4gICAqL1xyXG4gIG9uUG9zaXRpb25DaGFuZ2VkKGJvdW5kaW5nUmVjdD86IERPTUVsZW1lbnRCb3VuZGluZ1JlY3QgfCBudWxsKSB7XHJcbiAgICBpZiAodGhpcy53YXRjaFNjcm9sbCkge1xyXG4gICAgICB0aGlzLnNpemUuZG9jdW1lbnQgPSBib3VuZGluZ1JlY3QgPz8gdGhpcy5kb21FbGVtZW50LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgICAgdGhpcy51cGRhdGVTaXplQW5kUG9zaXRpb24oKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVzZXQgdGhlIHtAbGluayBkb21FbGVtZW50IHwgRE9NRWxlbWVudH1cclxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHRoZSBuZXcge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdG8gdXNlXHJcbiAgICovXHJcbiAgcmVzZXRET01FbGVtZW50KGVsZW1lbnQ6IHN0cmluZyB8IEhUTUxFbGVtZW50KSB7XHJcbiAgICBpZiAodGhpcy5kb21FbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5kZXN0cm95KClcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldERPTUVsZW1lbnQoZWxlbWVudClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBzaXplcyBhbmQgcG9zaXRpb25cclxuICAgKi9cclxuICB1cGRhdGVTaXplQW5kUG9zaXRpb24oKSB7XHJcbiAgICB0aGlzLnNldFdvcmxkU2l6ZXMoKVxyXG4gICAgdGhpcy5hcHBseVBvc2l0aW9uKClcclxuXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSBzaXplcywgcG9zaXRpb24gYW5kIHByb2plY3Rpb25cclxuICAgKi9cclxuICBzaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpIHtcclxuICAgIHRoaXMudXBkYXRlU2l6ZUFuZFBvc2l0aW9uKClcclxuXHJcbiAgICBzdXBlci5zaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXNpemUgdGhlIHtAbGluayBET01PYmplY3QzRH1cclxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX1cclxuICAgKi9cclxuICByZXNpemUoYm91bmRpbmdSZWN0PzogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwpIHtcclxuICAgIGlmICghYm91bmRpbmdSZWN0ICYmICghdGhpcy5kb21FbGVtZW50IHx8IHRoaXMuZG9tRWxlbWVudD8uaXNSZXNpemluZykpIHJldHVyblxyXG5cclxuICAgIHRoaXMuc2l6ZS5kb2N1bWVudCA9IGJvdW5kaW5nUmVjdCA/PyB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgdGhpcy5zaG91bGRVcGRhdGVNYXRyaXhTdGFjaygpXHJcbiAgfVxyXG5cclxuICAvKiBCT1VORElORyBCT1hFUyBHRVRURVJTICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0ge0BsaW5rIERPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfVxyXG4gICAqIEByZWFkb25seVxyXG4gICAqL1xyXG4gIGdldCBib3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB7XHJcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LmJvdW5kaW5nUmVjdFxyXG4gIH1cclxuXHJcbiAgLyogVFJBTlNGT01TICovXHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvdXIgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGFuZCB7QGxpbmsgVmVjMyNvbkNoYW5nZSB8IG9uQ2hhbmdlIHZlY3Rvcn0gY2FsbGJhY2tzXHJcbiAgICovXHJcbiAgc2V0VHJhbnNmb3JtcygpIHtcclxuICAgIHN1cGVyLnNldFRyYW5zZm9ybXMoKVxyXG5cclxuICAgIC8vIHJlc2V0IG91ciBtb2RlbCB0cmFuc2Zvcm0gb3JpZ2luIHRvIHJlZmxlY3QgQ1NTIHRyYW5zZm9ybSBvcmlnaW5zXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsLnNldCgwLjUsIDAuNSwgMClcclxuXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLndvcmxkID0gbmV3IFZlYzMoKVxyXG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLmRvY3VtZW50ID0gbmV3IFZlYzMoKVxyXG5cclxuICAgIHRoaXMuZG9jdW1lbnRQb3NpdGlvbi5vbkNoYW5nZSgoKSA9PiB0aGlzLmFwcGx5UG9zaXRpb24oKSlcclxuICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luLm9uQ2hhbmdlKCgpID0+IHRoaXMuc2V0V29ybGRUcmFuc2Zvcm1PcmlnaW4oKSlcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEVHJhbnNmb3JtcyNwb3NpdGlvbi5kb2N1bWVudCB8IGFkZGl0aW9uYWwgdHJhbnNsYXRpb24gcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50fVxyXG4gICAqL1xyXG4gIGdldCBkb2N1bWVudFBvc2l0aW9uKCk6IFZlYzMge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5wb3NpdGlvbi5kb2N1bWVudFxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0RUcmFuc2Zvcm1zI3Bvc2l0aW9uLmRvY3VtZW50IHwgYWRkaXRpb25hbCB0cmFuc2xhdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnR9XHJcbiAgICogQHBhcmFtIHZhbHVlIC0gYWRkaXRpb25hbCB0cmFuc2xhdGlvbiByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQgdG8gYXBwbHlcclxuICAgKi9cclxuICBzZXQgZG9jdW1lbnRQb3NpdGlvbih2YWx1ZTogVmVjMykge1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLnBvc2l0aW9uLmRvY3VtZW50ID0gdmFsdWVcclxuICAgIHRoaXMuYXBwbHlQb3NpdGlvbigpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBkb21FbGVtZW50IHwgRE9NIGVsZW1lbnR9IHNjYWxlIGluIHdvcmxkIHNwYWNlXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IERPTU9iamVjdFdvcmxkU2NhbGUoKTogVmVjMyB7XHJcbiAgICByZXR1cm4gdGhpcy4jRE9NT2JqZWN0V29ybGRTY2FsZS5jbG9uZSgpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gc2NhbGUgaW4gd29ybGQgc3BhY2UgKGFjY291bnRpbmcgZm9yIHtAbGluayBzY2FsZX0pXHJcbiAgICogQHJlYWRvbmx5XHJcbiAgICovXHJcbiAgZ2V0IHdvcmxkU2NhbGUoKTogVmVjMyB7XHJcbiAgICByZXR1cm4gdGhpcy5ET01PYmplY3RXb3JsZFNjYWxlLm11bHRpcGx5KHRoaXMuc2NhbGUpXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gcG9zaXRpb24gaW4gd29ybGQgc3BhY2VcclxuICAgKiBAcmVhZG9ubHlcclxuICAgKi9cclxuICBnZXQgd29ybGRQb3NpdGlvbigpOiBWZWMzIHtcclxuICAgIHJldHVybiB0aGlzLiNET01PYmplY3RXb3JsZFBvc2l0aW9uLmNsb25lKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIHJlbGF0aXZlIHRvIHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9XHJcbiAgICovXHJcbiAgZ2V0IHRyYW5zZm9ybU9yaWdpbigpOiBWZWMzIHtcclxuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLm1vZGVsXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gdHJhbnNmb3JtIG9yaWdpbiByZWxhdGl2ZSB0byB0aGUge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIG5ldyB0cmFuc2Zvcm0gb3JpZ2luXHJcbiAgICovXHJcbiAgc2V0IHRyYW5zZm9ybU9yaWdpbih2YWx1ZTogVmVjMykge1xyXG4gICAgdGhpcy50cmFuc2Zvcm1zLm9yaWdpbi5tb2RlbCA9IHZhbHVlXHJcbiAgICB0aGlzLnNldFdvcmxkVHJhbnNmb3JtT3JpZ2luKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIGluIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgZ2V0IHdvcmxkVHJhbnNmb3JtT3JpZ2luKCk6IFZlYzMge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3Jtcy5vcmlnaW4ud29ybGRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB0cmFuc2Zvcm0gb3JpZ2luIGluIHdvcmxkIHNwYWNlXHJcbiAgICogQHBhcmFtIHZhbHVlIC0gbmV3IHdvcmxkIHNwYWNlIHRyYW5zZm9ybSBvcmlnaW5cclxuICAgKi9cclxuICBzZXQgd29ybGRUcmFuc2Zvcm1PcmlnaW4odmFsdWU6IFZlYzMpIHtcclxuICAgIHRoaXMudHJhbnNmb3Jtcy5vcmlnaW4ud29ybGQgPSB2YWx1ZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHBvc2l0aW9uIHVzaW5nIGl0cyB3b3JsZCBwb3NpdGlvbiBhbmQgZG9jdW1lbnQgdHJhbnNsYXRpb24gY29udmVydGVkIHRvIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgYXBwbHlQb3NpdGlvbigpIHtcclxuICAgIHRoaXMuYXBwbHlEb2N1bWVudFBvc2l0aW9uKClcclxuICAgIHN1cGVyLmFwcGx5UG9zaXRpb24oKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHV0ZSB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB3b3JsZCBwb3NpdGlvbiB1c2luZyBpdHMgd29ybGQgcG9zaXRpb24gYW5kIGRvY3VtZW50IHRyYW5zbGF0aW9uIGNvbnZlcnRlZCB0byB3b3JsZCBzcGFjZVxyXG4gICAqL1xyXG4gIGFwcGx5RG9jdW1lbnRQb3NpdGlvbigpIHtcclxuICAgIC8vIGF2b2lkIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9ucyBpZiB3ZSBkb24ndCBoYXZlIGEgdXNlcnMgc2V0IHJlbGF0aXZlIHBvc2l0aW9uXHJcbiAgICBsZXQgd29ybGRQb3NpdGlvbiA9IG5ldyBWZWMzKDAsIDAsIDApXHJcbiAgICBpZiAoIXRoaXMuZG9jdW1lbnRQb3NpdGlvbi5lcXVhbHMod29ybGRQb3NpdGlvbikpIHtcclxuICAgICAgd29ybGRQb3NpdGlvbiA9IHRoaXMuZG9jdW1lbnRUb1dvcmxkU3BhY2UodGhpcy5kb2N1bWVudFBvc2l0aW9uKVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuI0RPTU9iamVjdFdvcmxkUG9zaXRpb24uc2V0KFxyXG4gICAgICB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLnNpemUud29ybGQubGVmdCArIHdvcmxkUG9zaXRpb24ueCxcclxuICAgICAgdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLndvcmxkLnRvcCArIHdvcmxkUG9zaXRpb24ueSxcclxuICAgICAgdGhpcy5wb3NpdGlvbi56ICsgdGhpcy5kb2N1bWVudFBvc2l0aW9uLnogLyB0aGlzLmNhbWVyYS5DU1NQZXJzcGVjdGl2ZVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQXBwbHkgdGhlIHRyYW5zZm9ybSBvcmlnaW4gYW5kIHNldCB0aGUge0BsaW5rIERPTU9iamVjdDNEfSB3b3JsZCB0cmFuc2Zvcm0gb3JpZ2luXHJcbiAgICovXHJcbiAgYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKSB7XHJcbiAgICBpZiAoIXRoaXMuc2l6ZSkgcmV0dXJuXHJcblxyXG4gICAgdGhpcy5zZXRXb3JsZFRyYW5zZm9ybU9yaWdpbigpXHJcblxyXG4gICAgc3VwZXIuYXBwbHlUcmFuc2Zvcm1PcmlnaW4oKVxyXG4gIH1cclxuXHJcbiAgLyogTUFUUklDRVMgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSB7QGxpbmsgbW9kZWxNYXRyaXggfCBtb2RlbCBtYXRyaXh9IGFjY291bnRpbmcgdGhlIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgcG9zaXRpb24gYW5kIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgc2NhbGVcclxuICAgKi9cclxuICB1cGRhdGVNb2RlbE1hdHJpeCgpIHtcclxuICAgIC8vIG92ZXJyaWRlIGZvciB0aGlzIHNwZWNpYWwgY2FzZVxyXG4gICAgLy8gY29tcG9zZSBvdXIgbW9kZWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IGZyb20gY3VzdG9tIG9yaWdpblxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeC5jb21wb3NlRnJvbU9yaWdpbihcclxuICAgICAgdGhpcy4jRE9NT2JqZWN0V29ybGRQb3NpdGlvbixcclxuICAgICAgdGhpcy5xdWF0ZXJuaW9uLFxyXG4gICAgICB0aGlzLnNjYWxlLFxyXG4gICAgICB0aGlzLndvcmxkVHJhbnNmb3JtT3JpZ2luXHJcbiAgICApXHJcblxyXG4gICAgLy8gd2UgbmVlZCB0byBzY2FsZSBvdXIgbWVzaGVzLCBmcm9tIGEgc3F1YXJlIHRvIGEgcmlnaHQgc2l6ZWQgcmVjdGFuZ2xlXHJcbiAgICAvLyB3ZSdyZSBkb2luZyB0aGlzIGFmdGVyIG91ciB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggYmVjYXVzZSB0aGlzIHNjYWxlIHRyYW5zZm9ybWF0aW9uIGFsd2F5cyBoYXZlIHRoZSBzYW1lIG9yaWdpblxyXG4gICAgdGhpcy5tb2RlbE1hdHJpeC5zY2FsZSh0aGlzLiNET01PYmplY3RXb3JsZFNjYWxlKVxyXG5cclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlV29ybGRNYXRyaXgoKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydCBhIGRvY3VtZW50IHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfSB0byBhIHdvcmxkIHBvc2l0aW9uIHtAbGluayBWZWMzIHwgdmVjdG9yfVxyXG4gICAqIEBwYXJhbSB2ZWN0b3IgLSBkb2N1bWVudCBwb3NpdGlvbiB7QGxpbmsgVmVjMyB8IHZlY3Rvcn0gY29udmVydGVkIHRvIHdvcmxkIHNwYWNlXHJcbiAgICovXHJcbiAgZG9jdW1lbnRUb1dvcmxkU3BhY2UodmVjdG9yOiBWZWMzID0gbmV3IFZlYzMoKSk6IFZlYzMge1xyXG4gICAgcmV0dXJuIG5ldyBWZWMzKFxyXG4gICAgICAoKHZlY3Rvci54ICogdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvKSAvIHRoaXMucmVuZGVyZXIuYm91bmRpbmdSZWN0LndpZHRoKSAqIHRoaXMuY2FtZXJhLnNjcmVlblJhdGlvLndpZHRoLFxyXG4gICAgICAtKCh2ZWN0b3IueSAqIHRoaXMucmVuZGVyZXIucGl4ZWxSYXRpbykgLyB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdC5oZWlnaHQpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8uaGVpZ2h0LFxyXG4gICAgICB2ZWN0b3IuelxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0Qjc2l6ZS53b3JsZCB8IHdvcmxkIHNpemV9IGFuZCBzZXQgdGhlIHtAbGluayBET01PYmplY3QzRH0gd29ybGQgdHJhbnNmb3JtIG9yaWdpblxyXG4gICAqL1xyXG4gIHNldFdvcmxkU2l6ZXMoKSB7XHJcbiAgICBjb25zdCBjb250YWluZXJCb3VuZGluZ1JlY3QgPSB0aGlzLnJlbmRlcmVyLmJvdW5kaW5nUmVjdFxyXG5cclxuICAgIC8vIGRpbWVuc2lvbnMgYW5kIHBvc2l0aW9ucyBvZiBvdXIgcGxhbmUgaW4gdGhlIGRvY3VtZW50IGFuZCBjbGlwIHNwYWNlc1xyXG4gICAgLy8gZG9uJ3QgZm9yZ2V0IHBvc2l0aW9ucyBpbiB3ZWJnbCBzcGFjZSBhcmUgcmVmZXJyaW5nIHRvIHRoZSBjZW50ZXIgb2Ygb3VyIHBsYW5lIGFuZCBjYW52YXNcclxuICAgIGNvbnN0IHBsYW5lQ2VudGVyID0ge1xyXG4gICAgICB4OiB0aGlzLnNpemUuZG9jdW1lbnQud2lkdGggLyAyICsgdGhpcy5zaXplLmRvY3VtZW50LmxlZnQsXHJcbiAgICAgIHk6IHRoaXMuc2l6ZS5kb2N1bWVudC5oZWlnaHQgLyAyICsgdGhpcy5zaXplLmRvY3VtZW50LnRvcCxcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250YWluZXJDZW50ZXIgPSB7XHJcbiAgICAgIHg6IGNvbnRhaW5lckJvdW5kaW5nUmVjdC53aWR0aCAvIDIgKyBjb250YWluZXJCb3VuZGluZ1JlY3QubGVmdCxcclxuICAgICAgeTogY29udGFpbmVyQm91bmRpbmdSZWN0LmhlaWdodCAvIDIgKyBjb250YWluZXJCb3VuZGluZ1JlY3QudG9wLFxyXG4gICAgfVxyXG5cclxuICAgIC8vIG91ciBET00gb2JqZWN0IHdvcmxkIHNpemVcclxuICAgIC8vIHNpbmNlIG91ciB2ZXJ0aWNlcyB2YWx1ZXMgcmFuZ2UgZnJvbSAtMSB0byAxLCB3ZSBuZWVkIHRvIHNjYWxlIGl0IHJlbGF0aXZlbHkgdG8gb3VyIGNhbnZhc1xyXG4gICAgLy8gdG8gZGlzcGxheSBhbiBhY2N1cmF0ZWx5IHNpemVkIG9iamVjdFxyXG4gICAgdGhpcy5zaXplLndvcmxkID0ge1xyXG4gICAgICB3aWR0aDogKCh0aGlzLnNpemUuZG9jdW1lbnQud2lkdGggLyBjb250YWluZXJCb3VuZGluZ1JlY3Qud2lkdGgpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8ud2lkdGgpIC8gMixcclxuICAgICAgaGVpZ2h0OiAoKHRoaXMuc2l6ZS5kb2N1bWVudC5oZWlnaHQgLyBjb250YWluZXJCb3VuZGluZ1JlY3QuaGVpZ2h0KSAqIHRoaXMuY2FtZXJhLnNjcmVlblJhdGlvLmhlaWdodCkgLyAyLFxyXG4gICAgICB0b3A6ICgoY29udGFpbmVyQ2VudGVyLnkgLSBwbGFuZUNlbnRlci55KSAvIGNvbnRhaW5lckJvdW5kaW5nUmVjdC5oZWlnaHQpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8uaGVpZ2h0LFxyXG4gICAgICBsZWZ0OiAoKHBsYW5lQ2VudGVyLnggLSBjb250YWluZXJDZW50ZXIueCkgLyBjb250YWluZXJCb3VuZGluZ1JlY3Qud2lkdGgpICogdGhpcy5jYW1lcmEuc2NyZWVuUmF0aW8ud2lkdGgsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4jRE9NT2JqZWN0V29ybGRTY2FsZS5zZXQodGhpcy5zaXplLndvcmxkLndpZHRoLCB0aGlzLnNpemUud29ybGQuaGVpZ2h0LCAxKVxyXG5cclxuICAgIHRoaXMuc2V0V29ybGRUcmFuc2Zvcm1PcmlnaW4oKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0IHRoZSB7QGxpbmsgRE9NT2JqZWN0M0R9IHdvcmxkIHRyYW5zZm9ybSBvcmlnaW4gYW5kIHRlbGwgdGhlIG1hdHJpY2VzIHRvIHVwZGF0ZVxyXG4gICAqL1xyXG4gIHNldFdvcmxkVHJhbnNmb3JtT3JpZ2luKCkge1xyXG4gICAgLy8gc2V0IHRyYW5zZm9ybWF0aW9uIG9yaWdpbiByZWxhdGl2ZSB0byB3b3JsZCBzcGFjZSBhcyB3ZWxsXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMub3JpZ2luLndvcmxkID0gbmV3IFZlYzMoXHJcbiAgICAgICh0aGlzLnRyYW5zZm9ybU9yaWdpbi54ICogMiAtIDEpICogLy8gYmV0d2VlbiAtMSBhbmQgMVxyXG4gICAgICAgIHRoaXMuc2l6ZS53b3JsZC53aWR0aCxcclxuICAgICAgLSh0aGlzLnRyYW5zZm9ybU9yaWdpbi55ICogMiAtIDEpICogLy8gYmV0d2VlbiAtMSBhbmQgMVxyXG4gICAgICAgIHRoaXMuc2l6ZS53b3JsZC5oZWlnaHQsXHJcbiAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luLnpcclxuICAgIClcclxuXHJcbiAgICB0aGlzLnNob3VsZFVwZGF0ZU1vZGVsTWF0cml4KClcclxuICAgIHRoaXMuc2hvdWxkVXBkYXRlUHJvamVjdGlvbk1hdHJpeFN0YWNrKClcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0gc2Nyb2xsIHBvc2l0aW9uXHJcbiAgICogQHBhcmFtIGRlbHRhIC0gbGFzdCB7QGxpbmsgdXRpbHMvU2Nyb2xsTWFuYWdlci5TY3JvbGxNYW5hZ2VyLmRlbHRhIHwgc2Nyb2xsIGRlbHRhIHZhbHVlc31cclxuICAgKi9cclxuICB1cGRhdGVTY3JvbGxQb3NpdGlvbihkZWx0YTogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkge1xyXG4gICAgLy8gYWN0dWFsbHkgdXBkYXRlIHRoZSBwbGFuZSBwb3NpdGlvbiBvbmx5IGlmIGxhc3QgWCBkZWx0YSBvciBsYXN0IFkgZGVsdGEgaXMgbm90IGVxdWFsIHRvIDBcclxuICAgIGlmIChkZWx0YS54IHx8IGRlbHRhLnkpIHtcclxuICAgICAgLy8gc2V0IG5ldyBwb3NpdGlvbnMgYmFzZWQgb24gb3VyIGRlbHRhIHdpdGhvdXQgdHJpZ2dlcmluZyByZWZsb3dcclxuICAgICAgdGhpcy5kb21FbGVtZW50LnVwZGF0ZVNjcm9sbFBvc2l0aW9uKGRlbHRhKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBvdXIge0BsaW5rIERPTU9iamVjdDNEfVxyXG4gICAqL1xyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQ/LmRlc3Ryb3koKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBET01PYmplY3QzRCB9IGZyb20gJy4uL29iamVjdHMzRC9ET01PYmplY3QzRCdcbmltcG9ydCB7IGlzQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUHJvamVjdGVkTWVzaEJhc2VNaXhpbiB9IGZyb20gJy4uLy4uL2NvcmUvbWVzaGVzL21peGlucy9Qcm9qZWN0ZWRNZXNoQmFzZU1peGluJ1xuaW1wb3J0IHsgTWVzaEJhc2VSZW5kZXJQYXJhbXMgfSBmcm9tICcuLi8uLi9jb3JlL21lc2hlcy9taXhpbnMvTWVzaEJhc2VNaXhpbidcbmltcG9ydCB7IHRocm93V2FybmluZyB9IGZyb20gJy4uLy4uL3V0aWxzL3V0aWxzJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmVycy9HUFVDdXJ0YWluc1JlbmRlcmVyJ1xuaW1wb3J0IHsgR1BVQ3VydGFpbnMgfSBmcm9tICcuLi9HUFVDdXJ0YWlucydcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9jb3JlL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBBbGxvd2VkR2VvbWV0cmllcyB9IGZyb20gJy4uLy4uL3R5cGVzL01hdGVyaWFscydcbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIFJlbmRlclRleHR1cmVQYXJhbXMgfSBmcm9tICcuLi8uLi9jb3JlL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBET01FbGVtZW50Qm91bmRpbmdSZWN0LCBET01FbGVtZW50UGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBCYXNlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEge0BsaW5rIERPTU1lc2h9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRE9NTWVzaEJhc2VQYXJhbXMgZXh0ZW5kcyBNZXNoQmFzZVJlbmRlclBhcmFtcyB7XG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgY3JlYXRlIGEge0BsaW5rIFRleHR1cmV9IGZvciBhbGwge0BsaW5rIEhUTUxJbWFnZUVsZW1lbnR9LCB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudH0gYW5kIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gY2hpbGQgb2YgdGhlIHNwZWNpZmllZCB7QGxpbmsgRE9NTWVzaH0ge0BsaW5rIEhUTUxFbGVtZW50fSAqL1xuICBhdXRvbG9hZFNvdXJjZXM/OiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSB7QGxpbmsgRE9NTWVzaH0gcG9zaXRpb24gb24gc2Nyb2xsICovXG4gIHdhdGNoU2Nyb2xsPzogYm9vbGVhblxufVxuXG4vKipcbiAqIFBhcmFtZXRlcnMgdG8gY3JlYXRlIGEge0BsaW5rIERPTU1lc2h9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRE9NTWVzaFBhcmFtcyBleHRlbmRzIERPTU1lc2hCYXNlUGFyYW1zIHtcbiAgLyoqIHtAbGluayBjb3JlL2dlb21ldHJpZXMvR2VvbWV0cnkuR2VvbWV0cnkgfCBHZW9tZXRyeX0gdG8gdXNlIHdpdGggdGhlIHtAbGluayBET01NZXNofSAqL1xuICBnZW9tZXRyeTogQWxsb3dlZEdlb21ldHJpZXNcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIERPTU1lc2h9IHBhcmFtZXRlcnMgKi9cbmNvbnN0IGRlZmF1bHRET01NZXNoUGFyYW1zID0ge1xuICBhdXRvbG9hZFNvdXJjZXM6IHRydWUsXG4gIHdhdGNoU2Nyb2xsOiB0cnVlLFxufSBhcyBET01NZXNoQmFzZVBhcmFtc1xuXG4vKipcbiAqIENyZWF0ZSBhIHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2ggfCBNZXNofSBiYXNlZCBvbiBhIHtAbGluayBET01PYmplY3QzRH0sIHdoaWNoIGFsbG93IHRoZSB7QGxpbmsgY29yZS9tZXNoZXMvTWVzaC5NZXNoIHwgTWVzaH0gdG8gYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGJhc2VkIG9uIGEge0BsaW5rIEhUTUxFbGVtZW50fSB7QGxpbmsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHNldCBvdXIgbWFpbiBHUFVDdXJ0YWlucyBpbnN0YW5jZVxuICogY29uc3QgZ3B1Q3VydGFpbnMgPSBuZXcgR1BVQ3VydGFpbnMoe1xuICogICBjb250YWluZXI6ICcjY2FudmFzJyAvLyBzZWxlY3RvciBvZiBvdXIgV2ViR1BVIGNhbnZhcyBjb250YWluZXJcbiAqIH0pXG4gKlxuICogLy8gc2V0IHRoZSBHUFUgZGV2aWNlXG4gKiAvLyBub3RlIHRoaXMgaXMgYXN5bmNocm9ub3VzXG4gKiBhd2FpdCBncHVDdXJ0YWlucy5zZXREZXZpY2UoKVxuICpcbiAqIC8vIGNyZWF0ZSBhIERPTU1lc2ggd2l0aCBhIGJveCBnZW9tZXRyeSxcbiAqIC8vIGFzc3VtaW5nIHRoZXJlJ3MgYSBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgXCJtZXNoXCIgSUQgaW4gdGhlIERPTVxuICogLy8gd2lsbCB1c2UgdGhlIG5vcm1hbHMgY29sb3JzIGFzIGRlZmF1bHQgc2hhZGluZ1xuICogY29uc3QgZG9tTWVzaCA9IG5ldyBET01NZXNoKGdwdUN1cnRhaW5zLCAnI21lc2gnLCB7XG4gKiAgIGxhYmVsOiAnTXkgRE9NIE1lc2gnLFxuICogICBnZW9tZXRyeTogbmV3IEJveEdlb21ldHJ5KCksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBET01NZXNoIGV4dGVuZHMgUHJvamVjdGVkTWVzaEJhc2VNaXhpbihET01PYmplY3QzRCkge1xuICAvKioge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU9iamVjdDNEfSAqL1xuICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlclxuICAvKiogV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IGNyZWF0ZSBhIHtAbGluayBUZXh0dXJlfSBmb3IgYWxsIHtAbGluayBIVE1MSW1hZ2VFbGVtZW50fSwge0BsaW5rIEhUTUxWaWRlb0VsZW1lbnR9IGFuZCB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9IGNoaWxkIG9mIHRoZSBzcGVjaWZpZWQge0BsaW5rIERPTU1lc2h9IHtAbGluayBIVE1MRWxlbWVudH0gKi9cbiAgYXV0b2xvYWRTb3VyY2VzOiBib29sZWFuXG4gIC8qKiBXaGV0aGVyIGFsbCB0aGUgc291cmNlcyBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IGxvYWRlZCAqL1xuICBfc291cmNlc1JlYWR5OiBib29sZWFuXG5cbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uTG9hZGluZ30gY2FsbGJhY2sgKi9cbiAgX29uTG9hZGluZ0NhbGxiYWNrID0gKHRleHR1cmU6IFRleHR1cmUpOiB2b2lkID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG5cbiAgLyoqXG4gICAqIERPTU1lc2ggY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IG9iamVjdCBvciB7QGxpbmsgR1BVQ3VydGFpbnN9IGNsYXNzIG9iamVjdCB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBET01NZXNofVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHVzZWQgdG8gc2NhbGUgYW5kIHBvc2l0aW9uIHRoZSB7QGxpbmsgRE9NTWVzaH1cbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgRE9NTWVzaFBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIERPTU1lc2h9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zLFxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcbiAgICBwYXJhbWV0ZXJzOiBET01NZXNoUGFyYW1zXG4gICkge1xuICAgIHN1cGVyKHJlbmRlcmVyLCBlbGVtZW50LCB7IC4uLmRlZmF1bHRET01NZXNoUGFyYW1zLCAuLi5wYXJhbWV0ZXJzIH0pXG5cbiAgICBwYXJhbWV0ZXJzID0geyAuLi5kZWZhdWx0RE9NTWVzaFBhcmFtcywgLi4ucGFyYW1ldGVycyB9XG5cbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKVxuXG4gICAgaXNDdXJ0YWluc1JlbmRlcmVyKHJlbmRlcmVyLCBwYXJhbWV0ZXJzLmxhYmVsID8gcGFyYW1ldGVycy5sYWJlbCArICcgRE9NTWVzaCcgOiAnRE9NTWVzaCcpXG5cbiAgICB0aGlzLnR5cGUgPSAnRE9NTWVzaCdcblxuICAgIGNvbnN0IHsgYXV0b2xvYWRTb3VyY2VzIH0gPSBwYXJhbWV0ZXJzXG5cbiAgICB0aGlzLmF1dG9sb2FkU291cmNlcyA9IGF1dG9sb2FkU291cmNlc1xuXG4gICAgdGhpcy5zb3VyY2VzUmVhZHkgPSBmYWxzZVxuICAgIHRoaXMuc2V0SW5pdFNvdXJjZXMoKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldC9zZXQgd2hldGhlciBvdXIge0BsaW5rIG1hdGVyaWFsfSBhbmQge0BsaW5rIGdlb21ldHJ5fSBhcmUgcmVhZHlcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWR5XG4gIH1cblxuICBzZXQgcmVhZHkodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9yZWFkeSA9IHZhbHVlXG5cbiAgICBpZiAodGhpcy5ET01NZXNoUmVhZHkpIHtcbiAgICAgIHRoaXMuX29uUmVhZHlDYWxsYmFjayAmJiB0aGlzLl9vblJlYWR5Q2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQvc2V0IHdoZXRoZXIgYWxsIHRoZSBpbml0aWFsIHtAbGluayBET01NZXNofSBzb3VyY2VzIGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgbG9hZGVkXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHNvdXJjZXNSZWFkeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlc1JlYWR5XG4gIH1cblxuICBzZXQgc291cmNlc1JlYWR5KHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc291cmNlc1JlYWR5ID0gdmFsdWVcblxuICAgIGlmICh0aGlzLkRPTU1lc2hSZWFkeSkge1xuICAgICAgdGhpcy5fb25SZWFkeUNhbGxiYWNrICYmIHRoaXMuX29uUmVhZHlDYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB3aGV0aGVyIG91ciB7QGxpbmsgRE9NTWVzaH0gaXMgcmVhZHkuIEEge0BsaW5rIERPTU1lc2h9IGlzIHJlYWR5IHdoZW4gaXRzIHtAbGluayBzb3VyY2VzUmVhZHkgfCBzb3VyY2VzIGFyZSByZWFkeX0gYW5kIGl0cyB7QGxpbmsgbWF0ZXJpYWx9IGFuZCB7QGxpbmsgZ2VvbWV0cnl9IGFyZSByZWFkeS5cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgRE9NTWVzaFJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlYWR5ICYmIHRoaXMuc291cmNlc1JlYWR5XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIERPTU1lc2h9IHRvIHRoZSByZW5kZXJlciBhbmQgdGhlIHtAbGluayBjb3JlL3NjZW5lcy9TY2VuZS5TY2VuZSB8IFNjZW5lfVxuICAgKi9cbiAgYWRkVG9TY2VuZSgpIHtcbiAgICBzdXBlci5hZGRUb1NjZW5lKClcbiAgICA7KHRoaXMucmVuZGVyZXIgYXMgR1BVQ3VydGFpbnNSZW5kZXJlcikuZG9tTWVzaGVzLnB1c2godGhpcylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgRE9NTWVzaH0gZnJvbSB0aGUgcmVuZGVyZXIgYW5kIHRoZSB7QGxpbmsgY29yZS9zY2VuZXMvU2NlbmUuU2NlbmUgfCBTY2VuZX1cbiAgICovXG4gIHJlbW92ZUZyb21TY2VuZSgpIHtcbiAgICBzdXBlci5yZW1vdmVGcm9tU2NlbmUoKVxuICAgIDsodGhpcy5yZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKS5kb21NZXNoZXMgPSAodGhpcy5yZW5kZXJlciBhcyBHUFVDdXJ0YWluc1JlbmRlcmVyKS5kb21NZXNoZXMuZmlsdGVyKFxuICAgICAgKG0pID0+IG0udXVpZCAhPT0gdGhpcy51dWlkXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgaW5pdGlhbCB7QGxpbmsgRE9NTWVzaH0gc291cmNlcyBpZiBuZWVkZWQgYW5kIGNyZWF0ZSBhc3NvY2lhdGVkIHtAbGluayBUZXh0dXJlfVxuICAgKi9cbiAgc2V0SW5pdFNvdXJjZXMoKSB7XG4gICAgbGV0IGxvYWRlclNpemUgPSAwXG4gICAgbGV0IHNvdXJjZXNMb2FkZWQgPSAwXG5cbiAgICBpZiAodGhpcy5hdXRvbG9hZFNvdXJjZXMpIHtcbiAgICAgIGNvbnN0IGltYWdlcyA9IHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpXG4gICAgICBjb25zdCB2aWRlb3MgPSB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpXG4gICAgICBjb25zdCBjYW52YXNlcyA9IHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NhbnZhcycpXG5cbiAgICAgIGxvYWRlclNpemUgPSBpbWFnZXMubGVuZ3RoICsgdmlkZW9zLmxlbmd0aCArIGNhbnZhc2VzLmxlbmd0aFxuXG4gICAgICBjb25zdCBvblNvdXJjZVVwbG9hZGVkID0gKHRleHR1cmUpID0+IHtcbiAgICAgICAgc291cmNlc0xvYWRlZCsrXG5cbiAgICAgICAgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sgJiYgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sodGV4dHVyZSlcblxuICAgICAgICBpZiAoc291cmNlc0xvYWRlZCA9PT0gbG9hZGVyU2l6ZSkge1xuICAgICAgICAgIHRoaXMuc291cmNlc1JlYWR5ID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghbG9hZGVyU2l6ZSkge1xuICAgICAgICB0aGlzLnNvdXJjZXNSZWFkeSA9IHRydWVcbiAgICAgIH1cblxuICAgICAgLy8gbG9hZCBpbWFnZXNcbiAgICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgIGltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogaW1hZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLXRleHR1cmUtbmFtZScpID8/ICd0ZXh0dXJlJyArIHRoaXMudGV4dHVyZXMubGVuZ3RoLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0ZXh0dXJlLm9uU291cmNlVXBsb2FkZWQoKCkgPT4gb25Tb3VyY2VVcGxvYWRlZCh0ZXh0dXJlKSkubG9hZEltYWdlKGltYWdlLnNyYylcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gbG9hZCB2aWRlb3NcbiAgICAgIGlmICh2aWRlb3MubGVuZ3RoKSB7XG4gICAgICAgIHZpZGVvcy5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogdmlkZW8uZ2V0QXR0cmlidXRlKCdkYXRhLXRleHR1cmUtbmFtZScpID8/ICd0ZXh0dXJlJyArIHRoaXMudGV4dHVyZXMubGVuZ3RoLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICB0ZXh0dXJlLm9uU291cmNlVXBsb2FkZWQoKCkgPT4gb25Tb3VyY2VVcGxvYWRlZCh0ZXh0dXJlKSkubG9hZFZpZGVvKHZpZGVvKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBsb2FkIGNhbnZhc2VzXG4gICAgICBpZiAoY2FudmFzZXMubGVuZ3RoKSB7XG4gICAgICAgIGNhbnZhc2VzLmZvckVhY2goKGNhbnZhcykgPT4ge1xuICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgbmFtZTogY2FudmFzLmdldEF0dHJpYnV0ZSgnZGF0YS10ZXh0dXJlLW5hbWUnKSA/PyAndGV4dHVyZScgKyB0aGlzLnRleHR1cmVzLmxlbmd0aCxcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgdGV4dHVyZS5vblNvdXJjZVVwbG9hZGVkKCgpID0+IG9uU291cmNlVXBsb2FkZWQodGV4dHVyZSkpLmxvYWRDYW52YXMoY2FudmFzKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvdXJjZXNSZWFkeSA9IHRydWVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQvY2hhbmdlIHRoZSB7QGxpbmsgZG9tRWxlbWVudCB8IERPTSBFbGVtZW50fVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIG5ldyB7QGxpbmsgSFRNTEVsZW1lbnR9IG9yIHN0cmluZyByZXByZXNlbnRpbmcgYW4ge0BsaW5rIEhUTUxFbGVtZW50fSBzZWxlY3RvciB0byB1c2VcbiAgICovXG4gIHJlc2V0RE9NRWxlbWVudChlbGVtZW50OiBzdHJpbmcgfCBIVE1MRWxlbWVudCkge1xuICAgIGlmICghIWVsZW1lbnQpIHtcbiAgICAgIHN1cGVyLnJlc2V0RE9NRWxlbWVudChlbGVtZW50KVxuICAgIH0gZWxzZSBpZiAoIWVsZW1lbnQgJiYgIXRoaXMucmVuZGVyZXIucHJvZHVjdGlvbikge1xuICAgICAgdGhyb3dXYXJuaW5nKFxuICAgICAgICBgJHt0aGlzLm9wdGlvbnMubGFiZWx9OiBZb3UgYXJlIHRyeWluZyB0byByZXNldCBhICR7dGhpcy50eXBlfSB3aXRoIGEgSFRNTCBlbGVtZW50IHRoYXQgZG9lcyBub3QgZXhpc3QuIFRoZSBvbGQgSFRNTCBlbGVtZW50IHdpbGwgYmUga2VwdCBpbnN0ZWFkLmBcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgRE9NTWVzaCNkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBjb3JlL0RPTS9ET01FbGVtZW50LkRPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfSBhY2NvdW50aW5nIGZvciBjdXJyZW50IHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5HUFVSZW5kZXJlciNwaXhlbFJhdGlvIHwgcmVuZGVyZXIgcGl4ZWwgcmF0aW99XG4gICAqL1xuICBnZXQgcGl4ZWxSYXRpb0JvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcbiAgICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gPz8gMVxuICAgIGNvbnN0IHNjYWxlQm91bmRpbmdSZWN0ID0gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvIC8gZGV2aWNlUGl4ZWxSYXRpb1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZG9tRWxlbWVudC5ib3VuZGluZ1JlY3QpLnJlZHVjZShcbiAgICAgIChhLCBrZXkpID0+ICh7IC4uLmEsIFtrZXldOiB0aGlzLmRvbUVsZW1lbnQuYm91bmRpbmdSZWN0W2tleV0gKiBzY2FsZUJvdW5kaW5nUmVjdCB9KSxcbiAgICAgIHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqIEBwYXJhbSAgb3B0aW9ucyAtIHtAbGluayBSZW5kZXJUZXh0dXJlUGFyYW1zIHwgUmVuZGVyVGV4dHVyZSBwYXJhbWV0ZXJzfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIFJlbmRlclRleHR1cmV9XG4gICAqL1xuICBjcmVhdGVSZW5kZXJUZXh0dXJlKG9wdGlvbnM6IFJlbmRlclRleHR1cmVQYXJhbXMpOiBSZW5kZXJUZXh0dXJlIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHNpemU6IHsgd2lkdGg6IHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC53aWR0aCwgaGVpZ2h0OiB0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0IH0sXG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLmNyZWF0ZVJlbmRlclRleHR1cmUob3B0aW9ucylcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIE1lc2gncyByZW5kZXIgdGV4dHVyZXMgb25seSBpZiB0aGV5J3JlIG5vdCBzdG9yYWdlIHRleHR1cmVzXG4gICAqL1xuICByZXNpemVSZW5kZXJUZXh0dXJlcygpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmVzXG4gICAgICA/LmZpbHRlcigocmVuZGVyVGV4dHVyZSkgPT4gcmVuZGVyVGV4dHVyZS5vcHRpb25zLnVzYWdlID09PSAndGV4dHVyZScpXG4gICAgICAuZm9yRWFjaCgocmVuZGVyVGV4dHVyZSkgPT5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5yZXNpemUoeyB3aWR0aDogdGhpcy5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoLCBoZWlnaHQ6IHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC5oZWlnaHQgfSlcbiAgICAgIClcbiAgfVxuXG4gIC8qIEVWRU5UUyAqL1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgZWFjaCB0aW1lIG9uZSBvZiB0aGUgaW5pdGlhbCBzb3VyY2VzIGFzc29jaWF0ZWQge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IEdQVSB0ZXh0dXJlfSBoYXMgYmVlbiB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIGNhbGwgZWFjaCB0aW1lIGEge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IEdQVSB0ZXh0dXJlfSBoYXMgYmVlbiB1cGxvYWRlZCB0byB0aGUgR1BVXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBET01NZXNofVxuICAgKi9cbiAgb25Mb2FkaW5nKGNhbGxiYWNrOiAodGV4dHVyZTogVGV4dHVyZSkgPT4gdm9pZCk6IERPTU1lc2gge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25Mb2FkaW5nQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cbiIsImltcG9ydCB7IGlzQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXJzL3V0aWxzJ1xuaW1wb3J0IHsgUGxhbmVHZW9tZXRyeSwgUGxhbmVHZW9tZXRyeVBhcmFtcyB9IGZyb20gJy4uLy4uL2NvcmUvZ2VvbWV0cmllcy9QbGFuZUdlb21ldHJ5J1xuaW1wb3J0IHsgRE9NTWVzaCwgRE9NTWVzaEJhc2VQYXJhbXMsIERPTU1lc2hQYXJhbXMgfSBmcm9tICcuL0RPTU1lc2gnXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vbWF0aC9WZWMzJ1xuaW1wb3J0IHsgVmVjMiB9IGZyb20gJy4uLy4uL21hdGgvVmVjMidcbmltcG9ydCB7IGNhY2hlTWFuYWdlciB9IGZyb20gJy4uLy4uL3V0aWxzL0NhY2hlTWFuYWdlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvR1BVQ3VydGFpbnNSZW5kZXJlcidcbmltcG9ydCB7IEdQVUN1cnRhaW5zIH0gZnJvbSAnLi4vR1BVQ3VydGFpbnMnXG5pbXBvcnQgeyBET01FbGVtZW50UGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9ET00vRE9NRWxlbWVudCdcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBsYW5lfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBsYW5lUGFyYW1zIGV4dGVuZHMgRE9NTWVzaEJhc2VQYXJhbXMsIFBsYW5lR2VvbWV0cnlQYXJhbXMge1xuICAvKiogT3B0aW9uYWwge0BsaW5rIFBsYW5lR2VvbWV0cnl9IHRvIHVzZSAqL1xuICBnZW9tZXRyeT86IFBsYW5lR2VvbWV0cnlcbn1cblxuLyoqIEBjb25zdCAtIGRlZmF1bHQge0BsaW5rIFBsYW5lfSBwYXJhbWV0ZXJzICovXG5jb25zdCBkZWZhdWx0UGxhbmVQYXJhbXMgPSB7XG4gIGxhYmVsOiAnUGxhbmUnLFxuXG4gIC8vIGdlb21ldHJ5XG4gIGluc3RhbmNlc0NvdW50OiAxLFxuICB2ZXJ0ZXhCdWZmZXJzOiBbXSxcbn0gYXMgUGxhbmVQYXJhbXNcblxuLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSBhIHNwZWNpYWwge0BsaW5rIERPTU1lc2h9IGNsYXNzIG9iamVjdCB1c2luZyBhIHtAbGluayBQbGFuZUdlb21ldHJ5fS5cbiAqIFRoaXMgbWVhbnMgYSBxdWFkIHRoYXQgbG9va3MgbGlrZSBhbiBvcmRpbmFyeSB7QGxpbmsgSFRNTEVsZW1lbnR9IGJ1dCB3aXRoIFdlYkdQVSByZW5kZXJpbmcgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBzZXQgb3VyIG1haW4gR1BVQ3VydGFpbnMgaW5zdGFuY2VcbiAqIGNvbnN0IGdwdUN1cnRhaW5zID0gbmV3IEdQVUN1cnRhaW5zKHtcbiAqICAgY29udGFpbmVyOiAnI2NhbnZhcycgLy8gc2VsZWN0b3Igb2Ygb3VyIFdlYkdQVSBjYW52YXMgY29udGFpbmVyXG4gKiB9KVxuICpcbiAqIC8vIHNldCB0aGUgR1BVIGRldmljZVxuICogLy8gbm90ZSB0aGlzIGlzIGFzeW5jaHJvbm91c1xuICogYXdhaXQgZ3B1Q3VydGFpbnMuc2V0RGV2aWNlKClcbiAqXG4gKiAvLyBjcmVhdGUgYSBQbGFuZSxcbiAqIC8vIGFzc3VtaW5nIHRoZXJlJ3MgYSBIVE1MIGVsZW1lbnQgd2l0aCB0aGUgXCJwbGFuZVwiIElEIGluIHRoZSBET01cbiAqIC8vIHdpbGwgdXNlIHRoZSBub3JtYWxzIGNvbG9ycyBhcyBkZWZhdWx0IHNoYWRpbmdcbiAqIGNvbnN0IHBsYW5lID0gbmV3IFBsYW5lKGdwdUN1cnRhaW5zLCAnI3BsYW5lJywge1xuICogICBsYWJlbDogJ015IHBsYW5lJyxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFBsYW5lIGV4dGVuZHMgRE9NTWVzaCB7XG4gIC8qKlxuICAgKiBQbGFuZSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgLSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFBsYW5lfVxuICAgKiBAcGFyYW0gZWxlbWVudCAtIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHVzZWQgdG8gc2NhbGUgYW5kIHBvc2l0aW9uIHRoZSB7QGxpbmsgUGxhbmV9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIFBsYW5lUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgUGxhbmV9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICByZW5kZXJlcjogR1BVQ3VydGFpbnNSZW5kZXJlciB8IEdQVUN1cnRhaW5zLFxuICAgIGVsZW1lbnQ6IERPTUVsZW1lbnRQYXJhbXNbJ2VsZW1lbnQnXSxcbiAgICBwYXJhbWV0ZXJzID0ge30gYXMgUGxhbmVQYXJhbXNcbiAgKSB7XG4gICAgLy8gd2UgY291bGQgcGFzcyBvdXIgY3VydGFpbnMgb2JqZWN0IE9SIG91ciBjdXJ0YWlucyByZW5kZXJlciBvYmplY3RcbiAgICByZW5kZXJlciA9IChyZW5kZXJlciAmJiAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnMpLnJlbmRlcmVyKSB8fCAocmVuZGVyZXIgYXMgR1BVQ3VydGFpbnNSZW5kZXJlcilcblxuICAgIGlzQ3VydGFpbnNSZW5kZXJlcihyZW5kZXJlciwgcGFyYW1ldGVycy5sYWJlbCA/IHBhcmFtZXRlcnMubGFiZWwgKyAnIFBsYW5lJyA6ICdQbGFuZScpXG5cbiAgICAvLyBhc3NpZ24gZGVmYXVsdCBwYXJhbXMgaWYgbmVlZGVkXG4gICAgY29uc3QgcGFyYW1zID0geyAuLi5kZWZhdWx0UGxhbmVQYXJhbXMsIC4uLnBhcmFtZXRlcnMgfVxuXG4gICAgbGV0IHsgZ2VvbWV0cnksIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzLCAuLi5ET01NZXNoUGFyYW1zIH0gPSBwYXJhbXNcbiAgICBjb25zdCB7IGluc3RhbmNlc0NvdW50LCB2ZXJ0ZXhCdWZmZXJzLCAuLi5tYXRlcmlhbFBhcmFtcyB9ID0gRE9NTWVzaFBhcmFtc1xuXG4gICAgLy8gY2FuIHdlIGdldCBhIGNhY2hlZCBnZW9tZXRyeT9cbiAgICBpZiAoIWdlb21ldHJ5IHx8IGdlb21ldHJ5LnR5cGUgIT09ICdQbGFuZUdlb21ldHJ5Jykge1xuICAgICAgd2lkdGhTZWdtZW50cyA9IHdpZHRoU2VnbWVudHMgPz8gMVxuICAgICAgaGVpZ2h0U2VnbWVudHMgPSBoZWlnaHRTZWdtZW50cyA/PyAxXG5cbiAgICAgIGNvbnN0IGdlb21ldHJ5SUQgPSB3aWR0aFNlZ21lbnRzICogaGVpZ2h0U2VnbWVudHMgKyB3aWR0aFNlZ21lbnRzXG5cbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gYWRkaXRpb25hbCB2ZXJ0ZXggYnVmZmVycywgdHJ5IHRvIGdldCBhIGdlb21ldHJ5IGZyb20gY2FjaGVcbiAgICAgIGlmICghdmVydGV4QnVmZmVycy5sZW5ndGgpIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBjYWNoZU1hbmFnZXIuZ2V0UGxhbmVHZW9tZXRyeUJ5SUQoZ2VvbWV0cnlJRClcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZW9tZXRyeSkge1xuICAgICAgICAvLyBubyBjYWNoZWQgcGxhbmUgZ2VvbWV0cnksIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHsgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMsIGluc3RhbmNlc0NvdW50LCB2ZXJ0ZXhCdWZmZXJzIH0pXG4gICAgICAgIGNhY2hlTWFuYWdlci5hZGRQbGFuZUdlb21ldHJ5KGdlb21ldHJ5IGFzIFBsYW5lR2VvbWV0cnkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpZiBnZW9tZXRyeSBjb21lcyBmcm9tIGNhY2hlLCBmb3JjZSBpbnN0YW5jZXMgY291bnRcbiAgICAgICAgZ2VvbWV0cnkuaW5zdGFuY2VzQ291bnQgPSBpbnN0YW5jZXNDb3VudFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdldCBET01NZXNoIHBhcmFtc1xuICAgIHN1cGVyKHJlbmRlcmVyLCBlbGVtZW50LCB7IGdlb21ldHJ5LCAuLi5tYXRlcmlhbFBhcmFtcyB9IGFzIERPTU1lc2hQYXJhbXMpXG5cbiAgICB0aGlzLnR5cGUgPSAnUGxhbmUnXG4gIH1cblxuICAvKipcbiAgICogVGFrZSB0aGUgcG9pbnRlciB7QGxpbmsgVmVjMiB8IHZlY3Rvcn0gcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50IGFuZCByZXR1cm5zIGl0IHJlbGF0aXZlIHRvIG91ciB7QGxpbmsgUGxhbmV9XG4gICAqIEl0IHJhbmdlcyBmcm9tIC0xIHRvIDEgb24gYm90aCBheGlzXG4gICAqIEBwYXJhbSBtb3VzZUNvb3JkcyAtIHBvaW50ZXIge0BsaW5rIFZlYzIgfCB2ZWN0b3J9IGNvb3JkaW5hdGVzXG4gICAqIEByZXR1cm5zIC0gcmF5Y2FzdGVkIHtAbGluayBWZWMyIHwgdmVjdG9yfSBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUge0BsaW5rIFBsYW5lfVxuICAgKi9cbiAgbW91c2VUb1BsYW5lQ29vcmRzKG1vdXNlQ29vcmRzOiBWZWMyID0gbmV3IFZlYzIoKSk6IFZlYzIge1xuICAgIC8vIFRPRE8gc2ltcGxpZnkgaWYgbm8gcm90YXRpb24gc2V0P1xuICAgIC8vIHJheWNhc3RpbmdcbiAgICAvLyBiYXNlZCBvbiBodHRwczovL3Blb3BsZS5jcy5jbGVtc29uLmVkdS9+ZGhvdXNlL2NvdXJzZXMvNDA1L25vdGVzL3JheWNhc3QucGRmXG5cbiAgICAvLyBjb252ZXJ0IG1vdXNlIHBvc2l0aW9uIHRvIDNkIG5vcm1hbGlzZWQgZGV2aWNlIGNvb3JkaW5hdGVzIChmcm9tIFstMSwgLTFdIHRvIFsxLCAxXSlcbiAgICBjb25zdCB3b3JsZE1vdXNlID0ge1xuICAgICAgeDogMiAqIChtb3VzZUNvb3Jkcy54IC8gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LndpZHRoKSAtIDEsXG4gICAgICB5OiAyICogKDEgLSBtb3VzZUNvb3Jkcy55IC8gdGhpcy5yZW5kZXJlci5waXhlbFJhdGlvQm91bmRpbmdSZWN0LmhlaWdodCkgLSAxLFxuICAgIH1cblxuICAgIGNvbnN0IHJheU9yaWdpbiA9IHRoaXMuY2FtZXJhLnBvc2l0aW9uLmNsb25lKClcblxuICAgIC8vIHJheSBkaXJlY3Rpb24gYmFzZWQgb24gbm9ybWFsaXNlZCBjb29yZGluYXRlcyBhbmQgcGxhbmUgdHJhbnNsYXRpb25cbiAgICBjb25zdCByYXlEaXJlY3Rpb24gPSBuZXcgVmVjMyh3b3JsZE1vdXNlLngsIHdvcmxkTW91c2UueSwgLTAuNSlcblxuICAgIC8vIHVucHJvamVjdCByYXkgZGlyZWN0aW9uXG4gICAgcmF5RGlyZWN0aW9uLnVucHJvamVjdCh0aGlzLmNhbWVyYSlcbiAgICByYXlEaXJlY3Rpb24uc3ViKHJheU9yaWdpbikubm9ybWFsaXplKClcblxuICAgIC8vIHBsYW5lIG5vcm1hbHMgKGNvdWxkIGFsc28gYmUgWzAsIDAsIC0xXSwgbWFrZXMgbm8gZGlmZmVyZW5jZSwgcmF5Y2FzdGluZyBsYW5kcyB0aGUgc2FtZSByZXN1bHQgZm9yIGJvdGggZmFjZSlcbiAgICBjb25zdCBwbGFuZU5vcm1hbHMgPSBuZXcgVmVjMygwLCAwLCAxKVxuXG4gICAgLy8gYXBwbHkgcGxhbmUgcXVhdGVybmlvbiB0byBwbGFuZSBub3JtYWxzXG4gICAgcGxhbmVOb3JtYWxzLmFwcGx5UXVhdCh0aGlzLnF1YXRlcm5pb24pLm5vcm1hbGl6ZSgpXG5cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVmVjMygwLCAwLCAwKVxuXG4gICAgY29uc3QgZGVub21pbmF0b3IgPSBwbGFuZU5vcm1hbHMuZG90KHJheURpcmVjdGlvbilcblxuICAgIGlmIChNYXRoLmFicyhkZW5vbWluYXRvcikgPj0gMC4wMDAxKSB7XG4gICAgICBjb25zdCBpbnZlcnNlVmlld01hdHJpeCA9IHRoaXMubW9kZWxNYXRyaXguZ2V0SW52ZXJzZSgpLnByZW11bHRpcGx5KHRoaXMuY2FtZXJhLnZpZXdNYXRyaXgpXG5cbiAgICAgIC8vIGdldCB0aGUgcGxhbmUncyBjZW50ZXIgY29vcmRpbmF0ZXNcbiAgICAgIC8vIHN0YXJ0IHdpdGggb3VyIHRyYW5zZm9ybSBvcmlnaW4gcG9pbnRcbiAgICAgIGNvbnN0IHBsYW5lT3JpZ2luID0gdGhpcy53b3JsZFRyYW5zZm9ybU9yaWdpbi5jbG9uZSgpLmFkZCh0aGlzLndvcmxkUG9zaXRpb24pXG5cbiAgICAgIC8vIHJvdGF0ZSBvdXIgdHJhbnNmb3JtIG9yaWdpbiBhYm91dCB3b3JsZCBjZW50ZXJcbiAgICAgIGNvbnN0IHJvdGF0ZWRPcmlnaW4gPSBuZXcgVmVjMyhcbiAgICAgICAgdGhpcy53b3JsZFBvc2l0aW9uLnggLSBwbGFuZU9yaWdpbi54LFxuICAgICAgICB0aGlzLndvcmxkUG9zaXRpb24ueSAtIHBsYW5lT3JpZ2luLnksXG4gICAgICAgIHRoaXMud29ybGRQb3NpdGlvbi56IC0gcGxhbmVPcmlnaW4uelxuICAgICAgKVxuICAgICAgcm90YXRlZE9yaWdpbi5hcHBseVF1YXQodGhpcy5xdWF0ZXJuaW9uKVxuXG4gICAgICAvLyBhZGQgaXQgdG8gb3VyIHBsYW5lIG9yaWdpblxuICAgICAgcGxhbmVPcmlnaW4uYWRkKHJvdGF0ZWRPcmlnaW4pXG5cbiAgICAgIC8vIGRpc3RhbmNlIGZyb20gcmF5IG9yaWdpbiB0byBwbGFuZVxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBwbGFuZU5vcm1hbHMuZG90KHBsYW5lT3JpZ2luLmNsb25lKCkuc3ViKHJheU9yaWdpbikpIC8gZGVub21pbmF0b3JcbiAgICAgIHJlc3VsdC5jb3B5KHJheU9yaWdpbi5hZGQocmF5RGlyZWN0aW9uLm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKSkpXG5cbiAgICAgIHJlc3VsdC5hcHBseU1hdDQoaW52ZXJzZVZpZXdNYXRyaXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG5vIGludGVyc2VjdGlvbiFcbiAgICAgIHJlc3VsdC5zZXQoSW5maW5pdHksIEluZmluaXR5LCBJbmZpbml0eSlcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZlYzIocmVzdWx0LngsIHJlc3VsdC55KVxuICB9XG59XG4iLCJpbXBvcnQgeyBDYW1lcmFSZW5kZXJlciwgaXNSZW5kZXJlciwgUmVuZGVyZXIgfSBmcm9tICcuLi9yZW5kZXJlcnMvdXRpbHMnXG5pbXBvcnQgeyBET01Qcm9qZWN0ZWRNZXNoLCBQcm9qZWN0ZWRNZXNoLCBSZW5kZXJlZE1lc2ggfSBmcm9tICcuLi9yZW5kZXJlcnMvR1BVUmVuZGVyZXInXG5pbXBvcnQgeyBTaGFkZXJQYXNzIH0gZnJvbSAnLi4vcmVuZGVyUGFzc2VzL1NoYWRlclBhc3MnXG5pbXBvcnQgeyBQaW5nUG9uZ1BsYW5lIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvbWVzaGVzL1BpbmdQb25nUGxhbmUnXG5pbXBvcnQgeyBDb21wdXRlUGFzcyB9IGZyb20gJy4uL2NvbXB1dGVQYXNzZXMvQ29tcHV0ZVBhc3MnXG5pbXBvcnQgeyBHUFVDdXJ0YWlucyB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL0dQVUN1cnRhaW5zJ1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi4vcmVuZGVyUGFzc2VzL1JlbmRlclRhcmdldCdcbmltcG9ydCB7IERPTU1lc2ggfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9tZXNoZXMvRE9NTWVzaCdcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvbWVzaGVzL1BsYW5lJ1xuaW1wb3J0IHsgUmVuZGVyUGFzcyB9IGZyb20gJy4uL3JlbmRlclBhc3Nlcy9SZW5kZXJQYXNzJ1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1JlbmRlclRleHR1cmUnXG5pbXBvcnQgeyBXcml0YWJsZUJ1ZmZlckJpbmRpbmcgfSBmcm9tICcuLi9iaW5kaW5ncy9Xcml0YWJsZUJ1ZmZlckJpbmRpbmcnXG5cbi8qKlxuICogTWVzaGVzIHJlbmRlcmluZyBvcmRlciBpcyBkZXBlbmRhbnQgb2YgdGhlaXIgdHJhbnNwYXJlbmN5IHNldHRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9qZWN0aW9uU3RhY2sge1xuICAvKiogb3BhcXVlIE1lc2hlcyB3aWxsIGJlIGRyYXduIGZpcnN0ICovXG4gIG9wYXF1ZTogUHJvamVjdGVkTWVzaFtdXG4gIC8qKiB0cmFuc3BhcmVudCBNZXNoZXMgd2lsbCBiZSBkcmF3biBsYXN0ICovXG4gIHRyYW5zcGFyZW50OiBQcm9qZWN0ZWRNZXNoW11cbn1cblxuLyoqIE1lc2hlcyB3aWxsIGJlIHN0YWNrZWQgaW4gMiBkaWZmZXJlbnQgb2JqZWN0cyB3aGV0aGVyIHRoZXkgYXJlIHByb2plY3RlZCAodXNlIGEge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9KSBvciBub3QgKi9cbmV4cG9ydCB0eXBlIFByb2plY3Rpb25UeXBlID0gJ3VuUHJvamVjdGVkJyB8ICdwcm9qZWN0ZWQnXG5cbi8qKlxuICogTWVzaGVzIHdpbGwgYmUgcHV0IGludG8gdHdvIHN0YWNrcyBvZiBwcm9qZWN0ZWQvdW5wcm9qZWN0ZWQgdHJhbnNwYXJlbnQgYW5kIG9wYXF1ZXMgbWVzaGVzIGFycmF5c1xuICovXG5leHBvcnQgdHlwZSBTdGFjayA9IFJlY29yZDxQcm9qZWN0aW9uVHlwZSwgUHJvamVjdGlvblN0YWNrPlxuXG4vKipcbiAqIEEgUmVuZGVyUGFzc0VudHJ5IG9iamVjdCBpcyB1c2VkIHRvIGdyb3VwIE1lc2hlcyBiYXNlZCBvbiB0aGVpciByZW5kZXJpbmcgdGFyZ2V0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGFzc0VudHJ5IHtcbiAgLyoqIHtAbGluayBSZW5kZXJQYXNzfSB0YXJnZXQgdXNlZCBvbnRvIHdoaWNoIHJlbmRlciAqL1xuICByZW5kZXJQYXNzOiBSZW5kZXJQYXNzXG4gIC8qKiB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gcmVuZGVyIHRvIGlmIGFueSAoaWYgbm90IHNwZWNpZmllZCB0aGVuIHRoaXMge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gTWVzaGVzIHdpbGwgYmUgcmVuZGVyZWQgZGlyZWN0bHkgdG8gc2NyZWVuKSAqL1xuICByZW5kZXJUZXh0dXJlOiBSZW5kZXJUZXh0dXJlIHwgbnVsbFxuICAvKiogT3B0aW9uYWwgZnVuY3Rpb24gdG8gZXhlY3V0ZSBqdXN0IGJlZm9yZSByZW5kZXJpbmcgdGhlIE1lc2hlcywgdXNlZnVsIGZvciBldmVudHVhbCB0ZXh0dXJlIGNvcHkgKi9cbiAgb25CZWZvcmVSZW5kZXJQYXNzOiAoKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIsIHN3YXBDaGFpblRleHR1cmU/OiBHUFVUZXh0dXJlKSA9PiB2b2lkKSB8IG51bGxcbiAgLyoqIE9wdGlvbmFsIGZ1bmN0aW9uIHRvIGV4ZWN1dGUganVzdCBhZnRlciByZW5kZXJpbmcgdGhlIE1lc2hlcywgdXNlZnVsIGZvciBldmVudHVhbCB0ZXh0dXJlIGNvcHkgKi9cbiAgb25BZnRlclJlbmRlclBhc3M6ICgoY29tbWFuZEVuY29kZXI/OiBHUFVDb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZT86IEdQVVRleHR1cmUpID0+IHZvaWQpIHwgbnVsbFxuICAvKiogSWYgdGhpcyB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSBuZWVkcyB0byByZW5kZXIgb25seSBvbmUgTWVzaCAqL1xuICBlbGVtZW50OiBSZW5kZXJlZE1lc2ggfCBudWxsXG4gIC8qKiBJZiB0aGlzIHtAbGluayBSZW5kZXJQYXNzRW50cnl9IG5lZWRzIHRvIHJlbmRlciBtdWx0aXBsZSBNZXNoZXMsIHRoZW4gdXNlIGEge0BsaW5rIFN0YWNrfSBvYmplY3QgKi9cbiAgc3RhY2s6IFN0YWNrIHwgbnVsbFxufVxuXG4vKiogRGVmaW5lcyBhbGwgb3VyIHBvc3NpYmxlIHJlbmRlciB0YXJnZXRzICovXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzRW50cmllc1R5cGUgPSAncGluZ1BvbmcnIHwgJ3JlbmRlclRhcmdldCcgfCAnc2NyZWVuJ1xuLyoqIERlZmluZXMgb3VyIHJlbmRlciBwYXNzIGVudHJpZXMgb2JqZWN0ICovXG5leHBvcnQgdHlwZSBSZW5kZXJQYXNzRW50cmllcyA9IFJlY29yZDxSZW5kZXJQYXNzRW50cmllc1R5cGUsIFJlbmRlclBhc3NFbnRyeVtdPlxuXG4vKipcbiAqIFVzZWQgdG8gYnkgdGhlIHtAbGluayBSZW5kZXJlcn0gcmVuZGVyIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBiZSByZW5kZXJlZCAoY29tcHV0ZSBwYXNzZXMgYW5kIG1lc2hlcykgaW4gdGhlIHJpZ2h0IG9yZGVyIHdpdGggdGhlIHJpZ2h0IHBhc3MgZGVzY3JpcHRvcnMgYW5kIHRhcmdldCB0ZXh0dXJlcywgcGVyZm9ybSB0ZXh0dXJlcyBjb3B5IGF0IHRoZSByaWdodCB0aW1lLCBldGMuXG4gKlxuICogIyMgUmVuZGVyIG9yZGVyXG4gKlxuICogLSBSdW4gYWxsIHRoZSB7QGxpbmsgQ29tcHV0ZVBhc3N9IGZpcnN0LCBzb3J0ZWQgYnkgdGhlaXIge0BsaW5rIENvbXB1dGVQYXNzI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9XG4gKiAtIFRoZW4gcmVuZGVyIGFsbCB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHBpbmdQb25nIGVudHJpZXMgTWVzaGVzLCBzb3J0ZWQgYnkgdGhlaXIge0BsaW5rIFBpbmdQb25nUGxhbmUjcmVuZGVyT3JkZXIgfCByZW5kZXJPcmRlcn1cbiAqIC0gVGhlbiBhbGwgTWVzaGVzIHRoYXQgbmVlZCB0byBiZSByZW5kZXJlZCBpbnRvIHNwZWNpZmljIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcmVuZGVyVGFyZ2V0IGVudHJpZXM6XG4gKiAgIC0gRmlyc3QsIHRoZSBvcGFxdWUgdW5wcm9qZWN0ZWQgTWVzaGVzIChpLmUuIG9wYXF1ZSB7QGxpbmsgY29yZS9tZXNoZXMvRnVsbHNjcmVlblBsYW5lLkZ1bGxzY3JlZW5QbGFuZSB8IEZ1bGxzY3JlZW5QbGFuZX0sIGlmIGFueSksIHNvcnRlZCBieSB0aGVpciB7QGxpbmsgY29yZS9tZXNoZXMvRnVsbHNjcmVlblBsYW5lLkZ1bGxzY3JlZW5QbGFuZSNyZW5kZXJPcmRlciB8IHJlbmRlck9yZGVyfVxuICogICAtIFRoZW4sIHRoZSB0cmFuc3BhcmVudCB1bnByb2plY3RlZCBNZXNoZXMgKGkuZS4gdHJhbnNwYXJlbnQge0BsaW5rIGNvcmUvbWVzaGVzL0Z1bGxzY3JlZW5QbGFuZS5GdWxsc2NyZWVuUGxhbmUgfCBGdWxsc2NyZWVuUGxhbmV9LCBpZiBhbnkpLCBzb3J0ZWQgYnkgdGhlaXIge0BsaW5rIGNvcmUvbWVzaGVzL0Z1bGxzY3JlZW5QbGFuZS5GdWxsc2NyZWVuUGxhbmUjcmVuZGVyT3JkZXIgfCByZW5kZXJPcmRlcn1cbiAqICAgLSBUaGVuLCB0aGUgb3BhcXVlIHByb2plY3RlZCBNZXNoZXMgKGkuZS4gb3BhcXVlIHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2ggfCBNZXNofSwge0BsaW5rIERPTU1lc2h9IG9yIHtAbGluayBQbGFuZX0pLCBzb3J0ZWQgYnkgdGhlaXIge0BsaW5rIGNvcmUvbWVzaGVzL01lc2guTWVzaCNyZW5kZXJPcmRlciB8IHJlbmRlck9yZGVyfVxuICogICAtIEZpbmFsbHksIHRoZSB0cmFuc3BhcmVudCBwcm9qZWN0ZWQgTWVzaGVzIChpLmUuIHRyYW5zcGFyZW50IHtAbGluayBjb3JlL21lc2hlcy9NZXNoLk1lc2ggfCBNZXNofSwge0BsaW5rIERPTU1lc2h9IG9yIHtAbGluayBQbGFuZX0pLCBzb3J0ZWQgYnkgdGhlaXIgWiBwb3NpdGlvbiBhbmQgdGhlbiB0aGVpciB7QGxpbmsgY29yZS9tZXNoZXMvTWVzaC5NZXNoI3JlbmRlck9yZGVyIHwgcmVuZGVyT3JkZXJ9XG4gKiAtIEZpbmFsbHkgYWxsIE1lc2hlcyB0aGF0IG5lZWQgdG8gYmUgcmVuZGVyZWQgZGlyZWN0bHkgdG8gdGhlIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuICh0aGUge0BsaW5rIFJlbmRlcmVyfSBjdXJyZW50IHRleHR1cmUpLCBpbiB0aGUgc2FtZSBvcmRlciB0aGFuIGFib3ZlLlxuICovXG5leHBvcnQgY2xhc3MgU2NlbmUge1xuICAvKioge0BsaW5rIFJlbmRlcmVyfSB1c2VkIGJ5IHRoaXMge0BsaW5rIFNjZW5lfSAqL1xuICByZW5kZXJlcjogUmVuZGVyZXJcbiAgLyoqIEFycmF5IG9mIHtAbGluayBDb21wdXRlUGFzc30gdG8gcmVuZGVyLCBvcmRlcmVkIGJ5IHtAbGluayBDb21wdXRlUGFzcyNyZW5kZXJPcmRlciB8IHJlbmRlck9yZGVyfSAqL1xuICBjb21wdXRlUGFzc0VudHJpZXM6IENvbXB1dGVQYXNzW11cbiAgLyoqXG4gICAqIEEge0BsaW5rIFJlbmRlclBhc3NFbnRyaWVzfSBvYmplY3QgdGhhdCB3aWxsIGNvbnRhaW4gZXZlcnkgTWVzaGVzIHRoYXQgbmVlZCB0byBiZSBkcmF3biwgcHV0IGluc2lkZSBlYWNoIG9uZSBvZiBvdXIgdGhyZWUgZW50cmllcyB0eXBlIGFycmF5czogJ3BpbmdQb25nJywgJ3JlbmRlclRhcmdldCcgYW5kICdzY3JlZW4nLlxuICAgKiAtIFRoZSB7QGxpbmsgU2NlbmV9IHdpbGwgZmlyc3QgcmVuZGVyIGFsbCB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHBpbmdQb25nIGVudHJpZXMgTWVzaGVzXG4gICAqIC0gVGhlbiBhbGwgTWVzaGVzIHRoYXQgbmVlZCB0byBiZSByZW5kZXJlZCBpbnRvIHNwZWNpZmljIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcmVuZGVyVGFyZ2V0IGVudHJpZXNcbiAgICogLSBGaW5hbGx5IGFsbCBNZXNoZXMgdGhhdCBuZWVkIHRvIGJlIHJlbmRlcmVkIHRvIHRoZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHNjcmVlblxuICAgKi9cbiAgcmVuZGVyUGFzc0VudHJpZXM6IFJlbmRlclBhc3NFbnRyaWVzXG5cbiAgLyoqXG4gICAqIFNjZW5lIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gb2JqZWN0IG9yIHtAbGluayBHUFVDdXJ0YWluc30gY2xhc3Mgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIFNjZW5lfVxuICAgKi9cbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9OiB7IHJlbmRlcmVyOiBSZW5kZXJlciB8IEdQVUN1cnRhaW5zIH0pIHtcbiAgICAvLyB3ZSBjb3VsZCBwYXNzIG91ciBjdXJ0YWlucyBvYmplY3QgT1Igb3VyIGN1cnRhaW5zIHJlbmRlcmVyIG9iamVjdFxuICAgIHJlbmRlcmVyID0gKHJlbmRlcmVyICYmIChyZW5kZXJlciBhcyBHUFVDdXJ0YWlucykucmVuZGVyZXIpIHx8IChyZW5kZXJlciBhcyBSZW5kZXJlcilcblxuICAgIGlzUmVuZGVyZXIocmVuZGVyZXIsICdTY2VuZScpXG5cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcblxuICAgIHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzID0gW11cblxuICAgIHRoaXMucmVuZGVyUGFzc0VudHJpZXMgPSB7XG4gICAgICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gdGhhdCB3aWxsIGhhbmRsZSB7QGxpbmsgUGluZ1BvbmdQbGFuZX0uIEVhY2gge0BsaW5rIFBpbmdQb25nUGxhbmV9IHdpbGwgYmUgYWRkZWQgYXMgYSBkaXN0aW5jdCB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSBoZXJlICovXG4gICAgICBwaW5nUG9uZzogW10gYXMgUmVuZGVyUGFzc0VudHJ5W10sXG4gICAgICAvKiogQXJyYXkgb2Yge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gdGhhdCB3aWxsIHJlbmRlciB0byBhIHNwZWNpZmljIHtAbGluayBSZW5kZXJUYXJnZXR9LiBFYWNoIHtAbGluayBSZW5kZXJUYXJnZXR9IHdpbGwgYmUgYWRkZWQgYXMgYSBkaXN0aW5jdCB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSBoZXJlICovXG4gICAgICByZW5kZXJUYXJnZXQ6IFtdIGFzIFJlbmRlclBhc3NFbnRyeVtdLFxuICAgICAgLyoqIEFycmF5IG9mIHtAbGluayBSZW5kZXJQYXNzRW50cnl9IHRoYXQgd2lsbCByZW5kZXIgZGlyZWN0bHkgdG8gdGhlIHNjcmVlbi4gT3VyIGZpcnN0IGVudHJ5IHdpbGwgY29udGFpbiBhbGwgdGhlIE1lc2hlcyB0aGF0IGRvIG5vdCBoYXZlIGFueSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBhc3NpZ25lZC4gRm9sbG93aW5nIGVudHJpZXMgd2lsbCBiZSBjcmVhdGVkIGZvciBldmVyeSBnbG9iYWwge0BsaW5rIFNoYWRlclBhc3N9ICovXG4gICAgICBzY3JlZW46IFtcbiAgICAgICAgLy8gYWRkIG91ciBiYXNpYyBzY2VuZSBlbnRyeVxuICAgICAgICB7XG4gICAgICAgICAgcmVuZGVyUGFzczogdGhpcy5yZW5kZXJlci5yZW5kZXJQYXNzLFxuICAgICAgICAgIHJlbmRlclRleHR1cmU6IG51bGwsXG4gICAgICAgICAgb25CZWZvcmVSZW5kZXJQYXNzOiBudWxsLFxuICAgICAgICAgIG9uQWZ0ZXJSZW5kZXJQYXNzOiBudWxsLFxuICAgICAgICAgIGVsZW1lbnQ6IG51bGwsIC8vIGV4cGxpY2l0bHkgc2V0IHRvIG51bGxcbiAgICAgICAgICBzdGFjazoge1xuICAgICAgICAgICAgdW5Qcm9qZWN0ZWQ6IHtcbiAgICAgICAgICAgICAgb3BhcXVlOiBbXSxcbiAgICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2plY3RlZDoge1xuICAgICAgICAgICAgICBvcGFxdWU6IFtdLFxuICAgICAgICAgICAgICB0cmFuc3BhcmVudDogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdIGFzIFJlbmRlclBhc3NFbnRyeVtdLFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBtZXNoZXMgYSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5IHwgcmVuZGVyIHBhc3MgZW50cnl9IHNob3VsZCBkcmF3LlxuICAgKiBAcGFyYW0gcmVuZGVyUGFzc0VudHJ5IC0gVGhlIHtAbGluayBSZW5kZXJQYXNzRW50cnkgfCByZW5kZXIgcGFzcyBlbnRyeX0gdG8gdGVzdFxuICAgKi9cbiAgZ2V0UmVuZGVyUGFzc0VudHJ5TGVuZ3RoKHJlbmRlclBhc3NFbnRyeTogUmVuZGVyUGFzc0VudHJ5KTogbnVtYmVyIHtcbiAgICBpZiAoIXJlbmRlclBhc3NFbnRyeSkge1xuICAgICAgcmV0dXJuIDBcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlbmRlclBhc3NFbnRyeS5lbGVtZW50XG4gICAgICAgID8gMVxuICAgICAgICA6IHJlbmRlclBhc3NFbnRyeS5zdGFjay51blByb2plY3RlZC5vcGFxdWUubGVuZ3RoICtcbiAgICAgICAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay51blByb2plY3RlZC50cmFuc3BhcmVudC5sZW5ndGggK1xuICAgICAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUubGVuZ3RoICtcbiAgICAgICAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay5wcm9qZWN0ZWQudHJhbnNwYXJlbnQubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBDb21wdXRlUGFzc30gdG8gb3VyIHNjZW5lIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGFycmF5XG4gICAqIEBwYXJhbSBjb21wdXRlUGFzcyAtIHtAbGluayBDb21wdXRlUGFzc30gdG8gYWRkXG4gICAqL1xuICBhZGRDb21wdXRlUGFzcyhjb21wdXRlUGFzczogQ29tcHV0ZVBhc3MpIHtcbiAgICB0aGlzLmNvbXB1dGVQYXNzRW50cmllcy5wdXNoKGNvbXB1dGVQYXNzKVxuICAgIHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLnJlbmRlck9yZGVyICE9PSBiLnJlbmRlck9yZGVyKSB7XG4gICAgICAgIHJldHVybiBhLnJlbmRlck9yZGVyIC0gYi5yZW5kZXJPcmRlclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgQ29tcHV0ZVBhc3N9IGZyb20gb3VyIHNjZW5lIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGFycmF5XG4gICAqIEBwYXJhbSBjb21wdXRlUGFzcyAtIHtAbGluayBDb21wdXRlUGFzc30gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVDb21wdXRlUGFzcyhjb21wdXRlUGFzczogQ29tcHV0ZVBhc3MpIHtcbiAgICB0aGlzLmNvbXB1dGVQYXNzRW50cmllcyA9IHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzLmZpbHRlcigoY1ApID0+IGNQLnV1aWQgIT09IGNvbXB1dGVQYXNzLnV1aWQpXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFJlbmRlclRhcmdldH0gdG8gb3VyIHNjZW5lIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcmVuZGVyVGFyZ2V0IGFycmF5LlxuICAgKiBFdmVyeSBNZXNoZXMgbGF0ZXIgYWRkZWQgdG8gdGhpcyB7QGxpbmsgUmVuZGVyVGFyZ2V0fSB3aWxsIGJlIHJlbmRlcmVkIHRvIHRoZSB7QGxpbmsgUmVuZGVyVGFyZ2V0I3JlbmRlclRleHR1cmUgfCBSZW5kZXJUYXJnZXQgUmVuZGVyVGV4dHVyZX0gdXNpbmcgdGhlIHtAbGluayBSZW5kZXJUYXJnZXQjcmVuZGVyUGFzcy5kZXNjcmlwdG9yIHwgUmVuZGVyVGFyZ2V0IFJlbmRlclBhc3MgZGVzY3JpcHRvcn1cbiAgICogQHBhcmFtIHJlbmRlclRhcmdldCAtIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldDogUmVuZGVyVGFyZ2V0KSB7XG4gICAgLy8gaWYgUlQgaXMgbm90IGFscmVhZHkgaW4gdGhlIHJlbmRlciBwYXNzIGVudHJpZXNcbiAgICBpZiAoIXRoaXMucmVuZGVyUGFzc0VudHJpZXMucmVuZGVyVGFyZ2V0LmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5yZW5kZXJQYXNzLnV1aWQgPT09IHJlbmRlclRhcmdldC5yZW5kZXJQYXNzLnV1aWQpKVxuICAgICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQucHVzaCh7XG4gICAgICAgIHJlbmRlclBhc3M6IHJlbmRlclRhcmdldC5yZW5kZXJQYXNzLFxuICAgICAgICByZW5kZXJUZXh0dXJlOiByZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZSxcbiAgICAgICAgb25CZWZvcmVSZW5kZXJQYXNzOiBudWxsLFxuICAgICAgICBvbkFmdGVyUmVuZGVyUGFzczogbnVsbCxcbiAgICAgICAgZWxlbWVudDogbnVsbCwgLy8gZXhwbGljaXRseSBzZXQgdG8gbnVsbFxuICAgICAgICBzdGFjazoge1xuICAgICAgICAgIHVuUHJvamVjdGVkOiB7XG4gICAgICAgICAgICBvcGFxdWU6IFtdLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJvamVjdGVkOiB7XG4gICAgICAgICAgICBvcGFxdWU6IFtdLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9IGFzIFJlbmRlclBhc3NFbnRyeSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgUmVuZGVyVGFyZ2V0fSBmcm9tIG91ciBzY2VuZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHJlbmRlclRhcmdldCBhcnJheS5cbiAgICogQHBhcmFtIHJlbmRlclRhcmdldCAtIHtAbGluayBSZW5kZXJUYXJnZXR9IHRvIGFkZFxuICAgKi9cbiAgcmVtb3ZlUmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldDogUmVuZGVyVGFyZ2V0KSB7XG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5yZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnJlbmRlclRhcmdldC5maWx0ZXIoXG4gICAgICAoZW50cnkpID0+IGVudHJ5LnJlbmRlclBhc3MudXVpZCAhPT0gcmVuZGVyVGFyZ2V0LnJlbmRlclBhc3MudXVpZFxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvcnJlY3Qge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzIHwgcmVuZGVyIHBhc3MgZW50cnl9IChlaXRoZXIge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSByZW5kZXJUYXJnZXQgb3Ige0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBzY3JlZW4pIHtAbGluayBTdGFja30gb250byB3aGljaCB0aGlzIE1lc2ggc2hvdWxkIGJlIGFkZGVkLCBkZXBlbmRpbmcgb24gd2hldGhlciBpdCdzIHByb2plY3RlZCBvciBub3RcbiAgICogQHBhcmFtIG1lc2ggLSBNZXNoIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIC0gdGhlIGNvcnJlc3BvbmRpbmcgcmVuZGVyIHBhc3MgZW50cnkge0BsaW5rIFN0YWNrfVxuICAgKi9cbiAgZ2V0TWVzaFByb2plY3Rpb25TdGFjayhtZXNoOiBQcm9qZWN0ZWRNZXNoKTogUHJvamVjdGlvblN0YWNrIHtcbiAgICAvLyBmaXJzdCBnZXQgY29ycmVjdCByZW5kZXIgcGFzcyBlbnR5IGFuZCBzdGFja1xuICAgIGNvbnN0IHJlbmRlclBhc3NFbnRyeSA9IG1lc2gucmVuZGVyVGFyZ2V0XG4gICAgICA/IHRoaXMucmVuZGVyUGFzc0VudHJpZXMucmVuZGVyVGFyZ2V0LmZpbmQoXG4gICAgICAgICAgKHBhc3NFbnRyeSkgPT4gcGFzc0VudHJ5LnJlbmRlclBhc3MudXVpZCA9PT0gbWVzaC5yZW5kZXJUYXJnZXQucmVuZGVyUGFzcy51dWlkXG4gICAgICAgIClcbiAgICAgIDogdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW5bMF1cblxuICAgIGNvbnN0IHsgc3RhY2sgfSA9IHJlbmRlclBhc3NFbnRyeVxuXG4gICAgcmV0dXJuIG1lc2gubWF0ZXJpYWwub3B0aW9ucy5yZW5kZXJpbmcudXNlUHJvamVjdGlvbiA/IHN0YWNrLnByb2plY3RlZCA6IHN0YWNrLnVuUHJvamVjdGVkXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgTWVzaCB0byB0aGUgY29ycmVjdCB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXMgfCByZW5kZXIgcGFzcyBlbnRyeX0ge0BsaW5rIFN0YWNrfSBhcnJheS5cbiAgICogTWVzaGVzIGFyZSB0aGVuIG9yZGVyZWQgYnkgdGhlaXIge0BsaW5rIGNvcmUvbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluLk1lc2hCYXNlQ2xhc3MjaW5kZXggfCBpbmRleGVzIChvcmRlciBvZiBjcmVhdGlvbl19LCBwb3NpdGlvbiBhbG9uZyB0aGUgWiBheGlzIGluIGNhc2UgdGhleSBhcmUgdHJhbnNwYXJlbnQgYW5kIHRoZW4ge0BsaW5rIGNvcmUvbWVzaGVzL21peGlucy9NZXNoQmFzZU1peGluLk1lc2hCYXNlQ2xhc3MjcmVuZGVyT3JkZXIgfCByZW5kZXJPcmRlcn1cbiAgICogQHBhcmFtIG1lc2ggLSBNZXNoIHRvIGFkZFxuICAgKi9cbiAgYWRkTWVzaChtZXNoOiBQcm9qZWN0ZWRNZXNoKSB7XG4gICAgY29uc3QgcHJvamVjdGlvblN0YWNrID0gdGhpcy5nZXRNZXNoUHJvamVjdGlvblN0YWNrKG1lc2gpXG5cbiAgICAvLyByZWJ1aWxkIHN0YWNrXG4gICAgY29uc3Qgc2ltaWxhck1lc2hlcyA9IG1lc2gudHJhbnNwYXJlbnQgPyBbLi4ucHJvamVjdGlvblN0YWNrLnRyYW5zcGFyZW50XSA6IFsuLi5wcm9qZWN0aW9uU3RhY2sub3BhcXVlXVxuXG4gICAgLy8gZmluZCBpZiB0aGVyZSdzIGFscmVhZHkgYSBwbGFuZSB3aXRoIHRoZSBzYW1lIHBpcGVsaW5lIHdpdGggYSBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uXG4gICAgbGV0IHNpYmxpbmdNZXNoSW5kZXggPSAtMVxuXG4gICAgZm9yIChsZXQgaSA9IHNpbWlsYXJNZXNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGlmIChzaW1pbGFyTWVzaGVzW2ldLm1hdGVyaWFsLnBpcGVsaW5lRW50cnkuaW5kZXggPT09IG1lc2gubWF0ZXJpYWwucGlwZWxpbmVFbnRyeS5pbmRleCkge1xuICAgICAgICBzaWJsaW5nTWVzaEluZGV4ID0gaSArIDFcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpZiBmaW5kSW5kZXggcmV0dXJuZWQgLTEgKG5vIG1hdGNoaW5nIHBpcGVsaW5lKVxuICAgIHNpYmxpbmdNZXNoSW5kZXggPSBNYXRoLm1heCgwLCBzaWJsaW5nTWVzaEluZGV4KVxuXG4gICAgLy8gYWRkIGl0IHRvIG91ciBzdGFjayBwbGFuZSBhcnJheVxuICAgIHNpbWlsYXJNZXNoZXMuc3BsaWNlKHNpYmxpbmdNZXNoSW5kZXgsIDAsIG1lc2gpXG4gICAgc2ltaWxhck1lc2hlcy5zb3J0KChhLCBiKSA9PiBhLmluZGV4IC0gYi5pbmRleClcblxuICAgIC8vIHNvcnQgYnkgWiBwb3MgaWYgdHJhbnNwYXJlbnRcbiAgICBpZiAoKG1lc2ggaW5zdGFuY2VvZiBET01NZXNoIHx8IG1lc2ggaW5zdGFuY2VvZiBQbGFuZSkgJiYgbWVzaC50cmFuc3BhcmVudCkge1xuICAgICAgc2ltaWxhck1lc2hlcy5zb3J0KFxuICAgICAgICAoYSwgYikgPT4gKGIgYXMgRE9NUHJvamVjdGVkTWVzaCkuZG9jdW1lbnRQb3NpdGlvbi56IC0gKGEgYXMgRE9NUHJvamVjdGVkTWVzaCkuZG9jdW1lbnRQb3NpdGlvbi56XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gdGhlbiBzb3J0IGJ5IHRoZWlyIHJlbmRlciBvcmRlclxuICAgIHNpbWlsYXJNZXNoZXMuc29ydCgoYSwgYikgPT4gYS5yZW5kZXJPcmRlciAtIGIucmVuZGVyT3JkZXIpXG5cbiAgICBtZXNoLnRyYW5zcGFyZW50ID8gKHByb2plY3Rpb25TdGFjay50cmFuc3BhcmVudCA9IHNpbWlsYXJNZXNoZXMpIDogKHByb2plY3Rpb25TdGFjay5vcGFxdWUgPSBzaW1pbGFyTWVzaGVzKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIE1lc2ggZnJvbSBvdXIge0BsaW5rIFNjZW5lfVxuICAgKiBAcGFyYW0gbWVzaCAtIE1lc2ggdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVNZXNoKG1lc2g6IFByb2plY3RlZE1lc2gpIHtcbiAgICBjb25zdCBwcm9qZWN0aW9uU3RhY2sgPSB0aGlzLmdldE1lc2hQcm9qZWN0aW9uU3RhY2sobWVzaClcblxuICAgIGlmIChtZXNoLnRyYW5zcGFyZW50KSB7XG4gICAgICBwcm9qZWN0aW9uU3RhY2sudHJhbnNwYXJlbnQgPSBwcm9qZWN0aW9uU3RhY2sudHJhbnNwYXJlbnQuZmlsdGVyKChtKSA9PiBtLnV1aWQgIT09IG1lc2gudXVpZClcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvamVjdGlvblN0YWNrLm9wYXF1ZSA9IHByb2plY3Rpb25TdGFjay5vcGFxdWUuZmlsdGVyKChtKSA9PiBtLnV1aWQgIT09IG1lc2gudXVpZClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFNoYWRlclBhc3N9IHRvIG91ciBzY2VuZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHNjcmVlbiBhcnJheS5cbiAgICogQmVmb3JlIHJlbmRlcmluZyB0aGUge0BsaW5rIFNoYWRlclBhc3N9LCB3ZSB3aWxsIGNvcHkgdGhlIGNvcnJlY3QgaW5wdXQgdGV4dHVyZSBpbnRvIGl0cyB7QGxpbmsgU2hhZGVyUGFzcyNyZW5kZXJUZXh0dXJlIHwgcmVuZGVyVGV4dHVyZX1cbiAgICogVGhpcyBhbHNvIGhhbmRsZXMgdGhlIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gc2NyZWVuIGFycmF5IGVudHJpZXMgb3JkZXI6IFdlIHdpbGwgZmlyc3QgZHJhdyBzZWxlY3RpdmUgcGFzc2VzLCB0aGVuIG91ciBtYWluIHNjcmVlbiBwYXNzIGFuZCBmaW5hbGx5IGdsb2JhbCBwb3N0IHByb2Nlc3NpbmcgcGFzc2VzLlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2NvZGVzYW5kYm94LmlvL3Avc2FuZGJveC93ZWJncHUtcmVuZGVyLXRvLTItdGV4dHVyZXMtd2l0aG91dC10ZXh0dXJlLWNvcHktYzRzeDRzP2ZpbGU9JTJGc3JjJTJGaW5kZXguanMlM0ExMCUyQzQgfCBtaW5pbWFsIGNvZGUgZXhhbXBsZX1cbiAgICogQHBhcmFtIHNoYWRlclBhc3MgLSB7QGxpbmsgU2hhZGVyUGFzc30gdG8gYWRkXG4gICAqL1xuICBhZGRTaGFkZXJQYXNzKHNoYWRlclBhc3M6IFNoYWRlclBhc3MpIHtcbiAgICBjb25zdCBvbkJlZm9yZVJlbmRlclBhc3MgPSBzaGFkZXJQYXNzLnJlbmRlclRhcmdldFxuICAgICAgPyBudWxsXG4gICAgICA6IChjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSkgPT4ge1xuICAgICAgICAgIC8vIGRyYXcgdGhlIGNvbnRlbnQgaW50byBvdXIgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICAvLyBpZiBpdCdzIGEgZ2xvYmFsIHBvc3QgcHJvY2Vzc2luZyBwYXNzLCBjb3B5IHRoZSBjb250ZXh0IGN1cnJlbnQgdGV4dHVyZSBpbnRvIGl0cyByZW5kZXJUZXh0dXJlXG4gICAgICAgICAgaWYgKHNoYWRlclBhc3MucmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29tbWFuZEVuY29kZXIuY29weVRleHR1cmVUb1RleHR1cmUoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBzd2FwQ2hhaW5UZXh0dXJlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogc2hhZGVyUGFzcy5yZW5kZXJUZXh0dXJlLnRleHR1cmUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtzaGFkZXJQYXNzLnJlbmRlclRleHR1cmUuc2l6ZS53aWR0aCwgc2hhZGVyUGFzcy5yZW5kZXJUZXh0dXJlLnNpemUuaGVpZ2h0XVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIHdlIHdhbnQgdG8gcG9zdCBwcm9jZXNzIHRoZSB3aG9sZSBzY2VuZSwgY2xlYXIgcmVuZGVyIHBhc3MgY29udGVudFxuICAgICAgICAgIHRoaXMucmVuZGVyZXIucG9zdFByb2Nlc3NpbmdQYXNzLnNldExvYWRPcCgnY2xlYXInKVxuICAgICAgICB9XG5cbiAgICBjb25zdCBvbkFmdGVyUmVuZGVyUGFzcyA9IHNoYWRlclBhc3MucmVuZGVyVGFyZ2V0XG4gICAgICA/IChjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSkgPT4ge1xuICAgICAgICAgIC8vIGlmIHdlIHJlbmRlciB0byBhIHRhcmdldCwgY29weSB0aGUgcmVzdWx0IHNvIHdlIGNhbiBjaGFpbiByZW5kZXIgdG8gdGV4dHVyZXNcbiAgICAgICAgICBpZiAoc2hhZGVyUGFzcy5yZW5kZXJUYXJnZXQgJiYgc2hhZGVyUGFzcy5yZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZSkge1xuICAgICAgICAgICAgY29tbWFuZEVuY29kZXIuY29weVRleHR1cmVUb1RleHR1cmUoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBzd2FwQ2hhaW5UZXh0dXJlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZTogc2hhZGVyUGFzcy5yZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZS50ZXh0dXJlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbc2hhZGVyUGFzcy5yZW5kZXJUYXJnZXQucmVuZGVyVGV4dHVyZS5zaXplLndpZHRoLCBzaGFkZXJQYXNzLnJlbmRlclRhcmdldC5yZW5kZXJUZXh0dXJlLnNpemUuaGVpZ2h0XVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgOiBudWxsXG5cbiAgICBjb25zdCBzaGFkZXJQYXNzRW50cnkgPSB7XG4gICAgICByZW5kZXJQYXNzOiB0aGlzLnJlbmRlcmVyLnBvc3RQcm9jZXNzaW5nUGFzcywgLy8gcmVuZGVyIGRpcmVjdGx5IHRvIHNjcmVlblxuICAgICAgcmVuZGVyVGV4dHVyZTogbnVsbCxcbiAgICAgIG9uQmVmb3JlUmVuZGVyUGFzcyxcbiAgICAgIG9uQWZ0ZXJSZW5kZXJQYXNzLFxuICAgICAgZWxlbWVudDogc2hhZGVyUGFzcyxcbiAgICAgIHN0YWNrOiBudWxsLCAvLyBleHBsaWNpdGx5IHNldCB0byBudWxsXG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW4ucHVzaChzaGFkZXJQYXNzRW50cnkpXG5cbiAgICAvLyBzY3JlZW4gcGFzc2VzIGFyZSBzb3J0ZWQgYnkgMiBjcml0ZXJpYVxuICAgIC8vIGZpcnN0IHdlIGRyYXcgcmVuZGVyIHBhc3NlcyB0aGF0IGhhdmUgYSByZW5kZXIgdGFyZ2V0IE9SIG91ciBzY2VuZSBwYXNzLCBvcmRlcmVkIGJ5IHJlbmRlck9yZGVyXG4gICAgLy8gdGhlbiB3ZSBkcmF3IG91ciBmdWxsIHBvc3QgcHJvY2Vzc2luZyBwYXNzLCBvcmRlcmVkIGJ5IHJlbmRlck9yZGVyXG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW4uc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgaXNQb3N0UHJvQSA9IGEuZWxlbWVudCAmJiAhYS5lbGVtZW50LnJlbmRlclRhcmdldFxuICAgICAgY29uc3QgcmVuZGVyT3JkZXJBID0gYS5lbGVtZW50ID8gYS5lbGVtZW50LnJlbmRlck9yZGVyIDogMFxuICAgICAgY29uc3QgaW5kZXhBID0gYS5lbGVtZW50ID8gYS5lbGVtZW50LmluZGV4IDogMFxuXG4gICAgICBjb25zdCBpc1Bvc3RQcm9CID0gYi5lbGVtZW50ICYmICFiLmVsZW1lbnQucmVuZGVyVGFyZ2V0XG4gICAgICBjb25zdCByZW5kZXJPcmRlckIgPSBiLmVsZW1lbnQgPyBiLmVsZW1lbnQucmVuZGVyT3JkZXIgOiAwXG4gICAgICBjb25zdCBpbmRleEIgPSBiLmVsZW1lbnQgPyBiLmVsZW1lbnQuaW5kZXggOiAwXG5cbiAgICAgIGlmIChpc1Bvc3RQcm9BICYmICFpc1Bvc3RQcm9CKSB7XG4gICAgICAgIHJldHVybiAxXG4gICAgICB9IGVsc2UgaWYgKCFpc1Bvc3RQcm9BICYmIGlzUG9zdFByb0IpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9IGVsc2UgaWYgKHJlbmRlck9yZGVyQSAhPT0gcmVuZGVyT3JkZXJCKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJPcmRlckEgLSByZW5kZXJPcmRlckJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbmRleEEgLSBpbmRleEJcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBTaGFkZXJQYXNzfSBmcm9tIG91ciBzY2VuZSB7QGxpbmsgcmVuZGVyUGFzc0VudHJpZXN9IHNjcmVlbiBhcnJheVxuICAgKiBAcGFyYW0gc2hhZGVyUGFzcyAtIHtAbGluayBTaGFkZXJQYXNzfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVNoYWRlclBhc3Moc2hhZGVyUGFzczogU2hhZGVyUGFzcykge1xuICAgIHRoaXMucmVuZGVyUGFzc0VudHJpZXMuc2NyZWVuID0gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5zY3JlZW4uZmlsdGVyKFxuICAgICAgKGVudHJ5KSA9PiAhZW50cnkuZWxlbWVudCB8fCBlbnRyeS5lbGVtZW50LnV1aWQgIT09IHNoYWRlclBhc3MudXVpZFxuICAgIClcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgUGluZ1BvbmdQbGFuZX0gdG8gb3VyIHNjZW5lIHtAbGluayByZW5kZXJQYXNzRW50cmllc30gcGluZ1BvbmcgYXJyYXkuXG4gICAqIEFmdGVyIHJlbmRlcmluZyB0aGUge0BsaW5rIFBpbmdQb25nUGxhbmV9LCB3ZSB3aWxsIGNvcHkgdGhlIGNvbnRleHQgY3VycmVudCB0ZXh0dXJlIGludG8gaXRzIHtAbGluayBQaW5nUG9uZ1BsYW5lI3JlbmRlclRleHR1cmUgfCByZW5kZXJUZXh0dXJlfSBzbyB3ZSdsbCBiZSBhYmxlIHRvIHVzZSBpdCBhcyBhbiBpbnB1dCBmb3IgdGhlIG5leHQgcGFzc1xuICAgKiBAc2VlIHtAbGluayBodHRwczovL2NvZGVzYW5kYm94LmlvL3Avc2FuZGJveC93ZWJncHUtcmVuZGVyLXBpbmctcG9uZy10by10ZXh0dXJlLXVzZS1pbi1xdWFkLWd3ang5cCB8IG1pbmltYWwgY29kZSBleGFtcGxlfVxuICAgKiBAcGFyYW0gcGluZ1BvbmdQbGFuZVxuICAgKi9cbiAgYWRkUGluZ1BvbmdQbGFuZShwaW5nUG9uZ1BsYW5lOiBQaW5nUG9uZ1BsYW5lKSB7XG4gICAgdGhpcy5yZW5kZXJQYXNzRW50cmllcy5waW5nUG9uZy5wdXNoKHtcbiAgICAgIHJlbmRlclBhc3M6IHBpbmdQb25nUGxhbmUucmVuZGVyVGFyZ2V0LnJlbmRlclBhc3MsXG4gICAgICByZW5kZXJUZXh0dXJlOiBwaW5nUG9uZ1BsYW5lLnJlbmRlclRhcmdldC5yZW5kZXJUZXh0dXJlLFxuICAgICAgb25CZWZvcmVSZW5kZXJQYXNzOiBudWxsLFxuICAgICAgb25BZnRlclJlbmRlclBhc3M6IChjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSkgPT4ge1xuICAgICAgICAvLyBDb3B5IHRoZSByZW5kZXJpbmcgcmVzdWx0cyBmcm9tIHRoZSBzd2FwQ2hhaW5UZXh0dXJlIGludG8gb3VyIHxwaW5nUG9uZ1BsYW5lIHRleHR1cmV8LlxuICAgICAgICBjb21tYW5kRW5jb2Rlci5jb3B5VGV4dHVyZVRvVGV4dHVyZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlOiBzd2FwQ2hhaW5UZXh0dXJlLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZTogcGluZ1BvbmdQbGFuZS5yZW5kZXJUZXh0dXJlLnRleHR1cmUsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBbcGluZ1BvbmdQbGFuZS5yZW5kZXJUZXh0dXJlLnNpemUud2lkdGgsIHBpbmdQb25nUGxhbmUucmVuZGVyVGV4dHVyZS5zaXplLmhlaWdodF1cbiAgICAgICAgKVxuICAgICAgfSxcbiAgICAgIGVsZW1lbnQ6IHBpbmdQb25nUGxhbmUsXG4gICAgICBzdGFjazogbnVsbCwgLy8gZXhwbGljaXRseSBzZXQgdG8gbnVsbFxuICAgIH0gYXMgUmVuZGVyUGFzc0VudHJ5KVxuXG4gICAgLy8gc29ydCBieSB0aGVpciByZW5kZXIgb3JkZXJcbiAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnBpbmdQb25nLnNvcnQoKGEsIGIpID0+IGEuZWxlbWVudC5yZW5kZXJPcmRlciAtIGIuZWxlbWVudC5yZW5kZXJPcmRlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgUGluZ1BvbmdQbGFuZX0gZnJvbSBvdXIgc2NlbmUge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfSBwaW5nUG9uZyBhcnJheS5cbiAgICogQHBhcmFtIHBpbmdQb25nUGxhbmUgLSB7QGxpbmsgUGluZ1BvbmdQbGFuZX0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVQaW5nUG9uZ1BsYW5lKHBpbmdQb25nUGxhbmU6IFBpbmdQb25nUGxhbmUpIHtcbiAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnBpbmdQb25nID0gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5waW5nUG9uZy5maWx0ZXIoXG4gICAgICAoZW50cnkpID0+IGVudHJ5LmVsZW1lbnQudXVpZCAhPT0gcGluZ1BvbmdQbGFuZS51dWlkXG4gICAgKVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbnkgcmVuZGVyZWQgb2JqZWN0IG9yIHtAbGluayBSZW5kZXJUYXJnZXR9IHtAbGluayBSZW5kZXJQYXNzRW50cnl9LiBVc2VmdWwgdG8gb3ZlcnJpZGUgYSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5I29uQmVmb3JlUmVuZGVyUGFzcyB8IFJlbmRlclBhc3NFbnRyeSBvbkJlZm9yZVJlbmRlclBhc3N9IG9yIHtAbGluayBSZW5kZXJQYXNzRW50cnkjb25BZnRlclJlbmRlclBhc3MgfCBSZW5kZXJQYXNzRW50cnkgb25BZnRlclJlbmRlclBhc3N9IGRlZmF1bHQgYmVoYXZpb3IuXG4gICAqIEBwYXJhbSBvYmplY3QgLSBUaGUgb2JqZWN0IGZyb20gd2hpY2ggd2Ugd2FudCB0byBnZXQgdGhlIHBhcmVudE1lc2gge0BsaW5rIFJlbmRlclBhc3NFbnRyeX1cbiAgICogQHJldHVybnMgLSB0aGUge0BsaW5rIFJlbmRlclBhc3NFbnRyeX0gaWYgZm91bmRcbiAgICovXG4gIGdldE9iamVjdFJlbmRlclBhc3NFbnRyeShvYmplY3Q6IFJlbmRlcmVkTWVzaCB8IFJlbmRlclRhcmdldCk6IFJlbmRlclBhc3NFbnRyeSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFJlbmRlclRhcmdldCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUGFzc0VudHJpZXMucmVuZGVyVGFyZ2V0LmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5yZW5kZXJQYXNzLnV1aWQgPT09IG9iamVjdC5yZW5kZXJQYXNzLnV1aWQpXG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBQaW5nUG9uZ1BsYW5lKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQYXNzRW50cmllcy5waW5nUG9uZy5maW5kKChlbnRyeSkgPT4gZW50cnkuZWxlbWVudC51dWlkID09PSBvYmplY3QudXVpZClcbiAgICB9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFNoYWRlclBhc3MpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlclBhc3NFbnRyaWVzLnNjcmVlbi5maW5kKChlbnRyeSkgPT4gZW50cnkuZWxlbWVudD8udXVpZCA9PT0gb2JqZWN0LnV1aWQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVudHJ5VHlwZSA9IG9iamVjdC5yZW5kZXJUYXJnZXQgPyAncmVuZGVyVGFyZ2V0JyA6ICdzY3JlZW4nXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJQYXNzRW50cmllc1tlbnRyeVR5cGVdLmZpbmQoKGVudHJ5KSA9PiB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgLi4uZW50cnkuc3RhY2sudW5Qcm9qZWN0ZWQub3BhcXVlLFxuICAgICAgICAgIC4uLmVudHJ5LnN0YWNrLnVuUHJvamVjdGVkLnRyYW5zcGFyZW50LFxuICAgICAgICAgIC4uLmVudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUsXG4gICAgICAgICAgLi4uZW50cnkuc3RhY2sucHJvamVjdGVkLnRyYW5zcGFyZW50LFxuICAgICAgICBdLnNvbWUoKG1lc2gpID0+IG1lc2gudXVpZCA9PT0gb2JqZWN0LnV1aWQpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIZXJlIHdlIHJlbmRlciBhIHtAbGluayBSZW5kZXJQYXNzRW50cnl9OlxuICAgKiAtIFNldCBpdHMge0BsaW5rIFJlbmRlclBhc3MjZGVzY3JpcHRvciB8IHJlbmRlclBhc3MgZGVzY3JpcHRvcn0gdmlldyBvciByZXNvbHZlVGFyZ2V0IGFuZCBnZXQgaXQgYXQgYXMgc3dhcCBjaGFpbiB0ZXh0dXJlXG4gICAqIC0gRXhlY3V0ZSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5I29uQmVmb3JlUmVuZGVyUGFzcyB8IG9uQmVmb3JlUmVuZGVyUGFzc30gY2FsbGJhY2sgaWYgc3BlY2lmaWVkXG4gICAqIC0gQmVnaW4gdGhlIHtAbGluayBHUFVSZW5kZXJQYXNzRW5jb2RlciB8IEdQVSByZW5kZXIgcGFzcyBlbmNvZGVyfSB1c2luZyBvdXIge0BsaW5rIFJlbmRlclBhc3MjZGVzY3JpcHRvciB8IHJlbmRlclBhc3MgZGVzY3JpcHRvcn1cbiAgICogLSBSZW5kZXIgdGhlIHNpbmdsZSBlbGVtZW50IGlmIHNwZWNpZmllZCBvciB0aGUgcmVuZGVyIHBhc3MgZW50cnkge0BsaW5rIFN0YWNrfTogZHJhdyB1bnByb2plY3RlZCBvcGFxdWUgLyB0cmFuc3BhcmVudCBtZXNoZXMgZmlyc3QsIHRoZW4gc2V0IHRoZSB7QGxpbmsgQ2FtZXJhUmVuZGVyZXIjY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9IGFuZCBkcmF3IHByb2plY3RlZCBvcGFxdWUgLyB0cmFuc3BhcmVudCBtZXNoZXNcbiAgICogLSBFbmQgdGhlIHtAbGluayBHUFVSZW5kZXJQYXNzRW5jb2RlciB8IEdQVSByZW5kZXIgcGFzcyBlbmNvZGVyfVxuICAgKiAtIEV4ZWN1dGUge0BsaW5rIFJlbmRlclBhc3NFbnRyeSNvbkFmdGVyUmVuZGVyUGFzcyB8IG9uQWZ0ZXJSZW5kZXJQYXNzfSBjYWxsYmFjayBpZiBzcGVjaWZpZWRcbiAgICogLSBSZXNldCB7QGxpbmsgY29yZS9waXBlbGluZXMvUGlwZWxpbmVNYW5hZ2VyLlBpcGVsaW5lTWFuYWdlciNjdXJyZW50UGlwZWxpbmVJbmRleCB8IHBpcGVsaW5lIG1hbmFnZXIgY3VycmVudCBwaXBlbGluZX1cbiAgICogQHBhcmFtIGNvbW1hbmRFbmNvZGVyIC0gY3VycmVudCB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9XG4gICAqIEBwYXJhbSByZW5kZXJQYXNzRW50cnkgLSB7QGxpbmsgUmVuZGVyUGFzc0VudHJ5fSB0byByZW5kZXJcbiAgICovXG4gIHJlbmRlclNpbmdsZVBhc3NFbnRyeShjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIsIHJlbmRlclBhc3NFbnRyeTogUmVuZGVyUGFzc0VudHJ5KSB7XG4gICAgLy8gc2V0IHRoZSBwYXNzIHRleHR1cmUgdG8gcmVuZGVyIHRvXG4gICAgY29uc3Qgc3dhcENoYWluVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyUGFzc0N1cnJlbnRUZXh0dXJlKFxuICAgICAgcmVuZGVyUGFzc0VudHJ5LnJlbmRlclBhc3MsXG4gICAgICByZW5kZXJQYXNzRW50cnkucmVuZGVyVGV4dHVyZT8udGV4dHVyZVxuICAgIClcblxuICAgIHJlbmRlclBhc3NFbnRyeS5vbkJlZm9yZVJlbmRlclBhc3MgJiYgcmVuZGVyUGFzc0VudHJ5Lm9uQmVmb3JlUmVuZGVyUGFzcyhjb21tYW5kRW5jb2Rlciwgc3dhcENoYWluVGV4dHVyZSlcblxuICAgIC8vIG5vdyBiZWdpbiBvdXIgYWN0dWFsIHJlbmRlciBwYXNzXG4gICAgY29uc3QgcGFzcyA9IGNvbW1hbmRFbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyhyZW5kZXJQYXNzRW50cnkucmVuZGVyUGFzcy5kZXNjcmlwdG9yKVxuICAgICF0aGlzLnJlbmRlcmVyLnByb2R1Y3Rpb24gJiZcbiAgICAgIHBhc3MucHVzaERlYnVnR3JvdXAoXG4gICAgICAgIHJlbmRlclBhc3NFbnRyeS5lbGVtZW50XG4gICAgICAgICAgPyBgJHtyZW5kZXJQYXNzRW50cnkuZWxlbWVudC5vcHRpb25zLmxhYmVsfSByZW5kZXIgcGFzcyB1c2luZyAke3JlbmRlclBhc3NFbnRyeS5yZW5kZXJQYXNzLm9wdGlvbnMubGFiZWx9IGRlc2NyaXB0b3JgXG4gICAgICAgICAgOiBgUmVuZGVyIHN0YWNrIHBhc3MgdXNpbmcgJHtyZW5kZXJQYXNzRW50cnkucmVuZGVyUGFzcy5vcHRpb25zLmxhYmVsfSR7XG4gICAgICAgICAgICAgIHJlbmRlclBhc3NFbnRyeS5yZW5kZXJUZXh0dXJlID8gJyBvbnRvICcgKyByZW5kZXJQYXNzRW50cnkucmVuZGVyVGV4dHVyZS5vcHRpb25zLmxhYmVsIDogJydcbiAgICAgICAgICAgIH1gXG4gICAgICApXG5cbiAgICAvLyBwYXNzIGVudHJpZXMgY2FuIGhhdmUgYSBzaW5nbGUgZWxlbWVudCBvciBhIHN0YWNrXG4gICAgaWYgKHJlbmRlclBhc3NFbnRyeS5lbGVtZW50KSB7XG4gICAgICByZW5kZXJQYXNzRW50cnkuZWxlbWVudC5yZW5kZXIocGFzcylcbiAgICB9IGVsc2UgaWYgKHJlbmRlclBhc3NFbnRyeS5zdGFjaykge1xuICAgICAgLy8gZHJhdyB1blByb2plY3RlZCByZWd1bGFyIG1lc2hlc1xuICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnVuUHJvamVjdGVkLm9wYXF1ZS5mb3JFYWNoKChtZXNoKSA9PiBtZXNoLnJlbmRlcihwYXNzKSlcbiAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay51blByb2plY3RlZC50cmFuc3BhcmVudC5mb3JFYWNoKChtZXNoKSA9PiBtZXNoLnJlbmRlcihwYXNzKSlcblxuICAgICAgLy8gdGhlbiBkcmF3IHByb2plY3RlZCBtZXNoZXNcbiAgICAgIGlmIChyZW5kZXJQYXNzRW50cnkuc3RhY2sucHJvamVjdGVkLm9wYXF1ZS5sZW5ndGggfHwgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC50cmFuc3BhcmVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCh0aGlzLnJlbmRlcmVyIGFzIENhbWVyYVJlbmRlcmVyKS5jYW1lcmFCaW5kR3JvdXApIHtcbiAgICAgICAgICAvLyBzZXQgY2FtZXJhIGJpbmQgZ3JvdXAgb25jZVxuICAgICAgICAgIHBhc3Muc2V0QmluZEdyb3VwKFxuICAgICAgICAgICAgKHRoaXMucmVuZGVyZXIgYXMgQ2FtZXJhUmVuZGVyZXIpLmNhbWVyYUJpbmRHcm91cC5pbmRleCxcbiAgICAgICAgICAgICh0aGlzLnJlbmRlcmVyIGFzIENhbWVyYVJlbmRlcmVyKS5jYW1lcmFCaW5kR3JvdXAuYmluZEdyb3VwXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnN0YWNrLnByb2plY3RlZC5vcGFxdWUuZm9yRWFjaCgobWVzaCkgPT4gbWVzaC5yZW5kZXIocGFzcykpXG4gICAgICAgIHJlbmRlclBhc3NFbnRyeS5zdGFjay5wcm9qZWN0ZWQudHJhbnNwYXJlbnQuZm9yRWFjaCgobWVzaCkgPT4gbWVzaC5yZW5kZXIocGFzcykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgIXRoaXMucmVuZGVyZXIucHJvZHVjdGlvbiAmJiBwYXNzLnBvcERlYnVnR3JvdXAoKVxuICAgIHBhc3MuZW5kKClcblxuICAgIHJlbmRlclBhc3NFbnRyeS5vbkFmdGVyUmVuZGVyUGFzcyAmJiByZW5kZXJQYXNzRW50cnkub25BZnRlclJlbmRlclBhc3MoY29tbWFuZEVuY29kZXIsIHN3YXBDaGFpblRleHR1cmUpXG5cbiAgICB0aGlzLnJlbmRlcmVyLnBpcGVsaW5lTWFuYWdlci5yZXNldEN1cnJlbnRQaXBlbGluZSgpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIG91ciB7QGxpbmsgU2NlbmV9XG4gICAqIC0gUmVuZGVyIHtAbGluayBjb21wdXRlUGFzc0VudHJpZXN9IGZpcnN0XG4gICAqIC0gVGhlbiBvdXIge0BsaW5rIHJlbmRlclBhc3NFbnRyaWVzfVxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICovXG4gIHJlbmRlcihjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpIHtcbiAgICB0aGlzLmNvbXB1dGVQYXNzRW50cmllcy5mb3JFYWNoKChjb21wdXRlUGFzcykgPT4ge1xuICAgICAgY29uc3QgcGFzcyA9IGNvbW1hbmRFbmNvZGVyLmJlZ2luQ29tcHV0ZVBhc3MoKVxuICAgICAgY29tcHV0ZVBhc3MucmVuZGVyKHBhc3MpXG4gICAgICBwYXNzLmVuZCgpXG5cbiAgICAgIGNvbXB1dGVQYXNzLmNvcHlCdWZmZXJUb1Jlc3VsdChjb21tYW5kRW5jb2RlcilcblxuICAgICAgdGhpcy5yZW5kZXJlci5waXBlbGluZU1hbmFnZXIucmVzZXRDdXJyZW50UGlwZWxpbmUoKVxuICAgIH0pXG5cbiAgICBmb3IgKGNvbnN0IHJlbmRlclBhc3NFbnRyeVR5cGUgaW4gdGhpcy5yZW5kZXJQYXNzRW50cmllcykge1xuICAgICAgbGV0IHBhc3NEcmF3bkNvdW50ID0gMFxuXG4gICAgICB0aGlzLnJlbmRlclBhc3NFbnRyaWVzW3JlbmRlclBhc3NFbnRyeVR5cGVdLmZvckVhY2goKHJlbmRlclBhc3NFbnRyeSkgPT4ge1xuICAgICAgICAvLyBlYXJseSBiYWlsIGlmIHRoZXJlJ3Mgbm90aGluZyB0byBkcmF3XG4gICAgICAgIGlmICghdGhpcy5nZXRSZW5kZXJQYXNzRW50cnlMZW5ndGgocmVuZGVyUGFzc0VudHJ5KSkgcmV0dXJuXG5cbiAgICAgICAgLy8gaWYgd2UncmUgZHJhd2luZyB0byBzY3JlZW4gYW5kIGl0J3Mgbm90IG91ciBmaXJzdCBwYXNzLCBsb2FkIHJlc3VsdCBmcm9tIHByZXZpb3VzIHBhc3Nlc1xuICAgICAgICAvLyBwb3N0IHByb2Nlc3Npbmcgc2NlbmUgcGFzcyB3aWxsIGNsZWFyIGNvbnRlbnQgaW5zaWRlIG9uQmVmb3JlUmVuZGVyUGFzcyBhbnl3YXlcbiAgICAgICAgcmVuZGVyUGFzc0VudHJ5LnJlbmRlclBhc3Muc2V0TG9hZE9wKFxuICAgICAgICAgIHJlbmRlclBhc3NFbnRyeVR5cGUgPT09ICdzY3JlZW4nICYmIHBhc3NEcmF3bkNvdW50ICE9PSAwID8gJ2xvYWQnIDogJ2NsZWFyJ1xuICAgICAgICApXG5cbiAgICAgICAgcGFzc0RyYXduQ291bnQrK1xuXG4gICAgICAgIHRoaXMucmVuZGVyU2luZ2xlUGFzc0VudHJ5KGNvbW1hbmRFbmNvZGVyLCByZW5kZXJQYXNzRW50cnkpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2dzIGFsbCB0aGUgbWFpbiBjb21tYW5kcyBleGVjdXRlZCBkdXJpbmcgZWFjaCB7QGxpbmsgU2NlbmUjcmVuZGVyIHwgU2NlbmUgcmVuZGVyfSBjYWxscy5cbiAgICovXG4gIGxvZ1JlbmRlckNvbW1hbmRzKCkge1xuICAgIGNvbnN0IHJlbmRlckNvbW1hbmRzID0gW11cblxuICAgIHRoaXMuY29tcHV0ZVBhc3NFbnRyaWVzLmZvckVhY2goKGNvbXB1dGVQYXNzKSA9PiB7XG4gICAgICByZW5kZXJDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgY29tbWFuZDogJ1JlbmRlciBDb21wdXRlUGFzcycsXG4gICAgICAgIGNvbnRlbnQ6IGNvbXB1dGVQYXNzLm9wdGlvbnMubGFiZWwsXG4gICAgICB9KVxuXG4gICAgICBjb21wdXRlUGFzcy5tYXRlcmlhbC5iaW5kR3JvdXBzLmZvckVhY2goKGJpbmRHcm91cCkgPT4ge1xuICAgICAgICBiaW5kR3JvdXAuYnVmZmVyQmluZGluZ3MuZm9yRWFjaCgoYmluZGluZzogV3JpdGFibGVCdWZmZXJCaW5kaW5nKSA9PiB7XG4gICAgICAgICAgaWYgKGJpbmRpbmcuc2hvdWxkQ29weVJlc3VsdCkge1xuICAgICAgICAgICAgcmVuZGVyQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbW1hbmQ6IGBDb3B5IGJ1ZmZlciB0byBidWZmZXJgLFxuICAgICAgICAgICAgICBzb3VyY2U6IGAke2JpbmRpbmcubmFtZX0gYnVmZmVyYCxcbiAgICAgICAgICAgICAgZGVzdGluYXRpb246IGAke2JpbmRpbmcubmFtZX0gcmVzdWx0IGJ1ZmZlcmAsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIGZvciAoY29uc3QgcmVuZGVyUGFzc0VudHJ5VHlwZSBpbiB0aGlzLnJlbmRlclBhc3NFbnRyaWVzKSB7XG4gICAgICBsZXQgcGFzc0RyYXduQ291bnQgPSAwXG5cbiAgICAgIHRoaXMucmVuZGVyUGFzc0VudHJpZXNbcmVuZGVyUGFzc0VudHJ5VHlwZV0uZm9yRWFjaCgocmVuZGVyUGFzc0VudHJ5KSA9PiB7XG4gICAgICAgIC8vIGVhcmx5IGJhaWwgaWYgdGhlcmUncyBub3RoaW5nIHRvIGRyYXdcbiAgICAgICAgaWYgKCF0aGlzLmdldFJlbmRlclBhc3NFbnRyeUxlbmd0aChyZW5kZXJQYXNzRW50cnkpKSByZXR1cm5cblxuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbiA9IHJlbmRlclBhc3NFbnRyeS5yZW5kZXJUZXh0dXJlXG4gICAgICAgICAgPyBgJHtyZW5kZXJQYXNzRW50cnkucmVuZGVyVGV4dHVyZS5vcHRpb25zLmxhYmVsfWBcbiAgICAgICAgICA6ICdDb250ZXh0IGN1cnJlbnQgdGV4dHVyZSdcblxuICAgICAgICBsZXQgZGVzY3JpcHRvciA9IHJlbmRlclBhc3NFbnRyeS5yZW5kZXJQYXNzLm9wdGlvbnMubGFiZWxcblxuICAgICAgICBjb25zdCBvcGVyYXRpb25zID0ge1xuICAgICAgICAgIGxvYWRPcDpcbiAgICAgICAgICAgIHJlbmRlclBhc3NFbnRyeVR5cGUgPT09ICdzY3JlZW4nICYmIHBhc3NEcmF3bkNvdW50ID4gMCA/ICdsb2FkJyA6IHJlbmRlclBhc3NFbnRyeS5yZW5kZXJQYXNzLm9wdGlvbnMubG9hZE9wLFxuICAgICAgICAgIGRlcHRoTG9hZE9wOiB1bmRlZmluZWQsXG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyUGFzc0VudHJ5LnJlbmRlclBhc3Mub3B0aW9ucy5kZXB0aCkge1xuICAgICAgICAgIG9wZXJhdGlvbnMuZGVwdGhMb2FkT3AgPSByZW5kZXJQYXNzRW50cnkucmVuZGVyUGFzcy5vcHRpb25zLmRlcHRoTG9hZE9wXG4gICAgICAgIH1cblxuICAgICAgICBwYXNzRHJhd25Db3VudCsrXG5cbiAgICAgICAgaWYgKHJlbmRlclBhc3NFbnRyeS5lbGVtZW50KSB7XG4gICAgICAgICAgaWYgKHJlbmRlclBhc3NFbnRyeS5lbGVtZW50LnR5cGUgPT09ICdTaGFkZXJQYXNzJyAmJiAhcmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQucmVuZGVyVGFyZ2V0KSB7XG4gICAgICAgICAgICByZW5kZXJDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICAgICAgY29tbWFuZDogYENvcHkgdGV4dHVyZSB0byB0ZXh0dXJlYCxcbiAgICAgICAgICAgICAgc291cmNlOiBkZXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgZGVzdGluYXRpb246IGAke3JlbmRlclBhc3NFbnRyeS5lbGVtZW50Lm9wdGlvbnMubGFiZWx9IHJlbmRlclRleHR1cmVgLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgb3BlcmF0aW9ucy5sb2FkT3AgPSAnY2xlYXInXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVzY3JpcHRvciArPSAnICcgKyBKU09OLnN0cmluZ2lmeShvcGVyYXRpb25zKVxuXG4gICAgICAgICAgcmVuZGVyQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICBjb21tYW5kOiBgUmVuZGVyICR7cmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQudHlwZX1gLFxuICAgICAgICAgICAgc291cmNlOiByZW5kZXJQYXNzRW50cnkuZWxlbWVudC5vcHRpb25zLmxhYmVsLFxuICAgICAgICAgICAgZGVzdGluYXRpb24sXG4gICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBpZiAocmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQudHlwZSA9PT0gJ1NoYWRlclBhc3MnICYmIHJlbmRlclBhc3NFbnRyeS5lbGVtZW50LnJlbmRlclRhcmdldCkge1xuICAgICAgICAgICAgcmVuZGVyQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICAgIGNvbW1hbmQ6IGBDb3B5IHRleHR1cmUgdG8gdGV4dHVyZWAsXG4gICAgICAgICAgICAgIHNvdXJjZTogZGVzdGluYXRpb24sXG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBgJHtyZW5kZXJQYXNzRW50cnkuZWxlbWVudC5yZW5kZXJUYXJnZXQub3B0aW9ucy5sYWJlbH0gcmVuZGVyVGV4dHVyZWAsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAocmVuZGVyUGFzc0VudHJ5LmVsZW1lbnQudHlwZSA9PT0gJ1BpbmdQb25nUGxhbmUnKSB7XG4gICAgICAgICAgICByZW5kZXJDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICAgICAgY29tbWFuZDogYENvcHkgdGV4dHVyZSB0byB0ZXh0dXJlYCxcbiAgICAgICAgICAgICAgc291cmNlOiBkZXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgZGVzdGluYXRpb246IGAke3JlbmRlclBhc3NFbnRyeS5lbGVtZW50LnJlbmRlclRleHR1cmUub3B0aW9ucy5sYWJlbH1gLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVuZGVyUGFzc0VudHJ5LnN0YWNrKSB7XG4gICAgICAgICAgZGVzY3JpcHRvciArPSAnICcgKyBKU09OLnN0cmluZ2lmeShvcGVyYXRpb25zKVxuXG4gICAgICAgICAgZm9yIChjb25zdCBzdGFja1R5cGUgaW4gcmVuZGVyUGFzc0VudHJ5LnN0YWNrKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9iamVjdFR5cGUgaW4gcmVuZGVyUGFzc0VudHJ5LnN0YWNrW3N0YWNrVHlwZV0pIHtcbiAgICAgICAgICAgICAgaWYgKHJlbmRlclBhc3NFbnRyeS5zdGFja1tzdGFja1R5cGVdW29iamVjdFR5cGVdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlbmRlckNvbW1hbmRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgY29tbWFuZDogYFJlbmRlciBzdGFjayAoJHtzdGFja1R5cGV9ICR7b2JqZWN0VHlwZX0gb2JqZWN0cylgLFxuICAgICAgICAgICAgICAgICAgc291cmNlOiByZW5kZXJQYXNzRW50cnkuc3RhY2tbc3RhY2tUeXBlXVtvYmplY3RUeXBlXSxcbiAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnNvbGUudGFibGUocmVuZGVyQ29tbWFuZHMpXG4gIH1cbn1cbiIsIi8qKiBEZWZpbmVzIGEgdGFzayBxdWV1ZSBpdGVtICovXG5leHBvcnQgaW50ZXJmYWNlIFRhc2tRdWV1ZUl0ZW0ge1xuICAvKiogVW5pcXVlIGlkIG9mIHRoZSB0YXNrIHF1ZXVlIGl0ZW0gKi9cbiAgaWQ6IG51bWJlclxuICAvKiogUHJpb3JpdHkgb3JkZXIgaW4gdGhlIHtAbGluayBUYXNrc1F1ZXVlTWFuYWdlciNxdWV1ZSB8IHRhc2tzIHF1ZXVlIGFycmF5fSAqL1xuICBvcmRlcjogbnVtYmVyXG4gIC8qKiBDYWxsYmFjayB0byBleGVjdXRlICovXG4gIGNhbGxiYWNrOiAoYXJncz86IGFueSkgPT4gdm9pZFxuICAvKiogV2hldGhlciB0byBleGVjdXRlIHRoZSB0YXNrIG9ubHkgb25jZSBhbmQgdGhlbSBhdXRvbWF0aWNhbGx5IHJlbW92ZSBpdCBmcm9tIHRoZSB7QGxpbmsgVGFza3NRdWV1ZU1hbmFnZXIjcXVldWUgfCB0YXNrcyBxdWV1ZSBhcnJheX0gKi9cbiAgb25jZTogYm9vbGVhblxufVxuXG4vKiogUGFyYW1ldGVycyB1c2VkIHRvIGFkZCBhIHRhc2sgdG8gdGhlIHtAbGluayBUYXNrc1F1ZXVlTWFuYWdlciNxdWV1ZSB8IHRhc2tzIHF1ZXVlIGFycmF5fSAqL1xuZXhwb3J0IHR5cGUgVGFza1F1ZXVlSXRlbVBhcmFtcyA9IFBhcnRpYWw8T21pdDxUYXNrUXVldWVJdGVtLCAnaWQnIHwgJ2NhbGxiYWNrJz4+XG5cbi8qKlxuICogVXNlZCB0byBrZWVwIHRyYWNrIG9mIGEgYnVuY2ggb2YgY2FsbGJhY2tzIGFuZCBleGVjdXRlIHRoZW0gaW4gdGhlIHJpZ2h0IG9yZGVyIHdoZW4gbmVlZGVkXG4gKi9cbmV4cG9ydCBjbGFzcyBUYXNrc1F1ZXVlTWFuYWdlciB7XG4gIC8qKiBBcnJheSBvZiB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX0gdG8gZXhlY3V0ZSAqL1xuICBxdWV1ZTogVGFza1F1ZXVlSXRlbVtdXG4gIC8qKiBQcml2YXRlIG51bWJlciB0byBhc3NpZ24gYSB1bmlxdWUgaWQgdG8gZWFjaCB7QGxpbmsgVGFza1F1ZXVlSXRlbSB8IHRhc2sgcXVldWUgaXRlbX0gKi9cbiAgI3Rhc2tDb3VudCA9IDBcblxuICAvKipcbiAgICogVGFza1F1ZXVlTWFuYWdlciBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5xdWV1ZSA9IFtdXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRhc2tRdWV1ZUl0ZW0gfCB0YXNrIHF1ZXVlIGl0ZW19IHRvIHRoZSBxdWV1ZVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBhZGQgdG8gdGhlIHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfVxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBUYXNrUXVldWVJdGVtUGFyYW1zIHwgcGFyYW1ldGVyc30gb2YgdGhlIHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfSB0byBhZGRcbiAgICogQHJldHVybnMgLSB7QGxpbmsgVGFza1F1ZXVlSXRlbSNpZCB8IGlkfSBvZiB0aGUgbmV3IHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfSwgdXNlZnVsIHRvIGxhdGVyIHJlbW92ZSB0aGUgdGFzayBpZiBuZWVkZWRcbiAgICovXG4gIGFkZChcbiAgICBjYWxsYmFjazogVGFza1F1ZXVlSXRlbVsnY2FsbGJhY2snXSA9IChhcmdzPzogYW55KSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFja3MgKi9cbiAgICB9LFxuICAgIHsgb3JkZXIgPSB0aGlzLnF1ZXVlLmxlbmd0aCwgb25jZSA9IGZhbHNlIH0gPSB7fSBhcyBUYXNrUXVldWVJdGVtUGFyYW1zXG4gICk6IFRhc2tRdWV1ZUl0ZW1bJ2lkJ10ge1xuICAgIGNvbnN0IHRhc2sgPSB7XG4gICAgICBjYWxsYmFjayxcbiAgICAgIG9yZGVyLFxuICAgICAgb25jZSxcbiAgICAgIGlkOiB0aGlzLiN0YXNrQ291bnQsXG4gICAgfVxuXG4gICAgLy8gaW5jcmVtZW50IGlkXG4gICAgdGhpcy4jdGFza0NvdW50KytcblxuICAgIHRoaXMucXVldWUucHVzaCh0YXNrKVxuICAgIHRoaXMucXVldWUuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyXG4gICAgfSlcblxuICAgIHJldHVybiB0YXNrLmlkXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIFRhc2tRdWV1ZUl0ZW0gfCB0YXNrIHF1ZXVlIGl0ZW19IGZyb20gdGhlIHF1ZXVlXG4gICAqIEBwYXJhbSB0YXNrSWQgLSB7QGxpbmsgVGFza1F1ZXVlSXRlbSNpZCB8IGlkfSBvZiB0aGUgbmV3IHtAbGluayBUYXNrUXVldWVJdGVtIHwgdGFzayBxdWV1ZSBpdGVtfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZSh0YXNrSWQgPSAwKSB7XG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuZmlsdGVyKCh0YXNrKSA9PiB0YXNrLmlkICE9PSB0YXNrSWQpXG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSB0aGUge0BsaW5rIFRhc2tzUXVldWVNYW5hZ2VyI3F1ZXVlIHwgdGFza3MgcXVldWUgYXJyYXl9XG4gICAqL1xuICBleGVjdXRlKGFyZ3M/OiBhbnkpIHtcbiAgICB0aGlzLnF1ZXVlLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgIHRhc2suY2FsbGJhY2soYXJncylcblxuICAgICAgLy8gaWYgaXQgd2FzIGEgb25lIHRpbWUgY2FsbGJhY2ssIHJlbW92ZSBpdFxuICAgICAgaWYgKHRhc2sub25jZSkge1xuICAgICAgICB0aGlzLnJlbW92ZSh0YXNrLmlkKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7IFBpcGVsaW5lTWFuYWdlciB9IGZyb20gJy4uL3BpcGVsaW5lcy9QaXBlbGluZU1hbmFnZXInXG5pbXBvcnQgeyBET01FbGVtZW50LCBET01FbGVtZW50Qm91bmRpbmdSZWN0IH0gZnJvbSAnLi4vRE9NL0RPTUVsZW1lbnQnXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gJy4uL3NjZW5lcy9TY2VuZSdcbmltcG9ydCB7IFJlbmRlclBhc3MsIFJlbmRlclBhc3NQYXJhbXMgfSBmcm9tICcuLi9yZW5kZXJQYXNzZXMvUmVuZGVyUGFzcydcbmltcG9ydCB7IGdlbmVyYXRlVVVJRCwgdGhyb3dXYXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnXG5cbmltcG9ydCB7IENvbXB1dGVQYXNzIH0gZnJvbSAnLi4vY29tcHV0ZVBhc3Nlcy9Db21wdXRlUGFzcydcbmltcG9ydCB7IFBpbmdQb25nUGxhbmUgfSBmcm9tICcuLi8uLi9jdXJ0YWlucy9tZXNoZXMvUGluZ1BvbmdQbGFuZSdcbmltcG9ydCB7IFNoYWRlclBhc3MgfSBmcm9tICcuLi9yZW5kZXJQYXNzZXMvU2hhZGVyUGFzcydcbmltcG9ydCB7IFJlbmRlclRhcmdldCB9IGZyb20gJy4uL3JlbmRlclBhc3Nlcy9SZW5kZXJUYXJnZXQnXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvVGV4dHVyZSdcbmltcG9ydCB7IFNhbXBsZXIgfSBmcm9tICcuLi9zYW1wbGVycy9TYW1wbGVyJ1xuXG5pbXBvcnQgeyBET01NZXNoIH0gZnJvbSAnLi4vLi4vY3VydGFpbnMvbWVzaGVzL0RPTU1lc2gnXG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gJy4uLy4uL2N1cnRhaW5zL21lc2hlcy9QbGFuZSdcbmltcG9ydCB7IE1lc2ggfSBmcm9tICcuLi9tZXNoZXMvTWVzaCdcbmltcG9ydCB7IFRhc2tzUXVldWVNYW5hZ2VyIH0gZnJvbSAnLi4vLi4vdXRpbHMvVGFza3NRdWV1ZU1hbmFnZXInXG5pbXBvcnQgeyBBbGxvd2VkQmluZEdyb3VwcyB9IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZXMvUmVuZGVyVGV4dHVyZSdcbmltcG9ydCB7IEdQVURldmljZU1hbmFnZXIgfSBmcm9tICcuL0dQVURldmljZU1hbmFnZXInXG5pbXBvcnQgeyBGdWxsc2NyZWVuUGxhbmUgfSBmcm9tICcuLi9tZXNoZXMvRnVsbHNjcmVlblBsYW5lJ1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgR1BVUmVuZGVyZXJ9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR1BVUmVuZGVyZXJQYXJhbXMge1xuICAvKiogVGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVSZW5kZXJlcn0gKi9cbiAgZGV2aWNlTWFuYWdlcjogR1BVRGV2aWNlTWFuYWdlclxuICAvKioge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzZWxlY3RvciB1c2VkIGFzIGEgY29udGFpbmVyIGZvciBvdXIge0BsaW5rIEdQVVJlbmRlcmVyI2NhbnZhcyB8IGNhbnZhc30gKi9cbiAgY29udGFpbmVyOiBzdHJpbmcgfCBIVE1MRWxlbWVudFxuICAvKiogUGl4ZWwgcmF0aW8gdG8gdXNlIGZvciByZW5kZXJpbmcgKi9cbiAgcGl4ZWxSYXRpbz86IG51bWJlclxuICAvKiogVGV4dHVyZSByZW5kZXJpbmcge0BsaW5rIEdQVVRleHR1cmVGb3JtYXQgfCBwcmVmZXJyZWQgZm9ybWF0fSAqL1xuICBwcmVmZXJyZWRGb3JtYXQ/OiBHUFVUZXh0dXJlRm9ybWF0XG4gIC8qKiBTZXQgdGhlIHtAbGluayBHUFVDYW52YXNDb250ZXh0IHwgY29udGV4dH0gYWxwaGEgbW9kZSAqL1xuICBhbHBoYU1vZGU/OiBHUFVDYW52YXNBbHBoYU1vZGVcblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIEdQVVJlbmRlcmVyfSBzaG91bGQgYWRkIGFuIGV4dHJhIHtAbGluayBTaGFkZXJQYXNzfSBNU0FBIHBhc3MgYWZ0ZXIgZHJhd2luZyB0aGUgd2hvbGUgc2NlbmUuICovXG4gIG11bHRpc2FtcGxlZD86IGJvb2xlYW5cblxuICAvKiogVGhlIHtAbGluayBHUFVSZW5kZXJlciNyZW5kZXJQYXNzIHwgcmVuZGVyZXIgUmVuZGVyUGFzc30gcGFyYW1ldGVycyAqL1xuICByZW5kZXJQYXNzPzoge1xuICAgIC8qKiBXaGV0aGVyIHRoZSB7QGxpbmsgR1BVUmVuZGVyZXIjcmVuZGVyUGFzcyB8IHJlbmRlcmVyIFJlbmRlclBhc3N9IHNob3VsZCBoYW5kbGUgZGVwdGguIERlZmF1bHQgdG8gYHRydWVgICovXG4gICAgZGVwdGg6IFJlbmRlclBhc3NQYXJhbXNbJ2RlcHRoJ11cbiAgICAvKiogVGhlIHtAbGluayBHUFVSZW5kZXJlciNyZW5kZXJQYXNzIHwgcmVuZGVyZXIgUmVuZGVyUGFzc30gc2FtcGxlIGNvdW50IChpLmUuIHdoZXRoZXIgaXQgc2hvdWxkIHVzZSBtdWx0aXNhbXBsZWQgYW50aWFsaWFzaW5nKS4gRGVmYXVsdCB0byBgNGAgKi9cbiAgICBzYW1wbGVDb3VudDogUmVuZGVyUGFzc1BhcmFtc1snc2FtcGxlQ291bnQnXVxuICAgIC8qKiBUaGUge0BsaW5rIEdQVUNvbG9yIHwgY29sb3IgdmFsdWVzfSB0byBjbGVhciB0byBiZWZvcmUgZHJhd2luZyB0aGUge0BsaW5rIEdQVVJlbmRlcmVyI3JlbmRlclBhc3MgfCByZW5kZXJlciBSZW5kZXJQYXNzfS4gRGVmYXVsdCB0byBgWzAsIDAsIDAsIDBdYCAqL1xuICAgIGNsZWFyVmFsdWU6IEdQVUNvbG9yXG4gIH1cbn1cblxuLyoqIEFueSBNZXNoIHRoYXQgaXMgYm91bmQgdG8gYSBET00gRWxlbWVudCAqL1xuZXhwb3J0IHR5cGUgRE9NUHJvamVjdGVkTWVzaCA9IERPTU1lc2ggfCBQbGFuZVxuLyoqIEFueSBNZXNoIHRoYXQgaXMgcHJvamVjdGVkIChpLmUgdXNlIGEge0BsaW5rIGNvcmUvY2FtZXJhL0NhbWVyYS5DYW1lcmEgfCBDYW1lcmF9IHRvIGNvbXB1dGUgYSBtb2RlbCB2aWV3IHByb2plY3Rpb24gbWF0cml4KSAqL1xuZXhwb3J0IHR5cGUgUHJvamVjdGVkTWVzaCA9IE1lc2ggfCBET01Qcm9qZWN0ZWRNZXNoXG4vKiogQW55IE1lc2ggdGhhdCBjYW4gYmUgZHJhd24sIGluY2x1ZGluZyBmdWxsc2NyZWVuIHF1YWQgbWVzaGVzIHVzZWQgZm9yIHBvc3QgcHJvY2Vzc2luZyAqL1xuZXhwb3J0IHR5cGUgUmVuZGVyZWRNZXNoID0gUHJvamVjdGVkTWVzaCB8IFBpbmdQb25nUGxhbmUgfCBTaGFkZXJQYXNzIHwgRnVsbHNjcmVlblBsYW5lXG4vKiogQW55IE1lc2ggb3IgQ29tcHV0ZSBwYXNzICovXG5leHBvcnQgdHlwZSBTY2VuZU9iamVjdCA9IFJlbmRlcmVkTWVzaCB8IENvbXB1dGVQYXNzXG5cbi8qKlxuICogQmFzZSByZW5kZXJlciBjbGFzcywgdGhhdCBjb3VsZCB0ZWNobmljYWxseSBiZSB1c2VkIHRvIHJlbmRlciBjb21wdXRlIHBhc3NlcyBhbmQgZHJhdyBmdWxsc2NyZWVuIHF1YWRzLCBldmVuIHRobyBpdCBpcyBzdHJvbmdseSBhZHZpc2VkIHRvIHVzZSBhdCBsZWFzdCB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVUNhbWVyYVJlbmRlcmVyLkdQVUNhbWVyYVJlbmRlcmVyIHwgR1BVQ2FtZXJhUmVuZGVyZXJ9IGNsYXNzIGluc3RlYWQuXG4gKiBBIHJlbmRlcmVyIGlzIHJlc3BvbnNpYmxlIGZvcjpcbiAqIC0gU2V0dGluZyBhIHtAbGluayBHUFVDYW52YXNDb250ZXh0IHwgY29udGV4dH1cbiAqIC0gSGFuZGxpbmcgdGhlIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudCB8IGNhbnZhc30gb250byBldmVyeXRoaW5nIGlzIGRyYXduXG4gKiAtIENyZWF0aW5nIGEge0BsaW5rIFJlbmRlclBhc3N9IHRoYXQgd2lsbCBoYW5kbGUgb3VyIHJlbmRlciBhbmQgZGVwdGggdGV4dHVyZXMgYW5kIHRoZSByZW5kZXIgcGFzcyBkZXNjcmlwdG9yXG4gKiAtIEtlZXBpbmcgdHJhY2sgb2YgZXZlcnkgc3BlY2lmaWMgY2xhc3Mgb2JqZWN0cyBjcmVhdGVkIHJlbGF0aXZlIHRvIGNvbXB1dGluZyBhbmQgcmVuZGVyaW5nXG4gKiAtIENyZWF0aW5nIGEge0BsaW5rIFNjZW5lfSBjbGFzcyB0aGF0IHdpbGwgdGFrZSBjYXJlIG9mIHRoZSByZW5kZXJpbmcgcHJvY2VzcyBvZiBhbGwgcHJldmlvdXNseSBtZW50aW9uZWQgb2JqZWN0c1xuICovXG5leHBvcnQgY2xhc3MgR1BVUmVuZGVyZXIge1xuICAvKiogVGhlIHR5cGUgb2YgdGhlIHtAbGluayBHUFVSZW5kZXJlcn0gKi9cbiAgdHlwZTogc3RyaW5nXG4gIC8qKiBUaGUgdW5pdmVyc2FsIHVuaXF1ZSBpZCBvZiB0aGlzIHtAbGluayBHUFVSZW5kZXJlcn0gKi9cbiAgcmVhZG9ubHkgdXVpZDogc3RyaW5nXG5cbiAgLyoqIFRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVUmVuZGVyZXJ9ICovXG4gIGRldmljZU1hbmFnZXI6IEdQVURldmljZU1hbmFnZXJcblxuICAvKioge0BsaW5rIEhUTUxDYW52YXNFbGVtZW50fSBvbnRvIGV2ZXJ5dGhpbmcgaXMgZHJhd24gKi9cbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFxuICAvKiogVGhlIFdlYkdQVSB7QGxpbmsgR1BVQ2FudmFzQ29udGV4dCB8IGNvbnRleHR9IHVzZWQgKi9cbiAgY29udGV4dDogbnVsbCB8IEdQVUNhbnZhc0NvbnRleHRcbiAgLyoqIFNldCB0aGUge0BsaW5rIEdQVUNhbnZhc0NvbnRleHQgfCBjb250ZXh0fSBhbHBoYSBtb2RlICovXG4gIGFscGhhTW9kZT86IEdQVUNhbnZhc0FscGhhTW9kZVxuXG4gIC8qKiBPcHRpb25zIHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVVJlbmRlcmVyfSAqL1xuICBvcHRpb25zOiBHUFVSZW5kZXJlclBhcmFtc1xuXG4gIC8qKiBXaGV0aGVyIHRoZSB7QGxpbmsgR1BVUmVuZGVyZXJ9IHNob3VsZCBhZGQgYW4gZXh0cmEge0BsaW5rIFNoYWRlclBhc3N9IE1TQUEgcGFzcyBhZnRlciBkcmF3aW5nIHRoZSB3aG9sZSBzY2VuZS4gKi9cbiAgbXVsdGlzYW1wbGVkOiBib29sZWFuXG4gIC8qKiBUaGUge0BsaW5rIFJlbmRlclBhc3MgfCByZW5kZXIgcGFzc30gdXNlZCB0byByZW5kZXIgb3VyIHJlc3VsdCB0byBzY3JlZW4gKi9cbiAgcmVuZGVyUGFzczogUmVuZGVyUGFzc1xuICAvKiogQWRkaXRpb25hbCB7QGxpbmsgUmVuZGVyUGFzcyB8IHJlbmRlciBwYXNzfSB1c2VkIGJ5IHtAbGluayBTaGFkZXJQYXNzfSBmb3IgY29tcG9zaXRpbmcgLyBwb3N0IHByb2Nlc3NpbmcuIERvZXMgbm90IGhhbmRsZSBkZXB0aCAqL1xuICBwb3N0UHJvY2Vzc2luZ1Bhc3M6IFJlbmRlclBhc3NcblxuICAvKioge0BsaW5rIFJlbmRlclBhc3MgfCBNdWx0aXNhbXBsZWQgcmVuZGVyIHBhc3N9IHVzZWQgYnkgYW4gaW50ZXJuYWwge0BsaW5rIFNoYWRlclBhc3N9IGZvciBNU0FBLCBpZiB7QGxpbmsgbXVsdGlzYW1wbGVkfSBpcyBzZXQgdG8gYHRydWVgICovXG4gIC8vbXVsdGlzYW1wbGluZ1Bhc3M6IFJlbmRlclBhc3MgfCB1bmRlZmluZWRcblxuICAvKiogVGhlIHtAbGluayBTY2VuZX0gdXNlZCAqL1xuICBzY2VuZTogU2NlbmVcblxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIENvbXB1dGVQYXNzfSAqL1xuICBjb21wdXRlUGFzc2VzOiBDb21wdXRlUGFzc1tdXG4gIC8qKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXIgY3JlYXRlZCB7QGxpbmsgUGluZ1BvbmdQbGFuZX0gKi9cbiAgcGluZ1BvbmdQbGFuZXM6IFBpbmdQb25nUGxhbmVbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFNoYWRlclBhc3N9ICovXG4gIHNoYWRlclBhc3NlczogU2hhZGVyUGFzc1tdXG4gIC8qKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXIgY3JlYXRlZCB7QGxpbmsgUmVuZGVyVGFyZ2V0fSAqL1xuICByZW5kZXJUYXJnZXRzOiBSZW5kZXJUYXJnZXRbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFByb2plY3RlZE1lc2ggfCBwcm9qZWN0ZWQgbWVzaGVzfSAqL1xuICBtZXNoZXM6IFByb2plY3RlZE1lc2hbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFJlbmRlclRleHR1cmV9ICovXG4gIHJlbmRlclRleHR1cmVzOiBSZW5kZXJUZXh0dXJlW11cblxuICAvKiogUGl4ZWwgcmF0aW8gdG8gdXNlIGZvciByZW5kZXJpbmcgKi9cbiAgcGl4ZWxSYXRpbzogbnVtYmVyXG5cbiAgLyoqIHtAbGluayBET01FbGVtZW50fSB0aGF0IHdpbGwgdHJhY2sgb3VyIGNhbnZhcyBjb250YWluZXIgc2l6ZSAqL1xuICBkb21FbGVtZW50OiBET01FbGVtZW50XG5cbiAgLyoqIEFsbG93IHRvIGFkZCBjYWxsYmFja3MgdG8gYmUgZXhlY3V0ZWQgYXQgZWFjaCByZW5kZXIgYmVmb3JlIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9IGlzIGNyZWF0ZWQgKi9cbiAgb25CZWZvcmVDb21tYW5kRW5jb2RlckNyZWF0aW9uOiBUYXNrc1F1ZXVlTWFuYWdlclxuICAvKiogQWxsb3cgdG8gYWRkIGNhbGxiYWNrcyB0byBiZSBleGVjdXRlZCBhdCBlYWNoIHJlbmRlciBhZnRlciB0aGUge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfSBoYXMgYmVlbiBjcmVhdGVkIGJ1dCBiZWZvcmUgdGhlIHtAbGluayBTY2VuZX0gaXMgcmVuZGVyZWQgKi9cbiAgb25CZWZvcmVSZW5kZXJTY2VuZTogVGFza3NRdWV1ZU1hbmFnZXJcbiAgLyoqIEFsbG93IHRvIGFkZCBjYWxsYmFja3MgdG8gYmUgZXhlY3V0ZWQgYXQgZWFjaCByZW5kZXIgYWZ0ZXIgdGhlIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gaGFzIGJlZW4gY3JlYXRlZCBhbmQgYWZ0ZXIgdGhlIHtAbGluayBTY2VuZX0gaGFzIGJlZW4gcmVuZGVyZWQgKi9cbiAgb25BZnRlclJlbmRlclNjZW5lOiBUYXNrc1F1ZXVlTWFuYWdlclxuICAvKiogQWxsb3cgdG8gYWRkIGNhbGxiYWNrcyB0byBiZSBleGVjdXRlZCBhdCBlYWNoIHJlbmRlciBhZnRlciB0aGUge0BsaW5rIFNjZW5lfSBoYXMgYmVlbiByZW5kZXJlZCBhbmQgdGhlIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gaGFzIGJlZW4gc3VibWl0dGVkICovXG4gIG9uQWZ0ZXJDb21tYW5kRW5jb2RlclN1Ym1pc3Npb246IFRhc2tzUXVldWVNYW5hZ2VyXG5cbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQmVmb3JlUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfb25CZWZvcmVSZW5kZXJDYWxsYmFjayA9IChjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uQWZ0ZXJSZW5kZXJ9IGNhbGxiYWNrICovXG4gIF9vbkFmdGVyUmVuZGVyQ2FsbGJhY2sgPSAoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkFmdGVyUmVzaXplfSBjYWxsYmFjayAqL1xuICBfb25BZnRlclJlc2l6ZUNhbGxiYWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cblxuICAvKipcbiAgICogR1BVUmVuZGVyZXIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR1BVUmVuZGVyZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVSZW5kZXJlcn1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkZXZpY2VNYW5hZ2VyLFxuICAgIGNvbnRhaW5lcixcbiAgICBwaXhlbFJhdGlvID0gMSxcbiAgICBwcmVmZXJyZWRGb3JtYXQsXG4gICAgYWxwaGFNb2RlID0gJ3ByZW11bHRpcGxpZWQnLFxuICAgIG11bHRpc2FtcGxlZCA9IHRydWUsXG4gICAgcmVuZGVyUGFzcyxcbiAgfTogR1BVUmVuZGVyZXJQYXJhbXMpIHtcbiAgICB0aGlzLnR5cGUgPSAnR1BVUmVuZGVyZXInXG4gICAgdGhpcy51dWlkID0gZ2VuZXJhdGVVVUlEKClcblxuICAgIHRoaXMuZGV2aWNlTWFuYWdlciA9IGRldmljZU1hbmFnZXJcbiAgICB0aGlzLmRldmljZU1hbmFnZXIuYWRkUmVuZGVyZXIodGhpcylcblxuICAgIC8vIHJlbmRlciBwYXNzIGRlZmF1bHQgdmFsdWVzXG4gICAgcmVuZGVyUGFzcyA9IHsgLi4ueyBkZXB0aDogdHJ1ZSwgc2FtcGxlQ291bnQ6IDQsIGNsZWFyVmFsdWU6IFswLCAwLCAwLCAwXSB9LCAuLi5yZW5kZXJQYXNzIH1cbiAgICBwcmVmZXJyZWRGb3JtYXQgPSBwcmVmZXJyZWRGb3JtYXQgPz8gdGhpcy5kZXZpY2VNYW5hZ2VyLmdwdT8uZ2V0UHJlZmVycmVkQ2FudmFzRm9ybWF0KClcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGRldmljZU1hbmFnZXIsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwaXhlbFJhdGlvLFxuICAgICAgcHJlZmVycmVkRm9ybWF0LFxuICAgICAgYWxwaGFNb2RlLFxuICAgICAgbXVsdGlzYW1wbGVkLFxuICAgICAgcmVuZGVyUGFzcyxcbiAgICB9XG5cbiAgICB0aGlzLnBpeGVsUmF0aW8gPSBwaXhlbFJhdGlvID8/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8/IDFcbiAgICB0aGlzLmFscGhhTW9kZSA9IGFscGhhTW9kZVxuXG4gICAgdGhpcy5zZXRUYXNrc1F1ZXVlcygpXG4gICAgdGhpcy5zZXRSZW5kZXJlck9iamVjdHMoKVxuXG4gICAgLy8gY3JlYXRlIHRoZSBjYW52YXNcbiAgICBjb25zdCBpc0NvbnRhaW5lckNhbnZhcyA9IGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50XG4gICAgdGhpcy5jYW52YXMgPSBpc0NvbnRhaW5lckNhbnZhcyA/IChjb250YWluZXIgYXMgSFRNTENhbnZhc0VsZW1lbnQpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcblxuICAgIC8vIG5lZWRlZCB0byBnZXQgY29udGFpbmVyIGJvdW5kaW5nIGJveFxuICAgIHRoaXMuZG9tRWxlbWVudCA9IG5ldyBET01FbGVtZW50KHtcbiAgICAgIGVsZW1lbnQ6IGNvbnRhaW5lcixcbiAgICAgIHByaW9yaXR5OiA1LCAvLyByZW5kZXJlciBjYWxsYmFjayBuZWVkIHRvIGJlIGNhbGxlZCBmaXJzdFxuICAgICAgb25TaXplQ2hhbmdlZDogKGJvdW5kaW5nUmVjdCkgPT4gdGhpcy5yZXNpemUoYm91bmRpbmdSZWN0KSxcbiAgICB9KVxuXG4gICAgaWYgKCFpc0NvbnRhaW5lckNhbnZhcykge1xuICAgICAgLy8gYXBwZW5kIHRoZSBjYW52YXNcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKVxuICAgIH1cblxuICAgIC8vIGRldmljZSBpcyBhbHJlYWR5IGF2YWlsYWJsZT8gY3JlYXRlIHRoZSBjb250ZXh0IVxuICAgIGlmICh0aGlzLmRldmljZU1hbmFnZXIuZGV2aWNlKSB7XG4gICAgICB0aGlzLnNldENvbnRleHQoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQge0BsaW5rIGNhbnZhc30gc2l6ZVxuICAgKiBAcGFyYW0gYm91bmRpbmdSZWN0IC0gbmV3IHtAbGluayBkb21FbGVtZW50IHwgRE9NIEVsZW1lbnR9IHtAbGluayBET01FbGVtZW50I2JvdW5kaW5nUmVjdCB8IGJvdW5kaW5nIHJlY3RhbmdsZX1cbiAgICovXG4gIHNldFNpemUoYm91bmRpbmdSZWN0OiBET01FbGVtZW50Qm91bmRpbmdSZWN0KSB7XG4gICAgY29uc3QgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8/IDFcbiAgICBjb25zdCBzY2FsZUJvdW5kaW5nUmVjdCA9IHRoaXMucGl4ZWxSYXRpbyAvIGRldmljZVBpeGVsUmF0aW9cblxuICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gTWF0aC5mbG9vcihib3VuZGluZ1JlY3Qud2lkdGgpICsgJ3B4J1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IE1hdGguZmxvb3IoYm91bmRpbmdSZWN0LmhlaWdodCkgKyAncHgnXG5cbiAgICBjb25zdCByZW5kZXJpbmdTaXplID0ge1xuICAgICAgd2lkdGg6IE1hdGguZmxvb3IoYm91bmRpbmdSZWN0LndpZHRoICogc2NhbGVCb3VuZGluZ1JlY3QpLFxuICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKGJvdW5kaW5nUmVjdC5oZWlnaHQgKiBzY2FsZUJvdW5kaW5nUmVjdCksXG4gICAgfVxuXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmRldmljZVxuICAgICAgPyBNYXRoLm1pbihyZW5kZXJpbmdTaXplLndpZHRoLCB0aGlzLmRldmljZS5saW1pdHMubWF4VGV4dHVyZURpbWVuc2lvbjJEKVxuICAgICAgOiByZW5kZXJpbmdTaXplLndpZHRoXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5kZXZpY2VcbiAgICAgID8gTWF0aC5taW4ocmVuZGVyaW5nU2l6ZS5oZWlnaHQsIHRoaXMuZGV2aWNlLmxpbWl0cy5tYXhUZXh0dXJlRGltZW5zaW9uMkQpXG4gICAgICA6IHJlbmRlcmluZ1NpemUuaGVpZ2h0XG4gIH1cblxuICAvKipcbiAgICogUmVzaXplIG91ciB7QGxpbmsgR1BVUmVuZGVyZXJ9XG4gICAqIEBwYXJhbSBib3VuZGluZ1JlY3QgLSBuZXcge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0ge0BsaW5rIERPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfVxuICAgKi9cbiAgcmVzaXplKGJvdW5kaW5nUmVjdDogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB8IG51bGwgPSBudWxsKSB7XG4gICAgaWYgKCF0aGlzLmRvbUVsZW1lbnQgJiYgIWJvdW5kaW5nUmVjdCkgcmV0dXJuXG5cbiAgICBpZiAoIWJvdW5kaW5nUmVjdCkgYm91bmRpbmdSZWN0ID0gdGhpcy5kb21FbGVtZW50LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgIHRoaXMuc2V0U2l6ZShib3VuZGluZ1JlY3QpXG5cbiAgICB0aGlzLm9uUmVzaXplKClcblxuICAgIHRoaXMuX29uQWZ0ZXJSZXNpemVDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2soKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBhbGwgdHJhY2tlZCBvYmplY3RzXG4gICAqL1xuICBvblJlc2l6ZSgpIHtcbiAgICAvLyByZXNpemUgcmVuZGVyICYgc2hhZGVyIHBhc3Nlc1xuICAgIHRoaXMucmVuZGVyUGFzcz8ucmVzaXplKClcbiAgICB0aGlzLnBvc3RQcm9jZXNzaW5nUGFzcz8ucmVzaXplKClcbiAgICAvL3RoaXMubXVsdGlzYW1wbGluZ1Bhc3M/LnJlc2l6ZSgpXG5cbiAgICB0aGlzLnJlbmRlclRhcmdldHMuZm9yRWFjaCgocmVuZGVyVGFyZ2V0KSA9PiByZW5kZXJUYXJnZXQucmVzaXplKHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdCkpXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcy5mb3JFYWNoKChyZW5kZXJUZXh0dXJlKSA9PiByZW5kZXJUZXh0dXJlLnJlc2l6ZSgpKVxuXG4gICAgLy8gZm9yY2UgY29tcHV0ZSBwYXNzZXMgb25BZnRlclJlc2l6ZSBjYWxsYmFja1xuICAgIHRoaXMuY29tcHV0ZVBhc3Nlcy5mb3JFYWNoKChjb21wdXRlUGFzcykgPT4gY29tcHV0ZVBhc3MucmVzaXplKCkpXG5cbiAgICAvLyBub3cgcmVzaXplIG1lc2hlcyB0aGF0IGFyZSBib3VuZCB0byB0aGUgcmVuZGVyZXIgc2l6ZVxuICAgIC8vIGVzcGVjaWFsbHkgdXNlZnVsIHRvIHJlc2l6ZSByZW5kZXIgdGV4dHVyZXNcbiAgICB0aGlzLnBpbmdQb25nUGxhbmVzLmZvckVhY2goKHBpbmdQb25nUGxhbmUpID0+IHBpbmdQb25nUGxhbmUucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0KSlcbiAgICB0aGlzLnNoYWRlclBhc3Nlcy5mb3JFYWNoKChzaGFkZXJQYXNzKSA9PiBzaGFkZXJQYXNzLnJlc2l6ZSh0aGlzLmJvdW5kaW5nUmVjdCkpXG4gICAgdGhpcy5tZXNoZXMuZm9yRWFjaCgobWVzaCkgPT4ge1xuICAgICAgaWYgKCEoJ2RvbUVsZW1lbnQnIGluIG1lc2gpKSB7XG4gICAgICAgIC8vIHJlc2l6ZSBtZXNoZXMgdGhhdCBkbyBub3QgaGF2ZSBhIGJvdW5kIERPTSBlbGVtZW50XG4gICAgICAgIG1lc2gucmVzaXplKHRoaXMuYm91bmRpbmdSZWN0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vbkJlZm9yZUNvbW1hbmRFbmNvZGVyQ3JlYXRpb24uYWRkKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiBmb3IgRE9NIG1lc2hlcyBvbmx5IGlmIHRoZXkncmUgbm90IGN1cnJlbnRseSBiZWluZyByZXNpemVkXG4gICAgICAgICAgICBpZiAoIW1lc2guZG9tRWxlbWVudC5pc1Jlc2l6aW5nKSB7XG4gICAgICAgICAgICAgIG1lc2guZG9tRWxlbWVudC5zZXRTaXplKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0ge0BsaW5rIERPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfVxuICAgKi9cbiAgZ2V0IGJvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcbiAgICBpZiAoISF0aGlzLmRvbUVsZW1lbnQuYm91bmRpbmdSZWN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LmJvdW5kaW5nUmVjdFxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSB0aGlzLmRvbUVsZW1lbnQuZWxlbWVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm91bmRpbmdSZWN0LnRvcCxcbiAgICAgICAgcmlnaHQ6IGJvdW5kaW5nUmVjdC5yaWdodCxcbiAgICAgICAgYm90dG9tOiBib3VuZGluZ1JlY3QuYm90dG9tLFxuICAgICAgICBsZWZ0OiBib3VuZGluZ1JlY3QubGVmdCxcbiAgICAgICAgd2lkdGg6IGJvdW5kaW5nUmVjdC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBib3VuZGluZ1JlY3QuaGVpZ2h0LFxuICAgICAgICB4OiBib3VuZGluZ1JlY3QueCxcbiAgICAgICAgeTogYm91bmRpbmdSZWN0LnksXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIGRvbUVsZW1lbnQgfCBET00gRWxlbWVudH0ge0BsaW5rIERPTUVsZW1lbnQjYm91bmRpbmdSZWN0IHwgYm91bmRpbmcgcmVjdGFuZ2xlfSBhY2NvdW50aW5nIGZvciBjdXJyZW50IHtAbGluayBwaXhlbFJhdGlvIHwgcGl4ZWwgcmF0aW99XG4gICAqL1xuICBnZXQgcGl4ZWxSYXRpb0JvdW5kaW5nUmVjdCgpOiBET01FbGVtZW50Qm91bmRpbmdSZWN0IHtcbiAgICBjb25zdCBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gPz8gMVxuICAgIGNvbnN0IHNjYWxlQm91bmRpbmdSZWN0ID0gdGhpcy5waXhlbFJhdGlvIC8gZGV2aWNlUGl4ZWxSYXRpb1xuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYm91bmRpbmdSZWN0KS5yZWR1Y2UoXG4gICAgICAoYSwga2V5KSA9PiAoeyAuLi5hLCBba2V5XTogdGhpcy5ib3VuZGluZ1JlY3Rba2V5XSAqIHNjYWxlQm91bmRpbmdSZWN0IH0pLFxuICAgICAge1xuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgLyogVVNFRlVMIERFVklDRSBNQU5BR0VSIE9CSkVDVFMgKi9cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGRldmljZSgpOiBHUFVEZXZpY2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIuZGV2aWNlXG4gIH1cblxuICAvKipcbiAgICogR2V0IHdoZXRoZXIgb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSBpcyByZWFkeSAoaS5lLiBpdHMge0BsaW5rIEdQVURldmljZU1hbmFnZXIjYWRhcHRlciB8IGFkYXB0ZXJ9IGFuZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGFyZSBzZXQpIGl0cyB7QGxpbmsgY29udGV4dH0gaXMgc2V0IGFuZCBpdHMgc2l6ZSBpcyBzZXRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVhZHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5yZWFkeSAmJiAhIXRoaXMuY29udGV4dCAmJiAhIXRoaXMuY2FudmFzLnN0eWxlLndpZHRoXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNwcm9kdWN0aW9uIHwgR1BVRGV2aWNlTWFuYWdlciBwcm9kdWN0aW9uIGZsYWd9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHByb2R1Y3Rpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5wcm9kdWN0aW9uXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNzYW1wbGVycyB8IHNhbXBsZXJzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzYW1wbGVycygpOiBTYW1wbGVyW10ge1xuICAgIHJldHVybiB0aGlzLmRldmljZU1hbmFnZXIuc2FtcGxlcnNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2J1ZmZlcnMgfCBHUFUgYnVmZmVyc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgYnVmZmVycygpOiBHUFVCdWZmZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5idWZmZXJzXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNwaXBlbGluZU1hbmFnZXIgfCBwaXBlbGluZSBtYW5hZ2VyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBwaXBlbGluZU1hbmFnZXIoKTogUGlwZWxpbmVNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLnBpcGVsaW5lTWFuYWdlclxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIHJlbmRlcmVkIG9iamVjdHMgKGkuZS4gY29tcHV0ZSBwYXNzZXMsIG1lc2hlcywgcGluZyBwb25nIHBsYW5lcyBhbmQgc2hhZGVyIHBhc3NlcykgY3JlYXRlZCBieSB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGRldmljZVJlbmRlcmVkT2JqZWN0cygpOiBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VNYW5hZ2VyLmRldmljZVJlbmRlcmVkT2JqZWN0c1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSBvdXIge0BsaW5rIGNvbnRleHR9IHdpdGggdGhlIGdpdmVuIG9wdGlvbnNcbiAgICovXG4gIGNvbmZpZ3VyZUNvbnRleHQoKSB7XG4gICAgdGhpcy5jb250ZXh0LmNvbmZpZ3VyZSh7XG4gICAgICBkZXZpY2U6IHRoaXMuZGV2aWNlLFxuICAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0LFxuICAgICAgYWxwaGFNb2RlOiB0aGlzLmFscGhhTW9kZSxcbiAgICAgIC8vIG5lZWRlZCBzbyB3ZSBjYW4gY29weSB0ZXh0dXJlcyBmb3IgcG9zdCBwcm9jZXNzaW5nIHVzYWdlXG4gICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5UIHwgR1BVVGV4dHVyZVVzYWdlLkNPUFlfU1JDIHwgR1BVVGV4dHVyZVVzYWdlLkNPUFlfRFNULFxuICAgICAgLy92aWV3Rm9ybWF0czogW11cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIGNvbnRleHR9IGlmIHBvc3NpYmxlIGFuZCBzZXQge0BsaW5rIHJlbmRlclBhc3MgfCBtYWluIHJlbmRlciBwYXNzfSBhbmQge0BsaW5rIHNjZW5lfVxuICAgKi9cbiAgc2V0Q29udGV4dCgpIHtcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCd3ZWJncHUnKVxuXG4gICAgaWYgKHRoaXMuZGV2aWNlKSB7XG4gICAgICB0aGlzLmNvbmZpZ3VyZUNvbnRleHQoKVxuXG4gICAgICB0aGlzLnNldE1haW5SZW5kZXJQYXNzZXMoKVxuICAgICAgdGhpcy5zZXRTY2VuZSgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IGlzIGxvc3QuXG4gICAqIEZvcmNlIGFsbCBvdXIgc2NlbmUgb2JqZWN0cyB0byBsb3NlIGNvbnRleHQuXG4gICAqL1xuICBsb3NlQ29udGV4dCgpIHtcbiAgICAvLyBmb3JjZSBhbGwgb3VyIHNjZW5lIG9iamVjdHMgdG8gbG9zZSBjb250ZXh0XG4gICAgdGhpcy5yZW5kZXJlZE9iamVjdHMuZm9yRWFjaCgoc2NlbmVPYmplY3QpID0+IHNjZW5lT2JqZWN0Lmxvc2VDb250ZXh0KCkpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gc2hvdWxkIGJlIHJlc3RvcmVkLlxuICAgKiBDb25maWd1cmUgdGhlIGNvbnRleHQgYWdhaW4sIHJlc2l6ZSB0aGUge0BsaW5rIFJlbmRlclRhcmdldCB8IHJlbmRlciB0YXJnZXRzfSBhbmQge0BsaW5rIFJlbmRlclRleHR1cmUgfCByZW5kZXIgdGV4dHVyZXN9LCByZXN0b3JlIG91ciB7QGxpbmsgcmVuZGVyZWRPYmplY3RzIHwgcmVuZGVyZWQgb2JqZWN0c30gY29udGV4dC5cbiAgICogQGFzeW5jXG4gICAqL1xuICByZXN0b3JlQ29udGV4dCgpIHtcbiAgICB0aGlzLmNvbmZpZ3VyZUNvbnRleHQoKVxuXG4gICAgLy8gcmVjcmVhdGUgYWxsIHJlbmRlciB0ZXh0dXJlcyBmaXJzdFxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMuZm9yRWFjaCgocmVuZGVyVGV4dHVyZSkgPT4ge1xuICAgICAgcmVuZGVyVGV4dHVyZS5mb3JjZVJlc2l6ZSh7XG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdC53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcih0aGlzLnBpeGVsUmF0aW9Cb3VuZGluZ1JlY3QuaGVpZ2h0KSxcbiAgICAgICAgZGVwdGg6IDEsXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICAvLyByZXNpemUgcmVuZGVyIHBhc3Nlcy9yZWNyZWF0ZSB0aGVpciB0ZXh0dXJlc1xuICAgIHRoaXMucmVuZGVyUGFzcz8ucmVzaXplKClcbiAgICB0aGlzLnBvc3RQcm9jZXNzaW5nUGFzcz8ucmVzaXplKClcbiAgICAvL3RoaXMubXVsdGlzYW1wbGluZ1Bhc3M/LnJlc2l6ZSgpXG5cbiAgICB0aGlzLnJlbmRlclRhcmdldHMuZm9yRWFjaCgocmVuZGVyVGFyZ2V0KSA9PiByZW5kZXJUYXJnZXQucmVzaXplKHRoaXMucGl4ZWxSYXRpb0JvdW5kaW5nUmVjdCkpXG5cbiAgICAvLyByZXN0b3JlIGNvbnRleHQgb2YgYWxsIG91ciBzY2VuZSBvYmplY3RzXG4gICAgdGhpcy5yZW5kZXJlZE9iamVjdHMuZm9yRWFjaCgoc2NlbmVPYmplY3QpID0+IHNjZW5lT2JqZWN0LnJlc3RvcmVDb250ZXh0KCkpXG4gIH1cblxuICAvKiBQSVBFTElORVMsIFNDRU5FICYgTUFJTiBSRU5ERVIgUEFTUyAqL1xuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayByZW5kZXJQYXNzIHwgbWFpbiByZW5kZXIgcGFzc30gdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSByZXN1bHQgb2Ygb3VyIGRyYXcgY29tbWFuZHMgYmFjayB0byB0aGUgc2NyZWVuXG4gICAqL1xuICBzZXRNYWluUmVuZGVyUGFzc2VzKCkge1xuICAgIC8vIFRPRE8gaGFuZGxlIG11bHRpc2FtcGxpbmcgZGlmZmVyZW50bHk/XG4gICAgLy8gY2Y6IGh0dHBzOi8vd2ViZ3B1ZnVuZGFtZW50YWxzLm9yZy93ZWJncHUvbGVzc29ucy93ZWJncHUtbXVsdGlzYW1wbGluZy5odG1sI3lvdS1kby1ub3QtaGF2ZS10by1zZXQtYS1yZXNvbHZlLXRhcmdldC1vbi1ldmVyeS1yZW5kZXItcGFzc1xuICAgIHRoaXMucmVuZGVyUGFzcyA9IG5ldyBSZW5kZXJQYXNzKHRoaXMsIHtcbiAgICAgIGxhYmVsOiAnTWFpbiByZW5kZXIgcGFzcycsXG4gICAgICB0YXJnZXRGb3JtYXQ6IHRoaXMub3B0aW9ucy5wcmVmZXJyZWRGb3JtYXQsXG4gICAgICAuLi50aGlzLm9wdGlvbnMucmVuZGVyUGFzcyxcbiAgICB9KVxuXG4gICAgdGhpcy5wb3N0UHJvY2Vzc2luZ1Bhc3MgPSBuZXcgUmVuZGVyUGFzcyh0aGlzLCB7XG4gICAgICBsYWJlbDogJ1Bvc3QgcHJvY2Vzc2luZyByZW5kZXIgcGFzcycsXG4gICAgICB0YXJnZXRGb3JtYXQ6IHRoaXMub3B0aW9ucy5wcmVmZXJyZWRGb3JtYXQsXG4gICAgICBkZXB0aDogZmFsc2UsXG4gICAgICBzYW1wbGVDb3VudDogdGhpcy5vcHRpb25zLnJlbmRlclBhc3Muc2FtcGxlQ291bnQsIC8vIFRPRE8/XG4gICAgfSlcblxuICAgIC8vIFRPRE9cbiAgICAvLyBpZiAodGhpcy5vcHRpb25zLm11bHRpc2FtcGxlZCkge1xuICAgIC8vICAgdGhpcy5tdWx0aXNhbXBsaW5nUGFzcyA9IG5ldyBSZW5kZXJQYXNzKHRoaXMsIHtcbiAgICAvLyAgICAgbGFiZWw6ICdNU0FBIHJlbmRlciBwYXNzJyxcbiAgICAvLyAgICAgdGFyZ2V0Rm9ybWF0OiB0aGlzLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0LFxuICAgIC8vICAgICBkZXB0aDogZmFsc2UsXG4gICAgLy8gICAgIGxvYWRPcDogJ2xvYWQnLFxuICAgIC8vICAgICBzYW1wbGVDb3VudDogNCxcbiAgICAvLyAgIH0pXG4gICAgLy9cbiAgICAvLyAgIGNvbnN0IHJlc29sdmVUZXh0dXJlID0gbmV3IFJlbmRlclRleHR1cmUodGhpcywge1xuICAgIC8vICAgICBsYWJlbDogJ01TQUEgcmVuZGVyIHBhc3MgcmVzb2x2ZSB0ZXh0dXJlJyxcbiAgICAvLyAgICAgbmFtZTogJ3Jlc29sdmVUZXh0dXJlJyxcbiAgICAvLyAgICAgZm9ybWF0OiB0aGlzLm9wdGlvbnMucHJlZmVycmVkRm9ybWF0LFxuICAgIC8vICAgfSlcbiAgICAvL1xuICAgIC8vICAgdGhpcy5tdWx0aXNhbXBsaW5nUGFzcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHNbMF0ucmVzb2x2ZVRhcmdldCA9IHJlc29sdmVUZXh0dXJlLnRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgLy8gICAgIGxhYmVsOiAnTVNBQSByZW5kZXIgcGFzcyByZXNvbHZlIHRleHR1cmUgdmlldycsXG4gICAgLy8gICB9KVxuICAgIC8vIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBzY2VuZX1cbiAgICovXG4gIHNldFNjZW5lKCkge1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgU2NlbmUoeyByZW5kZXJlcjogdGhpcyB9KVxuICB9XG5cbiAgLyogQlVGRkVSUyAmIEJJTkRJTkdTICovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVCdWZmZXJ9XG4gICAqIEBwYXJhbSBidWZmZXJEZXNjcmlwdG9yIC0ge0BsaW5rIEdQVUJ1ZmZlckRlc2NyaXB0b3IgfCBHUFUgYnVmZmVyIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVQnVmZmVyfVxuICAgKi9cbiAgY3JlYXRlQnVmZmVyKGJ1ZmZlckRlc2NyaXB0b3I6IEdQVUJ1ZmZlckRlc2NyaXB0b3IpOiBHUFVCdWZmZXIge1xuICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuZGV2aWNlPy5jcmVhdGVCdWZmZXIoYnVmZmVyRGVzY3JpcHRvcilcbiAgICB0aGlzLmRldmljZU1hbmFnZXIuYWRkQnVmZmVyKGJ1ZmZlcilcbiAgICByZXR1cm4gYnVmZmVyXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIEdQVUJ1ZmZlcn0gZnJvbSBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjYnVmZmVycyB8IEdQVSBidWZmZXJzIGFycmF5fVxuICAgKiBAcGFyYW0gYnVmZmVyIC0ge0BsaW5rIEdQVUJ1ZmZlcn0gdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSBbb3JpZ2luYWxMYWJlbF0gLSBvcmlnaW5hbCB7QGxpbmsgR1BVQnVmZmVyfSBsYWJlbCBpbiBjYXNlIHRoZSBidWZmZXIgaGFzIGJlZW4gc3dhcHBlZCBhbmQgaXRzIGxhYmVsIGhhcyBjaGFuZ2VkXG4gICAqL1xuICByZW1vdmVCdWZmZXIoYnVmZmVyOiBHUFVCdWZmZXIsIG9yaWdpbmFsTGFiZWw/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIucmVtb3ZlQnVmZmVyKGJ1ZmZlciwgb3JpZ2luYWxMYWJlbClcbiAgfVxuXG4gIC8qKlxuICAgKiBXcml0ZSB0byBhIHtAbGluayBHUFVCdWZmZXJ9XG4gICAqIEBwYXJhbSBidWZmZXIgLSB7QGxpbmsgR1BVQnVmZmVyfSB0byB3cml0ZSB0b1xuICAgKiBAcGFyYW0gYnVmZmVyT2Zmc2V0IC0ge0BsaW5rIEdQVVNpemU2NCB8IGJ1ZmZlciBvZmZzZXR9XG4gICAqIEBwYXJhbSBkYXRhIC0ge0BsaW5rIEJ1ZmZlclNvdXJjZSB8IGRhdGF9IHRvIHdyaXRlXG4gICAqL1xuICBxdWV1ZVdyaXRlQnVmZmVyKGJ1ZmZlcjogR1BVQnVmZmVyLCBidWZmZXJPZmZzZXQ6IEdQVVNpemU2NCwgZGF0YTogQnVmZmVyU291cmNlKSB7XG4gICAgdGhpcy5kZXZpY2U/LnF1ZXVlLndyaXRlQnVmZmVyKGJ1ZmZlciwgYnVmZmVyT2Zmc2V0LCBkYXRhKVxuICB9XG5cbiAgLyoqXG4gICAqIENvcHkgYSBzb3VyY2Uge0BsaW5rIEdQVUJ1ZmZlcn0gaW50byBhIGRlc3RpbmF0aW9uIHtAbGluayBHUFVCdWZmZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gcGFyYW1ldGVycyB1c2VkIHRvIHJlYWxpemUgdGhlIGNvcHlcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMuc3JjQnVmZmVyIC0gc291cmNlIHtAbGluayBHUFVCdWZmZXJ9XG4gICAqIEBwYXJhbSBbcGFyYW1ldGVycy5kc3RCdWZmZXJdIC0gZGVzdGluYXRpb24ge0BsaW5rIEdQVUJ1ZmZlcn0uIFdpbGwgY3JlYXRlIGEgbmV3IG9uZSBpZiBub25lIHByb3ZpZGVkLlxuICAgKiBAcGFyYW0gW3BhcmFtZXRlcnMuY29tbWFuZEVuY29kZXJdIC0ge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfSB0byB1c2UgZm9yIHRoZSBjb3B5LiBXaWxsIGNyZWF0ZSBhIG5ldyBvbmUgYW5kIHN1Ym1pdCB0aGUgY29tbWFuZCBidWZmZXIgaWYgbm9uZSBwcm92aWRlZC5cbiAgICogQHJldHVybnMgLSBkZXN0aW5hdGlvbiB7QGxpbmsgR1BVQnVmZmVyfSBhZnRlciBjb3B5XG4gICAqL1xuICBjb3B5QnVmZmVyVG9CdWZmZXIoe1xuICAgIHNyY0J1ZmZlcixcbiAgICBkc3RCdWZmZXIsXG4gICAgY29tbWFuZEVuY29kZXIsXG4gIH06IHtcbiAgICBzcmNCdWZmZXI6IEdQVUJ1ZmZlclxuICAgIGRzdEJ1ZmZlcj86IEdQVUJ1ZmZlclxuICAgIGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXJcbiAgfSk6IEdQVUJ1ZmZlciB8IG51bGwge1xuICAgIGlmICghc3JjQnVmZmVyKSB7XG4gICAgICB0aHJvd1dhcm5pbmcoYCR7dGhpcy50eXBlfTogY2Fubm90IGNvcHkgdG8gYnVmZmVyIGJlY2F1c2UgdGhlIHNvdXJjZSBidWZmZXIgaGFzIG5vdCBiZWVuIHByb3ZpZGVkYClcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgaWYgKCFkc3RCdWZmZXIpIHtcbiAgICAgIGRzdEJ1ZmZlciA9IHRoaXMuY3JlYXRlQnVmZmVyKHtcbiAgICAgICAgbGFiZWw6IHRoaXMudHlwZSArICc6IGRlc3RpbmF0aW9uIGNvcHkgYnVmZmVyIGZyb206ICcgKyBzcmNCdWZmZXIubGFiZWwsXG4gICAgICAgIHNpemU6IHNyY0J1ZmZlci5zaXplLFxuICAgICAgICB1c2FnZTogR1BVQnVmZmVyVXNhZ2UuTUFQX1JFQUQgfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVCxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHNyY0J1ZmZlci5tYXBTdGF0ZSAhPT0gJ3VubWFwcGVkJykge1xuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMudHlwZX06IENhbm5vdCBjb3B5IGZyb20gJHtzcmNCdWZmZXJ9IGJlY2F1c2UgaXQgaXMgY3VycmVudGx5IG1hcHBlZGApXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGRzdEJ1ZmZlci5tYXBTdGF0ZSAhPT0gJ3VubWFwcGVkJykge1xuICAgICAgdGhyb3dXYXJuaW5nKGAke3RoaXMudHlwZX06IENhbm5vdCBjb3B5IGZyb20gJHtkc3RCdWZmZXJ9IGJlY2F1c2UgaXQgaXMgY3VycmVudGx5IG1hcHBlZGApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBpZiB0aGVyZSdzIG5vIGNvbW1hbmQgZW5jb2RlciBwcm92aWRlZCwgd2UnbGwgaGF2ZSB0byBjcmVhdGUgb25lIGFuZCBzdWJtaXQgaXQgYWZ0ZXIgdGhlIGNvcHkgcHJvY2Vzc1xuICAgIGNvbnN0IGhhc0NvbW1hbmRFbmNvZGVyID0gISFjb21tYW5kRW5jb2RlclxuXG4gICAgaWYgKCFoYXNDb21tYW5kRW5jb2Rlcikge1xuICAgICAgY29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZT8uY3JlYXRlQ29tbWFuZEVuY29kZXIoeyBsYWJlbDogJ0NvcHkgYnVmZmVyIGNvbW1hbmQgZW5jb2RlcicgfSlcbiAgICAgICF0aGlzLnByb2R1Y3Rpb24gJiYgY29tbWFuZEVuY29kZXIucHVzaERlYnVnR3JvdXAoJ0NvcHkgYnVmZmVyIGNvbW1hbmQgZW5jb2RlcicpXG4gICAgfVxuXG4gICAgY29tbWFuZEVuY29kZXIuY29weUJ1ZmZlclRvQnVmZmVyKHNyY0J1ZmZlciwgMCwgZHN0QnVmZmVyLCAwLCBkc3RCdWZmZXIuc2l6ZSlcblxuICAgIGlmICghaGFzQ29tbWFuZEVuY29kZXIpIHtcbiAgICAgICF0aGlzLnByb2R1Y3Rpb24gJiYgY29tbWFuZEVuY29kZXIucG9wRGVidWdHcm91cCgpXG4gICAgICBjb25zdCBjb21tYW5kQnVmZmVyID0gY29tbWFuZEVuY29kZXIuZmluaXNoKClcbiAgICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuICAgIH1cblxuICAgIHJldHVybiBkc3RCdWZmZXJcbiAgfVxuXG4gIC8qIEJJTkQgR1JPVVBTICYgTEFZT1VUUyAqL1xuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGNyZWF0ZWQge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdHJhY2tlZCBieSBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGJpbmRHcm91cHMoKTogQWxsb3dlZEJpbmRHcm91cHNbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5iaW5kR3JvdXBzXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cH0gdG8gb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2JpbmRHcm91cHMgfCBiaW5kIGdyb3VwcyBhcnJheX1cbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IHRvIGFkZFxuICAgKi9cbiAgYWRkQmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIuYWRkQmluZEdyb3VwKGJpbmRHcm91cClcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSBmcm9tIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNiaW5kR3JvdXBzIHwgYmluZCBncm91cHMgYXJyYXl9XG4gICAqIEBwYXJhbSBiaW5kR3JvdXAgLSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUJpbmRHcm91cChiaW5kR3JvdXA6IEFsbG93ZWRCaW5kR3JvdXBzKSB7XG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLnJlbW92ZUJpbmRHcm91cChiaW5kR3JvdXApXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVUJpbmRHcm91cExheW91dH1cbiAgICogQHBhcmFtIGJpbmRHcm91cExheW91dERlc2NyaXB0b3IgLSB7QGxpbmsgR1BVQmluZEdyb3VwTGF5b3V0RGVzY3JpcHRvciB8IEdQVSBiaW5kIGdyb3VwIGxheW91dCBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVUJpbmRHcm91cExheW91dH1cbiAgICovXG4gIGNyZWF0ZUJpbmRHcm91cExheW91dChiaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yOiBHUFVCaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yKTogR1BVQmluZEdyb3VwTGF5b3V0IHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZUJpbmRHcm91cExheW91dChiaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVCaW5kR3JvdXB9XG4gICAqIEBwYXJhbSBiaW5kR3JvdXBEZXNjcmlwdG9yIC0ge0BsaW5rIEdQVUJpbmRHcm91cERlc2NyaXB0b3IgfCBHUFUgYmluZCBncm91cCBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVUJpbmRHcm91cH1cbiAgICovXG4gIGNyZWF0ZUJpbmRHcm91cChiaW5kR3JvdXBEZXNjcmlwdG9yOiBHUFVCaW5kR3JvdXBEZXNjcmlwdG9yKTogR1BVQmluZEdyb3VwIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZUJpbmRHcm91cChiaW5kR3JvdXBEZXNjcmlwdG9yKVxuICB9XG5cbiAgLyogU0hBREVSUyAmIFBJUEVMSU5FUyAqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB7QGxpbmsgR1BVU2hhZGVyTW9kdWxlfVxuICAgKiBAcGFyYW0gc2hhZGVyTW9kdWxlRGVzY3JpcHRvciAtIHtAbGluayBzaGFkZXJNb2R1bGVEZXNjcmlwdG9yIHwgc2hhZGVyIG1vZHVsZSBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVVNoYWRlck1vZHVsZX1cbiAgICovXG4gIGNyZWF0ZVNoYWRlck1vZHVsZShzaGFkZXJNb2R1bGVEZXNjcmlwdG9yOiBHUFVTaGFkZXJNb2R1bGVEZXNjcmlwdG9yKTogR1BVU2hhZGVyTW9kdWxlIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZVNoYWRlck1vZHVsZShzaGFkZXJNb2R1bGVEZXNjcmlwdG9yKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVQaXBlbGluZUxheW91dH1cbiAgICogQHBhcmFtIHBpcGVsaW5lTGF5b3V0RGVzY3JpcHRvciAtIHtAbGluayBHUFVQaXBlbGluZUxheW91dERlc2NyaXB0b3IgfCBHUFUgcGlwZWxpbmUgbGF5b3V0IGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVUGlwZWxpbmVMYXlvdXR9XG4gICAqL1xuICBjcmVhdGVQaXBlbGluZUxheW91dChwaXBlbGluZUxheW91dERlc2NyaXB0b3I6IEdQVVBpcGVsaW5lTGF5b3V0RGVzY3JpcHRvcik6IEdQVVBpcGVsaW5lTGF5b3V0IHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZVBpcGVsaW5lTGF5b3V0KHBpcGVsaW5lTGF5b3V0RGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9XG4gICAqIEBwYXJhbSBwaXBlbGluZURlc2NyaXB0b3IgLSB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yIHwgR1BVIHJlbmRlciBwaXBlbGluZSBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lfVxuICAgKi9cbiAgY3JlYXRlUmVuZGVyUGlwZWxpbmUocGlwZWxpbmVEZXNjcmlwdG9yOiBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3IpOiBHUFVSZW5kZXJQaXBlbGluZSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlPy5jcmVhdGVSZW5kZXJQaXBlbGluZShwaXBlbGluZURlc2NyaXB0b3IpXG4gIH1cblxuICAvKipcbiAgICogQXN5bmNocm9ub3VzbHkgY3JlYXRlIGEge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lfVxuICAgKiBAYXN5bmNcbiAgICogQHBhcmFtIHBpcGVsaW5lRGVzY3JpcHRvciAtIHtAbGluayBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3IgfCBHUFUgcmVuZGVyIHBpcGVsaW5lIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVUmVuZGVyUGlwZWxpbmV9XG4gICAqL1xuICBhc3luYyBjcmVhdGVSZW5kZXJQaXBlbGluZUFzeW5jKHBpcGVsaW5lRGVzY3JpcHRvcjogR1BVUmVuZGVyUGlwZWxpbmVEZXNjcmlwdG9yKTogUHJvbWlzZTxHUFVSZW5kZXJQaXBlbGluZT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRldmljZT8uY3JlYXRlUmVuZGVyUGlwZWxpbmVBc3luYyhwaXBlbGluZURlc2NyaXB0b3IpXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX1cbiAgICogQHBhcmFtIHBpcGVsaW5lRGVzY3JpcHRvciAtIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yIHwgR1BVIGNvbXB1dGUgcGlwZWxpbmUgZGVzY3JpcHRvcn1cbiAgICogQHJldHVybnMgLSBuZXdseSBjcmVhdGVkIHtAbGluayBHUFVDb21wdXRlUGlwZWxpbmV9XG4gICAqL1xuICBjcmVhdGVDb21wdXRlUGlwZWxpbmUocGlwZWxpbmVEZXNjcmlwdG9yOiBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yKTogR1BVQ29tcHV0ZVBpcGVsaW5lIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmNyZWF0ZUNvbXB1dGVQaXBlbGluZShwaXBlbGluZURlc2NyaXB0b3IpXG4gIH1cblxuICAvKipcbiAgICogQXN5bmNocm9ub3VzbHkgY3JlYXRlIGEge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX1cbiAgICogQGFzeW5jXG4gICAqIEBwYXJhbSBwaXBlbGluZURlc2NyaXB0b3IgLSB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lRGVzY3JpcHRvciB8IEdQVSBjb21wdXRlIHBpcGVsaW5lIGRlc2NyaXB0b3J9XG4gICAqIEByZXR1cm5zIC0gbmV3bHkgY3JlYXRlZCB7QGxpbmsgR1BVQ29tcHV0ZVBpcGVsaW5lfVxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQ29tcHV0ZVBpcGVsaW5lQXN5bmMocGlwZWxpbmVEZXNjcmlwdG9yOiBHUFVDb21wdXRlUGlwZWxpbmVEZXNjcmlwdG9yKTogUHJvbWlzZTxHUFVDb21wdXRlUGlwZWxpbmU+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kZXZpY2U/LmNyZWF0ZUNvbXB1dGVQaXBlbGluZUFzeW5jKHBpcGVsaW5lRGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qIFRFWFRVUkVTICovXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgY3JlYXRlZCB7QGxpbmsgVGV4dHVyZX0gdHJhY2tlZCBieSBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHRleHR1cmVzKCk6IFRleHR1cmVbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci50ZXh0dXJlc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBUZXh0dXJlfSB0byBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjdGV4dHVyZXMgfCB0ZXh0dXJlcyBhcnJheX1cbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gdG8gYWRkXG4gICAqL1xuICBhZGRUZXh0dXJlKHRleHR1cmU6IFRleHR1cmUpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIuYWRkVGV4dHVyZSh0ZXh0dXJlKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBUZXh0dXJlfSBmcm9tIG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciN0ZXh0dXJlcyB8IHRleHR1cmVzIGFycmF5fVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgIHRoaXMuZGV2aWNlTWFuYWdlci5yZW1vdmVUZXh0dXJlKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIG91ciB7QGxpbmsgcmVuZGVyVGV4dHVyZXN9IGFycmF5XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFJlbmRlclRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkUmVuZGVyVGV4dHVyZSh0ZXh0dXJlOiBSZW5kZXJUZXh0dXJlKSB7XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcy5wdXNoKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEge0BsaW5rIFJlbmRlclRleHR1cmV9IGZyb20gb3VyIHtAbGluayByZW5kZXJUZXh0dXJlc30gYXJyYXlcbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVSZW5kZXJUZXh0dXJlKHRleHR1cmU6IFJlbmRlclRleHR1cmUpIHtcbiAgICB0aGlzLnJlbmRlclRleHR1cmVzID0gdGhpcy5yZW5kZXJUZXh0dXJlcy5maWx0ZXIoKHQpID0+IHQudXVpZCAhPT0gdGV4dHVyZS51dWlkKVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBHUFVUZXh0dXJlfVxuICAgKiBAcGFyYW0gdGV4dHVyZURlc2NyaXB0b3IgLSB7QGxpbmsgR1BVVGV4dHVyZURlc2NyaXB0b3IgfCBHUFUgdGV4dHVyZSBkZXNjcmlwdG9yfVxuICAgKiBAcmV0dXJucyAtIG5ld2x5IGNyZWF0ZWQge0BsaW5rIEdQVVRleHR1cmV9XG4gICAqL1xuICBjcmVhdGVUZXh0dXJlKHRleHR1cmVEZXNjcmlwdG9yOiBHUFVUZXh0dXJlRGVzY3JpcHRvcik6IEdQVVRleHR1cmUge1xuICAgIHJldHVybiB0aGlzLmRldmljZT8uY3JlYXRlVGV4dHVyZSh0ZXh0dXJlRGVzY3JpcHRvcilcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSB7QGxpbmsgVGV4dHVyZSN0ZXh0dXJlIHwgdGV4dHVyZX0gdG8gdGhlIEdQVVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSBjbGFzcyBvYmplY3Qgd2l0aCB0aGUge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9IHRvIHVwbG9hZFxuICAgKi9cbiAgdXBsb2FkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyLnVwbG9hZFRleHR1cmUodGV4dHVyZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBvcnQgYSB7QGxpbmsgR1BVRXh0ZXJuYWxUZXh0dXJlfVxuICAgKiBAcGFyYW0gdmlkZW8gLSB7QGxpbmsgSFRNTFZpZGVvRWxlbWVudH0gc291cmNlXG4gICAqIEByZXR1cm5zIC0ge0BsaW5rIEdQVUV4dGVybmFsVGV4dHVyZX1cbiAgICovXG4gIGltcG9ydEV4dGVybmFsVGV4dHVyZSh2aWRlbzogSFRNTFZpZGVvRWxlbWVudCk6IEdQVUV4dGVybmFsVGV4dHVyZSB7XG4gICAgLy8gVE9ETyBXZWJDb2RlY3MgbWF5IGJlIHRoZSB3YXkgdG8gZ28gd2hlbiB0aW1lIGNvbWVzIVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy9uZXctaW4td2ViZ3B1LTExMy8jdXNlLXdlYmNvZGVjcy12aWRlb2ZyYW1lLXNvdXJjZS1pbi1pbXBvcnRleHRlcm5hbHRleHR1cmVcbiAgICAvLyBzZWUgb25WaWRlb0ZyYW1lQ2FsbGJhY2sgbWV0aG9kIGluIFRleHR1cmUgY2xhc3NcbiAgICAvLyBjb25zdCB2aWRlb0ZyYW1lID0gbmV3IFZpZGVvRnJhbWUodmlkZW8pXG4gICAgLy8gcmV0dXJuIHRoaXMuZGV2aWNlPy5pbXBvcnRFeHRlcm5hbFRleHR1cmUoeyBzb3VyY2U6IHZpZGVvRnJhbWUgfSlcbiAgICByZXR1cm4gdGhpcy5kZXZpY2U/LmltcG9ydEV4dGVybmFsVGV4dHVyZSh7IHNvdXJjZTogdmlkZW8gfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHtAbGluayBTYW1wbGVyfSBoYXMgYWxyZWFkeSBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgc2FtZSB7QGxpbmsgU2FtcGxlciNvcHRpb25zIHwgcGFyYW1ldGVyc30uXG4gICAqIFVzZSBpdCBpZiBmb3VuZCwgZWxzZSBjcmVhdGUgYSBuZXcgb25lIGFuZCBhZGQgaXQgdG8gdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI3NhbXBsZXJzIHwgc2FtcGxlcnMgYXJyYXl9LlxuICAgKiBAcGFyYW0gc2FtcGxlciAtIHtAbGluayBTYW1wbGVyfSB0byBjcmVhdGVcbiAgICogQHJldHVybnMgLSB0aGUge0BsaW5rIEdQVVNhbXBsZXJ9XG4gICAqL1xuICBjcmVhdGVTYW1wbGVyKHNhbXBsZXI6IFNhbXBsZXIpOiBHUFVTYW1wbGVyIHtcbiAgICBjb25zdCBleGlzdGluZ1NhbXBsZXIgPSB0aGlzLnNhbXBsZXJzLmZpbmQoKGV4aXN0aW5nU2FtcGxlcikgPT4ge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nU2FtcGxlci5vcHRpb25zKSA9PT0gSlNPTi5zdHJpbmdpZnkoc2FtcGxlci5vcHRpb25zKSAmJiBleGlzdGluZ1NhbXBsZXIuc2FtcGxlclxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdTYW1wbGVyKSB7XG4gICAgICByZXR1cm4gZXhpc3RpbmdTYW1wbGVyLnNhbXBsZXJcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyB0eXBlLCAuLi5zYW1wbGVyT3B0aW9ucyB9ID0gc2FtcGxlci5vcHRpb25zXG4gICAgICBjb25zdCBncHVTYW1wbGVyOiBHUFVTYW1wbGVyID0gdGhpcy5kZXZpY2U/LmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICBsYWJlbDogc2FtcGxlci5sYWJlbCxcbiAgICAgICAgLi4uc2FtcGxlck9wdGlvbnMsXG4gICAgICB9KVxuXG4gICAgICB0aGlzLmRldmljZU1hbmFnZXIuYWRkU2FtcGxlcihzYW1wbGVyKVxuXG4gICAgICByZXR1cm4gZ3B1U2FtcGxlclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgU2FtcGxlcn0gZnJvbSBvdXIge0BsaW5rIEdQVURldmljZU1hbmFnZXIjc2FtcGxlcnMgfCBzYW1wbGVycyBhcnJheX1cbiAgICogQHBhcmFtIHNhbXBsZXIgLSB7QGxpbmsgU2FtcGxlcn0gdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVTYW1wbGVyKHNhbXBsZXI6IFNhbXBsZXIpIHtcbiAgICB0aGlzLmRldmljZU1hbmFnZXIucmVtb3ZlU2FtcGxlcihzYW1wbGVyKVxuICB9XG5cbiAgLyogT0JKRUNUUyAmIFRBU0tTICovXG5cbiAgLyoqXG4gICAqIFNldCBkaWZmZXJlbnQgdGFza3MgcXVldWUgbWFuYWdlcnMgdG8gZXhlY3V0ZSBjYWxsYmFja3MgYXQgZGlmZmVyZW50IHBoYXNlcyBvZiBvdXIgcmVuZGVyIGNhbGw6XG4gICAqIC0ge0BsaW5rIG9uQmVmb3JlQ29tbWFuZEVuY29kZXJDcmVhdGlvbn06IGNhbGxiYWNrcyBleGVjdXRlZCBiZWZvcmUgdGhlIGNyZWF0aW9uIG9mIHRoZSBjb21tYW5kIGVuY29kZXJcbiAgICogLSB7QGxpbmsgb25CZWZvcmVSZW5kZXJTY2VuZX06IGNhbGxiYWNrcyBleGVjdXRlZCBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIGNvbW1hbmQgZW5jb2RlciBhbmQgYmVmb3JlIHJlbmRlcmluZyB0aGUge0BsaW5rIFNjZW5lfVxuICAgKiAtIHtAbGluayBvbkFmdGVyUmVuZGVyU2NlbmV9OiBjYWxsYmFja3MgZXhlY3V0ZWQgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBjb21tYW5kIGVuY29kZXIgYW5kIGFmdGVyIHJlbmRlcmluZyB0aGUge0BsaW5rIFNjZW5lfVxuICAgKiAtIHtAbGluayBvbkFmdGVyQ29tbWFuZEVuY29kZXJTdWJtaXNzaW9ufTogY2FsbGJhY2tzIGV4ZWN1dGVkIGFmdGVyIHRoZSBzdWJtaXNzaW9uIG9mIHRoZSBjb21tYW5kIGVuY29kZXJcbiAgICovXG4gIHNldFRhc2tzUXVldWVzKCkge1xuICAgIHRoaXMub25CZWZvcmVDb21tYW5kRW5jb2RlckNyZWF0aW9uID0gbmV3IFRhc2tzUXVldWVNYW5hZ2VyKClcbiAgICB0aGlzLm9uQmVmb3JlUmVuZGVyU2NlbmUgPSBuZXcgVGFza3NRdWV1ZU1hbmFnZXIoKVxuICAgIHRoaXMub25BZnRlclJlbmRlclNjZW5lID0gbmV3IFRhc2tzUXVldWVNYW5hZ2VyKClcbiAgICB0aGlzLm9uQWZ0ZXJDb21tYW5kRW5jb2RlclN1Ym1pc3Npb24gPSBuZXcgVGFza3NRdWV1ZU1hbmFnZXIoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhbGwgb2JqZWN0cyBhcnJheXMgdGhhdCB3ZSdsbCBrZWVwIHRyYWNrIG9mXG4gICAqL1xuICBzZXRSZW5kZXJlck9iamVjdHMoKSB7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBjb21wdXRlIHBhc3NlcywgbWVzaGVzLCBldGMuXG4gICAgdGhpcy5jb21wdXRlUGFzc2VzID0gW11cbiAgICB0aGlzLnBpbmdQb25nUGxhbmVzID0gW11cbiAgICB0aGlzLnNoYWRlclBhc3NlcyA9IFtdXG4gICAgdGhpcy5yZW5kZXJUYXJnZXRzID0gW11cbiAgICB0aGlzLm1lc2hlcyA9IFtdXG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlcyA9IFtdXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGlzIHtAbGluayBHUFVSZW5kZXJlcn0gcmVuZGVyZWQgb2JqZWN0cyAoaS5lLiBjb21wdXRlIHBhc3NlcywgbWVzaGVzLCBwaW5nIHBvbmcgcGxhbmVzIGFuZCBzaGFkZXIgcGFzc2VzKVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZW5kZXJlZE9iamVjdHMoKTogU2NlbmVPYmplY3RbXSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLmNvbXB1dGVQYXNzZXMsIC4uLnRoaXMubWVzaGVzLCAuLi50aGlzLnNoYWRlclBhc3NlcywgLi4udGhpcy5waW5nUG9uZ1BsYW5lc11cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG9iamVjdHMgKHtAbGluayBSZW5kZXJlZE1lc2ggfCByZW5kZXJlZCBtZXNoZXN9IG9yIHtAbGluayBDb21wdXRlUGFzcyB8IGNvbXB1dGUgcGFzc2VzfSkgdXNpbmcgYSBnaXZlbiB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfS5cbiAgICogVXNlZnVsIHRvIGtub3cgaWYgYSByZXNvdXJjZSBpcyB1c2VkIGJ5IG11bHRpcGxlIG9iamVjdHMgYW5kIGlmIGl0IGlzIHNhZmUgdG8gZGVzdHJveSBpdCBvciBub3QuXG4gICAqIEBwYXJhbSBiaW5kR3JvdXAgLSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byBjaGVja1xuICAgKi9cbiAgZ2V0T2JqZWN0c0J5QmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpOiB1bmRlZmluZWQgfCBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VSZW5kZXJlZE9iamVjdHMuZmlsdGVyKChvYmplY3QpID0+IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLm9iamVjdC5tYXRlcmlhbC5iaW5kR3JvdXBzLFxuICAgICAgICAuLi5vYmplY3QubWF0ZXJpYWwuaW5wdXRzQmluZEdyb3VwcyxcbiAgICAgICAgLi4ub2JqZWN0Lm1hdGVyaWFsLmNsb25lZEJpbmRHcm91cHMsXG4gICAgICBdLnNvbWUoKGJHKSA9PiBiRy51dWlkID09PSBiaW5kR3JvdXAudXVpZClcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyAoe0BsaW5rIFJlbmRlcmVkTWVzaCB8IHJlbmRlcmVkIG1lc2hlc30gb3Ige0BsaW5rIENvbXB1dGVQYXNzIHwgY29tcHV0ZSBwYXNzZXN9KSB1c2luZyBhIGdpdmVuIHtAbGluayBUZXh0dXJlfSBvciB7QGxpbmsgUmVuZGVyVGV4dHVyZX0uXG4gICAqIFVzZWZ1bCB0byBrbm93IGlmIGEgcmVzb3VyY2UgaXMgdXNlZCBieSBtdWx0aXBsZSBvYmplY3RzIGFuZCBpZiBpdCBpcyBzYWZlIHRvIGRlc3Ryb3kgaXQgb3Igbm90LlxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSBvciB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gdG8gY2hlY2tcbiAgICovXG4gIGdldE9iamVjdHNCeVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSB8IFJlbmRlclRleHR1cmUpOiB1bmRlZmluZWQgfCBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VSZW5kZXJlZE9iamVjdHMuZmlsdGVyKChvYmplY3QpID0+IHtcbiAgICAgIHJldHVybiBbLi4ub2JqZWN0Lm1hdGVyaWFsLnRleHR1cmVzLCAuLi5vYmplY3QubWF0ZXJpYWwucmVuZGVyVGV4dHVyZXNdLnNvbWUoKHQpID0+IHQudXVpZCA9PT0gdGV4dHVyZS51dWlkKVxuICAgIH0pXG4gIH1cblxuICAvKiBFVkVOVFMgKi9cblxuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2tcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gcnVuIGp1c3QgYmVmb3JlIHRoZSB7QGxpbmsgcmVuZGVyfSBtZXRob2Qgd2lsbCBiZSBleGVjdXRlZFxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgR1BVUmVuZGVyZXJ9XG4gICAqL1xuICBvbkJlZm9yZVJlbmRlcihjYWxsYmFjazogKGNvbW1hbmRFbmNvZGVyPzogR1BVQ29tbWFuZEVuY29kZXIpID0+IHZvaWQpIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uQmVmb3JlUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQWZ0ZXJSZW5kZXJDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB0aGUge0BsaW5rIHJlbmRlcn0gbWV0aG9kIGhhcyBiZWVuIGV4ZWN1dGVkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBHUFVSZW5kZXJlcn1cbiAgICovXG4gIG9uQWZ0ZXJSZW5kZXIoY2FsbGJhY2s6IChjb21tYW5kRW5jb2Rlcj86IEdQVUNvbW1hbmRFbmNvZGVyKSA9PiB2b2lkKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQXNzaWduIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gX29uQWZ0ZXJSZXNpemVDYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBydW4ganVzdCBhZnRlciB0aGUge0BsaW5rIEdQVVJlbmRlcmVyfSBoYXMgYmVlbiByZXNpemVkXG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBHUFVSZW5kZXJlcn1cbiAgICovXG4gIG9uQWZ0ZXJSZXNpemUoY2FsbGJhY2s6IChjb21tYW5kRW5jb2Rlcj86IEdQVUNvbW1hbmRFbmNvZGVyKSA9PiB2b2lkKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vbkFmdGVyUmVzaXplQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKiBSRU5ERVIgKi9cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHtAbGluayBSZW5kZXJQYXNzI2Rlc2NyaXB0b3IgfCByZW5kZXIgcGFzcyBkZXNjcmlwdG9yfSB0ZXh0dXJlIHtAbGluayBHUFVSZW5kZXJQYXNzQ29sb3JBdHRhY2htZW50I3ZpZXcgfCB2aWV3fSBhbmQge0BsaW5rIEdQVVJlbmRlclBhc3NDb2xvckF0dGFjaG1lbnQjcmVzb2x2ZVRhcmdldCB8IHJlc29sdmVUYXJnZXR9IChkZXBlbmRpbmcgb24gd2hldGhlciB3ZSdyZSB1c2luZyBtdWx0aXNhbXBsaW5nKVxuICAgKiBAcGFyYW0gcmVuZGVyUGFzcyAtIGN1cnJlbnQge0BsaW5rIFJlbmRlclBhc3N9XG4gICAqIEBwYXJhbSByZW5kZXJUZXh0dXJlIC0ge0BsaW5rIEdQVVRleHR1cmV9IHRvIHVzZSwgb3IgdGhlIHtAbGluayBjb250ZXh0fSB7QGxpbmsgR1BVVGV4dHVyZSB8IGN1cnJlbnQgdGV4dHVyZX0gaWYgbnVsbFxuICAgKiBAcmV0dXJucyAtIHRoZSB7QGxpbmsgR1BVVGV4dHVyZSB8IGN1cnJlbnQgcmVuZGVyIHRleHR1cmV9XG4gICAqL1xuICBzZXRSZW5kZXJQYXNzQ3VycmVudFRleHR1cmUocmVuZGVyUGFzczogUmVuZGVyUGFzcywgcmVuZGVyVGV4dHVyZTogR1BVVGV4dHVyZSB8IG51bGwgPSBudWxsKSB7XG4gICAgaWYgKCFyZW5kZXJUZXh0dXJlKSB7XG4gICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jb250ZXh0LmdldEN1cnJlbnRUZXh0dXJlKClcbiAgICAgIHJlbmRlclRleHR1cmUubGFiZWwgPSBgJHt0aGlzLnR5cGV9IGNvbnRleHQgY3VycmVudCB0ZXh0dXJlYFxuICAgIH1cblxuICAgIGlmIChyZW5kZXJQYXNzLm9wdGlvbnMuc2FtcGxlQ291bnQgPiAxKSB7XG4gICAgICByZW5kZXJQYXNzLmRlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXS52aWV3ID0gcmVuZGVyUGFzcy52aWV3VGV4dHVyZS50ZXh0dXJlLmNyZWF0ZVZpZXcoe1xuICAgICAgICBsYWJlbDogcmVuZGVyUGFzcy52aWV3VGV4dHVyZS5vcHRpb25zLmxhYmVsICsgJyB2aWV3JyxcbiAgICAgIH0pXG4gICAgICByZW5kZXJQYXNzLmRlc2NyaXB0b3IuY29sb3JBdHRhY2htZW50c1swXS5yZXNvbHZlVGFyZ2V0ID0gcmVuZGVyVGV4dHVyZS5jcmVhdGVWaWV3KHtcbiAgICAgICAgbGFiZWw6IHJlbmRlclRleHR1cmUubGFiZWwgKyAnIHJlc29sdmUgdGFyZ2V0IHZpZXcnLFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyUGFzcy5kZXNjcmlwdG9yLmNvbG9yQXR0YWNobWVudHNbMF0udmlldyA9IHJlbmRlclRleHR1cmUuY3JlYXRlVmlldyh7XG4gICAgICAgIGxhYmVsOiByZW5kZXJUZXh0dXJlLmxhYmVsICsgJyB2aWV3JyxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmVcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBzaW5nbGUge0BsaW5rIENvbXB1dGVQYXNzfVxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICogQHBhcmFtIGNvbXB1dGVQYXNzIC0ge0BsaW5rIENvbXB1dGVQYXNzfVxuICAgKi9cbiAgcmVuZGVyU2luZ2xlQ29tcHV0ZVBhc3MoY29tbWFuZEVuY29kZXI6IEdQVUNvbW1hbmRFbmNvZGVyLCBjb21wdXRlUGFzczogQ29tcHV0ZVBhc3MpIHtcbiAgICBjb25zdCBwYXNzID0gY29tbWFuZEVuY29kZXIuYmVnaW5Db21wdXRlUGFzcygpXG4gICAgY29tcHV0ZVBhc3MucmVuZGVyKHBhc3MpXG4gICAgcGFzcy5lbmQoKVxuXG4gICAgY29tcHV0ZVBhc3MuY29weUJ1ZmZlclRvUmVzdWx0KGNvbW1hbmRFbmNvZGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNpbmdsZSB7QGxpbmsgUmVuZGVyZWRNZXNoIHwgTWVzaH1cbiAgICogQHBhcmFtIGNvbW1hbmRFbmNvZGVyIC0gY3VycmVudCB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9XG4gICAqIEBwYXJhbSBtZXNoIC0ge0BsaW5rIFJlbmRlcmVkTWVzaCB8IE1lc2h9IHRvIHJlbmRlclxuICAgKi9cbiAgcmVuZGVyU2luZ2xlTWVzaChjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIsIG1lc2g6IFJlbmRlcmVkTWVzaCkge1xuICAgIGNvbnN0IHBhc3MgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5yZW5kZXJQYXNzLmRlc2NyaXB0b3IpXG4gICAgbWVzaC5yZW5kZXIocGFzcylcbiAgICBwYXNzLmVuZCgpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGFuIGFycmF5IG9mIG9iamVjdHMgKGVpdGhlciB7QGxpbmsgUmVuZGVyZWRNZXNoIHwgTWVzaGVzfSBvciB7QGxpbmsgQ29tcHV0ZVBhc3N9KSBvbmNlLiBUaGlzIG1ldGhvZCB3b24ndCBjYWxsIGFueSBvZiB0aGUgcmVuZGVyZXIgcmVuZGVyIGhvb2tzIGxpa2Uge0BsaW5rIG9uQmVmb3JlUmVuZGVyfSwge0BsaW5rIG9uQWZ0ZXJSZW5kZXJ9XG4gICAqIEBwYXJhbSBvYmplY3RzIC0gQXJyYXkgb2Yge0BsaW5rIFJlbmRlcmVkTWVzaCB8IE1lc2hlc30gb3Ige0BsaW5rIENvbXB1dGVQYXNzfSB0byByZW5kZXJcbiAgICovXG4gIHJlbmRlck9uY2Uob2JqZWN0czogU2NlbmVPYmplY3RbXSkge1xuICAgIGNvbnN0IGNvbW1hbmRFbmNvZGVyID0gdGhpcy5kZXZpY2U/LmNyZWF0ZUNvbW1hbmRFbmNvZGVyKHtcbiAgICAgIGxhYmVsOiAnUmVuZGVyIG9uY2UgY29tbWFuZCBlbmNvZGVyJyxcbiAgICB9KVxuICAgICF0aGlzLnByb2R1Y3Rpb24gJiYgY29tbWFuZEVuY29kZXIucHVzaERlYnVnR3JvdXAoJ1JlbmRlciBvbmNlIGNvbW1hbmQgZW5jb2RlcicpXG5cbiAgICB0aGlzLnBpcGVsaW5lTWFuYWdlci5yZXNldEN1cnJlbnRQaXBlbGluZSgpXG5cbiAgICBvYmplY3RzLmZvckVhY2goKG9iamVjdCkgPT4ge1xuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIENvbXB1dGVQYXNzKSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2luZ2xlQ29tcHV0ZVBhc3MoY29tbWFuZEVuY29kZXIsIG9iamVjdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyU2luZ2xlTWVzaChjb21tYW5kRW5jb2Rlciwgb2JqZWN0KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAhdGhpcy5wcm9kdWN0aW9uICYmIGNvbW1hbmRFbmNvZGVyLnBvcERlYnVnR3JvdXAoKVxuICAgIGNvbnN0IGNvbW1hbmRCdWZmZXIgPSBjb21tYW5kRW5jb2Rlci5maW5pc2goKVxuICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuXG4gICAgdGhpcy5waXBlbGluZU1hbmFnZXIucmVzZXRDdXJyZW50UGlwZWxpbmUoKVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHRvIGNsZWFyIGEge0BsaW5rIEdQVVJlbmRlcmVyfSBjb250ZW50IHRvIGl0cyB7QGxpbmsgUmVuZGVyUGFzcyNvcHRpb25zLmNsZWFyVmFsdWUgfCBjbGVhciB2YWx1ZX0gYnkgcmVuZGVyaW5nIGFuZCBlbXB0eSBwYXNzLlxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXJcbiAgICovXG4gIGZvcmNlQ2xlYXIoY29tbWFuZEVuY29kZXI/OiBHUFVDb21tYW5kRW5jb2Rlcikge1xuICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY29tbWFuZCBlbmNvZGVyIHByb3ZpZGVkLCB3ZSdsbCBoYXZlIHRvIGNyZWF0ZSBvbmUgYW5kIHN1Ym1pdCBpdCBhZnRlciB0aGUgY29weSBwcm9jZXNzXG4gICAgY29uc3QgaGFzQ29tbWFuZEVuY29kZXIgPSAhIWNvbW1hbmRFbmNvZGVyXG5cbiAgICBpZiAoIWhhc0NvbW1hbmRFbmNvZGVyKSB7XG4gICAgICBjb21tYW5kRW5jb2RlciA9IHRoaXMuZGV2aWNlPy5jcmVhdGVDb21tYW5kRW5jb2Rlcih7IGxhYmVsOiAnRm9yY2UgY2xlYXIgY29tbWFuZCBlbmNvZGVyJyB9KVxuICAgICAgIXRoaXMucHJvZHVjdGlvbiAmJiBjb21tYW5kRW5jb2Rlci5wdXNoRGVidWdHcm91cCgnRm9yY2UgY2xlYXIgY29tbWFuZCBlbmNvZGVyJylcbiAgICB9XG5cbiAgICB0aGlzLnNldFJlbmRlclBhc3NDdXJyZW50VGV4dHVyZSh0aGlzLnJlbmRlclBhc3MpXG4gICAgY29uc3QgcGFzcyA9IGNvbW1hbmRFbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyh0aGlzLnJlbmRlclBhc3MuZGVzY3JpcHRvcilcbiAgICBwYXNzLmVuZCgpXG5cbiAgICBpZiAoIWhhc0NvbW1hbmRFbmNvZGVyKSB7XG4gICAgICAhdGhpcy5wcm9kdWN0aW9uICYmIGNvbW1hbmRFbmNvZGVyLnBvcERlYnVnR3JvdXAoKVxuICAgICAgY29uc3QgY29tbWFuZEJ1ZmZlciA9IGNvbW1hbmRFbmNvZGVyLmZpbmlzaCgpXG4gICAgICB0aGlzLmRldmljZT8ucXVldWUuc3VibWl0KFtjb21tYW5kQnVmZmVyXSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNyZW5kZXIgfCBHUFVEZXZpY2VNYW5hZ2VyIHJlbmRlciBtZXRob2R9IGJlZm9yZSB0aGUge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfSBoYXMgYmVlbiBjcmVhdGVkXG4gICAqL1xuICBvbkJlZm9yZUNvbW1hbmRFbmNvZGVyKCkge1xuICAgIGlmICghdGhpcy5yZWFkeSkgcmV0dXJuXG4gICAgLy8gbm93IHJlbmRlciFcbiAgICB0aGlzLm9uQmVmb3JlQ29tbWFuZEVuY29kZXJDcmVhdGlvbi5leGVjdXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI3JlbmRlciB8IEdQVURldmljZU1hbmFnZXIgcmVuZGVyIG1ldGhvZH0gYWZ0ZXIgdGhlIHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn0gaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIG9uQWZ0ZXJDb21tYW5kRW5jb2RlcigpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy5vbkFmdGVyQ29tbWFuZEVuY29kZXJTdWJtaXNzaW9uLmV4ZWN1dGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBhdCBlYWNoIGRyYXcgY2FsbCB0byByZW5kZXIgb3VyIHNjZW5lIGFuZCBpdHMgY29udGVudFxuICAgKiBAcGFyYW0gY29tbWFuZEVuY29kZXIgLSBjdXJyZW50IHtAbGluayBHUFVDb21tYW5kRW5jb2Rlcn1cbiAgICovXG4gIHJlbmRlcihjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIpIHtcbiAgICBpZiAoIXRoaXMucmVhZHkpIHJldHVyblxuXG4gICAgdGhpcy5fb25CZWZvcmVSZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vbkJlZm9yZVJlbmRlckNhbGxiYWNrKGNvbW1hbmRFbmNvZGVyKVxuICAgIHRoaXMub25CZWZvcmVSZW5kZXJTY2VuZS5leGVjdXRlKGNvbW1hbmRFbmNvZGVyKVxuXG4gICAgdGhpcy5zY2VuZT8ucmVuZGVyKGNvbW1hbmRFbmNvZGVyKVxuXG4gICAgLy8gVE9ETyBub3Qgd29ya2luZ1xuICAgIC8vIGlmICh0aGlzLm9wdGlvbnMubXVsdGlzYW1wbGVkICYmIHRoaXMubXVsdGlzYW1wbGluZ1Bhc3MpIHtcbiAgICAvLyAgIGNvbnN0IHBhc3MgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5tdWx0aXNhbXBsaW5nUGFzcy5kZXNjcmlwdG9yKVxuICAgIC8vICAgcGFzcy5lbmQoKVxuICAgIC8vIH1cblxuICAgIHRoaXMuX29uQWZ0ZXJSZW5kZXJDYWxsYmFjayAmJiB0aGlzLl9vbkFmdGVyUmVuZGVyQ2FsbGJhY2soY29tbWFuZEVuY29kZXIpXG4gICAgdGhpcy5vbkFmdGVyUmVuZGVyU2NlbmUuZXhlY3V0ZShjb21tYW5kRW5jb2RlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgR1BVUmVuZGVyZXJ9IGFuZCBldmVyeXRoaW5nIHRoYXQgbmVlZHMgdG8gYmUgZGVzdHJveWVkIGFzIHdlbGxcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kb21FbGVtZW50Py5kZXN0cm95KClcblxuICAgIC8vIGRlc3Ryb3kgcmVuZGVyIHBhc3Nlc1xuICAgIHRoaXMucmVuZGVyUGFzcz8uZGVzdHJveSgpXG4gICAgdGhpcy5wb3N0UHJvY2Vzc2luZ1Bhc3M/LmRlc3Ryb3koKVxuICAgIC8vdGhpcy5tdWx0aXNhbXBsaW5nUGFzcz8uZGVzdHJveSgpXG5cbiAgICB0aGlzLnJlbmRlclRhcmdldHMuZm9yRWFjaCgocmVuZGVyVGFyZ2V0KSA9PiByZW5kZXJUYXJnZXQuZGVzdHJveSgpKVxuICAgIHRoaXMucmVuZGVyZWRPYmplY3RzLmZvckVhY2goKHNjZW5lT2JqZWN0KSA9PiBzY2VuZU9iamVjdC5yZW1vdmUoKSlcblxuICAgIHRoaXMucmVuZGVyVGV4dHVyZXMuZm9yRWFjaCgodGV4dHVyZSkgPT4gdGV4dHVyZS5kZXN0cm95KCkpXG5cbiAgICB0aGlzLmNvbnRleHQ/LnVuY29uZmlndXJlKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgR1BVUmVuZGVyZXIsIEdQVVJlbmRlcmVyUGFyYW1zLCBQcm9qZWN0ZWRNZXNoLCBSZW5kZXJlZE1lc2gsIFNjZW5lT2JqZWN0IH0gZnJvbSAnLi9HUFVSZW5kZXJlcidcbmltcG9ydCB7IENhbWVyYSwgQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyB9IGZyb20gJy4uL2NhbWVyYS9DYW1lcmEnXG5pbXBvcnQgeyBCdWZmZXJCaW5kaW5nIH0gZnJvbSAnLi4vYmluZGluZ3MvQnVmZmVyQmluZGluZydcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uL2JpbmRHcm91cHMvQmluZEdyb3VwJ1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uL21hdGgvVmVjMydcbmltcG9ydCB7IEFsbG93ZWRCaW5kR3JvdXBzIH0gZnJvbSAnLi4vLi4vdHlwZXMvQmluZEdyb3VwcydcblxuLyoqXG4gKiBQYXJhbWV0ZXJzIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIGV4dGVuZHMgR1BVUmVuZGVyZXJQYXJhbXMge1xuICAvKiogQW4gb2JqZWN0IGRlZmluaW5nIHtAbGluayBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHwgY2FtZXJhIHBlcnNwZWN0aXZlIHBhcmFtZXRlcnN9ICovXG4gIGNhbWVyYTogQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9uc1xufVxuXG4vKipcbiAqIFRoaXMgcmVuZGVyZXIgYWxzbyBjcmVhdGVzIGEge0BsaW5rIENhbWVyYX0gYW5kIGl0cyBhc3NvY2lhdGVkIHtAbGluayBjYW1lcmFCdWZmZXJCaW5kaW5nIHwgYmluZGluZ30gYW5kIHtAbGluayBjYW1lcmFCaW5kR3JvdXAgfCBiaW5kIGdyb3VwfS48YnI+XG4gKiBDYW4gYmUgc2FmZWx5IHVzZWQgdG8gcmVuZGVyIGNvbXB1dGUgcGFzc2VzIGFuZCBtZXNoZXMgaWYgdGhleSBkbyBub3QgbmVlZCB0byBiZSB0aWVkIHRvIHRoZSBET00uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIGZpcnN0LCB3ZSBuZWVkIGEgV2ViR1BVIGRldmljZSwgdGhhdCdzIHdoYXQgR1BVRGV2aWNlTWFuYWdlciBpcyBmb3JcbiAqIGNvbnN0IGdwdURldmljZU1hbmFnZXIgPSBuZXcgR1BVRGV2aWNlTWFuYWdlcih7XG4gKiAgIGxhYmVsOiAnQ3VzdG9tIGRldmljZSBtYW5hZ2VyJyxcbiAqIH0pXG4gKlxuICogLy8gd2UgbmVlZCB0byB3YWl0IGZvciB0aGUgV2ViR1BVIGRldmljZSB0byBiZSBjcmVhdGVkXG4gKiBhd2FpdCBncHVEZXZpY2VNYW5hZ2VyLmluaXQoKVxuICpcbiAqIC8vIHRoZW4gd2UgY2FuIGNyZWF0ZSBhIGNhbWVyYSByZW5kZXJlclxuICogY29uc3QgZ3B1Q2FtZXJhUmVuZGVyZXIgPSBuZXcgR1BVQ2FtZXJhUmVuZGVyZXIoe1xuICogICBkZXZpY2VNYW5hZ2VyOiBncHVEZXZpY2VNYW5hZ2VyLCAvLyB3ZSBuZWVkIHRoZSBXZWJHUFUgZGV2aWNlIHRvIGNyZWF0ZSB0aGUgcmVuZGVyZXIgY29udGV4dFxuICogICBjb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYW52YXMnKSxcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEdQVUNhbWVyYVJlbmRlcmVyIGV4dGVuZHMgR1BVUmVuZGVyZXIge1xuICAvKioge0BsaW5rIENhbWVyYX0gdXNlZCBieSB0aGlzIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlcn0gKi9cbiAgY2FtZXJhOiBDYW1lcmFcbiAgLyoqIHtAbGluayBCdWZmZXJCaW5kaW5nIHwgYmluZGluZ30gaGFuZGxpbmcgdGhlIHtAbGluayBjYW1lcmF9IG1hdHJpY2VzICovXG4gIGNhbWVyYUJ1ZmZlckJpbmRpbmc6IEJ1ZmZlckJpbmRpbmdcbiAgLyoqIHtAbGluayBCaW5kR3JvdXAgfCBiaW5kIGdyb3VwfSBoYW5kbGluZyB0aGUge0BsaW5rIGNhbWVyYUJ1ZmZlckJpbmRpbmcgfCBjYW1lcmEgYnVmZmVyIGJpbmRpbmd9ICovXG4gIGNhbWVyYUJpbmRHcm91cDogQmluZEdyb3VwXG5cbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9ICovXG4gIG9wdGlvbnM6IEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zXG5cbiAgLyoqXG4gICAqIEdQVUNhbWVyYVJlbmRlcmVyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGV2aWNlTWFuYWdlcixcbiAgICBjb250YWluZXIsXG4gICAgcGl4ZWxSYXRpbyA9IDEsXG4gICAgcHJlZmVycmVkRm9ybWF0LFxuICAgIGFscGhhTW9kZSA9ICdwcmVtdWx0aXBsaWVkJyxcbiAgICBtdWx0aXNhbXBsZWQgPSB0cnVlLFxuICAgIHJlbmRlclBhc3MsXG4gICAgY2FtZXJhID0ge30sXG4gIH06IEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgZGV2aWNlTWFuYWdlcixcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBpeGVsUmF0aW8sXG4gICAgICBwcmVmZXJyZWRGb3JtYXQsXG4gICAgICBhbHBoYU1vZGUsXG4gICAgICBtdWx0aXNhbXBsZWQsXG4gICAgICByZW5kZXJQYXNzLFxuICAgIH0pXG5cbiAgICB0aGlzLnR5cGUgPSAnR1BVQ2FtZXJhUmVuZGVyZXInXG5cbiAgICBjYW1lcmEgPSB7IC4uLnsgZm92OiA1MCwgbmVhcjogMC4wMSwgZmFyOiA1MCB9LCAuLi5jYW1lcmEgfVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgY2FtZXJhLFxuICAgIH1cblxuICAgIHRoaXMuc2V0Q2FtZXJhKGNhbWVyYSlcblxuICAgIHRoaXMuc2V0Q2FtZXJhQmluZEdyb3VwQW5kQmluZGluZygpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVEZXZpY2VNYW5hZ2VyLkdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBpcyBsb3N0LlxuICAgKiBSZXNldCBhbGwgb3VyIHNhbXBsZXJzLCBmb3JjZSBhbGwgb3VyIHNjZW5lIG9iamVjdHMgYW5kIGNhbWVyYSBiaW5kIGdyb3VwIHRvIGxvc2UgY29udGV4dC5cbiAgICovXG4gIGxvc2VDb250ZXh0KCkge1xuICAgIHN1cGVyLmxvc2VDb250ZXh0KClcbiAgICAvLyBsb3NlIGNhbWVyYSBiaW5kIGdyb3VwIGNvbnRleHQgYXMgd2VsbFxuICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwLmxvc2VDb250ZXh0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVURldmljZU1hbmFnZXIuR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9IHNob3VsZCBiZSByZXN0b3JlZC5cbiAgICogQ29uZmlndXJlIHRoZSBjb250ZXh0IGFnYWluLCByZXNpemUgdGhlIHtAbGluayBjb3JlL3JlbmRlclBhc3Nlcy9SZW5kZXJUYXJnZXQuUmVuZGVyVGFyZ2V0IHwgcmVuZGVyIHRhcmdldHN9IGFuZCB7QGxpbmsgY29yZS90ZXh0dXJlcy9SZW5kZXJUZXh0dXJlLlJlbmRlclRleHR1cmUgfCByZW5kZXIgdGV4dHVyZXN9LCByZXN0b3JlIG91ciB7QGxpbmsgcmVuZGVyZWRPYmplY3RzIHwgcmVuZGVyZWQgb2JqZWN0c30gY29udGV4dCwgcmUtd3JpdGUgb3VyIHtAbGluayBjYW1lcmFCdWZmZXJCaW5kaW5nIHwgY2FtZXJhIGJ1ZmZlciBiaW5kaW5nfS5cbiAgICogQGFzeW5jXG4gICAqL1xuICBhc3luYyByZXN0b3JlQ29udGV4dCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmcuc2hvdWxkVXBkYXRlID0gdHJ1ZVxuICAgIHJldHVybiBzdXBlci5yZXN0b3JlQ29udGV4dCgpXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgY2FtZXJhfVxuICAgKiBAcGFyYW0gY2FtZXJhUGFyYW1ldGVycyAtIHtAbGluayBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhlIHtAbGluayBjYW1lcmF9XG4gICAqL1xuICBzZXRDYW1lcmEoY2FtZXJhUGFyYW1ldGVyczogQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucykge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5ib3VuZGluZ1JlY3QgPyB0aGlzLmJvdW5kaW5nUmVjdC53aWR0aCA6IDFcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmJvdW5kaW5nUmVjdCA/IHRoaXMuYm91bmRpbmdSZWN0LmhlaWdodCA6IDFcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh7XG4gICAgICBmb3Y6IGNhbWVyYVBhcmFtZXRlcnMuZm92LFxuICAgICAgbmVhcjogY2FtZXJhUGFyYW1ldGVycy5uZWFyLFxuICAgICAgZmFyOiBjYW1lcmFQYXJhbWV0ZXJzLmZhcixcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvLFxuICAgICAgb25NYXRyaWNlc0NoYW5nZWQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5vbkNhbWVyYU1hdHJpY2VzQ2hhbmdlZCgpXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSB7QGxpbmsgUHJvamVjdGVkTWVzaCB8IHByb2plY3RlZCBtZXNoZXN9IHNpemVzIGFuZCBwb3NpdGlvbnMgd2hlbiB0aGUge0BsaW5rIGNhbWVyYX0ge0BsaW5rIENhbWVyYSNwb3NpdGlvbiB8IHBvc2l0aW9ufSBjaGFuZ2VzXG4gICAqL1xuICBvbkNhbWVyYU1hdHJpY2VzQ2hhbmdlZCgpIHtcbiAgICB0aGlzLnVwZGF0ZUNhbWVyYUJpbmRpbmdzKClcblxuICAgIHRoaXMubWVzaGVzLmZvckVhY2goKG1lc2gpID0+IHtcbiAgICAgIGlmICgnbW9kZWxWaWV3TWF0cml4JyBpbiBtZXNoKSB7XG4gICAgICAgIG1lc2guc2hvdWxkVXBkYXRlTWF0cml4U3RhY2soKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB7QGxpbmsgY2FtZXJhQnVmZmVyQmluZGluZyB8IGNhbWVyYSBidWZmZXIgYmluZGluZ30gYW5kIHtAbGluayBjYW1lcmFCaW5kR3JvdXAgfCBjYW1lcmEgYmluZCBncm91cH1cbiAgICovXG4gIHNldENhbWVyYUJpbmRHcm91cEFuZEJpbmRpbmcoKSB7XG4gICAgdGhpcy5jYW1lcmFCdWZmZXJCaW5kaW5nID0gbmV3IEJ1ZmZlckJpbmRpbmcoe1xuICAgICAgbGFiZWw6ICdDYW1lcmEnLFxuICAgICAgbmFtZTogJ2NhbWVyYScsXG4gICAgICB2aXNpYmlsaXR5OiAndmVydGV4JyxcbiAgICAgIHN0cnVjdDoge1xuICAgICAgICBtb2RlbDoge1xuICAgICAgICAgIC8vIGNhbWVyYSBtb2RlbCBtYXRyaXhcbiAgICAgICAgICBuYW1lOiAnbW9kZWwnLFxuICAgICAgICAgIHR5cGU6ICdtYXQ0eDRmJyxcbiAgICAgICAgICB2YWx1ZTogdGhpcy5jYW1lcmEubW9kZWxNYXRyaXgsXG4gICAgICAgICAgb25CZWZvcmVVcGRhdGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhQnVmZmVyQmluZGluZy5pbnB1dHMubW9kZWwudmFsdWUgPSB0aGlzLmNhbWVyYS5tb2RlbE1hdHJpeFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHZpZXc6IHtcbiAgICAgICAgICAvLyBjYW1lcmEgdmlldyBtYXRyaXhcbiAgICAgICAgICBuYW1lOiAndmlldycsXG4gICAgICAgICAgdHlwZTogJ21hdDR4NGYnLFxuICAgICAgICAgIHZhbHVlOiB0aGlzLmNhbWVyYS52aWV3TWF0cml4LFxuICAgICAgICAgIG9uQmVmb3JlVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmcuaW5wdXRzLnZpZXcudmFsdWUgPSB0aGlzLmNhbWVyYS52aWV3TWF0cml4XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvamVjdGlvbjoge1xuICAgICAgICAgIC8vIGNhbWVyYSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgIG5hbWU6ICdwcm9qZWN0aW9uJyxcbiAgICAgICAgICB0eXBlOiAnbWF0NHg0ZicsXG4gICAgICAgICAgdmFsdWU6IHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXgsXG4gICAgICAgICAgb25CZWZvcmVVcGRhdGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhQnVmZmVyQmluZGluZy5pbnB1dHMucHJvamVjdGlvbi52YWx1ZSA9IHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXhcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gbm93IGluaXRpYWxpemUgYmluZCBncm91cFxuICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwID0gbmV3IEJpbmRHcm91cCh0aGlzLCB7XG4gICAgICBsYWJlbDogJ0NhbWVyYSBVbmlmb3JtIGJpbmQgZ3JvdXAnLFxuICAgICAgYmluZGluZ3M6IFt0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmddLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHRoZSB7QGxpbmsgY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9IGJ1ZmZlcnNcbiAgICovXG4gIHNldENhbWVyYUJpbmRHcm91cCgpIHtcbiAgICBpZiAodGhpcy5jYW1lcmFCaW5kR3JvdXAgJiYgdGhpcy5jYW1lcmFCaW5kR3JvdXAuc2hvdWxkQ3JlYXRlQmluZEdyb3VwKSB7XG4gICAgICB0aGlzLmNhbWVyYUJpbmRHcm91cC5zZXRJbmRleCgwKVxuICAgICAgdGhpcy5jYW1lcmFCaW5kR3JvdXAuY3JlYXRlQmluZEdyb3VwKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGVsbCBvdXIge0BsaW5rIGNhbWVyYUJ1ZmZlckJpbmRpbmcgfCBjYW1lcmEgYnVmZmVyIGJpbmRpbmd9IHRoYXQgd2Ugc2hvdWxkIHVwZGF0ZSBpdHMgc3RydWN0XG4gICAqL1xuICB1cGRhdGVDYW1lcmFCaW5kaW5ncygpIHtcbiAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmc/LnNob3VsZFVwZGF0ZUJpbmRpbmcoJ21vZGVsJylcbiAgICB0aGlzLmNhbWVyYUJ1ZmZlckJpbmRpbmc/LnNob3VsZFVwZGF0ZUJpbmRpbmcoJ3ZpZXcnKVxuICAgIHRoaXMuY2FtZXJhQnVmZmVyQmluZGluZz8uc2hvdWxkVXBkYXRlQmluZGluZygncHJvamVjdGlvbicpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBvYmplY3RzICh7QGxpbmsgUmVuZGVyZWRNZXNoIHwgcmVuZGVyZWQgbWVzaGVzfSBvciB7QGxpbmsgY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzLkNvbXB1dGVQYXNzIHwgY29tcHV0ZSBwYXNzZXN9KSB1c2luZyBhIGdpdmVuIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9LCBpbmNsdWRpbmcge0BsaW5rIGNhbWVyYUJpbmRHcm91cCB8IGNhbWVyYSBiaW5kIGdyb3VwfS5cbiAgICogVXNlZnVsIHRvIGtub3cgaWYgYSByZXNvdXJjZSBpcyB1c2VkIGJ5IG11bHRpcGxlIG9iamVjdHMgYW5kIGlmIGl0IGlzIHNhZmUgdG8gZGVzdHJveSBpdCBvciBub3QuXG4gICAqIEBwYXJhbSBiaW5kR3JvdXAgLSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byBjaGVja1xuICAgKi9cbiAgZ2V0T2JqZWN0c0J5QmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpOiB1bmRlZmluZWQgfCBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5kZXZpY2VSZW5kZXJlZE9iamVjdHMuZmlsdGVyKChvYmplY3QpID0+IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIC4uLm9iamVjdC5tYXRlcmlhbC5iaW5kR3JvdXBzLFxuICAgICAgICAuLi5vYmplY3QubWF0ZXJpYWwuaW5wdXRzQmluZEdyb3VwcyxcbiAgICAgICAgLi4ub2JqZWN0Lm1hdGVyaWFsLmNsb25lZEJpbmRHcm91cHMsXG4gICAgICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwLFxuICAgICAgXS5zb21lKChiRykgPT4gYkcudXVpZCA9PT0gYmluZEdyb3VwLnV1aWQpXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBjYW1lcmF9IHBlcnNwZWN0aXZlIG1hdHJpeCBuZXcgcGFyYW1ldGVycyAoZm92LCBuZWFyIHBsYW5lIGFuZCBmYXIgcGxhbmUpXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIENhbWVyYUJhc2VQZXJzcGVjdGl2ZU9wdGlvbnMgfCBwYXJhbWV0ZXJzfSB0byB1c2UgZm9yIHRoZSBwZXJzcGVjdGl2ZVxuICAgKi9cbiAgc2V0UGVyc3BlY3RpdmUoeyBmb3YsIG5lYXIsIGZhciB9OiBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zID0ge30pIHtcbiAgICB0aGlzLmNhbWVyYT8uc2V0UGVyc3BlY3RpdmUoe1xuICAgICAgZm92LFxuICAgICAgbmVhcixcbiAgICAgIGZhcixcbiAgICAgIHdpZHRoOiB0aGlzLmJvdW5kaW5nUmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5ib3VuZGluZ1JlY3QuaGVpZ2h0LFxuICAgICAgcGl4ZWxSYXRpbzogdGhpcy5waXhlbFJhdGlvLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgY2FtZXJhfSB7QGxpbmsgQ2FtZXJhI3Bvc2l0aW9uIHwgcG9zaXRpb259XG4gICAqIEBwYXJhbSBwb3NpdGlvbiAtIG5ldyB7QGxpbmsgQ2FtZXJhI3Bvc2l0aW9uIHwgcG9zaXRpb259XG4gICAqL1xuICBzZXRDYW1lcmFQb3NpdGlvbihwb3NpdGlvbjogVmVjMyA9IG5ldyBWZWMzKDAsIDAsIDEpKSB7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uY29weShwb3NpdGlvbilcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIG91ciB7QGxpbmsgR1BVUmVuZGVyZXIjb25SZXNpemUgfCBHUFVSZW5kZXJlciBvblJlc2l6ZSBtZXRob2R9IGFuZCByZXNpemUgb3VyIHtAbGluayBjYW1lcmF9IGFzIHdlbGxcbiAgICovXG4gIG9uUmVzaXplKCkge1xuICAgIHN1cGVyLm9uUmVzaXplKClcbiAgICB0aGlzLnNldFBlcnNwZWN0aXZlKClcbiAgICB0aGlzLnVwZGF0ZUNhbWVyYUJpbmRpbmdzKClcbiAgfVxuXG4gIC8qIFJFTkRFUiAqL1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNhbWVyYSBtb2RlbCBtYXRyaXgsIGNoZWNrIGlmIHRoZSB7QGxpbmsgY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9IHNob3VsZCBiZSBjcmVhdGVkLCBjcmVhdGUgaXQgaWYgbmVlZGVkIGFuZCB0aGVuIHVwZGF0ZSBpdFxuICAgKi9cbiAgdXBkYXRlQ2FtZXJhKCkge1xuICAgIHRoaXMuY2FtZXJhPy51cGRhdGVNYXRyaXhTdGFjaygpXG4gICAgdGhpcy5zZXRDYW1lcmFCaW5kR3JvdXAoKVxuICAgIHRoaXMuY2FtZXJhQmluZEdyb3VwPy51cGRhdGUoKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNpbmdsZSB7QGxpbmsgUmVuZGVyZWRNZXNoIHwgbWVzaH0gKGJpbmRzIHRoZSB7QGxpbmsgY2FtZXJhQmluZEdyb3VwIHwgY2FtZXJhIGJpbmQgZ3JvdXB9IGlmIG5lZWRlZClcbiAgICogQHBhcmFtIGNvbW1hbmRFbmNvZGVyIC0gY3VycmVudCB7QGxpbmsgR1BVQ29tbWFuZEVuY29kZXJ9XG4gICAqIEBwYXJhbSBtZXNoIC0ge0BsaW5rIFJlbmRlcmVkTWVzaCB8IG1lc2h9IHRvIHJlbmRlclxuICAgKi9cbiAgcmVuZGVyU2luZ2xlTWVzaChjb21tYW5kRW5jb2RlcjogR1BVQ29tbWFuZEVuY29kZXIsIG1lc2g6IFJlbmRlcmVkTWVzaCkge1xuICAgIGNvbnN0IHBhc3MgPSBjb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3ModGhpcy5yZW5kZXJQYXNzLmRlc2NyaXB0b3IpXG5cbiAgICAvLyBiaW5kIGNhbWVyYSBpZiBuZWVkZWRcbiAgICBpZiAobWVzaC5tYXRlcmlhbC5vcHRpb25zLnJlbmRlcmluZy51c2VQcm9qZWN0aW9uKSB7XG4gICAgICBwYXNzLnNldEJpbmRHcm91cCh0aGlzLmNhbWVyYUJpbmRHcm91cC5pbmRleCwgdGhpcy5jYW1lcmFCaW5kR3JvdXAuYmluZEdyb3VwKVxuICAgIH1cblxuICAgIG1lc2gucmVuZGVyKHBhc3MpXG4gICAgcGFzcy5lbmQoKVxuICB9XG5cbiAgLyoqXG4gICAqIHtAbGluayB1cGRhdGVDYW1lcmEgfCBVcGRhdGUgdGhlIGNhbWVyYX0gYW5kIHRoZW4gY2FsbCBvdXIge0BsaW5rIEdQVVJlbmRlcmVyI3JlbmRlciB8IEdQVVJlbmRlcmVyIHJlbmRlciBtZXRob2R9XG4gICAqIEBwYXJhbSBjb21tYW5kRW5jb2RlciAtIGN1cnJlbnQge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfVxuICAgKi9cbiAgcmVuZGVyKGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2Rlcikge1xuICAgIGlmICghdGhpcy5yZWFkeSkgcmV0dXJuXG5cbiAgICB0aGlzLnVwZGF0ZUNhbWVyYSgpXG4gICAgc3VwZXIucmVuZGVyKGNvbW1hbmRFbmNvZGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgb3VyIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jYW1lcmFCaW5kR3JvdXA/LmRlc3Ryb3koKVxuICAgIHN1cGVyLmRlc3Ryb3koKVxuICB9XG59XG4iLCJpbXBvcnQgeyB0aHJvd0Vycm9yLCB0aHJvd1dhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy91dGlscydcbmltcG9ydCB7IGdlbmVyYXRlTWlwcywgUmVuZGVyZXIgfSBmcm9tICcuL3V0aWxzJ1xuaW1wb3J0IHsgU2FtcGxlciB9IGZyb20gJy4uL3NhbXBsZXJzL1NhbXBsZXInXG5pbXBvcnQgeyBQaXBlbGluZU1hbmFnZXIgfSBmcm9tICcuLi9waXBlbGluZXMvUGlwZWxpbmVNYW5hZ2VyJ1xuaW1wb3J0IHsgU2NlbmVPYmplY3QgfSBmcm9tICcuL0dQVVJlbmRlcmVyJ1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmVzL1RleHR1cmUnXG5pbXBvcnQgeyBBbGxvd2VkQmluZEdyb3VwcyB9IGZyb20gJy4uLy4uL3R5cGVzL0JpbmRHcm91cHMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdQVURldmljZU1hbmFnZXJQYXJhbXMge1xuICAvKiogVGhlIGxhYmVsIG9mIHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0sIHVzZWQgdG8gY3JlYXRlIHRoZSB7QGxpbmsgR1BVRGV2aWNlfSBmb3IgZGVidWdnaW5nIHB1cnBvc2UgKi9cbiAgbGFiZWw/OiBzdHJpbmdcbiAgLyoqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHdlJ3JlIHJ1bm5pbmcgdGhlIHByb2R1Y3Rpb24gbW9kZSBvciBub3QuIElmIG5vdCwgdXNlZnVsIHdhcm5pbmdzIGNvdWxkIGJlIGxvZ2dlZCB0byB0aGUgY29uc29sZSAqL1xuICBwcm9kdWN0aW9uPzogYm9vbGVhblxuICAvKiogQ2FsbGJhY2sgdG8gcnVuIGlmIHRoZXJlJ3MgYW55IGVycm9yIHdoaWxlIHRyeWluZyB0byBzZXQgdXAgdGhlIHtAbGluayBHUFVBZGFwdGVyIHwgYWRhcHRlcn0gb3Ige0BsaW5rIEdQVURldmljZSB8IGRldmljZX0gKi9cbiAgb25FcnJvcj86ICgpID0+IHZvaWRcbiAgLyoqIENhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBpcyBsb3N0ICovXG4gIG9uRGV2aWNlTG9zdD86IChpbmZvPzogR1BVRGV2aWNlTG9zdEluZm8pID0+IHZvaWRcbn1cblxuLyoqXG4gKiBSZXNwb25zaWJsZSBmb3IgdGhlIFdlYkdQVSB7QGxpbmsgR1BVQWRhcHRlciB8IGFkYXB0ZXJ9IGFuZCB7QGxpbmsgR1BVRGV2aWNlIHwgZGV2aWNlfSBjcmVhdGlvbnMsIGxvc2luZyBhbmQgcmVzdG9yYXRpb24uXG4gKlxuICogSXQgd2lsbCBjcmVhdGUgYWxsIHRoZSBHUFUgb2JqZWN0cyB0aGF0IG5lZWQgYSB7QGxpbmsgR1BVRGV2aWNlIHwgZGV2aWNlfSB0byBkbyBzbywgYXMgd2VsbCBhcyBhIHtAbGluayBQaXBlbGluZU1hbmFnZXJ9LiBJdCB3aWxsIGFsc28ga2VlcCBhIHRyYWNrIG9mIGFsbCB0aGUge0BsaW5rIFJlbmRlcmVyfSwge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzIHwgYmluZCBncm91cHN9LCB7QGxpbmsgU2FtcGxlcn0sIHtAbGluayBUZXh0dXJlfSBhbmQge0BsaW5rIEdQVUJ1ZmZlciB8IEdQVSBidWZmZXJzfSBjcmVhdGVkLlxuICpcbiAqIFRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gaXMgYWxzbyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIHtAbGluayBHUFVDb21tYW5kQnVmZmVyfSwgcmVuZGVyaW5nIGFsbCB0aGUge0BsaW5rIFJlbmRlcmVyfSBhbmQgdGhlbiBzdWJtaXR0aW5nIHRoZSB7QGxpbmsgR1BVQ29tbWFuZEJ1ZmZlcn0gYXQgZWFjaCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNyZW5kZXIgfCByZW5kZXJ9IGNhbGxzLlxuICovXG5leHBvcnQgY2xhc3MgR1BVRGV2aWNlTWFuYWdlciB7XG4gIC8qKiBOdW1iZXIgb2YgdGltZXMgYSB7QGxpbmsgR1BVRGV2aWNlfSBoYXMgYmVlbiBjcmVhdGVkICovXG4gIGluZGV4OiBudW1iZXJcbiAgLyoqIFRoZSBsYWJlbCBvZiB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9LCB1c2VkIHRvIGNyZWF0ZSB0aGUge0BsaW5rIEdQVURldmljZX0gZm9yIGRlYnVnZ2luZyBwdXJwb3NlICovXG4gIGxhYmVsOiBzdHJpbmdcblxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgd2UncmUgcnVubmluZyB0aGUgcHJvZHVjdGlvbiBtb2RlIG9yIG5vdC4gSWYgbm90LCB1c2VmdWwgd2FybmluZ3MgY291bGQgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlICovXG4gIHByb2R1Y3Rpb246IGJvb2xlYW5cblxuICAvKiogVGhlIG5hdmlnYXRvciB7QGxpbmsgR1BVfSBvYmplY3QgKi9cbiAgZ3B1OiBHUFUgfCB1bmRlZmluZWRcbiAgLyoqIFRoZSBXZWJHUFUge0BsaW5rIEdQVUFkYXB0ZXIgfCBhZGFwdGVyfSB1c2VkICovXG4gIGFkYXB0ZXI6IEdQVUFkYXB0ZXIgfCB2b2lkXG4gIC8qKiBUaGUgV2ViR1BVIHtAbGluayBHUFVBZGFwdGVyIHwgYWRhcHRlcn0gaW5mb3JtYXRpb25zICovXG4gIGFkYXB0ZXJJbmZvczogR1BVQWRhcHRlckluZm8gfCB1bmRlZmluZWRcbiAgLyoqIFRoZSBXZWJHUFUge0BsaW5rIEdQVURldmljZSB8IGRldmljZX0gdXNlZCAqL1xuICBkZXZpY2U6IEdQVURldmljZSB8IHVuZGVmaW5lZFxuICAvKiogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSBpcyByZWFkeSwgaS5lLiBpdHMge0BsaW5rIGFkYXB0ZXJ9IGFuZCB7QGxpbmsgZGV2aWNlfSBoYXZlIGJlZW4gc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgKi9cbiAgcmVhZHk6IGJvb2xlYW5cblxuICAvKiogVGhlIHtAbGluayBQaXBlbGluZU1hbmFnZXJ9IHVzZWQgdG8gY2FjaGUge0BsaW5rIEdQVVJlbmRlclBpcGVsaW5lfSBhbmQge0BsaW5rIEdQVUNvbXB1dGVQaXBlbGluZX0gYW5kIHNldCB0aGVtIG9ubHkgd2hlbiBhcHByb3ByaWF0ZSAqL1xuICBwaXBlbGluZU1hbmFnZXI6IFBpcGVsaW5lTWFuYWdlclxuXG4gIC8qKiBBcnJheSBvZiB7QGxpbmsgUmVuZGVyZXIgfCByZW5kZXJlcnN9IHVzaW5nIHRoYXQge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9ICovXG4gIHJlbmRlcmVyczogUmVuZGVyZXJbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIEFsbG93ZWRCaW5kR3JvdXBzfSAqL1xuICBiaW5kR3JvdXBzOiBBbGxvd2VkQmluZEdyb3Vwc1tdXG4gIC8qKiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXIgY3JlYXRlZCB7QGxpbmsgR1BVQnVmZmVyfSAqL1xuICBidWZmZXJzOiBHUFVCdWZmZXJbXVxuICAvKiogQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3VyIGNyZWF0ZWQge0BsaW5rIFNhbXBsZXJ9ICovXG4gIHNhbXBsZXJzOiBTYW1wbGVyW11cbiAgLyoqIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91ciBjcmVhdGVkIHtAbGluayBUZXh0dXJlfSAqL1xuICB0ZXh0dXJlczogVGV4dHVyZVtdXG4gIC8qKiBBbiBhcnJheSB0byBrZWVwIHRyYWNrIG9mIHRoZSBuZXdseSB1cGxvYWRlZCB7QGxpbmsgVGV4dHVyZSB8IHRleHR1cmVzfSBhbmQgc2V0IHRoZWlyIHtAbGluayBUZXh0dXJlI3NvdXJjZVVwbG9hZGVkIHwgc291cmNlVXBsb2FkZWR9IHByb3BlcnR5ICovXG4gIHRleHR1cmVzUXVldWU6IFRleHR1cmVbXVxuXG4gIC8qKiBDYWxsYmFjayB0byBydW4gaWYgdGhlcmUncyBhbnkgZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHNldCB1cCB0aGUge0BsaW5rIEdQVUFkYXB0ZXIgfCBhZGFwdGVyfSBvciB7QGxpbmsgR1BVRGV2aWNlIHwgZGV2aWNlfSAqL1xuICBvbkVycm9yOiAoKSA9PiB2b2lkXG4gIC8qKiBDYWxsYmFjayB0byBydW4gd2hlbmV2ZXIgdGhlIHtAbGluayBkZXZpY2V9IGlzIGxvc3QgKi9cbiAgb25EZXZpY2VMb3N0OiAoaW5mbz86IEdQVURldmljZUxvc3RJbmZvKSA9PiB2b2lkXG5cbiAgLyoqXG4gICAqIEdQVURldmljZU1hbmFnZXIgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbGFiZWwsXG4gICAgcHJvZHVjdGlvbiA9IGZhbHNlLFxuICAgIG9uRXJyb3IgPSAoKSA9PiB7XG4gICAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFja3MgKi9cbiAgICB9LFxuICAgIG9uRGV2aWNlTG9zdCA9IChpbmZvPzogR1BVRGV2aWNlTG9zdEluZm8pID0+IHtcbiAgICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrcyAqL1xuICAgIH0sXG4gIH06IEdQVURldmljZU1hbmFnZXJQYXJhbXMpIHtcbiAgICB0aGlzLmluZGV4ID0gMFxuICAgIHRoaXMubGFiZWwgPSBsYWJlbCA/PyAnR1BVRGV2aWNlTWFuYWdlciBpbnN0YW5jZSdcbiAgICB0aGlzLnByb2R1Y3Rpb24gPSBwcm9kdWN0aW9uXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlXG5cbiAgICB0aGlzLm9uRXJyb3IgPSBvbkVycm9yXG4gICAgdGhpcy5vbkRldmljZUxvc3QgPSBvbkRldmljZUxvc3RcblxuICAgIHRoaXMuZ3B1ID0gbmF2aWdhdG9yLmdwdVxuXG4gICAgdGhpcy5zZXRQaXBlbGluZU1hbmFnZXIoKVxuICAgIHRoaXMuc2V0RGV2aWNlT2JqZWN0cygpXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgYWRhcHRlcn0gYW5kIHtAbGluayBkZXZpY2V9IGlmIHBvc3NpYmxlXG4gICAqL1xuICBhc3luYyBzZXRBZGFwdGVyQW5kRGV2aWNlKCkge1xuICAgIGF3YWl0IHRoaXMuc2V0QWRhcHRlcigpXG4gICAgYXdhaXQgdGhpcy5zZXREZXZpY2UoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCBvdXIge0BsaW5rIGFkYXB0ZXJ9IGFuZCB7QGxpbmsgZGV2aWNlfSBhbmQgYWxsIHRoZSBhbHJlYWR5IGNyZWF0ZWQge0BsaW5rIHJlbmRlcmVyc30gY29udGV4dHNcbiAgICovXG4gIGFzeW5jIGluaXQoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRBZGFwdGVyQW5kRGV2aWNlKClcblxuICAgIC8vIHNldCBjb250ZXh0XG4gICAgaWYgKHRoaXMuZGV2aWNlKSB7XG4gICAgICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4ge1xuICAgICAgICBpZiAoIXJlbmRlcmVyLmNvbnRleHQpIHtcbiAgICAgICAgICByZW5kZXJlci5zZXRDb250ZXh0KClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgYWRhcHRlcn0gaWYgcG9zc2libGUuXG4gICAqIFRoZSBhZGFwdGVyIHJlcHJlc2VudHMgYSBzcGVjaWZpYyBHUFUuIFNvbWUgZGV2aWNlcyBoYXZlIG11bHRpcGxlIEdQVXMuXG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgc2V0QWRhcHRlcigpIHtcbiAgICBpZiAoIXRoaXMuZ3B1KSB7XG4gICAgICB0aGlzLm9uRXJyb3IoKVxuICAgICAgdGhyb3dFcnJvcihcIkdQVVJlbmRlcmVyOiBXZWJHUFUgaXMgbm90IHN1cHBvcnRlZCBvbiB5b3VyIGJyb3dzZXIvT1MuIE5vICdncHUnIG9iamVjdCBpbiAnbmF2aWdhdG9yJy5cIilcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5hZGFwdGVyID0gYXdhaXQgdGhpcy5ncHU/LnJlcXVlc3RBZGFwdGVyKClcbiAgICAgIDsodGhpcy5hZGFwdGVyIGFzIEdQVUFkYXB0ZXIpPy5yZXF1ZXN0QWRhcHRlckluZm8oKS50aGVuKChpbmZvcykgPT4ge1xuICAgICAgICB0aGlzLmFkYXB0ZXJJbmZvcyA9IGluZm9zXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLm9uRXJyb3IoKVxuICAgICAgdGhyb3dFcnJvcihcIkdQVURldmljZU1hbmFnZXI6IFdlYkdQVSBpcyBub3Qgc3VwcG9ydGVkIG9uIHlvdXIgYnJvd3Nlci9PUy4gJ3JlcXVlc3RBZGFwdGVyJyBmYWlsZWQuXCIpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBvdXIge0BsaW5rIGRldmljZX1cbiAgICogQGFzeW5jXG4gICAqL1xuICBhc3luYyBzZXREZXZpY2UoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGV2aWNlID0gYXdhaXQgKHRoaXMuYWRhcHRlciBhcyBHUFVBZGFwdGVyKT8ucmVxdWVzdERldmljZSh7XG4gICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsICsgJyAnICsgdGhpcy5pbmRleCxcbiAgICAgIH0pXG5cbiAgICAgIGlmICh0aGlzLmRldmljZSkge1xuICAgICAgICB0aGlzLnJlYWR5ID0gdHJ1ZVxuICAgICAgICB0aGlzLmluZGV4KytcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5vbkVycm9yKClcbiAgICAgIHRocm93RXJyb3IoYCR7dGhpcy5sYWJlbH06IFdlYkdQVSBpcyBub3Qgc3VwcG9ydGVkIG9uIHlvdXIgYnJvd3Nlci9PUy4gJ3JlcXVlc3REZXZpY2UnIGZhaWxlZDogJHtlcnJvcn1gKVxuICAgIH1cblxuICAgIHRoaXMuZGV2aWNlPy5sb3N0LnRoZW4oKGluZm8pID0+IHtcbiAgICAgIHRocm93V2FybmluZyhgJHt0aGlzLmxhYmVsfTogV2ViR1BVIGRldmljZSB3YXMgbG9zdDogJHtpbmZvLm1lc3NhZ2V9YClcblxuICAgICAgdGhpcy5sb3NlRGV2aWNlKClcblxuICAgICAgLy8gZG8gbm90IGNhbGwgb25EZXZpY2VMb3N0IGV2ZW50IGlmIHRoZSBkZXZpY2Ugd2FzIGludGVudGlvbmFsbHkgZGVzdHJveWVkXG4gICAgICBpZiAoaW5mby5yZWFzb24gIT09ICdkZXN0cm95ZWQnKSB7XG4gICAgICAgIHRoaXMub25EZXZpY2VMb3N0KGluZm8pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgb3VyIHtAbGluayBwaXBlbGluZU1hbmFnZXIgfCBwaXBlbGluZSBtYW5hZ2VyfVxuICAgKi9cbiAgc2V0UGlwZWxpbmVNYW5hZ2VyKCkge1xuICAgIHRoaXMucGlwZWxpbmVNYW5hZ2VyID0gbmV3IFBpcGVsaW5lTWFuYWdlcigpXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHtAbGluayBkZXZpY2V9IGlzIGxvc3QuXG4gICAqIFJlc2V0IGFsbCBvdXIgcmVuZGVyZXJzXG4gICAqL1xuICBsb3NlRGV2aWNlKCkge1xuICAgIHRoaXMucmVhZHkgPSBmYWxzZVxuXG4gICAgLy8gZmlyc3QgY2xlYW4gYWxsIHNhbXBsZXJzXG4gICAgdGhpcy5zYW1wbGVycy5mb3JFYWNoKChzYW1wbGVyKSA9PiAoc2FtcGxlci5zYW1wbGVyID0gbnVsbCkpXG5cbiAgICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4gcmVuZGVyZXIubG9zZUNvbnRleHQoKSlcblxuICAgIC8vIHJlc2V0IHRoZSBidWZmZXJzIGFycmF5LCBpdCB3b3VsZCBldmVudHVhbGx5IGJlIHJlcG9wdWxhdGVkIHdoaWxlIHJlc3RvcmluZyB0aGUgZGV2aWNlXG4gICAgdGhpcy5idWZmZXJzID0gW11cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUge0BsaW5rIGRldmljZX0gc2hvdWxkIGJlIHJlc3RvcmVkLlxuICAgKiBSZXN0b3JlIGFsbCBvdXIgcmVuZGVyZXJzXG4gICAqL1xuICBhc3luYyByZXN0b3JlRGV2aWNlKCkge1xuICAgIGF3YWl0IHRoaXMuc2V0QWRhcHRlckFuZERldmljZSgpXG5cbiAgICBpZiAodGhpcy5kZXZpY2UpIHtcbiAgICAgIC8vIG5vdyByZWNyZWF0ZSBhbGwgdGhlIHNhbXBsZXJzXG4gICAgICB0aGlzLnNhbXBsZXJzLmZvckVhY2goKHNhbXBsZXIpID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5zYW1wbGVyT3B0aW9ucyB9ID0gc2FtcGxlci5vcHRpb25zXG4gICAgICAgIHNhbXBsZXIuc2FtcGxlciA9IHRoaXMuZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICAgIGxhYmVsOiBzYW1wbGVyLmxhYmVsLFxuICAgICAgICAgIC4uLnNhbXBsZXJPcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgLy8gdGhlbiB0aGUgcmVuZGVyZXJzXG4gICAgICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4gcmVuZGVyZXIucmVzdG9yZUNvbnRleHQoKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFsbCBvYmplY3RzIGFycmF5cyB0aGF0IHdlJ2xsIGtlZXAgdHJhY2sgb2ZcbiAgICovXG4gIHNldERldmljZU9iamVjdHMoKSB7XG4gICAgLy8ga2VlcCB0cmFjayBvZiByZW5kZXJlcnMsIGJpbmQgZ3JvdXBzLCBidWZmZXJzLCBzYW1wbGVycywgdGV4dHVyZXNcbiAgICB0aGlzLnJlbmRlcmVycyA9IFtdXG4gICAgdGhpcy5iaW5kR3JvdXBzID0gW11cbiAgICB0aGlzLmJ1ZmZlcnMgPSBbXVxuICAgIHRoaXMuc2FtcGxlcnMgPSBbXVxuICAgIHRoaXMudGV4dHVyZXMgPSBbXVxuXG4gICAgLy8ga2VlcCB0cmFjayBvZiBhbGwgdGV4dHVyZXMgdGhhdCBhcmUgYmVpbmcgdXBsb2FkZWRcbiAgICB0aGlzLnRleHR1cmVzUXVldWUgPSBbXVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBSZW5kZXJlcn0gdG8gb3VyIHtAbGluayByZW5kZXJlcnN9IGFycmF5XG4gICAqIEBwYXJhbSByZW5kZXJlciAtIHtAbGluayBSZW5kZXJlcn0gdG8gYWRkXG4gICAqL1xuICBhZGRSZW5kZXJlcihyZW5kZXJlcjogUmVuZGVyZXIpIHtcbiAgICB0aGlzLnJlbmRlcmVycy5wdXNoKHJlbmRlcmVyKVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBSZW5kZXJlcn0gZnJvbSBvdXIge0BsaW5rIHJlbmRlcmVyc30gYXJyYXlcbiAgICogQHBhcmFtIHJlbmRlcmVyIC0ge0BsaW5rIFJlbmRlcmVyfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVJlbmRlcmVyKHJlbmRlcmVyOiBSZW5kZXJlcikge1xuICAgIHRoaXMucmVuZGVyZXJzID0gdGhpcy5yZW5kZXJlcnMuZmlsdGVyKChyKSA9PiByLnV1aWQgIT09IHJlbmRlcmVyLnV1aWQpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgcmVuZGVyZWQgb2JqZWN0cyAoaS5lLiBjb21wdXRlIHBhc3NlcywgbWVzaGVzLCBwaW5nIHBvbmcgcGxhbmVzIGFuZCBzaGFkZXIgcGFzc2VzKSBjcmVhdGVkIGJ5IHRoaXMge0BsaW5rIEdQVURldmljZU1hbmFnZXJ9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGRldmljZVJlbmRlcmVkT2JqZWN0cygpOiBTY2VuZU9iamVjdFtdIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcnMubWFwKChyZW5kZXJlcikgPT4gcmVuZGVyZXIucmVuZGVyZWRPYmplY3RzKS5mbGF0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byBvdXIge0BsaW5rIGJpbmRHcm91cHMgfCBiaW5kIGdyb3VwcyBhcnJheX1cbiAgICogQHBhcmFtIGJpbmRHcm91cCAtIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IHRvIGFkZFxuICAgKi9cbiAgYWRkQmluZEdyb3VwKGJpbmRHcm91cDogQWxsb3dlZEJpbmRHcm91cHMpIHtcbiAgICBpZiAoIXRoaXMuYmluZEdyb3Vwcy5maW5kKChiRykgPT4gYkcudXVpZCA9PT0gYmluZEdyb3VwLnV1aWQpKSB7XG4gICAgICB0aGlzLmJpbmRHcm91cHMucHVzaChiaW5kR3JvdXApXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHtAbGluayBBbGxvd2VkQmluZEdyb3VwcyB8IGJpbmQgZ3JvdXB9IGZyb20gb3VyIHtAbGluayBiaW5kR3JvdXBzIHwgYmluZCBncm91cHMgYXJyYXl9XG4gICAqIEBwYXJhbSBiaW5kR3JvdXAgLSB7QGxpbmsgQWxsb3dlZEJpbmRHcm91cHMgfCBiaW5kIGdyb3VwfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUJpbmRHcm91cChiaW5kR3JvdXA6IEFsbG93ZWRCaW5kR3JvdXBzKSB7XG4gICAgdGhpcy5iaW5kR3JvdXBzID0gdGhpcy5iaW5kR3JvdXBzLmZpbHRlcigoYkcpID0+IGJHLnV1aWQgIT09IGJpbmRHcm91cC51dWlkKVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHtAbGluayBHUFVCdWZmZXJ9IHRvIG91ciBvdXIge0BsaW5rIGJ1ZmZlcnN9IGFycmF5XG4gICAqIEBwYXJhbSBidWZmZXIgLSB7QGxpbmsgR1BVQnVmZmVyfSB0byBhZGRcbiAgICovXG4gIGFkZEJ1ZmZlcihidWZmZXI6IEdQVUJ1ZmZlcikge1xuICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgR1BVQnVmZmVyfSBmcm9tIG91ciB7QGxpbmsgYnVmZmVyc30gYXJyYXlcbiAgICogQHBhcmFtIGJ1ZmZlciAtIHtAbGluayBHUFVCdWZmZXJ9IHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gW29yaWdpbmFsTGFiZWxdIC0gb3JpZ2luYWwge0BsaW5rIEdQVUJ1ZmZlcn0gbGFiZWwgaW4gY2FzZSB0aGUgYnVmZmVyIGhhcyBiZWVuIHN3YXBwZWQgYW5kIGl0cyBsYWJlbCBoYXMgY2hhbmdlZFxuICAgKi9cbiAgcmVtb3ZlQnVmZmVyKGJ1ZmZlcjogR1BVQnVmZmVyLCBvcmlnaW5hbExhYmVsPzogc3RyaW5nKSB7XG4gICAgaWYgKGJ1ZmZlcikge1xuICAgICAgdGhpcy5idWZmZXJzID0gdGhpcy5idWZmZXJzLmZpbHRlcigoYikgPT4ge1xuICAgICAgICByZXR1cm4gIShiLmxhYmVsID09PSAob3JpZ2luYWxMYWJlbCA/PyBidWZmZXIubGFiZWwpICYmIGIuc2l6ZSA9PT0gYnVmZmVyLnNpemUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSB7QGxpbmsgU2FtcGxlcn0gdG8gb3VyIHtAbGluayBzYW1wbGVyc30gYXJyYXlcbiAgICogQHBhcmFtIHNhbXBsZXIgLSB7QGxpbmsgU2FtcGxlcn0gdG8gYWRkXG4gICAqL1xuICBhZGRTYW1wbGVyKHNhbXBsZXI6IFNhbXBsZXIpIHtcbiAgICB0aGlzLnNhbXBsZXJzLnB1c2goc2FtcGxlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgU2FtcGxlcn0gZnJvbSBvdXIge0BsaW5rIHNhbXBsZXJzfSBhcnJheVxuICAgKiBAcGFyYW0gc2FtcGxlciAtIHtAbGluayBTYW1wbGVyfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVNhbXBsZXIoc2FtcGxlcjogU2FtcGxlcikge1xuICAgIHRoaXMuc2FtcGxlcnMgPSB0aGlzLnNhbXBsZXJzLmZpbHRlcigocykgPT4gcy51dWlkICE9PSBzYW1wbGVyLnV1aWQpXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEge0BsaW5rIFRleHR1cmV9IHRvIG91ciB7QGxpbmsgdGV4dHVyZXN9IGFycmF5XG4gICAqIEBwYXJhbSB0ZXh0dXJlIC0ge0BsaW5rIFRleHR1cmV9IHRvIGFkZFxuICAgKi9cbiAgYWRkVGV4dHVyZSh0ZXh0dXJlOiBUZXh0dXJlKSB7XG4gICAgdGhpcy50ZXh0dXJlcy5wdXNoKHRleHR1cmUpXG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkIGEge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmV9IHRvIHRoZSBHUFVcbiAgICogQHBhcmFtIHRleHR1cmUgLSB7QGxpbmsgVGV4dHVyZX0gY2xhc3Mgb2JqZWN0IHdpdGggdGhlIHtAbGluayBUZXh0dXJlI3RleHR1cmUgfCB0ZXh0dXJlfSB0byB1cGxvYWRcbiAgICovXG4gIHVwbG9hZFRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgIGlmICh0ZXh0dXJlLnNvdXJjZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5kZXZpY2U/LnF1ZXVlLmNvcHlFeHRlcm5hbEltYWdlVG9UZXh0dXJlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZTogdGV4dHVyZS5zb3VyY2UgYXMgR1BVSW1hZ2VDb3B5RXh0ZXJuYWxJbWFnZVNvdXJjZSxcbiAgICAgICAgICAgIGZsaXBZOiB0ZXh0dXJlLm9wdGlvbnMuZmxpcFksXG4gICAgICAgICAgfSBhcyBHUFVJbWFnZUNvcHlFeHRlcm5hbEltYWdlLFxuICAgICAgICAgIHsgdGV4dHVyZTogdGV4dHVyZS50ZXh0dXJlIGFzIEdQVVRleHR1cmUsIHByZW11bHRpcGxpZWRBbHBoYTogdGV4dHVyZS5vcHRpb25zLnByZW11bHRpcGxpZWRBbHBoYSB9LFxuICAgICAgICAgIHsgd2lkdGg6IHRleHR1cmUuc2l6ZS53aWR0aCwgaGVpZ2h0OiB0ZXh0dXJlLnNpemUuaGVpZ2h0IH1cbiAgICAgICAgKVxuXG4gICAgICAgIGlmICgodGV4dHVyZS50ZXh0dXJlIGFzIEdQVVRleHR1cmUpLm1pcExldmVsQ291bnQgPiAxKSB7XG4gICAgICAgICAgZ2VuZXJhdGVNaXBzKHRoaXMuZGV2aWNlLCB0ZXh0dXJlLnRleHR1cmUgYXMgR1BVVGV4dHVyZSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0byBvdXIgdGV4dHVyZXMgcXVldWUgYXJyYXkgdG8gdHJhY2sgd2hlbiBpdCBoYXMgYmVlbiB1cGxvYWRlZFxuICAgICAgICB0aGlzLnRleHR1cmVzUXVldWUucHVzaCh0ZXh0dXJlKVxuICAgICAgfSBjYXRjaCAoeyBtZXNzYWdlIH0pIHtcbiAgICAgICAgdGhyb3dFcnJvcihgR1BVRGV2aWNlTWFuYWdlcjogY291bGQgbm90IHVwbG9hZCB0ZXh0dXJlOiAke3RleHR1cmUub3B0aW9ucy5uYW1lfSBiZWNhdXNlOiAke21lc3NhZ2V9YClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXZpY2U/LnF1ZXVlLndyaXRlVGV4dHVyZShcbiAgICAgICAgeyB0ZXh0dXJlOiB0ZXh0dXJlLnRleHR1cmUgYXMgR1BVVGV4dHVyZSB9LFxuICAgICAgICBuZXcgVWludDhBcnJheSh0ZXh0dXJlLm9wdGlvbnMucGxhY2Vob2xkZXJDb2xvciksXG4gICAgICAgIHsgYnl0ZXNQZXJSb3c6IHRleHR1cmUuc2l6ZS53aWR0aCAqIDQgfSxcbiAgICAgICAgeyB3aWR0aDogdGV4dHVyZS5zaXplLndpZHRoLCBoZWlnaHQ6IHRleHR1cmUuc2l6ZS5oZWlnaHQgfVxuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB7QGxpbmsgVGV4dHVyZX0gZnJvbSBvdXIge0BsaW5rIHRleHR1cmVzfSBhcnJheVxuICAgKiBAcGFyYW0gdGV4dHVyZSAtIHtAbGluayBUZXh0dXJlfSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZVRleHR1cmUodGV4dHVyZTogVGV4dHVyZSkge1xuICAgIHRoaXMudGV4dHVyZXMgPSB0aGlzLnRleHR1cmVzLmZpbHRlcigodCkgPT4gdC51dWlkICE9PSB0ZXh0dXJlLnV1aWQpXG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIGV2ZXJ5dGhpbmc6XG4gICAqIC0gY2FsbCBhbGwgb3VyIHtAbGluayByZW5kZXJlcnN9IHtAbGluayBjb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlci5HUFVSZW5kZXJlciNvbkJlZm9yZUNvbW1hbmRFbmNvZGVyIHwgb25CZWZvcmVDb21tYW5kRW5jb2Rlcn0gY2FsbGJhY2tzXG4gICAqIC0gY3JlYXRlIGEge0BsaW5rIEdQVUNvbW1hbmRFbmNvZGVyfVxuICAgKiAtIHJlbmRlciBhbGwgb3VyIHtAbGluayByZW5kZXJlcnN9XG4gICAqIC0gc3VibWl0IG91ciB7QGxpbmsgR1BVQ29tbWFuZEJ1ZmZlcn1cbiAgICogLSB1cGxvYWQge0BsaW5rIFRleHR1cmUjdGV4dHVyZSB8IHRleHR1cmVzfSB0aGF0IGRvIG5vdCBoYXZlIGEgcGFyZW50TWVzaFxuICAgKiAtIGVtcHR5IG91ciB7QGxpbmsgdGV4dHVyZXNRdWV1ZX0gYXJyYXlcbiAgICogLSBjYWxsIGFsbCBvdXIge0BsaW5rIHJlbmRlcmVyc30ge0BsaW5rIGNvcmUvcmVuZGVyZXJzL0dQVVJlbmRlcmVyLkdQVVJlbmRlcmVyI29uQWZ0ZXJDb21tYW5kRW5jb2RlciB8IG9uQWZ0ZXJDb21tYW5kRW5jb2Rlcn0gY2FsbGJhY2tzXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSByZXR1cm5cblxuICAgIHRoaXMucmVuZGVyZXJzLmZvckVhY2goKHJlbmRlcmVyKSA9PiByZW5kZXJlci5vbkJlZm9yZUNvbW1hbmRFbmNvZGVyKCkpXG5cbiAgICBjb25zdCBjb21tYW5kRW5jb2RlciA9IHRoaXMuZGV2aWNlPy5jcmVhdGVDb21tYW5kRW5jb2Rlcih7IGxhYmVsOiB0aGlzLmxhYmVsICsgJyBjb21tYW5kIGVuY29kZXInIH0pXG4gICAgIXRoaXMucHJvZHVjdGlvbiAmJiBjb21tYW5kRW5jb2Rlci5wdXNoRGVidWdHcm91cCh0aGlzLmxhYmVsICsgJyBjb21tYW5kIGVuY29kZXI6IG1haW4gcmVuZGVyIGxvb3AnKVxuXG4gICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnJlbmRlcihjb21tYW5kRW5jb2RlcikpXG5cbiAgICAhdGhpcy5wcm9kdWN0aW9uICYmIGNvbW1hbmRFbmNvZGVyLnBvcERlYnVnR3JvdXAoKVxuICAgIGNvbnN0IGNvbW1hbmRCdWZmZXIgPSBjb21tYW5kRW5jb2Rlci5maW5pc2goKVxuICAgIHRoaXMuZGV2aWNlPy5xdWV1ZS5zdWJtaXQoW2NvbW1hbmRCdWZmZXJdKVxuXG4gICAgLy8gaGFuZGxlIHRleHR1cmVzXG4gICAgLy8gZmlyc3QgY2hlY2sgaWYgbWVkaWEgdGV4dHVyZXMgd2l0aG91dCBwYXJlbnRNZXNoIG5lZWQgdG8gYmUgdXBsb2FkZWRcbiAgICB0aGlzLnRleHR1cmVzXG4gICAgICAuZmlsdGVyKCh0ZXh0dXJlKSA9PiAhdGV4dHVyZS5wYXJlbnRNZXNoICYmIHRleHR1cmUuc291cmNlTG9hZGVkICYmICF0ZXh0dXJlLnNvdXJjZVVwbG9hZGVkKVxuICAgICAgLmZvckVhY2goKHRleHR1cmUpID0+IHRoaXMudXBsb2FkVGV4dHVyZSh0ZXh0dXJlKSlcblxuICAgIC8vIG5vIG5lZWQgdG8gdXNlIGRldmljZS5xdWV1ZS5vblN1Ym1pdHRlZFdvcmtEb25lXG4gICAgLy8gYXMgW0thaSBOaW5vbWl5YV0oaHR0cHM6Ly9naXRodWIuY29tL2thaW5pbm8weCkgc3RhdGVkOlxuICAgIC8vIFwiQW55dGhpbmcgeW91IHN1Ym1pdCgpIGFmdGVyIHRoZSBjb3B5RXh0ZXJuYWxJbWFnZVRvVGV4dHVyZSgpIGlzIGd1YXJhbnRlZWQgdG8gc2VlIHRoZSByZXN1bHQgb2YgdGhhdCBjYWxsLlwiXG4gICAgdGhpcy50ZXh0dXJlc1F1ZXVlLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgIHRleHR1cmUuc291cmNlVXBsb2FkZWQgPSB0cnVlXG4gICAgfSlcblxuICAgIC8vIGNsZWFyIHRleHR1cmUgcXVldWVcbiAgICB0aGlzLnRleHR1cmVzUXVldWUgPSBbXVxuXG4gICAgdGhpcy5yZW5kZXJlcnMuZm9yRWFjaCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLm9uQWZ0ZXJDb21tYW5kRW5jb2RlcigpKVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSBhbmQgaXRzIHtAbGluayByZW5kZXJlcnN9XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZGV2aWNlPy5kZXN0cm95KClcbiAgICB0aGlzLmRldmljZSA9IG51bGxcblxuICAgIHRoaXMucmVuZGVyZXJzLmZvckVhY2goKHJlbmRlcmVyKSA9PiByZW5kZXJlci5kZXN0cm95KCkpXG5cbiAgICAvLyBub3cgY2xlYXIgZXZlcnl0aGluZyB0aGF0IGNvdWxkIGhhdmUgYmVlbiBsZWZ0IGJlaGluZFxuICAgIHRoaXMuYmluZEdyb3Vwcy5mb3JFYWNoKChiaW5kR3JvdXApID0+IGJpbmRHcm91cC5kZXN0cm95KCkpXG4gICAgdGhpcy5idWZmZXJzLmZvckVhY2goKGJ1ZmZlcikgPT4gYnVmZmVyPy5kZXN0cm95KCkpXG5cbiAgICB0aGlzLnRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHRleHR1cmUuZGVzdHJveSgpKVxuXG4gICAgdGhpcy5zZXREZXZpY2VPYmplY3RzKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgR1BVQ2FtZXJhUmVuZGVyZXIsIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXInXG5pbXBvcnQgeyBET01Qcm9qZWN0ZWRNZXNoIH0gZnJvbSAnLi4vLi4vY29yZS9yZW5kZXJlcnMvR1BVUmVuZGVyZXInXG5cbi8qKlxuICogVGhpcyByZW5kZXJlciBqdXN0IGV4dGVuZHMgdGhlIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlcn0gYnkga2VlcGluZyB0cmFjayBvZiBhbGwgdGhlIGNyZWF0ZWQge0BsaW5rIGN1cnRhaW5zL21lc2hlcy9ET01NZXNoLkRPTU1lc2ggfCBET00gTWVzaGVzfVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiAvLyBmaXJzdCwgd2UgbmVlZCBhIFdlYkdQVSBkZXZpY2UsIHRoYXQncyB3aGF0IEdQVURldmljZU1hbmFnZXIgaXMgZm9yXG4gKiBjb25zdCBncHVEZXZpY2VNYW5hZ2VyID0gbmV3IEdQVURldmljZU1hbmFnZXIoe1xuICogICBsYWJlbDogJ0N1c3RvbSBkZXZpY2UgbWFuYWdlcicsXG4gKiB9KVxuICpcbiAqIC8vIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIFdlYkdQVSBkZXZpY2UgdG8gYmUgY3JlYXRlZFxuICogYXdhaXQgZ3B1RGV2aWNlTWFuYWdlci5pbml0KClcbiAqXG4gKiAvLyB0aGVuIHdlIGNhbiBjcmVhdGUgYSBjdXJ0YWlucyByZW5kZXJlclxuICogY29uc3QgZ3B1Q3VydGFpbnNSZW5kZXJlciA9IG5ldyBHUFVDdXJ0YWluc1JlbmRlcmVyKHtcbiAqICAgZGV2aWNlTWFuYWdlcjogZ3B1RGV2aWNlTWFuYWdlciwgLy8gd2UgbmVlZCB0aGUgV2ViR1BVIGRldmljZSB0byBjcmVhdGUgdGhlIHJlbmRlcmVyIGNvbnRleHRcbiAqICAgY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzJyksXG4gKiB9KVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBHUFVDdXJ0YWluc1JlbmRlcmVyIGV4dGVuZHMgR1BVQ2FtZXJhUmVuZGVyZXIge1xuICAvKiogQWxsIGNyZWF0ZWQge0BsaW5rIGN1cnRhaW5zL21lc2hlcy9ET01NZXNoLkRPTU1lc2ggfCBET00gTWVzaGVzfSBhbmQge0BsaW5rIGN1cnRhaW5zL21lc2hlcy9QbGFuZS5QbGFuZSB8IHBsYW5lc30gKi9cbiAgZG9tTWVzaGVzOiBET01Qcm9qZWN0ZWRNZXNoW11cblxuICAvKipcbiAgICogR1BVQ3VydGFpbnNSZW5kZXJlciBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyB8IHBhcmFtZXRlcnN9IHVzZWQgdG8gY3JlYXRlIHRoaXMge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9XG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGV2aWNlTWFuYWdlcixcbiAgICBjb250YWluZXIsXG4gICAgcGl4ZWxSYXRpbyA9IDEsXG4gICAgcHJlZmVycmVkRm9ybWF0LFxuICAgIGFscGhhTW9kZSA9ICdwcmVtdWx0aXBsaWVkJyxcbiAgICBtdWx0aXNhbXBsZWQgPSB0cnVlLFxuICAgIHJlbmRlclBhc3MsXG4gICAgY2FtZXJhLFxuICB9OiBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcykge1xuICAgIHN1cGVyKHtcbiAgICAgIGRldmljZU1hbmFnZXIsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwaXhlbFJhdGlvLFxuICAgICAgcHJlZmVycmVkRm9ybWF0LFxuICAgICAgYWxwaGFNb2RlLFxuICAgICAgcmVuZGVyUGFzcyxcbiAgICAgIG11bHRpc2FtcGxlZCxcbiAgICAgIGNhbWVyYSxcbiAgICB9IGFzIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zKVxuXG4gICAgdGhpcy50eXBlID0gJ0dQVUN1cnRhaW5zUmVuZGVyZXInXG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlciNkb21NZXNoZXMgfCBkb21NZXNoZXN9IHRvIG91ciB0cmFja2VkIGVsZW1lbnRzXG4gICAqL1xuICBzZXRSZW5kZXJlck9iamVjdHMoKSB7XG4gICAgc3VwZXIuc2V0UmVuZGVyZXJPYmplY3RzKClcblxuICAgIHRoaXMuZG9tTWVzaGVzID0gW11cbiAgfVxufVxuIiwiaW1wb3J0IHsgRE9NUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL0RPTS9ET01FbGVtZW50J1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgU2Nyb2xsTWFuYWdlcn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JvbGxNYW5hZ2VyUGFyYW1zIHtcbiAgLyoqIEN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uICovXG4gIHNjcm9sbD86IERPTVBvc2l0aW9uXG4gIC8qKiBMYXN0IHNjcm9sbCBkZWx0YXMgKi9cbiAgZGVsdGE/OiBET01Qb3NpdGlvblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIFNjcm9sbE1hbmFnZXJ9IHNob3VsZCBsaXN0ZW4gdG8gdGhlIHdpbmRvdyBzY3JvbGwgZXZlbnQgb3Igbm90ICovXG4gIHNob3VsZFdhdGNoPzogYm9vbGVhblxuICAvKiogQ2FsbGJhY2sgdG8gZXhlY3V0ZSBlYWNoIHRpbWUgdGhlIHtAbGluayBTY3JvbGxNYW5hZ2VyI3Njcm9sbCB8IHNjcm9sbH0gdmFsdWVzIGNoYW5nZSAqL1xuICBvblNjcm9sbD86IChkZWx0YT86IERPTVBvc2l0aW9uKSA9PiB2b2lkXG59XG5cbi8qKlxuICogVXNlZCB0byBrZWVwIHRyYWNrIG9mIG91ciBzY3JvbGwgcG9zaXRpb24sIHNjcm9sbCBkZWx0YXMgYW5kIHRyaWdnZXIgYW4gb25TY3JvbGwgY2FsbGJhY2suPGJyPlxuICogQ291bGQgZWl0aGVyIGxpc3RlbiB0byB0aGUgbmF0aXZlIHNjcm9sbCBldmVudCBvciBiZSBob29rZWQgdG8gYW55IHNjcm9sbCAobmF0dXJhbCBvciB2aXJ0dWFsKSBzY3JvbGwgZXZlbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFNjcm9sbE1hbmFnZXIge1xuICAvKiogQ3VycmVudCBzY3JvbGwgcG9zaXRpb24gKi9cbiAgc2Nyb2xsOiBET01Qb3NpdGlvblxuICAvKiogTGFzdCBzY3JvbGwgZGVsdGFzICovXG4gIGRlbHRhOiBET01Qb3NpdGlvblxuICAvKiogV2hldGhlciB0aGUge0BsaW5rIFNjcm9sbE1hbmFnZXJ9IHNob3VsZCBsaXN0ZW4gdG8gdGhlIHdpbmRvdyBzY3JvbGwgZXZlbnQgb3Igbm90ICovXG4gIHNob3VsZFdhdGNoOiBib29sZWFuXG4gIC8qKiBDYWxsYmFjayB0byBleGVjdXRlIGVhY2ggdGltZSB0aGUge0BsaW5rIHNjcm9sbH0gdmFsdWVzIGNoYW5nZSAqL1xuICBvblNjcm9sbDogKGRlbHRhPzogRE9NUG9zaXRpb24pID0+IHZvaWRcblxuICAvKipcbiAgICogU2Nyb2xsTWFuYWdlciBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcGFyYW1ldGVycyAtIHtAbGluayBTY3JvbGxNYW5hZ2VyUGFyYW1zIHwgcGFyYW1ldGVyc30gdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgU2Nyb2xsTWFuYWdlcn1cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBzY3JvbGwgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICBkZWx0YSA9IHsgeDogMCwgeTogMCB9LFxuICAgIHNob3VsZFdhdGNoID0gdHJ1ZSxcbiAgICBvblNjcm9sbCA9IChkZWx0YTogRE9NUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfSkgPT4ge1xuICAgICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgICB9LFxuICB9OiBTY3JvbGxNYW5hZ2VyUGFyYW1zID0ge30pIHtcbiAgICB0aGlzLnNjcm9sbCA9IHNjcm9sbFxuICAgIHRoaXMuZGVsdGEgPSBkZWx0YVxuXG4gICAgdGhpcy5zaG91bGRXYXRjaCA9IHNob3VsZFdhdGNoXG5cbiAgICB0aGlzLm9uU2Nyb2xsID0gb25TY3JvbGxcblxuICAgIGlmICh0aGlzLnNob3VsZFdhdGNoKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5zZXRTY3JvbGwuYmluZCh0aGlzKSwgeyBwYXNzaXZlOiB0cnVlIH0pXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCBieSB0aGUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyXG4gICAqL1xuICBzZXRTY3JvbGwoKSB7XG4gICAgdGhpcy51cGRhdGVTY3JvbGxWYWx1ZXMoeyB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6IHdpbmRvdy5wYWdlWU9mZnNldCB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHNjcm9sbCBtYW5hZ2VyIFggYW5kIFkgc2Nyb2xsIHZhbHVlcyBhcyB3ZWxsIGFzIGxhc3QgWCBhbmQgWSBkZWx0YXNcbiAgICogSW50ZXJuYWxseSBjYWxsZWQgYnkgdGhlIHNjcm9sbCBldmVudCBsaXN0ZW5lclxuICAgKiBDb3VsZCBiZSBjYWxsZWQgZXh0ZXJuYWxseSBhcyB3ZWxsIGlmIHRoZSB1c2VyIHdhbnRzIHRvIGhhbmRsZSB0aGUgc2Nyb2xsIGJ5IGhpbXNlbGZcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgY29yZS9ET00vRE9NRWxlbWVudC5ET01Qb3NpdGlvbiB8IHNjcm9sbCB2YWx1ZXN9XG4gICAqL1xuICB1cGRhdGVTY3JvbGxWYWx1ZXMoeyB4LCB5IH06IERPTVBvc2l0aW9uKSB7XG4gICAgLy8gZ2V0IG91ciBzY3JvbGwgZGVsdGEgdmFsdWVzXG4gICAgY29uc3QgbGFzdFNjcm9sbCA9IHRoaXMuc2Nyb2xsXG4gICAgdGhpcy5zY3JvbGwgPSB7IHgsIHkgfVxuICAgIHRoaXMuZGVsdGEgPSB7XG4gICAgICB4OiBsYXN0U2Nyb2xsLnggLSB0aGlzLnNjcm9sbC54LFxuICAgICAgeTogbGFzdFNjcm9sbC55IC0gdGhpcy5zY3JvbGwueSxcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vblNjcm9sbCkge1xuICAgICAgdGhpcy5vblNjcm9sbCh0aGlzLmRlbHRhKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciBzY3JvbGwgbWFuYWdlciAoanVzdCByZW1vdmUgb3VyIGV2ZW50IGxpc3RuZXIgaWYgaXQgaGFkIGJlZW4gYWRkZWQgcHJldmlvdXNseSlcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkV2F0Y2gpIHtcbiAgICAgIC8vIHBhc3NpdmUgdHJpZ2dlcnMgYSB0eXBlc2NyaXB0IGVycm9yXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMyOTEyI2lzc3VlY29tbWVudC01MjIxNDI5NjlcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNldFNjcm9sbC5iaW5kKHRoaXMpLCB7IHBhc3NpdmU6IHRydWUgfSBhcyBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyAmXG4gICAgICAgIEV2ZW50TGlzdGVuZXJPcHRpb25zKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgR1BVQ3VydGFpbnNSZW5kZXJlciB9IGZyb20gJy4vcmVuZGVyZXJzL0dQVUN1cnRhaW5zUmVuZGVyZXInXG5pbXBvcnQgeyBTY3JvbGxNYW5hZ2VyIH0gZnJvbSAnLi4vdXRpbHMvU2Nyb2xsTWFuYWdlcidcbmltcG9ydCB7IHJlc2l6ZU1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9SZXNpemVNYW5hZ2VyJ1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uL21hdGgvVmVjMydcbmltcG9ydCB7IFBpbmdQb25nUGxhbmUgfSBmcm9tICcuL21lc2hlcy9QaW5nUG9uZ1BsYW5lJ1xuaW1wb3J0IHsgU2hhZGVyUGFzcyB9IGZyb20gJy4uL2NvcmUvcmVuZGVyUGFzc2VzL1NoYWRlclBhc3MnXG5pbXBvcnQgeyBHUFVSZW5kZXJlciwgR1BVUmVuZGVyZXJQYXJhbXMsIFByb2plY3RlZE1lc2ggfSBmcm9tICcuLi9jb3JlL3JlbmRlcmVycy9HUFVSZW5kZXJlcidcbmltcG9ydCB7IERPTU1lc2ggfSBmcm9tICcuL21lc2hlcy9ET01NZXNoJ1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tICcuL21lc2hlcy9QbGFuZSdcbmltcG9ydCB7IENvbXB1dGVQYXNzIH0gZnJvbSAnLi4vY29yZS9jb21wdXRlUGFzc2VzL0NvbXB1dGVQYXNzJ1xuaW1wb3J0IHsgQ2FtZXJhLCBDYW1lcmFCYXNlUGVyc3BlY3RpdmVPcHRpb25zIH0gZnJvbSAnLi4vY29yZS9jYW1lcmEvQ2FtZXJhJ1xuaW1wb3J0IHsgRE9NRWxlbWVudEJvdW5kaW5nUmVjdCwgRE9NRWxlbWVudFBhcmFtcywgRE9NUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL0RPTS9ET01FbGVtZW50J1xuaW1wb3J0IHsgR1BVQ2FtZXJhUmVuZGVyZXIsIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIH0gZnJvbSAnLi4vY29yZS9yZW5kZXJlcnMvR1BVQ2FtZXJhUmVuZGVyZXInXG5pbXBvcnQgeyBHUFVEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi4vY29yZS9yZW5kZXJlcnMvR1BVRGV2aWNlTWFuYWdlcidcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vY29yZS9yZW5kZXJlcnMvdXRpbHMnXG5cbi8qKlxuICogT3B0aW9ucyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBHUFVDdXJ0YWluc31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHUFVDdXJ0YWluc09wdGlvbnMgZXh0ZW5kcyBPbWl0PEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zLCAnZGV2aWNlTWFuYWdlcic+IHtcbiAgLyoqIFdoZXRoZXIge0BsaW5rIEdQVUN1cnRhaW5zfSBzaG91bGQgY3JlYXRlIGl0cyBvd24gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGxvb3AgdG8gcmVuZGVyIG9yIG5vdCAqL1xuICBhdXRvUmVuZGVyPzogYm9vbGVhblxuICAvKiogV2hldGhlciB7QGxpbmsgR1BVQ3VydGFpbnN9IHNob3VsZCBoYW5kbGUgYWxsIHJlc2l6aW5nIGJ5IGl0c2VsZiBvciBub3QgKi9cbiAgYXV0b1Jlc2l6ZT86IGJvb2xlYW5cbiAgLyoqIFdoZXRoZXIge0BsaW5rIEdQVUN1cnRhaW5zfSBzaG91bGQgbGlzdGVuIHRvIHNjcm9sbCBldmVudCBvciBub3QgKi9cbiAgd2F0Y2hTY3JvbGw/OiBib29sZWFuXG4gIC8qKiBGbGFnIGluZGljYXRpbmcgd2hldGhlciB3ZSdyZSBydW5uaW5nIHRoZSBwcm9kdWN0aW9uIG1vZGUgb3Igbm90LiBJZiBub3QsIHVzZWZ1bCB3YXJuaW5ncyBjb3VsZCBiZSBsb2dnZWQgdG8gdGhlIGNvbnNvbGUgKi9cbiAgcHJvZHVjdGlvbjogR1BVRGV2aWNlTWFuYWdlclsncHJvZHVjdGlvbiddXG59XG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBHUFVDdXJ0YWluc31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHUFVDdXJ0YWluc1BhcmFtcyBleHRlbmRzIFBhcnRpYWw8T21pdDxHUFVDdXJ0YWluc09wdGlvbnMsICdjb250YWluZXInPj4ge1xuICAvKioge0BsaW5rIEhUTUxFbGVtZW50fSBvciBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIHtAbGluayBIVE1MRWxlbWVudH0gc2VsZWN0b3IgdGhhdCB3aWxsIGhvbGQgdGhlIFdlYkdQVSB7QGxpbmsgSFRNTENhbnZhc0VsZW1lbnR9LiBDb3VsZCBiZSBzZXQgbGF0ZXIgaWYgbm90IHNwZWNpZmllZC4gKi9cbiAgY29udGFpbmVyPzogc3RyaW5nIHwgSFRNTEVsZW1lbnQgfCBudWxsXG59XG5cbi8qKlxuICogVXNlZCBhcyBhIGdsb2JhbCBjbGFzcyB0byBjcmVhdGUgYSB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0sIGNyZWF0ZSBhbGwgb2JqZWN0cyB0aGF0IG5lZWQgYSByZWZlcmVuY2UgdG8gYSByZW5kZXJlciwgbGlzdGVuIHRvIHZhcmlvdXMgZXZlbnRzIHN1Y2ggYXMgc2Nyb2xsIGFuZCByZXNpemUgYW5kIHJlbmRlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogLy8gc2V0IG91ciBtYWluIEdQVUN1cnRhaW5zIGluc3RhbmNlXG4gKiBjb25zdCBncHVDdXJ0YWlucyA9IG5ldyBHUFVDdXJ0YWlucyh7XG4gKiAgIGNvbnRhaW5lcjogJyNjYW52YXMnIC8vIHNlbGVjdG9yIG9mIG91ciBXZWJHUFUgY2FudmFzIGNvbnRhaW5lclxuICogfSlcbiAqXG4gKiAvLyBzZXQgdGhlIEdQVSBkZXZpY2VcbiAqIC8vIG5vdGUgdGhpcyBpcyBhc3luY2hyb25vdXNcbiAqIGF3YWl0IGdwdUN1cnRhaW5zLnNldERldmljZSgpXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEdQVUN1cnRhaW5zIHtcbiAgLyoqIFRoZSB0eXBlIG9mIHRoaXMge0BsaW5rIEdQVUN1cnRhaW5zfSAqL1xuICB0eXBlOiBzdHJpbmdcbiAgLyoqIE9wdGlvbnMgdXNlZCB0byBjcmVhdGUgdGhpcyB7QGxpbmsgR1BVQ3VydGFpbnN9ICovXG4gIG9wdGlvbnM6IEdQVUN1cnRhaW5zT3B0aW9uc1xuICAvKioge0BsaW5rIEhUTUxFbGVtZW50fSB0aGF0IHdpbGwgaG9sZCB0aGUgV2ViR1BVIHtAbGluayBIVE1MQ2FudmFzRWxlbWVudH0gKi9cbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudFxuXG4gIC8qKiB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn0gdXNlZCB0byBoYW5kbGUgdGhlIHtAbGluayBHUFVBZGFwdGVyfSBhbmQge0BsaW5rIEdQVURldmljZX0gKi9cbiAgZGV2aWNlTWFuYWdlcjogR1BVRGV2aWNlTWFuYWdlclxuXG4gIC8qKiBUaW55IHNjcm9sbCBldmVudCBsaXN0ZW5lciB3cmFwcGVyICovXG4gIHNjcm9sbE1hbmFnZXI6IFNjcm9sbE1hbmFnZXJcblxuICAvKiogUmVxdWVzdCBhbmltYXRpb24gZnJhbWUgY2FsbGJhY2sgcmV0dXJuZWQgaWQgaWYgdXNlZCAqL1xuICBhbmltYXRpb25GcmFtZUlEOiBudWxsIHwgbnVtYmVyXG5cbiAgLy8gY2FsbGJhY2tzIC8gZXZlbnRzXG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uUmVuZGVyfSBjYWxsYmFjayAqL1xuICBfb25SZW5kZXJDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uU2Nyb2xsfSBjYWxsYmFjayAqL1xuICBfb25TY3JvbGxDYWxsYmFjazogKCkgPT4gdm9pZCA9ICgpID0+IHtcbiAgICAvKiBhbGxvdyBlbXB0eSBjYWxsYmFjayAqL1xuICB9XG4gIC8qKiBmdW5jdGlvbiBhc3NpZ25lZCB0byB0aGUge0BsaW5rIG9uRXJyb3J9IGNhbGxiYWNrICovXG4gIF9vbkVycm9yQ2FsbGJhY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7XG4gICAgLyogYWxsb3cgZW1wdHkgY2FsbGJhY2sgKi9cbiAgfVxuICAvKiogZnVuY3Rpb24gYXNzaWduZWQgdG8gdGhlIHtAbGluayBvbkNvbnRleHRMb3N0fSBjYWxsYmFjayAqL1xuICBfb25Db250ZXh0TG9zdENhbGxiYWNrOiAoaW5mbz86IEdQVURldmljZUxvc3RJbmZvKSA9PiB2b2lkID0gKCkgPT4ge1xuICAgIC8qIGFsbG93IGVtcHR5IGNhbGxiYWNrICovXG4gIH1cblxuICAvKipcbiAgICogR1BVQ3VydGFpbnMgY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR1BVQ3VydGFpbnNQYXJhbXMgfCBwYXJhbWV0ZXJzfSB1c2VkIHRvIGNyZWF0ZSB0aGlzIHtAbGluayBHUFVDdXJ0YWluc31cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250YWluZXIsXG4gICAgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID8/IDEsXG4gICAgcHJlZmVycmVkRm9ybWF0LFxuICAgIGFscGhhTW9kZSA9ICdwcmVtdWx0aXBsaWVkJyxcbiAgICBwcm9kdWN0aW9uID0gZmFsc2UsXG4gICAgbXVsdGlzYW1wbGVkID0gdHJ1ZSxcbiAgICByZW5kZXJQYXNzLFxuICAgIGNhbWVyYSxcbiAgICBhdXRvUmVuZGVyID0gdHJ1ZSxcbiAgICBhdXRvUmVzaXplID0gdHJ1ZSxcbiAgICB3YXRjaFNjcm9sbCA9IHRydWUsXG4gIH06IEdQVUN1cnRhaW5zUGFyYW1zID0ge30pIHtcbiAgICB0aGlzLnR5cGUgPSAnQ3VydGFpbnNHUFUnXG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBjb250YWluZXIsXG4gICAgICBwaXhlbFJhdGlvLFxuICAgICAgY2FtZXJhLFxuICAgICAgcHJvZHVjdGlvbixcbiAgICAgIHByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGFscGhhTW9kZSxcbiAgICAgIG11bHRpc2FtcGxlZCxcbiAgICAgIHJlbmRlclBhc3MsXG4gICAgICBhdXRvUmVuZGVyLFxuICAgICAgYXV0b1Jlc2l6ZSxcbiAgICAgIHdhdGNoU2Nyb2xsLFxuICAgIH1cblxuICAgIHRoaXMuc2V0RGV2aWNlTWFuYWdlcigpXG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICB0aGlzLnNldENvbnRhaW5lcihjb250YWluZXIpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIGNvbnRhaW5lcn1cbiAgICogQHBhcmFtIGNvbnRhaW5lciAtIHtAbGluayBIVE1MRWxlbWVudH0gb3Igc3RyaW5nIHJlcHJlc2VudGluZyBhbiB7QGxpbmsgSFRNTEVsZW1lbnR9IHNlbGVjdG9yIHRvIHVzZVxuICAgKi9cbiAgc2V0Q29udGFpbmVyKGNvbnRhaW5lcjogRE9NRWxlbWVudFBhcmFtc1snZWxlbWVudCddKSB7XG4gICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdjdXJ0YWlucy1ncHUtY2FudmFzJylcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpXG5cbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2N1cnRhaW5zLWdwdS1jYW52YXMnKVxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKVxuICAgICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID0gY29udGFpbmVyIGFzIEhUTUxFbGVtZW50XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID0gY29udGFpbmVyIGFzIEhUTUxFbGVtZW50XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5jb250YWluZXIgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyIGFzIEhUTUxFbGVtZW50XG5cbiAgICB0aGlzLnNldEN1cnRhaW5zKClcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGRlZmF1bHQge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXIgfCByZW5kZXJlcn1cbiAgICovXG4gIHNldE1haW5SZW5kZXJlcigpIHtcbiAgICB0aGlzLmNyZWF0ZUN1cnRhaW5zUmVuZGVyZXIoe1xuICAgICAgZGV2aWNlTWFuYWdlcjogdGhpcy5kZXZpY2VNYW5hZ2VyLFxuICAgICAgLy8gVE9ETyAuLi50aGlzLm9wdGlvbnM/XG4gICAgICBjb250YWluZXI6IHRoaXMub3B0aW9ucy5jb250YWluZXIsXG4gICAgICBwaXhlbFJhdGlvOiB0aGlzLm9wdGlvbnMucGl4ZWxSYXRpbyxcbiAgICAgIHByZWZlcnJlZEZvcm1hdDogdGhpcy5vcHRpb25zLnByZWZlcnJlZEZvcm1hdCxcbiAgICAgIGFscGhhTW9kZTogdGhpcy5vcHRpb25zLmFscGhhTW9kZSxcbiAgICAgIG11bHRpc2FtcGxlZDogdGhpcy5vcHRpb25zLm11bHRpc2FtcGxlZCxcbiAgICAgIHJlbmRlclBhc3M6IHRoaXMub3B0aW9ucy5yZW5kZXJQYXNzLFxuICAgICAgY2FtZXJhOiB0aGlzLm9wdGlvbnMuY2FtZXJhLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUGF0Y2ggdGhlIG9wdGlvbnMgd2l0aCBkZWZhdWx0IHZhbHVlcyBiZWZvcmUgY3JlYXRpbmcgYSB7QGxpbmsgUmVuZGVyZXJ9XG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0gcGFyYW1ldGVycyB0byBwYXRjaFxuICAgKi9cbiAgcGF0Y2hSZW5kZXJlck9wdGlvbnM8VCBleHRlbmRzIEdQVVJlbmRlcmVyUGFyYW1zIHwgR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXM+KHBhcmFtZXRlcnM6IFQpOiBUIHtcbiAgICBpZiAocGFyYW1ldGVycy5waXhlbFJhdGlvID09PSB1bmRlZmluZWQpIHBhcmFtZXRlcnMucGl4ZWxSYXRpbyA9IHRoaXMub3B0aW9ucy5waXhlbFJhdGlvXG5cbiAgICByZXR1cm4gcGFyYW1ldGVyc1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgR1BVUmVuZGVyZXJ9IGluc3RhbmNlXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVVJlbmRlcmVyUGFyYW1zIHwgcGFyYW1ldGVyc30gdG8gdXNlXG4gICAqL1xuICBjcmVhdGVSZW5kZXJlcihwYXJhbWV0ZXJzOiBHUFVSZW5kZXJlclBhcmFtcyk6IEdQVVJlbmRlcmVyIHtcbiAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXRjaFJlbmRlcmVyT3B0aW9ucyhwYXJhbWV0ZXJzKVxuXG4gICAgcmV0dXJuIG5ldyBHUFVSZW5kZXJlcih7IC4uLnBhcmFtZXRlcnMsIGRldmljZU1hbmFnZXI6IHRoaXMuZGV2aWNlTWFuYWdlciB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJ9IGluc3RhbmNlXG4gICAqIEBwYXJhbSBwYXJhbWV0ZXJzIC0ge0BsaW5rIEdQVUNhbWVyYVJlbmRlcmVyUGFyYW1zIHwgcGFyYW1ldGVyc30gdG8gdXNlXG4gICAqL1xuICBjcmVhdGVDYW1lcmFSZW5kZXJlcihwYXJhbWV0ZXJzOiBHUFVDYW1lcmFSZW5kZXJlclBhcmFtcyk6IEdQVUNhbWVyYVJlbmRlcmVyIHtcbiAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXRjaFJlbmRlcmVyT3B0aW9ucyhwYXJhbWV0ZXJzKVxuXG4gICAgcmV0dXJuIG5ldyBHUFVDYW1lcmFSZW5kZXJlcih7IC4uLnBhcmFtZXRlcnMsIGRldmljZU1hbmFnZXI6IHRoaXMuZGV2aWNlTWFuYWdlciB9KVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlcn0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXMgfCBwYXJhbWV0ZXJzfSB0byB1c2VcbiAgICovXG4gIGNyZWF0ZUN1cnRhaW5zUmVuZGVyZXIocGFyYW1ldGVyczogR1BVQ2FtZXJhUmVuZGVyZXJQYXJhbXMpOiBHUFVDdXJ0YWluc1JlbmRlcmVyIHtcbiAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXRjaFJlbmRlcmVyT3B0aW9ucyhwYXJhbWV0ZXJzKVxuXG4gICAgcmV0dXJuIG5ldyBHUFVDdXJ0YWluc1JlbmRlcmVyKHsgLi4ucGFyYW1ldGVycywgZGV2aWNlTWFuYWdlcjogdGhpcy5kZXZpY2VNYW5hZ2VyIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IG91ciB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAgICovXG4gIHNldERldmljZU1hbmFnZXIoKSB7XG4gICAgdGhpcy5kZXZpY2VNYW5hZ2VyID0gbmV3IEdQVURldmljZU1hbmFnZXIoe1xuICAgICAgbGFiZWw6ICdHUFVDdXJ0YWlucyBkZWZhdWx0IGRldmljZScsXG4gICAgICBwcm9kdWN0aW9uOiB0aGlzLm9wdGlvbnMucHJvZHVjdGlvbixcbiAgICAgIG9uRXJyb3I6ICgpID0+XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX29uRXJyb3JDYWxsYmFjayAmJiB0aGlzLl9vbkVycm9yQ2FsbGJhY2soKVxuICAgICAgICB9LCAwKSxcbiAgICAgIG9uRGV2aWNlTG9zdDogKGluZm8pID0+IHRoaXMuX29uQ29udGV4dExvc3RDYWxsYmFjayAmJiB0aGlzLl9vbkNvbnRleHRMb3N0Q2FsbGJhY2soaW5mbyksXG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGNyZWF0ZWQge0BsaW5rIFJlbmRlcmVyfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCByZW5kZXJlcnMoKTogUmVuZGVyZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGV2aWNlTWFuYWdlci5yZW5kZXJlcnNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRlZmF1bHQge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IGNyZWF0ZWRcbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcmVuZGVyZXIoKTogR1BVQ3VydGFpbnNSZW5kZXJlciB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzWzBdIGFzIEdQVUN1cnRhaW5zUmVuZGVyZXJcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNhZGFwdGVyIHwgYWRhcHRlcn0gYW5kIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyI2RldmljZSB8IGRldmljZX0gaWYgcG9zc2libGUsIHRoZW4gc2V0IGFsbCBjcmVhdGVkIHtAbGluayBSZW5kZXJlcn0gY29udGV4dHNcbiAgICovXG4gIGFzeW5jIHNldERldmljZSgpIHtcbiAgICBhd2FpdCB0aGlzLmRldmljZU1hbmFnZXIuaW5pdCgpXG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZSB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjYWRhcHRlciB8IGFkYXB0ZXJ9IGFuZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9XG4gICAqIEBhc3luY1xuICAgKi9cbiAgYXN5bmMgcmVzdG9yZUNvbnRleHQoKSB7XG4gICAgYXdhaXQgdGhpcy5kZXZpY2VNYW5hZ2VyLnJlc3RvcmVEZXZpY2UoKVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFyaW91cyBldmVudCBsaXN0ZW5lcnMsIHNldCB0aGUge0BsaW5rIEdQVUN1cnRhaW5zUmVuZGVyZXJ9IGFuZCBzdGFydCByZW5kZXJpbmcgaWYgbmVlZGVkXG4gICAqL1xuICBzZXRDdXJ0YWlucygpIHtcbiAgICB0aGlzLmluaXRFdmVudHMoKVxuXG4gICAgdGhpcy5zZXRNYWluUmVuZGVyZXIoKVxuXG4gICAgLy8gb25seSBpZiBhdXRvIHJlbmRlclxuICAgIGlmICh0aGlzLm9wdGlvbnMuYXV0b1JlbmRlcikge1xuICAgICAgdGhpcy5hbmltYXRlKClcbiAgICB9XG4gIH1cblxuICAvKiBSRU5ERVJFUiBUUkFDS0VEIE9CSkVDVFMgKi9cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgUGluZ1BvbmdQbGFuZX1cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcGluZ1BvbmdQbGFuZXMoKTogUGluZ1BvbmdQbGFuZVtdIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcnM/Lm1hcCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnBpbmdQb25nUGxhbmVzKS5mbGF0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBTaGFkZXJQYXNzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzaGFkZXJQYXNzZXMoKTogU2hhZGVyUGFzc1tdIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcnM/Lm1hcCgocmVuZGVyZXIpID0+IHJlbmRlcmVyLnNoYWRlclBhc3NlcykuZmxhdCgpXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCB0aGUgY3JlYXRlZCB7QGxpbmsgUHJvamVjdGVkTWVzaCB8IHByb2plY3RlZCBtZXNoZXN9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IG1lc2hlcygpOiBQcm9qZWN0ZWRNZXNoW10ge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVycz8ubWFwKChyZW5kZXJlcikgPT4gcmVuZGVyZXIubWVzaGVzKS5mbGF0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBET01NZXNoIHwgRE9NIE1lc2hlc30gKGluY2x1ZGluZyB7QGxpbmsgUGxhbmUgfCBwbGFuZXN9KVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBkb21NZXNoZXMoKTogRE9NTWVzaFtdIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlcnNcbiAgICAgID8uZmlsdGVyKChyZW5kZXJlcikgPT4gcmVuZGVyZXIgaW5zdGFuY2VvZiBHUFVDdXJ0YWluc1JlbmRlcmVyKVxuICAgICAgLm1hcCgocmVuZGVyZXI6IEdQVUN1cnRhaW5zUmVuZGVyZXIpID0+IHJlbmRlcmVyLmRvbU1lc2hlcylcbiAgICAgIC5mbGF0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHRoZSBjcmVhdGVkIHtAbGluayBQbGFuZSB8IHBsYW5lc31cbiAgICogQHJlYWRvbmx5XG4gICAqL1xuICBnZXQgcGxhbmVzKCk6IFBsYW5lW10ge1xuICAgIHJldHVybiB0aGlzLmRvbU1lc2hlcy5maWx0ZXIoKGRvbU1lc2gpID0+IGRvbU1lc2ggaW5zdGFuY2VvZiBQbGFuZSkgYXMgUGxhbmVbXVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgdGhlIGNyZWF0ZWQge0BsaW5rIENvbXB1dGVQYXNzIHwgY29tcHV0ZSBwYXNzZXN9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGNvbXB1dGVQYXNzZXMoKTogQ29tcHV0ZVBhc3NbXSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXJzPy5tYXAoKHJlbmRlcmVyKSA9PiByZW5kZXJlci5jb21wdXRlUGFzc2VzKS5mbGF0KClcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyI2NhbWVyYSB8IGRlZmF1bHQgR1BVQ3VydGFpbnNSZW5kZXJlciBjYW1lcmF9XG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IGNhbWVyYSgpOiBDYW1lcmEge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyPy5jYW1lcmFcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyI3NldFBlcnNwZWN0aXZlIHwgZGVmYXVsdCBHUFVDdXJ0YWluc1JlbmRlcmVyIGNhbWVyYX0gcGVyc3BlY3RpdmVcbiAgICogQHBhcmFtIHBhcmFtZXRlcnMgLSB7QGxpbmsgQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyB8IHBhcmFtZXRlcnN9IHRvIHVzZSBmb3IgdGhlIHBlcnNwZWN0aXZlXG4gICAqL1xuICBzZXRQZXJzcGVjdGl2ZSh7IGZvdiA9IDUwLCBuZWFyID0gMC4wMSwgZmFyID0gNTAgfTogQ2FtZXJhQmFzZVBlcnNwZWN0aXZlT3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5yZW5kZXJlcj8uc2V0UGVyc3BlY3RpdmUoeyBmb3YsIG5lYXIsIGZhciB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZGVmYXVsdCB7QGxpbmsgR1BVQ3VydGFpbnNSZW5kZXJlciNzZXRQZXJzcGVjdGl2ZSB8IGRlZmF1bHQgR1BVQ3VydGFpbnNSZW5kZXJlciBjYW1lcmF9IHtAbGluayBDYW1lcmEjcG9zaXRpb24gfCBwb3NpdGlvbn1cbiAgICogQHBhcmFtIHBvc2l0aW9uIC0gbmV3IHtAbGluayBDYW1lcmEjcG9zaXRpb24gfCBwb3NpdGlvbn1cbiAgICovXG4gIHNldENhbWVyYVBvc2l0aW9uKHBvc2l0aW9uOiBWZWMzID0gbmV3IFZlYzMoMCwgMCwgMSkpIHtcbiAgICB0aGlzLnJlbmRlcmVyPy5zZXRDYW1lcmFQb3NpdGlvbihwb3NpdGlvbilcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgb3VyIHtAbGluayBHUFVDdXJ0YWluc1JlbmRlcmVyI3NldFBlcnNwZWN0aXZlIHwgZGVmYXVsdCBHUFVDdXJ0YWluc1JlbmRlcmVyIGJvdW5kaW5nIHJlY3RhbmdsZX1cbiAgICovXG4gIGdldCBib3VuZGluZ1JlY3QoKTogRE9NRWxlbWVudEJvdW5kaW5nUmVjdCB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXI/LmJvdW5kaW5nUmVjdFxuICB9XG5cbiAgLyogU0NST0xMICovXG5cbiAgLyoqXG4gICAqIFNldCB0aGUge0BsaW5rIHNjcm9sbE1hbmFnZXJ9XG4gICAqL1xuICBpbml0U2Nyb2xsKCkge1xuICAgIHRoaXMuc2Nyb2xsTWFuYWdlciA9IG5ldyBTY3JvbGxNYW5hZ2VyKHtcbiAgICAgIC8vIGluaXQgdmFsdWVzXG4gICAgICBzY3JvbGw6IHtcbiAgICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICB5OiB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICB9LFxuICAgICAgZGVsdGE6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMCxcbiAgICAgIH0sXG4gICAgICBzaG91bGRXYXRjaDogdGhpcy5vcHRpb25zLndhdGNoU2Nyb2xsLFxuICAgICAgb25TY3JvbGw6IChkZWx0YSkgPT4gdGhpcy51cGRhdGVTY3JvbGwoZGVsdGEpLFxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGFsbCB7QGxpbmsgRE9NTWVzaCN1cGRhdGVTY3JvbGxQb3NpdGlvbiB8IERPTU1lc2ggc2Nyb2xsIHBvc2l0aW9uc31cbiAgICogQHBhcmFtIGRlbHRhIC0gbGFzdCB7QGxpbmsgU2Nyb2xsTWFuYWdlciNkZWx0YSB8IHNjcm9sbCBkZWx0YSB2YWx1ZXN9XG4gICAqL1xuICB1cGRhdGVTY3JvbGwoZGVsdGE6IERPTVBvc2l0aW9uID0geyB4OiAwLCB5OiAwIH0pIHtcbiAgICB0aGlzLmRvbU1lc2hlcy5mb3JFYWNoKChtZXNoKSA9PiB7XG4gICAgICBpZiAobWVzaC5kb21FbGVtZW50KSB7XG4gICAgICAgIG1lc2gudXBkYXRlU2Nyb2xsUG9zaXRpb24oZGVsdGEpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuX29uU2Nyb2xsQ2FsbGJhY2sgJiYgdGhpcy5fb25TY3JvbGxDYWxsYmFjaygpXG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIG91ciB7QGxpbmsgU2Nyb2xsTWFuYWdlciNzY3JvbGwgfCBzY3JvbGxNYW5hZ2VyIHNjcm9sbCB2YWx1ZXN9LiBDYWxsZWQgZWFjaCB0aW1lIHRoZSBzY3JvbGwgaGFzIGNoYW5nZWQgaWYge0BsaW5rIEdQVUN1cnRhaW5zI29wdGlvbnMud2F0Y2hTY3JvbGwgfCB3YXRjaFNjcm9sbCBvcHRpb259IGlzIHNldCB0byB0cnVlLiBDb3VsZCBiZSBjYWxsZWQgZXh0ZXJuYWxseSBhcyB3ZWxsLlxuICAgKiBAcGFyYW0gc2Nyb2xsIC0gbmV3IHtAbGluayBET01Qb3NpdGlvbiB8IHNjcm9sbCB2YWx1ZXN9XG4gICAqL1xuICB1cGRhdGVTY3JvbGxWYWx1ZXMoc2Nyb2xsOiBET01Qb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9KSB7XG4gICAgdGhpcy5zY3JvbGxNYW5hZ2VyLnVwZGF0ZVNjcm9sbFZhbHVlcyhzY3JvbGwpXG4gIH1cblxuICAvKipcbiAgICogR2V0IG91ciB7QGxpbmsgU2Nyb2xsTWFuYWdlciNkZWx0YSB8IHNjcm9sbE1hbmFnZXIgZGVsdGEgdmFsdWVzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzY3JvbGxEZWx0YSgpOiBET01Qb3NpdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsTWFuYWdlci5kZWx0YVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBvdXIge0BsaW5rIFNjcm9sbE1hbmFnZXIjc2Nyb2xsIHwgc2Nyb2xsTWFuYWdlciBzY3JvbGwgdmFsdWVzfVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzY3JvbGxWYWx1ZXMoKTogRE9NUG9zaXRpb24ge1xuICAgIHJldHVybiB0aGlzLnNjcm9sbE1hbmFnZXIuc2Nyb2xsXG4gIH1cblxuICAvKiBFVkVOVCBMSVNURU5FUlMgKi9cblxuICAvKipcbiAgICogU2V0IHRoZSByZXNpemUgYW5kIHNjcm9sbCBldmVudCBsaXN0ZW5lcnNcbiAgICovXG4gIGluaXRFdmVudHMoKSB7XG4gICAgcmVzaXplTWFuYWdlci51c2VPYnNlcnZlcih0aGlzLm9wdGlvbnMuYXV0b1Jlc2l6ZSlcblxuICAgIHRoaXMuaW5pdFNjcm9sbCgpXG4gIH1cblxuICAvKiBFVkVOVFMgKi9cblxuICAvKipcbiAgICogQ2FsbGVkIGF0IGVhY2ggcmVuZGVyIGZyYW1lXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBhdCBlYWNoIHJlbmRlclxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gICAqL1xuICBvblJlbmRlcihjYWxsYmFjazogKCkgPT4gdm9pZCk6IEdQVUN1cnRhaW5zIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSB0aGUge0BsaW5rIFNjcm9sbE1hbmFnZXIjc2Nyb2xsIHwgc2Nyb2xsTWFuYWdlciBzY3JvbGwgdmFsdWVzfSBjaGFuZ2VkXG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBlYWNoIHRpbWUgdGhlIHtAbGluayBTY3JvbGxNYW5hZ2VyI3Njcm9sbCB8IHNjcm9sbE1hbmFnZXIgc2Nyb2xsIHZhbHVlc30gY2hhbmdlZFxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gICAqL1xuICBvblNjcm9sbChjYWxsYmFjazogKCkgPT4gdm9pZCk6IEdQVUN1cnRhaW5zIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX29uU2Nyb2xsQ2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGlmIHRoZXJlJ3MgYmVlbiBhbiBlcnJvciB3aGlsZSB0cnlpbmcgdG8gY3JlYXRlIHRoZSB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlciNkZXZpY2UgfCBkZXZpY2V9XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biBpZiB0aGVyZSdzIGJlZW4gYW4gZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGNyZWF0ZSB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfVxuICAgKiBAcmV0dXJucyAtIG91ciB7QGxpbmsgR1BVQ3VydGFpbnN9XG4gICAqL1xuICBvbkVycm9yKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogR1BVQ3VydGFpbnMge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgdGhpcy5fb25FcnJvckNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuZXZlciB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBpcyBsb3N0XG4gICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIHJ1biB3aGVuZXZlciB0aGUge0BsaW5rIEdQVURldmljZU1hbmFnZXIjZGV2aWNlIHwgZGV2aWNlfSBpcyBsb3N0XG4gICAqIEByZXR1cm5zIC0gb3VyIHtAbGluayBHUFVDdXJ0YWluc31cbiAgICovXG4gIG9uQ29udGV4dExvc3QoY2FsbGJhY2s6IChpbmZvPzogR1BVRGV2aWNlTG9zdEluZm8pID0+IHZvaWQpOiBHUFVDdXJ0YWlucyB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9vbkNvbnRleHRMb3N0Q2FsbGJhY2sgPSBjYWxsYmFja1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGxvb3AgYW5kIHJ1biBpdFxuICAgKi9cbiAgYW5pbWF0ZSgpIHtcbiAgICB0aGlzLnJlbmRlcigpXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZUlEID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW5kZXIgb3VyIHtAbGluayBHUFVEZXZpY2VNYW5hZ2VyfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuX29uUmVuZGVyQ2FsbGJhY2sgJiYgdGhpcy5fb25SZW5kZXJDYWxsYmFjaygpXG5cbiAgICB0aGlzLmRldmljZU1hbmFnZXIucmVuZGVyKClcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IG91ciB7QGxpbmsgR1BVQ3VydGFpbnN9IGFuZCB7QGxpbmsgR1BVRGV2aWNlTWFuYWdlcn1cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVJRCkge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWVJRClcbiAgICB9XG5cbiAgICB0aGlzLmRldmljZU1hbmFnZXIuZGVzdHJveSgpXG4gICAgdGhpcy5zY3JvbGxNYW5hZ2VyPy5kZXN0cm95KClcbiAgICByZXNpemVNYW5hZ2VyLmRlc3Ryb3koKVxuICB9XG59XG4iLCJpbXBvcnQgeyBJbmRleGVkR2VvbWV0cnkgfSBmcm9tICcuLi8uLi9jb3JlL2dlb21ldHJpZXMvSW5kZXhlZEdlb21ldHJ5J1xuaW1wb3J0IHsgVmVjMyB9IGZyb20gJy4uLy4uL21hdGgvVmVjMydcbmltcG9ydCB7IEdlb21ldHJ5QmFzZVBhcmFtcyB9IGZyb20gJy4uLy4uL3R5cGVzL0dlb21ldHJpZXMnXG5cbi8qKlxuICogUGFyYW1ldGVycyB1c2VkIHRvIGNyZWF0ZSBhIHtAbGluayBCb3hHZW9tZXRyeX1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCb3hHZW9tZXRyeVBhcmFtcyBleHRlbmRzIEdlb21ldHJ5QmFzZVBhcmFtcyB7XG4gIC8qKiBOdW1iZXIgb2Ygc2VnbWVudHMgYWxvbmcgdGhlIFggYXhpcyAqL1xuICB3aWR0aFNlZ21lbnRzPzogbnVtYmVyXG4gIC8qKiBOdW1iZXIgb2Ygc2VnbWVudHMgYWxvbmcgdGhlIFkgYXhpcyAqL1xuICBoZWlnaHRTZWdtZW50cz86IG51bWJlclxuICAvKiogTnVtYmVyIG9mIHNlZ21lbnRzIGFsb25nIHRoZSBaIGF4aXMgKi9cbiAgZGVwdGhTZWdtZW50cz86IG51bWJlclxufVxuXG4vKipcbiAqIEhlbHBlciB0byBlYXNpbHkgY3JlYXRlIDNEIGJveCBpbmRleGVkIGdlb21ldHJpZXMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGphdmFzY3JpcHRcbiAqIGNvbnN0IGJveEdlb21ldHJ5ID0gbmV3IEJveEdlb21ldHJ5KClcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQm94R2VvbWV0cnkgZXh0ZW5kcyBJbmRleGVkR2VvbWV0cnkge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7XG4gICAgICB3aWR0aFNlZ21lbnRzID0gMSxcbiAgICAgIGhlaWdodFNlZ21lbnRzID0gMSxcbiAgICAgIGRlcHRoU2VnbWVudHMgPSAxLFxuICAgICAgaW5zdGFuY2VzQ291bnQgPSAxLFxuICAgICAgdmVydGV4QnVmZmVycyA9IFtdLFxuICAgICAgdG9wb2xvZ3ksXG4gICAgfSA9IHt9IGFzIEJveEdlb21ldHJ5UGFyYW1zXG4gICkge1xuICAgIHN1cGVyKHsgdmVydGljZXNPcmRlcjogJ2NjdycsIHRvcG9sb2d5LCBpbnN0YW5jZXNDb3VudCwgdmVydGV4QnVmZmVycyB9KVxuXG4gICAgdGhpcy50eXBlID0gJ0JveEdlb21ldHJ5J1xuXG4gICAgLy8gdGFrZW4gZnJvbSB0aHJlZWpzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL2Rldi9zcmMvZ2VvbWV0cmllcy9Cb3hHZW9tZXRyeS5qc1xuICAgIHdpZHRoU2VnbWVudHMgPSBNYXRoLmZsb29yKHdpZHRoU2VnbWVudHMpXG4gICAgaGVpZ2h0U2VnbWVudHMgPSBNYXRoLmZsb29yKGhlaWdodFNlZ21lbnRzKVxuICAgIGRlcHRoU2VnbWVudHMgPSBNYXRoLmZsb29yKGRlcHRoU2VnbWVudHMpXG5cbiAgICBjb25zdCB2ZXJ0aWNlcyA9IFtdXG4gICAgY29uc3QgdXZzID0gW11cbiAgICBjb25zdCBub3JtYWxzID0gW11cbiAgICBjb25zdCBpbmRpY2VzID0gW11cblxuICAgIGxldCBudW1iZXJPZlZlcnRpY2VzID0gMFxuXG4gICAgY29uc3QgYnVpbGRQbGFuZSA9ICh1LCB2LCB3LCB1ZGlyLCB2ZGlyLCB3aWR0aCwgaGVpZ2h0LCBkZXB0aCwgZ3JpZFgsIGdyaWRZKSA9PiB7XG4gICAgICBjb25zdCBzZWdtZW50V2lkdGggPSB3aWR0aCAvIGdyaWRYXG4gICAgICBjb25zdCBzZWdtZW50SGVpZ2h0ID0gaGVpZ2h0IC8gZ3JpZFlcblxuICAgICAgY29uc3Qgd2lkdGhIYWxmID0gd2lkdGggLyAyXG4gICAgICBjb25zdCBoZWlnaHRIYWxmID0gaGVpZ2h0IC8gMlxuICAgICAgY29uc3QgZGVwdGhIYWxmID0gZGVwdGggLyAyXG5cbiAgICAgIGNvbnN0IGdyaWRYMSA9IGdyaWRYICsgMVxuICAgICAgY29uc3QgZ3JpZFkxID0gZ3JpZFkgKyAxXG5cbiAgICAgIGxldCB2ZXJ0ZXhDb3VudGVyID0gMFxuXG4gICAgICBjb25zdCB2ZWN0b3IgPSBuZXcgVmVjMygpXG5cbiAgICAgIC8vIGdlbmVyYXRlIHZlcnRpY2VzLCBub3JtYWxzIGFuZCB1dnNcblxuICAgICAgZm9yIChsZXQgaXkgPSAwOyBpeSA8IGdyaWRZMTsgaXkrKykge1xuICAgICAgICBjb25zdCB5ID0gaXkgKiBzZWdtZW50SGVpZ2h0IC0gaGVpZ2h0SGFsZlxuXG4gICAgICAgIGZvciAobGV0IGl4ID0gMDsgaXggPCBncmlkWDE7IGl4KyspIHtcbiAgICAgICAgICBjb25zdCB4ID0gaXggKiBzZWdtZW50V2lkdGggLSB3aWR0aEhhbGZcblxuICAgICAgICAgIC8vIHNldCB2YWx1ZXMgdG8gY29ycmVjdCB2ZWN0b3IgY29tcG9uZW50XG5cbiAgICAgICAgICB2ZWN0b3JbdV0gPSB4ICogdWRpclxuICAgICAgICAgIHZlY3Rvclt2XSA9IHkgKiB2ZGlyXG4gICAgICAgICAgdmVjdG9yW3ddID0gZGVwdGhIYWxmXG5cbiAgICAgICAgICAvLyBub3cgYXBwbHkgdmVjdG9yIHRvIHZlcnRleCBidWZmZXJcblxuICAgICAgICAgIHZlcnRpY2VzLnB1c2godmVjdG9yLngsIHZlY3Rvci55LCB2ZWN0b3IueilcblxuICAgICAgICAgIC8vIHNldCB2YWx1ZXMgdG8gY29ycmVjdCB2ZWN0b3IgY29tcG9uZW50XG5cbiAgICAgICAgICB2ZWN0b3JbdV0gPSAwXG4gICAgICAgICAgdmVjdG9yW3ZdID0gMFxuICAgICAgICAgIHZlY3Rvclt3XSA9IGRlcHRoID4gMCA/IDEgOiAtMVxuXG4gICAgICAgICAgLy8gbm93IGFwcGx5IHZlY3RvciB0byBub3JtYWwgYnVmZmVyXG5cbiAgICAgICAgICBub3JtYWxzLnB1c2godmVjdG9yLngsIHZlY3Rvci55LCB2ZWN0b3IueilcblxuICAgICAgICAgIC8vIHV2c1xuXG4gICAgICAgICAgdXZzLnB1c2goaXggLyBncmlkWClcbiAgICAgICAgICB1dnMucHVzaChpeSAvIGdyaWRZKVxuXG4gICAgICAgICAgLy8gY291bnRlcnNcblxuICAgICAgICAgIHZlcnRleENvdW50ZXIgKz0gMVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGluZGljZXNcblxuICAgICAgLy8gMS4geW91IG5lZWQgdGhyZWUgaW5kaWNlcyB0byBkcmF3IGEgc2luZ2xlIGZhY2VcbiAgICAgIC8vIDIuIGEgc2luZ2xlIHNlZ21lbnQgY29uc2lzdHMgb2YgdHdvIGZhY2VzXG4gICAgICAvLyAzLiBzbyB3ZSBuZWVkIHRvIGdlbmVyYXRlIHNpeCAoMiozKSBpbmRpY2VzIHBlciBzZWdtZW50XG5cbiAgICAgIGZvciAobGV0IGl5ID0gMDsgaXkgPCBncmlkWTsgaXkrKykge1xuICAgICAgICBmb3IgKGxldCBpeCA9IDA7IGl4IDwgZ3JpZFg7IGl4KyspIHtcbiAgICAgICAgICBjb25zdCBhID0gbnVtYmVyT2ZWZXJ0aWNlcyArIGl4ICsgZ3JpZFgxICogaXlcbiAgICAgICAgICBjb25zdCBiID0gbnVtYmVyT2ZWZXJ0aWNlcyArIGl4ICsgZ3JpZFgxICogKGl5ICsgMSlcbiAgICAgICAgICBjb25zdCBjID0gbnVtYmVyT2ZWZXJ0aWNlcyArIChpeCArIDEpICsgZ3JpZFgxICogKGl5ICsgMSlcbiAgICAgICAgICBjb25zdCBkID0gbnVtYmVyT2ZWZXJ0aWNlcyArIChpeCArIDEpICsgZ3JpZFgxICogaXlcblxuICAgICAgICAgIC8vIGZhY2VzXG5cbiAgICAgICAgICBpbmRpY2VzLnB1c2goYSwgYiwgZClcbiAgICAgICAgICBpbmRpY2VzLnB1c2goYiwgYywgZClcblxuICAgICAgICAgIC8vIHVwZGF0ZSB0b3RhbCBudW1iZXIgb2YgdmVydGljZXNcblxuICAgICAgICAgIG51bWJlck9mVmVydGljZXMgKz0gdmVydGV4Q291bnRlclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYnVpbGRQbGFuZSgneicsICd5JywgJ3gnLCAtMSwgLTEsIDIsIDIsIDIsIGRlcHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKSAvLyBweFxuICAgIGJ1aWxkUGxhbmUoJ3onLCAneScsICd4JywgMSwgLTEsIDIsIDIsIC0yLCBkZXB0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cykgLy8gbnhcbiAgICBidWlsZFBsYW5lKCd4JywgJ3onLCAneScsIDEsIDEsIDIsIDIsIDIsIHdpZHRoU2VnbWVudHMsIGRlcHRoU2VnbWVudHMpIC8vIHB5XG4gICAgYnVpbGRQbGFuZSgneCcsICd6JywgJ3knLCAxLCAtMSwgMiwgMiwgLTIsIHdpZHRoU2VnbWVudHMsIGRlcHRoU2VnbWVudHMpIC8vIG55XG4gICAgYnVpbGRQbGFuZSgneCcsICd5JywgJ3onLCAxLCAtMSwgMiwgMiwgMiwgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpIC8vIHB6XG4gICAgYnVpbGRQbGFuZSgneCcsICd5JywgJ3onLCAtMSwgLTEsIDIsIDIsIC0yLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cykgLy8gbnpcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKHtcbiAgICAgIG5hbWU6ICdwb3NpdGlvbicsXG4gICAgICB0eXBlOiAndmVjM2YnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcbiAgICAgIHNpemU6IDMsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyksXG4gICAgfSlcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKHtcbiAgICAgIG5hbWU6ICd1dicsXG4gICAgICB0eXBlOiAndmVjMmYnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngyJyxcbiAgICAgIHNpemU6IDIsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheSh1dnMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAnbm9ybWFsJyxcbiAgICAgIHR5cGU6ICd2ZWMzZicsXG4gICAgICBidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxuICAgICAgc2l6ZTogMyxcbiAgICAgIGFycmF5OiBuZXcgRmxvYXQzMkFycmF5KG5vcm1hbHMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEluZGV4QnVmZmVyKHtcbiAgICAgIGFycmF5OiB0aGlzLnVzZVVpbnQxNkluZGV4QXJyYXkgPyBuZXcgVWludDE2QXJyYXkoaW5kaWNlcykgOiBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyksXG4gICAgICBidWZmZXJGb3JtYXQ6IHRoaXMudXNlVWludDE2SW5kZXhBcnJheSA/ICd1aW50MTYnIDogJ3VpbnQzMicsXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5kZXhlZEdlb21ldHJ5IH0gZnJvbSAnLi4vLi4vY29yZS9nZW9tZXRyaWVzL0luZGV4ZWRHZW9tZXRyeSdcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlYzMnXG5pbXBvcnQgeyBHZW9tZXRyeUJhc2VQYXJhbXMgfSBmcm9tICcuLi8uLi90eXBlcy9HZW9tZXRyaWVzJ1xuXG4vKipcbiAqIFBhcmFtZXRlcnMgdXNlZCB0byBjcmVhdGUgYSB7QGxpbmsgU3BoZXJlR2VvbWV0cnl9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3BoZXJlR2VvbWV0cnlQYXJhbXMgZXh0ZW5kcyBHZW9tZXRyeUJhc2VQYXJhbXMge1xuICAvKiogTnVtYmVyIG9mIGhvcml6b250YWwgc2VnbWVudHMgKi9cbiAgd2lkdGhTZWdtZW50cz86IG51bWJlclxuICAvKiogTnVtYmVyIG9mIHZlcnRpY2FsIHNlZ21lbnRzICovXG4gIGhlaWdodFNlZ21lbnRzPzogbnVtYmVyXG4gIC8qKiBIb3Jpem9udGFsIHN0YXJ0aW5nIGFuZ2xlICovXG4gIHBoaVN0YXJ0PzogbnVtYmVyXG4gIC8qKiBIb3Jpem9udGFsIHN3ZWVwIGFuZ2xlIHNpemUgKi9cbiAgcGhpTGVuZ3RoPzogbnVtYmVyXG4gIC8qKiBWZXJ0aWNhbCBzdGFydGluZyBhbmdsZSAqL1xuICB0aGV0YVN0YXJ0PzogbnVtYmVyXG4gIC8qKiBWZXJ0aWNhbCBzd2VlcCBhbmdsZSBzaXplICovXG4gIHRoZXRhTGVuZ3RoPzogbnVtYmVyXG59XG5cbi8qKlxuICogSGVscGVyIHRvIGVhc2lseSBjcmVhdGUgM0Qgc3BoZXJlIGluZGV4ZWQgZ2VvbWV0cmllcy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3Qgc3BoZXJlR2VvbWV0cnkgPSBuZXcgU3BoZXJlR2VvbWV0cnkoKVxuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGhlcmVHZW9tZXRyeSBleHRlbmRzIEluZGV4ZWRHZW9tZXRyeSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHtcbiAgICAgIHdpZHRoU2VnbWVudHMgPSAzMixcbiAgICAgIGhlaWdodFNlZ21lbnRzID0gMTYsXG4gICAgICBwaGlTdGFydCA9IDAsXG4gICAgICBwaGlMZW5ndGggPSBNYXRoLlBJICogMixcbiAgICAgIHRoZXRhU3RhcnQgPSAwLFxuICAgICAgdGhldGFMZW5ndGggPSBNYXRoLlBJLFxuICAgICAgaW5zdGFuY2VzQ291bnQgPSAxLFxuICAgICAgdmVydGV4QnVmZmVycyA9IFtdLFxuICAgICAgdG9wb2xvZ3ksXG4gICAgfSA9IHt9IGFzIFNwaGVyZUdlb21ldHJ5UGFyYW1zXG4gICkge1xuICAgIHN1cGVyKHsgdmVydGljZXNPcmRlcjogJ2NjdycsIHRvcG9sb2d5LCBpbnN0YW5jZXNDb3VudCwgdmVydGV4QnVmZmVycyB9KVxuXG4gICAgdGhpcy50eXBlID0gJ1NwaGVyZUdlb21ldHJ5J1xuXG4gICAgLy8gdGFrZW4gZnJvbSB0aHJlZWpzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iL2Rldi9zcmMvZ2VvbWV0cmllcy9TcGhlcmVHZW9tZXRyeS5qc1xuICAgIHdpZHRoU2VnbWVudHMgPSBNYXRoLm1heCgzLCBNYXRoLmZsb29yKHdpZHRoU2VnbWVudHMpKVxuICAgIGhlaWdodFNlZ21lbnRzID0gTWF0aC5tYXgoMiwgTWF0aC5mbG9vcihoZWlnaHRTZWdtZW50cykpXG5cbiAgICBjb25zdCByYWRpdXMgPSAxXG4gICAgY29uc3QgdGhldGFFbmQgPSBNYXRoLm1pbih0aGV0YVN0YXJ0ICsgdGhldGFMZW5ndGgsIE1hdGguUEkpXG5cbiAgICBsZXQgaW5kZXggPSAwXG4gICAgY29uc3QgZ3JpZCA9IFtdXG5cbiAgICBjb25zdCB2ZXJ0ZXggPSBuZXcgVmVjMygpXG4gICAgY29uc3Qgbm9ybWFsID0gbmV3IFZlYzMoKVxuXG4gICAgLy8gYnVmZmVyc1xuXG4gICAgY29uc3QgaW5kaWNlcyA9IFtdXG4gICAgY29uc3QgdmVydGljZXMgPSBbXVxuICAgIGNvbnN0IG5vcm1hbHMgPSBbXVxuICAgIGNvbnN0IHV2cyA9IFtdXG5cbiAgICAvLyBnZW5lcmF0ZSB2ZXJ0aWNlcywgbm9ybWFscyBhbmQgdXZzXG5cbiAgICBmb3IgKGxldCBpeSA9IDA7IGl5IDw9IGhlaWdodFNlZ21lbnRzOyBpeSsrKSB7XG4gICAgICBjb25zdCB2ZXJ0aWNlc1JvdyA9IFtdXG5cbiAgICAgIGNvbnN0IHYgPSBpeSAvIGhlaWdodFNlZ21lbnRzXG5cbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgdGhlIHBvbGVzXG5cbiAgICAgIGxldCB1T2Zmc2V0ID0gMFxuXG4gICAgICBpZiAoaXkgPT09IDAgJiYgdGhldGFTdGFydCA9PT0gMCkge1xuICAgICAgICB1T2Zmc2V0ID0gMC41IC8gd2lkdGhTZWdtZW50c1xuICAgICAgfSBlbHNlIGlmIChpeSA9PT0gaGVpZ2h0U2VnbWVudHMgJiYgdGhldGFFbmQgPT09IE1hdGguUEkpIHtcbiAgICAgICAgdU9mZnNldCA9IC0wLjUgLyB3aWR0aFNlZ21lbnRzXG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGl4ID0gMDsgaXggPD0gd2lkdGhTZWdtZW50czsgaXgrKykge1xuICAgICAgICBjb25zdCB1ID0gaXggLyB3aWR0aFNlZ21lbnRzXG5cbiAgICAgICAgLy8gdmVydGV4XG5cbiAgICAgICAgdmVydGV4LnggPSAtcmFkaXVzICogTWF0aC5jb3MocGhpU3RhcnQgKyB1ICogcGhpTGVuZ3RoKSAqIE1hdGguc2luKHRoZXRhU3RhcnQgKyB2ICogdGhldGFMZW5ndGgpXG4gICAgICAgIHZlcnRleC55ID0gcmFkaXVzICogTWF0aC5jb3ModGhldGFTdGFydCArIHYgKiB0aGV0YUxlbmd0aClcbiAgICAgICAgdmVydGV4LnogPSByYWRpdXMgKiBNYXRoLnNpbihwaGlTdGFydCArIHUgKiBwaGlMZW5ndGgpICogTWF0aC5zaW4odGhldGFTdGFydCArIHYgKiB0aGV0YUxlbmd0aClcblxuICAgICAgICB2ZXJ0aWNlcy5wdXNoKHZlcnRleC54LCB2ZXJ0ZXgueSwgdmVydGV4LnopXG5cbiAgICAgICAgLy8gbm9ybWFsXG5cbiAgICAgICAgbm9ybWFsLmNvcHkodmVydGV4KS5ub3JtYWxpemUoKVxuICAgICAgICBub3JtYWxzLnB1c2gobm9ybWFsLngsIG5vcm1hbC55LCBub3JtYWwueilcblxuICAgICAgICAvLyB1dlxuXG4gICAgICAgIHV2cy5wdXNoKHUgKyB1T2Zmc2V0LCB2KVxuXG4gICAgICAgIHZlcnRpY2VzUm93LnB1c2goaW5kZXgrKylcbiAgICAgIH1cblxuICAgICAgZ3JpZC5wdXNoKHZlcnRpY2VzUm93KVxuICAgIH1cblxuICAgIC8vIGluZGljZXNcblxuICAgIGZvciAobGV0IGl5ID0gMDsgaXkgPCBoZWlnaHRTZWdtZW50czsgaXkrKykge1xuICAgICAgZm9yIChsZXQgaXggPSAwOyBpeCA8IHdpZHRoU2VnbWVudHM7IGl4KyspIHtcbiAgICAgICAgY29uc3QgYSA9IGdyaWRbaXldW2l4ICsgMV1cbiAgICAgICAgY29uc3QgYiA9IGdyaWRbaXldW2l4XVxuICAgICAgICBjb25zdCBjID0gZ3JpZFtpeSArIDFdW2l4XVxuICAgICAgICBjb25zdCBkID0gZ3JpZFtpeSArIDFdW2l4ICsgMV1cblxuICAgICAgICBpZiAoaXkgIT09IDAgfHwgdGhldGFTdGFydCA+IDApIGluZGljZXMucHVzaChhLCBiLCBkKVxuICAgICAgICBpZiAoaXkgIT09IGhlaWdodFNlZ21lbnRzIC0gMSB8fCB0aGV0YUVuZCA8IE1hdGguUEkpIGluZGljZXMucHVzaChiLCBjLCBkKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKHtcbiAgICAgIG5hbWU6ICdwb3NpdGlvbicsXG4gICAgICB0eXBlOiAndmVjM2YnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngzJyxcbiAgICAgIHNpemU6IDMsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyksXG4gICAgfSlcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKHtcbiAgICAgIG5hbWU6ICd1dicsXG4gICAgICB0eXBlOiAndmVjMmYnLFxuICAgICAgYnVmZmVyRm9ybWF0OiAnZmxvYXQzMngyJyxcbiAgICAgIHNpemU6IDIsXG4gICAgICBhcnJheTogbmV3IEZsb2F0MzJBcnJheSh1dnMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSh7XG4gICAgICBuYW1lOiAnbm9ybWFsJyxcbiAgICAgIHR5cGU6ICd2ZWMzZicsXG4gICAgICBidWZmZXJGb3JtYXQ6ICdmbG9hdDMyeDMnLFxuICAgICAgc2l6ZTogMyxcbiAgICAgIGFycmF5OiBuZXcgRmxvYXQzMkFycmF5KG5vcm1hbHMpLFxuICAgIH0pXG5cbiAgICB0aGlzLnNldEluZGV4QnVmZmVyKHtcbiAgICAgIGFycmF5OiB0aGlzLnVzZVVpbnQxNkluZGV4QXJyYXkgPyBuZXcgVWludDE2QXJyYXkoaW5kaWNlcykgOiBuZXcgVWludDMyQXJyYXkoaW5kaWNlcyksXG4gICAgICBidWZmZXJGb3JtYXQ6IHRoaXMudXNlVWludDE2SW5kZXhBcnJheSA/ICd1aW50MTYnIDogJ3VpbnQzMicsXG4gICAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbImlzUmVuZGVyZXIiLCJpc0NhbWVyYVJlbmRlcmVyIiwiaXNDdXJ0YWluc1JlbmRlcmVyIiwiZ2VuZXJhdGVNaXBzIiwiYXJyYXlWaWV3IiwidmFsdWUiLCJiaW5kaW5nS2V5IiwiYnVmZmVyRWxlbWVudCIsIl9fcHJpdmF0ZUFkZCIsIl9fcHJpdmF0ZUdldCIsIl9fcHJpdmF0ZVNldCIsIl9hdXRvUmVuZGVyIiwiYXR0cmlidXRlIiwiRE9NTWVzaFBhcmFtcyIsImV4aXN0aW5nU2FtcGxlciIsImRlbHRhIiwiY29udGFpbmVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7RUFJTyxNQUFNLGVBQWUsTUFBYztFQUN4QyxFQUFBLE9BQU8sc0NBQXVDLENBQUEsT0FBQSxDQUFRLE9BQVMsRUFBQSxDQUFDLENBQU0s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LElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sVUFBVyxFQUFBO0VBQUEsSUFDMUUsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDM0UsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDM0UsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sVUFBVyxFQUFBO0VBQUEsSUFDNUUsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDN0UsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDOUUsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDM0UsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sVUFBVyxFQUFBO0VBQUEsSUFDNUUsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsSUFDN0UsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDOUUsS0FBQSxFQUFPLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxDQUFHLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUE7RUFBQSxJQUczRSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxZQUFhLEVBQUE7RUFBQSxJQUMvRSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLENBQUcsRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM3RSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxZQUFhLEVBQUE7RUFBQSxJQUMvRSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM5RSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxZQUFhLEVBQUE7RUFBQSxJQUMvRSxPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM5RSxTQUFTLEVBQUUsV0FBQSxFQUFhLENBQUcsRUFBQSxLQUFBLEVBQU8sSUFBSSxJQUFNLEVBQUEsRUFBQSxFQUFJLEdBQUssRUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLEVBQUcsSUFBTSxFQUFBLEtBQUEsRUFBTyxNQUFNLFlBQWEsRUFBQTtFQUFBLElBQzdGLFNBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxHQUFHLElBQU0sRUFBQSxFQUFBLEVBQUksR0FBSyxFQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsRUFBRyxJQUFNLEVBQUEsS0FBQSxFQUFPLE1BQU0sV0FBWSxFQUFBO0VBQUEsSUFDM0YsU0FBUyxFQUFFLFdBQUEsRUFBYSxFQUFJLEVBQUEsS0FBQSxFQUFPLElBQUksSUFBTSxFQUFBLEVBQUEsRUFBSSxHQUFLLEVBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQSxFQUFHLElBQU0sRUFBQSxLQUFBLEVBQU8sTUFBTSxZQUFhLEVBQUE7RUFBQSxJQUM5RixTQUFTLEVBQUUsV0FBQSxFQUFhLEVBQUksRUFBQSxLQUFBLEVBQU8sR0FBRyxJQUFNLEVBQUEsRUFBQSxFQUFJLEdBQUssRUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLEVBQUcsSUFBTSxFQUFBLEtBQUEsRUFBTyxNQUFNLFdBQVksRUFBQTtFQUFBLElBQzVGLFNBQVMsRUFBRSxXQUFBLEVBQWEsRUFBSSxFQUFBLEtBQUEsRUFBTyxJQUFJLElBQU0sRUFBQSxFQUFBLEVBQUksR0FBSyxFQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsRUFBRyxJQUFNLEVBQUEsS0FBQSxFQUFPLE1BQU0sWUFBYSxFQUFBO0VBQUEsSUFDOUYsU0FBUyxFQUFFLFdBQUEsRUFBYSxFQUFJLEVBQUEsS0FBQSxFQUFPLEdBQUcsSUFBTSxFQUFBLEVBQUEsRUFBSSxHQUFLLEVBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQSxFQUFHLElBQU0sRUFBQSxLQUFBLEVBQU8sTUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM1RixPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxFQUFJLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxZQUFhLEVBQUE7RUFBQSxJQUNoRixPQUFBLEVBQVMsRUFBRSxXQUFBLEVBQWEsQ0FBRyxFQUFBLEtBQUEsRUFBTyxDQUFHLEVBQUEsSUFBQSxFQUFNLEVBQUksRUFBQSxJQUFBLEVBQU0sS0FBTyxFQUFBLElBQUEsRUFBTSxXQUFZLEVBQUE7RUFBQSxJQUM5RSxTQUFTLEVBQUUsV0FBQSxFQUFhLEVBQUksRUFBQSxLQUFBLEVBQU8sSUFBSSxJQUFNLEVBQUEsRUFBQSxFQUFJLEdBQUssRUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLEVBQUcsSUFBTSxFQUFBLEtBQUEsRUFBTyxNQUFNLFlBQWEsRUFBQTtFQUFBLElBQzlGLFNBQVMsRUFBRSxXQUFBLEVBQWEsRUFBSSxFQUFBLEtBQUEsRUFBTyxHQUFHLElBQU0sRUFBQSxFQUFBLEVBQUksR0FBSyxFQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsRUFBRyxJQUFNLEVBQUEsS0FBQSxFQUFPLE1BQU0sV0FBWSxFQUFBO0VBQUEsSUFDNUYsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLEVBQUksRUFBQSxLQUFBLEVBQU8sRUFBSSxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sWUFBYSxFQUFBO0VBQUEsSUFDakYsT0FBQSxFQUFTLEVBQUUsV0FBQSxFQUFhLEVBQUksRUFBQSxLQUFBLEVBQU8sQ0FBRyxFQUFBLElBQUEsRUFBTSxFQUFJLEVBQUEsSUFBQSxFQUFNLEtBQU8sRUFBQSxJQUFBLEVBQU0sV0FBWSxFQUFBO0VBQUEsR0FDakYsQ0FBQTtFQUVBLEVBQUEsT0FBTyxjQUFjLFVBQVUsQ0FBQSxDQUFBO0VBQ2pDLENBQUEsQ0FBQTtFQU9hLE1BQUEscUJBQUEsR0FBd0IsQ0FBQyxPQUFtQyxLQUFBO0VBQ3ZFLEVBQUEsT0FBQSxDQUFRLE1BQU07RUFDWixJQUFBLFFBQVEsUUFBUSxXQUFhO0VBQUEsTUFDM0IsS0FBSyxTQUFBO0VBQ0gsUUFBQSxPQUFPLE9BQU8sT0FBUSxDQUFBLFdBQVcsQ0FBSyxFQUFBLEVBQUEsT0FBQSxDQUFRLFFBQVEsTUFBTSxDQUFBLENBQUEsQ0FBQSxDQUFBO0VBQUEsTUFDOUQsS0FBSyxTQUFBLENBQUE7RUFBQSxNQUNMO0VBQ0UsUUFBTyxPQUFBLGNBQUEsQ0FBQTtFQUFBLEtBQ1g7RUFBQSxHQUNDLEdBQUEsQ0FBQTtFQUNMLENBQUEsQ0FBQTtFQU9hLE1BQUEsNEJBQUEsR0FBK0IsQ0FBQyxPQUFvQyxLQUFBO0VBQy9FLEVBQUksSUFBQSxPQUFBLENBQVEsZ0JBQWdCLGlCQUFtQixFQUFBO0VBQzdDLElBQU8sT0FBQSxDQUFBLElBQUEsRUFBTyxRQUFRLElBQUksQ0FBQSxtQkFBQSxDQUFBLENBQUE7RUFBQSxHQUM1QjtFQUVBLEVBQU8sT0FBQSxPQUFBLENBQVEsZ0JBQWdCLGdCQUMzQixHQUFBLENBQUEsSUFBQSxFQUFPLFFBQVEsSUFBSSxDQUFBLGtCQUFBLEVBQXFCLE9BQVEsQ0FBQSxPQUFBLENBQVEsYUFBYSxDQUFBLENBQUEsRUFBSSxRQUFRLE9BQVEsQ0FBQSxNQUFNLEtBQUssT0FBUSxDQUFBLE9BQUEsQ0FBUSxNQUFNLENBQzFILEVBQUEsQ0FBQSxHQUFBLE9BQUEsQ0FBUSxXQUFnQixLQUFBLGNBQUEsR0FDeEIsQ0FBTyxJQUFBLEVBQUEsT0FBQSxDQUFRLElBQUksQ0FBa0IsZUFBQSxFQUFBLE9BQUEsQ0FBUSxRQUFRLFlBQWUsR0FBQSxlQUFBLEdBQWtCLEVBQUUsQ0FDdEYsQ0FBQSxFQUFBLE9BQUEsQ0FBUSxPQUFRLENBQUEsYUFDbEIsQ0FDQSxDQUFBLENBQUEsR0FBQSxDQUFBLElBQUEsRUFBTyxRQUFRLElBQUksQ0FBQSxTQUFBLEVBQVksUUFBUSxPQUFRLENBQUEsWUFBQSxHQUFlLGtCQUFrQixFQUFFLENBQUEsQ0FBQSxFQUNoRixPQUFRLENBQUEsT0FBQSxDQUFRLGFBQ2xCLENBQUEsTUFBQSxDQUFBLENBQUE7RUFDTixDQUFBLENBQUE7RUFPYSxNQUFBLDZCQUFBLEdBQWdDLENBQUMsT0FBaUQsS0FBQTtFQUM3RixFQUFBLElBQUksUUFBUSxXQUFnQixLQUFBLFNBQUEsSUFBYSxPQUFRLENBQUEsT0FBQSxDQUFRLFdBQVcsWUFBYyxFQUFBO0VBQ2hGLElBQU8sT0FBQSxTQUFBLENBQUE7RUFBQSxHQUNULE1BQUEsSUFBVyxPQUFRLENBQUEsV0FBQSxLQUFnQixTQUFXLEVBQUE7RUFDNUMsSUFBTyxPQUFBLG1CQUFBLENBQUE7RUFBQSxHQUNGLE1BQUE7RUFDTCxJQUFPLE9BQUEsU0FBQSxDQUFBO0VBQUEsR0FDVDtFQUNGLENBQUEsQ0FBQTtFQU9hLE1BQUEsb0NBQUEsR0FBdUMsQ0FDbEQsT0FDc0csS0FBQTtFQUN0RyxFQUFBLE9BQUEsQ0FBUSxNQUFNO0VBQ1osSUFBQSxRQUFRLFFBQVEsV0FBYTtFQUFBLE1BQzNCLEtBQUssaUJBQUE7RUFDSCxRQUFPLE9BQUEsRUFBRSxlQUFpQixFQUFBLEVBQUcsRUFBQSxDQUFBO0VBQUEsTUFDL0IsS0FBSyxnQkFBQTtFQUNILFFBQU8sT0FBQTtFQUFBLFVBQ0wsY0FBZ0IsRUFBQTtFQUFBLFlBQ2QsTUFBQSxFQUFRLFFBQVEsT0FBUSxDQUFBLE1BQUE7RUFBQSxZQUN4QixhQUFBLEVBQWUsUUFBUSxPQUFRLENBQUEsYUFBQTtFQUFBLFdBQ2pDO0VBQUEsU0FDRixDQUFBO0VBQUEsTUFDRixLQUFLLFNBQUE7RUFDSCxRQUFPLE9BQUE7RUFBQSxVQUNMLE9BQVMsRUFBQTtFQUFBLFlBQ1AsWUFBQSxFQUFjLFFBQVEsT0FBUSxDQUFBLFlBQUE7RUFBQSxZQUM5QixhQUFBLEVBQWUsUUFBUSxPQUFRLENBQUEsYUFBQTtFQUFBLFdBQ2pDO0VBQUEsU0FDRixDQUFBO0VBQUEsTUFDRixLQUFLLGNBQUE7RUFDSCxRQUFPLE9BQUE7RUFBQSxVQUNMLE9BQVMsRUFBQTtFQUFBLFlBQ1AsWUFBQSxFQUFjLFFBQVEsT0FBUSxDQUFBLFlBQUE7RUFBQSxZQUM5QixNQUFBLEVBQVEsUUFBUSxPQUFRLENBQUEsTUFBQTtFQUFBLFlBQ3hCLGFBQUEsRUFBZSxRQUFRLE9BQVEsQ0FBQSxhQUFBO0VBQUEsWUFDL0IsVUFBWSxFQUFBLE9BQUE7RUFBQSxXQUNkO0VBQUEsU0FDRixDQUFBO0VBQUEsTUFDRjtFQUNFLFFBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxLQUNYO0VBQUEsR0FDQyxHQUFBLENBQUE7RUFDTCxDQUFBOztFQ3pMTyxNQUFNLElBQUssQ0FBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQWdCaEIsV0FBWSxDQUFBLENBQUEsR0FBSSxDQUFHLEVBQUEsQ0FBQSxHQUFJLENBQUcsRUFBQTtFQUN4QixJQUFBLElBQUEsQ0FBSyxJQUFPLEdBQUEsTUFBQSxDQUFBO0VBRVosSUFBQSxJQUFBLENBQUssRUFBSyxHQUFBLENBQUEsQ0FBQTtFQUNWLElBQUEsSUFBQSxDQUFLLEVBQUssR0FBQSxDQUFBLENBQUE7RUFBQSxHQUNaO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFLQSxJQUFJLENBQVksR0FBQTtFQUNkLElBQUEsT0FBTyxJQUFLLENBQUEsRUFBQSxDQUFBO0VBQUEsR0FDZDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLElBQUksRUFBRSxLQUFlLEVBQUE7RUFDbkIsSUFBTSxNQUFBLE9BQUEsR0FBVSxVQUFVLElBQUssQ0FBQSxFQUFBLENBQUE7RUFDL0IsSUFBQSxJQUFBLENBQUssRUFBSyxHQUFBLEtBQUEsQ0FBQTtFQUNWLElBQVcsT0FBQSxJQUFBLElBQUEsQ0FBSyxpQkFBcUIsSUFBQSxJQUFBLENBQUssaUJBQWtCLEVBQUEsQ0FBQTtFQUFBLEdBQzlEO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFLQSxJQUFJLENBQVksR0FBQTtFQUNkLElBQUEsT0FBTyxJQUFLLENBQUEsRUFBQSxDQUFBO0VBQUEsR0FDZDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLElBQUksRUFBRSxLQUFlLEVBQUE7RUFDbkIsSUFBTSxNQUFBLE9BQUEsR0FBVSxVQUFVLElBQUssQ0FBQSxFQUFBLENBQUE7RUFDL0IsSUFBQSxJQUFBLENBQUssRUFBSyxHQUFBLEtBQUEsQ0FBQTtFQUNWLElBQVcsT0FBQSxJQUFBLElBQUEsQ0FBSyxpQkFBcUIsSUFBQSxJQUFBLENBQUssaUJBQWtCLEVBQUEsQ0FBQTtFQUFBLEdBQzlEO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsU0FBUyxRQUE0QixFQUFBO0VBQ25DLElBQUEsSUFBSSxRQUFVLEVBQUE7RUFDWixNQUFBLElBQUEsQ0FBSyxpQkFBb0IsR0FBQSxRQUFBLENBQUE7RUFBQSxLQUMzQjtFQUVBLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFRQSxHQUFJLENBQUEsQ0FBQSxHQUFJLENBQUcsRUFBQSxDQUFBLEdBQUksQ0FBUyxFQUFBO0VBQ3RCLElBQUEsSUFBQSxDQUFLLENBQUksR0FBQSxDQUFBLENBQUE7RUFDVCxJQUFBLElBQUEsQ0FBSyxDQUFJLEdBQUEsQ0FBQSxDQUFBO0VBRVQsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxHQUFJLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDbkMsSUFBQSxJQUFBLENBQUssS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2pCLElBQUEsSUFBQSxDQUFLLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUVqQixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLFNBQUEsQ0FBVSxRQUFRLENBQVMsRUFBQTtFQUN6QixJQUFBLElBQUEsQ0FBSyxDQUFLLElBQUEsS0FBQSxDQUFBO0VBQ1YsSUFBQSxJQUFBLENBQUssQ0FBSyxJQUFBLEtBQUEsQ0FBQTtFQUVWLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsR0FBSSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ25DLElBQUEsSUFBQSxDQUFLLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNqQixJQUFBLElBQUEsQ0FBSyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFFakIsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxTQUFBLENBQVUsUUFBUSxDQUFTLEVBQUE7RUFDekIsSUFBQSxJQUFBLENBQUssQ0FBSyxJQUFBLEtBQUEsQ0FBQTtFQUNWLElBQUEsSUFBQSxDQUFLLENBQUssSUFBQSxLQUFBLENBQUE7RUFFVixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLFFBQVMsQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLENBQUssQ0FBQyxDQUFTLEVBQUE7RUFDekMsSUFBQSxJQUFBLENBQUssS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2pCLElBQUEsSUFBQSxDQUFLLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUVqQixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLGNBQUEsQ0FBZSxRQUFRLENBQVMsRUFBQTtFQUM5QixJQUFBLElBQUEsQ0FBSyxDQUFLLElBQUEsS0FBQSxDQUFBO0VBQ1YsSUFBQSxJQUFBLENBQUssQ0FBSyxJQUFBLEtBQUEsQ0FBQTtFQUVWLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsSUFBSyxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ3BDLElBQUEsSUFBQSxDQUFLLElBQUksTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNoQixJQUFBLElBQUEsQ0FBSyxJQUFJLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFFaEIsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBTUEsS0FBYyxHQUFBO0VBQ1osSUFBQSxPQUFPLElBQUksSUFBQSxDQUFLLElBQUssQ0FBQSxDQUFBLEVBQUcsS0FBSyxDQUFDLENBQUEsQ0FBQTtFQUFBLEdBQ2hDO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsR0FBSSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ25DLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFDbEMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUVsQyxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLEdBQUksQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUNuQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFFbEMsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQVFBLEtBQUEsQ0FBTSxNQUFZLElBQUksSUFBQSxJQUFRLEdBQVksR0FBQSxJQUFJLE1BQWMsRUFBQTtFQUMxRCxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsQ0FBQyxDQUFDLENBQUEsQ0FBQTtFQUNoRCxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxHQUFBLENBQUksR0FBSSxDQUFBLENBQUEsRUFBRyxJQUFLLENBQUEsQ0FBQyxDQUFDLENBQUEsQ0FBQTtFQUVoRCxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLE1BQU8sQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWlCLEVBQUE7RUFDekMsSUFBQSxPQUFPLEtBQUssQ0FBTSxLQUFBLE1BQUEsQ0FBTyxDQUFLLElBQUEsSUFBQSxDQUFLLE1BQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUFBLEdBQ2xEO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLFFBQW1CLEdBQUE7RUFDakIsSUFBQSxPQUFPLEtBQUssQ0FBSSxHQUFBLElBQUEsQ0FBSyxDQUFJLEdBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLENBQUEsQ0FBQTtFQUFBLEdBQ3pDO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLE1BQWlCLEdBQUE7RUFDZixJQUFBLE9BQU8sSUFBSyxDQUFBLElBQUEsQ0FBSyxJQUFLLENBQUEsUUFBQSxFQUFVLENBQUEsQ0FBQTtFQUFBLEdBQ2xDO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLFNBQWtCLEdBQUE7RUFFaEIsSUFBQSxJQUFJLE1BQU0sSUFBSyxDQUFBLENBQUEsR0FBSSxLQUFLLENBQUksR0FBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsQ0FBQSxDQUFBO0VBQzFDLElBQUEsSUFBSSxNQUFNLENBQUcsRUFBQTtFQUNYLE1BQU0sR0FBQSxHQUFBLENBQUEsR0FBSSxJQUFLLENBQUEsSUFBQSxDQUFLLEdBQUcsQ0FBQSxDQUFBO0VBQUEsS0FDekI7RUFDQSxJQUFBLElBQUEsQ0FBSyxDQUFLLElBQUEsR0FBQSxDQUFBO0VBQ1YsSUFBQSxJQUFBLENBQUssQ0FBSyxJQUFBLEdBQUEsQ0FBQTtFQUVWLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsR0FBSSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBZ0IsRUFBQTtFQUNyQyxJQUFBLE9BQU8sS0FBSyxDQUFJLEdBQUEsTUFBQSxDQUFPLENBQUksR0FBQSxJQUFBLENBQUssSUFBSSxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQUEsR0FDN0M7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQVFBLEtBQUssTUFBZSxHQUFBLElBQUksSUFBSyxFQUFBLEVBQUcsUUFBUSxDQUFTLEVBQUE7RUFDL0MsSUFBQSxJQUFBLENBQUssQ0FBTSxJQUFBLENBQUEsTUFBQSxDQUFPLENBQUksR0FBQSxJQUFBLENBQUssQ0FBSyxJQUFBLEtBQUEsQ0FBQTtFQUNoQyxJQUFBLElBQUEsQ0FBSyxDQUFNLElBQUEsQ0FBQSxNQUFBLENBQU8sQ0FBSSxHQUFBLElBQUEsQ0FBSyxDQUFLLElBQUEsS0FBQSxDQUFBO0VBRWhDLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQ0Y7O0VDL1FPLE1BQU0sSUFBSyxDQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBYWhCLFdBQVksQ0FBQSxRQUFBLEdBQXlCLElBQUksWUFBQSxDQUFhLENBQUMsQ0FBQSxFQUFHLENBQUcsRUFBQSxDQUFBLEVBQUcsQ0FBQyxDQUFDLENBQUcsRUFBQSxTQUFBLEdBQXVCLEtBQU8sRUFBQTtFQUNqRyxJQUFBLElBQUEsQ0FBSyxJQUFPLEdBQUEsTUFBQSxDQUFBO0VBQ1osSUFBQSxJQUFBLENBQUssUUFBVyxHQUFBLFFBQUEsQ0FBQTtFQUVoQixJQUFBLElBQUEsQ0FBSyxTQUFZLEdBQUEsU0FBQSxDQUFBO0VBQUEsR0FDbkI7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxZQUFBLENBQWEsS0FBaUMsR0FBQSxJQUFJLFlBQWEsQ0FBQSxDQUFDLEdBQUcsQ0FBRyxFQUFBLENBQUEsRUFBRyxDQUFDLENBQUMsQ0FBUyxFQUFBO0VBQ2xGLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFFMUIsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxZQUFBLENBQWEsWUFBZ0MsS0FBYSxFQUFBO0VBRXhELElBQUEsU0FBQSxHQUFZLFVBQVUsV0FBWSxFQUFBLENBQUE7RUFFbEMsSUFBQSxRQUFRLFNBQVc7RUFBQSxNQUNqQixLQUFLLEtBQUEsQ0FBQTtFQUFBLE1BQ0wsS0FBSyxLQUFBLENBQUE7RUFBQSxNQUNMLEtBQUssS0FBQSxDQUFBO0VBQUEsTUFDTCxLQUFLLEtBQUEsQ0FBQTtFQUFBLE1BQ0wsS0FBSyxLQUFBLENBQUE7RUFBQSxNQUNMLEtBQUssS0FBQTtFQUNILFFBQUEsSUFBQSxDQUFLLFNBQVksR0FBQSxTQUFBLENBQUE7RUFDakIsUUFBQSxNQUFBO0VBQUEsTUFDRjtFQUVFLFFBQUEsSUFBQSxDQUFLLFNBQVksR0FBQSxLQUFBLENBQUE7RUFBQSxLQUNyQjtFQUVBLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsSUFBSyxDQUFBLFVBQUEsR0FBbUIsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUN4QyxJQUFBLElBQUEsQ0FBSyxXQUFXLFVBQVcsQ0FBQSxRQUFBLENBQUE7RUFDM0IsSUFBQSxJQUFBLENBQUssWUFBWSxVQUFXLENBQUEsU0FBQSxDQUFBO0VBRTVCLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLEtBQWMsR0FBQTtFQUNaLElBQUEsT0FBTyxJQUFJLElBQUEsRUFBTyxDQUFBLElBQUEsQ0FBSyxJQUFJLENBQUEsQ0FBQTtFQUFBLEdBQzdCO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsTUFBTyxDQUFBLFVBQUEsR0FBbUIsSUFBSSxJQUFBLEVBQWlCLEVBQUE7RUFDN0MsSUFBQSxPQUNFLElBQUssQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUFBLEtBQU0sV0FBVyxRQUFTLENBQUEsQ0FBQyxDQUMxQyxJQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxLQUFNLFVBQVcsQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUMxQyxJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFNLEtBQUEsVUFBQSxDQUFXLFFBQVMsQ0FBQSxDQUFDLEtBQzFDLElBQUssQ0FBQSxRQUFBLENBQVMsQ0FBQyxDQUFBLEtBQU0sV0FBVyxRQUFTLENBQUEsQ0FBQyxDQUMxQyxJQUFBLElBQUEsQ0FBSyxjQUFjLFVBQVcsQ0FBQSxTQUFBLENBQUE7RUFBQSxHQUVsQztFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLFdBQVksQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUMzQyxJQUFNLE1BQUEsRUFBQSxHQUFLLE9BQU8sQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUN0QixJQUFNLE1BQUEsRUFBQSxHQUFLLE9BQU8sQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUN0QixJQUFNLE1BQUEsRUFBQSxHQUFLLE9BQU8sQ0FBSSxHQUFBLEdBQUEsQ0FBQTtFQUV0QixJQUFNLE1BQUEsSUFBQSxHQUFPLElBQUssQ0FBQSxHQUFBLENBQUksRUFBRSxDQUFBLENBQUE7RUFDeEIsSUFBTSxNQUFBLElBQUEsR0FBTyxJQUFLLENBQUEsR0FBQSxDQUFJLEVBQUUsQ0FBQSxDQUFBO0VBQ3hCLElBQU0sTUFBQSxJQUFBLEdBQU8sSUFBSyxDQUFBLEdBQUEsQ0FBSSxFQUFFLENBQUEsQ0FBQTtFQUN4QixJQUFNLE1BQUEsSUFBQSxHQUFPLElBQUssQ0FBQSxHQUFBLENBQUksRUFBRSxDQUFBLENBQUE7RUFDeEIsSUFBTSxNQUFBLElBQUEsR0FBTyxJQUFLLENBQUEsR0FBQSxDQUFJLEVBQUUsQ0FBQSxDQUFBO0VBQ3hCLElBQU0sTUFBQSxJQUFBLEdBQU8sSUFBSyxDQUFBLEdBQUEsQ0FBSSxFQUFFLENBQUEsQ0FBQTtFQUd4QixJQUFJLElBQUEsSUFBQSxDQUFLLGNBQWMsS0FBTyxFQUFBO0VBQzVCLE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUFBLEtBQ3hELE1BQUEsSUFBVyxJQUFLLENBQUEsU0FBQSxLQUFjLEtBQU8sRUFBQTtFQUNuQyxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFBQSxLQUN4RCxNQUFBLElBQVcsSUFBSyxDQUFBLFNBQUEsS0FBYyxLQUFPLEVBQUE7RUFDbkMsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQUEsS0FDeEQsTUFBQSxJQUFXLElBQUssQ0FBQSxTQUFBLEtBQWMsS0FBTyxFQUFBO0VBQ25DLE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUFBLEtBQ3hELE1BQUEsSUFBVyxJQUFLLENBQUEsU0FBQSxLQUFjLEtBQU8sRUFBQTtFQUNuQyxNQUFBLElBQUEsQ0FBSyxTQUFTLENBQUMsQ0FBQSxHQUFJLE9BQU8sSUFBTyxHQUFBLElBQUEsR0FBTyxPQUFPLElBQU8sR0FBQSxJQUFBLENBQUE7RUFDdEQsTUFBQSxJQUFBLENBQUssU0FBUyxDQUFDLENBQUEsR0FBSSxPQUFPLElBQU8sR0FBQSxJQUFBLEdBQU8sT0FBTyxJQUFPLEdBQUEsSUFBQSxDQUFBO0VBQ3RELE1BQUEsSUFBQSxDQUFLLFNBQVMsQ0FBQyxDQUFBLEdBQUksT0FBTyxJQUFPLEdBQUEsSUFBQSxHQUFPLE9BQU8sSUFBTyxHQUFBLElBQUEsQ0FBQTtFQUN0RCxNQUFBLElBQUEsQ0FB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TUFBQSxDQUFBO0VBQ1osSUFBQSxJQUFBLENBQUssUUFBVyxHQUFBLFFBQUEsQ0FBQTtFQUFBLEdBQ2xCO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQXdCQSxJQUNFLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsR0FDQSxFQUFBLEdBQUEsRUFDQSxLQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsR0FDQSxFQUFBLEdBQUEsRUFDQSxLQUNBLEdBQ0EsRUFBQSxHQUFBLEVBQ0EsR0FDQSxFQUFBLEdBQUEsRUFDQSxLQUNBLEdBQ00sRUFBQTtFQUNOLElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFFaEIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1IsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1QsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1QsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1QsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1QsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBQ1QsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBRVQsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBTUEsUUFBaUIsR0FBQTtFQUVmLElBQUssSUFBQSxDQUFBLEdBQUE7RUFBQSxNQUNILENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUNULENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUNULENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUNULENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxLQUNYLENBQUE7RUFFQSxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBUUEsWUFBQSxDQUFhLEtBQWlDLEdBQUEsSUFBSSxZQUFhLENBQUE7RUFBQSxJQUM3RCxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFDVCxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFDVCxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFDVCxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsSUFBRyxDQUFBO0VBQUEsR0FDVixDQUFTLEVBQUE7RUFDUixJQUFBLEtBQUEsSUFBUyxJQUFJLENBQUcsRUFBQSxDQUFBLEdBQUksSUFBSyxDQUFBLFFBQUEsQ0FBUyxRQUFRLENBQUssRUFBQSxFQUFBO0VBQzdDLE1BQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFBQSxLQUM1QjtFQUVBLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsSUFBSyxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQ3BDLElBQUEsTUFBTSxRQUFRLE1BQU8sQ0FBQSxRQUFBLENBQUE7RUFDckIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsQ0FBQyxDQUFJLEdBQUEsS0FBQSxDQUFNLENBQUMsQ0FBQSxDQUFBO0VBQzFCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxDQUFDLENBQUksR0FBQSxLQUFBLENBQU0sQ0FBQyxDQUFBLENBQUE7RUFDMUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLENBQUMsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxDQUFDLENBQUEsQ0FBQTtFQUMxQixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsRUFBRSxDQUFJLEdBQUEsS0FBQSxDQUFNLEVBQUUsQ0FBQSxDQUFBO0VBQzVCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxFQUFFLENBQUksR0FBQSxLQUFBLENBQU0sRUFBRSxDQUFBLENBQUE7RUFDNUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLEVBQUUsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxFQUFFLENBQUEsQ0FBQTtFQUM1QixJQUFBLElBQUEsQ0FBSyxRQUFTLENBQUEsRUFBRSxDQUFJLEdBQUEsS0FBQSxDQUFNLEVBQUUsQ0FBQSxDQUFBO0VBQzVCLElBQUEsSUFBQSxDQUFLLFFBQVMsQ0FBQSxFQUFFLENBQUksR0FBQSxLQUFBLENBQU0sRUFBRSxDQUFBLENBQUE7RUFDNUIsSUFBQSxJQUFBLENBQUssUUFBUyxDQUFBLEVBQUUsQ0FBSSxHQUFBLEtBQUEsQ0FBTSxFQUFFLENBQUEsQ0FBQTtFQUU1QixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFNQSxLQUFjLEdBQUE7RUFDWixJQUFBLE9BQU8sSUFBSSxJQUFBLEVBQU8sQ0FBQSxJQUFBLENBQUssSUFBSSxDQUFBLENBQUE7RUFBQSxHQUM3QjtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLFFBQVMsQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUN4QyxJQUFPLE9BQUEsSUFBQSxDQUFLLGdCQUFpQixDQUFBLElBQUEsRUFBTSxNQUFNLENBQUEsQ0FBQTtFQUFBLEdBQzNDO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBT0EsV0FBWSxDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBQzNDLElBQU8sT0FBQSxJQUFBLENBQUssZ0JBQWlCLENBQUEsTUFBQSxFQUFRLElBQUksQ0FBQSxDQUFBO0VBQUEsR0FDM0M7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQVFBLGdCQUFBLENBQWlCLElBQVUsSUFBSSxJQUFBLElBQVEsQ0FBVSxHQUFBLElBQUksTUFBYyxFQUFBO0VBQ2pFLElBQUEsTUFBTSxLQUFLLENBQUUsQ0FBQSxRQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sS0FBSyxDQUFFLENBQUEsUUFBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEtBQUssSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVoQixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBRWIsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUViLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFbkQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUVuRCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2xELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNuRCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRW5ELElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDbEQsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNsRCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ25ELElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFbkQsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxvQkFBcUIsQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQU9wRCxJQUFBLE1BQU0sR0FBTSxHQUFBLENBQUEsQ0FBQTtFQUNaLElBQUEsTUFBTSxHQUFNLEdBQUEsQ0FBQSxDQUFBO0VBQ1osSUFBQSxNQUFNLEdBQU0sR0FBQSxDQUFBLENBQUE7RUFDWixJQUFBLE1BQU0sR0FBTSxHQUFBLENBQUEsQ0FBQTtFQUdaLElBQUEsTUFBTSxNQUFNLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDbkIsSUFBQSxNQUFNLE1BQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNuQixJQUFBLE1BQU0sTUFBTSxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBRW5CLElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFDaEIsSUFBQSxNQUFNLEtBQUssSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVoQixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsQ0FDWCxFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBRWIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMxQixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDMUIsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRTNCLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMxQixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDMUIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUUzQixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDMUIsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEdBQUksR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQzFCLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxHQUFJLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUMzQixJQUFBLEVBQUEsQ0FBRyxFQUFFLENBQUEsR0FBSSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFM0IsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2YsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFZixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLGdCQUFpQixDQUFBLE1BQUEsR0FBZSxJQUFJLElBQUEsRUFBYyxFQUFBO0VBS2hELElBQUEsTUFBTSxLQUFLLElBQUssQ0FBQSxRQUFBLENBQUE7RUFDaEIsSUFBQSxNQUFNLEtBQUssSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVoQixJQUFBLE1BQU0sTUFBTSxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ25CLElBQUEsTUFBTSxNQUFNLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDbkIsSUFBQSxNQUFNLE1BQU0sTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNuQixJQUFBLE1BQU0sR0FBTSxHQUFBLENBQUEsQ0FBQTtFQUVaLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFDYixJQUFBLE1BQU0sR0FBTSxHQUFBLEVBQUEsQ0FBRyxDQUFDLENBQUEsRUFDZCxNQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxHQUFHLEVBQUUsQ0FBQSxDQUFBO0VBQ2IsSUFBQSxNQUFNLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ2QsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sR0FBRyxFQUFFLENBQUEsQ0FBQTtFQUNiLElBQUEsTUFBTSxHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNkLE1BQU0sRUFBRyxDQUFBLENBQUMsQ0FDVixFQUFBLEdBQUEsR0FBTSxFQUFHLENBQUEsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEdBQUcsRUFBRSxDQUFBLENBQUE7RUFFYixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUVmLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBRWYsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZCxJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2YsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFZixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUNkLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsR0FBQSxDQUFBO0VBQ2QsSUFBRyxFQUFBLENBQUEsRUFBRSxJQUFJLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFDZixJQUFHLEVBQUEsQ0FBQSxFQUFFLElBQUksR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUVmLElBQU8sT0FBQSxJQUFBLENBQUE7RUFBQSxHQUNUO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU1BLE1BQVMsR0FBQTtFQUVQLElBQUEsTUFBTSxFQUFLLEdBQUEsSUFBQSxDQUFLLFFBQ2QsRUFBQSxHQUFBLEdBQU0sR0FBRyxDQUFDLENBQUEsRUFDVixHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNWLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLENBQUMsR0FDVixHQUFNLEdBQUEsRUFBQSxDQUFHLENBQUMsQ0FBQSxFQUNWLEdBQU0sR0FBQSxFQUFBLENBQUcsQ0FBQyxDQUFBLEVBQ1YsTUFBTSxFQUFHLENBQUEsQ0FBQyxDQUNWLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxDQUFDLENBQ1YsRUFBQSxHQUFBLEdBQU0sR0FBRyxDQUFDLENBQUEsRUFDVixHQUFNLEdBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxFQUNYLEdBQU0sR0FBQSxFQUFBLENBQUcsRUFBRSxDQUNYLEVBQUEsR0FBQSxHQUFNLEVBQUcsQ0FBQSxFQUFFLENBQ1gsRUFBQSxHQUFBLEdBQU0sRUFBRyxDQUFBLEVBQUUsR0FDWCxHQUFNLEdBQUEsRUFBQSxDQUFHLEVBQUUsQ0FBQSxFQUNYLEdBQU0sR0FBQSxFQUFBLENBQUcsRUFBRSxDQUFBLEVBQ1gsTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxLQUM1RyxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQzVHLEVBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEVBQzVHLEdBQU0sR0FBQSxHQUFBLEdBQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsQ0FBQTtFQUU5RyxJQUFBLE1BQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLENBQUE7RUFFdEQsSUFBQSxJQUFJLEdBQVEsS0FBQSxDQUFBO0VBQUcsTUFBQSxPQUFPLEtBQUssR0FBSSxDQUFBLENBQUEsRUFBRyxDQUFHLEVBQUEsQ0FBQSxFQUFHLEdBQUcsQ0FBRyxFQUFBLENBQUEsRUFBRyxDQUFHLEVBQUEsQ0FBQSxFQUFHLEdBQUcsQ0FBRyxFQUFBLENBQUEsRUFBRyxHQUFHLENBQUcsRUFBQSxDQUFBLEVBQUcsR0FBRyxDQUFDLENBQUEsQ0FBQTtFQUU3RSxJQUFBLE1BQU0sU0FBUyxDQUFJLEdBQUEsR0FBQSxDQUFBO0VBRW5CLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxHQUFNLEdBQUEsTUFBQSxDQUFBO0VBQ2QsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsQ0FBQyxDQUNELEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBRUYsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEdBQU0sR0FBQSxNQUFBLENBQUE7RUFDZCxJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQ0QsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFDRixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQ0QsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFDRixJQUFBLEVBQUEsQ0FBRyxDQUFDLENBQ0QsR0FBQSxDQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FDdkcsSUFBQSxNQUFBLENBQUE7RUFFRixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksR0FBTSxHQUFBLE1BQUEsQ0FBQTtFQUNkLElBQUEsRUFBQSxDQUFHLENBQUMsQ0FDRCxHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDRixHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUNGLElBQUEsRUFBQSxDQUFHLEVBQUUsQ0FDRixHQUFBLENBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUN2RyxJQUFBLE1BQUEsQ0FBQTtFQUVGLElBQUcsRUFBQSxDQUFBLEVBQUUsSUFBSSxHQUFNLEdBQUEsTUFBQSxDQUFBO0VBQ2YsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUNGLEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUNGLEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBQ0YsSUFBQSxFQUFBLENBQUcsRUFBRSxDQUNGLEdBQUEsQ0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQU0sR0FBQSxHQUFBLEdBQU0sTUFBTSxHQUFNLEdBQUEsR0FBQSxHQUFNLE1BQU0sR0FBTSxHQUFBLEdBQUEsR0FBTSxNQUFNLEdBQ3ZHLElBQUEsTUFBQSxDQUFBO0VBRUYsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBTUEsVUFBbUIsR0FBQTtFQUNqQixJQUFPLE9BQUEsSUFBQSxDQUFLLEtBQU0sRUFBQSxDQUFFLE1BQU8sRUFBQSxDQUFBO0VBQUEsR0FDN0I7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxTQUFVLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDekMsSUFBQSxNQUFNLElBQUksSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVmLElBQUEsQ0FBQSxDQUFFLEVBQUUsQ0FBSSxHQUFBLENBQUEsQ0FBRSxDQUFDLENBQUksR0FBQSxNQUFBLENBQU8sSUFBSSxDQUFFLENBQUEsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLENBQUMsSUFBSSxNQUFPLENBQUEsQ0FBQSxHQUFJLEVBQUUsRUFBRSxDQUFBLENBQUE7RUFDbEUsSUFBQSxDQUFBLENBQUUsRUFBRSxDQUFJLEdBQUEsQ0FBQSxDQUFFLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUUsQ0FBQSxDQUFDLENBQUksR0FBQSxNQUFBLENBQU8sSUFBSSxDQUFFLENBQUEsQ0FBQyxJQUFJLE1BQU8sQ0FBQSxDQUFBLEdBQUksRUFBRSxFQUFFLENBQUEsQ0FBQTtFQUNsRSxJQUFBLENBQUEsQ0FBRSxFQUFFLENBQUksR0FBQSxDQUFBLENBQUUsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxJQUFJLENBQUUsQ0FBQSxFQUFFLElBQUksTUFBTyxDQUFBLENBQUEsR0FBSSxFQUFFLEVBQUUsQ0FBQSxDQUFBO0VBQ25FLElBQUEsQ0FBQSxDQUFFLEVBQUUsQ0FBSSxHQUFBLENBQUEsQ0FBRSxDQUFDLENBQUksR0FBQSxNQUFBLENBQU8sSUFBSSxDQUFFLENBQUEsQ0FBQyxDQUFJLEdBQUEsTUFBQSxDQUFPLElBQUksQ0FBRSxDQUFBLEVBQUUsSUFBSSxNQUFPLENBQUEsQ0FBQSxHQUFJLEVBQUUsRUFBRSxDQUFBLENBQUE7RUFFbkUsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxLQUFNLENBQUEsTUFBQSxHQUFlLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDckMsSUFBQSxNQUFNLElBQUksSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsQ0FBQyxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDZixJQUFFLENBQUEsQ0FBQSxDQUFDLEtBQUssTUFBTyxDQUFBLENBQUEsQ0FBQTtFQUNmLElBQUUsQ0FBQSxDQUFBLENBQUMsS0FBSyxNQUFPLENBQUEsQ0FBQSxDQUFBO0VBQ2YsSUFBRSxDQUFBLENBQUEsRUFBRSxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFDaEIsSUFBRSxDQUFBLENBQUEsRUFBRSxLQUFLLE1BQU8sQ0FBQSxDQUFBLENBQUE7RUFFaEIsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFPQSxvQkFBcUIsQ0FBQSxVQUFBLEdBQW1CLElBQUksSUFBQSxFQUFjLEVBQUE7RUFDeEQsSUFBQSxNQUFNLEtBQUssSUFBSyxDQUFBLFFBQUEsQ0FBQTtFQUVoQixJQUFBLE1BQU0sSUFBSSxVQUFXLENBQUEsUUFBQSxDQUFTLENBQUMsQ0FDN0IsRUFBQSxDQUFBLEdBQUksV0FBVyxRQUFTLENBQUEsQ0FBQyxDQUN6QixFQUFBLENBQUEsR0FBSSxXQUFXLFFBQVMsQ0FBQSxDQUFDLEdBQ3pCLENBQUksR0FBQSxVQUFBLENBQVcsU0FBUyxDQUFDLENBQUEsQ0FBQTtFQUUzQixJQUFBLE1BQU0sS0FBSyxDQUFJLEdBQUEsQ0FBQSxFQUNiLEtBQUssQ0FBSSxHQUFBLENBQUEsRUFDVCxLQUFLLENBQUksR0FBQSxDQUFBLENBQUE7RUFDWCxJQUFBLE1BQU0sS0FBSyxDQUFJLEdBQUEsRUFBQSxFQUNiLEtBQUssQ0FBSSxHQUFBLEVBQUEsRUFDVCxLQUFLLENBQUksR0FBQSxFQUFBLENBQUE7RUFDWCxJQUFBLE1BQU0sS0FBSyxDQUFJLEdBQUEsRUFBQSxFQUNiLEtBQUssQ0FBSSxHQUFBLEVBQUEsRUFDVCxLQUFLLENBQUksR0FBQSxFQUFBLENBQUE7RUFDWCxJQUFBLE1BQU0sS0FBSyxDQUFJLEdBQUEsRUFBQSxFQUNiLEtBQUssQ0FBSSxHQUFBLEVBQUEsRUFDVCxLQUFLLENBQUksR0FBQSxFQUFBLENBQUE7RUFFWCxJQUFHLEVBQUEsQ0FBQSxDQUFDLENBQUksR0FBQSxDQUFBLElBQUssRUFBSyxHQUFBLEVBQUEsQ0FBQSxDQUFBO0VBQ2xCLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxFQUFLLEdBQUEsRUFBQSxDQUFBO0VBQ2IsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEVBQUssR0FBQSxFQUFBLENBQUE7RUFFYixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksRUFBSyxHQUFBLEVBQUEsQ0FBQTtFQUNiLElBQUcsRUFBQSxDQUFBLENBQUMsQ0FBSSxHQUFBLENBQUEsSUFBSyxFQUFLLEdBQUEsRUFBQSxDQUFBLENBQUE7RUFDbEIsSUFBRyxFQUFBLENBQUEsQ0FBQyxJQUFJLEVBQUssR0FBQSxFQUFBLENBQUE7RUFFYixJQUFHLEVBQUEsQ0FBQSxDQUFDLElBQUksRUFBSyxHQUFBLEVBQUEsQ0FBQTtFQUNiLElBQUcsRUFBQSxDQUFBLENBQUMsSUFBSSxFQUFLLEdBQUEsRUFBQSxDQUFBO0VBQ2IsSUFBRyxFQUFBLENBQUEsRUFBRSxDQUFJLEdBQUEsQ0FBQSxJQUFLLEVBQUssR0FBQSxFQUFBLENBQUEsQ0FBQTtFQUVuQixJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUEsRUFTQSxNQUFPLENBQUEsR0FBQSxHQUFZLElBQUksSUFBQSxJQUFRLE1BQWUsR0FBQSxJQUFJLElBQUssRUFBQSxFQUFHLEtBQVcsSUFBSSxJQUFBLENBQUss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QUFBLEVBQUEsQ0FBQTtFQUMvQixJQUFNLE1BQUEsSUFBQSxHQUFBLENBQVEsS0FBSyxFQUFNLElBQUEsRUFBQSxDQUFBO0VBQ3pCLElBQU0sTUFBQSxJQUFBLEdBQUEsQ0FBUSxLQUFLLEVBQU0sSUFBQSxFQUFBLENBQUE7RUFDekIsSUFBTSxNQUFBLElBQUEsR0FBQSxDQUFRLEtBQUssRUFBTSxJQUFBLEVBQUEsQ0FBQTtFQUN6QixJQUFNLE1BQUEsSUFBQSxHQUFBLENBQVEsQ0FBSyxJQUFBLEVBQUEsR0FBSyxFQUFPLENBQUEsSUFBQSxFQUFBLENBQUE7RUFDL0IsSUFBTSxNQUFBLElBQUEsR0FBQSxDQUFRLEtBQUssRUFBTSxJQUFBLEVBQUEsQ0FBQTtFQUN6QixJQUFNLE1BQUEsSUFBQSxHQUFBLENBQVEsS0FBSyxFQUFNLElBQUEsRUFBQSxDQUFBO0VBQ3pCLElBQU0sTUFBQSxJQUFBLEdBQUEsQ0FBUSxLQUFLLEVBQU0sSUFBQSxFQUFBLENBQUE7RUFDekIsSUFBTSxNQUFBLEtBQUEsR0FBQSxDQUFTLENBQUssSUFBQSxFQUFBLEdBQUssRUFBTyxDQUFBLElBQUEsRUFBQSxDQUFBO0VBRWhDLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLENBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLENBQUEsQ0FBQTtFQUNaLElBQUEsTUFBQSxDQUFPLENBQUMsQ0FBSSxHQUFBLElB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QU8sQ0FBQyxDQUFBLENBQUE7RUFDbEMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUVsQyxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQSxFQU9BLEdBQUksQ0FBQSxNQUFBLEdBQWUsSUFBSSxJQUFBLEVBQWMsRUFBQTtFQUNuQyxJQUFBLElBQUEsQ0FBSyxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksSUFBSyxDQUFBLENBQUEsRUFBRyxPQUFPLENBQUMsQ0FBQSxDQUFBO0VBQ2xDLElBQUEsSUFBQSxDQUFLLElBQUksSUFBSyxDQUFBLEdBQUEsQ0FBSSxJQUFLLENBQUEsQ0FBQSxFQUFHLE9BQU8sQ0FBQyxDQUFBLENBQUE7RUFDbEMsSUFBQSxJQUFBLENBQUssSUFBSSxJQUFLLENBQUEsR0FBQSxDQUFJLElBQUssQ0FBQSxDQUFBLEVBQUcsT0FBTyxDQUFDLENBQUEsQ0FBQTtFQUVsQyxJQUFPLE9BQUEsSUFBQSxDQUFBO0VBQUEsR0FDVDtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBUUEsS0FBQSxDQUFNLE1BQVksSUFBSSxJQUFBLElBQVEsR0FBWSxHQUFBLElBQUksTUFBYyxFQUFBO0VBQzFELElBQUssSUFBQSxDQUFBLENBQUEsR0FBSSxJQUFLLENBQUEsR0FBQSxDQUFJLEdBQUksQ0FBQSxDQUFBLEVBQUcsSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxDQUFDLENBQUMsQ0FBQSxDQUFBO0VBQ2hELElBQUssSUFBQSxDQUFBLENBQUEsR0FBSSxJQUFLLENBQUEsR0FBQSxDQUFJLEdBQUksQ0FBQSxDQUFBLEVBQUcsSUFBSyxDQUFBLEdBQUEsQ0FBSSxHQUFJLENBQUEsQ0FBQSxFQUFHLElBQUssQ0FBQSxDQUFDLENBQUMsQ0FBQSxDQUFBO0VBQ2hELElBQUssSUFB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R0FBQSxFQUFBLEdBQUssQ0FBSSxHQUFBLEVBQUEsR0FBSyxJQUFJLEVBQUssR0FBQSxDQUFBLENBQUE7RUFDbEMsSUFBQSxNQUFNLEVBQUssR0FBQSxFQUFBLEdBQUssQ0FBSSxHQUFBLEVBQUEsR0FBSyxJQUFJLEVBQUssR0FBQSxDQUFBLENBQUE7RUFDbEMsSUFBQSxNQUFNLEVBQUssR0FBQSxFQUFBLEdBQUssQ0FBSSxHQUFBLEVBQUEsR0FBSyxJQUFJLEVBQUssR0FBQSxDQUFBLENBQUE7RUFDbEMsSUFBQSxNQUFNLEtBQUssQ0FBQyxFQUFBLEdBQUssQ0FBSSxHQUFBLEVBQUEsR0FBSyxJQUFJLEVBQUssR0FBQSxDQUFBLENBQUE7RUFJbkMsSUFBSyxJQUFBLENBQUEsQ0FBQSxHQUFJLEVBQUssR0FBQSxFQUFBLEdBQUssRUFBSyxHQUFBLENBQUMsS0FBSyxFQUFLLEdBQUEsQ0FBQyxFQUFLLEdBQUEsRUFBQSxHQUFLLENBQUMsRUFBQSxDQUFBO0VBQy9DLElBQUssSUFBQSxDQUFBLENBQUEsR0FBSSxFQUFLLEdBQUEsRUFBQSxHQUFLLEVBQUssR0FBQSxDQUFDLEtBQUssRUFBSyxHQUFBLENBQUMsRUFBSyxHQUFBLEVBQUEsR0FBSyxDQUFDLEVBQUEsQ0FBQTtFQUMvQyxJQUFLLElBQUEsQ0FBQSxDQUFBLEdBQUksRUFBSyxHQUFBLEVBQUEsR0FBSyxFQUFLLEdBQUEsQ0FBQyxLQUFLLEVBQUssR0FBQSxDQUFDLEVBQUssR0FBQSxFQUFBLEdBQUssQ0FBQyxFQUFBLENBQUE7RUFFL0MsSUFBTyxPQUFBLElBQUEsQ0FBQTtFQUFBLEdBQ1Q7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBO0VBQUE7RUFBQTtFQUFBLEVBU0EsY0FBQSxDQUFlLElBQU8sR0FBQSxJQUFJLElBQUssRUFBQSxFQUFHLFFBQVEsQ0FBRyxFQUFBLFVBQUEsR0FBYSxJQUFJLElBQUEsRUFBUSxFQUFBO0VBRXBFLElBQUEsT0FBTyxLQUFLLFNBQVUsQ0FBQSxVQUFBLENBQVcsZ0JBQWlCLENBQUEsSUFBQSxFQUFNLEtBQUss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QUFBLElBQUEsSUFBUyxLQUFRLEdBQUEsSUFBQSxDQUFBLENBQUE7RUFDckMsSUFBQSxNQUFNLENBQUssR0FBQSxDQUFBLEdBQUksSUFBSyxDQUFBLElBQUEsSUFBUyxHQUFNLEdBQUEsTUFBQSxDQUFBLENBQUE7RUFFbkMsSUFBTSxNQUFBLENBQUEsR0FBQSxDQUFLLEtBQVEsR0FBQSxJQUFBLEtBQVMsS0FBUSxHQUFBLElBQUEsQ0FBQSxDQUFBO0VBQ3BDLElBQU0sTUFBQSxDQUFBLEdBQUEsQ0FBSyxHQUFNLEdBQUEsTUFBQSxLQUFXLEdBQU0sR0FBQSxNQUFBLENBQUEsQ0FBQTtFQUNsQyxJQUFNLE1BQUEsQ0FBQSxHQUFJLEVBQUUsSUFBSyxDQUFBLEdBQUEsR0FBTSxLQUFLLElBQVMsQ0FBQSxJQUFBLElBQUEsQ0FBSyxNQUFNLElBQUssQ0FBQSxJQUFBLENBQUEsQ0FBQTtFQUNyRCxJQUFNLE1BQUEsQ0FBQSxHQUFLLEtBQUssSUFBSyxDQUFBLEdBQUEsR0FBTSxLQUFLLElBQVMsSUFBQSxJQUFBLENBQUssTUFBTSxJQUFLLENBQUEsSUFBQSxDQUFBLENBQUE7RUFHekQsSUFBQSxJQUFBLENBQUssZ0JBQWlCLENBQUEsR0FBQTtFQUFBLE1BQ3BCLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUNULENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUNULENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUE7RUFBQSxNQUFHLENBQUEsQ0FBQTtFQUFBLE1BQ1QsQ0FBQTtFQUFBLE1BQUcsQ0FBQTtFQUFBLE1BQUcsQ0FBQTtFQUFBLE1BQUcsQ0FBQTtFQUFBLEtBQ1gsQ0FBQTtFQUFBLEdBQ0Y7RUFDRixDQUFBO0VBblVFLElBQUEsR0FBQSxJQUFBLE9BQUEsRUFBQSxDQUFBO0VBRUEsS0FBQSxHQUFBLElBQUEsT0FBQSxFQUFBLENBQUE7RUFFQSxJQUFBLEdBQUEsSUFBQSxP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LENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQUEsS0FDMUUsTUFBQTtFQUNMLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQy9FLE1BQUEsT0FBQSxDQUFRLENBQUMsQ0FBSSxHQUFBLE1BQUEsQ0FBTyxDQUFDLENBQUEsQ0FBRSxJQUFJLElBQUssQ0FBQSxHQUFBLENBQUksQ0FBRyxFQUFBLElBQUEsQ0FBSyxJQUFJLENBQUcsRUFBQSxJQUFBLENBQUssSUFBSSxDQUFDLENBQUEsQ0FBRSxVQUFVLE1BQU0sQ0FBQSxDQUFBO0VBQUEsS0FDakY7RUFFQSxJQUFNLE1BQUEsY0FBQSxHQUFpQixJQUFJLElBQUssRUFBQSxDQUFBO0VBRWhDLElBQUEsS0FBQSxJQUFTLElBQUksQ0FBRyxFQUFBLFlBQUEsR0FBZSxRQUFRLE1BQVEsRUFBQSxDQUFBLEdB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
