{"version":3,"file":"GPUCurtainsRenderer.mjs","sources":["../../../../src/curtains/renderers/GPUCurtainsRenderer.ts"],"sourcesContent":["import { GPUCameraRenderer, GPUCameraRendererParams } from '../../core/renderers/GPUCameraRenderer'\nimport { DOMProjectedMesh } from '../../core/renderers/GPURenderer'\n\n/**\n * This renderer just extends the {@link GPUCameraRenderer} by keeping track of all the created {@link curtains/meshes/DOMMesh.DOMMesh | DOM Meshes}\n *\n * @example\n * ```javascript\n * // first, we need a WebGPU device, that's what GPUDeviceManager is for\n * const gpuDeviceManager = new GPUDeviceManager({\n *   label: 'Custom device manager',\n * })\n *\n * // we need to wait for the WebGPU device to be created\n * await gpuDeviceManager.init()\n *\n * // then we can create a curtains renderer\n * const gpuCurtainsRenderer = new GPUCurtainsRenderer({\n *   deviceManager: gpuDeviceManager, // we need the WebGPU device to create the renderer context\n *   container: document.querySelector('#canvas'),\n * })\n * ```\n */\nexport class GPUCurtainsRenderer extends GPUCameraRenderer {\n  /** All created {@link curtains/meshes/DOMMesh.DOMMesh | DOM Meshes} and {@link curtains/meshes/Plane.Plane | planes} */\n  domMeshes: DOMProjectedMesh[]\n\n  /**\n   * GPUCurtainsRenderer constructor\n   * @param parameters - {@link GPUCameraRendererParams | parameters} used to create this {@link GPUCurtainsRenderer}\n   */\n  constructor({\n    deviceManager,\n    container,\n    pixelRatio = 1,\n    preferredFormat,\n    alphaMode = 'premultiplied',\n    renderPass,\n    camera,\n  }: GPUCameraRendererParams) {\n    super({\n      deviceManager,\n      container,\n      pixelRatio,\n      preferredFormat,\n      alphaMode,\n      renderPass,\n      camera,\n    } as GPUCameraRendererParams)\n\n    this.type = 'GPUCurtainsRenderer'\n  }\n\n  /**\n   * Add the {@link GPUCurtainsRenderer#domMeshes | domMeshes} to our tracked elements\n   */\n  setRendererObjects() {\n    super.setRendererObjects()\n\n    this.domMeshes = []\n  }\n}\n"],"names":[],"mappings":";;AAuBO,MAAM,4BAA4B,iBAAkB,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQzD,WAAY,CAAA;AAAA,IACV,aAAA;AAAA,IACA,SAAA;AAAA,IACA,UAAa,GAAA,CAAA;AAAA,IACb,eAAA;AAAA,IACA,SAAY,GAAA,eAAA;AAAA,IACZ,UAAA;AAAA,IACA,MAAA;AAAA,GAC0B,EAAA;AAC1B,IAAM,KAAA,CAAA;AAAA,MACJ,aAAA;AAAA,MACA,SAAA;AAAA,MACA,UAAA;AAAA,MACA,eAAA;AAAA,MACA,SAAA;AAAA,MACA,UAAA;AAAA,MACA,MAAA;AAAA,KAC0B,CAAA,CAAA;AAE5B,IAAA,IAAA,CAAK,IAAO,GAAA,qBAAA,CAAA;AAAA,GACd;AAAA;AAAA;AAAA;AAAA,EAKA,kBAAqB,GAAA;AACnB,IAAA,KAAA,CAAM,kBAAmB,EAAA,CAAA;AAEzB,IAAA,IAAA,CAAK,YAAY,EAAC,CAAA;AAAA,GACpB;AACF;;;;"}